[{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/939922022","html_url":"https://github.com/apache/bigtop/pull/818#issuecomment-939922022","issue_url":"https://api.github.com/repos/apache/bigtop/issues/818","id":939922022,"node_id":"IC_kwDOACDj7M44BhJm","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-11T11:02:43Z","updated_at":"2021-10-11T11:02:43Z","author_association":"CONTRIBUTOR","body":"+1, tested with Ubuntu 20.04 on x86_64.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/939922022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/939924214","html_url":"https://github.com/apache/bigtop/pull/818#issuecomment-939924214","issue_url":"https://api.github.com/repos/apache/bigtop/issues/818","id":939924214,"node_id":"IC_kwDOACDj7M44Bhr2","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-11T11:05:19Z","updated_at":"2021-10-11T11:05:19Z","author_association":"CONTRIBUTOR","body":"Merged into master and branch-3.0. Thanks @iwasakims!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/939924214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/943375042","html_url":"https://github.com/apache/bigtop/pull/820#issuecomment-943375042","issue_url":"https://api.github.com/repos/apache/bigtop/issues/820","id":943375042,"node_id":"IC_kwDOACDj7M44OsLC","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-14T13:47:18Z","updated_at":"2021-10-14T13:47:18Z","author_association":"CONTRIBUTOR","body":"Tested with CentOS 7 on x86_64.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/943375042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/943828331","html_url":"https://github.com/apache/bigtop/pull/820#issuecomment-943828331","issue_url":"https://api.github.com/repos/apache/bigtop/issues/820","id":943828331,"node_id":"IC_kwDOACDj7M44Qa1r","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-14T23:09:16Z","updated_at":"2021-10-14T23:09:16Z","author_association":"CONTRIBUTOR","body":"Thanks for the comment @iwasakims.\r\n\r\n> If platforms other than aarch64 are affected, adding the diff to patch0-logstash-for-arm64.diff could be misleading.\r\n\r\nThat makes sense. I'm going to move the new line from patch0 to patch1 then merge it.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/943828331/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/943840391","html_url":"https://github.com/apache/bigtop/pull/820#issuecomment-943840391","issue_url":"https://api.github.com/repos/apache/bigtop/issues/820","id":943840391,"node_id":"IC_kwDOACDj7M44QdyH","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-14T23:34:47Z","updated_at":"2021-10-14T23:34:47Z","author_association":"CONTRIBUTOR","body":"Merged into master and branch-3.0.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/943840391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/946607134","html_url":"https://github.com/apache/bigtop/pull/821#issuecomment-946607134","issue_url":"https://api.github.com/repos/apache/bigtop/issues/821","id":946607134,"node_id":"IC_kwDOACDj7M44bBQe","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-19T10:54:54Z","updated_at":"2021-10-19T10:54:54Z","author_association":"MEMBER","body":"The same issue seemed to be reported in https://github.com/Alluxio/alluxio/issues/10515 but there was no fix there.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/946607134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/947707783","html_url":"https://github.com/apache/bigtop/pull/821#issuecomment-947707783","issue_url":"https://api.github.com/repos/apache/bigtop/issues/821","id":947707783,"node_id":"IC_kwDOACDj7M44fN-H","user":{"login":"shuaiwuyue","id":61736023,"node_id":"MDQ6VXNlcjYxNzM2MDIz","avatar_url":"https://avatars.githubusercontent.com/u/61736023?v=4","gravatar_id":"","url":"https://api.github.com/users/shuaiwuyue","html_url":"https://github.com/shuaiwuyue","followers_url":"https://api.github.com/users/shuaiwuyue/followers","following_url":"https://api.github.com/users/shuaiwuyue/following{/other_user}","gists_url":"https://api.github.com/users/shuaiwuyue/gists{/gist_id}","starred_url":"https://api.github.com/users/shuaiwuyue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuaiwuyue/subscriptions","organizations_url":"https://api.github.com/users/shuaiwuyue/orgs","repos_url":"https://api.github.com/users/shuaiwuyue/repos","events_url":"https://api.github.com/users/shuaiwuyue/events{/privacy}","received_events_url":"https://api.github.com/users/shuaiwuyue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-20T14:12:30Z","updated_at":"2021-10-20T14:12:30Z","author_association":"NONE","body":"WOWWWWWWWWWWWWWWWWWWWWWWW!\r\nVery thanks for your work!@iwasakims ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/947707783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/948787999","html_url":"https://github.com/apache/bigtop/pull/555#issuecomment-948787999","issue_url":"https://api.github.com/repos/apache/bigtop/issues/555","id":948787999,"node_id":"IC_kwDOACDj7M44jVsf","user":{"login":"dmasice","id":92940001,"node_id":"U_kgDOBYom4Q","avatar_url":"https://avatars.githubusercontent.com/u/92940001?v=4","gravatar_id":"","url":"https://api.github.com/users/dmasice","html_url":"https://github.com/dmasice","followers_url":"https://api.github.com/users/dmasice/followers","following_url":"https://api.github.com/users/dmasice/following{/other_user}","gists_url":"https://api.github.com/users/dmasice/gists{/gist_id}","starred_url":"https://api.github.com/users/dmasice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmasice/subscriptions","organizations_url":"https://api.github.com/users/dmasice/orgs","repos_url":"https://api.github.com/users/dmasice/repos","events_url":"https://api.github.com/users/dmasice/events{/privacy}","received_events_url":"https://api.github.com/users/dmasice/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-21T16:38:00Z","updated_at":"2021-10-21T16:38:00Z","author_association":"NONE","body":"Hi,\r\n\r\nI think this might be related to this issue, but if not I'll create a new one. My company is also trying to move from HDP to pure opensource and right now, I'm unable to move forward.\r\n\r\nI managed to create Debian packages for Ambari 2.7.5 and Hadoop 3.3 with Bigtop, and also managed to create an apt repository including GPG signatures.  This works as expected.  Then I tried to install Hadoop through Ambari.  First, I got an error about a missing property (stack_packages) in cluster-env.xml.  I managed to fix that by looking at our HDP cluster.\r\n\r\nAfter that, the cluster install process seems to work until it tries to install the packages for the selected services.  I'm getting the following error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/var/lib/ambari-agent/cache/stack-hooks/after-INSTALL/scripts/hook.py\", line 39, in <module>\r\n    AfterInstallHook().execute()\r\n  File \"/usr/lib/ambari-agent/lib/resource_management/libraries/script/script.py\", line 352, in execute\r\n    method(env)\r\n  File \"/var/lib/ambari-agent/cache/stack-hooks/after-INSTALL/scripts/hook.py\", line 32, in hook\r\n    setup_stack_symlinks(self.stroutfile)\r\n  File \"/var/lib/ambari-agent/cache/stack-hooks/after-INSTALL/scripts/shared_initialization.py\", line 53, in setup_stack_symlinks\r\n    stack_packages = stack_select.get_packages(stack_select.PACKAGE_SCOPE_INSTALL)\r\n  File \"/usr/lib/ambari-agent/lib/resource_management/libraries/functions/stack_select.py\", line 223, in get_packages\r\n    supported_packages = get_supported_packages()\r\n  File \"/usr/lib/ambari-agent/lib/resource_management/libraries/functions/stack_select.py\", line 147, in get_supported_packages\r\n    raise Fail(\"Unable to query for supported packages using {0}\".format(stack_selector_path))\r\nresource_management.core.exceptions.Fail: Unable to query for supported packages using /usr/bin/distro-select\r\n```\r\n\r\nThis command (distro-select) is nowhere to be found.  Poking around with HDP, it has a similar script called hdp-select, but it does not work with this (as expected).\r\n\r\nI've been inspecting those scripts (stack_select.py, shared_initialization.py, etc), but I'm a bit lost right now.\r\n\r\n@dongqiu, how did you manage to make it work?\r\n\r\nAny help would be appreciated.\r\n\r\nThanks.\r\n\r\n\r\nRegards.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/948787999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/949282368","html_url":"https://github.com/apache/bigtop/pull/822#issuecomment-949282368","issue_url":"https://api.github.com/repos/apache/bigtop/issues/822","id":949282368,"node_id":"IC_kwDOACDj7M44lOZA","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-22T04:42:23Z","updated_at":"2021-10-22T04:42:23Z","author_association":"MEMBER","body":"I tested this on Ubuntu 20.04  (x86_64) and CentOS 7 (x86_64).","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/949282368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/950628356","html_url":"https://github.com/apache/bigtop/pull/822#issuecomment-950628356","issue_url":"https://api.github.com/repos/apache/bigtop/issues/822","id":950628356,"node_id":"IC_kwDOACDj7M44qXAE","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T07:55:28Z","updated_at":"2021-10-25T07:55:28Z","author_association":"MEMBER","body":"No issue on Hbase packaging and smoke tests were passed on Ubuntu-20.04 (Arm64).\r\n\r\n+1.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/950628356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/950741300","html_url":"https://github.com/apache/bigtop/pull/822#issuecomment-950741300","issue_url":"https://api.github.com/repos/apache/bigtop/issues/822","id":950741300,"node_id":"IC_kwDOACDj7M44qyk0","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T09:55:05Z","updated_at":"2021-10-25T09:55:05Z","author_association":"MEMBER","body":"Thanks, @guyuqi. I merged this. will cherry-pick to branch-3.0.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/950741300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/954676300","html_url":"https://github.com/apache/bigtop/pull/555#issuecomment-954676300","issue_url":"https://api.github.com/repos/apache/bigtop/issues/555","id":954676300,"node_id":"IC_kwDOACDj7M445zRM","user":{"login":"aelimport","id":40298946,"node_id":"MDQ6VXNlcjQwMjk4OTQ2","avatar_url":"https://avatars.githubusercontent.com/u/40298946?v=4","gravatar_id":"","url":"https://api.github.com/users/aelimport","html_url":"https://github.com/aelimport","followers_url":"https://api.github.com/users/aelimport/followers","following_url":"https://api.github.com/users/aelimport/following{/other_user}","gists_url":"https://api.github.com/users/aelimport/gists{/gist_id}","starred_url":"https://api.github.com/users/aelimport/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aelimport/subscriptions","organizations_url":"https://api.github.com/users/aelimport/orgs","repos_url":"https://api.github.com/users/aelimport/repos","events_url":"https://api.github.com/users/aelimport/events{/privacy}","received_events_url":"https://api.github.com/users/aelimport/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-29T11:44:10Z","updated_at":"2021-10-29T13:09:01Z","author_association":"NONE","body":"Hello guys, is there also support for ubuntu20 in the mpack? I still can not deploy the stack over ambari on my ubuntu 20.04 machine, because this osFamily or osVersion ist not supported. It is also not possible to add the os version on the cluster installation over ambari (there ist still only the ubuntu18 as the only choose). Am I missing something?\r\n\r\nI get the following exception if i try to confirm the hosts:\r\n`Exception: Registration failed due to: Cannot register host with not supported os type, hostname=trshdp1.trs.local, serverOsType=ubuntu20, agentOsType=ubuntu20`\r\n\r\nAnd there is no place where I can add the repository for this os versions or something...\r\n\r\nEdit: I've got the agents registered. But on the deploy I still getting an error:\r\n\r\n`\r\nProblem accessing /api/v1/clusters/medic/hosts. Reason:\r\nOperating System matching ubuntu20 could not be found at org.apache.ambari.server.controller.AmbariManagementControllerImpl.retrieveHostRepositories(AmbariManagementControllerImpl.java:5938) at org.apache.ambari.server.agent.stomp.HostLevelParamsHolder.getCurrentDataExcludeCluster(HostLevelParamsHolder.java:79) at org.apache.ambari.server.agent.stomp.HostLevelParamsHolder.getCurrentData(HostLevelParamsHolder.java:68) at org.apache.ambari.server.controller.AmbariManagementControllerImpl.getAddedComponentsTopologyEvent(AmbariManagementControllerImpl.java:817) at org.apache.ambari.server.controller.AmbariManagementControllerImpl.createHostComponents(AmbariManagementControllerImpl.java:711) at \r\n...`","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/954676300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/958021927","html_url":"https://github.com/apache/bigtop/pull/555#issuecomment-958021927","issue_url":"https://api.github.com/repos/apache/bigtop/issues/555","id":958021927,"node_id":"IC_kwDOACDj7M45GkEn","user":{"login":"dongqiu","id":1827192,"node_id":"MDQ6VXNlcjE4MjcxOTI=","avatar_url":"https://avatars.githubusercontent.com/u/1827192?v=4","gravatar_id":"","url":"https://api.github.com/users/dongqiu","html_url":"https://github.com/dongqiu","followers_url":"https://api.github.com/users/dongqiu/followers","following_url":"https://api.github.com/users/dongqiu/following{/other_user}","gists_url":"https://api.github.com/users/dongqiu/gists{/gist_id}","starred_url":"https://api.github.com/users/dongqiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongqiu/subscriptions","organizations_url":"https://api.github.com/users/dongqiu/orgs","repos_url":"https://api.github.com/users/dongqiu/repos","events_url":"https://api.github.com/users/dongqiu/events{/privacy}","received_events_url":"https://api.github.com/users/dongqiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-02T18:30:03Z","updated_at":"2021-11-02T18:30:03Z","author_association":"NONE","body":"@dmasice , we managed install Hadoop 3.3 + zookeeper and get pass the distro-select issue by creating our own MPack and modifying hdp-select package, the hdp-select is a bundle of py scripts that creating symlinks for distro. we are currently working on mpack changes for installing bigtop 3.0 rpms in centOS cluster. will be happy to share if there is interests in open source community. ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/958021927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/958610773","html_url":"https://github.com/apache/bigtop/pull/824#issuecomment-958610773","issue_url":"https://api.github.com/repos/apache/bigtop/issues/824","id":958610773,"node_id":"IC_kwDOACDj7M45Iz1V","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T02:45:29Z","updated_at":"2021-11-03T02:45:29Z","author_association":"MEMBER","body":"Successfully deploy hdfs, mapreduce2, Yarn , zookeeper services on Centos-7.\r\n\r\n![ambari-version](https://user-images.githubusercontent.com/20575685/140003276-3b3cd028-3677-49ab-9f1f-54e7e1f4953a.png)\r\n\r\n\r\n![services](https://user-images.githubusercontent.com/20575685/140003294-2db47a7b-2636-49f8-aca3-3568b02d9621.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/958610773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/958811229","html_url":"https://github.com/apache/bigtop/pull/555#issuecomment-958811229","issue_url":"https://api.github.com/repos/apache/bigtop/issues/555","id":958811229,"node_id":"IC_kwDOACDj7M45Jkxd","user":{"login":"andrewvaliev","id":47063352,"node_id":"MDQ6VXNlcjQ3MDYzMzUy","avatar_url":"https://avatars.githubusercontent.com/u/47063352?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewvaliev","html_url":"https://github.com/andrewvaliev","followers_url":"https://api.github.com/users/andrewvaliev/followers","following_url":"https://api.github.com/users/andrewvaliev/following{/other_user}","gists_url":"https://api.github.com/users/andrewvaliev/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewvaliev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewvaliev/subscriptions","organizations_url":"https://api.github.com/users/andrewvaliev/orgs","repos_url":"https://api.github.com/users/andrewvaliev/repos","events_url":"https://api.github.com/users/andrewvaliev/events{/privacy}","received_events_url":"https://api.github.com/users/andrewvaliev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T10:10:43Z","updated_at":"2021-11-03T10:10:43Z","author_association":"NONE","body":"Where can I find this mpak?\nThanks.\n\n\nAndrew\n\nОтправлено с iPhone\n\n> 2 нояб. 2021 г., в 22:30, Tony Qiu ***@***.***> написал(а):\n> \n> ﻿\n> @dmasice , we managed install Hadoop 3.3 + zookeeper and get pass the distro-select issue by creating our own MPack and modifying hdp-select package, the hdp-select is a bundle of py scripts that creating symlinks for distro. we are currently working on mpack changes for installing bigtop 3.0 rpms in centOS cluster. will be happy to share if there is interests in open source community.\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or unsubscribe.\n> Triage notifications on the go with GitHub Mobile for iOS or Android. \n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/958811229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/958828650","html_url":"https://github.com/apache/bigtop/pull/555#issuecomment-958828650","issue_url":"https://api.github.com/repos/apache/bigtop/issues/555","id":958828650,"node_id":"IC_kwDOACDj7M45JpBq","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T10:18:52Z","updated_at":"2021-11-03T10:18:52Z","author_association":"MEMBER","body":"@andrewvaliev \r\nAfter upgrading Ambari to 2.7.5, it failed to install the services from the Bigtop-Mpack.\r\nThe PR #824 is to upgrade Bigtop-Mpack services deploying scripts and fix the related issues.\r\n\r\nYou could get the Mpack by building `bigtop-ambari-mpack` target from Bigtop.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/958828650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/960369257","html_url":"https://github.com/apache/bigtop/pull/825#issuecomment-960369257","issue_url":"https://api.github.com/repos/apache/bigtop/issues/825","id":960369257,"node_id":"IC_kwDOACDj7M45PhJp","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T01:52:38Z","updated_at":"2021-11-04T01:52:38Z","author_association":"MEMBER","body":"Successfully build Ambari on centos-7 and ubuntu20 and smoke tests also were passed. ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/960369257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/961608556","html_url":"https://github.com/apache/bigtop/pull/826#issuecomment-961608556","issue_url":"https://api.github.com/repos/apache/bigtop/issues/826","id":961608556,"node_id":"IC_kwDOACDj7M45UPts","user":{"login":"cdyo","id":25836720,"node_id":"MDQ6VXNlcjI1ODM2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/25836720?v=4","gravatar_id":"","url":"https://api.github.com/users/cdyo","html_url":"https://github.com/cdyo","followers_url":"https://api.github.com/users/cdyo/followers","following_url":"https://api.github.com/users/cdyo/following{/other_user}","gists_url":"https://api.github.com/users/cdyo/gists{/gist_id}","starred_url":"https://api.github.com/users/cdyo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdyo/subscriptions","organizations_url":"https://api.github.com/users/cdyo/orgs","repos_url":"https://api.github.com/users/cdyo/repos","events_url":"https://api.github.com/users/cdyo/events{/privacy}","received_events_url":"https://api.github.com/users/cdyo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T03:55:14Z","updated_at":"2021-11-05T03:55:14Z","author_association":"CONTRIBUTOR","body":"1. The Alluxio Web cannot be accessed,the WEB UI module is missing in the RPM package;\r\n2. Failed to create the alluxio user,because the var_lib_alluxio variable was not defined;","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/961608556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/961618001","html_url":"https://github.com/apache/bigtop/pull/826#issuecomment-961618001","issue_url":"https://api.github.com/repos/apache/bigtop/issues/826","id":961618001,"node_id":"IC_kwDOACDj7M45USBR","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T04:23:11Z","updated_at":"2021-11-05T04:23:11Z","author_association":"MEMBER","body":"@cdyo Thanks for your contribution. \r\nCould please create a Jira ticket to help to track the issue and change the PR title linked to the related ticket? Thanks.\r\n`https://issues.apache.org/jira/projects/BIGTOP/issues`","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/961618001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/962409585","html_url":"https://github.com/apache/bigtop/pull/824#issuecomment-962409585","issue_url":"https://api.github.com/repos/apache/bigtop/issues/824","id":962409585,"node_id":"IC_kwDOACDj7M45XTRx","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T07:06:56Z","updated_at":"2021-11-06T07:06:56Z","author_association":"MEMBER","body":"I got following on starting up YARN daemons via Ambari.\r\n\r\n```\r\n...\r\nWARNING: YARN_LOG_DIR has been replaced by HADOOP_LOG_DIR. Using value of YARN_LOG_DIR.\r\nWARNING: YARN_LOGFILE has been replaced by HADOOP_LOGFILE. Using value of YARN_LOGFILE.\r\nWARNING: YARN_PID_DIR has been replaced by HADOOP_PID_DIR. Using value of YARN_PID_DIR.\r\nWARNING: YARN_OPTS has been replaced by HADOOP_OPTS. Using value of YARN_OPTS.\r\nWARNING: Use of this script to start the MR JobHistory daemon is deprecated.\r\nWARNING: Attempting to execute replacement \"mapred --daemon start\" instead.\r\nERROR: Cannot find configuration directory \"/usr/lib/hadoop-yarn/conf\"\r\nUsage: mapred [OPTIONS] SUBCOMMAND [SUBCOMMAND OPTIONS]\r\n or    mapred [OPTIONS] CLASSNAME [CLASSNAME OPTIONS]\r\n  where CLASSNAME is a user-provided Java class\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/962409585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/962443593","html_url":"https://github.com/apache/bigtop/pull/826#issuecomment-962443593","issue_url":"https://api.github.com/repos/apache/bigtop/issues/826","id":962443593,"node_id":"IC_kwDOACDj7M45XblJ","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T12:20:55Z","updated_at":"2021-11-06T12:20:55Z","author_association":"MEMBER","body":"I merged this. Thanks for the contribution, @cdyo.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/962443593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/962747843","html_url":"https://github.com/apache/bigtop/pull/824#issuecomment-962747843","issue_url":"https://api.github.com/repos/apache/bigtop/issues/824","id":962747843,"node_id":"IC_kwDOACDj7M45Yl3D","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T02:04:21Z","updated_at":"2021-11-08T02:04:21Z","author_association":"MEMBER","body":"> Thanks for working on this, @guyuqi. I tested this on CentOS 7 container. I used local Repository (file:///bigtop-home/output) in the container on wizard of Ambari. While ZooKeeper and HDFS are deployed, I got error on starting YARN services.\r\n> \r\n> I think we should merge this first then address error, nits and platforms other than CentOS 7 in follow-up JIRAs.\r\n> \r\n> ```\r\n> $ cd provisioner/docker\r\n> $ ./docker-hadoop.sh --create 1 --image bigtop/puppet:trunk-centos-7 --memory 16g --repo file:///bigtop-home/output --disable-gpg-check --stack ambari\r\n> $ ./docker-hadoop.sh --exec 1 /bin/bash\r\n> # yum install bigtop-ambari-mpack\r\n> # ambari-server install-mpack --mpack=/usr/lib/bigtop-ambari-mpack/bgtp-ambari-mpack-1.0.0.0-SNAPSHOT-bgtp-ambari-mpack.tar.gz\r\n> # systemctl restart ambari-server ambari-agent\r\n> \r\n> (creating cluster by Ambari Web-UI using browser...)\r\n> ```\r\n\r\n@iwasakims Thank you for reviewing this PR. \r\nI tested it in three independent virtual machines and deployed Hadoop 2.10 by Ambari Web UI with Bigtop repo like `http://repos.bigtop.apache.org/releases/1.5.0/ubuntu/18.04/x86_64`.\r\nIt maybe the issue for deploying Hadoop 3.\r\n\r\nAgree that let's merge it and then address the subsequent issues, thanks.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/962747843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/966079798","html_url":"https://github.com/apache/bigtop/pull/555#issuecomment-966079798","issue_url":"https://api.github.com/repos/apache/bigtop/issues/555","id":966079798,"node_id":"IC_kwDOACDj7M45lTU2","user":{"login":"THISisZOLI","id":29353830,"node_id":"MDQ6VXNlcjI5MzUzODMw","avatar_url":"https://avatars.githubusercontent.com/u/29353830?v=4","gravatar_id":"","url":"https://api.github.com/users/THISisZOLI","html_url":"https://github.com/THISisZOLI","followers_url":"https://api.github.com/users/THISisZOLI/followers","following_url":"https://api.github.com/users/THISisZOLI/following{/other_user}","gists_url":"https://api.github.com/users/THISisZOLI/gists{/gist_id}","starred_url":"https://api.github.com/users/THISisZOLI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/THISisZOLI/subscriptions","organizations_url":"https://api.github.com/users/THISisZOLI/orgs","repos_url":"https://api.github.com/users/THISisZOLI/repos","events_url":"https://api.github.com/users/THISisZOLI/events{/privacy}","received_events_url":"https://api.github.com/users/THISisZOLI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T08:13:46Z","updated_at":"2021-11-11T08:13:46Z","author_association":"NONE","body":"@dongqiu Hi, I would be very interested in what changes you made to the hdp-select package to make it work with the Bigtop-Mpack. Is there any way you can share it with us in any details, or even share your distro-select source code with us?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/966079798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/966841477","html_url":"https://github.com/apache/bigtop/pull/827#issuecomment-966841477","issue_url":"https://api.github.com/repos/apache/bigtop/issues/827","id":966841477,"node_id":"IC_kwDOACDj7M45oNSF","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T05:50:47Z","updated_at":"2021-11-12T05:50:47Z","author_association":"MEMBER","body":"I ran smoke-tests of zookeeper on CentOS 8 (x86_64) and Ubuntu 18.04 (x86_64).","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/966841477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/966841835","html_url":"https://github.com/apache/bigtop/pull/827#issuecomment-966841835","issue_url":"https://api.github.com/repos/apache/bigtop/issues/827","id":966841835,"node_id":"IC_kwDOACDj7M45oNXr","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-12T05:51:49Z","updated_at":"2021-11-12T05:51:49Z","author_association":"MEMBER","body":"I got following error on starting zookeeper-server on Fedora 33. I will push additional commit if I can fix this shortly.\r\n\r\n```\r\n[root@d0f55e8a6312 /]# systemctl start zookeeper-server\r\nFailed to connect to bus: No such file or directory\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/966841835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/967786562","html_url":"https://github.com/apache/bigtop/pull/827#issuecomment-967786562","issue_url":"https://api.github.com/repos/apache/bigtop/issues/827","id":967786562,"node_id":"IC_kwDOACDj7M45r0BC","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-13T05:38:48Z","updated_at":"2021-11-13T05:38:48Z","author_association":"MEMBER","body":"> Failed to connect to bus: No such file or directory\r\n\r\nI got the above when I provisioned fedora-33 container on fedora-33. I got no issue on using ubuntu-18.04 as hosting environment. It should be my docker setup issue on Fedora 33.\r\n\r\n```\r\n$ cat /etc/os-release | grep VERSION=\r\nVERSION=\"18.04.3 LTS (Bionic Beaver)\"\r\n\r\n$ ./gradlew bigtop-groovy-pkg-ind bigtop-jsvc-pkg-ind bigtop-utils-pkg-ind zookeeper-pkg-ind repo-ind -POS=fedora-33 -Pprefix=trunk\r\n$ cd provisioner/docker\r\n$ rm config.yaml\r\n$ ./docker-hadoop.sh --create 1 --image bigtop/puppet:trunk-fedora-33 --memory 8g --repo file:///bigtop-home/output --disable-gpg-check --stack zookeeper --smoke-tests zookeeper\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/967786562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/969620359","html_url":"https://github.com/apache/bigtop/pull/827#issuecomment-969620359","issue_url":"https://api.github.com/repos/apache/bigtop/issues/827","id":969620359,"node_id":"IC_kwDOACDj7M45yzuH","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T01:31:22Z","updated_at":"2021-11-16T01:31:22Z","author_association":"MEMBER","body":"LGTM, +1","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/969620359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/969738447","html_url":"https://github.com/apache/bigtop/pull/827#issuecomment-969738447","issue_url":"https://api.github.com/repos/apache/bigtop/issues/827","id":969738447,"node_id":"IC_kwDOACDj7M45zQjP","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T02:48:37Z","updated_at":"2021-11-16T02:48:37Z","author_association":"MEMBER","body":"Thanks, @guyuqi. I merged this.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/969738447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/969846506","html_url":"https://github.com/apache/bigtop/pull/830#issuecomment-969846506","issue_url":"https://api.github.com/repos/apache/bigtop/issues/830","id":969846506,"node_id":"IC_kwDOACDj7M45zq7q","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T04:24:53Z","updated_at":"2021-11-16T04:24:53Z","author_association":"MEMBER","body":"I got no issue on running smoke-tests of hbase on CentOS 8 x86_64. (We need the fix of https://github.com/apache/bigtop/pull/828 to to build Hadoop in current master branch.)\r\n\r\n```\r\n$ ./docker-hadoop.sh \\\r\n  --create 3 \\\r\n  --image bigtop/puppet:trunk-centos-8 \\\r\n  --memory 8g \\\r\n  --repo file:///bigtop-home/output \\\r\n  --disable-gpg-check \\\r\n  --stack hdfs,yarn,mapreduce,hbase \\\r\n  --smoke-tests hbase\r\n...\r\n:bigtop-tests:smoke-tests:hbase:test (Thread[Execution worker for ':' Thread 3,5,main]) completed. Took 3 mins 37.721 secs.\r\n\r\nBUILD SUCCESSFUL in 4m 57s\r\n36 actionable tasks: 9 executed, 27 up-to-date\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/969846506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/969858255","html_url":"https://github.com/apache/bigtop/pull/718#issuecomment-969858255","issue_url":"https://api.github.com/repos/apache/bigtop/issues/718","id":969858255,"node_id":"IC_kwDOACDj7M45ztzP","user":{"login":"tasanuma","id":11712443,"node_id":"MDQ6VXNlcjExNzEyNDQz","avatar_url":"https://avatars.githubusercontent.com/u/11712443?v=4","gravatar_id":"","url":"https://api.github.com/users/tasanuma","html_url":"https://github.com/tasanuma","followers_url":"https://api.github.com/users/tasanuma/followers","following_url":"https://api.github.com/users/tasanuma/following{/other_user}","gists_url":"https://api.github.com/users/tasanuma/gists{/gist_id}","starred_url":"https://api.github.com/users/tasanuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tasanuma/subscriptions","organizations_url":"https://api.github.com/users/tasanuma/orgs","repos_url":"https://api.github.com/users/tasanuma/repos","events_url":"https://api.github.com/users/tasanuma/events{/privacy}","received_events_url":"https://api.github.com/users/tasanuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T04:52:37Z","updated_at":"2021-11-16T04:52:37Z","author_association":"MEMBER","body":"There's something I'd like to ask. Is there any reason that it had to apply HIVE-21569 and upgrade guava version of Hive?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/969858255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/970071974","html_url":"https://github.com/apache/bigtop/pull/718#issuecomment-970071974","issue_url":"https://api.github.com/repos/apache/bigtop/issues/718","id":970071974,"node_id":"IC_kwDOACDj7M450h-m","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T09:14:48Z","updated_at":"2021-11-16T09:14:48Z","author_association":"MEMBER","body":"@tasanuma\r\nremoving the patch causes the following compilation error.\r\n\r\n```\r\n$ git checkout rel/3.0.0\r\n$ rm bigtop-packages/src/common/hive/patch3-HIVE-21569.diff\r\n$ ./gradlew hive-clean hive-pkg\r\n...\r\n+ mvn -Dhbase.version=2.2.6 -Dzookeeper.version=3.4.14 -Dhadoop.version=3.2.2 -DskipTests -Dtez.version=0.10.0 -Dspark.version=3.0.1 -Dscala.binary.version=2.12 -Dscala.version=2.12.13 -Dguava.version=27.0-jre clean install -Pdist\r\n...\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project hive-llap-common: Compilation failure: Compilation failure:\r\n[ERROR] /home/centos/srcs/bigtop/build/hive/rpm/BUILD/apache-hive-3.1.2-src/llap-common/src/java/org/apache/hadoop/hive/llap/AsyncPbRpcProxy.java:[173,16] method addCallback in class com.google.common.util.concurrent.Futures cannot be applied to given types;\r\n[ERROR]   required: com.google.common.util.concurrent.ListenableFuture<V>,com.google.common.util.concurrent.FutureCallback<? super V>,java.util.concurrent.Executor\r\n[ERROR]   found: com.google.common.util.concurrent.ListenableFuture<U>,org.apache.hadoop.hive.llap.AsyncPbRpcProxy.ResponseCallback<U>\r\n[ERROR]   reason: cannot infer type-variable(s) V\r\n[ERROR]     (actual and formal argument lists differ in length)\r\n[ERROR] /home/centos/srcs/bigtop/build/hive/rpm/BUILD/apache-hive-3.1.2-src/llap-common/src/java/org/apache/hadoop/hive/llap/AsyncPbRpcProxy.java:[274,12] method addCallback in class com.google.common.util.concurrent.Futures cannot be applied to given types;\r\n[ERROR]   required: com.google.common.util.concurrent.ListenableFuture<V>,com.google.common.util.concurrent.FutureCallback<? super V>,java.util.concurrent.Executor\r\n[ERROR]   found: com.google.common.util.concurrent.ListenableFuture<java.lang.Void>,<anonymous com.google.common.util.concurrent.FutureCallback<java.lang.Void>>\r\n[ERROR]   reason: cannot infer type-variable(s) V\r\n[ERROR]     (actual and formal argument lists differ in length)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/970071974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/970176470","html_url":"https://github.com/apache/bigtop/pull/718#issuecomment-970176470","issue_url":"https://api.github.com/repos/apache/bigtop/issues/718","id":970176470,"node_id":"IC_kwDOACDj7M4507fW","user":{"login":"tasanuma","id":11712443,"node_id":"MDQ6VXNlcjExNzEyNDQz","avatar_url":"https://avatars.githubusercontent.com/u/11712443?v=4","gravatar_id":"","url":"https://api.github.com/users/tasanuma","html_url":"https://github.com/tasanuma","followers_url":"https://api.github.com/users/tasanuma/followers","following_url":"https://api.github.com/users/tasanuma/following{/other_user}","gists_url":"https://api.github.com/users/tasanuma/gists{/gist_id}","starred_url":"https://api.github.com/users/tasanuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tasanuma/subscriptions","organizations_url":"https://api.github.com/users/tasanuma/orgs","repos_url":"https://api.github.com/users/tasanuma/repos","events_url":"https://api.github.com/users/tasanuma/events{/privacy}","received_events_url":"https://api.github.com/users/tasanuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T11:24:22Z","updated_at":"2021-11-16T11:24:22Z","author_association":"MEMBER","body":"@iwasakims Thank you for your quick reply. It seems that the `-Dguava.version=27.0-jre` option is the cause of the compilation failure. So, is `HIVE-21569.diff` required because of #763?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/970176470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/970357889","html_url":"https://github.com/apache/bigtop/pull/718#issuecomment-970357889","issue_url":"https://api.github.com/repos/apache/bigtop/issues/718","id":970357889,"node_id":"IC_kwDOACDj7M451nyB","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T15:00:32Z","updated_at":"2021-11-16T15:00:32Z","author_association":"MEMBER","body":"@tasanuma Removing `-Dguava.version=27.0-jre` fixed the compilation error and caused failure of starting up Hive Metastore server. I guess @sekiken needed the patch3-HIVE-21569.diff for this.\r\n\r\n```\r\n[root@de21f85aaab5 /]# cat /var/log/hive/hive-metastore.out\r\n2021-11-16 14:47:07: Starting Hive Metastore Server\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/usr/lib/hive/lib/log4j-slf4j-impl-2.10.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/usr/lib/hadoop/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\nException in thread \"main\" java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;)V\r\n        at org.apache.hadoop.conf.Configuration.set(Configuration.java:1357)\r\n        at org.apache.hadoop.conf.Configuration.set(Configuration.java:1338)\r\n        at org.apache.hadoop.hive.metastore.conf.MetastoreConf.lambda$newMetastoreConf$1(MetastoreConf.java:1191)\r\n        at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n        at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\r\n        at java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n        at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n        at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n        at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\r\n        at org.apache.hadoop.hive.metastore.conf.MetastoreConf.newMetastoreConf(MetastoreConf.java:1188)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.main(HiveMetaStore.java:8770)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.hadoop.util.RunJar.run(RunJar.java:323)\r\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/970357889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/971024683","html_url":"https://github.com/apache/bigtop/pull/718#issuecomment-971024683","issue_url":"https://api.github.com/repos/apache/bigtop/issues/718","id":971024683,"node_id":"IC_kwDOACDj7M454Kkr","user":{"login":"tasanuma","id":11712443,"node_id":"MDQ6VXNlcjExNzEyNDQz","avatar_url":"https://avatars.githubusercontent.com/u/11712443?v=4","gravatar_id":"","url":"https://api.github.com/users/tasanuma","html_url":"https://github.com/tasanuma","followers_url":"https://api.github.com/users/tasanuma/followers","following_url":"https://api.github.com/users/tasanuma/following{/other_user}","gists_url":"https://api.github.com/users/tasanuma/gists{/gist_id}","starred_url":"https://api.github.com/users/tasanuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tasanuma/subscriptions","organizations_url":"https://api.github.com/users/tasanuma/orgs","repos_url":"https://api.github.com/users/tasanuma/repos","events_url":"https://api.github.com/users/tasanuma/events{/privacy}","received_events_url":"https://api.github.com/users/tasanuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-17T01:21:26Z","updated_at":"2021-11-17T01:21:26Z","author_association":"MEMBER","body":"@iwasakims  Thank you for the confirmation! Now I got it. Since it specifies `-Dhadoop.version=3.2.2`, it also needs to conform to the guava version of hadoop-3.2.2, or such problems will occur.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/971024683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/971554845","html_url":"https://github.com/apache/bigtop/pull/831#issuecomment-971554845","issue_url":"https://api.github.com/repos/apache/bigtop/issues/831","id":971554845,"node_id":"IC_kwDOACDj7M456MAd","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-17T12:58:22Z","updated_at":"2021-11-17T12:58:22Z","author_association":"MEMBER","body":"Since we do not have puppet manifests and smoke-tests of Phoenix, I manually tested this like https://github.com/apache/bigtop/pull/733.\r\n\r\n```\r\n$ ./gradlew phoenix-clean phoenix-pkg repo\r\n$ cd provisioner/docker\r\n$ ./docker-hadoop.sh --create 1 --image bigtop/puppet:trunk-centos-8 --memory 16g --repo file:///bigtop-home/output --disable-gpg-check --stack hdfs,yarn,mapreduce,hbase\r\n$ ./docker-hadoop.sh --exec 1 /bin/bash\r\n[root@fc569b78dd69 /]# yum install -y phoenix python3\r\n[root@fc569b78dd69 /]# ln -s /usr/lib/phoenix/phoenix-server.jar /usr/lib/hbase/lib/phoenix-server.jar\r\n[root@fc569b78dd69 /]# systemctl restart hbase-master hbase-regionserver\r\n[root@fc569b78dd69 /]# python3 /usr/lib/phoenix/bin/psql.py /usr/share/doc/phoenix-5.1.2/examples/STOCK_SYMBOL.sql /usr/share/doc/phoenix-5.1.2/examples/STOCK_SYMBOL.csv\r\n[root@fc569b78dd69 /]# python3 /usr/lib/phoenix/bin/sqlline.py\r\n0: jdbc:phoenix:> SELECT * FROM stock_symbol;\r\n+--------+----------------------+\r\n| SYMBOL |       COMPANY        |\r\n+--------+----------------------+\r\n| AAPL   | APPLE Inc.           |\r\n| CRM    | SALESFORCE           |\r\n| GOOG   | Google               |\r\n| HOG    | Harlet-Davidson Inc. |\r\n| HPQ    | Hewlett Packard      |\r\n| INTC   | Intel                |\r\n| MSFT   | Microsoft            |\r\n| WAG    | Walgreens            |\r\n| WMT    | Walmart              |\r\n+--------+----------------------+\r\n9 rows selected (0.046 seconds)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/971554845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972681305","html_url":"https://github.com/apache/bigtop/pull/832#issuecomment-972681305","issue_url":"https://api.github.com/repos/apache/bigtop/issues/832","id":972681305,"node_id":"IC_kwDOACDj7M45-fBZ","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-18T09:21:42Z","updated_at":"2021-11-18T09:21:42Z","author_association":"MEMBER","body":"The kafka-server package assumes services are controlled by systemd. The tests should not directly call scripts such as kafka-server-start.sh and kafka-server-stop.sh","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972681305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972683358","html_url":"https://github.com/apache/bigtop/pull/832#issuecomment-972683358","issue_url":"https://api.github.com/repos/apache/bigtop/issues/832","id":972683358,"node_id":"IC_kwDOACDj7M45-fhe","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-18T09:24:00Z","updated_at":"2021-11-18T09:24:00Z","author_association":"MEMBER","body":"We need both zookeeper and kafka in the value of `--stack` for running smoke-tests by docker-provisioner like:\r\n\r\n```\r\n$ ./docker-hadoop.sh --create 1 --image bigtop/puppet:trunk-centos-8 --memory 16g --repo file:///bigtop-home/output --disable-gpg-check --stack zookeeper,kafka --smoke-tests kafka\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972683358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972689754","html_url":"https://github.com/apache/bigtop/pull/555#issuecomment-972689754","issue_url":"https://api.github.com/repos/apache/bigtop/issues/555","id":972689754,"node_id":"IC_kwDOACDj7M45-hFa","user":{"login":"dmasice","id":92940001,"node_id":"U_kgDOBYom4Q","avatar_url":"https://avatars.githubusercontent.com/u/92940001?v=4","gravatar_id":"","url":"https://api.github.com/users/dmasice","html_url":"https://github.com/dmasice","followers_url":"https://api.github.com/users/dmasice/followers","following_url":"https://api.github.com/users/dmasice/following{/other_user}","gists_url":"https://api.github.com/users/dmasice/gists{/gist_id}","starred_url":"https://api.github.com/users/dmasice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmasice/subscriptions","organizations_url":"https://api.github.com/users/dmasice/orgs","repos_url":"https://api.github.com/users/dmasice/repos","events_url":"https://api.github.com/users/dmasice/events{/privacy}","received_events_url":"https://api.github.com/users/dmasice/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-18T09:31:45Z","updated_at":"2021-11-18T09:31:45Z","author_association":"NONE","body":"> @dmasice , we managed install Hadoop 3.3 + zookeeper and get pass the distro-select issue by creating our own MPack and modifying hdp-select package, the hdp-select is a bundle of py scripts that creating symlinks for distro.\r\n\r\nYes, that's what we're trying to do.  After some tweaks, the packages install phase still gives some warnings and fails to install some packages.  As a workaround, we are preinstalling the packages and that seems to be enough for now, as the process seems to work fine from there, so thats a step forward.\r\n\r\n> we are currently working on mpack changes for installing bigtop 3.0 rpms in centOS cluster. will be happy to share if there is interests in open source community.\r\n\r\nWe started with a version a few commits back from 3.0, so that's something I still need to try.  We're also using Debian 11 instead of CentOS.  Our stack also requires NiFi and Kafka, so we're also working on packaging NiFi, as that's not part of Bigtop.  As a proof of concept it seems to be working.\r\n\r\nI'm looking forward to try the new version and all those changes I've seen to get it working with Ambari 2.7.5.\r\n\r\nRegards.\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972689754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972866088","html_url":"https://github.com/apache/bigtop/pull/555#issuecomment-972866088","issue_url":"https://api.github.com/repos/apache/bigtop/issues/555","id":972866088,"node_id":"IC_kwDOACDj7M45_MIo","user":{"login":"mattAndruff","id":26882428,"node_id":"MDQ6VXNlcjI2ODgyNDI4","avatar_url":"https://avatars.githubusercontent.com/u/26882428?v=4","gravatar_id":"","url":"https://api.github.com/users/mattAndruff","html_url":"https://github.com/mattAndruff","followers_url":"https://api.github.com/users/mattAndruff/followers","following_url":"https://api.github.com/users/mattAndruff/following{/other_user}","gists_url":"https://api.github.com/users/mattAndruff/gists{/gist_id}","starred_url":"https://api.github.com/users/mattAndruff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattAndruff/subscriptions","organizations_url":"https://api.github.com/users/mattAndruff/orgs","repos_url":"https://api.github.com/users/mattAndruff/repos","events_url":"https://api.github.com/users/mattAndruff/events{/privacy}","received_events_url":"https://api.github.com/users/mattAndruff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-18T13:28:32Z","updated_at":"2021-11-18T13:28:32Z","author_association":"NONE","body":"@dmasice - depending on what you need installed their is actually a way to specify it as part of the service you are installing.\r\nYou can see [here](https://github.com/mattAndruff/bigtop-mpack/commit/f281b8aa58577f59fc3e35438625a087fefc8ff8#diff-fc1d83fb748004bc998e91df4a96cc86492bc07239663cbbb23af1777b109a40). Me adding a fix to install the correct libraries for mysql/mariadb.  This is where you should configure the libraries you need installed.\r\nThere actually already is a seperate MPAck for Nifi, (I'm not sure if this is what you are refering to or not.)","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972866088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972867214","html_url":"https://github.com/apache/bigtop/pull/555#issuecomment-972867214","issue_url":"https://api.github.com/repos/apache/bigtop/issues/555","id":972867214,"node_id":"IC_kwDOACDj7M45_MaO","user":{"login":"mattAndruff","id":26882428,"node_id":"MDQ6VXNlcjI2ODgyNDI4","avatar_url":"https://avatars.githubusercontent.com/u/26882428?v=4","gravatar_id":"","url":"https://api.github.com/users/mattAndruff","html_url":"https://github.com/mattAndruff","followers_url":"https://api.github.com/users/mattAndruff/followers","following_url":"https://api.github.com/users/mattAndruff/following{/other_user}","gists_url":"https://api.github.com/users/mattAndruff/gists{/gist_id}","starred_url":"https://api.github.com/users/mattAndruff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattAndruff/subscriptions","organizations_url":"https://api.github.com/users/mattAndruff/orgs","repos_url":"https://api.github.com/users/mattAndruff/repos","events_url":"https://api.github.com/users/mattAndruff/events{/privacy}","received_events_url":"https://api.github.com/users/mattAndruff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-18T13:29:59Z","updated_at":"2021-11-18T13:29:59Z","author_association":"NONE","body":"> @dmasice , we managed install Hadoop 3.3 + zookeeper and get pass the distro-select issue by creating our own MPack and modifying hdp-select package, the hdp-select is a bundle of py scripts that creating symlinks for distro. we are currently working on mpack changes for installing bigtop 3.0 rpms in centOS cluster. will be happy to share if there is interests in open source community.\r\n\r\nI'm totally interested in this and would appreciate you posting the github if you can.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972867214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972892652","html_url":"https://github.com/apache/bigtop/pull/555#issuecomment-972892652","issue_url":"https://api.github.com/repos/apache/bigtop/issues/555","id":972892652,"node_id":"IC_kwDOACDj7M45_Sns","user":{"login":"dmasice","id":92940001,"node_id":"U_kgDOBYom4Q","avatar_url":"https://avatars.githubusercontent.com/u/92940001?v=4","gravatar_id":"","url":"https://api.github.com/users/dmasice","html_url":"https://github.com/dmasice","followers_url":"https://api.github.com/users/dmasice/followers","following_url":"https://api.github.com/users/dmasice/following{/other_user}","gists_url":"https://api.github.com/users/dmasice/gists{/gist_id}","starred_url":"https://api.github.com/users/dmasice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmasice/subscriptions","organizations_url":"https://api.github.com/users/dmasice/orgs","repos_url":"https://api.github.com/users/dmasice/repos","events_url":"https://api.github.com/users/dmasice/events{/privacy}","received_events_url":"https://api.github.com/users/dmasice/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-18T14:02:23Z","updated_at":"2021-11-18T14:02:23Z","author_association":"NONE","body":"\r\n> @dmasice - depending on what you need installed their is actually a way to specify it as part of the service you are installing. You can see [here](https://github.com/mattAndruff/bigtop-mpack/commit/f281b8aa58577f59fc3e35438625a087fefc8ff8#diff-fc1d83fb748004bc998e91df4a96cc86492bc07239663cbbb23af1777b109a40). Me adding a fix to install the correct libraries for mysql/mariadb. This is where you should configure the libraries you need installed.\r\n\r\nThanks @mattAndruff, I'll check it out :-)\r\n\r\n> There actually already is a seperate MPAck for Nifi, (I'm not sure if this is what you are refering to or not.)\r\n\r\nNo, I was referring to the packages (though adding NiFi to the mpack was also needed).  We are building the packages with Bigtop and there's no NiFi package available (or I've been unable to find it, at least for Debian).  Also, what (and where) is this mpack with NiFi you are referring to?  I've found a couple mpacks with NiFi, but all of them depend on HDP and/or HDF, and tha's what we are trying to avoid.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/972892652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/974106821","html_url":"https://github.com/apache/bigtop/pull/832#issuecomment-974106821","issue_url":"https://api.github.com/repos/apache/bigtop/issues/832","id":974106821,"node_id":"IC_kwDOACDj7M46D7DF","user":{"login":"afsanjar","id":20330452,"node_id":"MDQ6VXNlcjIwMzMwNDUy","avatar_url":"https://avatars.githubusercontent.com/u/20330452?v=4","gravatar_id":"","url":"https://api.github.com/users/afsanjar","html_url":"https://github.com/afsanjar","followers_url":"https://api.github.com/users/afsanjar/followers","following_url":"https://api.github.com/users/afsanjar/following{/other_user}","gists_url":"https://api.github.com/users/afsanjar/gists{/gist_id}","starred_url":"https://api.github.com/users/afsanjar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afsanjar/subscriptions","organizations_url":"https://api.github.com/users/afsanjar/orgs","repos_url":"https://api.github.com/users/afsanjar/repos","events_url":"https://api.github.com/users/afsanjar/events{/privacy}","received_events_url":"https://api.github.com/users/afsanjar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-19T14:12:32Z","updated_at":"2021-11-19T14:12:32Z","author_association":"CONTRIBUTOR","body":"Don't we need to bump the Zookeeper version as well? ","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/974106821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/974125800","html_url":"https://github.com/apache/bigtop/pull/832#issuecomment-974125800","issue_url":"https://api.github.com/repos/apache/bigtop/issues/832","id":974125800,"node_id":"IC_kwDOACDj7M46D_ro","user":{"login":"afsanjar","id":20330452,"node_id":"MDQ6VXNlcjIwMzMwNDUy","avatar_url":"https://avatars.githubusercontent.com/u/20330452?v=4","gravatar_id":"","url":"https://api.github.com/users/afsanjar","html_url":"https://github.com/afsanjar","followers_url":"https://api.github.com/users/afsanjar/followers","following_url":"https://api.github.com/users/afsanjar/following{/other_user}","gists_url":"https://api.github.com/users/afsanjar/gists{/gist_id}","starred_url":"https://api.github.com/users/afsanjar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afsanjar/subscriptions","organizations_url":"https://api.github.com/users/afsanjar/orgs","repos_url":"https://api.github.com/users/afsanjar/repos","events_url":"https://api.github.com/users/afsanjar/events{/privacy}","received_events_url":"https://api.github.com/users/afsanjar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-19T14:36:48Z","updated_at":"2021-11-19T14:36:48Z","author_association":"CONTRIBUTOR","body":"ignore my last comment - I see a bump for zookeeper as well.\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/974125800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/975083946","html_url":"https://github.com/apache/bigtop/pull/833#issuecomment-975083946","issue_url":"https://api.github.com/repos/apache/bigtop/issues/833","id":975083946,"node_id":"IC_kwDOACDj7M46Hpmq","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T04:27:23Z","updated_at":"2021-11-22T04:27:23Z","author_association":"MEMBER","body":"I got no issue on running smoke-tests of Spark on CentOS 8 container (x86_64).\r\n\r\n```\r\n$ ./docker-hadoop.sh \\\r\n   --create 1 \\\r\n   --image bigtop/puppet:trunk-centos-8 \\\r\n   --memory 16g \\\r\n   --repo file:///bigtop-home/output \\\r\n   --disable-gpg-check \\\r\n   --stack hdfs,yarn,mapreduce,hive,spark \\\r\n   --smoke-tests spark\r\n...\r\n:bigtop-tests:smoke-tests:spark:test (Thread[Execution worker for ':' Thread 3,5,main]) completed. Took 1 mins 7.904 secs.\r\n\r\nBUILD SUCCESSFUL in 1m 41s\r\n34 actionable tasks: 7 executed, 27 up-to-date\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/975083946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/980328230","html_url":"https://github.com/apache/bigtop/pull/828#issuecomment-980328230","issue_url":"https://api.github.com/repos/apache/bigtop/issues/828","id":980328230,"node_id":"IC_kwDOACDj7M46bp8m","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T19:19:10Z","updated_at":"2021-11-26T19:19:10Z","author_association":"CONTRIBUTOR","body":"The commit LGTM, and it seems an easy one (if upstream doesn't want a specific test it seems good to remove it!)\r\n\r\nI tested a build with debian-10 and I see a zookeeper-related issue though:\r\n\r\n```\r\ndocker run --rm  -v `pwd`:/ws --workdir /ws bigtop/slaves:trunk-debian-10 bash -c '. /etc/profile.d/bigtop.sh; ./gradlew allclean hadoop-pkg'\r\n[..]\r\n+ continue 2\r\n# Forcing Zookeeper dependency to be on the packaged jar\r\nln -sf /usr/lib/zookeeper/zookeeper.jar debian/tmp/usr/lib/hadoop/lib/zookeeper*.jar\r\nln: target 'debian/tmp/usr/lib/hadoop/lib/zookeeper-jute-3.5.9.jar' is not a directory\r\nmake[1]: *** [debian/rules:57: override_dh_auto_install] Error 1\r\nmake[1]: Leaving directory '/ws/output/hadoop/hadoop-3.2.2'\r\nmake: *** [debian/rules:27: binary] Error 2\r\ndpkg-buildpackage: error: debian/rules binary subprocess returned exit status 2\r\ndebuild: fatal error at line 1182:\r\ndpkg-buildpackage -us -uc -ui -b\r\n failed\r\n```\r\n\r\n+1 to merge this change (I double checked that it fixes the problem) if you want to proceed.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/980328230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/980693196","html_url":"https://github.com/apache/bigtop/pull/825#issuecomment-980693196","issue_url":"https://api.github.com/repos/apache/bigtop/issues/825","id":980693196,"node_id":"IC_kwDOACDj7M46dDDM","user":{"login":"vivostar","id":49220700,"node_id":"MDQ6VXNlcjQ5MjIwNzAw","avatar_url":"https://avatars.githubusercontent.com/u/49220700?v=4","gravatar_id":"","url":"https://api.github.com/users/vivostar","html_url":"https://github.com/vivostar","followers_url":"https://api.github.com/users/vivostar/followers","following_url":"https://api.github.com/users/vivostar/following{/other_user}","gists_url":"https://api.github.com/users/vivostar/gists{/gist_id}","starred_url":"https://api.github.com/users/vivostar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vivostar/subscriptions","organizations_url":"https://api.github.com/users/vivostar/orgs","repos_url":"https://api.github.com/users/vivostar/repos","events_url":"https://api.github.com/users/vivostar/events{/privacy}","received_events_url":"https://api.github.com/users/vivostar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-27T16:42:54Z","updated_at":"2021-11-27T16:42:54Z","author_association":"CONTRIBUTOR","body":"I find it cannot build successfully Ambari on centos-7 \r\n![image](https://user-images.githubusercontent.com/49220700/143689666-38c5919e-0c76-44e2-ad0a-3abfa30bce5f.png)\r\nso I make an another patch to fix it.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/980693196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986023771","html_url":"https://github.com/apache/bigtop/pull/837#issuecomment-986023771","issue_url":"https://api.github.com/repos/apache/bigtop/issues/837","id":986023771,"node_id":"IC_kwDOACDj7M46xYdb","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T13:02:08Z","updated_at":"2021-12-04T13:02:08Z","author_association":"CONTRIBUTOR","body":"Current image:\r\n\r\n```\r\ndocker run --rm  -v `pwd`:/ws --workdir /ws bigtop/slaves:trunk-debian-10 bash -c 'dpkg -S Python.h'\r\nlibpython3.7-dev:amd64: /usr/include/python3.7m/Python.h\r\n```\r\n\r\nNew image:\r\n\r\n```\r\ndocker run --rm  -v `pwd`:/ws --workdir /ws bigtop/slaves:trunk-debian-10 bash -c 'dpkg -S Python.h'\r\nlibpython3.7-dev:amd64: /usr/include/python3.7m/Python.h\r\nlibpython2.7-dev:amd64: /usr/include/python2.7/Python.h\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986023771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986024712","html_url":"https://github.com/apache/bigtop/pull/837#issuecomment-986024712","issue_url":"https://api.github.com/repos/apache/bigtop/issues/837","id":986024712,"node_id":"IC_kwDOACDj7M46xYsI","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T13:08:11Z","updated_at":"2021-12-04T13:08:11Z","author_association":"CONTRIBUTOR","body":"With the new image I am able to build `gpdb` on Debian 10, should be the same on 11. We probably want to deprecated any usage of Python 2 in the future, maybe after 3.1?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986024712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986481472","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986481472","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986481472,"node_id":"IC_kwDOACDj7M46zINA","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T06:36:23Z","updated_at":"2021-12-06T06:36:23Z","author_association":"MEMBER","body":"\r\n@elukey\r\nThe fix looks intended for running puppetize.sh again to refresh existing environment. If it is the first time, the latest ca-certificates is installed regardless of your fix since it is required by (rubygems required by) puppet.\r\n\r\n```\r\n$ docker run bigtop/puppet:trunk-centos-7 rpm -q --whatrequires ca-certificates\r\nopenssl-libs-1.0.2k-19.el7.x86_64\r\nrubygems-2.0.14.1-36.el7.noarch\r\n```\r\n\r\nI think `./gradlew toolchain` tends to be used to refresh already existing dev env rather than puppetize.sh. Should we add `yum update ca-certificates` in the manifests under [bigtop_toolchain/manifests](https://github.com/apache/bigtop/tree/master/bigtop_toolchain/manifests) too?\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986481472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986504343","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986504343","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986504343,"node_id":"IC_kwDOACDj7M46zNyX","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T07:20:46Z","updated_at":"2021-12-06T07:20:46Z","author_association":"CONTRIBUTOR","body":"@iwasakims thanks for the review! What I tried before this solution was:\r\n\r\n- Add `require bigtop_toolchain::packages` in the maven/ant classes, with the aim to install ca-certificates (via dependency) before the Execs run, but it didn't work. The install packages step started before ant/maven but the Execs ran while it was still in progress, ending up in TLS validation failures.\r\n- Add `ca-certificates` to the `bigtop_toolchain::packages` class, and add a `require => Package[\"ca-certificates\"]` to the Execs in the ant/maven classes. This seems to work, but it affects all slave image builds. It seems correct in my opinion to have a require for wget and ca-certificates in those classes, since the Execs implicitly rely on those, but then I preferred to limit the scope to centos-7 and use puppetize.sh (that runs before puppet manifests are applied for sure, and also that installs wget and other utils as well).\r\n\r\nWhatever we choose should guarantee, in my opinion, that the puppet Execs in the maven/ant/etc.. classes run when the ca-certificates packages is installed, otherwise dowloading maven/ant fails (and sometimes the image build proceeds anyway ending up in package build failures later on).\r\n\r\nLet me know!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986504343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986543696","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986543696","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986543696,"node_id":"IC_kwDOACDj7M46zXZQ","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T08:24:56Z","updated_at":"2021-12-06T08:24:56Z","author_association":"CONTRIBUTOR","body":"I see what's happening, I was wrong, the ca-certificates package is installed but not at the right version. Testing an alternative approach in `bigtop_toolchain::packages` :)","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986543696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986596889","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986596889","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986596889,"node_id":"IC_kwDOACDj7M46zkYZ","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T09:32:32Z","updated_at":"2021-12-06T09:32:32Z","author_association":"CONTRIBUTOR","body":"@iwasakims pushed a new version, lemme know what you think about it :)","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986596889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986680038","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986680038","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986680038,"node_id":"IC_kwDOACDj7M46z4rm","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T11:17:02Z","updated_at":"2021-12-06T11:17:02Z","author_association":"MEMBER","body":"`ensure => latest` instead of `ensure => installed` should upgrade already installed packages. How about adding following?\r\n\r\n```\r\n  if $operatingsystem == 'CentOS' {\r\n    ...(snip)\r\n\r\n    if $operatingsystemmajrelease == 7 {\r\n      package { ca-certificates:\r\n        ensure => latest\r\n      }\r\n    }\r\n```\r\n\r\nWhile adding global constraints like `Package<||> -> Exec<||>` is handy, it causes following error.\r\n\r\n```\r\nError: Could not apply complete catalog: Found 1 dependency cycle:\r\n(Exec[Setuptools Installation] => Class[Bigtop_toolchain::Packages] => Class[Bigtop_toolchain::Renv] => Package[R] => Exec[Setuptools Installation])\r\nTry the '--graph' option and opening the resulting '.dot' file in OmniGraffle or GraphViz\r\n```\r\n\r\nIt would be nice if we can get rid of `require => Package[ca-certificates]` on every wget resources...","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986680038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986683588","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986683588","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986683588,"node_id":"IC_kwDOACDj7M46z5jE","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T11:21:47Z","updated_at":"2021-12-06T11:21:47Z","author_association":"CONTRIBUTOR","body":"Ah snap I tried to build the trunk-centos-7 puppet/slave image and it worked, where did you see that error? Anyway, will work on another solution, thanks for the feedback!","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986683588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986828681","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986828681","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986828681,"node_id":"IC_kwDOACDj7M460c-J","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T14:29:33Z","updated_at":"2021-12-06T14:29:33Z","author_association":"MEMBER","body":"> where did you see that error?\r\n\r\nI think you can reproduce the issue by following diff.\r\n\r\n```\r\n$ git diff\r\ndiff --git a/bigtop_toolchain/manifests/packages.pp b/bigtop_toolchain/manifests/packages.pp\r\nindex 93e6c0a..fe0a3ec 100644\r\n--- a/bigtop_toolchain/manifests/packages.pp\r\n+++ b/bigtop_toolchain/manifests/packages.pp\r\n@@ -250,8 +250,14 @@ class bigtop_toolchain::packages {\r\n         ensure => latest\r\n       }\r\n     }\r\n-  }\r\n\r\n+    if $operatingsystemmajrelease == 7 {\r\n+      package { ca-certificates:\r\n+        ensure => latest\r\n+      }\r\n+      Package<||> -> Exec<||>\r\n+    }\r\n+  }\r\n\r\n   # BIGTOP-3364: Failed to install setuptools by pip/pip2\r\n   # on Ubuntu-16.04/18.04 and centos-7.\r\n```\r\n```\r\n$ ./gradlew toolchain\r\n...\r\nDebug: /Stage[main]/Bigtop_toolchain::User/File[/var/lib/jenkins/.ssh]: Autorequiring Group[jenkins]\r\nInfo: Applying configuration version '1638800828'\r\nError: Could not apply complete catalog: Found 1 dependency cycle:\r\n(Exec[Setuptools Installation] => Class[Bigtop_toolchain::Packages] => Class[Bigtop_toolchain::Renv] => Package[R] => Exec[Setuptools Installation])\r\nTry the '--graph' option and opening the resulting '.dot' file in OmniGraffle or GraphViz\r\n...\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986828681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986837368","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986837368","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986837368,"node_id":"IC_kwDOACDj7M460fF4","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T14:39:39Z","updated_at":"2021-12-06T14:39:39Z","author_association":"CONTRIBUTOR","body":"ahhh ok the error is on the new code, right now it is clearer :)","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986837368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986838129","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986838129","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986838129,"node_id":"IC_kwDOACDj7M460fRx","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T14:40:34Z","updated_at":"2021-12-06T14:40:34Z","author_association":"MEMBER","body":"Ordering between classes could be used instead of the `Package<||> -> Exec<||>` like\r\n\r\n```\r\n$ git diff\r\ndiff --git a/bigtop_toolchain/manifests/installer.pp b/bigtop_toolchain/manifests/installer.pp\r\nindex bcf9ee7..4ce5f67 100644\r\n--- a/bigtop_toolchain/manifests/installer.pp\r\n+++ b/bigtop_toolchain/manifests/installer.pp\r\n@@ -25,6 +25,10 @@ class bigtop_toolchain::installer {\r\n   include bigtop_toolchain::renv\r\n   include bigtop_toolchain::grpc\r\n\r\n+  Class['bigtop_toolchain::packages'] -> Class['bigtop_toolchain::maven']\r\n+  Class['bigtop_toolchain::packages'] -> Class['bigtop_toolchain::ant']\r\n+  Class['bigtop_toolchain::packages'] -> Class['bigtop_toolchain::gradle']\r\n+\r\n   stage { 'last':\r\n     require => Stage['main'],\r\n   }\r\ndiff --git a/bigtop_toolchain/manifests/packages.pp b/bigtop_toolchain/manifests/packages.pp\r\nindex 93e6c0a..b8e3be8 100644\r\n--- a/bigtop_toolchain/manifests/packages.pp\r\n+++ b/bigtop_toolchain/manifests/packages.pp\r\n@@ -250,8 +250,13 @@ class bigtop_toolchain::packages {\r\n         ensure => latest\r\n       }\r\n     }\r\n-  }\r\n\r\n+    if $operatingsystemmajrelease == 7 {\r\n+      package { ca-certificates:\r\n+        ensure => latest\r\n+      }\r\n+    }\r\n+  }\r\n\r\n   # BIGTOP-3364: Failed to install setuptools by pip/pip2\r\n   # on Ubuntu-16.04/18.04 and centos-7.\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986838129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986840752","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986840752","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986840752,"node_id":"IC_kwDOACDj7M460f6w","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T14:43:42Z","updated_at":"2021-12-06T14:43:42Z","author_association":"MEMBER","body":"Hmm.. `wget` failed even with the latest ca-certificates on my CentOS 7 environment.\r\n\r\n```\r\n$ rpm -q ca-certificates\r\nca-certificates-2021.2.50-72.el7_9.noarch\r\n\r\n$ /usr/bin/wget https://dlcdn.apache.org//maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz\r\n--2021-12-06 23:38:30--  https://dlcdn.apache.org//maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz\r\nResolving dlcdn.apache.org (dlcdn.apache.org)... 151.101.2.132, 2a04:4e42::644\r\nConnecting to dlcdn.apache.org (dlcdn.apache.org)|151.101.2.132|:443... connected.\r\nERROR: cannot verify dlcdn.apache.org's certificate, issued by ‘/C=US/O=Let's Encrypt/CN=R3’:\r\n  Issued certificate has expired.\r\nTo connect to dlcdn.apache.org insecurely, use `--no-check-certificate'.\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986840752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986841078","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986841078","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986841078,"node_id":"IC_kwDOACDj7M460f_2","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T14:44:04Z","updated_at":"2021-12-06T14:44:04Z","author_association":"CONTRIBUTOR","body":"```\r\n\r\n+  Class['bigtop_toolchain::packages'] -> Class['bigtop_toolchain::maven']\r\n+  Class['bigtop_toolchain::packages'] -> Class['bigtop_toolchain::ant']\r\n+  Class['bigtop_toolchain::packages'] -> Class['bigtop_toolchain::gradle']\r\n+\r\n```\r\nThis bit in theory is the same as adding requires in specific classes right? Not sure if there is a preference in Bigtop, I am more used to the explicit require where needed vs the include + -> ordering.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986841078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986844818","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986844818","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986844818,"node_id":"IC_kwDOACDj7M460g6S","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T14:48:36Z","updated_at":"2021-12-06T14:48:36Z","author_association":"MEMBER","body":"\r\n> This bit in theory is the same as adding requires in specific classes right?\r\n\r\nNow I think so. I gueesed that `require bigtop_toolchain::packages` did not work but the `wget` failure seems to have different cause.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986844818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986857122","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986857122","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986857122,"node_id":"IC_kwDOACDj7M460j6i","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T15:02:13Z","updated_at":"2021-12-06T15:02:13Z","author_association":"MEMBER","body":"The issue seems to be specific to my non-docker environment. Upgrading ca-certificates in fresh container just worked.\r\n\r\n```\r\n$ docker run -i -t --rm bigtop/puppet:trunk-centos-7 /bin/bash\r\n[root@d49d89c44c41 /]# yum -y update ca-certificates\r\n[root@d49d89c44c41 /]# /usr/bin/wget https://dlcdn.apache.org//maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz\r\n--2021-12-06 14:58:26--  https://dlcdn.apache.org//maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz\r\nResolving dlcdn.apache.org (dlcdn.apache.org)... 151.101.2.132, 2a04:4e42::644\r\nConnecting to dlcdn.apache.org (dlcdn.apache.org)|151.101.2.132|:443... connected.\r\nHTTP request sent, awaiting response... 200 OK\r\nLength: 9506321 (9.1M) [application/x-gzip]\r\nSaving to: 'apache-maven-3.6.3-bin.tar.gz'\r\n\r\n100%[==================================================================================================================================================================================================================================================================>] 9,506,321   --.-K/s   in 0.1s\r\n\r\n2021-12-06 14:58:27 (72.8 MB/s) - 'apache-maven-3.6.3-bin.tar.gz' saved [9506321/9506321]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986857122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986867529","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986867529","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986867529,"node_id":"IC_kwDOACDj7M460mdJ","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T15:11:58Z","updated_at":"2021-12-06T15:11:58Z","author_association":"MEMBER","body":"Replacing files by `sudo yum reinstall ca-certificates` fixed the issue on non-docker environment. Something was broken on my side.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986867529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986888181","html_url":"https://github.com/apache/bigtop/pull/838#issuecomment-986888181","issue_url":"https://api.github.com/repos/apache/bigtop/issues/838","id":986888181,"node_id":"IC_kwDOACDj7M460rf1","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T15:33:36Z","updated_at":"2021-12-06T15:33:36Z","author_association":"CONTRIBUTOR","body":"@iwasakims tried to add your suggestions, let me know how it looks now :)\r\n\r\nThanks for the patience!\r\n\r\n(tested for puppet/slave images, no issues)","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/986888181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/988277655","html_url":"https://github.com/apache/bigtop/pull/816#issuecomment-988277655","issue_url":"https://api.github.com/repos/apache/bigtop/issues/816","id":988277655,"node_id":"IC_kwDOACDj7M465-uX","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T21:32:59Z","updated_at":"2021-12-07T21:32:59Z","author_association":"CONTRIBUTOR","body":"Successfully built on Debian 10 x86_64. Worth noting that the build took several hours, a lot of time spent during `dh-strip-nondeterminism`. If it is not my docker config and happens to other people, we may need to add `override_dh_strip_nondeterminism` to the Debian rules file (but I am not super familiar with this step, will need to dig a bit more into it).\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/988277655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/988570863","html_url":"https://github.com/apache/bigtop/pull/816#issuecomment-988570863","issue_url":"https://api.github.com/repos/apache/bigtop/issues/816","id":988570863,"node_id":"IC_kwDOACDj7M467GTv","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T07:38:58Z","updated_at":"2021-12-08T07:38:58Z","author_association":"CONTRIBUTOR","body":"Tried with:\r\n\r\n```\r\ndiff --git a/bigtop-packages/src/deb/zeppelin/rules b/bigtop-packages/src/deb/zeppelin/rules\r\nindex 6ac4cd8a..a6d61ad0 100644\r\n--- a/bigtop-packages/src/deb/zeppelin/rules\r\n+++ b/bigtop-packages/src/deb/zeppelin/rules\r\n@@ -40,3 +40,5 @@ override_dh_auto_install: $(svcs)\r\n        --doc-dir=/usr/share/doc/zeppelin \\\r\n        --source-dir=debian \\\r\n        --prefix=debian/tmp\r\n+\r\n+override_dh_strip_nondeterminism:\r\n\\ No newline at end of file\r\ndiff --git a/bigtop.bom b/bigtop.b\r\n```\r\n\r\nAnd it took 33 minutes to complete..","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/988570863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/988599061","html_url":"https://github.com/apache/bigtop/pull/830#issuecomment-988599061","issue_url":"https://api.github.com/repos/apache/bigtop/issues/830","id":988599061,"node_id":"IC_kwDOACDj7M467NMV","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T08:26:39Z","updated_at":"2021-12-08T09:41:45Z","author_association":"CONTRIBUTOR","body":"Trying to build the new HBase version on debian-10 x86, I am seeing a ton of time spent in the `dh_strip_nondeterminism ` step, more specifically:\r\n```\r\n\tNormalizing debian/hbase/usr/lib/hbase/hbase-hbtop-2.4.8.jar using File::StripNondeterminism::handlers::jar\r\n```\r\n\r\nEdit: nevermind, completed in ~40 mins, all good :)\r\n\r\nWill run smoke tests asap and then I'll report back.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/988599061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/989794607","html_url":"https://github.com/apache/bigtop/pull/839#issuecomment-989794607","issue_url":"https://api.github.com/repos/apache/bigtop/issues/839","id":989794607,"node_id":"IC_kwDOACDj7M46_xEv","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T12:10:05Z","updated_at":"2021-12-09T12:10:05Z","author_association":"MEMBER","body":"@elukey Thanks for working on this, @elukey.\r\n\r\nIt looks symlink with unintended name is created. on CetnOS 8:\r\n\r\n```\r\n$ rpm -q -l -p output/hadoop/x86_64/hadoop-3.2.2-1.el8.x86_64.rpm | grep zookeeper\r\n/usr/lib/hadoop/lib/zookeeper-3.5.9.jar\r\n/usr/lib/hadoop/lib/zookeeper-[0-9.]+.jar\r\n/usr/lib/hadoop/lib/zookeeper-jute-3.5.9.jar\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/989794607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/989796935","html_url":"https://github.com/apache/bigtop/pull/839#issuecomment-989796935","issue_url":"https://api.github.com/repos/apache/bigtop/issues/839","id":989796935,"node_id":"IC_kwDOACDj7M46_xpH","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T12:13:33Z","updated_at":"2021-12-09T12:13:33Z","author_association":"MEMBER","body":"on Debian 11:\r\n\r\n```\r\n$ dpkg -c output/hadoop/hadoop_3.2.2-1_amd64.deb | grep zookeeper\r\n-rw-r--r-- root/root   2029158 2021-12-09 10:34 ./usr/lib/hadoop/lib/zookeeper-3.5.9.jar\r\nlrwxrwxrwx root/root         0 2021-12-09 10:34 ./usr/lib/hadoop/lib/zookeeper-[0-9.]+.jar -> ../../zookeeper/zookeeper.jar\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/989796935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/989803017","html_url":"https://github.com/apache/bigtop/pull/839#issuecomment-989803017","issue_url":"https://api.github.com/repos/apache/bigtop/issues/839","id":989803017,"node_id":"IC_kwDOACDj7M46_zIJ","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T12:22:14Z","updated_at":"2021-12-09T12:22:14Z","author_association":"MEMBER","body":"Using glob pattern instead of regex could fix this?\r\n\r\n```\r\n# bash -c \"echo /usr/lib/hadoop/lib/zookeeper-*.jar\"\r\n/usr/lib/hadoop/lib/zookeeper-[0-9.]+.jar /usr/lib/hadoop/lib/zookeeper-3.5.9.jar /usr/lib/hadoop/lib/zookeeper-jute-3.5.9.jar\r\n\r\n# bash -c \"echo /usr/lib/hadoop/lib/zookeeper-[[:digit:]]*.jar\"\r\n/usr/lib/hadoop/lib/zookeeper-3.5.9.jar\r\n\r\n# bash -c \"echo /usr/lib/hadoop/lib/zookeeper-[[:alpha:]]*.jar\"\r\n/usr/lib/hadoop/lib/zookeeper-jute-3.5.9.jar\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/989803017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/989882316","html_url":"https://github.com/apache/bigtop/pull/839#issuecomment-989882316","issue_url":"https://api.github.com/repos/apache/bigtop/issues/839","id":989882316,"node_id":"IC_kwDOACDj7M47AGfM","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T14:04:26Z","updated_at":"2021-12-09T15:06:29Z","author_association":"CONTRIBUTOR","body":"@iwasakims definitely, PR updated, thanks!\r\n\r\nEdit: I tried a build and it seems not working, will keep testing..","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/989882316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/990111465","html_url":"https://github.com/apache/bigtop/pull/839#issuecomment-990111465","issue_url":"https://api.github.com/repos/apache/bigtop/issues/839","id":990111465,"node_id":"IC_kwDOACDj7M47A-bp","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T18:27:27Z","updated_at":"2021-12-09T18:27:27Z","author_association":"CONTRIBUTOR","body":"Tried to completely clean up + rebuild hadoop-pkg, the resulting deb seems ok:\r\n\r\n```\r\ndpkg -c output/hadoop/hadoop_3.2.2-1_amd64.deb | grep zookeeper\r\n-rw-r--r-- root/root    250542 2021-12-09 17:24 ./usr/lib/hadoop/lib/zookeeper-jute-3.5.9.jar\r\nlrwxrwxrwx root/root         0 2021-12-09 17:24 ./usr/lib/hadoop/lib/zookeeper-3.5.9.jar -> ../../zookeeper/zookeeper.jar\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/990111465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/991938350","html_url":"https://github.com/apache/bigtop/pull/830#issuecomment-991938350","issue_url":"https://api.github.com/repos/apache/bigtop/issues/830","id":991938350,"node_id":"IC_kwDOACDj7M47H8cu","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-12T17:31:21Z","updated_at":"2021-12-12T17:31:21Z","author_association":"CONTRIBUTOR","body":"I am trying to run the smoke tests via `docker-hadoop.sh` on Debian 11, and I keep getting `Failed to connect to bus: No such file or directory` when udev/systemd are installed, and then everything else fails afterwards (hadoop daemons don't come up, etc..).\r\nIt is probably something related to my docker compose version and os combination, anybody else with the same issue?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/991938350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/992042975","html_url":"https://github.com/apache/bigtop/pull/840#issuecomment-992042975","issue_url":"https://api.github.com/repos/apache/bigtop/issues/840","id":992042975,"node_id":"IC_kwDOACDj7M47IV_f","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T02:04:55Z","updated_at":"2021-12-13T02:04:55Z","author_association":"MEMBER","body":"We are keeping bigotp-jsvc  just for compatibility. Hadoop >= 2.6.0 leverages SASL for DataNode security. JSVC is only used for old configuration. We should deprecate bigtop-jsvc. Products other than Hadoop seems not to use bigtop-jsvc.\r\n\r\nhttps://hadoop.apache.org/docs/r3.2.2/hadoop-project-dist/hadoop-common/SecureMode.html#Secure_DataNode","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/992042975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/992054910","html_url":"https://github.com/apache/bigtop/pull/830#issuecomment-992054910","issue_url":"https://api.github.com/repos/apache/bigtop/issues/830","id":992054910,"node_id":"IC_kwDOACDj7M47IY5-","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T02:32:38Z","updated_at":"2021-12-13T02:32:38Z","author_association":"MEMBER","body":"@elukey\r\nI can reproduce the issues on my local Debian 11 and Fedora 33. I guess we need additional configuration for running recent systemd inside container like\r\n\r\n* https://developers.redhat.com/blog/2014/05/05/running-systemd-within-docker-container\r\n* https://developers.redhat.com/blog/2019/04/24/how-to-run-systemd-in-a-container\r\n\r\nIf CI env is OK, we can refer to the settings?\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/992054910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/992055400","html_url":"https://github.com/apache/bigtop/pull/830#issuecomment-992055400","issue_url":"https://api.github.com/repos/apache/bigtop/issues/830","id":992055400,"node_id":"IC_kwDOACDj7M47IZBo","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T02:34:17Z","updated_at":"2021-12-13T02:34:17Z","author_association":"MEMBER","body":"While systemd inside container is not generally recommended, we want to use it for testing init scripts and systemd configuraiton.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/992055400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/992226381","html_url":"https://github.com/apache/bigtop/pull/830#issuecomment-992226381","issue_url":"https://api.github.com/repos/apache/bigtop/issues/830","id":992226381,"node_id":"IC_kwDOACDj7M47JCxN","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-13T08:35:03Z","updated_at":"2021-12-13T08:35:03Z","author_association":"CONTRIBUTOR","body":"@iwasakims opened https://issues.apache.org/jira/browse/BIGTOP-3614, I found a workaround but I still need to work on the docker-compose yaml config.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/992226381/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993491478","html_url":"https://github.com/apache/bigtop/pull/841#issuecomment-993491478","issue_url":"https://api.github.com/repos/apache/bigtop/issues/841","id":993491478,"node_id":"IC_kwDOACDj7M47N3oW","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T12:27:41Z","updated_at":"2021-12-14T12:27:41Z","author_association":"MEMBER","body":"tested this on CentOS 8 container (x86_64):\r\n\r\n```\r\n$ cd provisioner/docker\r\n$ ./docker-hadoop.sh \\\r\n   --create 3 \\\r\n   --image bigtop/puppet:trunk-centos-8 \\\r\n   --memory 8g \\\r\n   --repo file:///bigtop-home/output \\\r\n   --disable-gpg-check \\\r\n   --stack hdfs,yarn,mapreduce,hbase,hive \\\r\n   --smoke-tests hive\r\n...(snip)\r\n:bigtop-tests:smoke-tests:hive:test (Thread[Execution worker for ':' Thread 4,5,main]) completed. Took 13.326 secs.\r\n\r\nBUILD SUCCESSFUL in 48s\r\n34 actionable tasks: 7 executed, 27 up-to-date\r\nStopped 1 worker daemon(s).\r\n+ rm -rf buildSrc/build/test-results/binary\r\n+ rm -rf /bigtop-home/.gradle\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993491478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993493676","html_url":"https://github.com/apache/bigtop/pull/841#issuecomment-993493676","issue_url":"https://api.github.com/repos/apache/bigtop/issues/841","id":993493676,"node_id":"IC_kwDOACDj7M47N4Ks","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T12:30:53Z","updated_at":"2021-12-14T12:30:53Z","author_association":"MEMBER","body":"```\r\n$ rpm -q -l -p output/hive/noarch/hive-3.1.2-1.el8.noarch.rpm | grep 'log4j.*jar'\r\n/usr/lib/hive/lib/log4j-1.2-api-2.15.0.jar\r\n/usr/lib/hive/lib/log4j-api-2.15.0.jar\r\n/usr/lib/hive/lib/log4j-core-2.15.0.jar\r\n/usr/lib/hive/lib/log4j-slf4j-impl-2.15.0.jar\r\n/usr/lib/hive/lib/log4j-web-2.15.0.jar\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993493676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993589644","html_url":"https://github.com/apache/bigtop/pull/841#issuecomment-993589644","issue_url":"https://api.github.com/repos/apache/bigtop/issues/841","id":993589644,"node_id":"IC_kwDOACDj7M47OPmM","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T14:20:51Z","updated_at":"2021-12-14T14:20:51Z","author_association":"CONTRIBUTOR","body":"+1, built on debian-11 x86 and verified:\r\n\r\n```\r\ndpkg -c output/hive/hive_3.1.2-1_all.deb | grep log4j-core\r\n-rw-r--r-- root/root   1789728 2021-12-14 14:04 ./usr/lib/hive/lib/log4j-core-2.15.0.jar\r\n````\r\nNot sure what is the process, but should we bump the version->release number for hive in bigtop.bom?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993589644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993596031","html_url":"https://github.com/apache/bigtop/pull/841#issuecomment-993596031","issue_url":"https://api.github.com/repos/apache/bigtop/issues/841","id":993596031,"node_id":"IC_kwDOACDj7M47ORJ_","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T14:27:23Z","updated_at":"2021-12-14T14:27:23Z","author_association":"CONTRIBUTOR","body":"Worth noting that log4j 2.16.0 is out - https://lists.apache.org/thread/d6v4r6nosxysyq9rvnr779336yf0woz4","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993596031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993606831","html_url":"https://github.com/apache/bigtop/pull/841#issuecomment-993606831","issue_url":"https://api.github.com/repos/apache/bigtop/issues/841","id":993606831,"node_id":"IC_kwDOACDj7M47OTyv","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T14:39:05Z","updated_at":"2021-12-14T14:39:05Z","author_association":"MEMBER","body":"> Not sure what is the process, but should we bump the version->release number for hive in bigtop.bom?\r\n\r\nSure. I incremented the release number. I got hive-3.1.2-2.el8.noarch.rpm instead of  hive-3.1.2-1.el8.noarch.rpm for RPM.\r\n\r\n```\r\n$ ls -l output/hive/noarch/\r\ntotal 279064\r\n-rw-rw-r--. 1 centos centos 214940040 Dec 14 14:36 hive-3.1.2-2.el8.noarch.rpm\r\n-rw-rw-r--. 1 centos centos    122288 Dec 14 14:36 hive-hbase-3.1.2-2.el8.noarch.rpm\r\n-rw-rw-r--. 1 centos centos    509844 Dec 14 14:36 hive-hcatalog-3.1.2-2.el8.noarch.rpm\r\n-rw-rw-r--. 1 centos centos      9440 Dec 14 14:36 hive-hcatalog-server-3.1.2-2.el8.noarch.rpm\r\n-rw-rw-r--. 1 centos centos  67143160 Dec 14 14:36 hive-jdbc-3.1.2-2.el8.noarch.rpm\r\n-rw-rw-r--. 1 centos centos      9504 Dec 14 14:36 hive-metastore-3.1.2-2.el8.noarch.rpm\r\n-rw-rw-r--. 1 centos centos      9536 Dec 14 14:36 hive-server2-3.1.2-2.el8.noarch.rpm\r\n-rw-rw-r--. 1 centos centos   2987088 Dec 14 14:36 hive-webhcat-3.1.2-2.el8.noarch.rpm\r\n-rw-rw-r--. 1 centos centos      9388 Dec 14 14:36 hive-webhcat-server-3.1.2-2.el8.noarch.rpm\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993606831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993610667","html_url":"https://github.com/apache/bigtop/pull/841#issuecomment-993610667","issue_url":"https://api.github.com/repos/apache/bigtop/issues/841","id":993610667,"node_id":"IC_kwDOACDj7M47OUur","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T14:43:09Z","updated_at":"2021-12-14T14:45:21Z","author_association":"MEMBER","body":"> Worth noting that log4j 2.16.0 is out - https://lists.apache.org/thread/d6v4r6nosxysyq9rvnr779336yf0woz4\r\n\r\nI added the patch9-log4j2-2.16.0.diff since I got no compilation issue on upgrading to 2.16.0 too.\r\n\r\n```\r\n$ rpm -q -l -p output/hive/noarch/hive-3.1.2-2.el8.noarch.rpm | grep 'log4j.*jar'\r\n/usr/lib/hive/lib/log4j-1.2-api-2.16.0.jar\r\n/usr/lib/hive/lib/log4j-api-2.16.0.jar\r\n/usr/lib/hive/lib/log4j-core-2.16.0.jar\r\n/usr/lib/hive/lib/log4j-slf4j-impl-2.16.0.jar\r\n/usr/lib/hive/lib/log4j-web-2.16.0.jar\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993610667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993620138","html_url":"https://github.com/apache/bigtop/pull/841#issuecomment-993620138","issue_url":"https://api.github.com/repos/apache/bigtop/issues/841","id":993620138,"node_id":"IC_kwDOACDj7M47OXCq","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-14T14:49:57Z","updated_at":"2021-12-14T14:49:57Z","author_association":"MEMBER","body":"I will update the JIRA issue title and commit message on merging if we go with 2.16.0.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/993620138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/994577364","html_url":"https://github.com/apache/bigtop/pull/841#issuecomment-994577364","issue_url":"https://api.github.com/repos/apache/bigtop/issues/841","id":994577364,"node_id":"IC_kwDOACDj7M47SAvU","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-15T09:38:01Z","updated_at":"2021-12-15T09:38:01Z","author_association":"CONTRIBUTOR","body":"@iwasakims after https://lists.apache.org/thread/83y7dx5xvn3h5290q1twn16tltolv88f I think that 2.16.0 seems the best way forward, what do you think?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/994577364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/994604011","html_url":"https://github.com/apache/bigtop/pull/841#issuecomment-994604011","issue_url":"https://api.github.com/repos/apache/bigtop/issues/841","id":994604011,"node_id":"IC_kwDOACDj7M47SHPr","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-15T09:58:53Z","updated_at":"2021-12-15T09:58:53Z","author_association":"MEMBER","body":"@elukey yeah. I got no issue on smoke-tests of hive even with log4j 2.16.0.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/994604011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/995006661","html_url":"https://github.com/apache/bigtop/pull/841#issuecomment-995006661","issue_url":"https://api.github.com/repos/apache/bigtop/issues/841","id":995006661,"node_id":"IC_kwDOACDj7M47TpjF","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-15T17:27:25Z","updated_at":"2021-12-15T17:27:25Z","author_association":"CONTRIBUTOR","body":"+1 tested on debian-11 x86 and verified:\r\n\r\n```\r\n$ dpkg -c output/hive/hive_3.1.2-2_all.deb | grep log4j-core\r\n-rw-r--r-- root/root   1789526 2021-12-15 17:07 ./usr/lib/hive/lib/log4j-core-2.16.0.jar\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/995006661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/995359082","html_url":"https://github.com/apache/bigtop/pull/841#issuecomment-995359082","issue_url":"https://api.github.com/repos/apache/bigtop/issues/841","id":995359082,"node_id":"IC_kwDOACDj7M47U_lq","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-16T01:32:19Z","updated_at":"2021-12-16T01:32:19Z","author_association":"MEMBER","body":"I merged this to master and branch-3.0. Thanks, @elukey.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/995359082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996408698","html_url":"https://github.com/apache/bigtop/pull/842#issuecomment-996408698","issue_url":"https://api.github.com/repos/apache/bigtop/issues/842","id":996408698,"node_id":"IC_kwDOACDj7M47Y_16","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-17T03:30:20Z","updated_at":"2021-12-17T03:30:20Z","author_association":"MEMBER","body":"I tested this on CetnOS 8 containers (x86_64):\r\n\r\n```\r\n$ ./docker-hadoop.sh \\\r\n   --create 3 \\\r\n   --image bigtop/puppet:trunk-centos-8 \\\r\n   --memory 8g \\\r\n   --repo file:///bigtop-home/output \\\r\n   --disable-gpg-check \\\r\n   --stack hdfs,yarn,mapreduce,flink \\\r\n   --smoke-tests flink\r\n...(snip)\r\nNow testing...\r\n:bigtop-tests:smoke-tests:flink:test (Thread[Execution worker for ':' Thread 5,5,main]) completed. Took 14.317 secs.\r\n\r\nBUILD SUCCESSFUL in 48s\r\n34 actionable tasks: 7 executed, 27 up-to-date\r\nStopped 1 worker daemon(s).\r\n+ rm -rf buildSrc/build/test-results/binary\r\n+ rm -rf /bigtop-home/.gradle\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996408698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996409336","html_url":"https://github.com/apache/bigtop/pull/842#issuecomment-996409336","issue_url":"https://api.github.com/repos/apache/bigtop/issues/842","id":996409336,"node_id":"IC_kwDOACDj7M47Y__4","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-17T03:32:18Z","updated_at":"2021-12-17T03:32:18Z","author_association":"MEMBER","body":"```\r\n$ rpm -q -l -p output/flink/noarch/flink-1.11.6-1.el8.noarch.rpm | grep log4j\r\n/etc/flink/conf.dist/log4j-cli.properties\r\n/etc/flink/conf.dist/log4j-console.properties\r\n/etc/flink/conf.dist/log4j-session.properties\r\n/etc/flink/conf.dist/log4j.properties\r\n/usr/lib/flink/lib/log4j-1.2-api-2.16.0.jar\r\n/usr/lib/flink/lib/log4j-api-2.16.0.jar\r\n/usr/lib/flink/lib/log4j-core-2.16.0.jar\r\n/usr/lib/flink/lib/log4j-slf4j-impl-2.16.0.jar\r\n\r\n$ rpm -q -l -p output/flink/noarch/flink-jobmanager-1.11.6-1.el8.noarch.rpm | grep log4j\r\n$ rpm -q -l -p output/flink/noarch/flink-taskmanager-1.11.6-1.el8.noarch.rpm | grep log4j\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996409336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996450501","html_url":"https://github.com/apache/bigtop/pull/843#issuecomment-996450501","issue_url":"https://api.github.com/repos/apache/bigtop/issues/843","id":996450501,"node_id":"IC_kwDOACDj7M47ZKDF","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-17T05:33:02Z","updated_at":"2021-12-17T05:33:02Z","author_association":"MEMBER","body":"tested this on CentOS 8 container (x86_64):\r\n\r\n```\r\n$ ./docker-hadoop.sh \\\r\n   --create 1 \\[\r\n   --image bigtop/puppet:trunk-centos-8 \\\r\n   --memory 16g \\\r\n   --repo file:///bigtop-home/output \\\r\n   --disable-gpg-check \\\r\n   --stack zookeeper,hdfs,solrcloud \\\r\n   --smoke-tests solr\r\n...(snip)\r\nNow testing...\r\n:bigtop-tests:smoke-tests:solr:test (Thread[Execution worker for ':' Thread 4,5,main]) completed. Took 9.254 secs.\r\n\r\nBUILD SUCCESSFUL in 43s\r\n34 actionable tasks: 7 executed, 27 up-to-date\r\nStopped 1 worker daemon(s).\r\n+ rm -rf buildSrc/build/test-results/binary\r\n+ rm -rf /bigtop-home/.gradle\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996450501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996551970","html_url":"https://github.com/apache/bigtop/pull/844#issuecomment-996551970","issue_url":"https://api.github.com/repos/apache/bigtop/issues/844","id":996551970,"node_id":"IC_kwDOACDj7M47Zi0i","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-17T09:07:05Z","updated_at":"2021-12-17T09:07:24Z","author_association":"CONTRIBUTOR","body":"Built on Debian 10 x86:\r\n```\r\n$ dpkg -c output/hive/hive_2.3.6-3_all.deb | grep -e log4j.*.jar\r\n-rw-r--r-- root/root    207875 2021-12-17 09:29 ./usr/lib/hive/lib/log4j-1.2-api-2.16.0.jar\r\n-rw-r--r-- root/root    301861 2021-12-17 09:29 ./usr/lib/hive/lib/log4j-api-2.16.0.jar\r\n-rw-r--r-- root/root   1789526 2021-12-17 09:29 ./usr/lib/hive/lib/log4j-core-2.16.0.jar\r\n-rw-r--r-- root/root     22539 2021-12-17 09:29 ./usr/lib/hive/lib/log4j-jul-2.5.jar\r\n-rw-r--r-- root/root     24229 2021-12-17 09:29 ./usr/lib/hive/lib/log4j-slf4j-impl-2.16.0.jar\r\n-rw-r--r-- root/root     35324 2021-12-17 09:29 ./usr/lib/hive/lib/log4j-web-2.16.0.jar\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996551970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996660069","html_url":"https://github.com/apache/bigtop/pull/844#issuecomment-996660069","issue_url":"https://api.github.com/repos/apache/bigtop/issues/844","id":996660069,"node_id":"IC_kwDOACDj7M47Z9Nl","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-17T11:44:45Z","updated_at":"2021-12-17T11:44:45Z","author_association":"MEMBER","body":"Thanks for working on this @elukey.\r\n\r\nI got following error on starting up HiveServer2 when I ran docker provisioner:\r\n<pre>\r\nException in thread \"main\" java.lang.NoSuchMethodError: com.lmax.disruptor.dsl.Disruptor.<init>(Lcom/lmax/disruptor/EventFactory;ILjava/util/concurrent/ThreadFactory;Lcom/lmax/disruptor/dsl/ProducerType;Lcom/lmax/disruptor/WaitStrategy;)V\r\n        at org.apache.logging.log4j.core.async.AsyncLoggerDisruptor.start(AsyncLoggerDisruptor.java:108)\r\n        at org.apache.logging.log4j.core.async.AsyncLoggerContext.maybeStartHelper(AsyncLoggerContext.java:97)\r\n        at org.apache.logging.log4j.core.async.AsyncLoggerContext.start(AsyncLoggerContext.java:86)\r\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:242)\r\n        at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:160)\r\n        at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:132)\r\n        at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:102)\r\n        at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:211)\r\n        at org.apache.hadoop.hive.common.LogUtils.initHiveLog4jDefault(LogUtils.java:154)\r\n        at org.apache.hadoop.hive.common.LogUtils.initHiveLog4jCommon(LogUtils.java:90)\r\n        at org.apache.hadoop.hive.common.LogUtils.initHiveLog4jCommon(LogUtils.java:82)\r\n        at org.apache.hadoop.hive.common.LogUtils.initHiveLog4j(LogUtils.java:65)\r\n        at org.apache.hive.service.server.HiveServer2.main(HiveServer2.java:716)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.hadoop.util.RunJar.run(RunJar.java:244)\r\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:158)\r\n</pre>\r\n\r\ndisruptor-3.3.0 instead of 3.3.7 is containd in the package.\r\n```\r\n$ rpm -q -l -p output/hive/noarch/hive-2.3.6-3.el8.noarch.rpm | grep disruptor\r\n/usr/lib/hive/lib/disruptor-3.3.0.jar\r\n```\r\n\r\nDependency tree shows that Hive itself depends on disruptor only in test scope. Since hbase-server and druid-common (and more?) depends on disruptor in compile scope, fixing `disruptor.version` in pom.xml of Hive seems not to affect the version of disrupoter pulled as transitive dependency.\r\n```\r\n$ mvn -Dhbase.version=1.5.0 -Dzookeeper.version=3.4.13 -Dhadoop.version=2.10.1 -DskipTests -Dtez.version=0.9.2 -Dspark.version=2.4.5 dependency:tree\r\n...\r\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ hive-common ---\r\n[INFO] org.apache.hive:hive-common:jar:2.3.6\r\n...\r\n[INFO] +- com.lmax:disruptor:jar:3.3.7:test\r\n...\r\n[INFO] +- org.apache.hbase:hbase-server:jar:1.5.0:compile\r\n...\r\n[INFO] |  \\- com.lmax:disruptor:jar:3.3.0:compile\r\n...\r\n```","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996660069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996766671","html_url":"https://github.com/apache/bigtop/pull/844#issuecomment-996766671","issue_url":"https://api.github.com/repos/apache/bigtop/issues/844","id":996766671,"node_id":"IC_kwDOACDj7M47aXPP","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-17T14:31:49Z","updated_at":"2021-12-18T13:06:45Z","author_association":"CONTRIBUTOR","body":"@iwasakims thanks a lot for the test and the analysis, my docker provisioner is still not working properly :(\r\n\r\nI'll try to revert the disruptor change, not sure if really needed or not (maybe be a leftover of a test).\r\n\r\nEdit: now I get the problem, I didn't review carefully the stacktrace yesterday. So it seems that log4j needs a more up to date version of disruptor.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/996766671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997177892","html_url":"https://github.com/apache/bigtop/pull/830#issuecomment-997177892","issue_url":"https://api.github.com/repos/apache/bigtop/issues/830","id":997177892,"node_id":"IC_kwDOACDj7M47b7ok","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-18T09:47:28Z","updated_at":"2021-12-18T09:47:28Z","author_association":"CONTRIBUTOR","body":"@iwasakims I was finally able to run the smoke tests on debian 11 x86, all good!\r\n\r\n+1 to proceed :)","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997177892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997203062","html_url":"https://github.com/apache/bigtop/pull/844#issuecomment-997203062","issue_url":"https://api.github.com/repos/apache/bigtop/issues/844","id":997203062,"node_id":"IC_kwDOACDj7M47cBx2","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-18T13:31:13Z","updated_at":"2021-12-18T13:31:13Z","author_association":"CONTRIBUTOR","body":"Forcing the dependency in various pom.xml files like the following seems to lead to positive results:\r\n\r\n```\r\n    <dependency>\r\n      <groupId>com.lmax</groupId>\r\n      <artifactId>disruptor</artifactId>\r\n      <version>${disruptor.version}</version>\r\n    </dependency>\r\n```\r\n\r\nWill rebuild and test (now I have a working docker provisioner!)","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997203062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997207367","html_url":"https://github.com/apache/bigtop/pull/842#issuecomment-997207367","issue_url":"https://api.github.com/repos/apache/bigtop/issues/842","id":997207367,"node_id":"IC_kwDOACDj7M47cC1H","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-18T14:05:52Z","updated_at":"2021-12-18T14:05:52Z","author_association":"CONTRIBUTOR","body":"Trying to build on debian11 x86, I got failed builds due to (what it seems to be) a temporary npm registry issue:\r\n\r\n```\r\n[ERROR] npm ERR! code EAI_AGAIN\r\n[ERROR] npm ERR! errno EAI_AGAIN\r\n```\r\n\r\nDoes it happen to anybody else?","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997207367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997209371","html_url":"https://github.com/apache/bigtop/pull/830#issuecomment-997209371","issue_url":"https://api.github.com/repos/apache/bigtop/issues/830","id":997209371,"node_id":"IC_kwDOACDj7M47cDUb","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-18T14:21:58Z","updated_at":"2021-12-18T14:21:58Z","author_association":"MEMBER","body":"Thanks, @elukey. I merged this.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997209371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997227730","html_url":"https://github.com/apache/bigtop/pull/844#issuecomment-997227730","issue_url":"https://api.github.com/repos/apache/bigtop/issues/844","id":997227730,"node_id":"IC_kwDOACDj7M47cHzS","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-18T16:37:32Z","updated_at":"2021-12-18T16:37:32Z","author_association":"CONTRIBUTOR","body":"With the new patch I can see disruptor 3.3.7 in the hive's .deb and the startup error seems gone. I need to test more the packages on the docker provisioner though, if anybody else want to re-test the last version of the patch if would be great :)","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997227730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997229434","html_url":"https://github.com/apache/bigtop/pull/844#issuecomment-997229434","issue_url":"https://api.github.com/repos/apache/bigtop/issues/844","id":997229434,"node_id":"IC_kwDOACDj7M47cIN6","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-18T16:50:41Z","updated_at":"2021-12-18T16:50:41Z","author_association":"CONTRIBUTOR","body":"Test done so far:\r\n- started the docker-hadoop.sh script with hive/hadoop/yarn/hdfs/mapreduce on Bigtop 1.5 (release versions, no custom packages)\r\n- From the /bigtop-home dir, I manually dpkg -i the new hive packages and restarted the hive server and metastore.\r\n- Verified on logs, lsof, etc.. that the new log4 version was picked up.\r\n- Tried the hive cli utility with SHOW DATABASES.\r\n- Checked the logs for stacktraces etc.. but didn't find any.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997229434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997348608","html_url":"https://github.com/apache/bigtop/pull/844#issuecomment-997348608","issue_url":"https://api.github.com/repos/apache/bigtop/issues/844","id":997348608,"node_id":"IC_kwDOACDj7M47clUA","user":{"login":"elukey","id":1536240,"node_id":"MDQ6VXNlcjE1MzYyNDA=","avatar_url":"https://avatars.githubusercontent.com/u/1536240?v=4","gravatar_id":"","url":"https://api.github.com/users/elukey","html_url":"https://github.com/elukey","followers_url":"https://api.github.com/users/elukey/followers","following_url":"https://api.github.com/users/elukey/following{/other_user}","gists_url":"https://api.github.com/users/elukey/gists{/gist_id}","starred_url":"https://api.github.com/users/elukey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elukey/subscriptions","organizations_url":"https://api.github.com/users/elukey/orgs","repos_url":"https://api.github.com/users/elukey/repos","events_url":"https://api.github.com/users/elukey/events{/privacy}","received_events_url":"https://api.github.com/users/elukey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-19T08:18:12Z","updated_at":"2021-12-19T08:18:27Z","author_association":"CONTRIBUTOR","body":"@iwasakims thanks a lot for the patience in reviewing, my experience with maven is not a lot  :)\r\n\r\nYour suggestions make sense, I am going to amend the patch and re-test, will report asap.","reactions":{"url":"https://api.github.com/repos/apache/bigtop/issues/comments/997348608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]