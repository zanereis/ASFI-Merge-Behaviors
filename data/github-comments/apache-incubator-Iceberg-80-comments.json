[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/786901383","html_url":"https://github.com/apache/iceberg/pull/2240#issuecomment-786901383","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2240","id":786901383,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NjkwMTM4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-26T21:24:04Z","updated_at":"2021-02-26T21:24:04Z","author_association":"CONTRIBUTOR","body":"It sounds like it would take some work to serialize Table. I think we'd want to update it so that at least one version of TableMetadata is also carried through to avoid that read on every executor. In the long run, that's probably a good thing to do. But for now we can make easier progress serializing things separately.\r\n\r\nEventually, I think we should broadcast the table and FileIO together to take care of this issue for all of the things that might be expensive to serialize.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/786901383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/786938822","html_url":"https://github.com/apache/iceberg/pull/2266#issuecomment-786938822","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2266","id":786938822,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NjkzODgyMg==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-26T22:57:17Z","updated_at":"2021-02-26T22:57:17Z","author_association":"CONTRIBUTOR","body":"I should have some time to review this over the weekend as well","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/786938822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/786990730","html_url":"https://github.com/apache/iceberg/pull/2229#issuecomment-786990730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2229","id":786990730,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Njk5MDczMA==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-27T02:47:24Z","updated_at":"2021-02-27T02:47:24Z","author_association":"CONTRIBUTOR","body":"@rdblue could you help me review it ? thanks ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/786990730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787059052","html_url":"https://github.com/apache/iceberg/pull/2240#issuecomment-787059052","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2240","id":787059052,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NzA1OTA1Mg==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-27T11:32:55Z","updated_at":"2021-02-27T18:25:39Z","author_association":"COLLABORATOR","body":"Thanks guys for the time and discussion (learning a lot on the side).\r\n\r\nIf I understand correctly, it looks metrics-promotion on read is the way to go due to simplicity, esp in regards to alter table not having to alter auto-promoted metrics properties.  But in this approach we have to manually pass in sortOrder in all places of write, and I missed it in the new SparkTableUtil and Flink, which I can add.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787059052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787117963","html_url":"https://github.com/apache/iceberg/pull/2240#issuecomment-787117963","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2240","id":787117963,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NzExNzk2Mw==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-27T18:47:21Z","updated_at":"2021-02-27T18:47:21Z","author_association":"COLLABORATOR","body":"Edit: and for now as Table is hard to serialize, we can have MetricsConfig.forSortOrder(properties, sortOrder), to make progress, as SortOrder is already serializable.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787117963/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787465158","html_url":"https://github.com/apache/iceberg/issues/2260#issuecomment-787465158","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2260","id":787465158,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NzQ2NTE1OA==","user":{"login":"yfcck","id":43957,"node_id":"MDQ6VXNlcjQzOTU3","avatar_url":"https://avatars.githubusercontent.com/u/43957?v=4","gravatar_id":"","url":"https://api.github.com/users/yfcck","html_url":"https://github.com/yfcck","followers_url":"https://api.github.com/users/yfcck/followers","following_url":"https://api.github.com/users/yfcck/following{/other_user}","gists_url":"https://api.github.com/users/yfcck/gists{/gist_id}","starred_url":"https://api.github.com/users/yfcck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yfcck/subscriptions","organizations_url":"https://api.github.com/users/yfcck/orgs","repos_url":"https://api.github.com/users/yfcck/repos","events_url":"https://api.github.com/users/yfcck/events{/privacy}","received_events_url":"https://api.github.com/users/yfcck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-28T14:54:49Z","updated_at":"2021-02-28T14:54:49Z","author_association":"NONE","body":"> @rlcyf: Does this prevent you from reading the data? Or it is just a warning? Does adding the iceberg-hive-runtime.jar to the classpath help?\r\n> \r\n> Thanks,\r\n> Peter\r\n\r\nput iceberg-hive-runtime.jar and iceberg-spark3-runtime.jar to spark/jars\r\nall can be executed normally!\r\nthanks!\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787465158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787482173","html_url":"https://github.com/apache/iceberg/pull/2282#issuecomment-787482173","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2282","id":787482173,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NzQ4MjE3Mw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-28T16:50:40Z","updated_at":"2021-02-28T16:50:40Z","author_association":"MEMBER","body":"Thanks so much for writing this up! I'll take a look soon","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787482173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787520280","html_url":"https://github.com/apache/iceberg/pull/2279#issuecomment-787520280","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2279","id":787520280,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NzUyMDI4MA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-28T20:47:16Z","updated_at":"2021-02-28T20:47:16Z","author_association":"CONTRIBUTOR","body":"As #2283 got it there is no need to revert","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787520280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787520537","html_url":"https://github.com/apache/iceberg/pull/2283#issuecomment-787520537","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2283","id":787520537,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NzUyMDUzNw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-28T20:49:08Z","updated_at":"2021-02-28T20:49:08Z","author_association":"CONTRIBUTOR","body":"@marton-bod: Thanks for the review!\r\n\r\n@shardulm94: Based on the dev list discussion created a quick fix and pushed the change, but I would like to have your review if possible\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787520537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787614495","html_url":"https://github.com/apache/iceberg/issues/2277#issuecomment-787614495","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2277","id":787614495,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NzYxNDQ5NQ==","user":{"login":"allenzhg","id":20509543,"node_id":"MDQ6VXNlcjIwNTA5NTQz","avatar_url":"https://avatars.githubusercontent.com/u/20509543?v=4","gravatar_id":"","url":"https://api.github.com/users/allenzhg","html_url":"https://github.com/allenzhg","followers_url":"https://api.github.com/users/allenzhg/followers","following_url":"https://api.github.com/users/allenzhg/following{/other_user}","gists_url":"https://api.github.com/users/allenzhg/gists{/gist_id}","starred_url":"https://api.github.com/users/allenzhg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allenzhg/subscriptions","organizations_url":"https://api.github.com/users/allenzhg/orgs","repos_url":"https://api.github.com/users/allenzhg/repos","events_url":"https://api.github.com/users/allenzhg/events{/privacy}","received_events_url":"https://api.github.com/users/allenzhg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T03:42:48Z","updated_at":"2021-03-01T03:42:48Z","author_association":"NONE","body":"> @allenzhg: What catalog do you try to do?\r\n> The valid values are:\r\n> \r\n> * `hive` - HiveCatalog\r\n> * `hadoop` - HadoopCatalog\r\n> \r\n> Where do you issue the table building statement? (Hive/Flink/Spark?)\r\n> \r\n> Thanks,\r\n> Peter\r\n\r\n\r\nthe table building statement in hive. i wanted from hive read iceberg table content.\r\nthanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787614495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787627901","html_url":"https://github.com/apache/iceberg/issues/2277#issuecomment-787627901","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2277","id":787627901,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NzYyNzkwMQ==","user":{"login":"allenzhg","id":20509543,"node_id":"MDQ6VXNlcjIwNTA5NTQz","avatar_url":"https://avatars.githubusercontent.com/u/20509543?v=4","gravatar_id":"","url":"https://api.github.com/users/allenzhg","html_url":"https://github.com/allenzhg","followers_url":"https://api.github.com/users/allenzhg/followers","following_url":"https://api.github.com/users/allenzhg/following{/other_user}","gists_url":"https://api.github.com/users/allenzhg/gists{/gist_id}","starred_url":"https://api.github.com/users/allenzhg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allenzhg/subscriptions","organizations_url":"https://api.github.com/users/allenzhg/orgs","repos_url":"https://api.github.com/users/allenzhg/repos","events_url":"https://api.github.com/users/allenzhg/events{/privacy}","received_events_url":"https://api.github.com/users/allenzhg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T04:30:21Z","updated_at":"2021-03-01T04:35:34Z","author_association":"NONE","body":"> * case\r\n\r\n1. hadoop_catalog does me created.\r\nbuilding statement is :\r\nCREATE CATALOG hadoop_catalog WITH (\r\n  'type'='iceberg',\r\n  'catalog-type'='hadoop',\r\n  'warehouse'='hdfs://usr/hive/warehouse/',\r\n  'property-version'='1'\r\n);\r\n\r\nCREATE CATALOG hive_catalog WITH (\r\n  'type'='iceberg',\r\n  'catalog-type'='hive',\r\n  'uri'='thrift://172.24.xxx:xxx'\r\n  'clients'='20',\r\n  'property-version'='1',\r\n  'warehouse'='hdfs://usr/hive/warehouse/'\r\n);\r\n\r\n2. create same table for sample1 and have a same error.\r\n create table statement  in flink sql client:\r\nUSE CATALOG hive_catalog;\r\nCREATE DATABASE iceberg_db;\r\nCREATE TABLE sample1(\r\n    id BIGINT COMMENT 'unique id',\r\n    data STRING\r\n);\r\n\r\n![image](https://user-images.githubusercontent.com/20509543/109452395-9a6f6800-7a8a-11eb-9432-2599c0308e0c.png)\r\n\r\n\r\nthanks. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787627901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787907402","html_url":"https://github.com/apache/iceberg/issues/2277#issuecomment-787907402","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2277","id":787907402,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NzkwNzQwMg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T12:20:42Z","updated_at":"2021-03-01T12:20:42Z","author_association":"CONTRIBUTOR","body":"@allenzhg: Could you please explain what are you trying to archive here?\r\n\r\nThe table should be either in HiveCatalog, or in HadoopCatalog. The exact commands are described in  https://iceberg.apache.org/hive/. If the documentation is not clear then please help us highlighting the issues, so we can fix them.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/787907402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788028555","html_url":"https://github.com/apache/iceberg/pull/2283#issuecomment-788028555","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2283","id":788028555,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODAyODU1NQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T15:18:52Z","updated_at":"2021-03-01T15:18:52Z","author_association":"CONTRIBUTOR","body":"On these tests that check timezone sensitive types, and with the new changes in #2278 should we check with a few timezones to validate something like in https://github.com/apache/iceberg/blob/master/orc/src/test/java/org/apache/iceberg/orc/TestExpressionToSearchArgument.java#L120 - Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788028555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788078056","html_url":"https://github.com/apache/iceberg/pull/2283#issuecomment-788078056","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2283","id":788078056,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODA3ODA1Ng==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T16:20:24Z","updated_at":"2021-03-01T16:20:24Z","author_association":"CONTRIBUTOR","body":"> On these tests that check timezone sensitive types, and with the new changes in #2278 should we check with a few timezones to validate something like in https://github.com/apache/iceberg/blob/master/orc/src/test/java/org/apache/iceberg/orc/TestExpressionToSearchArgument.java#L120 - Thanks!\r\n\r\nI am not sure I understand your suggestion correctly, so please correct me if I missed something.\r\n\r\n- We have end-to-end tests in `TestHiveIcebergStorageHandlerTimezone`. There we test the `date`/`timestamp`/`timestamp withzone` - same as in TestExpressionToSearchArgument. Might be useful for add tests with all of the `FileFormat`-s, but my feeling is that it should be tested on the individual FileFormats, and not here.\r\n- We test the individual conversion in the `TestHiveIcebergFilterFactory`. I am not fan of this test as it is basically inverting the `microsFromTimestamp(Timestamp timestamp)` method, and only testing if `timestamp.toLocalDateTime()` is working correctly or not ðŸ˜„ ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788078056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788079096","html_url":"https://github.com/apache/iceberg/pull/2278#issuecomment-788079096","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2278","id":788079096,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODA3OTA5Ng==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T16:21:45Z","updated_at":"2021-03-01T16:21:45Z","author_association":"CONTRIBUTOR","body":"@shardulm94: Could you please review this PR? This is the TimestampTz part of our previous change (#2254)\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788079096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788118764","html_url":"https://github.com/apache/iceberg/pull/2282#issuecomment-788118764","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2282","id":788118764,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODExODc2NA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T17:14:38Z","updated_at":"2021-03-01T17:14:38Z","author_association":"MEMBER","body":"Left a few commons! Very excited for this to finally get fixed :) Any chance you want to do the \"write\" pathway as well? I don't think it would be that many more changes to the code.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788118764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788130179","html_url":"https://github.com/apache/iceberg/pull/2282#issuecomment-788130179","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2282","id":788130179,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODEzMDE3OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T17:30:41Z","updated_at":"2021-03-01T17:30:41Z","author_association":"MEMBER","body":"Also nit, you'll probably want to fetch apache master and rebase this branch that to drop the \"merge 1 commit\" from the commits in the PR","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788130179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788155594","html_url":"https://github.com/apache/iceberg/pull/2283#issuecomment-788155594","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2283","id":788155594,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODE1NTU5NA==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T18:07:51Z","updated_at":"2021-03-01T18:07:51Z","author_association":"CONTRIBUTOR","body":"I agree that this test is not particularly interesting. But, moving forward my suggestion goes to suggest how can we avoid test cases to not be detected by CI when ran in different timezones - as was the case with the changes that lead to this test failing. \r\nIf you think we're covered with the existing test harness then that should be enough ðŸ‘ðŸ½ .","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788155594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788175464","html_url":"https://github.com/apache/iceberg/pull/2282#issuecomment-788175464","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2282","id":788175464,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODE3NTQ2NA==","user":{"login":"bkahloon","id":42993708,"node_id":"MDQ6VXNlcjQyOTkzNzA4","avatar_url":"https://avatars.githubusercontent.com/u/42993708?v=4","gravatar_id":"","url":"https://api.github.com/users/bkahloon","html_url":"https://github.com/bkahloon","followers_url":"https://api.github.com/users/bkahloon/followers","following_url":"https://api.github.com/users/bkahloon/following{/other_user}","gists_url":"https://api.github.com/users/bkahloon/gists{/gist_id}","starred_url":"https://api.github.com/users/bkahloon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkahloon/subscriptions","organizations_url":"https://api.github.com/users/bkahloon/orgs","repos_url":"https://api.github.com/users/bkahloon/repos","events_url":"https://api.github.com/users/bkahloon/events{/privacy}","received_events_url":"https://api.github.com/users/bkahloon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T18:36:40Z","updated_at":"2021-03-01T18:36:40Z","author_association":"CONTRIBUTOR","body":"> Left a few commons! Very excited for this to finally get fixed :) Any chance you want to do the \"write\" pathway as well? I don't think it would be that many more changes to the code.\r\n\r\nYea, I can attempt to do the writes as well. Should I do it the same PR ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788175464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788176209","html_url":"https://github.com/apache/iceberg/pull/2282#issuecomment-788176209","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2282","id":788176209,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODE3NjIwOQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T18:37:49Z","updated_at":"2021-03-01T18:37:49Z","author_association":"MEMBER","body":"You could do another if you like, but I think it's also reasonable to do it here. Up to you","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788176209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788176576","html_url":"https://github.com/apache/iceberg/pull/2282#issuecomment-788176576","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2282","id":788176576,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODE3NjU3Ng==","user":{"login":"bkahloon","id":42993708,"node_id":"MDQ6VXNlcjQyOTkzNzA4","avatar_url":"https://avatars.githubusercontent.com/u/42993708?v=4","gravatar_id":"","url":"https://api.github.com/users/bkahloon","html_url":"https://github.com/bkahloon","followers_url":"https://api.github.com/users/bkahloon/followers","following_url":"https://api.github.com/users/bkahloon/following{/other_user}","gists_url":"https://api.github.com/users/bkahloon/gists{/gist_id}","starred_url":"https://api.github.com/users/bkahloon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkahloon/subscriptions","organizations_url":"https://api.github.com/users/bkahloon/orgs","repos_url":"https://api.github.com/users/bkahloon/repos","events_url":"https://api.github.com/users/bkahloon/events{/privacy}","received_events_url":"https://api.github.com/users/bkahloon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T18:38:25Z","updated_at":"2021-03-01T19:36:28Z","author_association":"CONTRIBUTOR","body":"> Also nit, you'll probably want to fetch apache master and rebase this branch that to drop the \"merge 1 commit\" from the commits in the PR\r\n\r\nI can make the changes you mentioned and also open a new PR and comply with the project's commit history standards. I think I missed a few things that you mentioned and also not prefixing my commits with the project that the commits relate to (i.e. `spark:`). \r\n\r\nShould I open a new PR after making the changes and close this one ?\r\n\r\nEDIT: just did what you mentioned, and was able to rebase","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788176576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788176916","html_url":"https://github.com/apache/iceberg/pull/2282#issuecomment-788176916","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2282","id":788176916,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODE3NjkxNg==","user":{"login":"bkahloon","id":42993708,"node_id":"MDQ6VXNlcjQyOTkzNzA4","avatar_url":"https://avatars.githubusercontent.com/u/42993708?v=4","gravatar_id":"","url":"https://api.github.com/users/bkahloon","html_url":"https://github.com/bkahloon","followers_url":"https://api.github.com/users/bkahloon/followers","following_url":"https://api.github.com/users/bkahloon/following{/other_user}","gists_url":"https://api.github.com/users/bkahloon/gists{/gist_id}","starred_url":"https://api.github.com/users/bkahloon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkahloon/subscriptions","organizations_url":"https://api.github.com/users/bkahloon/orgs","repos_url":"https://api.github.com/users/bkahloon/repos","events_url":"https://api.github.com/users/bkahloon/events{/privacy}","received_events_url":"https://api.github.com/users/bkahloon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T18:38:57Z","updated_at":"2021-03-01T18:38:57Z","author_association":"CONTRIBUTOR","body":"> You could do another if you like, but I think it's also reasonable to do it here. Up to you\r\n\r\nOkay, I'll just do it in this one","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788176916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788225884","html_url":"https://github.com/apache/iceberg/pull/2287#issuecomment-788225884","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2287","id":788225884,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODIyNTg4NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T19:53:53Z","updated_at":"2021-03-01T19:53:53Z","author_association":"CONTRIBUTOR","body":"This looks like a great start! I'll take a closer look in a bit. And we should also incorporate this into the refactor that @aokolnychyi is working on.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788225884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788910177","html_url":"https://github.com/apache/iceberg/pull/2047#issuecomment-788910177","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2047","id":788910177,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODkxMDE3Nw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-02T13:30:47Z","updated_at":"2021-03-02T13:30:47Z","author_association":"MEMBER","body":"@stevenzwu PR looks good to me overall,  just left few comments. Sorry for the delay ( a bit busy for our internal things), thanks for the great work !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788910177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788915005","html_url":"https://github.com/apache/iceberg/issues/2277#issuecomment-788915005","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2277","id":788915005,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODkxNTAwNQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-02T13:38:05Z","updated_at":"2021-03-02T13:38:05Z","author_association":"MEMBER","body":"@allenzhg , You mean you want to writing data by flink streaming job into apache iceberg table, then read it by using Hive sql query ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788915005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788939041","html_url":"https://github.com/apache/iceberg/pull/2240#issuecomment-788939041","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2240","id":788939041,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODkzOTA0MQ==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-02T14:15:03Z","updated_at":"2021-03-02T14:15:03Z","author_association":"COLLABORATOR","body":"Hi @rdblue @aokolnychyi  , so I propagated the SortOrder through the various writers as discussed, including the ones I missed before. \r\n\r\nI spent some time verifying it by unit tests (TestMergingMetrics gives good coverage for Flink/Generic/Spark AppenderFactory, and TestSparkDataWrite is an end-to-end test on Spark side).  When you get a chance, let me know what you think, thanks again.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/788939041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789384685","html_url":"https://github.com/apache/iceberg/pull/2285#issuecomment-789384685","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2285","id":789384685,"node_id":"MDEyOklzc3VlQ29tbWVudDc4OTM4NDY4NQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T02:45:22Z","updated_at":"2021-03-03T02:45:22Z","author_association":"MEMBER","body":"@yyanyy  thanks for the checking,  actually  it's a preview PR for myself github repo (https://github.com/openinx/incubator-iceberg),  I pull request the patch to the apache official repo by mistake.   I create this patch because I want to know what's the specific work that we need to support bucket table in flink side.   The table property solution ( to define the buckets) is not the final solution for flink sql,  because it seems hard to accomplish the flink runtime optimization when defining the bucket policy in table property.  The flink team are considering to provide a `BUCKET` SQL clause to make the bucket feature work.   I will close this PR, thanks. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789384685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789408931","html_url":"https://github.com/apache/iceberg/issues/2289#issuecomment-789408931","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2289","id":789408931,"node_id":"MDEyOklzc3VlQ29tbWVudDc4OTQwODkzMQ==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T03:56:29Z","updated_at":"2021-03-03T03:56:29Z","author_association":"CONTRIBUTOR","body":"1.The `CachingCatalog` cache is used by default for SQL queries, which can be turned off by adding the following parameter when launching Spark-shell\r\n```\r\n--conf \"spark.sql.catalog.hadoop_prod.cache-enabled=false\"\r\n```\r\n\r\n2.The other way is to refresh the current table before querying the Iceberg table:\r\n```\r\nspark.sql(\"refresh table prod.db.tb\")\r\nspark.sql(\"select * from prod.db.tb\")\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789408931/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789466988","html_url":"https://github.com/apache/iceberg/issues/2289#issuecomment-789466988","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2289","id":789466988,"node_id":"MDEyOklzc3VlQ29tbWVudDc4OTQ2Njk4OA==","user":{"login":"yfcck","id":43957,"node_id":"MDQ6VXNlcjQzOTU3","avatar_url":"https://avatars.githubusercontent.com/u/43957?v=4","gravatar_id":"","url":"https://api.github.com/users/yfcck","html_url":"https://github.com/yfcck","followers_url":"https://api.github.com/users/yfcck/followers","following_url":"https://api.github.com/users/yfcck/following{/other_user}","gists_url":"https://api.github.com/users/yfcck/gists{/gist_id}","starred_url":"https://api.github.com/users/yfcck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yfcck/subscriptions","organizations_url":"https://api.github.com/users/yfcck/orgs","repos_url":"https://api.github.com/users/yfcck/repos","events_url":"https://api.github.com/users/yfcck/events{/privacy}","received_events_url":"https://api.github.com/users/yfcck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T06:15:05Z","updated_at":"2021-03-03T06:15:05Z","author_association":"NONE","body":"> 1.The `CachingCatalog` cache is used by default for SQL queries, which can be turned off by adding the following parameter when launching Spark-shell\r\n> \r\n> ```\r\n> --conf \"spark.sql.catalog.hadoop_prod.cache-enabled=false\"\r\n> ```\r\n> \r\n> 2.The other way is to refresh the current table before querying the Iceberg table:\r\n> \r\n> ```\r\n> spark.sql(\"refresh table prod.db.tb\")\r\n> spark.sql(\"select * from prod.db.tb\")\r\n> ```\r\n\r\nths! \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789466988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789468422","html_url":"https://github.com/apache/iceberg/issues/2223#issuecomment-789468422","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2223","id":789468422,"node_id":"MDEyOklzc3VlQ29tbWVudDc4OTQ2ODQyMg==","user":{"login":"yfcck","id":43957,"node_id":"MDQ6VXNlcjQzOTU3","avatar_url":"https://avatars.githubusercontent.com/u/43957?v=4","gravatar_id":"","url":"https://api.github.com/users/yfcck","html_url":"https://github.com/yfcck","followers_url":"https://api.github.com/users/yfcck/followers","following_url":"https://api.github.com/users/yfcck/following{/other_user}","gists_url":"https://api.github.com/users/yfcck/gists{/gist_id}","starred_url":"https://api.github.com/users/yfcck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yfcck/subscriptions","organizations_url":"https://api.github.com/users/yfcck/orgs","repos_url":"https://api.github.com/users/yfcck/repos","events_url":"https://api.github.com/users/yfcck/events{/privacy}","received_events_url":"https://api.github.com/users/yfcck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T06:17:57Z","updated_at":"2021-03-03T06:17:57Z","author_association":"NONE","body":"fixed \r\nhttps://github.com/trinodb/trino/issues/6982#event-4365772616","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789468422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789512587","html_url":"https://github.com/apache/iceberg/pull/2290#issuecomment-789512587","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2290","id":789512587,"node_id":"MDEyOklzc3VlQ29tbWVudDc4OTUxMjU4Nw==","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T07:47:00Z","updated_at":"2021-03-03T07:47:00Z","author_association":"CONTRIBUTOR","body":"made a mistake here. Don't Read. Will update soon","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789512587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789712836","html_url":"https://github.com/apache/iceberg/pull/2286#issuecomment-789712836","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2286","id":789712836,"node_id":"MDEyOklzc3VlQ29tbWVudDc4OTcxMjgzNg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T13:26:46Z","updated_at":"2021-03-03T13:26:46Z","author_association":"CONTRIBUTOR","body":"Hey @mayursrivastava Ive gotten part of the way through this. Expect a more complete review soon. Early comment:\r\n\r\nI am unsure of exposing the `VectorSchemaRoot` directly. Its not an easy object to work with for non-experts and creates potential lifetime/ownership issues. I think a wrapper object similar to Sparks `ColumnBatch` may be more accessible for people who just want the speed of vectorised reads w/o the effort of directly reading Arrow data structures. Though I could see the desire to still expose an advanced user mode to consume the `VectorSchemaRoot` directly with arrow friendly tools.\r\n\r\nWhat do you think? What were the use cases you were thinking of for this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789712836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789913182","html_url":"https://github.com/apache/iceberg/pull/2293#issuecomment-789913182","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2293","id":789913182,"node_id":"MDEyOklzc3VlQ29tbWVudDc4OTkxMzE4Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T17:32:45Z","updated_at":"2021-03-03T17:32:45Z","author_association":"CONTRIBUTOR","body":"After a quick look, this seems correct to me. I'll take a longer look at the test when I get a chance.\r\n\r\n@aokolnychyi, you may want to review this as well. Thanks @edgarRd!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/789913182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790067044","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790067044","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790067044,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDA2NzA0NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T21:28:14Z","updated_at":"2021-03-03T21:31:01Z","author_association":"CONTRIBUTOR","body":"I think the only open point on this PR is whether we have any better ideas around snapshot/migrate methods. I think implementations like `SparkActions` can offer methods that accept Spark `Catalog` and `Identifier`. That's what we are going to use in our procedures.\r\n\r\nWe may consider either exposing such methods alongside the methods that accept strings or we can introduce type parameters in `ActionProvider`.\r\n\r\n```\r\npublic interface ActionsProvider<C, I> {\r\n\r\n  default SnapshotTable snapshotTable(C sourceCatalog, I sourceIdent) {\r\n    throw new UnsupportedOperationException(this.getClass().getName() + \" does not implement snapshotTable\");\r\n  }\r\n\r\n  default MigrateTable migrateTable(C catalog, I ident) {\r\n    throw new UnsupportedOperationException(this.getClass().getName() + \" does not implement migrateTable\");\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790067044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790067651","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790067651","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790067651,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDA2NzY1MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T21:29:16Z","updated_at":"2021-03-03T21:29:16Z","author_association":"CONTRIBUTOR","body":"Could everyone please let me know their thoughts? I'd like to finish with this PR and submit follow-ups.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790067651/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790072177","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790072177","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790072177,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDA3MjE3Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T21:34:29Z","updated_at":"2021-03-03T21:36:37Z","author_association":"CONTRIBUTOR","body":"Actually, we may not need the catalog. We can simply use the identifier.\r\n\r\n```\r\npublic interface ActionsProvider<I> {\r\n\r\n  default SnapshotTable snapshotTable(I sourceTableIdent) {\r\n    throw new UnsupportedOperationException(this.getClass().getName() + \" does not implement snapshotTable\");\r\n  }\r\n\r\n  default MigrateTable migrateTable(I tableIdent) {\r\n    throw new UnsupportedOperationException(this.getClass().getName() + \" does not implement migrateTable\");\r\n  }\r\n```\r\n\r\nAnd then we can offer methods that accept `Table` as well as `Identifier` for other actions.\r\n\r\n```\r\n  default RewriteManifests rewriteManifests(I tableIdent) {\r\n    throw new UnsupportedOperationException(this.getClass().getName() + \" does not implement rewriteManifests\");\r\n  }\r\n\r\n  default RewriteManifests rewriteManifests(Table table) {\r\n    throw new UnsupportedOperationException(this.getClass().getName() + \" does not implement rewriteManifests\");\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790072177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790080538","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790080538","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790080538,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDA4MDUzOA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T21:42:12Z","updated_at":"2021-03-03T21:48:12Z","author_association":"CONTRIBUTOR","body":"Well, maybe using just identifiers won't be sufficient as the catalog resolution can depend on the context. In case of procedures, we default the catalog to the procedure catalog, not the default catalog. However, we can solve that differently.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790080538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790085690","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790085690","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790085690,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDA4NTY5MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T21:50:48Z","updated_at":"2021-03-03T21:51:00Z","author_association":"CONTRIBUTOR","body":"Here is an example of what I mean:\r\n\r\n```\r\npublic interface ActionsProvider<I> {\r\n\r\n  default SnapshotTable<I> snapshotTable(I sourceTableIdent) {\r\n    ...\r\n  }\r\n\r\n  default MigrateTable<I> migrateTable(I tableIdent) {\r\n    ...\r\n  }\r\n\r\n  default RewriteManifests rewriteManifests(I tableIdent) {\r\n    ...\r\n  }\r\n\r\n  default RewriteManifests rewriteManifests(Table table) {\r\n    ...\r\n  }\r\n\r\n  ...\r\n}\r\n\r\nclass SparkActions implements ActionsProvider<org.apache.spark.sql.connector.Identifier> {\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790085690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790090408","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790090408","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790090408,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDA5MDQwOA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T21:59:37Z","updated_at":"2021-03-03T21:59:37Z","author_association":"MEMBER","body":"@aokolnychyi Does that mean the caller needs to append the catalog to the identifier based on it's call context?\r\n\r\nIe if i am running Migrate Table Procedure from my_catalog and I get database.table as the arg, then the procedure makes a new identifier my_catalog.database.table and passes it through?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790090408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790096083","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790096083","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790096083,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDA5NjA4Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T22:02:40Z","updated_at":"2021-03-03T22:02:40Z","author_association":"CONTRIBUTOR","body":"> Ie if i am running Migrate Table Procedure from my_catalog and I get database.table as the arg, then the procedure makes a new identifier my_catalog.database.table and passes it through?\r\n\r\nWell, that would work but not very clean. We can keep Catalog and Identifier separate as well. The main idea is to add params to `ActionsProvider` and use query engine specific classes instead of strings. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790096083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790109483","html_url":"https://github.com/apache/iceberg/pull/2287#issuecomment-790109483","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2287","id":790109483,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDEwOTQ4Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T22:11:21Z","updated_at":"2021-03-03T22:11:21Z","author_association":"CONTRIBUTOR","body":"Let me take a look at this today too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790109483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790110682","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790110682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790110682,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDExMDY4Mg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T22:13:49Z","updated_at":"2021-03-03T22:13:49Z","author_association":"MEMBER","body":"It seems rather complicated either way, although with a single Type parameter we could still pass a parameterized Pair (Catalog + Identifier) ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790110682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790133773","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790133773","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790133773,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDEzMzc3Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T23:00:27Z","updated_at":"2021-03-03T23:00:47Z","author_association":"CONTRIBUTOR","body":"The problem with using Spark 3 `Identifier` is that Spark does not actually expose it anywhere except the catalog implementations, meaning we don't really have a good engine API to expose to our users.\r\n\r\nUsing our `TableIdentifier` to refer to non-Iceberg tables does not seem ideal either but let me think about it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790133773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790149134","html_url":"https://github.com/apache/iceberg/pull/2286#issuecomment-790149134","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2286","id":790149134,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDE0OTEzNA==","user":{"login":"mayursrivastava","id":8659624,"node_id":"MDQ6VXNlcjg2NTk2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8659624?v=4","gravatar_id":"","url":"https://api.github.com/users/mayursrivastava","html_url":"https://github.com/mayursrivastava","followers_url":"https://api.github.com/users/mayursrivastava/followers","following_url":"https://api.github.com/users/mayursrivastava/following{/other_user}","gists_url":"https://api.github.com/users/mayursrivastava/gists{/gist_id}","starred_url":"https://api.github.com/users/mayursrivastava/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayursrivastava/subscriptions","organizations_url":"https://api.github.com/users/mayursrivastava/orgs","repos_url":"https://api.github.com/users/mayursrivastava/repos","events_url":"https://api.github.com/users/mayursrivastava/events{/privacy}","received_events_url":"https://api.github.com/users/mayursrivastava/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T23:30:19Z","updated_at":"2021-03-03T23:30:19Z","author_association":"CONTRIBUTOR","body":"Thanks for looking into it @rymurr \r\n\r\nI'm looking to integrate this with our existing Apache Arrow/Flight service and some internal services which use VectorSchemaRoot and Arrow Field Vectors directly. Using ColumnBatch or a similar class will require us to somehow get access to the internal Arrow data structures (VectorSchemaRoot or Arrow Field Vector). On the lifecycle question I agree, Arrow Field Vectors or VectorSchemaRoot have a lifecycle policy (which is currently being handled by the reader) and need some careful handling by the user. So, yes, this is for advanced users. \r\n\r\nIf we want to provide more user friendly accessors in addition to the VectorSchemaRoot or Field Vectors, we can try to move the accessor classes from Spark to the iceberg-arrow module, but we will still need to provide access to Arrow internal data structures so that they can be used by advanced users.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790149134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790178251","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790178251","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790178251,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDE3ODI1MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T00:14:38Z","updated_at":"2021-03-04T00:15:29Z","author_association":"CONTRIBUTOR","body":"We should probably pick between strings and Iceberg identifiers. I lean towards strings as we sometimes refer to non-Iceberg tables but it is not a strong opinion. Even Spark uses strings in its `DataFrameWriter` APIs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790178251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790180247","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790180247","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790180247,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDE4MDI0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T00:18:34Z","updated_at":"2021-03-04T00:18:34Z","author_association":"CONTRIBUTOR","body":"Let's use Strings for now. That's what we already do in the actions and we didn't have a problem with it before.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790180247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790182792","html_url":"https://github.com/apache/iceberg/pull/2267#issuecomment-790182792","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2267","id":790182792,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDE4Mjc5Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T00:23:42Z","updated_at":"2021-03-04T00:23:42Z","author_association":"CONTRIBUTOR","body":"Looks good, I'll merge. Thanks @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790182792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790188201","html_url":"https://github.com/apache/iceberg/pull/2287#issuecomment-790188201","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2287","id":790188201,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDE4ODIwMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T00:33:35Z","updated_at":"2021-03-04T00:34:40Z","author_association":"CONTRIBUTOR","body":"I think this is really useful and will help our users to debug action jobs. Thanks, @karuppayya!\r\n\r\nI'd also consider assigning some counter to each job group id. For example, if somebody calls the same action two times, I'd love to see EXPIRE-SNAPSHOTS-1 and EXPIRE-SNAPSHOTS-2 as group ids. We can achieve this by keeping an atomic integer somewhere and increment it on each call.\r\n\r\nAlso, I'd consider adding more information to job description (like table name and some critical component?). ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790188201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790194798","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-790194798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":790194798,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDE5NDc5OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T00:48:05Z","updated_at":"2021-03-04T00:48:05Z","author_association":"CONTRIBUTOR","body":"I'm thinking that the SQL extensions should live in Spark, but that we can hopefully define an interface so that they are not specific to Nessie? It would be great to be able to enable these for any catalog that has a similar way of tracking branches. I'm not sure that others necessarily would, but it seems like a good idea not to have Nessie-specific code in the Spark extensions module.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790194798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790197733","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790197733","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790197733,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDE5NzczMw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T00:55:44Z","updated_at":"2021-03-04T00:55:44Z","author_association":"CONTRIBUTOR","body":"Let me know if there are any other comments I should address.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790197733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790202659","html_url":"https://github.com/apache/iceberg/pull/2291#issuecomment-790202659","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2291","id":790202659,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDIwMjY1OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T01:07:36Z","updated_at":"2021-03-04T01:07:36Z","author_association":"CONTRIBUTOR","body":"Looks great. Thanks for the update!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790202659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790205204","html_url":"https://github.com/apache/iceberg/pull/2292#issuecomment-790205204","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2292","id":790205204,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDIwNTIwNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T01:14:26Z","updated_at":"2021-03-04T01:14:26Z","author_association":"CONTRIBUTOR","body":"Overall this is good, but I don't think it should make such strong-sounding claims about multi-table transactions. Just being more clear about what is supported would be good.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790205204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790214671","html_url":"https://github.com/apache/iceberg/pull/2276#issuecomment-790214671","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2276","id":790214671,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDIxNDY3MQ==","user":{"login":"sunchao","id":506679,"node_id":"MDQ6VXNlcjUwNjY3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/506679?v=4","gravatar_id":"","url":"https://api.github.com/users/sunchao","html_url":"https://github.com/sunchao","followers_url":"https://api.github.com/users/sunchao/followers","following_url":"https://api.github.com/users/sunchao/following{/other_user}","gists_url":"https://api.github.com/users/sunchao/gists{/gist_id}","starred_url":"https://api.github.com/users/sunchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunchao/subscriptions","organizations_url":"https://api.github.com/users/sunchao/orgs","repos_url":"https://api.github.com/users/sunchao/repos","events_url":"https://api.github.com/users/sunchao/events{/privacy}","received_events_url":"https://api.github.com/users/sunchao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T01:35:51Z","updated_at":"2021-03-04T01:35:51Z","author_association":"MEMBER","body":"cc @aokolnychyi @rdblue @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790214671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790263733","html_url":"https://github.com/apache/iceberg/issues/757#issuecomment-790263733","issue_url":"https://api.github.com/repos/apache/iceberg/issues/757","id":790263733,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDI2MzczMw==","user":{"login":"BACtaki","id":7691755,"node_id":"MDQ6VXNlcjc2OTE3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/7691755?v=4","gravatar_id":"","url":"https://api.github.com/users/BACtaki","html_url":"https://github.com/BACtaki","followers_url":"https://api.github.com/users/BACtaki/followers","following_url":"https://api.github.com/users/BACtaki/following{/other_user}","gists_url":"https://api.github.com/users/BACtaki/gists{/gist_id}","starred_url":"https://api.github.com/users/BACtaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BACtaki/subscriptions","organizations_url":"https://api.github.com/users/BACtaki/orgs","repos_url":"https://api.github.com/users/BACtaki/repos","events_url":"https://api.github.com/users/BACtaki/events{/privacy}","received_events_url":"https://api.github.com/users/BACtaki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T03:34:41Z","updated_at":"2021-03-04T03:34:41Z","author_association":"NONE","body":"@RussellSpitzer I am working on this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790263733/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790427191","html_url":"https://github.com/apache/iceberg/pull/2294#issuecomment-790427191","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2294","id":790427191,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDQyNzE5MQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T08:30:43Z","updated_at":"2021-03-04T08:30:43Z","author_association":"COLLABORATOR","body":"I wrote an API in https://github.com/apache/iceberg/pull/2216 you may be interested.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790427191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790442945","html_url":"https://github.com/apache/iceberg/pull/2294#issuecomment-790442945","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2294","id":790442945,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDQ0Mjk0NQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T08:49:44Z","updated_at":"2021-03-04T08:49:44Z","author_association":"MEMBER","body":"> I wrote an API in #2216 you may be interested.\r\n\r\nThanks for the great work,  I'd like to review that patch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790442945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790473611","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-790473611","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":790473611,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDQ3MzYxMQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T09:34:49Z","updated_at":"2021-03-04T09:34:49Z","author_association":"CONTRIBUTOR","body":"> but it seems like a good idea not to have Nessie-specific code in the Spark extensions module.\r\n\r\nVery much agree. Definitely the thing I like least about #2269 \r\n\r\nI was thinking about a `BranchingCatalog` or `BranchSupport` or something interface which would add CRUD operations for references to a `Catalog`. The only current implementer would be the `NessieCatalog` but then the spark extensions don't need to know about Nessie and #2269 would be simplified by being able to call Catalog methods directly rather than building a Nessie Client in the extension.\r\n\r\nI will open up a PR for that to keep it separate from #2269\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790473611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790475292","html_url":"https://github.com/apache/iceberg/pull/2287#issuecomment-790475292","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2287","id":790475292,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDQ3NTI5Mg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T09:37:27Z","updated_at":"2021-03-04T09:37:27Z","author_association":"CONTRIBUTOR","body":"> Also, I'd consider adding more information to job description (like table name and some critical component?).\r\n\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790475292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790582020","html_url":"https://github.com/apache/iceberg/pull/2230#issuecomment-790582020","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2230","id":790582020,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDU4MjAyMA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T12:27:30Z","updated_at":"2021-03-04T12:41:23Z","author_association":"MEMBER","body":"@rdblue  How is your feeling about integrating aliyun services to apache iceberg format  ?   In Asia iceberg community,  I found that many users have the need to save iceberg to aliyun OSS.  I think it would be really helpful if we could make the integration work into apache iceberg repo.   Besides the aliyun OSS,  aliyun also provide the catalog services name  Data Lake Format  ( DLF) ,  which is similar to amazon glue,  I'd like to push those work in another PR. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790582020/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790767632","html_url":"https://github.com/apache/iceberg/pull/2230#issuecomment-790767632","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2230","id":790767632,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDc2NzYzMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T16:58:58Z","updated_at":"2021-03-04T16:58:58Z","author_association":"CONTRIBUTOR","body":"@openinx, it sounds good to me. I'll take a look as soon as I get some time. Thanks for working on this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790767632/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790916694","html_url":"https://github.com/apache/iceberg/pull/2296#issuecomment-790916694","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2296","id":790916694,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDkxNjY5NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T20:26:01Z","updated_at":"2021-03-04T20:26:01Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi and @RussellSpitzer can you take a look at this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790916694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790918079","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790918079","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790918079,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDkxODA3OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T20:28:04Z","updated_at":"2021-03-04T20:28:04Z","author_association":"CONTRIBUTOR","body":"Looks good to me!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790918079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790941992","html_url":"https://github.com/apache/iceberg/pull/2255#issuecomment-790941992","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2255","id":790941992,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDk0MTk5Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T21:07:25Z","updated_at":"2021-03-04T21:07:25Z","author_association":"CONTRIBUTOR","body":"Thanks everyone for reviewing, @RussellSpitzer @rdsr @rymurr @jackye1995 @pvary @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790941992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790965238","html_url":"https://github.com/apache/iceberg/pull/2297#issuecomment-790965238","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2297","id":790965238,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDk2NTIzOA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-04T21:41:31Z","updated_at":"2021-03-04T21:41:31Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @karuppayya @rdblue @rdsr @shardulm94 @rymurr ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/790965238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791197936","html_url":"https://github.com/apache/iceberg/issues/1026#issuecomment-791197936","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1026","id":791197936,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTE5NzkzNg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-05T06:49:10Z","updated_at":"2021-03-05T06:49:22Z","author_association":"MEMBER","body":"@chenjunjiedada has proposed a PoC patch for this issue. https://github.com/apache/iceberg/pull/2216/files#","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791197936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791198746","html_url":"https://github.com/apache/iceberg/issues/1026#issuecomment-791198746","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1026","id":791198746,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTE5ODc0Ng==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-05T06:51:03Z","updated_at":"2021-03-05T06:51:03Z","author_association":"MEMBER","body":"I also prepared an PR to extend the RewriteFiles API to support rewriting both data files and delete files. #2294 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791198746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791312675","html_url":"https://github.com/apache/iceberg/pull/2216#issuecomment-791312675","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2216","id":791312675,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTMxMjY3NQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-05T10:00:38Z","updated_at":"2021-03-05T10:00:38Z","author_association":"COLLABORATOR","body":"Thanks @openinx for reviewing! I will update ASAP.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791312675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791394177","html_url":"https://github.com/apache/iceberg/pull/2266#issuecomment-791394177","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2266","id":791394177,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTM5NDE3Nw==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-05T12:39:05Z","updated_at":"2021-03-05T12:39:05Z","author_association":"COLLABORATOR","body":"@rymurr , I made some of the suggested code changes and replied where I could not, thanks again for reviewing it","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791394177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791562242","html_url":"https://github.com/apache/iceberg/issues/2122#issuecomment-791562242","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2122","id":791562242,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTU2MjI0Mg==","user":{"login":"javsanbel2","id":36443689,"node_id":"MDQ6VXNlcjM2NDQzNjg5","avatar_url":"https://avatars.githubusercontent.com/u/36443689?v=4","gravatar_id":"","url":"https://api.github.com/users/javsanbel2","html_url":"https://github.com/javsanbel2","followers_url":"https://api.github.com/users/javsanbel2/followers","following_url":"https://api.github.com/users/javsanbel2/following{/other_user}","gists_url":"https://api.github.com/users/javsanbel2/gists{/gist_id}","starred_url":"https://api.github.com/users/javsanbel2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javsanbel2/subscriptions","organizations_url":"https://api.github.com/users/javsanbel2/orgs","repos_url":"https://api.github.com/users/javsanbel2/repos","events_url":"https://api.github.com/users/javsanbel2/events{/privacy}","received_events_url":"https://api.github.com/users/javsanbel2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-05T17:20:48Z","updated_at":"2021-03-05T17:20:48Z","author_association":"NONE","body":"Did the discussion thread started in the dev mailing list? How it went? I am interested in this issue too, as am having the same problem.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791562242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791653194","html_url":"https://github.com/apache/iceberg/issues/2300#issuecomment-791653194","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2300","id":791653194,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTY1MzE5NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-05T20:08:17Z","updated_at":"2021-03-05T20:08:17Z","author_association":"CONTRIBUTOR","body":"I'll give it a try.\r\n\r\nFYI, @RussellSpitzer @pvary @openinx @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791653194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791723338","html_url":"https://github.com/apache/iceberg/pull/2210#issuecomment-791723338","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2210","id":791723338,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTcyMzMzOA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-05T21:31:57Z","updated_at":"2021-03-05T21:31:57Z","author_association":"CONTRIBUTOR","body":"I did one thorough pass. I think there is a temp consensus on inferring partitions in this PR and we can use Spark's in-memory file index for now until we have our own solution.\r\n\r\nI think we need to rename `partition` into `partition_filter` and don't require all columns. Also, it would be great to test special chars and spaces in partition names. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791723338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791726147","html_url":"https://github.com/apache/iceberg/pull/2210#issuecomment-791726147","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2210","id":791726147,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTcyNjE0Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-05T21:38:20Z","updated_at":"2021-03-05T21:38:20Z","author_association":"CONTRIBUTOR","body":"Also, I am not sure about the import of individual files. I think it will set a bad example and people will misuse it. Importing file by file will generate a snapshot on each commit, putting too much pressure on the metadata. I'd probably drop that case.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791726147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791766250","html_url":"https://github.com/apache/iceberg/pull/2257#issuecomment-791766250","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2257","id":791766250,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTc2NjI1MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-05T22:40:37Z","updated_at":"2021-03-05T22:40:48Z","author_association":"CONTRIBUTOR","body":"The approach in this PR looks correct, I only had cosmetic comments. Thanks, @holdenk!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791766250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791827414","html_url":"https://github.com/apache/iceberg/pull/2268#issuecomment-791827414","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2268","id":791827414,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTgyNzQxNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-06T01:23:22Z","updated_at":"2021-03-06T01:23:22Z","author_association":"CONTRIBUTOR","body":"Looks good to me. I'll merge. Thanks for the fix, @rymurr!\r\n\r\nThanks for reviewing this, @xhochy! Looks like your guidance on versions was helpful.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791827414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791836569","html_url":"https://github.com/apache/iceberg/pull/2248#issuecomment-791836569","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2248","id":791836569,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTgzNjU2OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-06T01:53:39Z","updated_at":"2021-03-06T01:53:39Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for fixing this, @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791836569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791836795","html_url":"https://github.com/apache/iceberg/pull/2259#issuecomment-791836795","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2259","id":791836795,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTgzNjc5NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-06T01:54:53Z","updated_at":"2021-03-06T01:54:53Z","author_association":"CONTRIBUTOR","body":"Looks good now. Thanks @zhangjun0x01!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/791836795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792044682","html_url":"https://github.com/apache/iceberg/pull/2284#issuecomment-792044682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2284","id":792044682,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjA0NDY4Mg==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-06T20:12:28Z","updated_at":"2021-03-06T20:12:28Z","author_association":"COLLABORATOR","body":"@rdblue this is another follow up PR of #2089. Can you help to review it? Thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792044682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792209608","html_url":"https://github.com/apache/iceberg/pull/2299#issuecomment-792209608","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2299","id":792209608,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjIwOTYwOA==","user":{"login":"sunchao","id":506679,"node_id":"MDQ6VXNlcjUwNjY3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/506679?v=4","gravatar_id":"","url":"https://api.github.com/users/sunchao","html_url":"https://github.com/sunchao","followers_url":"https://api.github.com/users/sunchao/followers","following_url":"https://api.github.com/users/sunchao/following{/other_user}","gists_url":"https://api.github.com/users/sunchao/gists{/gist_id}","starred_url":"https://api.github.com/users/sunchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunchao/subscriptions","organizations_url":"https://api.github.com/users/sunchao/orgs","repos_url":"https://api.github.com/users/sunchao/repos","events_url":"https://api.github.com/users/sunchao/events{/privacy}","received_events_url":"https://api.github.com/users/sunchao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-07T04:52:29Z","updated_at":"2021-03-07T04:52:29Z","author_association":"MEMBER","body":"Thanks @rdsr ! I'll going to try a different approach in #2276 as people suggested. Depending on the result, we may no longer need this change. I'll update here later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792209608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792500915","html_url":"https://github.com/apache/iceberg/pull/2105#issuecomment-792500915","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2105","id":792500915,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjUwMDkxNQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T06:21:47Z","updated_at":"2021-03-08T06:21:47Z","author_association":"MEMBER","body":"@stevenzwu   would you mind to make this big PR into several small PRs for reviewing purpose ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792500915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792534998","html_url":"https://github.com/apache/iceberg/pull/2105#issuecomment-792534998","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2105","id":792534998,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjUzNDk5OA==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T07:24:14Z","updated_at":"2021-03-08T07:24:14Z","author_association":"CONTRIBUTOR","body":"@openinx yes, that is the plan as outlined in the description. I am actually preparing the next PR of split reader","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792534998/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792543432","html_url":"https://github.com/apache/iceberg/pull/2294#issuecomment-792543432","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2294","id":792543432,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjU0MzQzMg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T07:39:20Z","updated_at":"2021-03-08T07:39:20Z","author_association":"MEMBER","body":"Ping @rdblue @aokolnychyi @chenjunjiedada for reviewing,  extending the RewriteFiles API is the first step for further format v2's rewrite actions (See the linked issues), thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792543432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792572948","html_url":"https://github.com/apache/iceberg/issues/2300#issuecomment-792572948","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2300","id":792572948,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjU3Mjk0OA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T08:27:45Z","updated_at":"2021-03-08T08:27:45Z","author_association":"CONTRIBUTOR","body":"We are also thinking about migrating Hive tables to Iceberg tables by creating the appropriate metadata files. \r\n\r\nFor us it  would be better to have an API what the engines can implement. In Hive it is possible to set the location on partition level, so we might be better off using HMS to get the partition information than parsing the path. So I think some API that will return Pair<Map<PARTITION_KEY, PARTITION_VALUE>, List<PATH>> might be better.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792572948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792586478","html_url":"https://github.com/apache/iceberg/pull/2062#issuecomment-792586478","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2062","id":792586478,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjU4NjQ3OA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T08:48:15Z","updated_at":"2021-03-08T08:48:15Z","author_association":"CONTRIBUTOR","body":"Thank you so much for the further reviews everyone.\r\n\r\nI looked into the Flink side of predicate push down, and if memory serves me there are no changes required. At the moment, I am occupied with some work-related things, but I will return to this PR asap. I spoke to @rdblue about it already as he has most recently reviewed but I've been fortunate to have several reviewers so I wanted to update you.\r\n\r\nI will address the feedback and make any necessary updates / rebase to current master asap. I should hopefully be able to return to this PR pretty soon but as I mentioned I have to deal with some work things. Thanks for your understanding. Please reach out if this becomes blocking or more urgent for anybody's needs and I will do my best to accommodate that :) ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792586478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792596347","html_url":"https://github.com/apache/iceberg/issues/2301#issuecomment-792596347","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2301","id":792596347,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjU5NjM0Nw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T09:01:36Z","updated_at":"2021-03-08T09:01:36Z","author_association":"CONTRIBUTOR","body":"Quick question: Hive removes the locks by the `AcidHouseKeeperService` which should run on the HMS side. Shouldn't that remove the \"forever\" from the problem statement?\r\n\r\nThe commits should be fairly quick so having a small timeout could be acceptable if HMS is only used as a HiveCatalog for Iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792596347/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792617142","html_url":"https://github.com/apache/iceberg/pull/2268#issuecomment-792617142","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2268","id":792617142,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjYxNzE0Mg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T09:29:24Z","updated_at":"2021-03-08T09:29:24Z","author_association":"CONTRIBUTOR","body":"> Thanks for reviewing this, @xhochy! Looks like your guidance on versions was helpful.\r\n\r\nAgreed! Thanks @xhochy and thanks for merging @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792617142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792676177","html_url":"https://github.com/apache/iceberg/issues/2301#issuecomment-792676177","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2301","id":792676177,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjY3NjE3Nw==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T11:02:13Z","updated_at":"2021-03-08T11:05:57Z","author_association":"COLLABORATOR","body":"What's the value of `metastore.txn.timeout` on your HMS instance? As @pvary suggested, the `AcidHouseKeeperService` should clean up any locks that haven't heartbeated within the timeout period (which is 300 seconds by default), preventing the forever-blockage. The housekeeper service itself will run every 180 seconds by default to purge these timed-out locks (configured by `metastore.timedout.txn.reaper.interval` on Hive 3.1). Maybe it's worth checking the HMS logs also to double check if the house keeper service is running regularly","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792676177/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792695001","html_url":"https://github.com/apache/iceberg/issues/2301#issuecomment-792695001","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2301","id":792695001,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjY5NTAwMQ==","user":{"login":"pPanda-beta","id":20648934,"node_id":"MDQ6VXNlcjIwNjQ4OTM0","avatar_url":"https://avatars.githubusercontent.com/u/20648934?v=4","gravatar_id":"","url":"https://api.github.com/users/pPanda-beta","html_url":"https://github.com/pPanda-beta","followers_url":"https://api.github.com/users/pPanda-beta/followers","following_url":"https://api.github.com/users/pPanda-beta/following{/other_user}","gists_url":"https://api.github.com/users/pPanda-beta/gists{/gist_id}","starred_url":"https://api.github.com/users/pPanda-beta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pPanda-beta/subscriptions","organizations_url":"https://api.github.com/users/pPanda-beta/orgs","repos_url":"https://api.github.com/users/pPanda-beta/repos","events_url":"https://api.github.com/users/pPanda-beta/events{/privacy}","received_events_url":"https://api.github.com/users/pPanda-beta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T11:34:49Z","updated_at":"2021-03-08T11:36:42Z","author_association":"NONE","body":"@pvary @marton-bod \r\nThanks for the suggestion. \r\nI've gone through their implementation.  \r\n\r\nThis does cleanup via: \r\n1. https://github.com/apache/hive/blob/8190d2be7b7165effa62bd21b7d60ef81fb0e4af/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/AcidHouseKeeperService.java#L60\r\n\r\n2. https://github.com/apache/hive/blob/8190d2be7b7165effa62bd21b7d60ef81fb0e4af/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java#L4403\r\n\r\nand \r\n\r\n3. https://github.com/apache/hive/blob/8190d2be7b7165effa62bd21b7d60ef81fb0e4af/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java#L3633-L3636\r\n\r\n\r\nBut I believe ALL OF THESE WONT WORK: \r\n**cause iceberg does not create transactions before creating the locks**.\r\nhttps://github.com/apache/iceberg/blob/a7901992c252bb28d10686ef24c1de788c90d663/hive-metastore/src/main/java/org/apache/iceberg/hive/HiveTableOperations.java#L322-L329\r\n\r\nThis is more like a transaction less lock ðŸ˜­ . So the lifecycle needs to be maintained via iceberg only.\r\n\r\nAlso  I would insist approaches which are heavily involving hive metastore features only, acid has mostly came from a hive feature. In modern days no one even installs hive. People mostly use spark/presto on top of HMS.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792695001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792695777","html_url":"https://github.com/apache/iceberg/issues/2301#issuecomment-792695777","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2301","id":792695777,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjY5NTc3Nw==","user":{"login":"pPanda-beta","id":20648934,"node_id":"MDQ6VXNlcjIwNjQ4OTM0","avatar_url":"https://avatars.githubusercontent.com/u/20648934?v=4","gravatar_id":"","url":"https://api.github.com/users/pPanda-beta","html_url":"https://github.com/pPanda-beta","followers_url":"https://api.github.com/users/pPanda-beta/followers","following_url":"https://api.github.com/users/pPanda-beta/following{/other_user}","gists_url":"https://api.github.com/users/pPanda-beta/gists{/gist_id}","starred_url":"https://api.github.com/users/pPanda-beta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pPanda-beta/subscriptions","organizations_url":"https://api.github.com/users/pPanda-beta/orgs","repos_url":"https://api.github.com/users/pPanda-beta/repos","events_url":"https://api.github.com/users/pPanda-beta/events{/privacy}","received_events_url":"https://api.github.com/users/pPanda-beta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T11:36:19Z","updated_at":"2021-03-08T11:36:19Z","author_association":"NONE","body":"While dealing with independent locks we have to implement with the following columns only,\r\n```\r\n| lockid | database | table | partition | lock_state | blocked_by | lock_type | transaction_id | last_heartbeat | acquired_at | user | hostname | agent_info\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792695777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792700103","html_url":"https://github.com/apache/iceberg/issues/2301#issuecomment-792700103","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2301","id":792700103,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjcwMDEwMw==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T11:43:59Z","updated_at":"2021-03-08T11:43:59Z","author_association":"COLLABORATOR","body":"Hi @pPanda-beta \r\nTransaction-less locks (where transaction id is 0) should be cleaned up the same way, once the timeout period expires. \r\nThey are cleaned at this point: https://github.com/apache/hive/blob/8190d2be7b7165effa62bd21b7d60ef81fb0e4af/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java#L4400\r\neven one step before the timed-out transactions are cleaned up.\r\nSee: https://github.com/apache/hive/blob/8190d2be7b7165effa62bd21b7d60ef81fb0e4af/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/txn/TxnHandler.java#L4316","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792700103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792700408","html_url":"https://github.com/apache/iceberg/pull/2229#issuecomment-792700408","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2229","id":792700408,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjcwMDQwOA==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T11:44:31Z","updated_at":"2021-03-08T11:44:31Z","author_association":"CONTRIBUTOR","body":"@openinx  thanks for your review ,I updated all","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792700408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792714146","html_url":"https://github.com/apache/iceberg/issues/2301#issuecomment-792714146","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2301","id":792714146,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjcxNDE0Ng==","user":{"login":"pPanda-beta","id":20648934,"node_id":"MDQ6VXNlcjIwNjQ4OTM0","avatar_url":"https://avatars.githubusercontent.com/u/20648934?v=4","gravatar_id":"","url":"https://api.github.com/users/pPanda-beta","html_url":"https://github.com/pPanda-beta","followers_url":"https://api.github.com/users/pPanda-beta/followers","following_url":"https://api.github.com/users/pPanda-beta/following{/other_user}","gists_url":"https://api.github.com/users/pPanda-beta/gists{/gist_id}","starred_url":"https://api.github.com/users/pPanda-beta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pPanda-beta/subscriptions","organizations_url":"https://api.github.com/users/pPanda-beta/orgs","repos_url":"https://api.github.com/users/pPanda-beta/repos","events_url":"https://api.github.com/users/pPanda-beta/events{/privacy}","received_events_url":"https://api.github.com/users/pPanda-beta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T12:10:16Z","updated_at":"2021-03-08T12:10:16Z","author_association":"NONE","body":"@marton-bod Thanks for pointing it out.\r\nTheoretically this should work.\r\n\r\nI've the value of `metastore.task.threads.remote` as `org.apache.hadoop.hive.metastore.txn.AcidHouseKeeperService,org.apache.hadoop.hive.metastore.txn.AcidOpenTxnsCounterService,org.apache.hadoop.hive.metastore.txn.AcidCompactionHistoryService,org.apache.hadoop.hive.metastore.txn.AcidWriteSetService,org.apache.hadoop.hive.metastore.MaterializationsRebuildLockCleanerTask`\r\n\r\nAnd I dont see the logs \"Failed to purge timedout locks due to\".\r\nDefinitely something is broken on my HMS. \r\n\r\nLet me investigate that. Meanwhile we can remove the \"forever\" part.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792714146/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792735826","html_url":"https://github.com/apache/iceberg/pull/2286#issuecomment-792735826","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2286","id":792735826,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjczNTgyNg==","user":{"login":"mayursrivastava","id":8659624,"node_id":"MDQ6VXNlcjg2NTk2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8659624?v=4","gravatar_id":"","url":"https://api.github.com/users/mayursrivastava","html_url":"https://github.com/mayursrivastava","followers_url":"https://api.github.com/users/mayursrivastava/followers","following_url":"https://api.github.com/users/mayursrivastava/following{/other_user}","gists_url":"https://api.github.com/users/mayursrivastava/gists{/gist_id}","starred_url":"https://api.github.com/users/mayursrivastava/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayursrivastava/subscriptions","organizations_url":"https://api.github.com/users/mayursrivastava/orgs","repos_url":"https://api.github.com/users/mayursrivastava/repos","events_url":"https://api.github.com/users/mayursrivastava/events{/privacy}","received_events_url":"https://api.github.com/users/mayursrivastava/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T12:53:40Z","updated_at":"2021-03-08T12:53:40Z","author_association":"CONTRIBUTOR","body":"Hi @rymurr\r\n\r\nLet me know if you have any questions on the pr, I'll be happy to answer them.\r\n\r\nThanks,\r\nMayur\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792735826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792762315","html_url":"https://github.com/apache/iceberg/issues/2302#issuecomment-792762315","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2302","id":792762315,"node_id":"MDEyOklzc3VlQ29tbWVudDc5Mjc2MjMxNQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T13:38:30Z","updated_at":"2021-03-08T13:38:30Z","author_association":"MEMBER","body":"Could you add a few more details? Like How much data is in each file? Does your query end up looking in every file? How were the tables loaded?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792762315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792784905","html_url":"https://github.com/apache/iceberg/pull/2296#issuecomment-792784905","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2296","id":792784905,"node_id":"MDEyOklzc3VlQ29tbWVudDc5Mjc4NDkwNQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T14:17:28Z","updated_at":"2021-03-08T14:17:28Z","author_association":"MEMBER","body":"I don't think there is a problem with excluding it in the runtime jar, as long as we keep it in the test jar although perhaps we should add some bulid locking that warns us if the version is changed due to a Spark dep?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792784905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792803062","html_url":"https://github.com/apache/iceberg/issues/2301#issuecomment-792803062","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2301","id":792803062,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjgwMzA2Mg==","user":{"login":"pPanda-beta","id":20648934,"node_id":"MDQ6VXNlcjIwNjQ4OTM0","avatar_url":"https://avatars.githubusercontent.com/u/20648934?v=4","gravatar_id":"","url":"https://api.github.com/users/pPanda-beta","html_url":"https://github.com/pPanda-beta","followers_url":"https://api.github.com/users/pPanda-beta/followers","following_url":"https://api.github.com/users/pPanda-beta/following{/other_user}","gists_url":"https://api.github.com/users/pPanda-beta/gists{/gist_id}","starred_url":"https://api.github.com/users/pPanda-beta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pPanda-beta/subscriptions","organizations_url":"https://api.github.com/users/pPanda-beta/orgs","repos_url":"https://api.github.com/users/pPanda-beta/repos","events_url":"https://api.github.com/users/pPanda-beta/events{/privacy}","received_events_url":"https://api.github.com/users/pPanda-beta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T14:45:23Z","updated_at":"2021-03-08T14:45:23Z","author_association":"NONE","body":"@marton-bod Found it in an integration test powered by embed hive metastore. \r\nWe need\r\n```metastore.compactor.initiator.on=true```\r\nAt least on embedded HMS, this is `false` by default, which was not running those threads.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792803062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792829532","html_url":"https://github.com/apache/iceberg/issues/2301#issuecomment-792829532","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2301","id":792829532,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MjgyOTUzMg==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T15:24:57Z","updated_at":"2021-03-08T15:24:57Z","author_association":"COLLABORATOR","body":"You're correct, it needs to be turned on for the house keeper to be launched.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792829532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792950191","html_url":"https://github.com/apache/iceberg/pull/2282#issuecomment-792950191","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2282","id":792950191,"node_id":"MDEyOklzc3VlQ29tbWVudDc5Mjk1MDE5MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T17:54:29Z","updated_at":"2021-03-08T17:54:29Z","author_association":"MEMBER","body":"@shardulm94 Hey! Could you please take a look over this too :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792950191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792958633","html_url":"https://github.com/apache/iceberg/pull/2275#issuecomment-792958633","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2275","id":792958633,"node_id":"MDEyOklzc3VlQ29tbWVudDc5Mjk1ODYzMw==","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T18:06:33Z","updated_at":"2021-03-08T19:02:08Z","author_association":"CONTRIBUTOR","body":"I have some questions:\r\nWhen we switch from v1 format to v2, and a new metadata file is written for an existing table, what schemas are written to the `schemas` list? And in the `snapshot-log`, what `schema-id` is written for the previous snapshots? (Is it not written, i.e., is null? or is it 0?)\r\nIn general, if we see a schema id of 0, does that ever represent a specific schema, or does that always represent some undetermined schema? Let me elaborate: (1) Will we ever see a `schema-id` of 0 in a metadata file and if so, does that refer to a unique schema? (2) In code, if we have an instance of a schema and its schemaId is 0, what are the semantics of that schemaId?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/792958633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/793241289","html_url":"https://github.com/apache/iceberg/pull/2297#issuecomment-793241289","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2297","id":793241289,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MzI0MTI4OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-09T01:26:55Z","updated_at":"2021-03-09T01:26:55Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @rymurr and @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/793241289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/793438458","html_url":"https://github.com/apache/iceberg/issues/2302#issuecomment-793438458","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2302","id":793438458,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MzQzODQ1OA==","user":{"login":"NageshB82","id":80257736,"node_id":"MDQ6VXNlcjgwMjU3NzM2","avatar_url":"https://avatars.githubusercontent.com/u/80257736?v=4","gravatar_id":"","url":"https://api.github.com/users/NageshB82","html_url":"https://github.com/NageshB82","followers_url":"https://api.github.com/users/NageshB82/followers","following_url":"https://api.github.com/users/NageshB82/following{/other_user}","gists_url":"https://api.github.com/users/NageshB82/gists{/gist_id}","starred_url":"https://api.github.com/users/NageshB82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NageshB82/subscriptions","organizations_url":"https://api.github.com/users/NageshB82/orgs","repos_url":"https://api.github.com/users/NageshB82/repos","events_url":"https://api.github.com/users/NageshB82/events{/privacy}","received_events_url":"https://api.github.com/users/NageshB82/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-09T05:59:09Z","updated_at":"2021-03-09T05:59:56Z","author_association":"NONE","body":"We have loaded the tables using below spark scala code\r\n\r\n  val accountDF = spark.read.schema(accschema).parquet(\"/Users/data/Account/*.parquet\")\r\n    accountDF.writeTo(\"Account\")\r\n      .overwritePartitions()\r\n      \r\n  There are almost 12 parquet files and each parquet file contains around 33k json records and size of each file is around 2.05MB\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/793438458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]