[{"url":"https://api.github.com/repos/apache/doris/issues/comments/643978655","html_url":"https://github.com/apache/doris/pull/3866#issuecomment-643978655","issue_url":"https://api.github.com/repos/apache/doris/issues/3866","id":643978655,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mzk3ODY1NQ==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T08:19:03Z","updated_at":"2020-06-15T08:19:03Z","author_association":"CONTRIBUTOR","body":"In order to make review easier, I revert some formatted code, after logic is right, I will add it later.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/643978655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644008305","html_url":"https://github.com/apache/doris/issues/3870#issuecomment-644008305","issue_url":"https://api.github.com/repos/apache/doris/issues/3870","id":644008305,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDAwODMwNQ==","user":{"login":"sduzh","id":4351040,"node_id":"MDQ6VXNlcjQzNTEwNDA=","avatar_url":"https://avatars.githubusercontent.com/u/4351040?v=4","gravatar_id":"","url":"https://api.github.com/users/sduzh","html_url":"https://github.com/sduzh","followers_url":"https://api.github.com/users/sduzh/followers","following_url":"https://api.github.com/users/sduzh/following{/other_user}","gists_url":"https://api.github.com/users/sduzh/gists{/gist_id}","starred_url":"https://api.github.com/users/sduzh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sduzh/subscriptions","organizations_url":"https://api.github.com/users/sduzh/orgs","repos_url":"https://api.github.com/users/sduzh/repos","events_url":"https://api.github.com/users/sduzh/events{/privacy}","received_events_url":"https://api.github.com/users/sduzh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T09:14:49Z","updated_at":"2020-06-15T09:14:49Z","author_association":"CONTRIBUTOR","body":"The `EXPLAIN` statement is OK:\r\n```\r\nmysql> explain SELECT t0.c0 FROM t0 GROUP BY t0.c0  HAVING MIN(((634403704)>=(MOD((('k')LIKE('1')), ACOS(((2050915657)<=(1))))))) < 10;\r\n+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n| Explain String                                                                                                                                                                                                                        |\r\n+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n| PLAN FRAGMENT 0                                                                                                                                                                                                                       |\r\n|  OUTPUT EXPRS: `t0`.`c0`                                                                                                                                                                                                              |\r\n|   PARTITION: RANDOM                                                                                                                                                                                                                   |\r\n|                                                                                                                                                                                                                                       |\r\n|   RESULT SINK                                                                                                                                                                                                                         |\r\n|                                                                                                                                                                                                                                       |\r\n|   1:AGGREGATE (update finalize)                                                                                                                                                                                                       |\r\n|   |  group by: `t0`.`c0`                                                                                                                                                                                                              |\r\n|   |  tuple ids: 1                                                                                                                                                                                                                     |\r\n|   |                                                                                                                                                                                                                                   |\r\n|   0:OlapScanNode                                                                                                                                                                                                                      |\r\n|      TABLE: t0                                                                                                                                                                                                                        |\r\n|      PREAGGREGATION: OFF. Reason: aggExpr.getChild(0)[( (FunctionCallExpr{name=mod, isStar=false, isDistinct=false, ((( )) (FunctionCallExpr{name=acos, isStar=false, isDistinct=false, ()}))}))] is not SlotRef or CastExpr|CaseExpr |\r\n|      PREDICATES: min((6.34403704E8 >= (mod((('k') LIKE ('1')), acos(0.0))))) < 10                                                                                                                                                     |\r\n|      partitions=0/1                                                                                                                                                                                                                   |\r\n|      rollup: null                                                                                                                                                                                                                     |\r\n|      tabletRatio=0/0                                                                                                                                                                                                                  |\r\n|      tabletList=                                                                                                                                                                                                                      |\r\n|      cardinality=0                                                                                                                                                                                                                    |\r\n|      avgRowSize=0.0                                                                                                                                                                                                                   |\r\n|      numNodes=1                                                                                                                                                                                                                       |\r\n|      tuple ids: 0                                                                                                                                                                                                                     |\r\n+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n22 rows in set (0.01 sec)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644008305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644293419","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644293419","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644293419,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDI5MzQxOQ==","user":{"login":"fanlongmengjd","id":63618584,"node_id":"MDQ6VXNlcjYzNjE4NTg0","avatar_url":"https://avatars.githubusercontent.com/u/63618584?v=4","gravatar_id":"","url":"https://api.github.com/users/fanlongmengjd","html_url":"https://github.com/fanlongmengjd","followers_url":"https://api.github.com/users/fanlongmengjd/followers","following_url":"https://api.github.com/users/fanlongmengjd/following{/other_user}","gists_url":"https://api.github.com/users/fanlongmengjd/gists{/gist_id}","starred_url":"https://api.github.com/users/fanlongmengjd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fanlongmengjd/subscriptions","organizations_url":"https://api.github.com/users/fanlongmengjd/orgs","repos_url":"https://api.github.com/users/fanlongmengjd/repos","events_url":"https://api.github.com/users/fanlongmengjd/events{/privacy}","received_events_url":"https://api.github.com/users/fanlongmengjd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T18:22:12Z","updated_at":"2020-06-15T18:31:01Z","author_association":"NONE","body":"According to `We can use cumulative_compaction_skip_window_seconds to configure this threshold. That is, when the threshold time is exceeded, latest_read_version will be ignored and the version merge will start.\r\n `\r\nsounds like compaction behavior is same even though adding latest_read_version, e.g\r\n\r\n- in previous , if cumulative_compaction_skip_window_seconds =30, then do compaction every 30s\r\n- now, if cumulative_compaction_skip_window_seconds =30 + latest_read_version, system will then do compaction every 30s and  latest_read_version will be ignored\r\n\r\nright?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644293419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644493550","html_url":"https://github.com/apache/doris/pull/3873#issuecomment-644493550","issue_url":"https://api.github.com/repos/apache/doris/issues/3873","id":644493550,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDQ5MzU1MA==","user":{"login":"EmmyMiao87","id":25147274,"node_id":"MDQ6VXNlcjI1MTQ3Mjc0","avatar_url":"https://avatars.githubusercontent.com/u/25147274?v=4","gravatar_id":"","url":"https://api.github.com/users/EmmyMiao87","html_url":"https://github.com/EmmyMiao87","followers_url":"https://api.github.com/users/EmmyMiao87/followers","following_url":"https://api.github.com/users/EmmyMiao87/following{/other_user}","gists_url":"https://api.github.com/users/EmmyMiao87/gists{/gist_id}","starred_url":"https://api.github.com/users/EmmyMiao87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmmyMiao87/subscriptions","organizations_url":"https://api.github.com/users/EmmyMiao87/orgs","repos_url":"https://api.github.com/users/EmmyMiao87/repos","events_url":"https://api.github.com/users/EmmyMiao87/events{/privacy}","received_events_url":"https://api.github.com/users/EmmyMiao87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T02:31:13Z","updated_at":"2020-06-16T02:31:13Z","author_association":"CONTRIBUTOR","body":"Please provide detailed commit message","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644493550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644497394","html_url":"https://github.com/apache/doris/pull/3882#issuecomment-644497394","issue_url":"https://api.github.com/repos/apache/doris/issues/3882","id":644497394,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDQ5NzM5NA==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T02:44:07Z","updated_at":"2020-06-16T02:44:07Z","author_association":"CONTRIBUTOR","body":"For #3880 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644497394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644498556","html_url":"https://github.com/apache/doris/pull/3872#issuecomment-644498556","issue_url":"https://api.github.com/repos/apache/doris/issues/3872","id":644498556,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDQ5ODU1Ng==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T02:47:46Z","updated_at":"2020-06-16T02:47:46Z","author_association":"CONTRIBUTOR","body":"> When the FE Coordinator executes execRemoteFragmentAsync(), if it finds an RPC error, return a Future with an error code instead of exception.\r\n\r\n@morningman Hi, where is the code?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644498556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644500884","html_url":"https://github.com/apache/doris/pull/3878#issuecomment-644500884","issue_url":"https://api.github.com/repos/apache/doris/issues/3878","id":644500884,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDUwMDg4NA==","user":{"login":"yiguolei","id":9208457,"node_id":"MDQ6VXNlcjkyMDg0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/9208457?v=4","gravatar_id":"","url":"https://api.github.com/users/yiguolei","html_url":"https://github.com/yiguolei","followers_url":"https://api.github.com/users/yiguolei/followers","following_url":"https://api.github.com/users/yiguolei/following{/other_user}","gists_url":"https://api.github.com/users/yiguolei/gists{/gist_id}","starred_url":"https://api.github.com/users/yiguolei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yiguolei/subscriptions","organizations_url":"https://api.github.com/users/yiguolei/orgs","repos_url":"https://api.github.com/users/yiguolei/repos","events_url":"https://api.github.com/users/yiguolei/events{/privacy}","received_events_url":"https://api.github.com/users/yiguolei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T02:55:45Z","updated_at":"2020-06-16T02:55:45Z","author_association":"CONTRIBUTOR","body":"Great job","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644500884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644501696","html_url":"https://github.com/apache/doris/pull/3791#issuecomment-644501696","issue_url":"https://api.github.com/repos/apache/doris/issues/3791","id":644501696,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDUwMTY5Ng==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T02:58:49Z","updated_at":"2020-06-16T02:58:49Z","author_association":"CONTRIBUTOR","body":"It seems a common problem when build. You can add it into docs/zh-CN/installing/install-deploy.md and docs/en/installing/install-deploy.md","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644501696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644504909","html_url":"https://github.com/apache/doris/pull/3873#issuecomment-644504909","issue_url":"https://api.github.com/repos/apache/doris/issues/3873","id":644504909,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDUwNDkwOQ==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T03:09:57Z","updated_at":"2020-06-16T03:09:57Z","author_association":"CONTRIBUTOR","body":"> Please provide detailed commit message\r\n\r\nDone","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644504909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644511890","html_url":"https://github.com/apache/doris/issues/3884#issuecomment-644511890","issue_url":"https://api.github.com/repos/apache/doris/issues/3884","id":644511890,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDUxMTg5MA==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T03:37:26Z","updated_at":"2020-06-16T03:37:26Z","author_association":"CONTRIBUTOR","body":"master:\r\n![image](https://user-images.githubusercontent.com/44767902/84729204-b519b380-afc5-11ea-8a88-cf9d1517bd7c.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644511890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644511945","html_url":"https://github.com/apache/doris/issues/3884#issuecomment-644511945","issue_url":"https://api.github.com/repos/apache/doris/issues/3884","id":644511945,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDUxMTk0NQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T03:37:40Z","updated_at":"2020-06-16T03:37:40Z","author_association":"CONTRIBUTOR","body":"follower:\r\n![image](https://user-images.githubusercontent.com/44767902/84729223-c498fc80-afc5-11ea-8a8a-d3974ed5e9cf.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644511945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644515644","html_url":"https://github.com/apache/doris/pull/3878#issuecomment-644515644","issue_url":"https://api.github.com/repos/apache/doris/issues/3878","id":644515644,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDUxNTY0NA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T03:53:10Z","updated_at":"2020-06-16T03:53:10Z","author_association":"CONTRIBUTOR","body":"@xy720 Hi, Please add the UT for new BufferedReader class, Thanks.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644515644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644519515","html_url":"https://github.com/apache/doris/pull/3806#issuecomment-644519515","issue_url":"https://api.github.com/repos/apache/doris/issues/3806","id":644519515,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDUxOTUxNQ==","user":{"login":"yangzhg","id":9098473,"node_id":"MDQ6VXNlcjkwOTg0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/9098473?v=4","gravatar_id":"","url":"https://api.github.com/users/yangzhg","html_url":"https://github.com/yangzhg","followers_url":"https://api.github.com/users/yangzhg/followers","following_url":"https://api.github.com/users/yangzhg/following{/other_user}","gists_url":"https://api.github.com/users/yangzhg/gists{/gist_id}","starred_url":"https://api.github.com/users/yangzhg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangzhg/subscriptions","organizations_url":"https://api.github.com/users/yangzhg/orgs","repos_url":"https://api.github.com/users/yangzhg/repos","events_url":"https://api.github.com/users/yangzhg/events{/privacy}","received_events_url":"https://api.github.com/users/yangzhg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T04:09:55Z","updated_at":"2020-06-16T04:09:55Z","author_association":"MEMBER","body":"> why it has much of uncorrelated code.\r\n\r\ndone","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644519515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644535162","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644535162","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644535162,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDUzNTE2Mg==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T05:13:14Z","updated_at":"2020-06-16T05:13:14Z","author_association":"CONTRIBUTOR","body":"> According to `We can use cumulative_compaction_skip_window_seconds to configure this threshold. That is, when the threshold time is exceeded, latest_read_version will be ignored and the version merge will start. `\r\n> sounds like compaction behavior is same even though adding latest_read_version, e.g\r\n> \r\n> * in previous , if cumulative_compaction_skip_window_seconds =30, then do compaction every 30s\r\n> * now, if cumulative_compaction_skip_window_seconds =30 + latest_read_version, system will then do compaction every 30s and  latest_read_version will be ignored\r\n> \r\n> right?\r\n\r\n+1. I have the same question.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644535162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644539797","html_url":"https://github.com/apache/doris/pull/3866#issuecomment-644539797","issue_url":"https://api.github.com/repos/apache/doris/issues/3866","id":644539797,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDUzOTc5Nw==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T05:30:08Z","updated_at":"2020-06-16T05:30:08Z","author_association":"CONTRIBUTOR","body":"@WingsGo Hi, it seems code format code still exist in this PR.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644539797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644540827","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644540827","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644540827,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU0MDgyNw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T05:33:42Z","updated_at":"2020-06-16T05:33:42Z","author_association":"CONTRIBUTOR","body":"> * now, if cumulative_compaction_skip_window_seconds =30 + latest_read_version, system will then do compaction every 30s and  latest_read_version will be ignored\r\n\r\nNo. with `latest_read_version`, the compaction may be more frequent. For example:\r\n\r\n1. The current version is 10, publish at 10:00:00.\r\n2. The following version 11 and 12  publish at 10:00:02 and 10:00:04.\r\n3. A query request with read version 12 arrive at 10:00:05.\r\n\r\nIn the old way, the version 12 can be merged after 10:00:34. But in the new way, the version 12\r\ncan be merged after 10:00:05.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644540827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644543498","html_url":"https://github.com/apache/doris/pull/3883#issuecomment-644543498","issue_url":"https://api.github.com/repos/apache/doris/issues/3883","id":644543498,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU0MzQ5OA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T05:43:08Z","updated_at":"2020-06-16T05:43:08Z","author_association":"CONTRIBUTOR","body":"Hi @chaoyli . Actually, not all `ShowProc` stmt should be forward to master.\r\nSome of them, yes, like: `show proc \"/cluster_balance\"`, because the non-master FE has\r\nnothing to do the the cluster balance logic.\r\n\r\nBut some of them don't, like: `show proc \"/dbs/10003/10017/partitions/10016/10018\";`. \r\nThis is the stmt to show the tablet info saving in the current FE's memory.\r\n\r\nThese kind of `show proc` stmt should not be forward to master FE because sometimes\r\nwe need to check the meta of current FE, to see if there is any inconsistency with the Master FE.\r\n\r\nThat is why I add the variable `forward_to_master` to control whether to forward these stmts.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644543498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644543792","html_url":"https://github.com/apache/doris/pull/3883#issuecomment-644543792","issue_url":"https://api.github.com/repos/apache/doris/issues/3883","id":644543792,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU0Mzc5Mg==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T05:44:06Z","updated_at":"2020-06-16T05:44:06Z","author_association":"CONTRIBUTOR","body":"And by the way, better to fix the compilation problem in another PR.\r\nThat is more urgent and need to be fixed and merged ASAP.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644543792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644545224","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644545224","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644545224,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU0NTIyNA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T05:48:54Z","updated_at":"2020-06-16T05:48:54Z","author_association":"CONTRIBUTOR","body":"@morningman I see.\r\n```\r\n    for (auto rowset : _input_rowsets) {\r\n        if (rowset->end_version() <= _tablet->latest_read_version()\r\n            || rowset->creation_time() + config::cumulative_compaction_skip_window_seconds < now) {\r\n            transient_rowsets.push_back(rowset);\r\n        } else {\r\n            break;\r\n        }\r\n    }\r\n```\r\nSo, by your design. The  `config::cumulative_compaction_skip_window_seconds` need very large?\r\nIf config::cumulative_compaction_skip_window_seconds  is 30s, and the query time is 60s, we still get \r\n230 error?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644545224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644549909","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644549909","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644549909,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU0OTkwOQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T06:02:30Z","updated_at":"2020-06-16T06:02:30Z","author_association":"CONTRIBUTOR","body":"> @morningman I see.\r\n> \r\n> ```\r\n>     for (auto rowset : _input_rowsets) {\r\n>         if (rowset->end_version() <= _tablet->latest_read_version()\r\n>             || rowset->creation_time() + config::cumulative_compaction_skip_window_seconds < now) {\r\n>             transient_rowsets.push_back(rowset);\r\n>         } else {\r\n>             break;\r\n>         }\r\n>     }\r\n> ```\r\n> \r\n> So, by your design. The `config::cumulative_compaction_skip_window_seconds` need very large?\r\n> If config::cumulative_compaction_skip_window_seconds is 30s, and the query time is 60s, we still get\r\n> 230 error?\r\n\r\nNo need. After upgrade, if you leave the `cumulative_compaction_skip_window_seconds` unchanged(default 30 sec), the behavior of cumu compaction is just same as origin(And even better because it try to avoid merging \"not-read-yet\" version).\r\n\r\nAnd if you set `cumulative_compaction_skip_window_seconds` to a large value(eg, 5 minute), the behavior depends on:\r\n\r\n1. If query frequency is reasonable(eg, at least once per minute), then this config has no effect in most cases.\r\n2. If query frequency is low(eg, once per 10 minutes), then the compaction will do every 5 minutes, which act same as the origin.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644549909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644551059","html_url":"https://github.com/apache/doris/pull/3866#issuecomment-644551059","issue_url":"https://api.github.com/repos/apache/doris/issues/3866","id":644551059,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU1MTA1OQ==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T06:05:46Z","updated_at":"2020-06-17T01:47:12Z","author_association":"CONTRIBUTOR","body":"> @WingsGo Hi, it seems code format code still exist in this PR.\r\n\r\n@kangkaisen Yes, It's because the code file includes some core function,so I have to revert it one by one, but it's much more less than before~0v0.You can take more attention to `schema.cpp` file, the mainly purpose is to replace `default` create Schema object with `explicit init` Schema object because it may create a invaild field, we should handle the situation to avoid be crash","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644551059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644551305","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644551305","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644551305,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU1MTMwNQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T06:06:29Z","updated_at":"2020-06-16T06:06:29Z","author_association":"CONTRIBUTOR","body":"In fact, this parameter is mainly to solve the \"publish timeout\" problem.\r\n\r\nIf the publish time is more consistent on all replicas, then this config is actually meaningless.\r\n\r\nIf the publish timeout occurs frequently, for example, the delay is up to 5 minutes, then it is recommended to set this value to greater than 5 minutes to solve the problem.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644551305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644554315","html_url":"https://github.com/apache/doris/pull/3883#issuecomment-644554315","issue_url":"https://api.github.com/repos/apache/doris/issues/3883","id":644554315,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU1NDMxNQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T06:14:52Z","updated_at":"2020-06-16T06:15:54Z","author_association":"CONTRIBUTOR","body":"> Hi @chaoyli . Actually, not all `ShowProc` stmt should be forward to master.\r\n> Some of them, yes, like: `show proc \"/cluster_balance\"`, because the non-master FE has\r\n> nothing to do the the cluster balance logic.\r\n> \r\n> But some of them don't, like: `show proc \"/dbs/10003/10017/partitions/10016/10018\";`.\r\n> This is the stmt to show the tablet info saving in the current FE's memory.\r\n> \r\n> These kind of `show proc` stmt should not be forward to master FE because sometimes\r\n> we need to check the meta of current FE, to see if there is any inconsistency with the Master FE.\r\n> \r\n> That is why I add the variable `forward_to_master` to control whether to forward these stmts.\r\n\r\nI thinks the variable forward_to_master is useless, even make application complicated. User deploy the Doris will one Master and two Follower. The master will change when new vote. And the user don't know whether to set the variable or not. He must remember every show statement implementation difference.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644554315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644557164","html_url":"https://github.com/apache/doris/pull/3883#issuecomment-644557164","issue_url":"https://api.github.com/repos/apache/doris/issues/3883","id":644557164,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU1NzE2NA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T06:22:46Z","updated_at":"2020-06-16T06:22:46Z","author_association":"CONTRIBUTOR","body":"> I thinks the variable forward_to_master is useless, even make application complicated. User deploy the Doris will one Master and two Follower. The master will change when new vote. And the user don't know whether to set the variable or not. He must remember every show statement implementation difference.\r\n\r\nIt indeed complicated. But I can't figure out how to make it simple for user to see both master and non-master FE's meta info.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644557164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644557656","html_url":"https://github.com/apache/doris/pull/3872#issuecomment-644557656","issue_url":"https://api.github.com/repos/apache/doris/issues/3872","id":644557656,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU1NzY1Ng==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T06:24:06Z","updated_at":"2020-06-16T06:24:06Z","author_association":"CONTRIBUTOR","body":"> > When the FE Coordinator executes execRemoteFragmentAsync(), if it finds an RPC error, return a Future with an error code instead of exception.\r\n> \r\n> @morningman Hi, where is the code?\r\n\r\nOh, sorry, I think i miss some part of the code...","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644557656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644558471","html_url":"https://github.com/apache/doris/pull/3883#issuecomment-644558471","issue_url":"https://api.github.com/repos/apache/doris/issues/3883","id":644558471,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU1ODQ3MQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T06:26:20Z","updated_at":"2020-06-16T06:26:20Z","author_association":"CONTRIBUTOR","body":"> And by the way, better to fix the compilation problem in another PR.\r\n> That is more urgent and need to be fixed and merged ASAP.\r\n\r\nIt's because I run the unit test before I push the PR, this is by the way.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644558471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644562825","html_url":"https://github.com/apache/doris/pull/3872#issuecomment-644562825","issue_url":"https://api.github.com/repos/apache/doris/issues/3872","id":644562825,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU2MjgyNQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T06:37:09Z","updated_at":"2020-06-16T06:37:09Z","author_association":"CONTRIBUTOR","body":"> > > When the FE Coordinator executes execRemoteFragmentAsync(), if it finds an RPC error, return a Future with an error code instead of exception.\r\n> > \r\n> > \r\n> > @morningman Hi, where is the code?\r\n> \r\n> Oh, sorry, I think i miss some part of the code...\r\n\r\nDone","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644562825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644584644","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644584644","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644584644,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU4NDY0NA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T07:25:20Z","updated_at":"2020-06-16T07:25:20Z","author_association":"CONTRIBUTOR","body":"1. For `Query with Join`. I think we could capture all tablets when olap_scan_node prepare.\r\n\r\n2. For `publish timeout`, I think we should improve publish version performance.\r\n\r\n3. I think we could add a MVVC GC mechanism like other database system. And then, we don't need `latest_read_version and` and `cumulative_compaction_skip_window_seconds` both, and the compaction rowsets picked logic is simple.  we only need one config `unused_rowset_gc_window_seconds`.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644584644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644606822","html_url":"https://github.com/apache/doris/pull/3883#issuecomment-644606822","issue_url":"https://api.github.com/repos/apache/doris/issues/3883","id":644606822,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDYwNjgyMg==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T08:09:23Z","updated_at":"2020-06-16T08:09:23Z","author_association":"CONTRIBUTOR","body":"> > I thinks the variable forward_to_master is useless, even make application complicated. User deploy the Doris will one Master and two Follower. The master will change when new vote. And the user don't know whether to set the variable or not. He must remember every show statement implementation difference.\r\n> \r\n> It indeed complicated. But I can't figure out how to make it simple for user to see both master and non-master FE's meta info.\r\n\r\nSo I only make show proc get the forward variable to make a comprise.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644606822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644638252","html_url":"https://github.com/apache/doris/issues/3853#issuecomment-644638252","issue_url":"https://api.github.com/repos/apache/doris/issues/3853","id":644638252,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDYzODI1Mg==","user":{"login":"phenixmzy","id":303954,"node_id":"MDQ6VXNlcjMwMzk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/303954?v=4","gravatar_id":"","url":"https://api.github.com/users/phenixmzy","html_url":"https://github.com/phenixmzy","followers_url":"https://api.github.com/users/phenixmzy/followers","following_url":"https://api.github.com/users/phenixmzy/following{/other_user}","gists_url":"https://api.github.com/users/phenixmzy/gists{/gist_id}","starred_url":"https://api.github.com/users/phenixmzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phenixmzy/subscriptions","organizations_url":"https://api.github.com/users/phenixmzy/orgs","repos_url":"https://api.github.com/users/phenixmzy/repos","events_url":"https://api.github.com/users/phenixmzy/events{/privacy}","received_events_url":"https://api.github.com/users/phenixmzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T09:08:11Z","updated_at":"2020-06-16T09:08:11Z","author_association":"NONE","body":"> 你是否观察到 在 show routine Load 的结果中， abortedTaskNum 数量在上升？\r\n\r\n有，基本每隔1-5秒就上升一次\r\n\r\n{\"receivedBytes\":0,\"errorRows\":0,\"committedTaskNum\":0,\"loadedRows\":0,\"loadRowsRate\":0,\"abortedTaskNum\":8759,\"totalRows\":0,\"unselectedRows\":0,\"receivedBytesRate\":0,\"taskExecuteTimeMs\":1}\r\n--\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644638252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644640252","html_url":"https://github.com/apache/doris/issues/3853#issuecomment-644640252","issue_url":"https://api.github.com/repos/apache/doris/issues/3853","id":644640252,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDY0MDI1Mg==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T09:11:48Z","updated_at":"2020-06-16T09:11:48Z","author_association":"CONTRIBUTOR","body":"> > 你是否观察到 在 show routine Load 的结果中， abortedTaskNum 数量在上升？\r\n> \r\n> 有，基本每隔1-5秒就上升一次\r\n> \r\n> ## {\"receivedBytes\":0,\"errorRows\":0,\"committedTaskNum\":0,\"loadedRows\":0,\"loadRowsRate\":0,\"abortedTaskNum\":8759,\"totalRows\":0,\"unselectedRows\":0,\"receivedBytesRate\":0,\"taskExecuteTimeMs\":1}\r\n\r\n你可以尝试手动设置一个有效的offset，而不是使用 OFFSET_END，然后观察是否开始消费","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644640252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644647384","html_url":"https://github.com/apache/doris/pull/3883#issuecomment-644647384","issue_url":"https://api.github.com/repos/apache/doris/issues/3883","id":644647384,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDY0NzM4NA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T09:24:25Z","updated_at":"2020-06-16T09:24:25Z","author_association":"CONTRIBUTOR","body":"> > > I thinks the variable forward_to_master is useless, even make application complicated. User deploy the Doris will one Master and two Follower. The master will change when new vote. And the user don't know whether to set the variable or not. He must remember every show statement implementation difference.\r\n> > \r\n> > \r\n> > It indeed complicated. But I can't figure out how to make it simple for user to see both master and non-master FE's meta info.\r\n> \r\n> So I only make show proc get the forward variable to make a comprise.\r\n\r\nHow to do with this?\r\n`show proc \"/dbs/10003/10017/partitions/10016/10018\";`","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644647384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644653527","html_url":"https://github.com/apache/doris/issues/3853#issuecomment-644653527","issue_url":"https://api.github.com/repos/apache/doris/issues/3853","id":644653527,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDY1MzUyNw==","user":{"login":"EmmyMiao87","id":25147274,"node_id":"MDQ6VXNlcjI1MTQ3Mjc0","avatar_url":"https://avatars.githubusercontent.com/u/25147274?v=4","gravatar_id":"","url":"https://api.github.com/users/EmmyMiao87","html_url":"https://github.com/EmmyMiao87","followers_url":"https://api.github.com/users/EmmyMiao87/followers","following_url":"https://api.github.com/users/EmmyMiao87/following{/other_user}","gists_url":"https://api.github.com/users/EmmyMiao87/gists{/gist_id}","starred_url":"https://api.github.com/users/EmmyMiao87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmmyMiao87/subscriptions","organizations_url":"https://api.github.com/users/EmmyMiao87/orgs","repos_url":"https://api.github.com/users/EmmyMiao87/repos","events_url":"https://api.github.com/users/EmmyMiao87/events{/privacy}","received_events_url":"https://api.github.com/users/EmmyMiao87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T09:36:13Z","updated_at":"2020-06-16T09:36:13Z","author_association":"CONTRIBUTOR","body":"一开始创建routine load的时候，不要指定end offset 而是指定一个确定的值。这样就没问题了","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644653527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644692753","html_url":"https://github.com/apache/doris/pull/3883#issuecomment-644692753","issue_url":"https://api.github.com/repos/apache/doris/issues/3883","id":644692753,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDY5Mjc1Mw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T11:00:19Z","updated_at":"2020-06-16T11:00:19Z","author_association":"CONTRIBUTOR","body":"> > > > I thinks the variable forward_to_master is useless, even make application complicated. User deploy the Doris will one Master and two Follower. The master will change when new vote. And the user don't know whether to set the variable or not. He must remember every show statement implementation difference.\r\n> > > \r\n> > > \r\n> > > It indeed complicated. But I can't figure out how to make it simple for user to see both master and non-master FE's meta info.\r\n> > \r\n> > \r\n> > So I only make show proc get the forward variable to make a comprise.\r\n> \r\n> How to do with this?\r\n> `show proc \"/dbs/10003/10017/partitions/10016/10018\";`\r\n\r\nThis is a question. If we make the behavior consistent with master to make balance statistics exists in follower like table metadata.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644692753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644694065","html_url":"https://github.com/apache/doris/pull/3883#issuecomment-644694065","issue_url":"https://api.github.com/repos/apache/doris/issues/3883","id":644694065,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDY5NDA2NQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T11:03:31Z","updated_at":"2020-06-16T11:03:31Z","author_association":"CONTRIBUTOR","body":"> > > > > I thinks the variable forward_to_master is useless, even make application complicated. User deploy the Doris will one Master and two Follower. The master will change when new vote. And the user don't know whether to set the variable or not. He must remember every show statement implementation difference.\r\n> > > > \r\n> > > > \r\n> > > > It indeed complicated. But I can't figure out how to make it simple for user to see both master and non-master FE's meta info.\r\n> > > \r\n> > > \r\n> > > So I only make show proc get the forward variable to make a comprise.\r\n> > \r\n> > \r\n> > How to do with this?\r\n> > `show proc \"/dbs/10003/10017/partitions/10016/10018\";`\r\n> \r\n> This is a question. If we make the behavior consistent with master to make balance statistics exists in follower like table metadata.\r\n\r\nThat could cause too many meta sync log.\r\nMaybe we can find a way to classify the `show proc` statement. This can control the behavior of each category.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644694065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644697267","html_url":"https://github.com/apache/doris/pull/3883#issuecomment-644697267","issue_url":"https://api.github.com/repos/apache/doris/issues/3883","id":644697267,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDY5NzI2Nw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T11:10:46Z","updated_at":"2020-06-16T11:10:46Z","author_association":"CONTRIBUTOR","body":"> > > > > > I thinks the variable forward_to_master is useless, even make application complicated. User deploy the Doris will one Master and two Follower. The master will change when new vote. And the user don't know whether to set the variable or not. He must remember every show statement implementation difference.\r\n> > > > > \r\n> > > > > \r\n> > > > > It indeed complicated. But I can't figure out how to make it simple for user to see both master and non-master FE's meta info.\r\n> > > > \r\n> > > > \r\n> > > > So I only make show proc get the forward variable to make a comprise.\r\n> > > \r\n> > > \r\n> > > How to do with this?\r\n> > > `show proc \"/dbs/10003/10017/partitions/10016/10018\";`\r\n> > \r\n> > \r\n> > This is a question. If we make the behavior consistent with master to make balance statistics exists in follower like table metadata.\r\n> \r\n> That could cause too many meta sync log.\r\n> Maybe we can find a way to classify the `show proc` statement. This can control the behavior of each category.\r\n\r\nOK, we should found another method to address the problem.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644697267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644705585","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644705585","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644705585,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDcwNTU4NQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T11:29:55Z","updated_at":"2020-06-16T11:29:55Z","author_association":"CONTRIBUTOR","body":"> 2\\. For `publish timeout`, I think we should improve publish version performance.\r\n\r\nYes, publish timeout is the root cause of this problem. This part needs continuous optimization\r\n\r\n> 3\\. I think we could add a MVVC GC mechanism like other database system.\r\n\r\nIf there is still a serious timeout problem, the MVCC mechanism cannot fundamentally solve this problem. Because we still face the problem of how to set the appropriate `unused_rowset_gc_window_seconds` value. If timeout is delayed by 10 minutes, then `unused_rowset_gc_window_seconds` must be set to greater than 10 minutes. However, MVCC can solve the problem of poor reading performance due to the accumulation of data versions during the delay.\r\n\r\n\r\nIn summary, `latest read version` is just a temporary solution that can alleviate the problem. And in most cases there should be no problems. In fact, @chaoyli  has written a function that supports multi-path lookup of version graph, maybe we can implement a complete MVCC logic on this basis.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644705585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644728422","html_url":"https://github.com/apache/doris/pull/3775#issuecomment-644728422","issue_url":"https://api.github.com/repos/apache/doris/issues/3775","id":644728422,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDcyODQyMg==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T12:22:03Z","updated_at":"2020-11-10T03:56:23Z","author_association":"CONTRIBUTOR","body":"It is hard to review the changed files at one time, so I classify the modified files into different groups. Please Pay more attention to Alter, Catalog, Load theme, which could be quite error prone. And now I don't change httpv2 code, because it is not used now, so we can modify it later.\r\n**Alter**\r\n1 Alter.java\r\n2 AlterHandler.java\r\n3 AlterJobV2.java\r\n4 MaterializedViewHandler.java\r\n5 RollupJob.java\r\n6 RollupJobV2.java\r\n7 SchemaChangeHandler.java \r\n8 SchemaChangeJob.java\r\n9 SchemaChangeJobV2.java \r\n\r\n\r\n**Stmt**\r\n\r\n10 DescribeStmt.java\r\n11 ExportStmt.java\r\n12 ShowDataStmt.java\r\n13 ShowPartitionsStmt.java\r\n14 InsertStmt.java\r\n15 QueryStmt.java\r\n16 SelectStmt.java\r\n17 SetOperationStmt.java\r\n18 WithClause.java\r\n19 StmtExecutor.java\r\n20 ShowExecutor.java \r\n\r\n**Backup**\r\n\r\n21 BackupHandler.java \r\n22 BackupJob.java \r\n23 RestoreJob.java\r\n\r\n**Catalog**\r\n\r\n24 Catalog.java\r\n25 CatalogRecycleBin.java\r\n\r\n**Colocate**\r\n\r\n26 ColocateTableIndex.java\r\n27 ColocateTableBalancer.java\r\n\r\n**Meta**\r\n\r\n28 Database.java\r\n29 MetadataViewer.java\r\n30 OlapTable.java\r\n31 Table.java\r\n32 InfoSchemaDb.java\r\n33 MetaLockUtils.java\r\n\r\n\r\n**MetaManager**\r\n\r\n34 TabletStatMgr.java \r\n35 DynamicPartitionScheduler.java\r\n36 TabletChecker.java\r\n37 TabletSchedCtx.java \r\n38 TabletScheduler.java\r\n\r\n**Proc** \r\n\r\n39 EsPartitionsProcDir.java \r\n40 EsShardProcDir.java\r\n41 IndexInfoProcDir.java\r\n42 IndicesProcDir.java \r\n43 PartitionsProcDir.java\r\n44 StatisticProcDir.java \r\n45 TablesProcDir.java\r\n46 TabletsProcDir.java \r\n\r\n**Check**\r\n\r\n47 CheckConsistencyJob.java \r\n48 ConsistencyChecker.java \r\n\r\n\r\n**Rest** \r\n\r\n49 GetDdlStmtAction.java\r\n50 MigrationAction.java \r\n51 RowCountAction.java \r\n52 StorageTypeCheckAction.java\r\n53 TableQueryPlanAction.java \r\n54 TableRowCountAction.java\r\n55 TableSchemaAction.java \r\n56 ShowDataAction.java\r\n57 MetaService.java\r\n\r\n**Load** \r\n58 BrokerFileGroup.java \r\n59 DeleteHandler.java\r\n60 DeleteJob.java \r\n61 ExportJob.java\r\n62 Load.java\r\n63 LoadChecker.java\r\n64 BrokerLoadJob.java \r\n65 LoadManager.java \r\n66 KafkaRoutineLoadJob.java\r\n67 RoutineLoadJob.java \r\n68 BulkLoadJob.java\r\n69 LoadJob.java\r\n70 SparkLoadJob.java\r\n\r\n\r\n\r\n**System**\r\n\r\n71 ReportHandler.java\r\n72 SystemInfoService.java\r\n73 ConnectProcessor.java\r\n\r\n**Task**\r\n\r\n74 HadoopLoadPendingTask.java \r\n75 LoadEtlTask.java\r\n76 MiniLoadPendingTask.java \r\n77 StreamLoadTask.java\r\n78 SparkLoadPendingTask.java\r\n\r\n**TransactionMgr**\r\n\r\n79 DatabaseTransactionMgr.java\r\n80 GlobalTransactionMgr.java\r\n81 PublishVersionDaemon.java\r\n\r\n**Rpc**\r\n\r\n82 FrontendServiceImpl.java \r\n83 MasterImpl.java \r\n\r\n**Test**\r\n84 SchemaChangeJobV2Test.java\r\n85 RollupJobV2Test.java\r\n86 DatabaseTest.java\r\n87 AlterTest.java\r\n88 DemoTest.java\r\n89  AnotherDemoTest.java\r\n90 MetaLockUtilsTets.java\r\n91 InfoSchemaDbTest.java\r\n92 TableTest.java \r\n93 DeleteHandlerTest.java \r\n94 StreamLoadPlannerTest.java\r\n95 StreamLoadScanNodeTest.java\r\n96 DatabaseTransactionMgrTest.java \r\n97 GlobalTransactionMgrTest.java \r\n98 StmtExecutorTest.java\r\n99 SparkLoadJobTest.java\r\n\r\nLooking forwards to lively discussions.\r\n\r\n @kangkaisen @morningman @wangbo ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644728422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644730167","html_url":"https://github.com/apache/doris/issues/3887#issuecomment-644730167","issue_url":"https://api.github.com/repos/apache/doris/issues/3887","id":644730167,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDczMDE2Nw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T12:26:01Z","updated_at":"2020-06-16T12:26:01Z","author_association":"CONTRIBUTOR","body":"If '20200609' should cast to int will be right.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644730167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644748542","html_url":"https://github.com/apache/doris/issues/3887#issuecomment-644748542","issue_url":"https://api.github.com/repos/apache/doris/issues/3887","id":644748542,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDc0ODU0Mg==","user":{"login":"spaces-X","id":21240668,"node_id":"MDQ6VXNlcjIxMjQwNjY4","avatar_url":"https://avatars.githubusercontent.com/u/21240668?v=4","gravatar_id":"","url":"https://api.github.com/users/spaces-X","html_url":"https://github.com/spaces-X","followers_url":"https://api.github.com/users/spaces-X/followers","following_url":"https://api.github.com/users/spaces-X/following{/other_user}","gists_url":"https://api.github.com/users/spaces-X/gists{/gist_id}","starred_url":"https://api.github.com/users/spaces-X/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spaces-X/subscriptions","organizations_url":"https://api.github.com/users/spaces-X/orgs","repos_url":"https://api.github.com/users/spaces-X/repos","events_url":"https://api.github.com/users/spaces-X/events{/privacy}","received_events_url":"https://api.github.com/users/spaces-X/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T13:02:18Z","updated_at":"2020-06-16T13:02:18Z","author_association":"CONTRIBUTOR","body":"> If '20200609' should cast to int will be right.\r\n\r\nYeah\r\nIf we change the logic in BinaryPredicate#getCmpType to add a rule like `(t1 = VARCHAR, t2 = FixedPointType: INT/BIGINT/...) -> (compatible type= FixedPointType: INT/BIGINT/...)`, will it be ok? ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644748542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644753631","html_url":"https://github.com/apache/doris/issues/3887#issuecomment-644753631","issue_url":"https://api.github.com/repos/apache/doris/issues/3887","id":644753631,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDc1MzYzMQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T13:10:29Z","updated_at":"2020-06-16T13:10:29Z","author_association":"CONTRIBUTOR","body":"I am not very be skilled of it.  @EmmyMiao87 is a better object to answer the question.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644753631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644771390","html_url":"https://github.com/apache/doris/issues/3887#issuecomment-644771390","issue_url":"https://api.github.com/repos/apache/doris/issues/3887","id":644771390,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDc3MTM5MA==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T13:38:00Z","updated_at":"2020-06-16T13:38:00Z","author_association":"CONTRIBUTOR","body":"> > If '20200609' should cast to int will be right.\r\n> \r\n> Yeah\r\n> If we change the logic in BinaryPredicate#getCmpType to add a rule like `(t1 = VARCHAR, t2 = FixedPointType: INT/BIGINT/...) -> (compatible type= FixedPointType: INT/BIGINT/...)`, will it be ok?\r\n\r\nWe can not simple change like this, you can see this PR https://github.com/apache/incubator-doris/pull/3527 , change the behavior will cause some problem, such as:select '1.1' = 1; if we cast it to int , it will return true.select '0.0' = 0; will throw a error","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644771390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644805416","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644805416","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644805416,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDgwNTQxNg==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T14:34:55Z","updated_at":"2020-06-16T14:34:55Z","author_association":"CONTRIBUTOR","body":"> In summary, latest read version is just a temporary solution that can alleviate the problem. And in most cases there should be no problems.\r\n\r\n@morningman Yes, I agree with you. \r\n\r\nBut this problem has existed for a very long time(from 0.9 to 0.12), we  always use a temporary solution to alleviate this problem. I think this time we should find a solution to completely solve this problem.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644805416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644819207","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644819207","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644819207,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDgxOTIwNw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T14:57:48Z","updated_at":"2020-06-16T14:57:48Z","author_association":"CONTRIBUTOR","body":"OK, I can leave this PR as a alternative that user can cherry-pick to solve their problem in short time.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644819207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644826476","html_url":"https://github.com/apache/doris/issues/3887#issuecomment-644826476","issue_url":"https://api.github.com/repos/apache/doris/issues/3887","id":644826476,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDgyNjQ3Ng==","user":{"login":"spaces-X","id":21240668,"node_id":"MDQ6VXNlcjIxMjQwNjY4","avatar_url":"https://avatars.githubusercontent.com/u/21240668?v=4","gravatar_id":"","url":"https://api.github.com/users/spaces-X","html_url":"https://github.com/spaces-X","followers_url":"https://api.github.com/users/spaces-X/followers","following_url":"https://api.github.com/users/spaces-X/following{/other_user}","gists_url":"https://api.github.com/users/spaces-X/gists{/gist_id}","starred_url":"https://api.github.com/users/spaces-X/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spaces-X/subscriptions","organizations_url":"https://api.github.com/users/spaces-X/orgs","repos_url":"https://api.github.com/users/spaces-X/repos","events_url":"https://api.github.com/users/spaces-X/events{/privacy}","received_events_url":"https://api.github.com/users/spaces-X/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T15:09:48Z","updated_at":"2020-06-16T15:09:48Z","author_association":"CONTRIBUTOR","body":"> > > If '20200609' should cast to int will be right.\r\n> > \r\n> > \r\n> > Yeah\r\n> > If we change the logic in BinaryPredicate#getCmpType to add a rule like `(t1 = VARCHAR, t2 = FixedPointType: INT/BIGINT/...) -> (compatible type= FixedPointType: INT/BIGINT/...)`, will it be ok?\r\n> \r\n> We can not simple change like this, you can see this PR #3527 , change the behavior will cause some problem, such as:select '1.1' = 1; if we cast it to int , it will return true.select '0.0' = 0; will throw a error\r\n\r\nI see.Thanks a lot.\r\nSo in this pr  [#3527](https://github.com/apache/incubator-doris/pull/3527) , String will cast to NumericType in Binary Predicate, which will cause the problem you mentioned : `select '1.1' = 1` and this pr can not be merged. \r\nIf we want to avoid scaning all partitions, we need some futher more works to do on the partition type itself.\r\nRight?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644826476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644827340","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644827340","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644827340,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDgyNzM0MA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T15:11:10Z","updated_at":"2020-06-16T15:11:10Z","author_association":"CONTRIBUTOR","body":"> OK, I can leave this PR as a alternative that user can cherry-pick to solve their problem in short time.\r\n\r\nMerge this PR to master is OK. \r\nWhat I want to emphasize is we should at least discuss and conclude  a completely solution this time.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644827340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/644828939","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-644828939","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":644828939,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDgyODkzOQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T15:14:00Z","updated_at":"2020-06-16T15:14:00Z","author_association":"CONTRIBUTOR","body":"> > OK, I can leave this PR as a alternative that user can cherry-pick to solve their problem in short time.\r\n> \r\n> Merge this PR to master is OK.\r\n> What I want to emphasize is we should at least discuss and conclude a completely solution this time.\r\n\r\nOK, I will create another issue to tracking this problem.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/644828939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645097140","html_url":"https://github.com/apache/doris/issues/3887#issuecomment-645097140","issue_url":"https://api.github.com/repos/apache/doris/issues/3887","id":645097140,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTA5NzE0MA==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T01:42:28Z","updated_at":"2020-06-17T01:42:28Z","author_association":"CONTRIBUTOR","body":"> > > > If '20200609' should cast to int will be right.\r\n> > > \r\n> > > \r\n> > > Yeah\r\n> > > If we change the logic in BinaryPredicate#getCmpType to add a rule like `(t1 = VARCHAR, t2 = FixedPointType: INT/BIGINT/...) -> (compatible type= FixedPointType: INT/BIGINT/...)`, will it be ok?\r\n> > \r\n> > \r\n> > We can not simple change like this, you can see this PR #3527 , change the behavior will cause some problem, such as:select '1.1' = 1; if we cast it to int , it will return true.select '0.0' = 0; will throw a error\r\n> \r\n> I see.Thanks a lot.\r\n> So in this pr [#3527](https://github.com/apache/incubator-doris/pull/3527) , String will cast to NumericType in Binary Predicate, which will cause the problem you mentioned : `select '1.1' = 1` and this pr can not be merged.\r\n> If we want to avoid scaning all partitions, we need some futher more works to do on the partition type itself.\r\n> Right?\r\n\r\nYes, the PR didn't solve these problems, so if we need to avoid such situation, we much need much more test to ensure more situation is taken into conside.Currently we can only avoid by our sql.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645097140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645097939","html_url":"https://github.com/apache/doris/pull/3872#issuecomment-645097939","issue_url":"https://api.github.com/repos/apache/doris/issues/3872","id":645097939,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTA5NzkzOQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T01:45:24Z","updated_at":"2020-06-17T01:45:24Z","author_association":"CONTRIBUTOR","body":"hi @kangkaisen Could you help to review again?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645097939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645103400","html_url":"https://github.com/apache/doris/pull/3872#issuecomment-645103400","issue_url":"https://api.github.com/repos/apache/doris/issues/3872","id":645103400,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTEwMzQwMA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T02:06:54Z","updated_at":"2020-06-17T02:06:54Z","author_association":"CONTRIBUTOR","body":"OK","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645103400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645115947","html_url":"https://github.com/apache/doris/issues/3889#issuecomment-645115947","issue_url":"https://api.github.com/repos/apache/doris/issues/3889","id":645115947,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTExNTk0Nw==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T02:52:01Z","updated_at":"2020-06-17T02:52:01Z","author_association":"CONTRIBUTOR","body":"Good analysis!","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645115947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645128251","html_url":"https://github.com/apache/doris/pull/3729#issuecomment-645128251","issue_url":"https://api.github.com/repos/apache/doris/issues/3729","id":645128251,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTEyODI1MQ==","user":{"login":"wangbo","id":12951030,"node_id":"MDQ6VXNlcjEyOTUxMDMw","avatar_url":"https://avatars.githubusercontent.com/u/12951030?v=4","gravatar_id":"","url":"https://api.github.com/users/wangbo","html_url":"https://github.com/wangbo","followers_url":"https://api.github.com/users/wangbo/followers","following_url":"https://api.github.com/users/wangbo/following{/other_user}","gists_url":"https://api.github.com/users/wangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/wangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangbo/subscriptions","organizations_url":"https://api.github.com/users/wangbo/orgs","repos_url":"https://api.github.com/users/wangbo/repos","events_url":"https://api.github.com/users/wangbo/events{/privacy}","received_events_url":"https://api.github.com/users/wangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T03:40:24Z","updated_at":"2020-06-17T03:40:24Z","author_association":"CONTRIBUTOR","body":"1 support date/datetime as partition column\r\n2 some minor fix\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645128251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645144631","html_url":"https://github.com/apache/doris/issues/3871#issuecomment-645144631","issue_url":"https://api.github.com/repos/apache/doris/issues/3871","id":645144631,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTE0NDYzMQ==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T04:37:36Z","updated_at":"2020-06-17T04:37:36Z","author_association":"CONTRIBUTOR","body":"\r\n> ```\r\n> The destructor call chain is as follows:\r\n> PlanFragmentExecutor\r\n> |--- RuntimeState\r\n>      |--- RuntimeProfile\r\n>      |--- ObjectPool\r\n>           |--- NodeChannel\r\n>                |--- RowBatch\r\n>                     |--- MemTracker->release()\r\n>                          |--- profile->_consumption->add(-bytes)\r\n> ```\r\n> \r\n> Note that the RuntimeProfile will be first destructed in RuntimeState, which will cause the `_consumption` object that has been destructed to be called when destructing the RowBatch in the NodeChannel, which will eventually cause BE crash.\r\n> \r\nMemTracker is created by https://github.com/apache/incubator-doris/blob/c6f2b5ef0df61902360a3f3fcdfc00a6fff86dfe/be/src/exec/tablet_sink.cpp#L461\r\nIs the OlapTableSink::_mem_tracker related to RuntimeState::_profile?\r\nI think the RuntimeState::_instance_mem_tracker is relevant. Because it's OlapTableSink::_mem_tracker's parent.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645144631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645145295","html_url":"https://github.com/apache/doris/pull/3894#issuecomment-645145295","issue_url":"https://api.github.com/repos/apache/doris/issues/3894","id":645145295,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTE0NTI5NQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T04:39:37Z","updated_at":"2020-06-17T04:39:37Z","author_association":"CONTRIBUTOR","body":"Let me think about it","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645145295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645149142","html_url":"https://github.com/apache/doris/issues/3892#issuecomment-645149142","issue_url":"https://api.github.com/repos/apache/doris/issues/3892","id":645149142,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTE0OTE0Mg==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T04:53:56Z","updated_at":"2020-06-17T04:53:56Z","author_association":"CONTRIBUTOR","body":"@greeenSY Hi, the problem is solved by this PR https://github.com/apache/incubator-doris/pull/3679","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645149142/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645160210","html_url":"https://github.com/apache/doris/issues/3871#issuecomment-645160210","issue_url":"https://api.github.com/repos/apache/doris/issues/3871","id":645160210,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTE2MDIxMA==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T05:29:30Z","updated_at":"2020-06-17T05:29:30Z","author_association":"CONTRIBUTOR","body":"It is my guess:\r\nWe met some errors in NodeChannel, make `_cancelled == true`.\r\nAnd `NodeChannel's _cur_batch or _pending_batches` have some bytes.\r\nAlthough some NodeChannels is cancelled internally, it isn't intolerable. OlapTableSink will use `NodeChannel::mark_close()`.\r\nBut I write this\r\nhttps://github.com/apache/incubator-doris/blob/7591527977ea8b4184e45581007cc805c461b451/be/src/exec/tablet_sink.cpp#L218-L222\r\nSo when `cancelled internally` NodeChannels is under destruction, we will meet `not empty` RowBatch. \r\n\r\nBut at that time, RuntimeState::_instance_mem_tracker has already deleted. \r\n\r\n(RowBatch's mem_tracker = OlapTableSink::_mem_tracker. RuntimeState::_instance_mem_tracker is OlapTableSink::_mem_tracker's parent)\r\n\r\nIt's my fault. I used to treat OlapTableSink::_mem_tracker & _channels as internal members of OlapTableSink.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645160210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645299411","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-645299411","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":645299411,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTI5OTQxMQ==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T10:46:04Z","updated_at":"2020-06-17T10:46:04Z","author_association":"CONTRIBUTOR","body":"The problem could also occur when follower's metadata lags behind master by a substantial time. We encountered one case recently and I'd like to share the details.\r\n\r\nFirst of all, master FE finishes txn quickly and normally every 5 second.\r\n\r\n```\r\n2020-06-17 14:14:08,315 INFO 32 [GlobalTransactionMgr.updateCatalogAfterVisible():1086] set partition 264562638's version to [10210] and version hash to [3776798707510922300]\r\n2020-06-17 14:14:13,256 INFO 32 [GlobalTransactionMgr.updateCatalogAfterVisible():1086] set partition 264562638's version to [10211] and version hash to [6996331758766475117]\r\n2020-06-17 14:14:18,300 INFO 32 [GlobalTransactionMgr.updateCatalogAfterVisible():1086] set partition 264562638's version to [10212] and version hash to [1122327101224378913]\r\n```\r\n\r\nHowever, one of the followers encounters some transient issue and its metadata lags behind master during 14:14~14:16. This causes some queries picking obsolete version 10210 before 14:15:47, which then fails with -230 err code.\r\n\r\n```\r\n2020-06-17 14:14:52,896 INFO 81 [GlobalTransactionMgr.updateCatalogAfterVisible():1086] set partition 264562638's version to [10210] and version hash to [3776798707510922300]\r\n2020-06-17 14:15:47,789 INFO 81 [GlobalTransactionMgr.updateCatalogAfterVisible():1086] set partition 264562638's version to [10211] and version hash to [6996331758766475117]\r\n2020-06-17 14:16:36,344 INFO 81 [GlobalTransactionMgr.updateCatalogAfterVisible():1086] set partition 264562638's version to [10212] and version hash to [1122327101224378913]\r\n2020-06-17 14:16:36,407 INFO 81 [GlobalTransactionMgr.updateCatalogAfterVisible():1086] set partition 264562638's version to [10213] and version hash to [4855950519590045391]\r\n```\r\n\r\nThe proposed `latest_read_version` can't help in this case. I think MVVC is the way to go at the end of the day.\r\n\r\n> In fact, @chaoyli has written a function that supports multi-path lookup of version graph, maybe we can implement a complete MVCC logic on this basis.\r\n\r\n+1. What's the progress of this work? I'd like to help if possible.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645299411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645301694","html_url":"https://github.com/apache/doris/issues/3859#issuecomment-645301694","issue_url":"https://api.github.com/repos/apache/doris/issues/3859","id":645301694,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTMwMTY5NA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T10:51:14Z","updated_at":"2020-06-17T10:51:14Z","author_association":"CONTRIBUTOR","body":"> +1. What's the progress of this work? I'd like to help if possible.\r\n\r\nJust started, one of our team is working this. We can make a discuss after investigation.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645301694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645732574","html_url":"https://github.com/apache/doris/pull/3899#issuecomment-645732574","issue_url":"https://api.github.com/repos/apache/doris/issues/3899","id":645732574,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTczMjU3NA==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T02:32:43Z","updated_at":"2020-06-19T06:30:02Z","author_association":"CONTRIBUTOR","body":"The detected error:\r\n```\r\n==11791==ERROR: AddressSanitizer: heap-use-after-free on address 0x61400000d4d0 at pc 0x00000173f25c bp 0x7ffc769fb940 sp 0x7ffc769fb938\r\nREAD of size 8 at 0x61400000d4d0 thread T0\r\nI0618 02:30:07.237269 11803 socket.cpp:2260] Checking Socket{id=17179869185 addr=127.0.0.1:4357} (0x631000014a00)\r\n    #0 0x173f25b in doris::MemTracker::release(long) /root/git/incubator-doris/be/src/runtime/mem_tracker.h:222\r\n    #1 0x173770f in doris::MemPool::free_all() /root/git/incubator-doris/be/src/runtime/mem_pool.cpp:78\r\n    #2 0x177cfe4 in doris::RowBatch::clear() /root/git/incubator-doris/be/src/runtime/row_batch.cpp:276\r\n    #3 0x177d8c5 in doris::RowBatch::~RowBatch() /root/git/incubator-doris/be/src/runtime/row_batch.cpp:301\r\n    #4 0x177d9de in doris::RowBatch::~RowBatch() /root/git/incubator-doris/be/src/runtime/row_batch.cpp:302\r\n    #5 0x1365cea in std::default_delete<doris::RowBatch>::operator()(doris::RowBatch*) const /usr/include/c++/7.3.0/bits/unique_ptr.h:78\r\n    #6 0x1356cd4 in std::unique_ptr<doris::RowBatch, std::default_delete<doris::RowBatch> >::~unique_ptr() /usr/include/c++/7.3.0/bits/unique_ptr.h:268\r\n    #7 0x1325425 in doris::stream_load::NodeChannel::~NodeChannel() /root/git/incubator-doris/be/src/exec/tablet_sink.cpp:41\r\n    #8 0x1391887 in doris::ObjectPool::SpecificElement<doris::stream_load::NodeChannel>::~SpecificElement() (/root/git/incubator-doris/be/ut_build/test/exec/tablet_sink_test+0x1391887)\r\n    #9 0x13918e0 in doris::ObjectPool::SpecificElement<doris::stream_load::NodeChannel>::~SpecificElement() (/root/git/incubator-doris/be/ut_build/test/exec/tablet_sink_test+0x13918e0)\r\n    #10 0x12af245 in doris::ObjectPool::clear() /root/git/incubator-doris/be/src/common/object_pool.h:54\r\n    #11 0x12aefb8 in doris::ObjectPool::~ObjectPool() /root/git/incubator-doris/be/src/common/object_pool.h:37\r\n    #12 0x12a1c9d in doris::stream_load::OlapTableSinkTest_add_batch_failed_Test::TestBody() /root/git/incubator-doris/be/test/exec/tablet_sink_test.cpp:790\r\n    #13 0x368e3ae in void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) (/root/git/incubator-doris/be/ut_build/test/exec/tablet_sink_test+0x368e3ae\r\n)\r\n    #14 0x36897ed in void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) (/root/git/incubator-doris/be/ut_build/test/exec/tablet_sink_test+0x36897ed)\r\n    #15 0x366f64f in testing::Test::Run() (/root/git/incubator-doris/be/ut_build/test/exec/tablet_sink_test+0x366f64f)\r\n    #16 0x366fed1 in testing::TestInfo::Run() (/root/git/incubator-doris/be/ut_build/test/exec/tablet_sink_test+0x366fed1)\r\n    #17 0x3670528 in testing::TestCase::Run() (/root/git/incubator-doris/be/ut_build/test/exec/tablet_sink_test+0x3670528)\r\n    #18 0x367709c in testing::internal::UnitTestImpl::RunAllTests() (/root/git/incubator-doris/be/ut_build/test/exec/tablet_sink_test+0x367709c)\r\n    #19 0x368f24e in bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) (/root/git/incubator-\r\ndoris/be/ut_build/test/exec/tablet_sink_test+0x368f24e)\r\n    #20 0x368a3e5 in bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) (/root/git/incubator-dor\r\nis/be/ut_build/test/exec/tablet_sink_test+0x368a3e5)\r\n    #21 0x3675d73 in testing::UnitTest::Run() (/root/git/incubator-doris/be/ut_build/test/exec/tablet_sink_test+0x3675d73)\r\n    #22 0x12b997e in RUN_ALL_TESTS() (/root/git/incubator-doris/be/ut_build/test/exec/tablet_sink_test+0x12b997e)\r\n    #23 0x12aa24d in main /root/git/incubator-doris/be/test/exec/tablet_sink_test.cpp:983\r\n    #24 0x7fca8a9e1504 in __libc_start_main (/lib64/libc.so.6+0x22504)\r\n    #25 0x118adce  (/root/git/incubator-doris/be/ut_build/test/exec/tablet_sink_test+0x118adce)\r\n```\r\nreport about heap-use-after-free address:\r\n```\r\npreviously allocated by thread T0 here:\r\n    #0 0x1245480 in operator new(unsigned long) ../../.././libsanitizer/asan/asan_new_delete.cc:80\r\n    #1 0x179cb06 in doris::RuntimeState::init_mem_trackers(doris::TUniqueId const&) /root/git/incubator-doris/be/src/runtime/runtime_state.cpp:239\r\n```\r\nIt's `state->instance_mem_tracker()`.\r\n\r\nThe root cause is, RowBatch in NodeChannel use the deleted tracker parent(state->instance_mem_tracker()).\r\nSo unregister OlapTableSink tracker from parent can slove it. But MemTracker::unregister_from_parent() won't delete the parent ref in MemTracker. We'll make all MemTracker shared https://github.com/apache/incubator-doris/issues/3714. So in future, we don't need worry about the MemTracker destruction order or register/unregister, blabla.\r\nHere, I don't choose to modify MemTracker, and add a temp func for clear all batches in NodeChannel.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645732574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645798568","html_url":"https://github.com/apache/doris/issues/3559#issuecomment-645798568","issue_url":"https://api.github.com/repos/apache/doris/issues/3559","id":645798568,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTc5ODU2OA==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T06:06:09Z","updated_at":"2020-06-18T06:06:09Z","author_association":"MEMBER","body":"emm...","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645798568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645837038","html_url":"https://github.com/apache/doris/issues/3559#issuecomment-645837038","issue_url":"https://api.github.com/repos/apache/doris/issues/3559","id":645837038,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTgzNzAzOA==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T07:33:13Z","updated_at":"2020-06-18T07:37:23Z","author_association":"MEMBER","body":"@blackfox1983 \r\nI think maybe the reason maybe is Data-Type is different with  unix_timestamp(date_format(now(), '%Y-%m-%d')),\r\nI just create a table:\r\n\r\n```\r\n\r\nCREATE EXTERNAL TABLE `fucntion_push` (\r\n  `k1` bigint COMMENT \"\",\r\n   `k2`  date COMMENT \"\"\r\n) ENGINE=ELASTICSEARCH\r\n```\r\ncreate a mapped index in es:\r\n\r\n```\r\nPUT function_push\r\n{\r\n   \"settings\": {\r\n      \"index\": {\r\n         \"number_of_shards\": \"1\",\r\n         \"number_of_replicas\": \"0\"\r\n      }\r\n   },\r\n   \"mappings\": {\r\n      \"doc\": {\r\n         \"properties\": {\r\n            \"k1\": {\r\n               \"type\": \"long\"\r\n            },\r\n            \"k2\": {\r\n               \"type\": \"date\"\r\n            }\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n SQL :\r\n\r\n```\r\nexplain select * from fucntion_push where k1 > unix_timestamp(date_format(now(), '%Y-%m-%d'));\r\n```\r\nexplain by Doris:\r\n\r\n![image](https://user-images.githubusercontent.com/5183061/84991263-dec70c00-b178-11ea-95fc-e74deb56a454.png)\r\n\r\nAs we can see date_format(now(), '%Y-%m-%d') can be pre-computed by Doris FE, but because `k1` datatype is different with the returned type `unix_timestamp`, all these two `Expr` become `CastExpr`.\r\n\r\nanother SQL：\r\n\r\n```\r\nexplain select * from fucntion_push where k2 > date_format(now(), '%Y-%m-%d');\r\n```\r\nexplain by Doris:\r\n![image](https://user-images.githubusercontent.com/5183061/84991541-3b2a2b80-b179-11ea-90e6-568f9a4810bb.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645837038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645842622","html_url":"https://github.com/apache/doris/issues/3559#issuecomment-645842622","issue_url":"https://api.github.com/repos/apache/doris/issues/3559","id":645842622,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTg0MjYyMg==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T07:44:20Z","updated_at":"2020-06-18T07:44:39Z","author_association":"MEMBER","body":"BTW, it seems Doris can not rewrite nested function:\r\n\r\n![image](https://user-images.githubusercontent.com/5183061/84992495-8db81780-b17a-11ea-8c37-cda6cbaeb8ef.png)\r\n\r\n![image](https://user-images.githubusercontent.com/5183061/84992532-9b6d9d00-b17a-11ea-985e-f2d268556a56.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645842622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645875513","html_url":"https://github.com/apache/doris/issues/3904#issuecomment-645875513","issue_url":"https://api.github.com/repos/apache/doris/issues/3904","id":645875513,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTg3NTUxMw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T08:47:00Z","updated_at":"2020-06-18T08:47:00Z","author_association":"CONTRIBUTOR","body":"If I performed a base compaction, the input_rowsets is always zero.\r\nBecause the gc_used_rowsets() clear the input_rowsets before save the metrics.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645875513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645905137","html_url":"https://github.com/apache/doris/pull/3902#issuecomment-645905137","issue_url":"https://api.github.com/repos/apache/doris/issues/3902","id":645905137,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTkwNTEzNw==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T09:38:49Z","updated_at":"2020-06-18T09:39:13Z","author_association":"CONTRIBUTOR","body":"ref #3905 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645905137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/645965993","html_url":"https://github.com/apache/doris/issues/3906#issuecomment-645965993","issue_url":"https://api.github.com/repos/apache/doris/issues/3906","id":645965993,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTk2NTk5Mw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T11:50:33Z","updated_at":"2020-06-18T11:50:33Z","author_association":"CONTRIBUTOR","body":"有微信群，可以加我微信 morningman-cmy","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/645965993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/646393889","html_url":"https://github.com/apache/doris/issues/3893#issuecomment-646393889","issue_url":"https://api.github.com/repos/apache/doris/issues/3893","id":646393889,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjM5Mzg4OQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T02:04:57Z","updated_at":"2020-06-19T02:04:57Z","author_association":"CONTRIBUTOR","body":"The `report version` is mainly used to avoid errors in the following scenarios:\r\n\r\n```\r\n                                          Time Line\r\n\r\n                                              +\r\n                +-------------------------+   |   +--------------------------+\r\n                | FE: Create Table Thread |   |   | BE: Tablet Report Thread |\r\n                +-------------------------+   |   +--------------------------+\r\n                                              |\r\n                                              |\r\n                                              |   1. Fetch all tablets currently exist\r\n                                              |      on BE(which is empty), and ready to\r\n                                              |      report.\r\n                                              |\r\n2. FE send Create Tablet Task to BE.          |\r\n   BE receives the task and create Tablet X.  |\r\n                                              |\r\n                                              |\r\n3. BE finished the Create Tablet Task         |\r\n   and send a \"FinishTaskReport\" to FE.       |\r\n                                              |\r\n                                              |\r\n4. FE receive the \"FinishTaskReport\", and     |\r\n   finally, Tablet X takes effect on FE's     |\r\n   meta.                                      |\r\n                                              |\r\n                                              |    5. The tablet report arrives, which\r\n                                              |       contains no tablets.\r\n                                              |       Therefore, the FE will think that\r\n                                              |       the Tablet X does not exist on the BE,\r\n                                              |       and will delete the Tablet X informationn\r\n                                              |       in the metadata, thereby causing information loss.\r\n                                              v\r\n```\r\n\r\nBut with the report version. In step 1, The report thread when take report version 0.\r\nAnd in step 3 and 4, the report version of the BE will be updated to 1.\r\nSo finally in step 5, FE will find that the report version is stale, and ignore that tablet report.\r\n\r\n\r\nThe reason why there are so many `out-of-date` reports in the production environment is because we update the report version in some unnecessary places. For example, when the BE processes the publish task, we will also increase the report version of the BE. If the load is very frequent, it will result in a large number of `out-of-date` reports.\r\n\r\nIt is not necessary to update the report version after the publish task. Because this is actually a problem left over by history. In the reporting logic of the current version, we will no longer decrease the version information of the replica in the FE metadata according to the report. So even if we receive a stale version of the report, it does not matter.\r\n\r\nIn our test environment (8 BEs), the average `out-of-date` report will occur 60-80 times an hour before, and after the upgrade, it will be reduced to 1-2 times per hour. This will no longer affect the cluster.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/646393889/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/646394143","html_url":"https://github.com/apache/doris/issues/3893#issuecomment-646394143","issue_url":"https://api.github.com/repos/apache/doris/issues/3893","id":646394143,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjM5NDE0Mw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T02:05:56Z","updated_at":"2020-06-19T02:05:56Z","author_association":"CONTRIBUTOR","body":"So I suggest to just remove the line 730, and all things could be go well. \r\n\r\nhttps://github.com/apache/incubator-doris/blob/1d9fa5071d1bd80582d4148c13e6e8d2d985c9e0/be/src/agent/task_worker_pool.cpp#L720-L732","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/646394143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/646394294","html_url":"https://github.com/apache/doris/pull/3894#issuecomment-646394294","issue_url":"https://api.github.com/repos/apache/doris/issues/3894","id":646394294,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjM5NDI5NA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T02:06:33Z","updated_at":"2020-06-19T02:06:50Z","author_association":"CONTRIBUTOR","body":"I left a comment in #3893","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/646394294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/646473693","html_url":"https://github.com/apache/doris/pull/3899#issuecomment-646473693","issue_url":"https://api.github.com/repos/apache/doris/issues/3899","id":646473693,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjQ3MzY5Mw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T07:02:25Z","updated_at":"2020-06-19T07:11:20Z","author_association":"CONTRIBUTOR","body":"The patch am not very understand. You meaning is _cur_batch and _pending_batches is not emtpy when destructor? So you clear_all_batches when destructor. @vagetablechicken ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/646473693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/646484537","html_url":"https://github.com/apache/doris/pull/3899#issuecomment-646484537","issue_url":"https://api.github.com/repos/apache/doris/issues/3899","id":646484537,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjQ4NDUzNw==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T07:27:45Z","updated_at":"2020-06-19T07:27:45Z","author_association":"CONTRIBUTOR","body":"> The patch am not very understand. You meaning is _cur_batch and _pending_batches is not emtpy when destructor? So you clear_all_batches when destructor. @vagetablechicken\r\n\r\nYes, we should clear _cur_batch and _pending_batches before NodeChannel's destruction.(`state->instance_mem_tracker()` has already be deleted) So it can be clear at OlapTableSink's dtor.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/646484537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/646551235","html_url":"https://github.com/apache/doris/pull/3519#issuecomment-646551235","issue_url":"https://api.github.com/repos/apache/doris/issues/3519","id":646551235,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjU1MTIzNQ==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T10:03:24Z","updated_at":"2020-06-19T10:03:24Z","author_association":"CONTRIBUTOR","body":"Hi, @morningman I have remove the code refactor to other PR, this PR is ready for review~","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/646551235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/646590167","html_url":"https://github.com/apache/doris/pull/3899#issuecomment-646590167","issue_url":"https://api.github.com/repos/apache/doris/issues/3899","id":646590167,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjU5MDE2Nw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T11:40:54Z","updated_at":"2020-06-19T11:40:54Z","author_association":"CONTRIBUTOR","body":"> > The patch am not very understand. You meaning is _cur_batch and _pending_batches is not emtpy when destructor? So you clear_all_batches when destructor. @vagetablechicken\r\n> \r\n> Yes, we should clear _cur_batch and _pending_batches before NodeChannel's destruction.(`state->instance_mem_tracker()` has already be deleted) So it can be clear at OlapTableSink's dtor.\r\n\r\nI understand. I have on problem","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/646590167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/646661966","html_url":"https://github.com/apache/doris/pull/3898#issuecomment-646661966","issue_url":"https://api.github.com/repos/apache/doris/issues/3898","id":646661966,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjY2MTk2Ng==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T14:19:43Z","updated_at":"2020-06-19T14:38:13Z","author_association":"CONTRIBUTOR","body":"@yangzhg Hi, I think the result of processing bool value  for stream load and insert stmt should keep   consistent. \r\nFor now, like insert into xx values(1), result=true, insert into xx values(0) result=false, insert into xxx values(\"false\") result=true  insert into xx values(false) result=false  insert into xx values(\"0\") result=true, insert into xx values(true) result=true. \r\nThis is because insert stmt can analyze the real data type for insert value, so like 1 2 3, will use int_cast_to_bool, even can analyze boolean type. but for stream load, we lost the data type information. we don't know the real data type of the value, we treat all column values as string, so I think may be stream load should be processed specially to keep consistent with insert stmt. maybe need more discussion.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/646661966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/646916496","html_url":"https://github.com/apache/doris/pull/3717#issuecomment-646916496","issue_url":"https://api.github.com/repos/apache/doris/issues/3717","id":646916496,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjkxNjQ5Ng==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-20T01:32:45Z","updated_at":"2020-06-20T01:32:45Z","author_association":"CONTRIBUTOR","body":"The compile error of broker has been fix in #3913 .\r\nSo I just approve this PR.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/646916496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/646917344","html_url":"https://github.com/apache/doris/pull/3915#issuecomment-646917344","issue_url":"https://api.github.com/repos/apache/doris/issues/3915","id":646917344,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjkxNzM0NA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-20T01:38:13Z","updated_at":"2020-06-20T01:38:13Z","author_association":"CONTRIBUTOR","body":"Doris will construct a left-deep tree for the join tables. In the star schema, fact table usually is the biggest table, it will be make the leftmost node by ordering the table by row counts. When doing hash-join, all the right table will be loaded into memory to build a hash table. If the fact table is regarded as build table, the performance will be bad.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/646917344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/646920197","html_url":"https://github.com/apache/doris/issues/3871#issuecomment-646920197","issue_url":"https://api.github.com/repos/apache/doris/issues/3871","id":646920197,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjkyMDE5Nw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-20T02:00:17Z","updated_at":"2020-06-20T02:00:17Z","author_association":"CONTRIBUTOR","body":"> Is the OlapTableSink::_mem_tracker related to RuntimeState::_profile?\r\n> I think the RuntimeState::_instance_mem_tracker is relevant. Because it's OlapTableSink::_mem_tracker's parent.\r\n\r\nActually, I didn't notice the relationship between `OlapTableSink::_mem_tracker` and `RuntimeState::_instance_mem_tracker`.\r\nIn this problem, I found that all memtrackers are relates to `RuntimeState::_profile`, because it will update some `Counters` in the `RuntimeProfile`.\r\nFor example, when calling `MemTracker->release()`, it will use `(*tracker)->_consumption`, and the `_consumption` is a kind of `Counter` in `RuntimeProfile`. But the `profile` has already been deconstructed, which results in a `use-after-free` error.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/646920197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/647127064","html_url":"https://github.com/apache/doris/pull/3910#issuecomment-647127064","issue_url":"https://api.github.com/repos/apache/doris/issues/3910","id":647127064,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzEyNzA2NA==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-21T13:16:20Z","updated_at":"2020-06-21T13:16:20Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/647127064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/647136169","html_url":"https://github.com/apache/doris/pull/3519#issuecomment-647136169","issue_url":"https://api.github.com/repos/apache/doris/issues/3519","id":647136169,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzEzNjE2OQ==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-21T14:33:50Z","updated_at":"2020-06-21T14:33:50Z","author_association":"CONTRIBUTOR","body":"> I think we need to add a FE config like `enable_strict_storage_medium_check`, and default is false, and\r\n> can also be modified at runtime.\r\n> Because I am afraid if I upgrade to this version, it will block some existing workload which is trying to create SSD table without SSD storage medium.\r\n> \r\n> After adding the config, don't forget to update the config document too.\r\n\r\nOK, done, and In order to keep the origin behavior, I remove the check in BE, just check it in FE.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/647136169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/647138443","html_url":"https://github.com/apache/doris/pull/3923#issuecomment-647138443","issue_url":"https://api.github.com/repos/apache/doris/issues/3923","id":647138443,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzEzODQ0Mw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-21T14:51:50Z","updated_at":"2020-06-21T14:51:50Z","author_association":"CONTRIBUTOR","body":"Hi @HappenLee , Please to create an issue to describe the why you did it and how it works.\r\nAnd also in the PR's comment, you should describe the main changes of your PR.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/647138443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/647251044","html_url":"https://github.com/apache/doris/pull/3924#issuecomment-647251044","issue_url":"https://api.github.com/repos/apache/doris/issues/3924","id":647251044,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzI1MTA0NA==","user":{"login":"BabySid","id":6658943,"node_id":"MDQ6VXNlcjY2NTg5NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6658943?v=4","gravatar_id":"","url":"https://api.github.com/users/BabySid","html_url":"https://github.com/BabySid","followers_url":"https://api.github.com/users/BabySid/followers","following_url":"https://api.github.com/users/BabySid/following{/other_user}","gists_url":"https://api.github.com/users/BabySid/gists{/gist_id}","starred_url":"https://api.github.com/users/BabySid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BabySid/subscriptions","organizations_url":"https://api.github.com/users/BabySid/orgs","repos_url":"https://api.github.com/users/BabySid/repos","events_url":"https://api.github.com/users/BabySid/events{/privacy}","received_events_url":"https://api.github.com/users/BabySid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T03:30:04Z","updated_at":"2020-06-22T03:30:04Z","author_association":"CONTRIBUTOR","body":"lgtm","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/647251044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/647270265","html_url":"https://github.com/apache/doris/pull/3898#issuecomment-647270265","issue_url":"https://api.github.com/repos/apache/doris/issues/3898","id":647270265,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzI3MDI2NQ==","user":{"login":"yangzhg","id":9098473,"node_id":"MDQ6VXNlcjkwOTg0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/9098473?v=4","gravatar_id":"","url":"https://api.github.com/users/yangzhg","html_url":"https://github.com/yangzhg","followers_url":"https://api.github.com/users/yangzhg/followers","following_url":"https://api.github.com/users/yangzhg/following{/other_user}","gists_url":"https://api.github.com/users/yangzhg/gists{/gist_id}","starred_url":"https://api.github.com/users/yangzhg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangzhg/subscriptions","organizations_url":"https://api.github.com/users/yangzhg/orgs","repos_url":"https://api.github.com/users/yangzhg/repos","events_url":"https://api.github.com/users/yangzhg/events{/privacy}","received_events_url":"https://api.github.com/users/yangzhg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T04:37:31Z","updated_at":"2020-06-22T04:38:46Z","author_association":"MEMBER","body":"> @yangzhg Hi, I think the result of processing bool value for stream load and insert stmt should keep consistent.\r\n> For now, like insert into xx values(1), result=true, insert into xx values(0) result=false, insert into xxx values(\"false\") result=true insert into xx values(false) result=false insert into xx values(\"0\") result=true, insert into xx values(true) result=true.\r\n> This is because insert stmt can analyze the real data type for insert value, so like 1 2 3, will use int_cast_to_bool, even can analyze boolean type. but for stream load, we lost the data type information. we don't know the real data type of the value, we treat all column values as string, so I think may be stream load should be processed specially to keep consistent with insert stmt. maybe need more discussion.\r\n\r\n@chaoyli  Insert into xx values(\"0\") and stream load import file 0 is not consistent in the current code. Insert into xx values(\"0\") result=true, stream load 0 result=false, and now cast_to_bool Only occurs when the type of the column is bool, so it is not contradictory to the current insert","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/647270265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/647297399","html_url":"https://github.com/apache/doris/issues/2757#issuecomment-647297399","issue_url":"https://api.github.com/repos/apache/doris/issues/2757","id":647297399,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzI5NzM5OQ==","user":{"login":"lfyzjck","id":800042,"node_id":"MDQ6VXNlcjgwMDA0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/800042?v=4","gravatar_id":"","url":"https://api.github.com/users/lfyzjck","html_url":"https://github.com/lfyzjck","followers_url":"https://api.github.com/users/lfyzjck/followers","following_url":"https://api.github.com/users/lfyzjck/following{/other_user}","gists_url":"https://api.github.com/users/lfyzjck/gists{/gist_id}","starred_url":"https://api.github.com/users/lfyzjck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lfyzjck/subscriptions","organizations_url":"https://api.github.com/users/lfyzjck/orgs","repos_url":"https://api.github.com/users/lfyzjck/repos","events_url":"https://api.github.com/users/lfyzjck/events{/privacy}","received_events_url":"https://api.github.com/users/lfyzjck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T05:53:31Z","updated_at":"2020-06-22T05:53:31Z","author_association":"NONE","body":"Presto raise TableNotFoundException because it could not found any valid columns from Doris.\r\n\r\nI just found that the way Doris stored dataType is different with MySQL in `information_schema.columns` where Presto get table schema from.\r\n\r\nDoris:\r\n![image](https://user-images.githubusercontent.com/800042/84974187-56833f80-b155-11ea-98d5-e4447f146905.png)\r\n\r\nMySQL:\r\n![image](https://user-images.githubusercontent.com/800042/84974203-60a53e00-b155-11ea-9251-107ea5420012.png)\r\n\r\nThe key is that dataType size is stored in other columns in MySQL.\r\n\r\nin Presto BaseJdbcClient.java\r\n```\r\npublic List<JdbcColumnHandle> getColumns(ConnectorSession session, JdbcTableHandle tableHandle)\r\n    {\r\n        try (Connection connection = connectionFactory.openConnection(JdbcIdentity.from(session))) {\r\n            try (ResultSet resultSet = getColumns(tableHandle, connection.getMetaData())) {\r\n                List<JdbcColumnHandle> columns = new ArrayList<>();\r\n                while (resultSet.next()) {\r\n                    JdbcTypeHandle typeHandle = new JdbcTypeHandle(\r\n                            resultSet.getInt(\"DATA_TYPE\"),\r\n                            resultSet.getInt(\"COLUMN_SIZE\"),\r\n                            resultSet.getInt(\"DECIMAL_DIGITS\"));\r\n                    Optional<ReadMapping> columnMapping = toPrestoType(session, typeHandle);\r\n                    // skip unsupported column types\r\n                    if (columnMapping.isPresent()) {\r\n                        String columnName = resultSet.getString(\"COLUMN_NAME\");\r\n                        boolean nullable = columnNullable == resultSet.getInt(\"NULLABLE\");\r\n                        columns.add(new JdbcColumnHandle(connectorId, columnName, typeHandle, columnMapping.get().getType(), nullable));\r\n                    }\r\n                }\r\n                if (columns.isEmpty()) {\r\n                    // In rare cases (e.g. PostgreSQL) a table might have no columns.\r\n                    throw new TableNotFoundException(tableHandle.getSchemaTableName());\r\n                }\r\n                return ImmutableList.copyOf(columns);\r\n            }\r\n        }\r\n        catch (SQLException e) {\r\n            throw new PrestoException(JDBC_ERROR, e);\r\n        }\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/647297399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/648199723","html_url":"https://github.com/apache/doris/pull/3925#issuecomment-648199723","issue_url":"https://api.github.com/repos/apache/doris/issues/3925","id":648199723,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODE5OTcyMw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T14:32:46Z","updated_at":"2020-06-23T14:33:00Z","author_association":"CONTRIBUTOR","body":"If its, how about move it to VLOG?\r\n@chaoyli Any idea?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/648199723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/648534277","html_url":"https://github.com/apache/doris/pull/3925#issuecomment-648534277","issue_url":"https://api.github.com/repos/apache/doris/issues/3925","id":648534277,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODUzNDI3Nw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T01:51:12Z","updated_at":"2020-06-24T01:51:12Z","author_association":"CONTRIBUTOR","body":"> If its, how about move it to VLOG?\r\n> @chaoyli Any idea?\r\n\r\nI agree it, downgrade to INFO will still have much of log.\r\nYou can use vlog(10) to replace it.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/648534277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/648537122","html_url":"https://github.com/apache/doris/pull/3898#issuecomment-648537122","issue_url":"https://api.github.com/repos/apache/doris/issues/3898","id":648537122,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODUzNzEyMg==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T02:01:46Z","updated_at":"2020-06-24T02:02:02Z","author_association":"CONTRIBUTOR","body":"I think the meaning of caiconghui is to make consistent of stream load and insert in any situation.\r\nOtherwise, it will cause some misunderstanding. @yangzhg ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/648537122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/648545288","html_url":"https://github.com/apache/doris/pull/3925#issuecomment-648545288","issue_url":"https://api.github.com/repos/apache/doris/issues/3925","id":648545288,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODU0NTI4OA==","user":{"login":"acelyc111","id":10775040,"node_id":"MDQ6VXNlcjEwNzc1MDQw","avatar_url":"https://avatars.githubusercontent.com/u/10775040?v=4","gravatar_id":"","url":"https://api.github.com/users/acelyc111","html_url":"https://github.com/acelyc111","followers_url":"https://api.github.com/users/acelyc111/followers","following_url":"https://api.github.com/users/acelyc111/following{/other_user}","gists_url":"https://api.github.com/users/acelyc111/gists{/gist_id}","starred_url":"https://api.github.com/users/acelyc111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acelyc111/subscriptions","organizations_url":"https://api.github.com/users/acelyc111/orgs","repos_url":"https://api.github.com/users/acelyc111/repos","events_url":"https://api.github.com/users/acelyc111/events{/privacy}","received_events_url":"https://api.github.com/users/acelyc111/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T02:32:55Z","updated_at":"2020-06-24T02:32:55Z","author_association":"MEMBER","body":"> > If its, how about move it to VLOG?\r\n> > @chaoyli Any idea?\r\n> \r\n> I agree it, downgrade to INFO will still have much of log.\r\n> You can use vlog(10) to replace it.\r\n\r\nDone","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/648545288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/648547789","html_url":"https://github.com/apache/doris/pull/3898#issuecomment-648547789","issue_url":"https://api.github.com/repos/apache/doris/issues/3898","id":648547789,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODU0Nzc4OQ==","user":{"login":"yangzhg","id":9098473,"node_id":"MDQ6VXNlcjkwOTg0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/9098473?v=4","gravatar_id":"","url":"https://api.github.com/users/yangzhg","html_url":"https://github.com/yangzhg","followers_url":"https://api.github.com/users/yangzhg/followers","following_url":"https://api.github.com/users/yangzhg/following{/other_user}","gists_url":"https://api.github.com/users/yangzhg/gists{/gist_id}","starred_url":"https://api.github.com/users/yangzhg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangzhg/subscriptions","organizations_url":"https://api.github.com/users/yangzhg/orgs","repos_url":"https://api.github.com/users/yangzhg/repos","events_url":"https://api.github.com/users/yangzhg/events{/privacy}","received_events_url":"https://api.github.com/users/yangzhg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T02:42:32Z","updated_at":"2020-06-24T02:42:54Z","author_association":"MEMBER","body":"> @yangzhg Hi, I think the result of processing bool value for stream load and insert stmt should keep consistent.\r\n> For now, like insert into xx values(1), result=true, insert into xx values(0) result=false, insert into xxx values(\"false\") result=true insert into xx values(false) result=false insert into xx values(\"0\") result=true, insert into xx values(true) result=true.\r\n> This is because insert stmt can analyze the real data type for insert value, so like 1 2 3, will use int_cast_to_bool, even can analyze boolean type. but for stream load, we lost the data type information. we don't know the real data type of the value, we treat all column values as string, so I think may be stream load should be processed specially to keep consistent with insert stmt. maybe need more discussion.\r\n\r\n@caiconghui I will change the insert statement  and stream load to keep consistent with mysql","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/648547789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/648565350","html_url":"https://github.com/apache/doris/issues/3929#issuecomment-648565350","issue_url":"https://api.github.com/repos/apache/doris/issues/3929","id":648565350,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODU2NTM1MA==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T03:45:42Z","updated_at":"2020-06-24T03:45:42Z","author_association":"CONTRIBUTOR","body":"The binary use `/home/palo/thirdparty/src/incubator-brpc-0.9.5/src/bthread/mutex.cpp:809`, may be closely related to this coredump?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/648565350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/648612449","html_url":"https://github.com/apache/doris/issues/3935#issuecomment-648612449","issue_url":"https://api.github.com/repos/apache/doris/issues/3935","id":648612449,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODYxMjQ0OQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T06:10:02Z","updated_at":"2020-06-24T06:10:02Z","author_association":"CONTRIBUTOR","body":"that would be good","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/648612449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/648717721","html_url":"https://github.com/apache/doris/pull/3939#issuecomment-648717721","issue_url":"https://api.github.com/repos/apache/doris/issues/3939","id":648717721,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODcxNzcyMQ==","user":{"login":"EmmyMiao87","id":25147274,"node_id":"MDQ6VXNlcjI1MTQ3Mjc0","avatar_url":"https://avatars.githubusercontent.com/u/25147274?v=4","gravatar_id":"","url":"https://api.github.com/users/EmmyMiao87","html_url":"https://github.com/EmmyMiao87","followers_url":"https://api.github.com/users/EmmyMiao87/followers","following_url":"https://api.github.com/users/EmmyMiao87/following{/other_user}","gists_url":"https://api.github.com/users/EmmyMiao87/gists{/gist_id}","starred_url":"https://api.github.com/users/EmmyMiao87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmmyMiao87/subscriptions","organizations_url":"https://api.github.com/users/EmmyMiao87/orgs","repos_url":"https://api.github.com/users/EmmyMiao87/repos","events_url":"https://api.github.com/users/EmmyMiao87/events{/privacy}","received_events_url":"https://api.github.com/users/EmmyMiao87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T09:48:01Z","updated_at":"2020-06-24T09:48:01Z","author_association":"CONTRIBUTOR","body":"Please add english document also. You can use google or baidu translate directly.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/648717721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/648783572","html_url":"https://github.com/apache/doris/pull/3941#issuecomment-648783572","issue_url":"https://api.github.com/repos/apache/doris/issues/3941","id":648783572,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODc4MzU3Mg==","user":{"login":"BabySid","id":6658943,"node_id":"MDQ6VXNlcjY2NTg5NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6658943?v=4","gravatar_id":"","url":"https://api.github.com/users/BabySid","html_url":"https://github.com/BabySid","followers_url":"https://api.github.com/users/BabySid/followers","following_url":"https://api.github.com/users/BabySid/following{/other_user}","gists_url":"https://api.github.com/users/BabySid/gists{/gist_id}","starred_url":"https://api.github.com/users/BabySid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BabySid/subscriptions","organizations_url":"https://api.github.com/users/BabySid/orgs","repos_url":"https://api.github.com/users/BabySid/repos","events_url":"https://api.github.com/users/BabySid/events{/privacy}","received_events_url":"https://api.github.com/users/BabySid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T12:15:24Z","updated_at":"2020-06-24T12:15:24Z","author_association":"CONTRIBUTOR","body":"add a example mapping of index into this doc to show how to create a index?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/648783572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/649163851","html_url":"https://github.com/apache/doris/pull/3943#issuecomment-649163851","issue_url":"https://api.github.com/repos/apache/doris/issues/3943","id":649163851,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTE2Mzg1MQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T01:43:58Z","updated_at":"2020-06-25T01:43:58Z","author_association":"CONTRIBUTOR","body":"You can describe the solution in the commit message. ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/649163851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/649166021","html_url":"https://github.com/apache/doris/pull/3928#issuecomment-649166021","issue_url":"https://api.github.com/repos/apache/doris/issues/3928","id":649166021,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTE2NjAyMQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T01:51:21Z","updated_at":"2020-06-25T01:51:21Z","author_association":"CONTRIBUTOR","body":"You can describe some the solution in the commit message.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/649166021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/649170488","html_url":"https://github.com/apache/doris/pull/3943#issuecomment-649170488","issue_url":"https://api.github.com/repos/apache/doris/issues/3943","id":649170488,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTE3MDQ4OA==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T02:08:18Z","updated_at":"2020-06-25T02:08:18Z","author_association":"CONTRIBUTOR","body":"> You can describe the solution in the commit message.\r\n\r\ndone","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/649170488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/649379482","html_url":"https://github.com/apache/doris/issues/3935#issuecomment-649379482","issue_url":"https://api.github.com/repos/apache/doris/issues/3935","id":649379482,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTM3OTQ4Mg==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T08:40:23Z","updated_at":"2020-06-25T08:40:23Z","author_association":"CONTRIBUTOR","body":"Hi, I found that it already be implemented.\r\n\r\nhttps://github.com/apache/incubator-doris/blob/5e5696fda2c26bf1f1e0dcc6045b280a314f7fbf/fe/src/main/java/org/apache/doris/analysis/AdminSetConfigStmt.java#L53-L59","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/649379482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/649472300","html_url":"https://github.com/apache/doris/pull/3948#issuecomment-649472300","issue_url":"https://api.github.com/repos/apache/doris/issues/3948","id":649472300,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTQ3MjMwMA==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T11:08:07Z","updated_at":"2020-06-25T11:08:07Z","author_association":"CONTRIBUTOR","body":"for #3949 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/649472300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/649570385","html_url":"https://github.com/apache/doris/pull/3943#issuecomment-649570385","issue_url":"https://api.github.com/repos/apache/doris/issues/3943","id":649570385,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTU3MDM4NQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T14:13:33Z","updated_at":"2020-06-25T14:13:51Z","author_association":"CONTRIBUTOR","body":"I think the root cause is we lost the relationship of the 2 delete conditions in same delete stmt.\r\nFor example, the following 2 cases should has different result:\r\n\r\nBase data:\r\n```\r\nk1, k2\r\n1, 2\r\n1, 3\r\n```\r\n\r\ncase 1:\r\n`delete from tbl where k1=1 and k2=2`;\r\ncase 2:\r\n`delete from tbl where k1=1;`\r\n`delete from tbl where k2=2;`\r\n\r\nWe treat the above 2 cases as same, which is incorrect.\r\n\r\nSo I think only change the `intersect` to `union` is not the right way to fix the bug.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/649570385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/649591633","html_url":"https://github.com/apache/doris/pull/3943#issuecomment-649591633","issue_url":"https://api.github.com/repos/apache/doris/issues/3943","id":649591633,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTU5MTYzMw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T14:39:10Z","updated_at":"2020-06-25T14:39:10Z","author_association":"CONTRIBUTOR","body":"I am not familiar with this part. But following is the  pseudocode I thought:\r\n\r\n```\r\nAll DeleteConditions:\r\n\r\nDeleteConditions 1: k1 = 1 and k2 = 2;\r\nDeleteConditions 2: k1 = 4\r\nDeleteConditions 3: k1 = 5\r\n\r\n\r\nRowRanges result;\r\nforeach(DeleteConditions dcs : All DeleteConditions) {\r\n    RowRanges rr;\r\n    foreach(DeleteCondition dc : dcs) {\r\n        rr = rr UNION (rows filtered by dc)\r\n    }\r\n    result = result INTERSECT rr;\r\n}\r\nreturn result;\r\n\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/649591633/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/649775044","html_url":"https://github.com/apache/doris/issues/3950#issuecomment-649775044","issue_url":"https://api.github.com/repos/apache/doris/issues/3950","id":649775044,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTc3NTA0NA==","user":{"login":"lxxstc","id":313356,"node_id":"MDQ6VXNlcjMxMzM1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/313356?v=4","gravatar_id":"","url":"https://api.github.com/users/lxxstc","html_url":"https://github.com/lxxstc","followers_url":"https://api.github.com/users/lxxstc/followers","following_url":"https://api.github.com/users/lxxstc/following{/other_user}","gists_url":"https://api.github.com/users/lxxstc/gists{/gist_id}","starred_url":"https://api.github.com/users/lxxstc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxxstc/subscriptions","organizations_url":"https://api.github.com/users/lxxstc/orgs","repos_url":"https://api.github.com/users/lxxstc/repos","events_url":"https://api.github.com/users/lxxstc/events{/privacy}","received_events_url":"https://api.github.com/users/lxxstc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T19:31:42Z","updated_at":"2020-06-25T19:31:42Z","author_association":"NONE","body":"I have checked the output of  `timedatectl list-timezones`, only `UTC` has been lost.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/649775044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/649956622","html_url":"https://github.com/apache/doris/issues/3935#issuecomment-649956622","issue_url":"https://api.github.com/repos/apache/doris/issues/3935","id":649956622,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTk1NjYyMg==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T04:30:35Z","updated_at":"2020-06-26T04:55:37Z","author_association":"CONTRIBUTOR","body":"> Hi, I found that it already be implemented.\r\n> \r\n> https://github.com/apache/incubator-doris/blob/5e5696fda2c26bf1f1e0dcc6045b280a314f7fbf/fe/src/main/java/org/apache/doris/analysis/AdminSetConfigStmt.java#L53-L59\r\n\r\nThat's great, but it seems only support `admin set frontend config` DDL, not include `admin show frontend config`?If we set some master only config in non master node the change will not shown in non master node, it will confused us if the config works?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/649956622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]