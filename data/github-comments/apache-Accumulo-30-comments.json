[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/466707468","html_url":"https://github.com/apache/accumulo/issues/987#issuecomment-466707468","issue_url":"https://api.github.com/repos/apache/accumulo/issues/987","id":466707468,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjcwNzQ2OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-23T22:53:07Z","updated_at":"2019-02-23T22:53:07Z","author_association":"MEMBER","body":"> > Does all this work with 3.1.1?\r\n> \r\n> I can test that. Do you know of a change between 3.1.1 and 3.1.2?\r\n\r\nNo. The default build uses 3.1.1. Since I haven't seen this issue, I'm trying to determine if the problem is your setup, or a change in Hadoop. I've recently tried 3.1.1, and 3.2.0 and have not encountered this problem.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/466707468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/466708645","html_url":"https://github.com/apache/accumulo/issues/987#issuecomment-466708645","issue_url":"https://api.github.com/repos/apache/accumulo/issues/987","id":466708645,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjcwODY0NQ==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-23T23:02:28Z","updated_at":"2019-02-23T23:02:28Z","author_association":"MEMBER","body":"> No. The default build uses 3.1.1. Since I haven't seen this issue, I'm trying to determine if the problem is your setup, or a change in Hadoop. I've recently tried 3.1.1, and 3.2.0 and have not encountered this problem.\r\n\r\nK, good to know it worked for you with 3.1.1.  I'll try that\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/466708645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/466916096","html_url":"https://github.com/apache/accumulo/issues/988#issuecomment-466916096","issue_url":"https://api.github.com/repos/apache/accumulo/issues/988","id":466916096,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjkxNjA5Ng==","user":{"login":"finchcn","id":13636876,"node_id":"MDQ6VXNlcjEzNjM2ODc2","avatar_url":"https://avatars.githubusercontent.com/u/13636876?v=4","gravatar_id":"","url":"https://api.github.com/users/finchcn","html_url":"https://github.com/finchcn","followers_url":"https://api.github.com/users/finchcn/followers","following_url":"https://api.github.com/users/finchcn/following{/other_user}","gists_url":"https://api.github.com/users/finchcn/gists{/gist_id}","starred_url":"https://api.github.com/users/finchcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/finchcn/subscriptions","organizations_url":"https://api.github.com/users/finchcn/orgs","repos_url":"https://api.github.com/users/finchcn/repos","events_url":"https://api.github.com/users/finchcn/events{/privacy}","received_events_url":"https://api.github.com/users/finchcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-25T08:29:57Z","updated_at":"2019-02-25T08:29:57Z","author_association":"NONE","body":"New Issue in accumulo-website already.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/466916096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/466985682","html_url":"https://github.com/apache/accumulo/issues/988#issuecomment-466985682","issue_url":"https://api.github.com/repos/apache/accumulo/issues/988","id":466985682,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Njk4NTY4Mg==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-25T11:59:47Z","updated_at":"2019-02-25T11:59:47Z","author_association":"MEMBER","body":"https://github.com/apache/accumulo-website/issues/159","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/466985682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467402466","html_url":"https://github.com/apache/accumulo/issues/978#issuecomment-467402466","issue_url":"https://api.github.com/repos/apache/accumulo/issues/978","id":467402466,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzQwMjQ2Ng==","user":{"login":"FineAndDandy","id":7751180,"node_id":"MDQ6VXNlcjc3NTExODA=","avatar_url":"https://avatars.githubusercontent.com/u/7751180?v=4","gravatar_id":"","url":"https://api.github.com/users/FineAndDandy","html_url":"https://github.com/FineAndDandy","followers_url":"https://api.github.com/users/FineAndDandy/followers","following_url":"https://api.github.com/users/FineAndDandy/following{/other_user}","gists_url":"https://api.github.com/users/FineAndDandy/gists{/gist_id}","starred_url":"https://api.github.com/users/FineAndDandy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FineAndDandy/subscriptions","organizations_url":"https://api.github.com/users/FineAndDandy/orgs","repos_url":"https://api.github.com/users/FineAndDandy/repos","events_url":"https://api.github.com/users/FineAndDandy/events{/privacy}","received_events_url":"https://api.github.com/users/FineAndDandy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-26T11:26:50Z","updated_at":"2019-02-26T11:26:50Z","author_association":"CONTRIBUTOR","body":"closed via #981 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467402466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467525009","html_url":"https://github.com/apache/accumulo/pull/986#issuecomment-467525009","issue_url":"https://api.github.com/repos/apache/accumulo/issues/986","id":467525009,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzUyNTAwOQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-26T17:06:56Z","updated_at":"2019-02-26T17:06:56Z","author_association":"CONTRIBUTOR","body":"All ITs are passing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467525009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467528510","html_url":"https://github.com/apache/accumulo/pull/986#issuecomment-467528510","issue_url":"https://api.github.com/repos/apache/accumulo/issues/986","id":467528510,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzUyODUxMA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-26T17:15:35Z","updated_at":"2019-02-26T17:15:35Z","author_association":"CONTRIBUTOR","body":"@keith-turner did you want to look at these changes any closer or you OK?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467528510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467633899","html_url":"https://github.com/apache/accumulo/pull/919#issuecomment-467633899","issue_url":"https://api.github.com/repos/apache/accumulo/issues/919","id":467633899,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzYzMzg5OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-26T22:07:17Z","updated_at":"2019-02-26T22:07:17Z","author_association":"MEMBER","body":"> Thanks for the PR. I am going to look into this today.\r\n\r\n@mikewalch Did you ever test this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467633899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467644922","html_url":"https://github.com/apache/accumulo/pull/919#issuecomment-467644922","issue_url":"https://api.github.com/repos/apache/accumulo/issues/919","id":467644922,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzY0NDkyMg==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-26T22:41:24Z","updated_at":"2019-02-26T22:41:24Z","author_association":"MEMBER","body":"> @mikewalch Did you ever test this?\r\n\r\nYes, I did and it worked.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467644922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467676915","html_url":"https://github.com/apache/accumulo/pull/919#issuecomment-467676915","issue_url":"https://api.github.com/repos/apache/accumulo/issues/919","id":467676915,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzY3NjkxNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T00:49:24Z","updated_at":"2019-02-27T00:49:24Z","author_association":"MEMBER","body":"Fixed in acd2d9f73b18be9b55e1ea91490a695d4b44ff85","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467676915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467888052","html_url":"https://github.com/apache/accumulo/issues/987#issuecomment-467888052","issue_url":"https://api.github.com/repos/apache/accumulo/issues/987","id":467888052,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzg4ODA1Mg==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T14:44:16Z","updated_at":"2019-02-27T14:44:16Z","author_association":"MEMBER","body":"> > No. The default build uses 3.1.1. Since I haven't seen this issue, I'm trying to determine if the problem is your setup, or a change in Hadoop. I've recently tried 3.1.1, and 3.2.0 and have not encountered this problem.\r\n> \r\n> K, good to know it worked for you with 3.1.1. I'll try that\r\n\r\nHadoop 3.1.1 is having the same issue.  I will keep digging","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467888052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467892355","html_url":"https://github.com/apache/accumulo/issues/987#issuecomment-467892355","issue_url":"https://api.github.com/repos/apache/accumulo/issues/987","id":467892355,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzg5MjM1NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T14:54:42Z","updated_at":"2019-02-27T14:54:42Z","author_association":"MEMBER","body":"Is this only in Eclipse, or is this when compiling from the command-line also? What OS/platform/JDK? Do you have steps to reproduce?\r\nHave you tried running with https://github.com/apache/fluo-uno/ or https://github.com/apache/fluo-muchos/ ?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467892355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467893654","html_url":"https://github.com/apache/accumulo/issues/987#issuecomment-467893654","issue_url":"https://api.github.com/repos/apache/accumulo/issues/987","id":467893654,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzg5MzY1NA==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T14:57:43Z","updated_at":"2019-02-27T14:57:43Z","author_association":"MEMBER","body":"No IDE, just `mvn clean package` on master and running from the build tar.gz.\r\n\r\nI do not have protobuf installed, but I can't see how that would be the issue.  I see the runtime jar being loaded, something weird is happening.\r\n\r\nGoing to try some different things, like building 1.9.3 and running against that.  Mostly just wanted to document.\r\n\r\nThanks @ctubbsii ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467893654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467894562","html_url":"https://github.com/apache/accumulo/issues/987#issuecomment-467894562","issue_url":"https://api.github.com/repos/apache/accumulo/issues/987","id":467894562,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzg5NDU2Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T14:59:50Z","updated_at":"2019-02-27T15:00:12Z","author_association":"MEMBER","body":"Try cleaning out your local maven repository, like:\r\n```bash\r\nrm -rf ~/.m2/repository/org/apache/{hadoop,accumulo}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467894562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467959579","html_url":"https://github.com/apache/accumulo/issues/987#issuecomment-467959579","issue_url":"https://api.github.com/repos/apache/accumulo/issues/987","id":467959579,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzk1OTU3OQ==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T17:42:16Z","updated_at":"2019-02-27T17:42:16Z","author_association":"MEMBER","body":"1.9.2 ran fine on Hadoop 3.1.1 after I tweaked the bin/accumulo script to load jars from HADOOP_HOME/share/common/lib on the classpath.  Did run into one issue with bootstrap_config.sh that I will document, but not this issue.\r\n\r\n~/.m2 was empty when I built, so I don't think that is it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467959579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467966993","html_url":"https://github.com/apache/accumulo/pull/993#issuecomment-467966993","issue_url":"https://api.github.com/repos/apache/accumulo/issues/993","id":467966993,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzk2Njk5Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T18:02:43Z","updated_at":"2019-02-27T18:02:43Z","author_association":"CONTRIBUTOR","body":"What are these changes doing?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467966993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467967631","html_url":"https://github.com/apache/accumulo/pull/993#issuecomment-467967631","issue_url":"https://api.github.com/repos/apache/accumulo/issues/993","id":467967631,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzk2NzYzMQ==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T18:04:33Z","updated_at":"2019-02-27T18:04:33Z","author_association":"MEMBER","body":"> What are these changes doing?\r\n\r\nWe have a lot of option parsing classes that subclass each other.  It's confusing.  This change reduces the number of these classes and removes code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467967631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467969274","html_url":"https://github.com/apache/accumulo/pull/993#issuecomment-467969274","issue_url":"https://api.github.com/repos/apache/accumulo/issues/993","id":467969274,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzk2OTI3NA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T18:09:07Z","updated_at":"2019-02-27T18:09:07Z","author_association":"CONTRIBUTOR","body":"OK I see... you are just removing a bunch of similar CLI classes and replacing them with ClientOpts.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/467969274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468038561","html_url":"https://github.com/apache/accumulo/issues/994#issuecomment-468038561","issue_url":"https://api.github.com/repos/apache/accumulo/issues/994","id":468038561,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODAzODU2MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T21:30:28Z","updated_at":"2019-02-27T21:30:28Z","author_association":"MEMBER","body":"This script was removed in 2.0 in favor of improved self-documented example configs. So, this only needs to be fixed in 1.9.3.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468038561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468078306","html_url":"https://github.com/apache/accumulo/issues/987#issuecomment-468078306","issue_url":"https://api.github.com/repos/apache/accumulo/issues/987","id":468078306,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODA3ODMwNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T23:52:46Z","updated_at":"2019-02-27T23:52:46Z","author_association":"MEMBER","body":"FWIW, the workaround for https://bugs.eclipse.org/bugs/show_bug.cgi?id=541772 is to ensure hadoop-client-runtime is on your compile-time class path. This indicates that perhaps hadoop-client-runtime isn't on your runtime class path for running the tserver.\r\n\r\nYou will probably need to edit CLASSPATH in your conf/accumulo-env.sh script. By default, that script puts `${HADOOP_HOME}/share/hadoop/client/*` on the CLASSPATH, but that may not be applicable to your installation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468078306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468107999","html_url":"https://github.com/apache/accumulo/pull/997#issuecomment-468107999","issue_url":"https://api.github.com/repos/apache/accumulo/issues/997","id":468107999,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODEwNzk5OQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T02:10:18Z","updated_at":"2019-02-28T02:10:18Z","author_association":"CONTRIBUTOR","body":"Another possible solution to this problem is to add a `int getInt(KT key)` to the existing MapCounter class.  This method could safely convert a long to int throwing an exception if long does not fit. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468107999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468289347","html_url":"https://github.com/apache/accumulo/issues/491#issuecomment-468289347","issue_url":"https://api.github.com/repos/apache/accumulo/issues/491","id":468289347,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODI4OTM0Nw==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T14:20:07Z","updated_at":"2019-02-28T14:20:07Z","author_association":"CONTRIBUTOR","body":"Presently the generate-thrift.sh script requires Thrift version 0.11.0.   The latest Thrift source code on Github builds Version 0.13.0. I can compile 0.11.0 from source and install it, but I ran Thrift version 0.13.0 to see what would happen and I got this error:\r\n\r\n[FAILURE:generation:1] Error: unknown option java:handle_runtime_exceptions\r\nunable to generate java thrift classes\r\n\r\nDo we want start building our Thrift resources with Thrift 0.13.0 to get the benefits of numerous bug fixes in master branch related to exceptions?\r\n\r\n I ran this command in the Apache/Thrift Git project in the master branch:\r\ngit log --oneline | grep -i exceptions | less\r\n\r\nSaw this ( not the whole list and no dates - sorry):\r\n\r\nc7aa68b Thrift 4556: Optional rethrow of unhandled exceptions in java processor (#1544)\r\n606f1ef THRIFT-4549 Thrift exceptions should derive from TException Client: Delphi Patch: Jens Geyer\r\nec64f23 THRIFT-4263: Fix use after free bug for thrown exceptions Client: php\r\n00d4252 THRIFT-3978: tighten up pthread mutex implementation, removing asserts and replacing them with exceptions Client: cpp\r\n220d5f8 THRIFT-3953 TSSLSocket::close should handle exceptions from waitForEvent because it is called by the destructor Client: C++ Patch: ted.wang@ni.com\r\nf5972c9 THRIFT-3797 Generated Delphi processor shouldn't error out on timed out exceptions Client: Delphi Patch: Kyle Johnson\r\ne0e3240 THRIFT-3794 Split Delphi application, protocol and transport exception subtypes into separate exceptions Client: Delphi Patch: Kyle Johnson\r\n45c8e49 THRIFT-3549 Exceptions are not properly stringified in Perl library\r\ndd02f55 THRIFT-2883 TTwisted.py, during ConnectionLost processing: exceptions.RuntimeError: dictionary changed size during iteration\r\n04fdd3a THRIFT-727 what() method of generated exceptions will provide more information Client: Go Patch: Jens Geyer\r\n3b115df THRIFT-727 - C++: what() method of generated exceptions will provide more information\r\nbd60b92 THRIFT-3008: Node.js server does not fully support exceptions Client: Node.js Patch: Nobuaki Sukegawa\r\na727007 THRIFT-2932: Node.js Thrift connection libraries throw Exceptions into event emitter Client: Nodejs Patch: Tom Croucher and Andrew de Andrade\r\n97c4398 THRIFT-2963: repairs bad error refs and exceptions Client: Nodejs Patch: Tom Croucher\r\n406e795 THRIFT-2860 Delphi server closes connection on unexpected exceptions Client: Delphi Patch: Jens Geyer\r\n902b7af THRIFT-2654 reduce number of server exceptions Client: C# Patch: Jens Geyer\r\neb8e5ad THRIFT-2654 reduce number of server exceptions Client: C# Patch: Craig Peterson\r\n51ba56c py.twisted: Avoid synchronous exceptions\r\n8033e7e Revert \"THRIFT-585 exceptions in the autogenerated send_METHOD functions are not propagated\"\r\n8345772 THRIFT-585 exceptions in the autogenerated send_METHOD functions are not propagated Client: Python (Twisted) Patch: Mattias de Zalenski, James Broadhead\r\n057be5a THRIFT-2470 THttpHandler swallows exceptions from processor Client: C# Patch: Adam Conelly\r\na6b328f THRIFT-2354 Connection errors can lead to case_clause exceptions\r\n38b1a04 THRIFT-2343 Fix tutotial code and codegen for methods without exceptions\r\n4904ab8 THRIFT-2343 Golang - Return a single error for all exceptions instead of multiple return values\r\n54a6636 THRIFT-2337 Golang does not report TIMED_OUT exceptions\r\n13848c6 THRIFT-2254 Exceptions generated by Go compiler should implement error interface\r\nb310ae7 THRIFT-2015 Thrift exceptions should derive from TException\r\n691a16a THRIFT-1970 [Graphviz] Adds option to render exceptions relationships\r\n6bdb10b Thrift-1942: Binary accelerated cpp extension does not use Thrift namespaces for Exceptions Client: php Patch: Tyler Hobbs\r\n3a67c2f THRIFT-1603 Thrift IDL allows for multiple exceptions, args or struct member names to be the same Patch: Kamil Sałaś\r\n7b96b22 THRIFT-1805 Thrift should not swallow ALL exceptions Patch: Diwaker Gupta\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468289347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468298856","html_url":"https://github.com/apache/accumulo/issues/491#issuecomment-468298856","issue_url":"https://api.github.com/repos/apache/accumulo/issues/491","id":468298856,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODI5ODg1Ng==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T14:46:04Z","updated_at":"2019-02-28T14:46:04Z","author_association":"CONTRIBUTOR","body":"You see a lot of there differences with 'git diff' after the 0.13.0 generation.\r\n\r\n      public isActive_result getResult(I iface, isActive_args args) throws org.apache.thrift.TException {\r\n@@ -2391,8 +2391,8 @@ public class ClientService {\r\n       }\r\n \r\n       @Override\r\n-      protected boolean handleRuntimeExceptions() {\r\n-        return true;\r\n+      protected boolean rethrowUnhandledExceptions() {\r\n+        return false;\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468298856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468328811","html_url":"https://github.com/apache/accumulo/pull/997#issuecomment-468328811","issue_url":"https://api.github.com/repos/apache/accumulo/issues/997","id":468328811,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODMyODgxMQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T16:02:06Z","updated_at":"2019-02-28T16:02:24Z","author_association":"CONTRIBUTOR","body":"Could possibly return a `LongStream` instead of `Collection<Long>`.  Then could user could use `LongStream.mapToInt()` with `Math.toIntExact()` to safely convert a long stream to an int stream.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468328811/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468380275","html_url":"https://github.com/apache/accumulo/issues/491#issuecomment-468380275","issue_url":"https://api.github.com/repos/apache/accumulo/issues/491","id":468380275,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODM4MDI3NQ==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T18:19:39Z","updated_at":"2019-02-28T18:19:39Z","author_association":"CONTRIBUTOR","body":"Only thing that is giving me issues in bringing Accumulo compiling with 0.13.0 Thrift generated code is this:\r\n\r\nTHRIFT-4702 - java: class org.apache.thrift.AutoExpandingBuffer is no longer public","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468380275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468380398","html_url":"https://github.com/apache/accumulo/issues/491#issuecomment-468380398","issue_url":"https://api.github.com/repos/apache/accumulo/issues/491","id":468380398,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODM4MDM5OA==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T18:20:00Z","updated_at":"2019-02-28T18:20:00Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/thrift/blob/master/CHANGES.md","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468380398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468474638","html_url":"https://github.com/apache/accumulo/issues/491#issuecomment-468474638","issue_url":"https://api.github.com/repos/apache/accumulo/issues/491","id":468474638,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODQ3NDYzOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T23:03:23Z","updated_at":"2019-02-28T23:03:23Z","author_association":"MEMBER","body":"Ugh. I specifically added the feature `java:handle_runtime_exceptions` to Thrift in a ticket to fix a long-standing issue of them toggling the behavior of runtime exception handling on the server side back and forth on each release. It's very annoying that it would have been removed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468474638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468480815","html_url":"https://github.com/apache/accumulo/issues/491#issuecomment-468480815","issue_url":"https://api.github.com/repos/apache/accumulo/issues/491","id":468480815,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODQ4MDgxNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T23:27:09Z","updated_at":"2019-02-28T23:27:09Z","author_association":"MEMBER","body":"The latest released version of Thrift is 0.12.0. I'm not sure where 0.13.0 is coming from.\r\n\r\nAlso, the `java:handle_runtime_exceptions` feature was added in: apache/thrift#1186 for [THRIFT-1805](https://issues.apache.org/jira/browse/THRIFT-1805). If it was removed, I wonder if it is related to [THRIFT-4743](https://issues.apache.org/jira/browse/THRIFT-4743).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468480815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468484638","html_url":"https://github.com/apache/accumulo/issues/491#issuecomment-468484638","issue_url":"https://api.github.com/repos/apache/accumulo/issues/491","id":468484638,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODQ4NDYzOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-28T23:43:21Z","updated_at":"2019-02-28T23:43:21Z","author_association":"MEMBER","body":"FWIW, the scope of this issue wasn't really to upgrade our version of thrift. That should be done, but the main purpose of this issue is to determine whether we have the correct behavior of the current version of Thrift... and that the ThriftBehaviorIT's checks for that correct behavior are actually working as expected (specifically, that exceptions on the server side are being passed back over the RPC correctly, and that the channel is still usable for messages after a failure.\r\n\r\nIn previous versions of Thrift, the behavior of how exceptions were handled on the server-side changed on each Thrift release. This flip-flopping behavior was supposed to be thwarted by the fix in THRIFT-1805 (mentioned above), but the expectation was that the correct behavior for us would only be true when the code generator was configured to handle the runtime exceptions... and would not be true if this flag was not set. If it's always working (and especially if the flag has been removed), there is a concern that Thrift will go back to the previous flip-flopping instead of ensuring consistent behavior between releases.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468484638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468502389","html_url":"https://github.com/apache/accumulo/issues/491#issuecomment-468502389","issue_url":"https://api.github.com/repos/apache/accumulo/issues/491","id":468502389,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODUwMjM4OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-01T01:08:25Z","updated_at":"2019-03-01T01:08:25Z","author_association":"MEMBER","body":"Okay, I see now that the reason this IT was passing was because the flag was being ignored, and (for some reason), the behavior flip-flopped again (even after they accepted the PR I wrote to avoid that) in [THRIFT-3686](https://issues.apache.org/jira/browse/THRIFT-3686); I wrote an explanation that might help on [THRIFT-4556](https://issues.apache.org/jira/browse/THRIFT-4556), which was changed behavior slightly, but tried to solve things similarly to [THRIFT-1805](https://issues.apache.org/jira/browse/THRIFT-1805).\r\n\r\nI'm going to close this, now that the investigation is done, and we know why it works without the flag. I'm working on a separate PR to upgrade to 0.12.0.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468502389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468555580","html_url":"https://github.com/apache/accumulo/pull/1004#issuecomment-468555580","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1004","id":468555580,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODU1NTU4MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-01T06:12:00Z","updated_at":"2019-03-01T06:12:00Z","author_association":"MEMBER","body":"All ITs pass, no failures.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468555580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468555875","html_url":"https://github.com/apache/accumulo/issues/922#issuecomment-468555875","issue_url":"https://api.github.com/repos/apache/accumulo/issues/922","id":468555875,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODU1NTg3NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-01T06:13:25Z","updated_at":"2019-03-01T06:13:25Z","author_association":"MEMBER","body":"Fixed in #1004 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468555875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468739497","html_url":"https://github.com/apache/accumulo/pull/1000#issuecomment-468739497","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1000","id":468739497,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODczOTQ5Nw==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-01T17:13:49Z","updated_at":"2019-03-01T17:13:49Z","author_association":"MEMBER","body":"I pushed a few more commits to add some validation to ClientOpts and fix the ITs (which are now all passing). I think this is ready to merge.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468739497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468759745","html_url":"https://github.com/apache/accumulo/pull/1002#issuecomment-468759745","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1002","id":468759745,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODc1OTc0NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-01T18:17:27Z","updated_at":"2019-03-01T18:17:27Z","author_association":"CONTRIBUTOR","body":"@ctubbsii @mikewalch I made updates with 65dcd7e to use a long literal for int multiplication where it was possible since that was cleaner than casting.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468759745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468767246","html_url":"https://github.com/apache/accumulo/pull/1005#issuecomment-468767246","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1005","id":468767246,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODc2NzI0Ng==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-01T18:41:30Z","updated_at":"2019-03-01T18:41:59Z","author_association":"CONTRIBUTOR","body":"This is a nice find. What do you think of the following approach?\r\n\r\n ```java\r\n// code inside the loop\r\n            log.debug(\"Creating next WAL\");\r\n            try {\r\n               alog = new DfsLogger(conf, syncCounter, flushCounter);\r\n               alog.open(tserver.getClientAddressString());\r\n            } catch (Exception e) {\r\n               // failed to open log, its not advertised in ZK yet so its safe to delete it\r\n               // TODO attempt to delete file\r\n               // TODO continue loop\r\n            }\r\n            String fileName = alog.getFileName();\r\n            log.debug(\"Created next WAL \" + fileName);\r\n            try {\r\n                tserver.addNewLogMarker(alog);\r\n            } catch (Exception e) {\r\n                // something went wrong advertising the log in ZK.... its possible it now exist in ZK even though an exception occurred.  \r\n                // TODO attempt to mark closed and copy your comment about GC and tserver dying\r\n                // TODO continue loop\r\n            }\r\n            while (!nextLog.offer(alog, 12, TimeUnit.HOURS)) {\r\n               log.info(\"Our WAL was not used for 12 hours: \" + fileName);\r\n            }\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468767246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468849209","html_url":"https://github.com/apache/accumulo/pull/1005#issuecomment-468849209","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1005","id":468849209,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODg0OTIwOQ==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-01T23:37:13Z","updated_at":"2019-03-01T23:37:13Z","author_association":"CONTRIBUTOR","body":"@keith-turner yeah, I think I like that better - more localized, and there probably isn't any reason to detect what type of exception it is since it'll get cleaned up properly like that. I'll make the changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/468849209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/469045661","html_url":"https://github.com/apache/accumulo/issues/491#issuecomment-469045661","issue_url":"https://api.github.com/repos/apache/accumulo/issues/491","id":469045661,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTA0NTY2MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-03T17:39:15Z","updated_at":"2019-03-03T17:39:15Z","author_association":"MEMBER","body":"BTW, thanks @jzgithub1 for doing the initial investigation into this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/469045661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/469067005","html_url":"https://github.com/apache/accumulo/issues/491#issuecomment-469067005","issue_url":"https://api.github.com/repos/apache/accumulo/issues/491","id":469067005,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTA2NzAwNQ==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-03T21:37:40Z","updated_at":"2019-03-03T21:37:40Z","author_association":"CONTRIBUTOR","body":"You are welcome.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/469067005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/469755360","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-469755360","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":469755360,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTc1NTM2MA==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T16:44:24Z","updated_at":"2019-03-05T16:44:24Z","author_association":"CONTRIBUTOR","body":"I should note, this is accumulo 1.9.2.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/469755360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/469772466","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-469772466","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":469772466,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTc3MjQ2Ng==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T17:24:26Z","updated_at":"2019-03-05T17:24:26Z","author_association":"CONTRIBUTOR","body":"I took a quick look at the tablet close code.  One possible path I see where the memory may not be freed is if an exception is thrown in the close method before the native map is deleted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/469772466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/469877809","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-469877809","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":469877809,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTg3NzgwOQ==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T22:08:23Z","updated_at":"2019-03-05T22:09:14Z","author_association":"CONTRIBUTOR","body":"@keith-turner - thanks for checking so quickly.  Now I see the section in tablet unload where he map is deleted. I don't think I have any unload errors other than ones stating the tablet is in the closing state - I'll double check. I also see multiple maps are allocated per tablet, so maybe 100k makes more sense. I'll continue looking.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/469877809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470156965","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-470156965","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":470156965,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDE1Njk2NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T15:43:20Z","updated_at":"2019-03-06T15:43:20Z","author_association":"CONTRIBUTOR","body":"@andrewglowacki the NativeMap code has a finalize method that logs a warning if it GCed but was not deleted.  Have you seen that in the logs? May not see these because you mentioned there were *100K live NativeMap references* in your memory dump, but its worth checking.  In your memory dump what Object holds a reference to some of the native maps?  \r\n\r\nhttps://github.com/apache/accumulo/blob/rel/1.9.2/server/tserver/src/main/java/org/apache/accumulo/tserver/NativeMap.java#L486","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470156965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470172768","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-470172768","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":470172768,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDE3Mjc2OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T16:21:00Z","updated_at":"2019-03-06T16:21:00Z","author_association":"CONTRIBUTOR","body":"@andrewglowacki  nevermind about looking for the finalize log message, I was just looking at the code a second time and noticed the logs message is commented out.  I missed that the first time.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470172768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470185048","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-470185048","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":470185048,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDE4NTA0OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T16:51:20Z","updated_at":"2019-03-06T16:51:20Z","author_association":"CONTRIBUTOR","body":"@andrewglowacki  actually it does log a warning.  There are two finalize methods, my earlier link was for an inner class which is the wrong class.  The link below is for the top level class.  Sorry for the spam.\r\n\r\nhttps://github.com/apache/accumulo/blob/rel/1.9.2/server/tserver/src/main/java/org/apache/accumulo/tserver/NativeMap.java#L505","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470185048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470247626","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-470247626","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":470247626,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI0NzYyNg==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T19:42:07Z","updated_at":"2019-03-06T19:42:07Z","author_association":"CONTRIBUTOR","body":"@keith-turner no problem - I don't see any finalize dealloc warnings. \r\n\r\nLooking more closely today, they may be legitimate (although still seems high). In a sample dump I took this morning, I have 93k live references. Virtually all (except 17) of them have a modcount of 0 and an active (non-zero) native map pointer. Randomly sampling a bunch of them, they are all ultimately referenced by various Tablet's in memory map.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470247626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470249515","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-470249515","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":470249515,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI0OTUxNQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T19:47:25Z","updated_at":"2019-03-06T19:47:25Z","author_association":"CONTRIBUTOR","body":">  Randomly sampling a bunch of them, they are all ultimately referenced by various Tablet's in memory map.\r\n\r\nWould it be possible to inspect that state of those tablets to see they are closed?\r\n\r\nhttps://github.com/apache/accumulo/blob/rel/1.9.2/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/Tablet.java#L200\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470249515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470256151","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-470256151","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":470256151,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI1NjE1MQ==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T20:05:29Z","updated_at":"2019-03-06T20:05:29Z","author_association":"CONTRIBUTOR","body":"Sure - it looks like they are all open","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470256151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470278109","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-470278109","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":470278109,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI3ODEwOQ==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T21:11:06Z","updated_at":"2019-03-06T21:11:06Z","author_association":"CONTRIBUTOR","body":"Ok, this seems like a dead end - I probably should have mentioned this earlier... This server has a little more than 11k tablets, each tablet has (expectedly) 4 locality groups, so that's 4 sample and 4 normal native maps = 8 maps per tablet ~ 93k native maps. I can see this as room for improvement (especially for table structures with more locality groups), but not a leak.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470278109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470545967","html_url":"https://github.com/apache/accumulo/issues/1006#issuecomment-470545967","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1006","id":470545967,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDU0NTk2Nw==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T14:27:28Z","updated_at":"2019-03-07T14:27:28Z","author_association":"CONTRIBUTOR","body":"You might want to check that Network Time Protocol is installed across the cluster properly.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470545967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470546597","html_url":"https://github.com/apache/accumulo/issues/949#issuecomment-470546597","issue_url":"https://api.github.com/repos/apache/accumulo/issues/949","id":470546597,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDU0NjU5Nw==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T14:29:06Z","updated_at":"2019-03-07T14:29:06Z","author_association":"CONTRIBUTOR","body":"You might want to check that Network Time Protocol is installed across the cluster properly.\r\nI am trying to replicated this issue on my cluster as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470546597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470569608","html_url":"https://github.com/apache/accumulo/issues/949#issuecomment-470569608","issue_url":"https://api.github.com/repos/apache/accumulo/issues/949","id":470569608,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDU2OTYwOA==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T15:25:54Z","updated_at":"2019-03-07T15:25:54Z","author_association":"CONTRIBUTOR","body":"Should I work on this issue in Accumulo 1.9.2 or Accumulo 2.0 alpha 2?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470569608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470581771","html_url":"https://github.com/apache/accumulo/issues/949#issuecomment-470581771","issue_url":"https://api.github.com/repos/apache/accumulo/issues/949","id":470581771,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDU4MTc3MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T15:55:23Z","updated_at":"2019-03-07T15:55:23Z","author_association":"CONTRIBUTOR","body":"@jzgithub1  I think #1005 is for this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470581771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470684091","html_url":"https://github.com/apache/accumulo/issues/987#issuecomment-470684091","issue_url":"https://api.github.com/repos/apache/accumulo/issues/987","id":470684091,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDY4NDA5MQ==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T20:36:26Z","updated_at":"2019-03-07T20:36:26Z","author_association":"MEMBER","body":"I am unable to replicate now, not sure changed but I am guessing it is on my system.  Closing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470684091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470694216","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-470694216","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":470694216,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDY5NDIxNg==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T21:06:59Z","updated_at":"2019-03-07T21:06:59Z","author_association":"MEMBER","body":"Are you saying one tserver is hosting 11k tablets?  That is a lot.\r\n\r\nI try to stay around 1k, seems like things bad when it is higher than that.  Why so many?  Can you get more nodes or merge down the number of tablets.\r\n\r\nFor completeness, I was going to ask if you have short-circuit reads turned on, if you were using NUMA on either the tserver or the datanode, and what the datanode looked like memory wise on the server.\r\n\r\nFeel free to close this ticket if you think you are done.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470694216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470711821","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-470711821","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":470711821,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDcxMTgyMQ==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T21:59:10Z","updated_at":"2019-03-07T21:59:10Z","author_association":"CONTRIBUTOR","body":"@mjwall - yes. \r\n\r\nHaha, yeah with infinite resources, I would have 10 times as many nodes as I do. A lot of data gets deleted/compacted away pretty quickly, so the large number of tablets could be merged into more optimally sized ones. Doing this efficiently periodically is on my to-do list.\r\n\r\nYes, short circuit reads are enabled. No I'm not using NUMA at the moment, but may try it in the future. The cluster performs pretty well as it is.\r\n\r\nThis can certainly be closed, however the fact remains that the all of my tservers are leaking significantly. I'm still investigating on my own. \r\n\r\nUsing pmap, I can see the main 'heap' segment is the majority of the memory, usually capped at 7g. The rest is scattered among smaller 1-2gb segments. I've dumped some of these, but it's hard to tell whether or not what I'm see is short or long lived.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470711821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470764217","html_url":"https://github.com/apache/accumulo/issues/1011#issuecomment-470764217","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1011","id":470764217,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDc2NDIxNw==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-08T01:07:48Z","updated_at":"2019-03-08T01:07:48Z","author_association":"MEMBER","body":"Do you presplit?  Perhaps reduce the number and see if it helps.  Especially if you are just deleting and compacting away anyway.  \r\n\r\nIf you do not presplit, consider upping the split threshold, https://accumulo.apache.org/1.9/accumulo_user_manual.html#_table_split_threshold\r\n\r\nClosing, feel free to continue the discussion.  Or put this out to the dev mailing list.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/470764217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/471011082","html_url":"https://github.com/apache/accumulo/pull/1019#issuecomment-471011082","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1019","id":471011082,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MTAxMTA4Mg==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-08T17:33:15Z","updated_at":"2019-03-08T17:33:15Z","author_association":"MEMBER","body":"This should fix integration tests taking 6 vs 4 hours","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/471011082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/471102509","html_url":"https://github.com/apache/accumulo/pull/1022#issuecomment-471102509","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1022","id":471102509,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MTEwMjUwOQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-08T22:46:13Z","updated_at":"2019-03-08T22:46:13Z","author_association":"CONTRIBUTOR","body":"It would be nice if a test showed this problem.  There is a unit test that ensures older versions of RFile work.  I wonder if it needs to use cahce or something to have this failure.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/471102509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/471595646","html_url":"https://github.com/apache/accumulo/pull/1022#issuecomment-471595646","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1022","id":471595646,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MTU5NTY0Ng==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-11T15:43:55Z","updated_at":"2019-03-11T15:43:55Z","author_association":"CONTRIBUTOR","body":"> It would be nice if a test showed this problem. There is a unit test that ensures older versions of RFile work. I wonder if it needs to use cahce or something to have this failure.\r\n\r\nI am not sure if we can replicate it but I will give it a try.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/471595646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/471665463","html_url":"https://github.com/apache/accumulo/pull/1022#issuecomment-471665463","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1022","id":471665463,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MTY2NTQ2Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-11T18:31:58Z","updated_at":"2019-03-11T18:31:58Z","author_association":"CONTRIBUTOR","body":"@keith-turner I was able to add cache to the old version tests in 80129d0","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/471665463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/471992849","html_url":"https://github.com/apache/accumulo/issues/1007#issuecomment-471992849","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1007","id":471992849,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MTk5Mjg0OQ==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-12T13:08:11Z","updated_at":"2019-03-12T13:08:11Z","author_association":"CONTRIBUTOR","body":"I will look into this on the test cluster we have set up here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/471992849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472202955","html_url":"https://github.com/apache/accumulo/pull/1027#issuecomment-472202955","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1027","id":472202955,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjIwMjk1NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-12T22:17:42Z","updated_at":"2019-03-12T22:17:42Z","author_association":"CONTRIBUTOR","body":"@milleruntime  what is the possible bug?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472202955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472468090","html_url":"https://github.com/apache/accumulo/pull/1027#issuecomment-472468090","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1027","id":472468090,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjQ2ODA5MA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-13T15:20:09Z","updated_at":"2019-03-13T15:20:26Z","author_association":"CONTRIBUTOR","body":"> It probably does not matter, but while looking at this I was wondering if the allocations related to the use of Optional were worth it.\r\n\r\nI didn't about think this but Optional does allocate a new object for ever call to `Optional.of(commitSession)`.\r\n\r\nI could create a NoOp CommitSession to call for bulkImport.  Or just pass null and check for null.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472468090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472499905","html_url":"https://github.com/apache/accumulo/pull/1027#issuecomment-472499905","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1027","id":472499905,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjQ5OTkwNQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-13T16:29:31Z","updated_at":"2019-03-13T16:29:31Z","author_association":"CONTRIBUTOR","body":"> I could create a NoOp CommitSession to call for bulkImport. Or just pass null and check for null.\r\n\r\nBetter yet, just have a second method for each that calls the other 7813c15","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472499905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472546798","html_url":"https://github.com/apache/accumulo/issues/979#issuecomment-472546798","issue_url":"https://api.github.com/repos/apache/accumulo/issues/979","id":472546798,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjU0Njc5OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-13T18:22:26Z","updated_at":"2019-03-13T19:25:45Z","author_association":"CONTRIBUTOR","body":"@FineAndDandy I created a patch that does this.  Its experimental and at this point I don't think I will merge it into Accumulo\r\n\r\nhttps://github.com/keith-turner/accumulo/tree/sidecar-compactions\r\n\r\nI wrote the following client code to exercise side compactions.\r\n\r\nhttps://gist.github.com/keith-turner/5ef61908f5194a4991ff15d6d658eec9","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472546798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472565565","html_url":"https://github.com/apache/accumulo/pull/1028#issuecomment-472565565","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1028","id":472565565,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjU2NTU2NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-13T19:13:00Z","updated_at":"2019-03-13T19:13:00Z","author_association":"CONTRIBUTOR","body":"@jzgithub1 looks good.  Can I make the subject of this PR the subject of your git commit? Then put your commit as the description  It would look like this:\r\n\r\nFix date on monitor for log recovery. Fixes #917\r\n\r\n* RecoveryStatusInformation object has member named runtime- not named time which the javascript code looks for (#1028)\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472565565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472567711","html_url":"https://github.com/apache/accumulo/pull/1028#issuecomment-472567711","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1028","id":472567711,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjU2NzcxMQ==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-13T19:19:05Z","updated_at":"2019-03-13T19:19:05Z","author_association":"CONTRIBUTOR","body":"Do what you think is correct.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472567711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472594944","html_url":"https://github.com/apache/accumulo/issues/1033#issuecomment-472594944","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1033","id":472594944,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjU5NDk0NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-13T20:36:08Z","updated_at":"2019-03-13T20:36:08Z","author_association":"CONTRIBUTOR","body":"The problem is the code finds a set of file that meet the compaction ratio criteria and then takes the 10 smallest files from that set.  It would be much better if the code searched for a set of files that meet the ratio criteria and is less than or equal to the max files.  I think doing this could result in much less work over time.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472594944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472875406","html_url":"https://github.com/apache/accumulo/issues/933#issuecomment-472875406","issue_url":"https://api.github.com/repos/apache/accumulo/issues/933","id":472875406,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Mjg3NTQwNg==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-14T14:14:14Z","updated_at":"2019-03-14T14:14:14Z","author_association":"CONTRIBUTOR","body":"I think we need to look at the version of vfs2 we are running.  I don't  have a run function on line 376 in my decompiled DefaultFileMonitor class that the AccumuloReloadingVFSClassLoader uses to manage the file caching.  The IDE is telling me that DefaultFileMonitor.class if bytecode version 50.0 (Java 6) .  Maybe my environment is going to the wrong .class file?\r\n\r\nA newer Vfs2 library may have some improvements we want.\r\n\r\nI will keep trying to get to the bottom of this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472875406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472879994","html_url":"https://github.com/apache/accumulo/issues/933#issuecomment-472879994","issue_url":"https://api.github.com/repos/apache/accumulo/issues/933","id":472879994,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Mjg3OTk5NA==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-14T14:21:17Z","updated_at":"2019-03-14T14:21:17Z","author_association":"CONTRIBUTOR","body":"Seems like this is the most up-to-date:\r\n\r\nhttps://mvnrepository.com/artifact/org.apache.commons/commons-vfs2/2.3\r\n\r\n<!-- https://mvnrepository.com/artifact/org.apache.commons/commons-vfs2 -->\r\n<dependency>\r\n    <groupId>org.apache.commons</groupId>\r\n    <artifactId>commons-vfs2</artifactId>\r\n    <version>2.3</version>\r\n</dependency>\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472879994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472880644","html_url":"https://github.com/apache/accumulo/issues/933#issuecomment-472880644","issue_url":"https://api.github.com/repos/apache/accumulo/issues/933","id":472880644,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Mjg4MDY0NA==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-14T14:22:19Z","updated_at":"2019-03-14T14:22:19Z","author_association":"CONTRIBUTOR","body":"`<!-- https://mvnrepository.com/artifact/org.apache.commons/commons-vfs2 -->\r\n<dependency>\r\n    <groupId>org.apache.commons</groupId>\r\n    <artifactId>commons-vfs2</artifactId>\r\n    <version>2.3</version>\r\n</dependency>`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472880644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472954182","html_url":"https://github.com/apache/accumulo/issues/953#issuecomment-472954182","issue_url":"https://api.github.com/repos/apache/accumulo/issues/953","id":472954182,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Mjk1NDE4Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-14T16:39:42Z","updated_at":"2019-03-14T16:39:42Z","author_association":"CONTRIBUTOR","body":"After looking into this further, I don't think this is a good idea.  TabletId, although the name isn't great and is really close to TableId, provides additional information that users can't get with just the id... information from  our internal KeyExtent that users can't get anywhere else. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472954182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472967137","html_url":"https://github.com/apache/accumulo/pull/1034#issuecomment-472967137","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1034","id":472967137,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Mjk2NzEzNw==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-14T17:07:21Z","updated_at":"2019-03-14T17:07:21Z","author_association":"CONTRIBUTOR","body":"I don't think it will fix this problem but removing the cache files when the daemon is closing seems like a good idea.  We are running old vfs2 binaries so maybe the problem we are having will get solved with the new version of vfs.  I am trying to get a better handle on how the caching is really working so I can come up with a really  clear solution to this issue.  The pull request is just the best I can come up with now. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/472967137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473146009","html_url":"https://github.com/apache/accumulo/pull/1027#issuecomment-473146009","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1027","id":473146009,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzE0NjAwOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-15T03:29:55Z","updated_at":"2019-03-15T03:29:55Z","author_association":"MEMBER","body":"I think this was backported to 1.9 in 84907b3 via cherry-picking, but wasn't subsequently merged forward to master. I'm going to do a no-op merge from 1.9 to master to resolve the conflict (`git merge 1.9 -sours`).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473146009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473304305","html_url":"https://github.com/apache/accumulo/pull/1035#issuecomment-473304305","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1035","id":473304305,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzMwNDMwNQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-15T14:21:02Z","updated_at":"2019-03-15T14:21:02Z","author_association":"CONTRIBUTOR","body":"> I don't know enough about setting cache files in the job configuration this way. It seems reasonable, but has it been tested?\r\n\r\nI am looking to see if any of the MR tests use it.  I think I am going to \"un\" fully qualify some of the references to help finding its use.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473304305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473322579","html_url":"https://github.com/apache/accumulo/pull/1035#issuecomment-473322579","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1035","id":473322579,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzMyMjU3OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-15T15:07:22Z","updated_at":"2019-03-15T15:07:22Z","author_association":"MEMBER","body":"The TokenFileIT should use it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473322579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473323805","html_url":"https://github.com/apache/accumulo/pull/1027#issuecomment-473323805","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1027","id":473323805,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzMyMzgwNQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-15T15:10:30Z","updated_at":"2019-03-15T15:10:30Z","author_association":"CONTRIBUTOR","body":"Correct!  Thank you.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473323805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473337295","html_url":"https://github.com/apache/accumulo/issues/933#issuecomment-473337295","issue_url":"https://api.github.com/repos/apache/accumulo/issues/933","id":473337295,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzMzNzI5NQ==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-15T15:45:17Z","updated_at":"2019-03-15T15:45:17Z","author_association":"CONTRIBUTOR","body":"AccumuloVFSClassLoader.generateVfs adds providers for many file types but not one for \"files-cache\" which the file monitor thread seems to be looking for given the stack trace above.  We have a LruBlockCache implementation thread running but that is separate.  \r\n\r\nInside of the AccumuloVFSClassLoader.generateVfs function a line like:\r\nvfs.addProvider(\"files-cache\", /* our files-cache implementation */ );\r\nneeds to be added.  \r\nI can't find a provider for \"files-cache\" inside of the 'org.apache.commons.vfs2.provider' package.\r\n\r\nShould I implement this provider?  Or if we set the property general.vfs.classpaths to a place where it is will the error not occur.  On my \"UNO\" instance the property general.vfs.classpaths is not set.  It is null.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473337295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473425522","html_url":"https://github.com/apache/accumulo/pull/1035#issuecomment-473425522","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1035","id":473425522,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzQyNTUyMg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-15T20:11:08Z","updated_at":"2019-03-15T20:11:08Z","author_association":"CONTRIBUTOR","body":"> The TokenFileIT should use it.\r\n\r\nThat was a good one, it uses 2 of the 3.  RangePartitioner looks to be the only class that uses getLocalCacheFiles but our test doesn't cover that code.  I can add at Test for it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473425522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473441512","html_url":"https://github.com/apache/accumulo/pull/1040#issuecomment-473441512","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1040","id":473441512,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzQ0MTUxMg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-15T21:07:46Z","updated_at":"2019-03-15T21:07:46Z","author_association":"CONTRIBUTOR","body":"Maybe just remove the new ones since they are identical?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473441512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473473521","html_url":"https://github.com/apache/accumulo/pull/1035#issuecomment-473473521","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1035","id":473473521,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzQ3MzUyMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-15T23:39:33Z","updated_at":"2019-03-15T23:39:33Z","author_association":"MEMBER","body":"I don't know enough about the `getCacheFiles()` and `getLocalCacheFiles()`, but my expectation would be that we always want to try to get the local ones, because those are the ones in the distributed cache... whereas the other ones aren't actually cached... they're just references to the files outside the cache (in main DFS).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473473521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473492940","html_url":"https://github.com/apache/accumulo/issues/933#issuecomment-473492940","issue_url":"https://api.github.com/repos/apache/accumulo/issues/933","id":473492940,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzQ5Mjk0MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-16T02:57:02Z","updated_at":"2019-03-16T02:57:35Z","author_association":"MEMBER","body":"Can you use `org.apache.commons.vfs2.provider.local.DefaultLocalFileProvider` or `org.apache.commons.vfs2.provider.temp.TemporaryFileProvider` for `files-cache`?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473492940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473493440","html_url":"https://github.com/apache/accumulo/issues/933#issuecomment-473493440","issue_url":"https://api.github.com/repos/apache/accumulo/issues/933","id":473493440,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzQ5MzQ0MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-16T03:03:24Z","updated_at":"2019-03-16T03:03:24Z","author_association":"MEMBER","body":"Actually, it looks like we should probably pick from one of the built-ins here: http://static.javadoc.io/org.apache.commons/commons-vfs2/2.3/org/apache/commons/vfs2/cache/package-summary.html\r\n\r\nI think we probably just have to register the provider. I don't know enough about VFS2, but it seems like if we have to do all this manual registration of providers to initialize VFS, we're probably doing something wrong... like how we used to manually initialize Log4J in code rather than rely on the built-in initialization using Log4J config files and system properties.\r\n\r\nFor now, though, the best fix is probably to find a reasonable provider, and register it explicitly, like we do for the other types.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473493440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473570750","html_url":"https://github.com/apache/accumulo/issues/1041#issuecomment-473570750","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1041","id":473570750,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzU3MDc1MA==","user":{"login":"drewfarris","id":110922,"node_id":"MDQ6VXNlcjExMDkyMg==","avatar_url":"https://avatars.githubusercontent.com/u/110922?v=4","gravatar_id":"","url":"https://api.github.com/users/drewfarris","html_url":"https://github.com/drewfarris","followers_url":"https://api.github.com/users/drewfarris/followers","following_url":"https://api.github.com/users/drewfarris/following{/other_user}","gists_url":"https://api.github.com/users/drewfarris/gists{/gist_id}","starred_url":"https://api.github.com/users/drewfarris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewfarris/subscriptions","organizations_url":"https://api.github.com/users/drewfarris/orgs","repos_url":"https://api.github.com/users/drewfarris/repos","events_url":"https://api.github.com/users/drewfarris/events{/privacy}","received_events_url":"https://api.github.com/users/drewfarris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-16T18:04:01Z","updated_at":"2019-03-16T18:04:01Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - thanks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473570750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473943490","html_url":"https://github.com/apache/accumulo/pull/1042#issuecomment-473943490","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1042","id":473943490,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Mzk0MzQ5MA==","user":{"login":"drewfarris","id":110922,"node_id":"MDQ6VXNlcjExMDkyMg==","avatar_url":"https://avatars.githubusercontent.com/u/110922?v=4","gravatar_id":"","url":"https://api.github.com/users/drewfarris","html_url":"https://github.com/drewfarris","followers_url":"https://api.github.com/users/drewfarris/followers","following_url":"https://api.github.com/users/drewfarris/following{/other_user}","gists_url":"https://api.github.com/users/drewfarris/gists{/gist_id}","starred_url":"https://api.github.com/users/drewfarris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewfarris/subscriptions","organizations_url":"https://api.github.com/users/drewfarris/orgs","repos_url":"https://api.github.com/users/drewfarris/repos","events_url":"https://api.github.com/users/drewfarris/events{/privacy}","received_events_url":"https://api.github.com/users/drewfarris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T14:53:15Z","updated_at":"2019-03-18T14:53:15Z","author_association":"CONTRIBUTOR","body":"Not certain of the appropriate targets for PR's, as this should likely go into the 1.9.x branch. Let me know if I need to retarget from `apache:master` to elsewhere.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473943490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473945403","html_url":"https://github.com/apache/accumulo/pull/1042#issuecomment-473945403","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1042","id":473945403,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Mzk0NTQwMw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T14:57:50Z","updated_at":"2019-03-18T14:57:50Z","author_association":"CONTRIBUTOR","body":"@drewfarris targeting to the 1.9 branch would be good.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/473945403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474013341","html_url":"https://github.com/apache/accumulo/pull/1035#issuecomment-474013341","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1035","id":474013341,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDAxMzM0MQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T17:12:54Z","updated_at":"2019-03-18T17:12:54Z","author_association":"CONTRIBUTOR","body":"> I don't know enough about the `getCacheFiles()` and `getLocalCacheFiles()`, but my expectation would be that we always want to try to get the local ones, because those are the ones in the distributed cache... whereas the other ones aren't actually cached... they're just references to the files outside the cache (in main DFS).\r\n\r\nIts very confusing, I am trying to decipher.  [Javadoc for addCacheFile](https://github.com/apache/hadoop/blob/34a931c0fa5853fbcaadf0211d6bbee881715748/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/filecache/DistributedCache.java#L286) and [getCacheFiles](https://github.com/apache/hadoop/blob/34a931c0fa5853fbcaadf0211d6bbee881715748/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/filecache/DistributedCache.java#L181).  The one for getLocalCacheFiles looks to be the most promising: \r\n<pre>\r\n/**\r\n   * Return the path array of the localized files.  Intended to be used\r\n   * by user code.\r\n   * @param conf Configuration that contains the localized files\r\n   * @return A path array of localized files\r\n   * @throws IOException\r\n   * @deprecated Use {@link JobContext#getLocalCacheFiles()} instead\r\n   * @see JobContext#getLocalCacheFiles()\r\n   */\r\n</pre>\r\n\r\nSo it looks like getCacheFiles() was not intended to be for users, maybe that would explain deprecation.\r\n\r\nAlso, maybe we should consider not supporting the older mapred code since this is one case where you have to use the mapreduce methods if you don't want to use deprecated.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474013341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474017043","html_url":"https://github.com/apache/accumulo/pull/1035#issuecomment-474017043","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1035","id":474017043,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDAxNzA0Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T17:21:38Z","updated_at":"2019-03-18T17:21:38Z","author_association":"CONTRIBUTOR","body":"What is bizarre is...\r\naddCacheFile -> uses \"mapreduce.job.cache.files\"\r\ngetCacheFiles -> uses \"mapreduce.job.cache.files\"\r\ngetLocalCacheFiles -> uses \"mapreduce.job.cache.local.files\"\r\n\r\nSome internal mechanisms set the files in \"mapreduce.job.cache.local.files\"...","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474017043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474031652","html_url":"https://github.com/apache/accumulo/pull/1042#issuecomment-474031652","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1042","id":474031652,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDAzMTY1Mg==","user":{"login":"drewfarris","id":110922,"node_id":"MDQ6VXNlcjExMDkyMg==","avatar_url":"https://avatars.githubusercontent.com/u/110922?v=4","gravatar_id":"","url":"https://api.github.com/users/drewfarris","html_url":"https://github.com/drewfarris","followers_url":"https://api.github.com/users/drewfarris/followers","following_url":"https://api.github.com/users/drewfarris/following{/other_user}","gists_url":"https://api.github.com/users/drewfarris/gists{/gist_id}","starred_url":"https://api.github.com/users/drewfarris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewfarris/subscriptions","organizations_url":"https://api.github.com/users/drewfarris/orgs","repos_url":"https://api.github.com/users/drewfarris/repos","events_url":"https://api.github.com/users/drewfarris/events{/privacy}","received_events_url":"https://api.github.com/users/drewfarris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T17:55:39Z","updated_at":"2019-03-18T17:55:39Z","author_association":"CONTRIBUTOR","body":"@keith-turner rebased to target 1.9","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474031652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474041548","html_url":"https://github.com/apache/accumulo/pull/1035#issuecomment-474041548","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1035","id":474041548,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDA0MTU0OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T18:20:15Z","updated_at":"2019-03-18T18:20:15Z","author_association":"MEMBER","body":"> Also, maybe we should consider not supporting the older mapred code since this is one case where you have to use the mapreduce methods if you don't want to use deprecated.\r\n\r\nThis would make it hard to support the file-based token passing. We could just pull the file directly from HDFS, in that case. However, I'm not sure it's true that it requires the new API. I thought the old `JobConf` class does extend the internal `JobContext` which has the method for retrieving the local cache files.\r\n\r\n> Some internal mechanisms set the files in \"mapreduce.job.cache.local.files\"...\r\n\r\nThat's what I'd expect, but it's not clear to me the expected behavior that would explain how to use this properly.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474041548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474074059","html_url":"https://github.com/apache/accumulo/pull/1035#issuecomment-474074059","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1035","id":474074059,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDA3NDA1OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T19:50:34Z","updated_at":"2019-03-18T19:50:55Z","author_association":"CONTRIBUTOR","body":"> > Also, maybe we should consider not supporting the older mapred code since this is one case where you have to use the mapreduce methods if you don't want to use deprecated.\r\n> \r\n> This would make it hard to support the file-based token passing. We could just pull the file directly from HDFS, in that case. However, I'm not sure it's true that it requires the new API. I thought the old `JobConf` class does extend the internal `JobContext` which has the method for retrieving the local cache files.\r\n\r\nAFAIK there are two different ways to use the cache:\r\n- For mapred: `DistributedCache.addCacheFile()`.  The older `JobConf` object extends `Configuration`.\r\n- For mapreduce: `Job.getInstance().addCacheFile()`  The newer `Job` class implements `org.apache.hadoop.mapreduce.JobContext`\r\n\r\nAnd this is the best documentation I have found: https://stackoverflow.com/questions/21239722/hadoop-distributedcache-is-deprecated-what-is-the-preferred-api\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474074059/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474095604","html_url":"https://github.com/apache/accumulo/pull/1036#issuecomment-474095604","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1036","id":474095604,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDA5NTYwNA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T20:50:50Z","updated_at":"2019-03-18T20:50:50Z","author_association":"CONTRIBUTOR","body":"Below are the results of running a simulation of the old and new compaction strategy.  For the simulation N 1K files were added in a loop 1000 times.  After the files were added the tablet was compacted.\r\n\r\nFiles Added between compactions | Total data added | Old code rewrite | New code rewrite  | Relative work (new rewrite/old rewrite)\r\n----------------|-----|----------------|----------------|------\r\n1 | 1,000,000 | 4,412,000 | 4,416,000 | 1.00\r\n2 | 2,000,000 | 9,184,000 | 9,184,000 | 1.00\r\n3 | 3,000,000 | 15,240,000 | 15,240,000 | 1.00\r\n4 | 4,000,000 | 19,336,000 | 21,304,000 | 1.10\r\n5 | 5,000,000 | 27,040,000 | 25,495,000 | 0.94\r\n6 | 6,000,000 | 29,250,000 | 33,984,000 | 1.16\r\n7 | 7,000,000 | 37,499,000 | 41,874,000 | 1.12\r\n8 | 8,000,000 | 58,576,000 | 31,507,000| 0.54\r\n9 | 9,000,000 | 1,129,500,000 | 34,936,000 | 0.03\r\n\r\nThe old strategy performed slightly better for adding 4,6, and 7 files between compactions.  I don't have a solid understanding of this and need to dig into this some more.   The case of adding 9 files between compaction is significantly better, the updated strategy only does 3% of the work done by the current strategy.  This is the case that motivated this change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474095604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474102025","html_url":"https://github.com/apache/accumulo/pull/1035#issuecomment-474102025","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1035","id":474102025,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDEwMjAyNQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T21:09:00Z","updated_at":"2019-03-18T21:09:00Z","author_association":"CONTRIBUTOR","body":"OK I reverted the impl to what it was and just made the new Partitioner call the old impl code.  Removed the deprecation since its now used by the new package.\r\n\r\n@ctubbsii what do you think of these changes?  This is all I really wanted to accomplish with this PR.  Other ideas you have we can do as follow on.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474102025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474102321","html_url":"https://github.com/apache/accumulo/issues/593#issuecomment-474102321","issue_url":"https://api.github.com/repos/apache/accumulo/issues/593","id":474102321,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDEwMjMyMQ==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T21:09:55Z","updated_at":"2019-03-18T21:09:55Z","author_association":"CONTRIBUTOR","body":"I will look at this now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474102321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474103339","html_url":"https://github.com/apache/accumulo/issues/439#issuecomment-474103339","issue_url":"https://api.github.com/repos/apache/accumulo/issues/439","id":474103339,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDEwMzMzOQ==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T21:13:03Z","updated_at":"2019-03-18T21:13:03Z","author_association":"CONTRIBUTOR","body":"This may be solved with pull request 1034.\r\n\r\nhttps://github.com/apache/accumulo/pull/1034","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474103339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474125132","html_url":"https://github.com/apache/accumulo/issues/928#issuecomment-474125132","issue_url":"https://api.github.com/repos/apache/accumulo/issues/928","id":474125132,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDEyNTEzMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T22:25:51Z","updated_at":"2019-03-18T22:25:51Z","author_association":"MEMBER","body":"Closing as duplicate of #933 (since there's more comments on that thread).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474125132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474125699","html_url":"https://github.com/apache/accumulo/issues/439#issuecomment-474125699","issue_url":"https://api.github.com/repos/apache/accumulo/issues/439","id":474125699,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDEyNTY5OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T22:27:54Z","updated_at":"2019-03-18T22:27:54Z","author_association":"MEMBER","body":"Duplicate of #933 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474125699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474127431","html_url":"https://github.com/apache/accumulo/pull/1036#issuecomment-474127431","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1036","id":474127431,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDEyNzQzMQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-18T22:34:04Z","updated_at":"2019-03-18T22:55:40Z","author_association":"CONTRIBUTOR","body":"I tweaked the similuation a bit.  The simuation does a single compaction after adding files. I changed it to run compactions while needed at the end.  I also tracked the number of files per tablet during the simulation and found that the new code has less files on average.  Having less files on average offsets  the increased amount of work.\r\n\r\n Files added between compactions | Old rewrite | Old final file count | Old avg files \r\n----------|----|---|----\r\n1 | 4,412,000 | 8 | 6.30\r\n2 | 9,184,000 | 5 | 6.46\r\n3 | 15,240,000 | 6 | 6.29\r\n4 | 19,336,000 | 7 | 6.23\r\n5 | 27,040,000 | 6 | 6.30\r\n6 | 29,250,000 | 9 | 6.62\r\n7 | 37,499,000 | 9 | 6.18\r\n8 | 58,576,000 | 6 | 7.07\r\n9 | 1,138,500,000 | 1 | 3.99\r\n\r\n Files added between compactions | New rewrite | New final file count | New avg files\r\n----------|----|---|----\r\n1 | 4,416,000 | 6 | 5.97\r\n2 | 9,184,000 | 5 | 6.46\r\n3 | 15,240,000 | 6 | 5.97\r\n4 | 21,304,000 | 5 | 5.96\r\n5 | 25,495,000 | 10 | 5.97\r\n6 | 33,984,000 | 8 | 5.93\r\n7 | 41,874,000 | 8 | 5.95\r\n8 | 39,684,000 | 1 | 13.68\r\n9 | 46,295,000 | 1 | 14.87\r\n\r\nBelow is the java code for the simulation that produced these numbers, excluding the simulated tablet code.\r\n\r\n```java\r\nfor (int n = 1; n < 10; n++) {\r\n  LongSummaryStatistics lss = new LongSummaryStatistics();\r\n  // create a simulated tablet with max files per compaction of 10 and max files per tablet of 15\r\n  SimulatedTablet simuTablet = new SimulatedTablet(10, 15);\r\n\r\n  for (int i = 0; i < 1000; i++) {\r\n    simuTablet.addFiles(n, 1000, 10);\r\n\r\n    simuTablet.compact(MajorCompactionReason.NORMAL);\r\n\r\n    lss.accept(simuTablet.getNumFiles());\r\n  }\r\n\r\n  // compact tablet until it no longer compacts\r\n  while(simuTablet.compact(MajorCompactionReason.NORMAL) > 0) {\r\n    lss.accept(simuTablet.getNumFiles());\r\n  }\r\n\r\n  System.out.printf(\"%d | %,d | %d | %.2f\\n\", n, simuTablet.getTotalRead(), simuTablet.getNumFiles(), lss.getAverage());\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474127431/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474171890","html_url":"https://github.com/apache/accumulo/pull/1034#issuecomment-474171890","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1034","id":474171890,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDE3MTg5MA==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-19T02:19:05Z","updated_at":"2019-03-19T02:19:05Z","author_association":"CONTRIBUTOR","body":"I was getting syntax errors in the Intellij IDE working with the objects in the cache package.  I agree with you.  That looked like the better way to go.  I will give it another look in the morning.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474171890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474484097","html_url":"https://github.com/apache/accumulo/pull/1042#issuecomment-474484097","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1042","id":474484097,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDQ4NDA5Nw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-19T17:32:57Z","updated_at":"2019-03-19T17:32:57Z","author_association":"CONTRIBUTOR","body":"@drewfarris  would you like for me to merge this to 1.9 and then master?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/474484097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]