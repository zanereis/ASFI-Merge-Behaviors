[{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381911224","html_url":"https://github.com/apache/airflow/pull/3208#issuecomment-381911224","issue_url":"https://api.github.com/repos/apache/airflow/issues/3208","id":381911224,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkxMTIyNA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T09:05:31Z","updated_at":"2018-04-17T09:05:31Z","author_association":"CONTRIBUTOR","body":"Sure, one more comment. I think it would make more sense to just call `self. set_duration()`. Now we have duplicate logic, although it isn't much. Cheers","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381911224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381911931","html_url":"https://github.com/apache/airflow/pull/3231#issuecomment-381911931","issue_url":"https://api.github.com/repos/apache/airflow/issues/3231","id":381911931,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkxMTkzMQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T09:07:25Z","updated_at":"2018-04-17T09:07:25Z","author_association":"CONTRIBUTOR","body":"So, what's the difference. Also with a root directory you can still add a trailing `/`, right?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381911931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381912441","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-381912441","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":381912441,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkxMjQ0MQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T09:08:49Z","updated_at":"2018-04-17T09:08:49Z","author_association":"CONTRIBUTOR","body":"I'll fire this up on our kubernetes today or tomorrow. @dimberman can you resolve the merge conflicts? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381912441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381921169","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-381921169","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":381921169,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkyMTE2OQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T09:33:34Z","updated_at":"2018-04-17T09:33:34Z","author_association":"CONTRIBUTOR","body":"Ai caramba, this is awkward. I agree that the [GoogleCloudStorageToGoogleCloudStorageOperator](https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/operators/gcs_to_gcs.py) has a bit more functionality (for example, moving instead of copying), compared to the [GoogleCloudStorageCopyOperator](https://github.com/apache/incubator-airflow/blob/master/airflow/contrib/operators/gcs_copy_operator.py).\r\n\r\nI've checked, and both of them aren't in Airflow 1.9, so we're safe of deleting either one of them. @kaxil Any thoughts?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381921169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381924650","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-381924650","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":381924650,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkyNDY1MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T09:43:39Z","updated_at":"2018-04-19T15:06:05Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3232?src=pr&el=h1) Report\n> Merging [#3232](https://codecov.io/gh/apache/incubator-airflow/pull/3232?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-airflow/commit/17d3d1d9dc87c0bbb03de049607c2ad76a4fd747?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-airflow/pull/3232/graphs/tree.svg?height=150&width=650&token=WdLKlKHOAU&src=pr)](https://codecov.io/gh/apache/incubator-airflow/pull/3232?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3232      +/-   ##\n==========================================\n- Coverage   75.28%   75.27%   -0.01%     \n==========================================\n  Files         196      196              \n  Lines       14608    14608              \n==========================================\n- Hits        10997    10996       -1     \n- Misses       3611     3612       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-airflow/pull/3232?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [airflow/models.py](https://codecov.io/gh/apache/incubator-airflow/pull/3232/diff?src=pr&el=tree#diff-YWlyZmxvdy9tb2RlbHMucHk=) | `87.03% <0%> (-0.05%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3232?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3232?src=pr&el=footer). Last update [17d3d1d...75f1d90](https://codecov.io/gh/apache/incubator-airflow/pull/3232?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381924650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381925634","html_url":"https://github.com/apache/airflow/pull/3231#issuecomment-381925634","issue_url":"https://api.github.com/repos/apache/airflow/issues/3231","id":381925634,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkyNTYzNA==","user":{"login":"wileeam","id":275724,"node_id":"MDQ6VXNlcjI3NTcyNA==","avatar_url":"https://avatars.githubusercontent.com/u/275724?v=4","gravatar_id":"","url":"https://api.github.com/users/wileeam","html_url":"https://github.com/wileeam","followers_url":"https://api.github.com/users/wileeam/followers","following_url":"https://api.github.com/users/wileeam/following{/other_user}","gists_url":"https://api.github.com/users/wileeam/gists{/gist_id}","starred_url":"https://api.github.com/users/wileeam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wileeam/subscriptions","organizations_url":"https://api.github.com/users/wileeam/orgs","repos_url":"https://api.github.com/users/wileeam/repos","events_url":"https://api.github.com/users/wileeam/events{/privacy}","received_events_url":"https://api.github.com/users/wileeam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T09:46:31Z","updated_at":"2018-04-17T09:52:13Z","author_association":"CONTRIBUTOR","body":"Yes.\r\n\r\nI missed testing such case where the pair (`bucket`,`blob`), as returned by `_parse_gcs_url` in `contrib/hooks/gcs_hook.py` would have an empty `blob`, and given that i made the requirement of a trailing `/` for such blob... this would always fail. See below:\r\n```\r\n>>> _parse_gcs_url(\"gs://\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"airflow/contrib/hooks/gcs_hook.py\", line 457, in _parse_gcs_url\r\n    raise AirflowException('Please provide a bucket name')\r\nairflow.exceptions.AirflowException: Please provide a bucket name\r\n>>> _parse_gcs_url(\"gs:///\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"airflow/contrib/hooks/gcs_hook.py\", line 457, in _parse_gcs_url\r\n    raise AirflowException('Please provide a bucket name')\r\nairflow.exceptions.AirflowException: Please provide a bucket name\r\n>>> _parse_gcs_url(\"gs://pong\")\r\n('pong', '')\r\n>>> _parse_gcs_url(\"gs://pong/\")\r\n('pong', '')\r\n>>> _parse_gcs_url(\"gs://pong///\")\r\n('pong', '')\r\n>>> _parse_gcs_url(\"gs://pong/ping\")\r\n('pong', 'ping')\r\n>>> _parse_gcs_url(\"gs://pong/ping/\")\r\n('pong', 'ping/')\r\n>>> _parse_gcs_url(\"gs://pong/ /\")\r\n('pong', ' /')\r\n```\r\nNote how `_parse_gcs_url` removes any trailing `/` after the bucket name as this is done by the functionality given in `urlparse`.\r\n\r\nSo the requirement of a trailing `/` in the operator still applies, but it should allow root directory as blob, which is the same as empty `blob`.\r\nAllowing for no trailing `/` would complicate the logic of the operator when comparing the contents of the S3 bucket/keys and GCS bucket/objects for syncing. I think that the normal behaviour is to sync contents in 'directories' hence the semantics of a trailing '/' make it clearer and easier to understand.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381925634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381927379","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-381927379","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":381927379,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkyNzM3OQ==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T09:51:32Z","updated_at":"2018-04-17T09:51:32Z","author_association":"MEMBER","body":"@Fokko I agree and LGTM. `GoogleCloudStorageToGoogleCloudStorageOperator` provides more functionality as compared to `gcs_copy_operator`. I had that in mind when I was reviewing `GoogleCloudStorageToGoogleCloudStorageOperator` to remove the other one but it slipped out of my mind. Thanks @berislavlopac for this PR.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381927379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381927991","html_url":"https://github.com/apache/airflow/pull/2975#issuecomment-381927991","issue_url":"https://api.github.com/repos/apache/airflow/issues/2975","id":381927991,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkyNzk5MQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T09:53:28Z","updated_at":"2018-04-17T09:53:28Z","author_association":"CONTRIBUTOR","body":"@jgao54 maybe close this one for now, since @bolkedebruin pushed a fix in https://github.com/apache/incubator-airflow/pull/3204","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381927991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381928979","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-381928979","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":381928979,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkyODk3OQ==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T09:56:22Z","updated_at":"2018-04-17T09:57:22Z","author_association":"MEMBER","body":"Can you however fix the comments in integration.rst for `GoogleCloudStorageToGoogleCloudStorageOperator` ?\r\n\r\nThe one that says:\r\n```\r\n- :ref:`GoogleCloudStorageToGoogleCloudStorageOperator` : Copies a single object from a bucket to another, with renaming if requested.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381928979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381936852","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-381936852","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":381936852,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkzNjg1Mg==","user":{"login":"berislavlopac","id":754090,"node_id":"MDQ6VXNlcjc1NDA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/754090?v=4","gravatar_id":"","url":"https://api.github.com/users/berislavlopac","html_url":"https://github.com/berislavlopac","followers_url":"https://api.github.com/users/berislavlopac/followers","following_url":"https://api.github.com/users/berislavlopac/following{/other_user}","gists_url":"https://api.github.com/users/berislavlopac/gists{/gist_id}","starred_url":"https://api.github.com/users/berislavlopac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berislavlopac/subscriptions","organizations_url":"https://api.github.com/users/berislavlopac/orgs","repos_url":"https://api.github.com/users/berislavlopac/repos","events_url":"https://api.github.com/users/berislavlopac/events{/privacy}","received_events_url":"https://api.github.com/users/berislavlopac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T10:20:28Z","updated_at":"2018-04-17T10:20:28Z","author_association":"CONTRIBUTOR","body":"@kaxil You're welcome! :)\r\n\r\nFix the comments in what way?\r\n\r\nOn a related note, I have just discovered a problem with `GoogleCloudStorageToGoogleCloudStorageOperator` when using wildcard, I'll create a separate issue and fix for that (it appends a prefix even if it is not given).","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381936852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381938284","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-381938284","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":381938284,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTkzODI4NA==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T10:25:00Z","updated_at":"2018-04-17T10:25:43Z","author_association":"MEMBER","body":"When using wildcard it has to append a prefix. The GCS Rest API doesn't have wildcards in it. You can, however, simulate wildcard by using Prefix and/or Delimiter.\r\n\r\nRegarding fixing comment:\r\nCurrently, it says:\r\n\"Copies a single object from a bucket to another, with renaming if requested.\"\r\n\r\nChange it something like:\r\n\"Copies/movies objects from a bucket to another. Renaming is also supported for a single object\"\r\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381938284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381940947","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-381940947","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":381940947,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk0MDk0Nw==","user":{"login":"berislavlopac","id":754090,"node_id":"MDQ6VXNlcjc1NDA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/754090?v=4","gravatar_id":"","url":"https://api.github.com/users/berislavlopac","html_url":"https://github.com/berislavlopac","followers_url":"https://api.github.com/users/berislavlopac/followers","following_url":"https://api.github.com/users/berislavlopac/following{/other_user}","gists_url":"https://api.github.com/users/berislavlopac/gists{/gist_id}","starred_url":"https://api.github.com/users/berislavlopac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berislavlopac/subscriptions","organizations_url":"https://api.github.com/users/berislavlopac/orgs","repos_url":"https://api.github.com/users/berislavlopac/repos","events_url":"https://api.github.com/users/berislavlopac/events{/privacy}","received_events_url":"https://api.github.com/users/berislavlopac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T10:33:48Z","updated_at":"2018-04-17T10:33:48Z","author_association":"CONTRIBUTOR","body":"Thanks, I didn't catch that in the docs, will fix.\r\n\r\nRe the prefix, it currently does this:\r\n```\r\n    hook.copy(self.source_bucket, source_object,\r\n              self.destination_bucket, \"{}/{}\".format(self.destination_object,\r\n                                                      source_object))\r\n```\r\nIf destination is `None` (the default) the file will land in `None/{source_object}`, and if it's an empty string it goes to `/{source_object}`. Basically, it should not prepend `destination_object` if it's empty.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381940947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381944112","html_url":"https://github.com/apache/airflow/pull/3210#issuecomment-381944112","issue_url":"https://api.github.com/repos/apache/airflow/issues/3210","id":381944112,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk0NDExMg==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T10:44:35Z","updated_at":"2018-04-17T10:44:35Z","author_association":"CONTRIBUTOR","body":"I do think this needs to be more comprehensive, ie. support the other executors as well.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381944112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381944259","html_url":"https://github.com/apache/airflow/pull/3210#issuecomment-381944259","issue_url":"https://api.github.com/repos/apache/airflow/issues/3210","id":381944259,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk0NDI1OQ==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T10:45:04Z","updated_at":"2018-04-17T10:45:04Z","author_association":"CONTRIBUTOR","body":"and it needs tests, as with the typos that were in it would have failed in any production env.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381944259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381945549","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-381945549","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":381945549,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk0NTU0OQ==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T10:49:29Z","updated_at":"2018-04-17T10:50:26Z","author_association":"MEMBER","body":"@berislavlopac True. You are right. There needs to be an if condition added.\r\n\r\nCan you also remove \"source_object\" from Line 105:\r\nhttps://github.com/apache/incubator-airflow/blob/3f1bfd38cd5a1c9c58045004390a6a766bec5e8d/airflow/contrib/operators/gcs_to_gcs.py#L105 . I think the 5th parameter is useless.\r\n\r\n@Fokko @berislavlopac : Let's first resolve the issue with `GoogleCloudStorageToGoogleCloudStorageOperator` with a different PR and then come back to this PR. Until then let's not merge this one as I have tried and tested `GoogleCloudStorageCopyOperator` multiple times. Once the issues are resolved we can merge this PR and if possible please add some unit tests.\r\n\r\n@berislavlopac Can you please fix the issue with `GoogleCloudStorageToGoogleCloudStorageOperator`? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381945549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381948343","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-381948343","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":381948343,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk0ODM0Mw==","user":{"login":"berislavlopac","id":754090,"node_id":"MDQ6VXNlcjc1NDA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/754090?v=4","gravatar_id":"","url":"https://api.github.com/users/berislavlopac","html_url":"https://github.com/berislavlopac","followers_url":"https://api.github.com/users/berislavlopac/followers","following_url":"https://api.github.com/users/berislavlopac/following{/other_user}","gists_url":"https://api.github.com/users/berislavlopac/gists{/gist_id}","starred_url":"https://api.github.com/users/berislavlopac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berislavlopac/subscriptions","organizations_url":"https://api.github.com/users/berislavlopac/orgs","repos_url":"https://api.github.com/users/berislavlopac/repos","events_url":"https://api.github.com/users/berislavlopac/events{/privacy}","received_events_url":"https://api.github.com/users/berislavlopac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T10:58:39Z","updated_at":"2018-04-17T10:58:39Z","author_association":"CONTRIBUTOR","body":"@kaxil Sure, I'll make the changes in a new PR, and will open a new ticket in Jira for that.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381948343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381955611","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-381955611","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":381955611,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk1NTYxMQ==","user":{"login":"berislavlopac","id":754090,"node_id":"MDQ6VXNlcjc1NDA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/754090?v=4","gravatar_id":"","url":"https://api.github.com/users/berislavlopac","html_url":"https://github.com/berislavlopac","followers_url":"https://api.github.com/users/berislavlopac/followers","following_url":"https://api.github.com/users/berislavlopac/following{/other_user}","gists_url":"https://api.github.com/users/berislavlopac/gists{/gist_id}","starred_url":"https://api.github.com/users/berislavlopac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berislavlopac/subscriptions","organizations_url":"https://api.github.com/users/berislavlopac/orgs","repos_url":"https://api.github.com/users/berislavlopac/repos","events_url":"https://api.github.com/users/berislavlopac/events{/privacy}","received_events_url":"https://api.github.com/users/berislavlopac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T11:24:34Z","updated_at":"2018-04-17T11:24:34Z","author_association":"CONTRIBUTOR","body":"The other PR was created at #3233","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381955611/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381964904","html_url":"https://github.com/apache/airflow/pull/3233#issuecomment-381964904","issue_url":"https://api.github.com/repos/apache/airflow/issues/3233","id":381964904,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk2NDkwNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T11:56:10Z","updated_at":"2018-04-18T22:12:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3233?src=pr&el=h1) Report\n> Merging [#3233](https://codecov.io/gh/apache/incubator-airflow/pull/3233?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-airflow/commit/e95a1251b746ac74a47b3ccae52d4abdc26add82?src=pr&el=desc) will **increase** coverage by `0.02%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-airflow/pull/3233/graphs/tree.svg?width=650&height=150&src=pr&token=WdLKlKHOAU)](https://codecov.io/gh/apache/incubator-airflow/pull/3233?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3233      +/-   ##\n==========================================\n+ Coverage   75.26%   75.28%   +0.02%     \n==========================================\n  Files         196      196              \n  Lines       14608    14608              \n==========================================\n+ Hits        10994    10997       +3     \n+ Misses       3614     3611       -3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-airflow/pull/3233?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [airflow/jobs.py](https://codecov.io/gh/apache/incubator-airflow/pull/3233/diff?src=pr&el=tree#diff-YWlyZmxvdy9qb2JzLnB5) | `82.89% <0%> (+0.26%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3233?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3233?src=pr&el=footer). Last update [e95a125...82f97fe](https://codecov.io/gh/apache/incubator-airflow/pull/3233?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381964904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381965189","html_url":"https://github.com/apache/airflow/pull/3230#issuecomment-381965189","issue_url":"https://api.github.com/repos/apache/airflow/issues/3230","id":381965189,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk2NTE4OQ==","user":{"login":"andy-d","id":8561824,"node_id":"MDQ6VXNlcjg1NjE4MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8561824?v=4","gravatar_id":"","url":"https://api.github.com/users/andy-d","html_url":"https://github.com/andy-d","followers_url":"https://api.github.com/users/andy-d/followers","following_url":"https://api.github.com/users/andy-d/following{/other_user}","gists_url":"https://api.github.com/users/andy-d/gists{/gist_id}","starred_url":"https://api.github.com/users/andy-d/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andy-d/subscriptions","organizations_url":"https://api.github.com/users/andy-d/orgs","repos_url":"https://api.github.com/users/andy-d/repos","events_url":"https://api.github.com/users/andy-d/events{/privacy}","received_events_url":"https://api.github.com/users/andy-d/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T11:57:02Z","updated_at":"2018-04-17T11:57:02Z","author_association":"NONE","body":"As you wish @bolkedebruin however the names and docstrings keep implying the opposite of what they do to me. I'll get used to it I suppose - but do recommend a change here to add clarity, even if it is just to the docstring.\r\n\r\nIn other words does A.set_upstread(B) take A and put it upstream of B? Or does it take A and put B upstream of it?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381965189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381977005","html_url":"https://github.com/apache/airflow/pull/2932#issuecomment-381977005","issue_url":"https://api.github.com/repos/apache/airflow/issues/2932","id":381977005,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk3NzAwNQ==","user":{"login":"rgabo","id":96628,"node_id":"MDQ6VXNlcjk2NjI4","avatar_url":"https://avatars.githubusercontent.com/u/96628?v=4","gravatar_id":"","url":"https://api.github.com/users/rgabo","html_url":"https://github.com/rgabo","followers_url":"https://api.github.com/users/rgabo/followers","following_url":"https://api.github.com/users/rgabo/following{/other_user}","gists_url":"https://api.github.com/users/rgabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rgabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgabo/subscriptions","organizations_url":"https://api.github.com/users/rgabo/orgs","repos_url":"https://api.github.com/users/rgabo/repos","events_url":"https://api.github.com/users/rgabo/events{/privacy}","received_events_url":"https://api.github.com/users/rgabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T12:37:58Z","updated_at":"2018-04-17T12:37:58Z","author_association":"NONE","body":"The PR description references the wrong JIRA issue: AIRFLOW-1794 instead of [AIRFLOW-1974](https://issues.apache.org/jira/browse/AIRFLOW-1974).","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381977005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381979339","html_url":"https://github.com/apache/airflow/pull/2932#issuecomment-381979339","issue_url":"https://api.github.com/repos/apache/airflow/issues/2932","id":381979339,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk3OTMzOQ==","user":{"login":"diraol","id":192702,"node_id":"MDQ6VXNlcjE5MjcwMg==","avatar_url":"https://avatars.githubusercontent.com/u/192702?v=4","gravatar_id":"","url":"https://api.github.com/users/diraol","html_url":"https://github.com/diraol","followers_url":"https://api.github.com/users/diraol/followers","following_url":"https://api.github.com/users/diraol/following{/other_user}","gists_url":"https://api.github.com/users/diraol/gists{/gist_id}","starred_url":"https://api.github.com/users/diraol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diraol/subscriptions","organizations_url":"https://api.github.com/users/diraol/orgs","repos_url":"https://api.github.com/users/diraol/repos","events_url":"https://api.github.com/users/diraol/events{/privacy}","received_events_url":"https://api.github.com/users/diraol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T12:46:11Z","updated_at":"2018-04-17T12:46:11Z","author_association":"CONTRIBUTOR","body":"Thanks @rgabo , I've fixed it!","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381979339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381994783","html_url":"https://github.com/apache/airflow/pull/3008#issuecomment-381994783","issue_url":"https://api.github.com/repos/apache/airflow/issues/3008","id":381994783,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk5NDc4Mw==","user":{"login":"sebradloff","id":7495006,"node_id":"MDQ6VXNlcjc0OTUwMDY=","avatar_url":"https://avatars.githubusercontent.com/u/7495006?v=4","gravatar_id":"","url":"https://api.github.com/users/sebradloff","html_url":"https://github.com/sebradloff","followers_url":"https://api.github.com/users/sebradloff/followers","following_url":"https://api.github.com/users/sebradloff/following{/other_user}","gists_url":"https://api.github.com/users/sebradloff/gists{/gist_id}","starred_url":"https://api.github.com/users/sebradloff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebradloff/subscriptions","organizations_url":"https://api.github.com/users/sebradloff/orgs","repos_url":"https://api.github.com/users/sebradloff/repos","events_url":"https://api.github.com/users/sebradloff/events{/privacy}","received_events_url":"https://api.github.com/users/sebradloff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T13:36:24Z","updated_at":"2018-04-17T13:36:24Z","author_association":"NONE","body":"@agrajm Absolutely willing to fix those comments as well. How would you like me to contribute to your PR? For now I can clone your fork and checkout the branch make changes there and happy to port it to wherever you need me to ðŸ˜„ ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/381994783/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382002226","html_url":"https://github.com/apache/airflow/pull/3008#issuecomment-382002226","issue_url":"https://api.github.com/repos/apache/airflow/issues/3008","id":382002226,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjAwMjIyNg==","user":{"login":"agrajm","id":1135848,"node_id":"MDQ6VXNlcjExMzU4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1135848?v=4","gravatar_id":"","url":"https://api.github.com/users/agrajm","html_url":"https://github.com/agrajm","followers_url":"https://api.github.com/users/agrajm/followers","following_url":"https://api.github.com/users/agrajm/following{/other_user}","gists_url":"https://api.github.com/users/agrajm/gists{/gist_id}","starred_url":"https://api.github.com/users/agrajm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrajm/subscriptions","organizations_url":"https://api.github.com/users/agrajm/orgs","repos_url":"https://api.github.com/users/agrajm/repos","events_url":"https://api.github.com/users/agrajm/events{/privacy}","received_events_url":"https://api.github.com/users/agrajm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T13:57:46Z","updated_at":"2018-04-17T13:57:46Z","author_association":"NONE","body":"@sebradloff yes you can work with my fork and make changes in the AIRFLOW-2068 branch. Make sure you squash the commit with your changes and basically follow all the other [PR guidelines](https://github.com/apache/incubator-airflow/blob/master/CONTRIBUTING.md#pull-requests-guidelines) like checking for linting etc. Much thanks for doing this on such a quick notice. Do let me know if you need any help whatsoever. ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382002226/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382010161","html_url":"https://github.com/apache/airflow/pull/3235#issuecomment-382010161","issue_url":"https://api.github.com/repos/apache/airflow/issues/3235","id":382010161,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjAxMDE2MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T14:20:35Z","updated_at":"2018-04-26T07:11:27Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3235?src=pr&el=h1) Report\n> Merging [#3235](https://codecov.io/gh/apache/incubator-airflow/pull/3235?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-airflow/commit/be886b986c069b6fc955eed74d4577b65bd8d548?src=pr&el=desc) will **increase** coverage by `0.17%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-airflow/pull/3235/graphs/tree.svg?height=150&width=650&token=WdLKlKHOAU&src=pr)](https://codecov.io/gh/apache/incubator-airflow/pull/3235?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3235      +/-   ##\n==========================================\n+ Coverage   75.28%   75.46%   +0.17%     \n==========================================\n  Files         197      197              \n  Lines       14712    14809      +97     \n==========================================\n+ Hits        11076    11175      +99     \n+ Misses       3636     3634       -2\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-airflow/pull/3235?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [airflow/jobs.py](https://codecov.io/gh/apache/incubator-airflow/pull/3235/diff?src=pr&el=tree#diff-YWlyZmxvdy9qb2JzLnB5) | `82.83% <0%> (+0.26%)` | :arrow_up: |\n| [airflow/operators/subdag\\_operator.py](https://codecov.io/gh/apache/incubator-airflow/pull/3235/diff?src=pr&el=tree#diff-YWlyZmxvdy9vcGVyYXRvcnMvc3ViZGFnX29wZXJhdG9yLnB5) | `90.9% <0%> (+0.58%)` | :arrow_up: |\n| [airflow/utils/helpers.py](https://codecov.io/gh/apache/incubator-airflow/pull/3235/diff?src=pr&el=tree#diff-YWlyZmxvdy91dGlscy9oZWxwZXJzLnB5) | `64.7% <0%> (+0.65%)` | :arrow_up: |\n| [airflow/hooks/hive\\_hooks.py](https://codecov.io/gh/apache/incubator-airflow/pull/3235/diff?src=pr&el=tree#diff-YWlyZmxvdy9ob29rcy9oaXZlX2hvb2tzLnB5) | `50.33% <0%> (+8.83%)` | :arrow_up: |\n| [airflow/operators/hive\\_operator.py](https://codecov.io/gh/apache/incubator-airflow/pull/3235/diff?src=pr&el=tree#diff-YWlyZmxvdy9vcGVyYXRvcnMvaGl2ZV9vcGVyYXRvci5weQ==) | `86% <0%> (+18%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3235?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3235?src=pr&el=footer). Last update [be886b9...f094ed3](https://codecov.io/gh/apache/incubator-airflow/pull/3235?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382010161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382024553","html_url":"https://github.com/apache/airflow/pull/2932#issuecomment-382024553","issue_url":"https://api.github.com/repos/apache/airflow/issues/2932","id":382024553,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjAyNDU1Mw==","user":{"login":"andrewmchen","id":4492809,"node_id":"MDQ6VXNlcjQ0OTI4MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4492809?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewmchen","html_url":"https://github.com/andrewmchen","followers_url":"https://api.github.com/users/andrewmchen/followers","following_url":"https://api.github.com/users/andrewmchen/following{/other_user}","gists_url":"https://api.github.com/users/andrewmchen/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewmchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewmchen/subscriptions","organizations_url":"https://api.github.com/users/andrewmchen/orgs","repos_url":"https://api.github.com/users/andrewmchen/repos","events_url":"https://api.github.com/users/andrewmchen/events{/privacy}","received_events_url":"https://api.github.com/users/andrewmchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T14:59:17Z","updated_at":"2018-04-17T14:59:17Z","author_association":"CONTRIBUTOR","body":"Sorry. I must have missed the notification from @bolkedebruin the first time. What are the concrete goals for doing this refactoring? The `DatabricksOperator` as is in your PR doesn't seem to to ease any development of any other operators since there seems to be lots of business logic which implicitly assume the API call is for Runs Submit.\r\n\r\nAlso, I'm curious. What operators would you like to see? Cluster create? Run now?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382024553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382029038","html_url":"https://github.com/apache/airflow/pull/2932#issuecomment-382029038","issue_url":"https://api.github.com/repos/apache/airflow/issues/2932","id":382029038,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjAyOTAzOA==","user":{"login":"rgabo","id":96628,"node_id":"MDQ6VXNlcjk2NjI4","avatar_url":"https://avatars.githubusercontent.com/u/96628?v=4","gravatar_id":"","url":"https://api.github.com/users/rgabo","html_url":"https://github.com/rgabo","followers_url":"https://api.github.com/users/rgabo/followers","following_url":"https://api.github.com/users/rgabo/following{/other_user}","gists_url":"https://api.github.com/users/rgabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rgabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgabo/subscriptions","organizations_url":"https://api.github.com/users/rgabo/orgs","repos_url":"https://api.github.com/users/rgabo/repos","events_url":"https://api.github.com/users/rgabo/events{/privacy}","received_events_url":"https://api.github.com/users/rgabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T15:11:41Z","updated_at":"2018-04-17T15:12:05Z","author_association":"NONE","body":"To add two cents from our perspective:\r\n\r\nWe would like to submit a number of jobs to the same Databricks cluster, especially when we are backfilling DAGs. To that end, we would prefer a separate operator that ensures that a cluster configuration is already running and returns its `cluster_id`. I believe this is similar to how the EMR operators can start an EMR jobflow and then use xcom to submit a number of steps to a single EMR jobflow using the jobflow_id.\r\n\r\nThis is something that we are happy to contribute and if anything makes that work easier, that's great.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382029038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382107061","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382107061","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382107061,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjEwNzA2MQ==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T19:07:27Z","updated_at":"2018-04-17T19:07:40Z","author_association":"CONTRIBUTOR","body":"@Fokko sounds good!\r\n\r\nI've been running into some weird functionality changes when I merge with master but should be able to fully merge soon!","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382107061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382131592","html_url":"https://github.com/apache/airflow/pull/3210#issuecomment-382131592","issue_url":"https://api.github.com/repos/apache/airflow/issues/3210","id":382131592,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjEzMTU5Mg==","user":{"login":"johnarnold","id":1329084,"node_id":"MDQ6VXNlcjEzMjkwODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1329084?v=4","gravatar_id":"","url":"https://api.github.com/users/johnarnold","html_url":"https://github.com/johnarnold","followers_url":"https://api.github.com/users/johnarnold/followers","following_url":"https://api.github.com/users/johnarnold/following{/other_user}","gists_url":"https://api.github.com/users/johnarnold/gists{/gist_id}","starred_url":"https://api.github.com/users/johnarnold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnarnold/subscriptions","organizations_url":"https://api.github.com/users/johnarnold/orgs","repos_url":"https://api.github.com/users/johnarnold/repos","events_url":"https://api.github.com/users/johnarnold/events{/privacy}","received_events_url":"https://api.github.com/users/johnarnold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T20:30:17Z","updated_at":"2018-04-17T20:30:17Z","author_association":"CONTRIBUTOR","body":"@bolkedebruin It should be pretty easy to support uuids in all the executors, but I made this in such a way that it's totally optional.  I don't use the other executors generally, but I can take a look at the unit tests and see if this is something I can make time to do.  Certainly LocalExecutor and SequentialExecutor should be easy.  Otherwise, I figured someone who uses the alternatives (dask, etc) would know the best way to do it.\r\n\r\nIt's my bad for changing uid -> uuid and not actually re-running the unit tests before committing :|   I was going to just confirm it worked in travic-ci.   What specific tests would you like to see?\r\n\r\nI am running this in production.  I was running the code before uid -> uuid change. Now I'm running the latest commit.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382131592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382159150","html_url":"https://github.com/apache/airflow/pull/3210#issuecomment-382159150","issue_url":"https://api.github.com/repos/apache/airflow/issues/3210","id":382159150,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE1OTE1MA==","user":{"login":"johnarnold","id":1329084,"node_id":"MDQ6VXNlcjEzMjkwODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1329084?v=4","gravatar_id":"","url":"https://api.github.com/users/johnarnold","html_url":"https://github.com/johnarnold","followers_url":"https://api.github.com/users/johnarnold/followers","following_url":"https://api.github.com/users/johnarnold/following{/other_user}","gists_url":"https://api.github.com/users/johnarnold/gists{/gist_id}","starred_url":"https://api.github.com/users/johnarnold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnarnold/subscriptions","organizations_url":"https://api.github.com/users/johnarnold/orgs","repos_url":"https://api.github.com/users/johnarnold/repos","events_url":"https://api.github.com/users/johnarnold/events{/privacy}","received_events_url":"https://api.github.com/users/johnarnold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T21:47:06Z","updated_at":"2018-04-17T21:47:06Z","author_association":"CONTRIBUTOR","body":"Updated executors to return uuid (or Future.key for dask, which appears to be a prefixed uuid).  Working on tests.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382159150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382160632","html_url":"https://github.com/apache/airflow/pull/3008#issuecomment-382160632","issue_url":"https://api.github.com/repos/apache/airflow/issues/3008","id":382160632,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE2MDYzMg==","user":{"login":"sebradloff","id":7495006,"node_id":"MDQ6VXNlcjc0OTUwMDY=","avatar_url":"https://avatars.githubusercontent.com/u/7495006?v=4","gravatar_id":"","url":"https://api.github.com/users/sebradloff","html_url":"https://github.com/sebradloff","followers_url":"https://api.github.com/users/sebradloff/followers","following_url":"https://api.github.com/users/sebradloff/following{/other_user}","gists_url":"https://api.github.com/users/sebradloff/gists{/gist_id}","starred_url":"https://api.github.com/users/sebradloff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebradloff/subscriptions","organizations_url":"https://api.github.com/users/sebradloff/orgs","repos_url":"https://api.github.com/users/sebradloff/repos","events_url":"https://api.github.com/users/sebradloff/events{/privacy}","received_events_url":"https://api.github.com/users/sebradloff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T21:52:10Z","updated_at":"2018-04-17T21:52:10Z","author_association":"NONE","body":"@agrajm I've got the ASF headers and multiline fixes, and a stab at the documentation merged. I rebased incubator-airflow master branch on top of this and squashed. Seems that travis-ci failed on an apt-get install of some packages, but I don't see a proper error message. Let me know if this is up to your standards on the documentation or if I missed anything ðŸ˜„ ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382160632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382177565","html_url":"https://github.com/apache/airflow/pull/3208#issuecomment-382177565","issue_url":"https://api.github.com/repos/apache/airflow/issues/3208","id":382177565,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE3NzU2NQ==","user":{"login":"johnarnold","id":1329084,"node_id":"MDQ6VXNlcjEzMjkwODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1329084?v=4","gravatar_id":"","url":"https://api.github.com/users/johnarnold","html_url":"https://github.com/johnarnold","followers_url":"https://api.github.com/users/johnarnold/followers","following_url":"https://api.github.com/users/johnarnold/following{/other_user}","gists_url":"https://api.github.com/users/johnarnold/gists{/gist_id}","starred_url":"https://api.github.com/users/johnarnold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnarnold/subscriptions","organizations_url":"https://api.github.com/users/johnarnold/orgs","repos_url":"https://api.github.com/users/johnarnold/repos","events_url":"https://api.github.com/users/johnarnold/events{/privacy}","received_events_url":"https://api.github.com/users/johnarnold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T22:34:08Z","updated_at":"2018-04-17T22:34:08Z","author_association":"CONTRIBUTOR","body":"@Fokko  set_duration() method is on a different class. Thus the duplicate code.  Could do another mixin but it's not justified IMO.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382177565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382241416","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382241416","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382241416,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjI0MTQxNg==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T03:17:45Z","updated_at":"2018-04-18T03:18:47Z","author_association":"CONTRIBUTOR","body":"@bolkedebruin @Fokko I spoke to the people over at travis and they gave me a solution for the bug that kills all of our builds after 1 minute (https://github.com/travis-ci/travis-ci/issues/9512#issuecomment-382235301) . If I can get it working here I'll make that a seperate PR so other airflow developers aren't held up by CI","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382241416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382249891","html_url":"https://github.com/apache/airflow/pull/3236#issuecomment-382249891","issue_url":"https://api.github.com/repos/apache/airflow/issues/3236","id":382249891,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjI0OTg5MQ==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T03:55:36Z","updated_at":"2018-04-18T03:55:36Z","author_association":"CONTRIBUTOR","body":"@Fokko  @bolkedebruin  Assuming all tests pass could I please get a review on this? It's a pretty small change and should fix the travis issues preventing master from building.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382249891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382254560","html_url":"https://github.com/apache/airflow/pull/3236#issuecomment-382254560","issue_url":"https://api.github.com/repos/apache/airflow/issues/3236","id":382254560,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjI1NDU2MA==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T04:18:51Z","updated_at":"2018-04-18T04:18:51Z","author_association":"CONTRIBUTOR","body":"LGTM overall. I'd love for this to get fixed by travis ci though...","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382254560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382256615","html_url":"https://github.com/apache/airflow/pull/3236#issuecomment-382256615","issue_url":"https://api.github.com/repos/apache/airflow/issues/3236","id":382256615,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjI1NjYxNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T04:28:52Z","updated_at":"2018-04-18T04:28:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3236?src=pr&el=h1) Report\n> Merging [#3236](https://codecov.io/gh/apache/incubator-airflow/pull/3236?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-airflow/commit/3f1bfd38cd5a1c9c58045004390a6a766bec5e8d?src=pr&el=desc) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-airflow/pull/3236/graphs/tree.svg?width=650&height=150&token=WdLKlKHOAU&src=pr)](https://codecov.io/gh/apache/incubator-airflow/pull/3236?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff           @@\n##           master    #3236   +/-   ##\n=======================================\n  Coverage   75.32%   75.32%           \n=======================================\n  Files         196      196           \n  Lines       14599    14599           \n=======================================\n  Hits        10996    10996           \n  Misses       3603     3603\n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3236?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3236?src=pr&el=footer). Last update [3f1bfd3...cfc4243](https://codecov.io/gh/apache/incubator-airflow/pull/3236?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382256615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382256790","html_url":"https://github.com/apache/airflow/pull/3236#issuecomment-382256790","issue_url":"https://api.github.com/repos/apache/airflow/issues/3236","id":382256790,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjI1Njc5MA==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T04:29:52Z","updated_at":"2018-04-18T04:29:52Z","author_association":"CONTRIBUTOR","body":"@artwr Agreed. Though they're aware of the issue so probably best to use the patch until they figure this out.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382256790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382262134","html_url":"https://github.com/apache/airflow/pull/3236#issuecomment-382262134","issue_url":"https://api.github.com/repos/apache/airflow/issues/3236","id":382262134,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjI2MjEzNA==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T05:00:43Z","updated_at":"2018-04-18T05:00:43Z","author_association":"CONTRIBUTOR","body":"@dimberman done. Hopefully this gets fixed and we can remove the hack.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382262134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382270498","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382270498","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382270498,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjI3MDQ5OA==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T05:53:44Z","updated_at":"2018-04-18T06:00:42Z","author_association":"CONTRIBUTOR","body":"@bolkedebruin @Fokko Were any changes made recently that would dramatically increase the speed of heartbeating?\r\n\r\nBefore: We're getting ~ 1 heartbeat per second\r\n```[2018-04-18 04:01:38,651] {dag_processing.py:468} INFO - Processor for /root/airflow/dags/example_subdag_operator.py finished\r\n[2018-04-18 04:01:38,651] {dag_processing.py:468} INFO - Processor for /root/airflow/dags/example_kubernetes_executor.py finished\r\n[2018-04-18 04:01:38,654] {dag_processing.py:543} INFO - Started a process (PID: 35) to generate tasks for /root/airflow/dags/example_bash_operator.py\r\n[2018-04-18 04:01:38,658] {dag_processing.py:543} INFO - Started a process (PID: 36) to generate tasks for /root/airflow/dags/example_latest_only.py\r\n[2018-04-18 04:01:38,660] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 04:01:38,660] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 04:01:39,662] {dag_processing.py:468} INFO - Processor for /root/airflow/dags/example_bash_operator.py finished\r\n[2018-04-18 04:01:39,663] {dag_processing.py:468} INFO - Processor for /root/airflow/dags/example_latest_only.py finished\r\n[2018-04-18 04:01:39,671] {dag_processing.py:543} INFO - Started a process (PID: 39) to generate tasks for /root/airflow/dags/example_http_operator.py\r\n[2018-04-18 04:01:39,680] {dag_processing.py:543} INFO - Started a process (PID: 40) to generate tasks for /root/airflow/dags/example_python_operator.py\r\n[2018-04-18 04:01:39,693] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 04:01:39,693] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 04:01:40,701] {dag_processing.py:468} INFO - Processor for /root/airflow/dags/example_python_operator.py finished\r\n[2018-04-18 04:01:40,707] {dag_processing.py:543} INFO - Started a process (PID: 42) to generate tasks for /root/airflow/dags/example_short_circuit_operator.py\r\n[2018-04-18 04:01:40,708] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 04:01:40,709] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 04:01:41,716] {dag_processing.py:468} INFO - Processor for /root/airflow/dags/example_http_operator.py finished\r\n[2018-04-18 04:01:41,720] {dag_processing.py:543} INFO - Started a process (PID: 44) to generate tasks for /root/airflow/dags/example_trigger_target_dag.py\r\n[2018-04-18 04:01:41,722] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 04:01:41,723] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n```\r\n\r\n\r\nNow: We're getting heartbeats per millisecond and it's making the logs so spammy that it breaks the CI (because `kubectl logs` can't escape).\r\n\r\n\r\n```[2018-04-18 05:48:55,595] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 05:48:55,595] {base_executor.py:111} INFO - xxx: HEARTBEATING\r\n[2018-04-18 05:48:55,595] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 05:48:55,595] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 05:48:55,596] {base_executor.py:111} INFO - xxx: HEARTBEATING\r\n[2018-04-18 05:48:55,596] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 05:48:55,596] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 05:48:55,596] {base_executor.py:111} INFO - xxx: HEARTBEATING\r\n[2018-04-18 05:48:55,596] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 05:48:55,597] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 05:48:55,597] {base_executor.py:111} INFO - xxx: HEARTBEATING\r\n[2018-04-18 05:48:55,597] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 05:48:55,597] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 05:48:55,597] {base_executor.py:111} INFO - xxx: HEARTBEATING\r\n[2018-04-18 05:48:55,598] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 05:48:55,598] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 05:48:55,598] {base_executor.py:111} INFO - xxx: HEARTBEATING\r\n[2018-04-18 05:48:55,598] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 05:48:55,598] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 05:48:55,599] {base_executor.py:111} INFO - xxx: HEARTBEATING\r\n[2018-04-18 05:48:55,599] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 05:48:55,599] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 05:48:55,599] {base_executor.py:111} INFO - xxx: HEARTBEATING\r\n[2018-04-18 05:48:55,600] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 05:48:55,600] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 05:48:55,600] {base_executor.py:111} INFO - xxx: HEARTBEATING\r\n[2018-04-18 05:48:55,600] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 05:48:55,600] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n[2018-04-18 05:48:55,601] {base_executor.py:111} INFO - xxx: HEARTBEATING\r\n[2018-04-18 05:48:55,601] {kubernetes_executor.py:566} INFO - self.running: {}\r\n[2018-04-18 05:48:55,601] {kubernetes_executor.py:567} INFO - self.queued: {}\r\n```\r\n\r\nI'll continue to parse through this problem tomorrow, but as there are 250 files changed (when you remove the commit for ASF licences) I just wanted to check if there was an obvious answer I didn't know about :). (I'll also just start doing smaller rebases to see if I can pinpoint where this issue occurs tomorrow).","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382270498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382278553","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382278553","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382278553,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjI3ODU1Mw==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T06:36:45Z","updated_at":"2018-04-18T06:36:45Z","author_association":"CONTRIBUTOR","body":"@dimberman I'll have a look, but I dont think so. Heartbeats are measured in seconds and this seems faster. So probably there is a line too much dropped ;-).","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382278553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382303552","html_url":"https://github.com/apache/airflow/pull/3233#issuecomment-382303552","issue_url":"https://api.github.com/repos/apache/airflow/issues/3233","id":382303552,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMwMzU1Mg==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T08:14:20Z","updated_at":"2018-04-18T08:14:20Z","author_association":"CONTRIBUTOR","body":"This will enable you to copy something from the source, to the source? Could you please elaborate, I find the logic hard to follow.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382303552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382305772","html_url":"https://github.com/apache/airflow/pull/3234#issuecomment-382305772","issue_url":"https://api.github.com/repos/apache/airflow/issues/3234","id":382305772,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMwNTc3Mg==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T08:22:22Z","updated_at":"2018-04-18T08:22:22Z","author_association":"CONTRIBUTOR","body":"This is exactly the same PR as the one from @yati-sagade ?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382305772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382307306","html_url":"https://github.com/apache/airflow/pull/3234#issuecomment-382307306","issue_url":"https://api.github.com/repos/apache/airflow/issues/3234","id":382307306,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMwNzMwNg==","user":{"login":"milanvdm","id":5628925,"node_id":"MDQ6VXNlcjU2Mjg5MjU=","avatar_url":"https://avatars.githubusercontent.com/u/5628925?v=4","gravatar_id":"","url":"https://api.github.com/users/milanvdm","html_url":"https://github.com/milanvdm","followers_url":"https://api.github.com/users/milanvdm/followers","following_url":"https://api.github.com/users/milanvdm/following{/other_user}","gists_url":"https://api.github.com/users/milanvdm/gists{/gist_id}","starred_url":"https://api.github.com/users/milanvdm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milanvdm/subscriptions","organizations_url":"https://api.github.com/users/milanvdm/orgs","repos_url":"https://api.github.com/users/milanvdm/repos","events_url":"https://api.github.com/users/milanvdm/events{/privacy}","received_events_url":"https://api.github.com/users/milanvdm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T08:27:49Z","updated_at":"2018-04-18T08:27:49Z","author_association":"CONTRIBUTOR","body":"@Fokko Yes, some small styling, time, and package issues fixed.\r\nCan't make the tests work though. Im looking into it but I dont understand how a Dag can fail with only DummyOperators.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382307306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382308060","html_url":"https://github.com/apache/airflow/pull/3209#issuecomment-382308060","issue_url":"https://api.github.com/repos/apache/airflow/issues/3209","id":382308060,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMwODA2MA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T08:30:30Z","updated_at":"2018-04-18T08:30:30Z","author_association":"CONTRIBUTOR","body":"@OElesin thanks. Can you squash your commits? This will trigger another build. If the error persists, I'll look into it.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382308060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382308287","html_url":"https://github.com/apache/airflow/pull/3233#issuecomment-382308287","issue_url":"https://api.github.com/repos/apache/airflow/issues/3233","id":382308287,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMwODI4Nw==","user":{"login":"berislavlopac","id":754090,"node_id":"MDQ6VXNlcjc1NDA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/754090?v=4","gravatar_id":"","url":"https://api.github.com/users/berislavlopac","html_url":"https://github.com/berislavlopac","followers_url":"https://api.github.com/users/berislavlopac/followers","following_url":"https://api.github.com/users/berislavlopac/following{/other_user}","gists_url":"https://api.github.com/users/berislavlopac/gists{/gist_id}","starred_url":"https://api.github.com/users/berislavlopac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berislavlopac/subscriptions","organizations_url":"https://api.github.com/users/berislavlopac/orgs","repos_url":"https://api.github.com/users/berislavlopac/repos","events_url":"https://api.github.com/users/berislavlopac/events{/privacy}","received_events_url":"https://api.github.com/users/berislavlopac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T08:31:17Z","updated_at":"2018-04-18T08:33:37Z","author_association":"CONTRIBUTOR","body":"When using the wildcard, you're implicitly copying multiple files (e.g. `foo/*` means all files that start with `foo/`). The `destination_object` doesn't make sense in that context, so it was used to specify an extra prefix (often called a \"folder\" or \"subfolder\", although GCS, like S3, doesn't have an inherent hierarchical organisation) to be prepended to the destination paths.\r\n\r\nHere's an example: let's assume that we have two files in a bucket called `some_source_bucket`: `foo/file1.txt` and `foo/file2.txt`. Now, say that we do:\r\n\r\n```\r\ncopy_foo_files = GoogleCloudStorageToGoogleCloudStorageOperator(\r\n    dag=dag,\r\n    task_id='copy_foo_files',\r\n    source_bucket='some_source_bucket',\r\n    destination_bucket='some_destination_bucket',\r\n    source_object='foo/*',\r\n    destination_object='bar/baz'\r\n)\r\n```\r\n\r\nThis will copy files:\r\n\r\n```\r\ngs://some_source_bucket/foo/file1.txt\r\ngs://some_source_bucket/foo/file2.txt\r\n```\r\ninto:\r\n```\r\ngs://some_destination_bucket/bar/baz/foo/file1.txt\r\ngs://some_destination_bucket/bar/baz/foo/file2.txt\r\n```\r\nHope this makes sense. :smile: \r\n\r\nThe issue being fixed here was that, if you omitted `destination_object` or sent an empty string, the files would be copied into:\r\n```\r\ngs://some_destination_bucket/None/foo/file1.txt\r\ngs://some_destination_bucket/None/foo/file2.txt\r\n```\r\nor\r\n```\r\ngs://some_destination_bucket//foo/file1.txt\r\ngs://some_destination_bucket//foo/file2.txt\r\n```\r\nSince the GCS is not a hierarchical filesystem, the latter is not the same as\r\n```\r\ngs://some_destination_bucket/foo/file1.txt\r\ngs://some_destination_bucket/foo/file2.txt\r\n```","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382308287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382310167","html_url":"https://github.com/apache/airflow/pull/3236#issuecomment-382310167","issue_url":"https://api.github.com/repos/apache/airflow/issues/3236","id":382310167,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMxMDE2Nw==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T08:38:06Z","updated_at":"2018-04-18T08:38:06Z","author_association":"CONTRIBUTOR","body":"My suggestion would be to move to OpenJDK","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382310167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382310288","html_url":"https://github.com/apache/airflow/pull/3233#issuecomment-382310288","issue_url":"https://api.github.com/repos/apache/airflow/issues/3233","id":382310288,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMxMDI4OA==","user":{"login":"berislavlopac","id":754090,"node_id":"MDQ6VXNlcjc1NDA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/754090?v=4","gravatar_id":"","url":"https://api.github.com/users/berislavlopac","html_url":"https://github.com/berislavlopac","followers_url":"https://api.github.com/users/berislavlopac/followers","following_url":"https://api.github.com/users/berislavlopac/following{/other_user}","gists_url":"https://api.github.com/users/berislavlopac/gists{/gist_id}","starred_url":"https://api.github.com/users/berislavlopac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berislavlopac/subscriptions","organizations_url":"https://api.github.com/users/berislavlopac/orgs","repos_url":"https://api.github.com/users/berislavlopac/repos","events_url":"https://api.github.com/users/berislavlopac/events{/privacy}","received_events_url":"https://api.github.com/users/berislavlopac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T08:38:28Z","updated_at":"2018-04-18T08:40:36Z","author_association":"CONTRIBUTOR","body":"Ideally, we could have a system that would allow building complex source and destination paths for multiple files, but that's a bigger fish to fry, and outside the scope of this ticket anyway.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382310288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382311481","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382311481","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382311481,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMxMTQ4MQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T08:42:54Z","updated_at":"2018-04-18T08:42:54Z","author_association":"CONTRIBUTOR","body":"@dimberman This doesn't look good. I didn't find any recent changes. What is the value of the `SCHEDULER_HEARTBEAT_SEC`?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382311481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382312848","html_url":"https://github.com/apache/airflow/pull/3233#issuecomment-382312848","issue_url":"https://api.github.com/repos/apache/airflow/issues/3233","id":382312848,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMxMjg0OA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T08:47:40Z","updated_at":"2018-04-18T08:47:40Z","author_association":"CONTRIBUTOR","body":"Thanks @berislavlopac for the examples. It makes sense now to me. Maybe a good idea to turn one or two of these examples into an unit-test. This is some delicate code since we're possibly moving data here.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382312848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382313222","html_url":"https://github.com/apache/airflow/pull/3238#issuecomment-382313222","issue_url":"https://api.github.com/repos/apache/airflow/issues/3238","id":382313222,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMxMzIyMg==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T08:49:01Z","updated_at":"2018-04-18T08:49:08Z","author_association":"CONTRIBUTOR","body":"Thanks @svenvarkel. Could you rewrite the commit. `Added Investorise as official user of Airflow` to `[AIRFLOW-3238] Add Investorise as official user of Airflow`. Cheers","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382313222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382322000","html_url":"https://github.com/apache/airflow/pull/3238#issuecomment-382322000","issue_url":"https://api.github.com/repos/apache/airflow/issues/3238","id":382322000,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMyMjAwMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T09:19:00Z","updated_at":"2018-04-18T09:19:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3238?src=pr&el=h1) Report\n> Merging [#3238](https://codecov.io/gh/apache/incubator-airflow/pull/3238?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-airflow/commit/3fa55db90cbeee3746220d0ac0cdfa3db52c0753?src=pr&el=desc) will **decrease** coverage by `0.02%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-airflow/pull/3238/graphs/tree.svg?width=650&height=150&src=pr&token=WdLKlKHOAU)](https://codecov.io/gh/apache/incubator-airflow/pull/3238?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3238      +/-   ##\n==========================================\n- Coverage   75.31%   75.29%   -0.03%     \n==========================================\n  Files         196      196              \n  Lines       14601    14601              \n==========================================\n- Hits        10997    10994       -3     \n- Misses       3604     3607       +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-airflow/pull/3238?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [airflow/jobs.py](https://codecov.io/gh/apache/incubator-airflow/pull/3238/diff?src=pr&el=tree#diff-YWlyZmxvdy9qb2JzLnB5) | `82.62% <0%> (-0.27%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3238?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3238?src=pr&el=footer). Last update [3fa55db...a22e2d2](https://codecov.io/gh/apache/incubator-airflow/pull/3238?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382322000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382322806","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382322806","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382322806,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMyMjgwNg==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T09:21:47Z","updated_at":"2018-04-18T10:03:38Z","author_association":"CONTRIBUTOR","body":"I'm looking into the deployment. We need to get rid of the `scripts/ci/kubernetes/docker/airflow.tar.gz`, since we should not just install binary files in our Dockerfiles.\r\n\r\nEdit: Now I see that this file is generated, by the `build.sh`, please add the file to the `.gitignore`.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382322806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382333539","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382333539","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382333539,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMzMzUzOQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T09:59:17Z","updated_at":"2018-04-18T09:59:17Z","author_association":"CONTRIBUTOR","body":"You need to add the heartrate to the configmap:\r\nhttps://github.com/apache/incubator-airflow/blob/c7a472ed6b0d8a4720f57ba1140c8cf665757167/airflow/jobs.py#L1693-L1696\r\n\r\nRight now it will always do a heartbeat:\r\n```\r\n>>> 0 > None\r\nTrue\r\n```\r\nMaybe we should also add a check if this value is `None`...","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382333539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382336721","html_url":"https://github.com/apache/airflow/pull/3239#issuecomment-382336721","issue_url":"https://api.github.com/repos/apache/airflow/issues/3239","id":382336721,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMzNjcyMQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T10:10:19Z","updated_at":"2018-04-18T10:10:19Z","author_association":"CONTRIBUTOR","body":"The failed test is a bit flakey:\r\n```\r\n======================================================================\r\n19) ERROR: test_authorized (tests.www.api.experimental.test_password_endpoints.ApiPasswordTests)\r\n----------------------------------------------------------------------\r\n   Traceback (most recent call last):\r\n    tests/www/api/experimental/test_password_endpoints.py line 64 in test_authorized\r\n      headers={'Authorization': 'Basic aGVsbG86d29ybGQ='}  # hello:world\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/werkzeug/test.py line 840 in post\r\n      return self.open(*args, **kw)\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/flask/testing.py line 127 in open\r\n      follow_redirects=follow_redirects)\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/werkzeug/test.py line 803 in open\r\n      response = self.run_wsgi_app(environ, buffered=buffered)\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/werkzeug/test.py line 716 in run_wsgi_app\r\n      rv = run_wsgi_app(self.application, environ, buffered=buffered)\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/werkzeug/test.py line 923 in run_wsgi_app\r\n      app_rv = app(environ, start_response)\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/flask/app.py line 1997 in __call__\r\n      return self.wsgi_app(environ, start_response)\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/flask/app.py line 1985 in wsgi_app\r\n      response = self.handle_exception(e)\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/flask/app.py line 1540 in handle_exception\r\n      reraise(exc_type, exc_value, tb)\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/flask/_compat.py line 33 in reraise\r\n      raise value\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/flask/app.py line 1982 in wsgi_app\r\n      response = self.full_dispatch_request()\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/flask/app.py line 1614 in full_dispatch_request\r\n      rv = self.handle_user_exception(e)\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/flask/app.py line 1517 in handle_user_exception\r\n      reraise(exc_type, exc_value, tb)\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/flask/_compat.py line 33 in reraise\r\n      raise value\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/flask/app.py line 1612 in full_dispatch_request\r\n      rv = self.dispatch_request()\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/flask/app.py line 1598 in dispatch_request\r\n      return self.view_functions[rule.endpoint](**req.view_args)\r\n    airflow/contrib/auth/backends/password_auth.py line 203 in decorated\r\n      response = function(*args, **kwargs)\r\n    airflow/www/api/experimental/endpoints.py line 78 in trigger_dag\r\n      dr = trigger.trigger_dag(dag_id, run_id, conf, execution_date)\r\n    airflow/api/common/experimental/trigger_dag.py line 61 in trigger_dag\r\n      external_trigger=True\r\n    airflow/utils/db.py line 74 in wrapper\r\n      return func(*args, **kwargs)\r\n    airflow/models.py line 4006 in create_dagrun\r\n      run.refresh_from_db()\r\n    airflow/utils/db.py line 74 in wrapper\r\n      return func(*args, **kwargs)\r\n    airflow/models.py line 4706 in refresh_from_db\r\n      DR.run_id == self.run_id\r\n    .tox/py35-backend_sqlite/lib/python3.5/site-packages/sqlalchemy/orm/query.py line 2820 in one\r\n      raise orm_exc.NoResultFound(\"No row was found for one()\")\r\n   NoResultFound: No row was found for one()\r\n```","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382336721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382338624","html_url":"https://github.com/apache/airflow/pull/3239#issuecomment-382338624","issue_url":"https://api.github.com/repos/apache/airflow/issues/3239","id":382338624,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMzODYyNA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T10:17:48Z","updated_at":"2018-04-18T10:17:48Z","author_association":"CONTRIBUTOR","body":"@mistercrunch Any thoughts on this? Do you know if this is still being used?  The package is Deprecated according to the author: https://github.com/youngwookim/hive-thrift-py\r\n\r\nCheers!","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382338624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382347844","html_url":"https://github.com/apache/airflow/pull/3239#issuecomment-382347844","issue_url":"https://api.github.com/repos/apache/airflow/issues/3239","id":382347844,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM0Nzg0NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T10:56:37Z","updated_at":"2018-04-25T07:19:12Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3239?src=pr&el=h1) Report\n> Merging [#3239](https://codecov.io/gh/apache/incubator-airflow/pull/3239?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-airflow/commit/64d950166773749c0e4aa0d7032b080cadd56a53?src=pr&el=desc) will **increase** coverage by `0.48%`.\n> The diff coverage is `76.31%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-airflow/pull/3239/graphs/tree.svg?token=WdLKlKHOAU&height=150&width=650&src=pr)](https://codecov.io/gh/apache/incubator-airflow/pull/3239?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3239      +/-   ##\n==========================================\n+ Coverage   75.29%   75.78%   +0.48%     \n==========================================\n  Files         197      197              \n  Lines       14712    14699      -13     \n==========================================\n+ Hits        11078    11140      +62     \n+ Misses       3634     3559      -75\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-airflow/pull/3239?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [airflow/hooks/hive\\_hooks.py](https://codecov.io/gh/apache/incubator-airflow/pull/3239/diff?src=pr&el=tree#diff-YWlyZmxvdy9ob29rcy9oaXZlX2hvb2tzLnB5) | `57.8% <76.31%> (+16.29%)` | :arrow_up: |\n| [airflow/models.py](https://codecov.io/gh/apache/incubator-airflow/pull/3239/diff?src=pr&el=tree#diff-YWlyZmxvdy9tb2RlbHMucHk=) | `86.68% <0%> (+0.04%)` | :arrow_up: |\n| [airflow/utils/helpers.py](https://codecov.io/gh/apache/incubator-airflow/pull/3239/diff?src=pr&el=tree#diff-YWlyZmxvdy91dGlscy9oZWxwZXJzLnB5) | `64.7% <0%> (+0.65%)` | :arrow_up: |\n| [airflow/operators/hive\\_operator.py](https://codecov.io/gh/apache/incubator-airflow/pull/3239/diff?src=pr&el=tree#diff-YWlyZmxvdy9vcGVyYXRvcnMvaGl2ZV9vcGVyYXRvci5weQ==) | `86% <0%> (+18%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3239?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3239?src=pr&el=footer). Last update [64d9501...c8df960](https://codecov.io/gh/apache/incubator-airflow/pull/3239?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382347844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382353316","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382353316","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382353316,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM1MzMxNg==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T11:20:25Z","updated_at":"2018-04-18T11:20:25Z","author_association":"CONTRIBUTOR","body":"I'm looking into the logging. I'm very confused, when I try to pull the logs I get the following in the webserver UI:\r\n```\r\n*** Log file does not exist: /root/airflow/logs/example_http_operator/post_op/2018-04-16T00:00:00+00:00/2.log\r\n*** Fetching from: http://examplehttpoperatorpostop-91803ac06fb04b85b58538b1f93e28fd:8793/log/example_http_operator/post_op/2018-04-16T00:00:00+00:00/2.log\r\n*** Failed to fetch log file from worker. HTTPConnectionPool(host='examplehttpoperatorpostop-91803ac06fb04b85b58538b1f93e28fd', port=8793): Max retries exceeded with url: /log/example_http_operator/post_op/2018-04-16T00:00:00+00:00/2.log (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fcdbd0c00d0>: Failed to establish a new connection: [Errno -2] Name or service not known',))\r\n```\r\nLooking inside the container:\r\n```\r\nroot@airflow-6cf894578b-rkcpm:/# find /root/airflow/logs/ \r\n/root/airflow/logs/\r\n/root/airflow/logs/schedulerm:/# cat /root/airflow/logs/scheduler/2018-04-18/exam\r\n/root/airflow/logs/scheduler/2018-04-18\r\n/root/airflow/logs/scheduler/2018-04-18/subdags\r\n/root/airflow/logs/scheduler/2018-04-18/subdags/subdag.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_branch_python_dop_operator_3.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_subdag_operator.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_kubernetes_executor.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_docker_operator.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_python_operator.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_http_operator.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/docker_copy_data.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_xcom.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_latest_only_with_trigger.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/test_utils.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_branch_operator.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_passing_params_via_test_command.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_trigger_target_dag.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/tutorial.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_bash_operator.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_kubernetes_operator.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_skip_dag.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_trigger_controller_dag.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_short_circuit_operator.py.log\r\n/root/airflow/logs/scheduler/2018-04-18/example_latest_only.py.log\r\n/root/airflow/logs/scheduler/latest\r\n```","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382353316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382355476","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382355476","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382355476,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM1NTQ3Ng==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T11:30:04Z","updated_at":"2018-04-18T11:30:04Z","author_association":"CONTRIBUTOR","body":"Can you rebase onto master? I would like to add some small changes.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382355476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382394868","html_url":"https://github.com/apache/airflow/pull/3008#issuecomment-382394868","issue_url":"https://api.github.com/repos/apache/airflow/issues/3008","id":382394868,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM5NDg2OA==","user":{"login":"sebradloff","id":7495006,"node_id":"MDQ6VXNlcjc0OTUwMDY=","avatar_url":"https://avatars.githubusercontent.com/u/7495006?v=4","gravatar_id":"","url":"https://api.github.com/users/sebradloff","html_url":"https://github.com/sebradloff","followers_url":"https://api.github.com/users/sebradloff/followers","following_url":"https://api.github.com/users/sebradloff/following{/other_user}","gists_url":"https://api.github.com/users/sebradloff/gists{/gist_id}","starred_url":"https://api.github.com/users/sebradloff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebradloff/subscriptions","organizations_url":"https://api.github.com/users/sebradloff/orgs","repos_url":"https://api.github.com/users/sebradloff/repos","events_url":"https://api.github.com/users/sebradloff/events{/privacy}","received_events_url":"https://api.github.com/users/sebradloff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T13:55:32Z","updated_at":"2018-04-18T13:55:32Z","author_association":"NONE","body":"@agrajm rebased the most recent changes and the tests have passed. Let me know if there's anything you'd like me to change about the documentation. Long term, I'm looking forward to releasing a more comprehensive guide on best practices for deploying airflow in a containerized environment. For now, I believe the documentation here provides all the information necessary for getting airflow running with the MesosExecutor in a dockerized environment.\r\n\r\nOnce you approve I'll make sure to @ `bolkedebruin` to ask for a final review and merge ðŸ˜„ ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382394868/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382399493","html_url":"https://github.com/apache/airflow/pull/2683#issuecomment-382399493","issue_url":"https://api.github.com/repos/apache/airflow/issues/2683","id":382399493,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM5OTQ5Mw==","user":{"login":"mariusvniekerk","id":73973,"node_id":"MDQ6VXNlcjczOTcz","avatar_url":"https://avatars.githubusercontent.com/u/73973?v=4","gravatar_id":"","url":"https://api.github.com/users/mariusvniekerk","html_url":"https://github.com/mariusvniekerk","followers_url":"https://api.github.com/users/mariusvniekerk/followers","following_url":"https://api.github.com/users/mariusvniekerk/following{/other_user}","gists_url":"https://api.github.com/users/mariusvniekerk/gists{/gist_id}","starred_url":"https://api.github.com/users/mariusvniekerk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mariusvniekerk/subscriptions","organizations_url":"https://api.github.com/users/mariusvniekerk/orgs","repos_url":"https://api.github.com/users/mariusvniekerk/repos","events_url":"https://api.github.com/users/mariusvniekerk/events{/privacy}","received_events_url":"https://api.github.com/users/mariusvniekerk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T14:08:56Z","updated_at":"2018-04-18T14:08:56Z","author_association":"MEMBER","body":"@artwr ping","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382399493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382420405","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382420405","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382420405,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQyMDQwNQ==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T15:07:40Z","updated_at":"2018-04-18T15:07:40Z","author_association":"CONTRIBUTOR","body":"@fokko I think the configmap is probably the culprit. I'm running the tests again with those configs and if works I'll force push the rebase branch onto this branch","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382420405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382421025","html_url":"https://github.com/apache/airflow/pull/3008#issuecomment-382421025","issue_url":"https://api.github.com/repos/apache/airflow/issues/3008","id":382421025,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQyMTAyNQ==","user":{"login":"agrajm","id":1135848,"node_id":"MDQ6VXNlcjExMzU4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1135848?v=4","gravatar_id":"","url":"https://api.github.com/users/agrajm","html_url":"https://github.com/agrajm","followers_url":"https://api.github.com/users/agrajm/followers","following_url":"https://api.github.com/users/agrajm/following{/other_user}","gists_url":"https://api.github.com/users/agrajm/gists{/gist_id}","starred_url":"https://api.github.com/users/agrajm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrajm/subscriptions","organizations_url":"https://api.github.com/users/agrajm/orgs","repos_url":"https://api.github.com/users/agrajm/repos","events_url":"https://api.github.com/users/agrajm/events{/privacy}","received_events_url":"https://api.github.com/users/agrajm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T15:09:20Z","updated_at":"2018-04-18T15:09:20Z","author_association":"NONE","body":"thanks @sebradloff for taking care of this. The changes in documentation looks sufficiently good for anyone starting up with containers and mesos. Looking forward to your comprehensive guide for deploying airflow. I'm sure it will be a good one. ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382421025/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382421943","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382421943","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382421943,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQyMTk0Mw==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T15:12:03Z","updated_at":"2018-04-18T15:12:03Z","author_association":"CONTRIBUTOR","body":"Yes, I also fixed the issue in the configmap. But I canâ€™t create a pr\nagainst your brance since it is detached from master for some reason.\n\nCheers, Fokko\n\nOp wo 18 apr. 2018 om 17:07 schreef Daniel Imberman <\nnotifications@github.com>\n\n> @Fokko <https://github.com/Fokko> I think the configmap is probably the\n> culprit. I'm running the tests again with those configs and if works I'll\n> force push the rebase branch onto this branch\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-airflow/pull/2414#issuecomment-382420405>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABFOqGUX5nhXSKaCTHN6GmIfD9xo9gXeks5tp1bBgaJpZM4OOqem>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382421943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382422137","html_url":"https://github.com/apache/airflow/pull/3235#issuecomment-382422137","issue_url":"https://api.github.com/repos/apache/airflow/issues/3235","id":382422137,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQyMjEzNw==","user":{"login":"piffall","id":1277789,"node_id":"MDQ6VXNlcjEyNzc3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/1277789?v=4","gravatar_id":"","url":"https://api.github.com/users/piffall","html_url":"https://github.com/piffall","followers_url":"https://api.github.com/users/piffall/followers","following_url":"https://api.github.com/users/piffall/following{/other_user}","gists_url":"https://api.github.com/users/piffall/gists{/gist_id}","starred_url":"https://api.github.com/users/piffall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/piffall/subscriptions","organizations_url":"https://api.github.com/users/piffall/orgs","repos_url":"https://api.github.com/users/piffall/repos","events_url":"https://api.github.com/users/piffall/events{/privacy}","received_events_url":"https://api.github.com/users/piffall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T15:12:37Z","updated_at":"2018-04-18T15:12:37Z","author_association":"CONTRIBUTOR","body":"Hi @Fokko,\r\n\r\nIt seems that tests fail arbitrarily. Every time PR is re-submitted creates an error on some database backend.\r\n\r\nI'll try one more time.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382422137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382422328","html_url":"https://github.com/apache/airflow/pull/3235#issuecomment-382422328","issue_url":"https://api.github.com/repos/apache/airflow/issues/3235","id":382422328,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQyMjMyOA==","user":{"login":"piffall","id":1277789,"node_id":"MDQ6VXNlcjEyNzc3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/1277789?v=4","gravatar_id":"","url":"https://api.github.com/users/piffall","html_url":"https://github.com/piffall","followers_url":"https://api.github.com/users/piffall/followers","following_url":"https://api.github.com/users/piffall/following{/other_user}","gists_url":"https://api.github.com/users/piffall/gists{/gist_id}","starred_url":"https://api.github.com/users/piffall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/piffall/subscriptions","organizations_url":"https://api.github.com/users/piffall/orgs","repos_url":"https://api.github.com/users/piffall/repos","events_url":"https://api.github.com/users/piffall/events{/privacy}","received_events_url":"https://api.github.com/users/piffall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T15:13:09Z","updated_at":"2018-04-18T15:13:09Z","author_association":"CONTRIBUTOR","body":"Re-submit for test execution.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382422328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382424496","html_url":"https://github.com/apache/airflow/pull/3008#issuecomment-382424496","issue_url":"https://api.github.com/repos/apache/airflow/issues/3008","id":382424496,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQyNDQ5Ng==","user":{"login":"sebradloff","id":7495006,"node_id":"MDQ6VXNlcjc0OTUwMDY=","avatar_url":"https://avatars.githubusercontent.com/u/7495006?v=4","gravatar_id":"","url":"https://api.github.com/users/sebradloff","html_url":"https://github.com/sebradloff","followers_url":"https://api.github.com/users/sebradloff/followers","following_url":"https://api.github.com/users/sebradloff/following{/other_user}","gists_url":"https://api.github.com/users/sebradloff/gists{/gist_id}","starred_url":"https://api.github.com/users/sebradloff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebradloff/subscriptions","organizations_url":"https://api.github.com/users/sebradloff/orgs","repos_url":"https://api.github.com/users/sebradloff/repos","events_url":"https://api.github.com/users/sebradloff/events{/privacy}","received_events_url":"https://api.github.com/users/sebradloff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T15:19:27Z","updated_at":"2018-04-18T15:19:27Z","author_association":"NONE","body":"@bolkedebruin We're ready for your review on the changes you requested. I'm making myself available to incorporate any changes that might still be needed in order to get this approved. ðŸ˜„ ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382424496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382451625","html_url":"https://github.com/apache/airflow/pull/3236#issuecomment-382451625","issue_url":"https://api.github.com/repos/apache/airflow/issues/3236","id":382451625,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQ1MTYyNQ==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T16:41:46Z","updated_at":"2018-04-18T16:41:46Z","author_association":"CONTRIBUTOR","body":"Not a bad idea. It would most likely not be subject to Oracle deciding to change the location for the download.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382451625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382452469","html_url":"https://github.com/apache/airflow/pull/2683#issuecomment-382452469","issue_url":"https://api.github.com/repos/apache/airflow/issues/2683","id":382452469,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQ1MjQ2OQ==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T16:44:38Z","updated_at":"2018-04-18T16:44:38Z","author_association":"CONTRIBUTOR","body":"LGTM, thank you!","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382452469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382500587","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382500587","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382500587,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUwMDU4Nw==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T19:23:07Z","updated_at":"2018-04-18T19:23:07Z","author_association":"CONTRIBUTOR","body":"Ok I've been able to do piecemeal rebases on this branch https://github.com/bloomberg/airflow/tree/piecemeal-kubernetes-rebase. I'm up to https://github.com/apache/incubator-airflow/commit/d1f94fe20ea47f18f353ed47a07bc589a4a9c063 with no issues. This should make identifying the issue much easier.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382500587/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382508129","html_url":"https://github.com/apache/airflow/pull/3240#issuecomment-382508129","issue_url":"https://api.github.com/repos/apache/airflow/issues/3240","id":382508129,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUwODEyOQ==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T19:51:19Z","updated_at":"2018-04-18T19:51:19Z","author_association":"CONTRIBUTOR","body":"Sounds reasonable in the short term. But for 2.0, this should either be flipped to True or, the webserver will be RBAC only. ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382508129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382509421","html_url":"https://github.com/apache/airflow/pull/3240#issuecomment-382509421","issue_url":"https://api.github.com/repos/apache/airflow/issues/3240","id":382509421,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUwOTQyMQ==","user":{"login":"jgao54","id":17896160,"node_id":"MDQ6VXNlcjE3ODk2MTYw","avatar_url":"https://avatars.githubusercontent.com/u/17896160?v=4","gravatar_id":"","url":"https://api.github.com/users/jgao54","html_url":"https://github.com/jgao54","followers_url":"https://api.github.com/users/jgao54/followers","following_url":"https://api.github.com/users/jgao54/following{/other_user}","gists_url":"https://api.github.com/users/jgao54/gists{/gist_id}","starred_url":"https://api.github.com/users/jgao54/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgao54/subscriptions","organizations_url":"https://api.github.com/users/jgao54/orgs","repos_url":"https://api.github.com/users/jgao54/repos","events_url":"https://api.github.com/users/jgao54/events{/privacy}","received_events_url":"https://api.github.com/users/jgao54/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T19:55:48Z","updated_at":"2018-04-18T19:55:48Z","author_association":"NONE","body":"+1, for 2.0 we'll want to flip it to True and deprecate old UI.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382509421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382511124","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382511124","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382511124,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUxMTEyNA==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:02:02Z","updated_at":"2018-04-18T20:02:02Z","author_association":"CONTRIBUTOR","body":"Okay progress! Got it down to within this set of commits https://github.com/apache/incubator-airflow/compare/d1f94fe20ea47f18f353ed47a07bc589a4a9c063...3beb9bcb51f66e8a3db56f4712e2a846568bedef","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382511124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382513818","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382513818","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382513818,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUxMzgxOA==","user":{"login":"lsowen","id":1014577,"node_id":"MDQ6VXNlcjEwMTQ1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/1014577?v=4","gravatar_id":"","url":"https://api.github.com/users/lsowen","html_url":"https://github.com/lsowen","followers_url":"https://api.github.com/users/lsowen/followers","following_url":"https://api.github.com/users/lsowen/following{/other_user}","gists_url":"https://api.github.com/users/lsowen/gists{/gist_id}","starred_url":"https://api.github.com/users/lsowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lsowen/subscriptions","organizations_url":"https://api.github.com/users/lsowen/orgs","repos_url":"https://api.github.com/users/lsowen/repos","events_url":"https://api.github.com/users/lsowen/events{/privacy}","received_events_url":"https://api.github.com/users/lsowen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:11:42Z","updated_at":"2018-04-18T20:13:14Z","author_association":"NONE","body":"Could it be the introduction of `min_file_parsing_loop_time = 1`?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382513818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382514141","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382514141","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382514141,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUxNDE0MQ==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:12:53Z","updated_at":"2018-04-18T20:12:53Z","author_association":"CONTRIBUTOR","body":"Down to 31 commits https://github.com/apache/incubator-airflow/compare/3ece6f6dcb6ab14249c493c3b1a16ce1c848c29a...master\r\n\r\nI'm a bit suspicious this commit might be the culprit so I'm gonna do just this one and see what happens https://github.com/apache/incubator-airflow/commit/3c4f1fd9e668a71531ec07d1e7bd60523cb31d32","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382514141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382514516","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382514516","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382514516,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUxNDUxNg==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:14:08Z","updated_at":"2018-04-18T20:14:08Z","author_association":"CONTRIBUTOR","body":"@lsowen I think it has something to do with that. I'm gonna merge just that commit and then see if I can play with the configs to get it to work right.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382514516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382515462","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382515462","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382515462,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUxNTQ2Mg==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:17:29Z","updated_at":"2018-04-18T20:17:29Z","author_association":"CONTRIBUTOR","body":"Ok! So it's definitely that commit :). Now to fix this and then we'll just have some clean up left :).","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382515462/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382524711","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382524711","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382524711,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUyNDcxMQ==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:49:43Z","updated_at":"2018-04-18T20:49:43Z","author_association":"CONTRIBUTOR","body":"@Fokko @bolkedebruin So, dumb question but... How often is the executor supposed to heartbeat?\r\n\r\nWhen I look at this [for loop](https://github.com/apache/incubator-airflow/blob/master/airflow/jobs.py#L1685), it seems as if it heartbeats as fast as it can which is causing the massive spike in logging. What might have been the case is that the constant DAG parsing might have been slowing down the execution of the heartbeats.\r\n\r\nI can set the log lines that are problematic to debug, but I want to be certain I'm not covering up another issue.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382524711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382545942","html_url":"https://github.com/apache/airflow/pull/3233#issuecomment-382545942","issue_url":"https://api.github.com/repos/apache/airflow/issues/3233","id":382545942,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjU0NTk0Mg==","user":{"login":"berislavlopac","id":754090,"node_id":"MDQ6VXNlcjc1NDA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/754090?v=4","gravatar_id":"","url":"https://api.github.com/users/berislavlopac","html_url":"https://github.com/berislavlopac","followers_url":"https://api.github.com/users/berislavlopac/followers","following_url":"https://api.github.com/users/berislavlopac/following{/other_user}","gists_url":"https://api.github.com/users/berislavlopac/gists{/gist_id}","starred_url":"https://api.github.com/users/berislavlopac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berislavlopac/subscriptions","organizations_url":"https://api.github.com/users/berislavlopac/orgs","repos_url":"https://api.github.com/users/berislavlopac/repos","events_url":"https://api.github.com/users/berislavlopac/events{/privacy}","received_events_url":"https://api.github.com/users/berislavlopac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T22:13:27Z","updated_at":"2018-04-18T22:13:27Z","author_association":"CONTRIBUTOR","body":"Tests added.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382545942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382546186","html_url":"https://github.com/apache/airflow/pull/3165#issuecomment-382546186","issue_url":"https://api.github.com/repos/apache/airflow/issues/3165","id":382546186,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjU0NjE4Ng==","user":{"login":"jgao54","id":17896160,"node_id":"MDQ6VXNlcjE3ODk2MTYw","avatar_url":"https://avatars.githubusercontent.com/u/17896160?v=4","gravatar_id":"","url":"https://api.github.com/users/jgao54","html_url":"https://github.com/jgao54","followers_url":"https://api.github.com/users/jgao54/followers","following_url":"https://api.github.com/users/jgao54/following{/other_user}","gists_url":"https://api.github.com/users/jgao54/gists{/gist_id}","starred_url":"https://api.github.com/users/jgao54/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgao54/subscriptions","organizations_url":"https://api.github.com/users/jgao54/orgs","repos_url":"https://api.github.com/users/jgao54/repos","events_url":"https://api.github.com/users/jgao54/events{/privacy}","received_events_url":"https://api.github.com/users/jgao54/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T22:14:35Z","updated_at":"2018-04-18T22:14:35Z","author_association":"NONE","body":"Thank you for fixing this @Fokko! I was hitting the same issue today before catching up to the latest master with your commit :) ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382546186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382664150","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382664150","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382664150,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjY2NDE1MA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T09:04:15Z","updated_at":"2018-04-19T09:04:15Z","author_association":"CONTRIBUTOR","body":"First of all, you guys did a very nice job. It was very easy to get everything running.\r\n\r\nRegarding the heartbeat stuff, please check https://github.com/bloomberg/airflow/pull/51. I have one second intervals for the heartbeat.\r\n\r\nI got everything up and running. How do you guys handle the logs? Because the container exits after the job, the logs are lost. We could do something with persistent volumes in Kubernetes, or write everything to a bucket directly.\r\n\r\nCheers","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382664150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382696235","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-382696235","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":382696235,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjY5NjIzNQ==","user":{"login":"berislavlopac","id":754090,"node_id":"MDQ6VXNlcjc1NDA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/754090?v=4","gravatar_id":"","url":"https://api.github.com/users/berislavlopac","html_url":"https://github.com/berislavlopac","followers_url":"https://api.github.com/users/berislavlopac/followers","following_url":"https://api.github.com/users/berislavlopac/following{/other_user}","gists_url":"https://api.github.com/users/berislavlopac/gists{/gist_id}","starred_url":"https://api.github.com/users/berislavlopac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berislavlopac/subscriptions","organizations_url":"https://api.github.com/users/berislavlopac/orgs","repos_url":"https://api.github.com/users/berislavlopac/repos","events_url":"https://api.github.com/users/berislavlopac/events{/privacy}","received_events_url":"https://api.github.com/users/berislavlopac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T11:07:38Z","updated_at":"2018-04-19T11:07:38Z","author_association":"CONTRIBUTOR","body":"@kaxil The #3233 has been merged, I guess we can look into this one now?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382696235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382748957","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-382748957","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":382748957,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc0ODk1Nw==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T14:05:29Z","updated_at":"2018-04-19T14:05:29Z","author_association":"MEMBER","body":"Surely.\r\n\r\nCan you however fix the comments in integration.rst for `GoogleCloudStorageToGoogleCloudStorageOperator` ?\r\n\r\nThe one that says:\r\n```\r\n- :ref:`GoogleCloudStorageToGoogleCloudStorageOperator` : Copies a single object from a bucket to another, with renaming if requested.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382748957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382755790","html_url":"https://github.com/apache/airflow/pull/3232#issuecomment-382755790","issue_url":"https://api.github.com/repos/apache/airflow/issues/3232","id":382755790,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc1NTc5MA==","user":{"login":"berislavlopac","id":754090,"node_id":"MDQ6VXNlcjc1NDA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/754090?v=4","gravatar_id":"","url":"https://api.github.com/users/berislavlopac","html_url":"https://github.com/berislavlopac","followers_url":"https://api.github.com/users/berislavlopac/followers","following_url":"https://api.github.com/users/berislavlopac/following{/other_user}","gists_url":"https://api.github.com/users/berislavlopac/gists{/gist_id}","starred_url":"https://api.github.com/users/berislavlopac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berislavlopac/subscriptions","organizations_url":"https://api.github.com/users/berislavlopac/orgs","repos_url":"https://api.github.com/users/berislavlopac/repos","events_url":"https://api.github.com/users/berislavlopac/events{/privacy}","received_events_url":"https://api.github.com/users/berislavlopac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T14:22:50Z","updated_at":"2018-04-19T14:22:50Z","author_association":"CONTRIBUTOR","body":"Ah yes, I missed that when doing the other PR. Updated now.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382755790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382761037","html_url":"https://github.com/apache/airflow/pull/2932#issuecomment-382761037","issue_url":"https://api.github.com/repos/apache/airflow/issues/2932","id":382761037,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc2MTAzNw==","user":{"login":"diraol","id":192702,"node_id":"MDQ6VXNlcjE5MjcwMg==","avatar_url":"https://avatars.githubusercontent.com/u/192702?v=4","gravatar_id":"","url":"https://api.github.com/users/diraol","html_url":"https://github.com/diraol","followers_url":"https://api.github.com/users/diraol/followers","following_url":"https://api.github.com/users/diraol/following{/other_user}","gists_url":"https://api.github.com/users/diraol/gists{/gist_id}","starred_url":"https://api.github.com/users/diraol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diraol/subscriptions","organizations_url":"https://api.github.com/users/diraol/orgs","repos_url":"https://api.github.com/users/diraol/repos","events_url":"https://api.github.com/users/diraol/events{/privacy}","received_events_url":"https://api.github.com/users/diraol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T14:37:42Z","updated_at":"2018-04-19T14:37:42Z","author_association":"CONTRIBUTOR","body":"Hi @andrewmchen \r\n\r\nThe goal was to ease the development of new Operators indeed. Actually, these changes were made while developing a new Operator (RunNow), but instead of putting everything on the same Issue/PR I thought it was better to split it into two PRs. This is the first one, and there is another that I am holding (waiting for the result of this one).\r\nHere is my branch with the new operator:\r\n\r\nhttps://github.com/diraol/incubator-airflow/commits/fix1998-NewOperator\r\n\r\nIf one have suggestions on how to make it better, I'm open to that.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382761037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382765228","html_url":"https://github.com/apache/airflow/pull/3015#issuecomment-382765228","issue_url":"https://api.github.com/repos/apache/airflow/issues/3015","id":382765228,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc2NTIyOA==","user":{"login":"gauthiermartin","id":7561038,"node_id":"MDQ6VXNlcjc1NjEwMzg=","avatar_url":"https://avatars.githubusercontent.com/u/7561038?v=4","gravatar_id":"","url":"https://api.github.com/users/gauthiermartin","html_url":"https://github.com/gauthiermartin","followers_url":"https://api.github.com/users/gauthiermartin/followers","following_url":"https://api.github.com/users/gauthiermartin/following{/other_user}","gists_url":"https://api.github.com/users/gauthiermartin/gists{/gist_id}","starred_url":"https://api.github.com/users/gauthiermartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gauthiermartin/subscriptions","organizations_url":"https://api.github.com/users/gauthiermartin/orgs","repos_url":"https://api.github.com/users/gauthiermartin/repos","events_url":"https://api.github.com/users/gauthiermartin/events{/privacy}","received_events_url":"https://api.github.com/users/gauthiermartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T14:49:59Z","updated_at":"2018-04-19T14:49:59Z","author_association":"CONTRIBUTOR","body":"@jgao54 Thank you ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382765228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382776040","html_url":"https://github.com/apache/airflow/pull/2806#issuecomment-382776040","issue_url":"https://api.github.com/repos/apache/airflow/issues/2806","id":382776040,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc3NjA0MA==","user":{"login":"cloneluke","id":6568361,"node_id":"MDQ6VXNlcjY1NjgzNjE=","avatar_url":"https://avatars.githubusercontent.com/u/6568361?v=4","gravatar_id":"","url":"https://api.github.com/users/cloneluke","html_url":"https://github.com/cloneluke","followers_url":"https://api.github.com/users/cloneluke/followers","following_url":"https://api.github.com/users/cloneluke/following{/other_user}","gists_url":"https://api.github.com/users/cloneluke/gists{/gist_id}","starred_url":"https://api.github.com/users/cloneluke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloneluke/subscriptions","organizations_url":"https://api.github.com/users/cloneluke/orgs","repos_url":"https://api.github.com/users/cloneluke/repos","events_url":"https://api.github.com/users/cloneluke/events{/privacy}","received_events_url":"https://api.github.com/users/cloneluke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T15:20:08Z","updated_at":"2018-04-19T15:20:08Z","author_association":"CONTRIBUTOR","body":"@tedmiston - when do you plan on removing this pin?\r\ncelery 4.2 is in RC2\r\nhttps://github.com/celery/celery/releases  @bolkedebruin  @Fokko ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382776040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382792101","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382792101","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382792101,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc5MjEwMQ==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T16:07:26Z","updated_at":"2018-04-19T16:07:26Z","author_association":"CONTRIBUTOR","body":"Hi @Fokko, \r\n\r\nThank you :). I'm glad to hear the set up was easy.\r\n\r\nCould you please try rebasing your branch to https://github.com/apache/incubator-airflow/commit/3c4f1fd9e668a71531ec07d1e7bd60523cb31d32 and seeing if it still works? I think that's where the issue happens. When I take this branch and rebase to that branch I get \r\n\r\n```\r\n[2018-04-19 15:59:39,716] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,716] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,718] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,719] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,720] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,721] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,723] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,723] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,725] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,726] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,728] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,729] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,730] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,731] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,733] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,733] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,735] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,736] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,738] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,738] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,741] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,741] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,744] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,744] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,746] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,746] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,748] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n[2018-04-19 15:59:39,749] {jobs.py:1687} DEBUG - Heartbeating the executor\r\n[2018-04-19 15:59:39,751] {jobs.py:1652} DEBUG - Heartbeating the process manager\r\n```\r\n\r\nHere is the config I'm submitting to the job\r\n```\r\ndata:\r\n  airflow.cfg: |\r\n    [core]\r\n    airflow_home = /root/airflow\r\n    dags_folder = /root/airflow/dags\r\n    base_log_folder = /root/airflow/logs\r\n    logging_level = DEBUG\r\n    executor = KubernetesExecutor\r\n    parallelism = 32\r\n    plugins_folder = /root/airflow/plugins\r\n    sql_alchemy_conn = $SQL_ALCHEMY_CONN\r\n\r\n    [scheduler]\r\n    dag_dir_list_interval = 300\r\n    child_process_log_directory = /root/airflow/logs/scheduler\r\n    min_file_parsing_loop_time = 1\r\n    min_file_process_interval = 1\r\n\r\n    [kubernetes]\r\n    airflow_configmap = airflow-configmap\r\n    worker_container_repository = {{docker_image}}\r\n    worker_container_tag = {{docker_tag}}\r\n    delete_worker_pods = True\r\n    git_repo = https://github.com/grantnicholas/testdags.git\r\n    git_branch = master\r\n    dags_volume_claim = airflow-dags\r\n\r\n    [kubernetes_secrets]\r\n    SQL_ALCHEMY_CONN = airflow-secrets=sql_alchemy_conn\r\n```\r\n\r\nWRT logging, I'd recommend using a fluentd daemonset. The standard logging method in k8s is to use fluentd to log all container logs and then aggregate in something like an ELK stack.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382792101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382794652","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382794652","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382794652,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc5NDY1Mg==","user":{"login":"gtaylor","id":75556,"node_id":"MDQ6VXNlcjc1NTU2","avatar_url":"https://avatars.githubusercontent.com/u/75556?v=4","gravatar_id":"","url":"https://api.github.com/users/gtaylor","html_url":"https://github.com/gtaylor","followers_url":"https://api.github.com/users/gtaylor/followers","following_url":"https://api.github.com/users/gtaylor/following{/other_user}","gists_url":"https://api.github.com/users/gtaylor/gists{/gist_id}","starred_url":"https://api.github.com/users/gtaylor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtaylor/subscriptions","organizations_url":"https://api.github.com/users/gtaylor/orgs","repos_url":"https://api.github.com/users/gtaylor/repos","events_url":"https://api.github.com/users/gtaylor/events{/privacy}","received_events_url":"https://api.github.com/users/gtaylor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T16:15:25Z","updated_at":"2018-04-19T16:15:25Z","author_association":"NONE","body":"Re: logging, I'm working on a CI runtime that has some similar characteristics. I mount a shared emptyDir volume for sharing the logs with a sidecar container. You _could_ also have the sidecar tail through the API and tail that way, but that's more more load on your Kubernetes master.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382794652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382798686","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382798686","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382798686,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc5ODY4Ng==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T16:28:35Z","updated_at":"2018-04-19T16:28:35Z","author_association":"CONTRIBUTOR","body":"@Fokko I just emailed @aeon and he said he'd be fine reverting https://github.com/apache/incubator-airflow/commit/3c4f1fd9e668a71531ec07d1e7bd60523cb31d32 if it's blocking the PR.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382798686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382809591","html_url":"https://github.com/apache/airflow/pull/3197#issuecomment-382809591","issue_url":"https://api.github.com/repos/apache/airflow/issues/3197","id":382809591,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgwOTU5MQ==","user":{"login":"gsilk","id":732858,"node_id":"MDQ6VXNlcjczMjg1OA==","avatar_url":"https://avatars.githubusercontent.com/u/732858?v=4","gravatar_id":"","url":"https://api.github.com/users/gsilk","html_url":"https://github.com/gsilk","followers_url":"https://api.github.com/users/gsilk/followers","following_url":"https://api.github.com/users/gsilk/following{/other_user}","gists_url":"https://api.github.com/users/gsilk/gists{/gist_id}","starred_url":"https://api.github.com/users/gsilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsilk/subscriptions","organizations_url":"https://api.github.com/users/gsilk/orgs","repos_url":"https://api.github.com/users/gsilk/repos","events_url":"https://api.github.com/users/gsilk/events{/privacy}","received_events_url":"https://api.github.com/users/gsilk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T17:03:34Z","updated_at":"2018-04-19T17:04:02Z","author_association":"NONE","body":"Here's an idea -- what if DAGs were namespaced, and you could grant permissions using glob patterns. Examples:\r\n\r\nread_dag: *\r\nread_dag: product_analytics.*\r\nread_dag: procuct_analytics.tableau_daily_job\r\n\r\nThese map well to the administrator, team access, and one-off use cases respectively.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382809591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382820981","html_url":"https://github.com/apache/airflow/pull/3241#issuecomment-382820981","issue_url":"https://api.github.com/repos/apache/airflow/issues/3241","id":382820981,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgyMDk4MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T17:40:33Z","updated_at":"2018-04-19T17:40:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3241?src=pr&el=h1) Report\n> Merging [#3241](https://codecov.io/gh/apache/incubator-airflow/pull/3241?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-airflow/commit/17d3d1d9dc87c0bbb03de049607c2ad76a4fd747?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-airflow/pull/3241/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/incubator-airflow/pull/3241?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3241      +/-   ##\n==========================================\n- Coverage   75.28%   75.27%   -0.01%     \n==========================================\n  Files         196      196              \n  Lines       14608    14608              \n==========================================\n- Hits        10997    10996       -1     \n- Misses       3611     3612       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-airflow/pull/3241?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [airflow/models.py](https://codecov.io/gh/apache/incubator-airflow/pull/3241/diff?src=pr&el=tree#diff-YWlyZmxvdy9tb2RlbHMucHk=) | `87.03% <0%> (-0.05%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3241?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3241?src=pr&el=footer). Last update [17d3d1d...d26418f](https://codecov.io/gh/apache/incubator-airflow/pull/3241?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382820981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382822718","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382822718","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382822718,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgyMjcxOA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T17:46:08Z","updated_at":"2018-04-19T17:46:08Z","author_association":"CONTRIBUTOR","body":"@dimberman I'm not fully convinced if that commit is the problem since I'm not able to replicate the issue. It would help if you rebase against master so we know we're up to date. Postponing the rebase will only make it more difficult/painful.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382822718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382823750","html_url":"https://github.com/apache/airflow/pull/3197#issuecomment-382823750","issue_url":"https://api.github.com/repos/apache/airflow/issues/3197","id":382823750,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgyMzc1MA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T17:49:31Z","updated_at":"2018-04-19T17:49:31Z","author_association":"MEMBER","body":"It's planned already to have a perm to read all DAGs and another to write on all DAGs. We're thinking that many environment will have \"read all dags\" as part of their lower level of access.\r\n\r\nDAGs are not namespaced at the moment and namespacing DAGs is out of scope for this PR/feature. If/when namespacing/tagging is introduced, related perms and logic can be created.\r\n\r\nDAG number in organizations is usually in the 10s or hundreds, larger environments are probably low thousands. Technically this is not an issue for the perm-related models.\r\n\r\nIf we want to enable per-DAG access, we need to create a set of permissions per DAG, there's just no way around it.\r\n\r\nIt's also possible to generate roles programmatically if you wanted to have regex or a rule based approach.\r\n\r\nWe could, though I don't think it's necessary yet, allow the creation of special regex-DAG-perms.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382823750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382830740","html_url":"https://github.com/apache/airflow/pull/3240#issuecomment-382830740","issue_url":"https://api.github.com/repos/apache/airflow/issues/3240","id":382830740,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgzMDc0MA==","user":{"login":"wrp","id":41831,"node_id":"MDQ6VXNlcjQxODMx","avatar_url":"https://avatars.githubusercontent.com/u/41831?v=4","gravatar_id":"","url":"https://api.github.com/users/wrp","html_url":"https://github.com/wrp","followers_url":"https://api.github.com/users/wrp/followers","following_url":"https://api.github.com/users/wrp/following{/other_user}","gists_url":"https://api.github.com/users/wrp/gists{/gist_id}","starred_url":"https://api.github.com/users/wrp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wrp/subscriptions","organizations_url":"https://api.github.com/users/wrp/orgs","repos_url":"https://api.github.com/users/wrp/repos","events_url":"https://api.github.com/users/wrp/events{/privacy}","received_events_url":"https://api.github.com/users/wrp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:11:56Z","updated_at":"2018-04-19T18:11:56Z","author_association":"CONTRIBUTOR","body":"I don't really understand this test failure.  The branch passes in my own travis: https://travis-ci.org/wrp/incubator-airflow/builds/368726950","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382830740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382832565","html_url":"https://github.com/apache/airflow/pull/3240#issuecomment-382832565","issue_url":"https://api.github.com/repos/apache/airflow/issues/3240","id":382832565,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgzMjU2NQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:17:54Z","updated_at":"2018-04-19T18:17:54Z","author_association":"CONTRIBUTOR","body":"@wrp This is a well known flakey test that we still need to fix:\r\n```\r\n======================================================================\r\n20) ERROR: test_authorized (tests.www.api.experimental.test_password_endpoints.ApiPasswordTests)\r\n----------------------------------------------------------------------\r\n```\r\nThis is a race-condition. So you can retrigger travis by closing/opening the PR.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382832565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382835037","html_url":"https://github.com/apache/airflow/pull/3197#issuecomment-382835037","issue_url":"https://api.github.com/repos/apache/airflow/issues/3197","id":382835037,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgzNTAzNw==","user":{"login":"gsilk","id":732858,"node_id":"MDQ6VXNlcjczMjg1OA==","avatar_url":"https://avatars.githubusercontent.com/u/732858?v=4","gravatar_id":"","url":"https://api.github.com/users/gsilk","html_url":"https://github.com/gsilk","followers_url":"https://api.github.com/users/gsilk/followers","following_url":"https://api.github.com/users/gsilk/following{/other_user}","gists_url":"https://api.github.com/users/gsilk/gists{/gist_id}","starred_url":"https://api.github.com/users/gsilk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsilk/subscriptions","organizations_url":"https://api.github.com/users/gsilk/orgs","repos_url":"https://api.github.com/users/gsilk/repos","events_url":"https://api.github.com/users/gsilk/events{/privacy}","received_events_url":"https://api.github.com/users/gsilk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:26:01Z","updated_at":"2018-04-19T18:26:01Z","author_association":"NONE","body":"Got it, I missed the \"all_dags\" keyword on my first read through.\r\n\r\nI'm still wondering what the workflow would look like for a regular user who doesn't have read/write on all_dags -- after creating a DAG, would they have to ask the admin to give them permissions on it?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382835037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382835581","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382835581","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382835581,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgzNTU4MQ==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:27:47Z","updated_at":"2018-04-19T18:27:47Z","author_association":"CONTRIBUTOR","body":"@Fokko @bolkedebruin  I've moved the previously working kubernetes branch to https://github.com/bloomberg/airflow/tree/airflow-kubernetes-executor-pre-rebase and did a full rebase to match up to master. I'll spend the rest of today trying to fix the bugs.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382835581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382838041","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382838041","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382838041,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgzODA0MQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:35:59Z","updated_at":"2018-04-19T18:35:59Z","author_association":"CONTRIBUTOR","body":"Thanks @dimberman, I'll continue debugging tomorrow. Cheers!","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382838041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382856395","html_url":"https://github.com/apache/airflow/pull/3226#issuecomment-382856395","issue_url":"https://api.github.com/repos/apache/airflow/issues/3226","id":382856395,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg1NjM5NQ==","user":{"login":"sekikn","id":898388,"node_id":"MDQ6VXNlcjg5ODM4OA==","avatar_url":"https://avatars.githubusercontent.com/u/898388?v=4","gravatar_id":"","url":"https://api.github.com/users/sekikn","html_url":"https://github.com/sekikn","followers_url":"https://api.github.com/users/sekikn/followers","following_url":"https://api.github.com/users/sekikn/following{/other_user}","gists_url":"https://api.github.com/users/sekikn/gists{/gist_id}","starred_url":"https://api.github.com/users/sekikn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sekikn/subscriptions","organizations_url":"https://api.github.com/users/sekikn/orgs","repos_url":"https://api.github.com/users/sekikn/repos","events_url":"https://api.github.com/users/sekikn/events{/privacy}","received_events_url":"https://api.github.com/users/sekikn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T19:38:42Z","updated_at":"2018-04-19T19:38:42Z","author_association":"CONTRIBUTOR","body":"Ping @Fokko ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382856395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382890651","html_url":"https://github.com/apache/airflow/pull/3240#issuecomment-382890651","issue_url":"https://api.github.com/repos/apache/airflow/issues/3240","id":382890651,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg5MDY1MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T21:45:41Z","updated_at":"2018-04-19T21:45:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3240?src=pr&el=h1) Report\n> Merging [#3240](https://codecov.io/gh/apache/incubator-airflow/pull/3240?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-airflow/commit/17d3d1d9dc87c0bbb03de049607c2ad76a4fd747?src=pr&el=desc) will **not change** coverage.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-airflow/pull/3240/graphs/tree.svg?height=150&src=pr&token=WdLKlKHOAU&width=650)](https://codecov.io/gh/apache/incubator-airflow/pull/3240?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff           @@\n##           master    #3240   +/-   ##\n=======================================\n  Coverage   75.28%   75.28%           \n=======================================\n  Files         196      196           \n  Lines       14608    14608           \n=======================================\n  Hits        10997    10997           \n  Misses       3611     3611\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-airflow/pull/3240?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [airflow/utils/db.py](https://codecov.io/gh/apache/incubator-airflow/pull/3240/diff?src=pr&el=tree#diff-YWlyZmxvdy91dGlscy9kYi5weQ==) | `34.42% <100%> (Ã¸)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3240?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-airflow/pull/3240?src=pr&el=footer). Last update [17d3d1d...3f9e2b5](https://codecov.io/gh/apache/incubator-airflow/pull/3240?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382890651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382910235","html_url":"https://github.com/apache/airflow/pull/2414#issuecomment-382910235","issue_url":"https://api.github.com/repos/apache/airflow/issues/2414","id":382910235,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjkxMDIzNQ==","user":{"login":"dimberman","id":2644098,"node_id":"MDQ6VXNlcjI2NDQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/2644098?v=4","gravatar_id":"","url":"https://api.github.com/users/dimberman","html_url":"https://github.com/dimberman","followers_url":"https://api.github.com/users/dimberman/followers","following_url":"https://api.github.com/users/dimberman/following{/other_user}","gists_url":"https://api.github.com/users/dimberman/gists{/gist_id}","starred_url":"https://api.github.com/users/dimberman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimberman/subscriptions","organizations_url":"https://api.github.com/users/dimberman/orgs","repos_url":"https://api.github.com/users/dimberman/repos","events_url":"https://api.github.com/users/dimberman/events{/privacy}","received_events_url":"https://api.github.com/users/dimberman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T23:20:30Z","updated_at":"2018-04-19T23:22:57Z","author_association":"CONTRIBUTOR","body":"@Fokko So I found out why the executor is being non-stop run with the rebase. Basically it has to do with the fact that now instead of always blocking the jobs loop, we only block if the file path queue is empty: [seen here](https://github.com/apache/incubator-airflow/commit/3c4f1fd9e668a71531ec07d1e7bd60523cb31d32#diff-ced4fd65ce02db58eed692eef6e01d05R504) and [here](https://github.com/apache/incubator-airflow/commit/3c4f1fd9e668a71531ec07d1e7bd60523cb31d32#diff-ced4fd65ce02db58eed692eef6e01d05R524)\r\n\r\nFor some reason, the k8s executor's file path queue is never empty, meaning that the for loop never pauses. I'll continue investigating but I want to pass on whatever I find since our time zones are a bit asynchronous :). \r\n\r\n```[2018-04-19 23:16:34,398] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,401] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,404] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,408] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,411] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,414] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,417] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,421] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,425] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,428] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,432] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,435] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,438] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n[2018-04-19 23:16:34,442] {dag_processing.py:509} INFO - xxx: file path queue [u'/root/airflow/dags/example_xcom.py', u'/root/airflow/dags/example_skip_dag.py', u'/root/airflow/dags/subdags/subdag.py']\r\n```","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/382910235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]