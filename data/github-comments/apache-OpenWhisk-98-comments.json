[{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330963244","html_url":"https://github.com/apache/openwhisk/pull/2462#issuecomment-330963244","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2462","id":330963244,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk2MzI0NA==","user":{"login":"jessealva","id":7730456,"node_id":"MDQ6VXNlcjc3MzA0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/7730456?v=4","gravatar_id":"","url":"https://api.github.com/users/jessealva","html_url":"https://github.com/jessealva","followers_url":"https://api.github.com/users/jessealva/followers","following_url":"https://api.github.com/users/jessealva/following{/other_user}","gists_url":"https://api.github.com/users/jessealva/gists{/gist_id}","starred_url":"https://api.github.com/users/jessealva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jessealva/subscriptions","organizations_url":"https://api.github.com/users/jessealva/orgs","repos_url":"https://api.github.com/users/jessealva/repos","events_url":"https://api.github.com/users/jessealva/events{/privacy}","received_events_url":"https://api.github.com/users/jessealva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T19:58:00Z","updated_at":"2017-09-20T19:58:00Z","author_association":"CONTRIBUTOR","body":"PG2, 2095 @mdeuser ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330963244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330964016","html_url":"https://github.com/apache/openwhisk/pull/2531#issuecomment-330964016","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2531","id":330964016,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk2NDAxNg==","user":{"login":"tysonnorris","id":1638396,"node_id":"MDQ6VXNlcjE2MzgzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/1638396?v=4","gravatar_id":"","url":"https://api.github.com/users/tysonnorris","html_url":"https://github.com/tysonnorris","followers_url":"https://api.github.com/users/tysonnorris/followers","following_url":"https://api.github.com/users/tysonnorris/following{/other_user}","gists_url":"https://api.github.com/users/tysonnorris/gists{/gist_id}","starred_url":"https://api.github.com/users/tysonnorris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tysonnorris/subscriptions","organizations_url":"https://api.github.com/users/tysonnorris/orgs","repos_url":"https://api.github.com/users/tysonnorris/repos","events_url":"https://api.github.com/users/tysonnorris/events{/privacy}","received_events_url":"https://api.github.com/users/tysonnorris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T20:01:09Z","updated_at":"2017-09-20T20:01:09Z","author_association":"CONTRIBUTOR","body":"@vvraskin I think the worst case scenario is that the node crashes and does not unregister itself ever. This is the point I think Dragos is getting at. If the split brain cluster is a tolerable state as you mention, then maybe it would be good for a) unreachable nodes to be downed and b) later extend this so that downing logic can be extensible (where some external systems may be better equipped to determine the distinction between crash and partition). \r\n\r\nHowever, the risks involved with running in this split mode (e.g. controllers lose contact and do not share state) should be clearly documented (e.g. what is the impact to invoker routing logic? is there any point of recovery possible, etc)","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330964016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330967763","html_url":"https://github.com/apache/openwhisk/pull/2668#issuecomment-330967763","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2668","id":330967763,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk2Nzc2Mw==","user":{"login":"tysonnorris","id":1638396,"node_id":"MDQ6VXNlcjE2MzgzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/1638396?v=4","gravatar_id":"","url":"https://api.github.com/users/tysonnorris","html_url":"https://github.com/tysonnorris","followers_url":"https://api.github.com/users/tysonnorris/followers","following_url":"https://api.github.com/users/tysonnorris/following{/other_user}","gists_url":"https://api.github.com/users/tysonnorris/gists{/gist_id}","starred_url":"https://api.github.com/users/tysonnorris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tysonnorris/subscriptions","organizations_url":"https://api.github.com/users/tysonnorris/orgs","repos_url":"https://api.github.com/users/tysonnorris/repos","events_url":"https://api.github.com/users/tysonnorris/events{/privacy}","received_events_url":"https://api.github.com/users/tysonnorris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T20:15:26Z","updated_at":"2017-09-20T20:15:26Z","author_association":"CONTRIBUTOR","body":"Closing this based on some feedback from @markusthoemmes; will revisit similar functionality in the future","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330967763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330968734","html_url":"https://github.com/apache/openwhisk/pull/2695#issuecomment-330968734","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2695","id":330968734,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk2ODczNA==","user":{"login":"tysonnorris","id":1638396,"node_id":"MDQ6VXNlcjE2MzgzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/1638396?v=4","gravatar_id":"","url":"https://api.github.com/users/tysonnorris","html_url":"https://github.com/tysonnorris","followers_url":"https://api.github.com/users/tysonnorris/followers","following_url":"https://api.github.com/users/tysonnorris/following{/other_user}","gists_url":"https://api.github.com/users/tysonnorris/gists{/gist_id}","starred_url":"https://api.github.com/users/tysonnorris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tysonnorris/subscriptions","organizations_url":"https://api.github.com/users/tysonnorris/orgs","repos_url":"https://api.github.com/users/tysonnorris/repos","events_url":"https://api.github.com/users/tysonnorris/events{/privacy}","received_events_url":"https://api.github.com/users/tysonnorris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T20:19:16Z","updated_at":"2017-09-20T20:19:16Z","author_association":"CONTRIBUTOR","body":"@rabbah other than syncing with master and recent minor updates from #2695 I think its ok for review; will label WIP till #2695 is complete","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330968734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330975808","html_url":"https://github.com/apache/openwhisk/pull/2584#issuecomment-330975808","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2584","id":330975808,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk3NTgwOA==","user":{"login":"tysonnorris","id":1638396,"node_id":"MDQ6VXNlcjE2MzgzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/1638396?v=4","gravatar_id":"","url":"https://api.github.com/users/tysonnorris","html_url":"https://github.com/tysonnorris","followers_url":"https://api.github.com/users/tysonnorris/followers","following_url":"https://api.github.com/users/tysonnorris/following{/other_user}","gists_url":"https://api.github.com/users/tysonnorris/gists{/gist_id}","starred_url":"https://api.github.com/users/tysonnorris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tysonnorris/subscriptions","organizations_url":"https://api.github.com/users/tysonnorris/orgs","repos_url":"https://api.github.com/users/tysonnorris/repos","events_url":"https://api.github.com/users/tysonnorris/events{/privacy}","received_events_url":"https://api.github.com/users/tysonnorris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T20:46:34Z","updated_at":"2017-09-20T20:46:34Z","author_association":"CONTRIBUTOR","body":"closing this per discussion with @markusthoemmes; will revise and submit a new PR in the near future","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330975808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330981476","html_url":"https://github.com/apache/openwhisk/issues/2747#issuecomment-330981476","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2747","id":330981476,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk4MTQ3Ng==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T21:08:18Z","updated_at":"2017-09-20T21:08:18Z","author_association":"CONTRIBUTOR","body":"Making up my mind, using `ThreadLocalRandom` seems like a bad idea. How does implementing `ThreadLocal[SecureRandom]` sound? As our dispatcher uses a fixed number of threads, the performance hit of generating a new `SecureRandom` instance should be negligible.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330981476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330987758","html_url":"https://github.com/apache/openwhisk/pull/2462#issuecomment-330987758","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2462","id":330987758,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk4Nzc1OA==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T21:34:38Z","updated_at":"2017-09-21T16:00:31Z","author_association":"MEMBER","body":"PG2 2099 ðŸ”µ ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330987758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330988800","html_url":"https://github.com/apache/openwhisk/issues/2747#issuecomment-330988800","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2747","id":330988800,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk4ODgwMA==","user":{"login":"dgrove-oss","id":5099100,"node_id":"MDQ6VXNlcjUwOTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/5099100?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrove-oss","html_url":"https://github.com/dgrove-oss","followers_url":"https://api.github.com/users/dgrove-oss/followers","following_url":"https://api.github.com/users/dgrove-oss/following{/other_user}","gists_url":"https://api.github.com/users/dgrove-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrove-oss/subscriptions","organizations_url":"https://api.github.com/users/dgrove-oss/orgs","repos_url":"https://api.github.com/users/dgrove-oss/repos","events_url":"https://api.github.com/users/dgrove-oss/events{/privacy}","received_events_url":"https://api.github.com/users/dgrove-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T21:39:14Z","updated_at":"2017-09-20T21:39:14Z","author_association":"MEMBER","body":"Do we know if there is any synchronization around the reads from /dev/random or /dev/urandom within the guts of the SecureRandom implementation?  If there is, we might not buy that much from making ThreadLocal instances.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330988800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330991697","html_url":"https://github.com/apache/openwhisk/pull/2772#issuecomment-330991697","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2772","id":330991697,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk5MTY5Nw==","user":{"login":"GabrielNicolasAvellaneda","id":1248101,"node_id":"MDQ6VXNlcjEyNDgxMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1248101?v=4","gravatar_id":"","url":"https://api.github.com/users/GabrielNicolasAvellaneda","html_url":"https://github.com/GabrielNicolasAvellaneda","followers_url":"https://api.github.com/users/GabrielNicolasAvellaneda/followers","following_url":"https://api.github.com/users/GabrielNicolasAvellaneda/following{/other_user}","gists_url":"https://api.github.com/users/GabrielNicolasAvellaneda/gists{/gist_id}","starred_url":"https://api.github.com/users/GabrielNicolasAvellaneda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GabrielNicolasAvellaneda/subscriptions","organizations_url":"https://api.github.com/users/GabrielNicolasAvellaneda/orgs","repos_url":"https://api.github.com/users/GabrielNicolasAvellaneda/repos","events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/events{/privacy}","received_events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T21:52:28Z","updated_at":"2017-09-20T21:52:28Z","author_association":"CONTRIBUTOR","body":"@dubeejw Sure, will do it today.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330991697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330997007","html_url":"https://github.com/apache/openwhisk/pull/2482#issuecomment-330997007","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2482","id":330997007,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk5NzAwNw==","user":{"login":"keunseob","id":5687661,"node_id":"MDQ6VXNlcjU2ODc2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5687661?v=4","gravatar_id":"","url":"https://api.github.com/users/keunseob","html_url":"https://github.com/keunseob","followers_url":"https://api.github.com/users/keunseob/followers","following_url":"https://api.github.com/users/keunseob/following{/other_user}","gists_url":"https://api.github.com/users/keunseob/gists{/gist_id}","starred_url":"https://api.github.com/users/keunseob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keunseob/subscriptions","organizations_url":"https://api.github.com/users/keunseob/orgs","repos_url":"https://api.github.com/users/keunseob/repos","events_url":"https://api.github.com/users/keunseob/events{/privacy}","received_events_url":"https://api.github.com/users/keunseob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T22:19:03Z","updated_at":"2017-09-20T22:19:03Z","author_association":"CONTRIBUTOR","body":"@rabbah ok good currently I was not able to see that issue more deeply. So after close my issue and merge the proposed the issue, I will try to check it again thanks","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/330997007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331016118","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331016118","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331016118,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAxNjExOA==","user":{"login":"alexkli","id":229022,"node_id":"MDQ6VXNlcjIyOTAyMg==","avatar_url":"https://avatars.githubusercontent.com/u/229022?v=4","gravatar_id":"","url":"https://api.github.com/users/alexkli","html_url":"https://github.com/alexkli","followers_url":"https://api.github.com/users/alexkli/followers","following_url":"https://api.github.com/users/alexkli/following{/other_user}","gists_url":"https://api.github.com/users/alexkli/gists{/gist_id}","starred_url":"https://api.github.com/users/alexkli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexkli/subscriptions","organizations_url":"https://api.github.com/users/alexkli/orgs","repos_url":"https://api.github.com/users/alexkli/repos","events_url":"https://api.github.com/users/alexkli/events{/privacy}","received_events_url":"https://api.github.com/users/alexkli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T00:19:23Z","updated_at":"2017-09-21T00:19:23Z","author_association":"CONTRIBUTOR","body":"Also seeing no container reuse with Docker for Mac, with slightly different errors in the controller logs:\r\n\r\n```\r\n[2017-09-20T20:12:45.464Z] [INFO] [#sid_102] [RuncClient] running /usr/bin/docker-runc pause b9cbc7880603ae16b3178fa8f8e29d36e99415d262e0350562637cb81c677603 [marker:invoker_runc.pause_start:8052637] \r\n[2017-09-20T20:12:45.514Z] [ERROR] [#sid_102] [RuncClient] code: 1, stdout: , stderr: open /run/runc/b9cbc7880603ae16b3178fa8f8e29d36e99415d262e0350562637cb81c677603/state.json: no such file or directory [marker:invoker_runc.pause_error:8052687:50] \r\n```\r\n\r\nThere is no `docker-runc` binary on my system.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331016118/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331018449","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331018449","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331018449,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAxODQ0OQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T00:37:04Z","updated_at":"2017-09-21T00:38:25Z","author_association":"MEMBER","body":"An error in the container life cycle will dispense with it. So every activation will end up with a new container. We need to switch the setting for docker-for-mac to use docker pause/unpause instead.\r\n\r\nFYI @csantanapr @markusthoemmes ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331018449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331019176","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331019176","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331019176,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAxOTE3Ng==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T00:42:40Z","updated_at":"2017-09-21T00:42:40Z","author_association":"CONTRIBUTOR","body":"maybe `DockerContainer.scala` can be told by `InvokerReactive` if it should use `runc` or not ? IIRC there used to be a config property for `runc` ? ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331019176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331019394","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331019394","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331019394,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAxOTM5NA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T00:44:20Z","updated_at":"2017-09-21T00:45:26Z","author_association":"MEMBER","body":"We used to in fact have this setting as a deployment parameters (use-runc or not) - seems we lost it as part of invoker reactive replacing the previous invoker implementation.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331019394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331021929","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331021929","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331021929,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAyMTkyOQ==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T01:05:23Z","updated_at":"2017-09-21T01:05:23Z","author_association":"CONTRIBUTOR","body":"Or, alternatively, when a new Invoker instance starts, it can check if `runc` client is installed, and then populate the `config` with that information. In this way invokers may run in hybrid envs.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331021929/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331025732","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331025732","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331025732,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAyNTczMg==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T01:33:26Z","updated_at":"2017-09-21T01:33:33Z","author_association":"MEMBER","body":"+1, i like the self-discovery.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331025732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331028614","html_url":"https://github.com/apache/openwhisk/pull/2675#issuecomment-331028614","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2675","id":331028614,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAyODYxNA==","user":{"login":"jessealva","id":7730456,"node_id":"MDQ6VXNlcjc3MzA0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/7730456?v=4","gravatar_id":"","url":"https://api.github.com/users/jessealva","html_url":"https://github.com/jessealva","followers_url":"https://api.github.com/users/jessealva/followers","following_url":"https://api.github.com/users/jessealva/following{/other_user}","gists_url":"https://api.github.com/users/jessealva/gists{/gist_id}","starred_url":"https://api.github.com/users/jessealva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jessealva/subscriptions","organizations_url":"https://api.github.com/users/jessealva/orgs","repos_url":"https://api.github.com/users/jessealva/repos","events_url":"https://api.github.com/users/jessealva/events{/privacy}","received_events_url":"https://api.github.com/users/jessealva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T01:54:34Z","updated_at":"2017-09-21T01:54:34Z","author_association":"CONTRIBUTOR","body":"@dubeejw looks like travis passed without issue, i think its good to merge?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331028614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331033459","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331033459","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331033459,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAzMzQ1OQ==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T02:29:27Z","updated_at":"2017-09-21T02:29:27Z","author_association":"CONTRIBUTOR","body":"I was about to push a PR with this, but `/usr/bin/docker-runc` actually exists on Invoker's docker image, making _self-discovery_ tricky...","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331033459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331037617","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331037617","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331037617,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAzNzYxNw==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:02:01Z","updated_at":"2017-09-21T03:02:01Z","author_association":"MEMBER","body":"Why are their problems with docker-runc on Mac? it's because docker engine is at very latest version and docker-runc client is on old version 1.12?\r\n\r\nAlso how is determine today if it's going to use docker or docker-runc ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331037617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331038004","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331038004","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331038004,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAzODAwNA==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:05:07Z","updated_at":"2017-09-21T03:05:07Z","author_association":"CONTRIBUTOR","body":"> Why are their problems with docker-runc on Mac?\r\n\r\nDocker for Mac doesn't come with `runc` ( at least I didn't find it anywhere )\r\n\r\n> Also how is determine today if it's going to use docker or docker-runc ?\r\n\r\nRor pause/resume `runc` it's being used implicitly, and for the other operations `docker` is being used.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331038004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331038856","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331038856","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331038856,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAzODg1Ng==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:12:00Z","updated_at":"2017-09-21T03:12:00Z","author_association":"CONTRIBUTOR","body":"So far I have been testing with these changes: https://github.com/ddragosd/openwhisk/commit/9211bef3ce223f9597ac981ec46503e996f4ef6f that basically check if `docker-runc` exists.  Given that it actually exists on the Invoker image, to test it locally, I had to make sure it's deleted ðŸ˜ˆ  by updating the start command to : `command: /bin/sh -c \"rm /usr/bin/docker-runc && /invoker/bin/invoker 0 \"` ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331038856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331039466","html_url":"https://github.com/apache/openwhisk/pull/1928#issuecomment-331039466","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/1928","id":331039466,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAzOTQ2Ng==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:17:02Z","updated_at":"2017-09-21T03:17:02Z","author_association":"CONTRIBUTOR","body":"Based on the conversations in [Slack](https://openwhisk-team.slack.com/messages/C3TPCAQG1/convo/C3TPCAQG1-1505839352.000618/?thread_ts=1505839352.000618) the direction is to create an Ansible playbook containing the same logic with the gradle build.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331039466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331041092","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331041092","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331041092,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0MTA5Mg==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:30:13Z","updated_at":"2017-09-21T03:30:13Z","author_association":"CONTRIBUTOR","body":"I just realized that this doesn't happen only for Mac, but also on some Linux machines like CoreOS: \r\n\r\n```\r\n[2017-09-08T14:23:15.247Z] [ERROR] [#sid_102] [RuncClient] code: 1, stdout: , stderr: open /run/runc/89c6c3f13a181606aaeb36bb8ee1700aad2a3f1a500e1d52a64046495d739a30/state.json: no such file or directory [marker:invoker_runc.pause_error:63599:45] \r\n```\r\n\r\n```bash\r\n $ uname -a\r\nLinux ip-10-0-0-64.us-west-1.compute.internal 4.7.3-coreos-r3 #1 SMP Thu Feb 23 02:16:16 UTC 2017 x86_64 Intel(R) Xeon(R) CPU E5-2670 v2 @ 2.50GHz GenuineIntel GNU/Linux\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331041092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331041127","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331041127","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331041127,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0MTEyNw==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:30:26Z","updated_at":"2017-09-21T03:30:26Z","author_association":"MEMBER","body":"yeah the problem is that like you discovered on Mac the image will have `docker-runc` installed.\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331041127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331041219","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331041219","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331041219,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0MTIxOQ==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:31:12Z","updated_at":"2017-09-21T03:31:12Z","author_association":"MEMBER","body":"@ddragosd what's the version of docker engine on that `CoreOS` system? run `docker version`\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331041219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331041342","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331041342","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331041342,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0MTM0Mg==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:32:14Z","updated_at":"2017-09-21T03:32:24Z","author_association":"CONTRIBUTOR","body":"on CoreOS:\r\n\r\n```\r\nClient:\r\n Version:      1.12.6\r\n API version:  1.24\r\n Go version:   go1.6.3\r\n Git commit:   d5236f0\r\n Built:        Thu Feb 23 02:17:18 2017\r\n OS/Arch:      linux/amd64\r\n\r\nServer:\r\n Version:      1.12.6\r\n API version:  1.24\r\n Go version:   go1.6.3\r\n Git commit:   d5236f0\r\n Built:        Thu Feb 23 02:17:18 2017\r\n OS/Arch:      linux/amd64\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331041342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331041925","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331041925","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331041925,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0MTkyNQ==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:36:48Z","updated_at":"2017-09-21T03:36:48Z","author_association":"CONTRIBUTOR","body":"`1.12.6` seems to be the latest docker version for CoreOS as of Sept 6th, the Stable channel - https://coreos.com/releases/#1465.7.0","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331041925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331042228","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331042228","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331042228,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0MjIyOA==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:39:12Z","updated_at":"2017-09-21T03:39:12Z","author_association":"MEMBER","body":"but from inside the invoker you will get 1.12.0 \r\ndo `docker exec invoker0 docker version`\r\n\r\nbut your engine is set to `1.12.6` which should be closer to `1.12.0`","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331042228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331042451","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331042451","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331042451,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0MjQ1MQ==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:40:44Z","updated_at":"2017-09-21T03:40:44Z","author_association":"MEMBER","body":"I rebuild the invoker with latest docker client `17.06.2-ce`\r\nand on docker for Mac I get docker re-use no more docker-runc errors in the logs\r\n```\r\nðŸ”  $ docker exec invoker0 docker version\r\nClient:\r\n Version:      17.06.2-ce\r\n API version:  1.30\r\n Go version:   go1.8.3\r\n Git commit:   cec0b72\r\n Built:        Tue Sep  5 19:57:21 2017\r\n OS/Arch:      linux/amd64\r\n\r\nServer:\r\n Version:      17.06.2-ce\r\n API version:  1.30 (minimum version 1.12)\r\n Go version:   go1.8.3\r\n Git commit:   cec0b72\r\n Built:        Tue Sep  5 19:59:19 2017\r\n OS/Arch:      linux/amd64\r\n Experimental: true\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331042451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331042713","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331042713","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331042713,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0MjcxMw==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:42:44Z","updated_at":"2017-09-21T03:42:44Z","author_association":"MEMBER","body":"```\r\n[2017-09-21T03:42:27.683Z] [INFO] [#tid_46] [RuncClient] [marker:invoker_runc.resume_finish:153:8]\r\n[2017-09-21T03:42:27.764Z] [INFO] [#sid_102] [RuncClient] running /usr/bin/docker-runc pause 387ebb93d8b5f40247707b6e91157c043f17a3ca0ad7524e8f5249ac1f59ee75 [marker:invoker_runc.pause_start:1186462]\r\n[2017-09-21T03:42:27.776Z] [INFO] [#sid_102] [RuncClient] [marker:invoker_runc.pause_finish:1186475:13]\r\n[2017-09-21T03:42:28.636Z] [INFO] [#tid_47] [RuncClient] running /usr/bin/docker-runc resume 387ebb93d8b5f40247707b6e91157c043f17a3ca0ad7524e8f5249ac1f59ee75 [marker:invoker_runc.resume_start:19]\r\n[2017-09-21T03:42:28.648Z] [INFO] [#tid_47] [RuncClient] [marker:invoker_runc.resume_finish:33:14]\r\n[2017-09-21T03:42:28.724Z] [INFO] [#sid_102] [RuncClient] running /usr/bin/docker-runc pause 387ebb93d8b5f40247707b6e91157c043f17a3ca0ad7524e8f5249ac1f59ee75 [marker:invoker_runc.pause_start:1187422]\r\n[2017-09-21T03:42:28.739Z] [INFO] [#sid_102] [RuncClient] [marker:invoker_runc.pause_finish:1187438:16]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331042713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331043230","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331043230","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331043230,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0MzIzMA==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:47:17Z","updated_at":"2017-09-21T03:47:17Z","author_association":"MEMBER","body":"upgrading would be tricky for us, as we got burned in the past and a lot of systems to update and coordinate deployments.\r\nEventually I think we should update also doing some performance testing to make sure there are no regressions.\r\n\r\nmaybe best to move forward would be to go back to be an invoker config value, and we override in ansible where we can detect Mac and set it to not use `docker-runc`","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331043230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331043913","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331043913","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331043913,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0MzkxMw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T03:52:40Z","updated_at":"2017-09-21T03:53:57Z","author_association":"MEMBER","body":"Some history of note on upgrading docker: from 1.9 we skipped 1.10 and 1.11 - under load testing we consistently found the daemon would lock up, or end up causing kernel panics. These were traced to synchronization bugs in docker. We picked up the fixes in 1.12. Weâ€™d have to stress test any upgrades, or pin docker versions to deployments, which could be challenging to manage and test though.  ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331043913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331045952","html_url":"https://github.com/apache/openwhisk/pull/2772#issuecomment-331045952","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2772","id":331045952,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0NTk1Mg==","user":{"login":"GabrielNicolasAvellaneda","id":1248101,"node_id":"MDQ6VXNlcjEyNDgxMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1248101?v=4","gravatar_id":"","url":"https://api.github.com/users/GabrielNicolasAvellaneda","html_url":"https://github.com/GabrielNicolasAvellaneda","followers_url":"https://api.github.com/users/GabrielNicolasAvellaneda/followers","following_url":"https://api.github.com/users/GabrielNicolasAvellaneda/following{/other_user}","gists_url":"https://api.github.com/users/GabrielNicolasAvellaneda/gists{/gist_id}","starred_url":"https://api.github.com/users/GabrielNicolasAvellaneda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GabrielNicolasAvellaneda/subscriptions","organizations_url":"https://api.github.com/users/GabrielNicolasAvellaneda/orgs","repos_url":"https://api.github.com/users/GabrielNicolasAvellaneda/repos","events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/events{/privacy}","received_events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T04:10:51Z","updated_at":"2017-09-21T04:10:51Z","author_association":"CONTRIBUTOR","body":"@dubeejw Done, please take a look. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331045952/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331054246","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331054246","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331054246,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA1NDI0Ng==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T05:23:09Z","updated_at":"2017-09-21T05:23:09Z","author_association":"CONTRIBUTOR","body":"FWIW I had the same error on docker-machine recently, Carlosâ€˜ suggestion fixed it. We can try if the **client** is backwards compatible while leaving the server alone?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331054246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331055649","html_url":"https://github.com/apache/openwhisk/pull/1928#issuecomment-331055649","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/1928","id":331055649,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA1NTY0OQ==","user":{"login":"ningyougang","id":11749867,"node_id":"MDQ6VXNlcjExNzQ5ODY3","avatar_url":"https://avatars.githubusercontent.com/u/11749867?v=4","gravatar_id":"","url":"https://api.github.com/users/ningyougang","html_url":"https://github.com/ningyougang","followers_url":"https://api.github.com/users/ningyougang/followers","following_url":"https://api.github.com/users/ningyougang/following{/other_user}","gists_url":"https://api.github.com/users/ningyougang/gists{/gist_id}","starred_url":"https://api.github.com/users/ningyougang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ningyougang/subscriptions","organizations_url":"https://api.github.com/users/ningyougang/orgs","repos_url":"https://api.github.com/users/ningyougang/repos","events_url":"https://api.github.com/users/ningyougang/events{/privacy}","received_events_url":"https://api.github.com/users/ningyougang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T05:32:39Z","updated_at":"2017-09-21T05:32:50Z","author_association":"CONTRIBUTOR","body":"@ddragosd ,as far as i know, currently, couchdb version is already changed from 1.6 to 2.0.\r\ncouchdb 2.0 supports `distributed` feature. So my question as below\r\n\r\nSince couchdb 2.0 supports  `distributed`, but our `ansible playpook` seems don't support installing mutliple couchdb nodes.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331055649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331055734","html_url":"https://github.com/apache/openwhisk/pull/1928#issuecomment-331055734","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/1928","id":331055734,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA1NTczNA==","user":{"login":"ningyougang","id":11749867,"node_id":"MDQ6VXNlcjExNzQ5ODY3","avatar_url":"https://avatars.githubusercontent.com/u/11749867?v=4","gravatar_id":"","url":"https://api.github.com/users/ningyougang","html_url":"https://github.com/ningyougang","followers_url":"https://api.github.com/users/ningyougang/followers","following_url":"https://api.github.com/users/ningyougang/following{/other_user}","gists_url":"https://api.github.com/users/ningyougang/gists{/gist_id}","starred_url":"https://api.github.com/users/ningyougang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ningyougang/subscriptions","organizations_url":"https://api.github.com/users/ningyougang/orgs","repos_url":"https://api.github.com/users/ningyougang/repos","events_url":"https://api.github.com/users/ningyougang/events{/privacy}","received_events_url":"https://api.github.com/users/ningyougang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T05:33:09Z","updated_at":"2017-09-21T05:33:49Z","author_association":"CONTRIBUTOR","body":"What's mean for `create an Ansible playbook containing the same logic with the gradle build.`?\r\nDoes community has any plan for `couchdb`?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331055734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331089914","html_url":"https://github.com/apache/openwhisk/issues/2747#issuecomment-331089914","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2747","id":331089914,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA4OTkxNA==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T08:33:44Z","updated_at":"2017-09-21T08:33:44Z","author_association":"CONTRIBUTOR","body":"@dgrove-oss fair point, here are a few profiling results. I think I arrived at a solution for us:\r\n\r\n### Testcode\r\n\r\n```scala\r\ndef main(args: Array[String]): Unit = {\r\n  (1 to 100000000).par.foreach { _ =>\r\n    val uuid = randomUUID()\r\n  }\r\n}\r\n```\r\n\r\nParallel generation of 100000000 random UUIDs.\r\n\r\n### Baseline: `java.util.UUID.randomUUID()`\r\n\r\n![image](https://user-images.githubusercontent.com/1289147/30686165-a9cf15e6-9eb7-11e7-9460-d57af4045616.png)\r\n\r\n(It goes on until about 2:50 minutes)\r\n\r\n### Switching from `/dev/random` (blocking) to `/dev/urandom` (non-blocking)\r\n\r\n![image](https://user-images.githubusercontent.com/1289147/30686276-07fdcb3a-9eb8-11e7-873a-c94a5676122a.png)\r\n\r\nMuch better already, but still a lot of thread contention.\r\n\r\n### Switching to `ThreadLocal[SecureRandom]`\r\n\r\n![image](https://user-images.githubusercontent.com/1289147/30686332-3a20d9c2-9eb8-11e7-8f70-0cf451dbd8ff.png)\r\n\r\nThere we go!\r\n\r\nSo it looks like the innerts of `SecureRandom` do not contain any more contention which is great.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331089914/reactions","total_count":5,"+1":0,"-1":0,"laugh":0,"hooray":5,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331128144","html_url":"https://github.com/apache/openwhisk/pull/2658#issuecomment-331128144","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2658","id":331128144,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTEyODE0NA==","user":{"login":"cbickel","id":13397688,"node_id":"MDQ6VXNlcjEzMzk3Njg4","avatar_url":"https://avatars.githubusercontent.com/u/13397688?v=4","gravatar_id":"","url":"https://api.github.com/users/cbickel","html_url":"https://github.com/cbickel","followers_url":"https://api.github.com/users/cbickel/followers","following_url":"https://api.github.com/users/cbickel/following{/other_user}","gists_url":"https://api.github.com/users/cbickel/gists{/gist_id}","starred_url":"https://api.github.com/users/cbickel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbickel/subscriptions","organizations_url":"https://api.github.com/users/cbickel/orgs","repos_url":"https://api.github.com/users/cbickel/repos","events_url":"https://api.github.com/users/cbickel/events{/privacy}","received_events_url":"https://api.github.com/users/cbickel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T11:22:43Z","updated_at":"2017-09-21T11:22:43Z","author_association":"CONTRIBUTOR","body":"PG3#1116 is ðŸ”µ ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331128144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331134717","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331134717","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331134717,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTEzNDcxNw==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T11:56:42Z","updated_at":"2017-09-21T11:56:42Z","author_association":"CONTRIBUTOR","body":"Alternatively: We can go back to just mounting the docker and runc binary into the invoker (we mount the runc runtime env anyway). That automatically gives server/client parity.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331134717/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331140322","html_url":"https://github.com/apache/openwhisk/pull/2784#issuecomment-331140322","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2784","id":331140322,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE0MDMyMg==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T12:23:11Z","updated_at":"2017-09-21T12:23:11Z","author_association":"CONTRIBUTOR","body":"PG1 2087 ðŸ”µ ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331140322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331140675","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331140675","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331140675,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE0MDY3NQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T12:24:44Z","updated_at":"2017-09-21T12:24:44Z","author_association":"CONTRIBUTOR","body":"I suppose this won't work for Docker on Mac per https://docs.docker.com/docker-for-mac/osxfs/#performance-issues-solutions-and-roadmap\r\n\r\n> By default, you can share files in /Users/, /Volumes/, /private/, and /tmp directly","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331140675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331149126","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331149126","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331149126,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE0OTEyNg==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T13:01:00Z","updated_at":"2017-09-21T13:01:00Z","author_association":"MEMBER","body":"From a quick read the problem is around performance os io transfer between the filesystems, in this case we just want to expose the `docker` executable from the host to the container.\r\n\r\nI like the idea of parity between client and engine to be on the same version.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331149126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331149751","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331149751","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331149751,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE0OTc1MQ==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T13:03:37Z","updated_at":"2017-09-21T13:03:37Z","author_association":"MEMBER","body":"@markusthoemmes \r\n>We can go back to just mounting the docker and runc binary into the invoker (we mount the runc runtime env anyway).\r\n\r\n1. How did we use to mount you have link to the old code? \r\n2. Why did we move away from mounting? Any problems going back to mounting?\r\n3. How do we mount the runc? I only see in the Dockerfile the `docker-runc` binary extracted from the tgz https://github.com/apache/incubator-openwhisk/blob/master/core/invoker/Dockerfile#L9","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331149751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331163879","html_url":"https://github.com/apache/openwhisk/pull/2784#issuecomment-331163879","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2784","id":331163879,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE2Mzg3OQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T13:55:33Z","updated_at":"2017-09-21T13:55:33Z","author_association":"MEMBER","body":"With these prs can we record pre and post improvements?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331163879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331167008","html_url":"https://github.com/apache/openwhisk/issues/2791#issuecomment-331167008","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2791","id":331167008,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE2NzAwOA==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T14:06:12Z","updated_at":"2017-09-21T14:06:12Z","author_association":"CONTRIBUTOR","body":"One (important) word of caution: Let's not build a dependency of those repositories against the main repository. They should be completely stand-alone. If we need to copy a file or two for that, I'd rather do that than building a dependency.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331167008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331167246","html_url":"https://github.com/apache/openwhisk/issues/2791#issuecomment-331167246","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2791","id":331167246,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE2NzI0Ng==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T14:07:04Z","updated_at":"2017-09-21T14:07:04Z","author_association":"MEMBER","body":"Yes that's a goal, I will added explicitly.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331167246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331167864","html_url":"https://github.com/apache/openwhisk/issues/2791#issuecomment-331167864","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2791","id":331167864,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE2Nzg2NA==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T14:09:16Z","updated_at":"2017-09-21T14:17:04Z","author_association":"CONTRIBUTOR","body":"Also maybe we should zero in a bit into the individual repo structure that\r\nhighlights the directory structure for multiple runtime versions of that\r\nlanguage. I.e multiple NodeJS versions.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331167864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331169914","html_url":"https://github.com/apache/openwhisk/issues/2791#issuecomment-331169914","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2791","id":331169914,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE2OTkxNA==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T14:15:46Z","updated_at":"2017-09-21T14:15:46Z","author_association":"MEMBER","body":"@ddragosd that's also a goal.\r\n\r\nAs the first pass to be able to migrate the git history I would start with initial repo having same directory structure as today.\r\n\r\nFirst pass for example for nodejs\r\n```\r\ncore/nodejsActionBase/\r\ncore/nodejs6ActionBase/\r\ncore/nodejs8ActionBase/\r\ngradle\r\ntests/\r\ngradlew\r\nbuild.gradle\r\nsettings.gradle\r\n```\r\n\r\nSecond pass\r\n```\r\n6/\r\n8/\r\ngradle\r\ntests/\r\ngradlew\r\nbuild.gradle\r\nsettings.gradle\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331169914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331180127","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331180127","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331180127,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE4MDEyNw==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T14:48:34Z","updated_at":"2017-09-21T14:48:34Z","author_association":"CONTRIBUTOR","body":"It's interesting to note that the problem of updating docker engine becomes transparent with OW using Mesos and Kube APIs, which are not as sensitive to upgrades as Docker Engine is. But for now we need to focus on solving this problem with Docker, b/c the other APIs integration is in the works ATM.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331180127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331183801","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331183801","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331183801,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE4MzgwMQ==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T15:00:08Z","updated_at":"2017-09-21T15:00:08Z","author_association":"CONTRIBUTOR","body":"@markusthoemmes \r\n\r\n> By default, you can share files in /Users/, /Volumes/, /private/, and /tmp directly\r\n\r\nThis is related to files that are on the MacOS disks. Docker still runs in a VM ( native for Mac or docker machine). I think we can grab the docker binaries b/c, for instance, with docker-compose, we can mount `/var/run/docker.sock` ( b/c this is not on OSX, but in the VM that runs docker ... it's confusing for me as well at times to think about these 2 layers ).","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331183801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331186800","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331186800","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331186800,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE4NjgwMA==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T15:09:22Z","updated_at":"2017-09-21T15:09:22Z","author_association":"CONTRIBUTOR","body":"@ddragosd you're right, I'm assembling the PR I had in mind.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331186800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331187578","html_url":"https://github.com/apache/openwhisk/issues/2791#issuecomment-331187578","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2791","id":331187578,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE4NzU3OA==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T15:11:46Z","updated_at":"2017-09-21T15:12:00Z","author_association":"MEMBER","body":"OK after talking to @markusthoemmes I want to clarify what it means for independent from main/core repo\r\n\r\nAll the scala code for testing will not have any dependencies from core repo\r\nA deployment of openwhisk is not required to run unit tests\r\nThere will be integration tests and those will be simple test for sanity check end to end \r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331187578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331190038","html_url":"https://github.com/apache/openwhisk/issues/2572#issuecomment-331190038","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2572","id":331190038,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE5MDAzOA==","user":{"login":"anuruddhakhotmail","id":26428510,"node_id":"MDQ6VXNlcjI2NDI4NTEw","avatar_url":"https://avatars.githubusercontent.com/u/26428510?v=4","gravatar_id":"","url":"https://api.github.com/users/anuruddhakhotmail","html_url":"https://github.com/anuruddhakhotmail","followers_url":"https://api.github.com/users/anuruddhakhotmail/followers","following_url":"https://api.github.com/users/anuruddhakhotmail/following{/other_user}","gists_url":"https://api.github.com/users/anuruddhakhotmail/gists{/gist_id}","starred_url":"https://api.github.com/users/anuruddhakhotmail/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuruddhakhotmail/subscriptions","organizations_url":"https://api.github.com/users/anuruddhakhotmail/orgs","repos_url":"https://api.github.com/users/anuruddhakhotmail/repos","events_url":"https://api.github.com/users/anuruddhakhotmail/events{/privacy}","received_events_url":"https://api.github.com/users/anuruddhakhotmail/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T15:19:42Z","updated_at":"2017-09-21T15:19:42Z","author_association":"NONE","body":"Same issue... please help!\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331190038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331193725","html_url":"https://github.com/apache/openwhisk/issues/2572#issuecomment-331193725","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2572","id":331193725,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE5MzcyNQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T15:31:49Z","updated_at":"2017-09-21T15:31:49Z","author_association":"MEMBER","body":"Try this:\r\nhttps://github.com/apache/incubator-openwhisk/blob/master/ansible/README.md#failed-to-import-docker-py?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331193725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331194147","html_url":"https://github.com/apache/openwhisk/issues/2572#issuecomment-331194147","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2572","id":331194147,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE5NDE0Nw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T15:33:12Z","updated_at":"2017-09-21T15:33:28Z","author_association":"MEMBER","body":"or `$ export PYTHONPATH=/usr/local/lib/python2.7/site-packages`. (wherever your python might be installed.)","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331194147/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331207672","html_url":"https://github.com/apache/openwhisk/pull/2729#issuecomment-331207672","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2729","id":331207672,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTIwNzY3Mg==","user":{"login":"strajansebastian","id":4175501,"node_id":"MDQ6VXNlcjQxNzU1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/4175501?v=4","gravatar_id":"","url":"https://api.github.com/users/strajansebastian","html_url":"https://github.com/strajansebastian","followers_url":"https://api.github.com/users/strajansebastian/followers","following_url":"https://api.github.com/users/strajansebastian/following{/other_user}","gists_url":"https://api.github.com/users/strajansebastian/gists{/gist_id}","starred_url":"https://api.github.com/users/strajansebastian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/strajansebastian/subscriptions","organizations_url":"https://api.github.com/users/strajansebastian/orgs","repos_url":"https://api.github.com/users/strajansebastian/repos","events_url":"https://api.github.com/users/strajansebastian/events{/privacy}","received_events_url":"https://api.github.com/users/strajansebastian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T16:18:42Z","updated_at":"2017-09-21T16:18:42Z","author_association":"NONE","body":"@rabbah just sent to the secretary@apache.org the signed ICLA. Do I need to send you something else in order for the process to be complete?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331207672/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331267762","html_url":"https://github.com/apache/openwhisk/pull/2793#issuecomment-331267762","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2793","id":331267762,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI2Nzc2Mg==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T20:11:00Z","updated_at":"2017-09-21T20:11:00Z","author_association":"MEMBER","body":"@ddragosd \r\nMounting `/usr/local/bin/docker` for some reason doesn't work on Mac\r\n\r\nThis is what I tried\r\n```\r\nðŸ˜„  $ docker run --rm -it -v '/tmp/nginx/docker-runc:/usr/bin/docker-runc' -v '/usr/local/bin/docker:/usr/bin/docker' whisk/invoker:latest /bin/sh\r\ndocker: Error response from daemon: Mounts denied: EOF.\r\nERRO[0000] error waiting for container: context canceled\r\n~/dev/whisk/git/apache/incubator-openwhisk (pr-2793)\r\nðŸ˜„  $ ls -l /usr/local/bin/docker\r\nlrwxr-xr-x  1 csantana23  staff  70 Sep 18 15:01 /usr/local/bin/docker -> /Users/csantana23/Library/Group Containers/group.com.docker/bin/docker\r\nðŸ˜„  $ ls -l \"/Users/csantana23/Library/Group Containers/group.com.docker/bin/docker\"\r\nlrwxr-xr-x  1 csantana23  staff  54 Sep 18 15:01 /Users/csantana23/Library/Group Containers/group.com.docker/bin/docker -> /Applications/Docker.app/Contents/Resources/bin/docker\r\nðŸ˜„  $ docker run --rm -it -v '/tmp/nginx/docker-runc:/usr/bin/docker-runc' -v '/Applications/Docker.app/Contents/Resources/bin/docker:/usr/bin/docker' whisk/invoker:latest /bin/sh\r\ndocker: Error response from daemon: Mounts denied:\r\nThe path /Applications/Docker.app/Contents/Resources/bin/docker\r\nis not shared from OS X and is not known to Docker.\r\nYou can configure shared paths from Docker -> Preferences... -> File Sharing.\r\nSee https://docs.docker.com/docker-for-mac/osxfs/#namespaces for more info.\r\nðŸ˜„  $ docker run --rm -it -v '/tmp/nginx/docker-runc:/usr/bin/docker-runc' -v '/Applications/Docker.app/Contents/Resources/bin/docker:/usr/bin/docker' whisk/invoker:latest /bin/sh\r\n# /usr/bin/docker info\r\n/usr/bin/docker: 1: /usr/bin/docker: ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½: not found\r\n/usr/bin/docker: 1: /usr/bin/docker: ï¿½: not found\r\n/usr/bin/docker: 1: /usr/bin/docker: {ï¿½ï¿½: not found\r\n/usr/bin/docker: 1: /usr/bin/docker: ï¿½ï¿½: not found\r\n/usr/bin/docker: 2: /usr/bin/docker: ï¿½H__PAGEZER__TEXTï¿½\r\n                                                       __text__TEXT0$ï¿½ï¿½ï¿½0$ï¿½__stubs__TEXTï¿½ÏŠï¿½ï¿½ï¿½__stub_helper__TEXTï¿½ÑŠï¿½ÑŠï¿½__rodata__TEXTï¿½ÔŠxï¿½+ï¿½ÔŠ__typelink__TEXT{ï¿½__itablink__TEXTPï¿½pï¿½__gosymtab__TEXTï¿½ï¿½ï¿½ï¿½__gopclntab__TEXTï¿½ï¿½ ï¿½>ï¿½ï¿½__cstring__TEXTï¿½$ï¿½lï¿½$ï¿½__const__TEXTP,ï¿½ï¿½P,ï¿½__unwind_info__TEXT\r\n                                                                                                                             0ï¿½ï¿½\r\n                                                                                                                                0ï¿½__eh_frame__TEXTï¿½2ï¿½-ï¿½2ï¿½h__DATAï¿½: File name too long\r\n/usr/bin/docker: 1: /usr/bin/docker: Syntax error: end of file unexpected (expecting \")\")\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331267762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331268764","html_url":"https://github.com/apache/openwhisk/pull/2793#issuecomment-331268764","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2793","id":331268764,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI2ODc2NA==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T20:15:23Z","updated_at":"2017-09-21T20:15:23Z","author_association":"CONTRIBUTOR","body":"@csantanapr I'm experimenting with docker for mac with:\r\n\r\n```\r\n    volumes:\r\n      - /var/run/docker.sock:/var/run/docker.sock\r\n      - /var/lib/docker/containers:/containers\r\n      - /usr/bin/docker:/usr/bin/docker\r\n      - /run/runc:/run/runc\r\n      - /usr/bin/runc:/usr/bin/docker-runc\r\n```\r\n\r\nMy current problem is that `runc` doesn't see all the processes and believes containers are stopped. I'm trying to add `privileged`, `pid:host` and `userns:host` hoping it helps.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331268764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331269539","html_url":"https://github.com/apache/openwhisk/pull/2793#issuecomment-331269539","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2793","id":331269539,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI2OTUzOQ==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T20:18:35Z","updated_at":"2017-09-21T20:18:35Z","author_association":"MEMBER","body":"@ddragosd hum this one works for you?\r\n```\r\n/usr/bin/docker:/usr/bin/docker\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331269539/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331269976","html_url":"https://github.com/apache/openwhisk/pull/2793#issuecomment-331269976","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2793","id":331269976,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI2OTk3Ng==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T20:20:14Z","updated_at":"2017-09-21T20:20:14Z","author_association":"MEMBER","body":"make sure you are not installing docker cli in the invoker Dockerfile\r\n```\r\n$ cat core/invoker/Dockerfile\r\nFROM scala\r\n\r\nCOPY build/distributions/invoker.tar ./\r\nRUN tar xf invoker.tar && \\\r\nrm -f invoker.tar\r\n\r\nEXPOSE 8080\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331269976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331272049","html_url":"https://github.com/apache/openwhisk/pull/2785#issuecomment-331272049","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2785","id":331272049,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI3MjA0OQ==","user":{"login":"bwmcadams","id":98358,"node_id":"MDQ6VXNlcjk4MzU4","avatar_url":"https://avatars.githubusercontent.com/u/98358?v=4","gravatar_id":"","url":"https://api.github.com/users/bwmcadams","html_url":"https://github.com/bwmcadams","followers_url":"https://api.github.com/users/bwmcadams/followers","following_url":"https://api.github.com/users/bwmcadams/following{/other_user}","gists_url":"https://api.github.com/users/bwmcadams/gists{/gist_id}","starred_url":"https://api.github.com/users/bwmcadams/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwmcadams/subscriptions","organizations_url":"https://api.github.com/users/bwmcadams/orgs","repos_url":"https://api.github.com/users/bwmcadams/repos","events_url":"https://api.github.com/users/bwmcadams/events{/privacy}","received_events_url":"https://api.github.com/users/bwmcadams/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T20:28:34Z","updated_at":"2017-09-21T20:28:34Z","author_association":"CONTRIBUTOR","body":"ðŸ‘ðŸ»\r\nLooks good to me. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331272049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331274844","html_url":"https://github.com/apache/openwhisk/pull/2793#issuecomment-331274844","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2793","id":331274844,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI3NDg0NA==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T20:39:14Z","updated_at":"2017-09-21T20:39:34Z","author_association":"MEMBER","body":"OK I'm on the same page now, you are mounting from the VM \r\n```\r\n- /usr/bin/docker:/usr/bin/docker\r\n- /run/runc:/run/runc\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331274844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331344188","html_url":"https://github.com/apache/openwhisk/pull/2793#issuecomment-331344188","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2793","id":331344188,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM0NDE4OA==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T04:00:48Z","updated_at":"2017-09-22T04:02:16Z","author_association":"CONTRIBUTOR","body":"I got it to work with docker for mac with:\r\n```\r\n    volumes:\r\n      - ~/tmp/openwhisk/invoker/logs:/logs\r\n      - /var/run/docker.sock:/var/run/docker.sock\r\n      - /var/lib/docker/containers:/containers\r\n      - /usr/bin/docker:/usr/bin/docker\r\n      - /run/runc:/run/runc\r\n      - /usr/bin/runc:/usr/bin/docker-runc\r\n      - /sys/fs/cgroup/freezer:/sys/fs/cgroup/freezer\r\n```\r\n\r\n`/sys/fs/cgroup/freezer` was interesting to find out about.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331344188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331344518","html_url":"https://github.com/apache/openwhisk/pull/2793#issuecomment-331344518","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2793","id":331344518,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM0NDUxOA==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T04:03:56Z","updated_at":"2017-09-22T04:03:56Z","author_association":"CONTRIBUTOR","body":"It works even with the existing invoker container. I'll open a PR in https://github.com/apache/incubator-openwhisk-devtools","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331344518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331348223","html_url":"https://github.com/apache/openwhisk/pull/2793#issuecomment-331348223","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2793","id":331348223,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM0ODIyMw==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T04:39:38Z","updated_at":"2017-09-22T04:39:38Z","author_association":"CONTRIBUTOR","body":"PR opened in https://github.com/apache/incubator-openwhisk-devtools/pull/56 ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331348223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331348498","html_url":"https://github.com/apache/openwhisk/issues/2788#issuecomment-331348498","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2788","id":331348498,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM0ODQ5OA==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T04:42:11Z","updated_at":"2017-09-22T04:42:11Z","author_association":"CONTRIBUTOR","body":"I've fixed the issue with docker for mac  in the PR: https://github.com/apache/incubator-openwhisk-devtools/pull/56\r\n\r\nBy overwriting the `docker` and `runc` binaries with the ones from the host, no changes were required to the existing code base. At the same time, once https://github.com/apache/incubator-openwhisk/pull/2793 is in, the Invoker image won't contain the docker binaries, which means that it should work with any docker version installed on the host.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331348498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331361919","html_url":"https://github.com/apache/openwhisk/pull/2796#issuecomment-331361919","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2796","id":331361919,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM2MTkxOQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T06:28:54Z","updated_at":"2017-09-22T06:28:54Z","author_association":"CONTRIBUTOR","body":"Keep in mind that the shutdownHook cleanup uses runc directly, so that will fail in this case. I envisioned creating a `DockerClient` inside the `RuncClient` and make the distinction there, WDYT?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331361919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331363975","html_url":"https://github.com/apache/openwhisk/pull/2795#issuecomment-331363975","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2795","id":331363975,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM2Mzk3NQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T06:41:46Z","updated_at":"2017-09-22T06:41:46Z","author_association":"CONTRIBUTOR","body":"Read briefly over the code, good for a start ðŸ‘ \r\n\r\nThe changes in ContainerProxy look good to me on first glance. I wonder if  we can simplify on the scheduling bits though: What if we tracked the number of concurrent invocation always and only update to Busy, if that number reaches `max`. Everything else will put the container into `Free`.\r\n\r\nIn the non-concurrent case that number can be set to 1. I think we could get away without any changes to the scheduler in that case, since the ContainerPool itself keeps the state-tracking consistent. WDYT?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331363975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331396672","html_url":"https://github.com/apache/openwhisk/pull/2659#issuecomment-331396672","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2659","id":331396672,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM5NjY3Mg==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T09:20:10Z","updated_at":"2017-09-22T09:20:10Z","author_association":"CONTRIBUTOR","body":"PG1 2102 ðŸ”µ ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331396672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331423174","html_url":"https://github.com/apache/openwhisk/pull/2768#issuecomment-331423174","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2768","id":331423174,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQyMzE3NA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T11:33:36Z","updated_at":"2017-09-22T11:33:36Z","author_association":"MEMBER","body":"works for me on mac.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331423174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331428526","html_url":"https://github.com/apache/openwhisk/pull/2659#issuecomment-331428526","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2659","id":331428526,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQyODUyNg==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T12:04:13Z","updated_at":"2017-09-22T12:04:13Z","author_association":"CONTRIBUTOR","body":"@tysonnorris this is good to be merged but I wanted to squash it locally which failed miserably because of the merge commits inside. I got conflicts all about. Can you please rebase this on latest master and squash it to one commit with an appropriate title?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331428526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331454958","html_url":"https://github.com/apache/openwhisk/pull/2531#issuecomment-331454958","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2531","id":331454958,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQ1NDk1OA==","user":{"login":"vvraskin","id":7526585,"node_id":"MDQ6VXNlcjc1MjY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7526585?v=4","gravatar_id":"","url":"https://api.github.com/users/vvraskin","html_url":"https://github.com/vvraskin","followers_url":"https://api.github.com/users/vvraskin/followers","following_url":"https://api.github.com/users/vvraskin/following{/other_user}","gists_url":"https://api.github.com/users/vvraskin/gists{/gist_id}","starred_url":"https://api.github.com/users/vvraskin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvraskin/subscriptions","organizations_url":"https://api.github.com/users/vvraskin/orgs","repos_url":"https://api.github.com/users/vvraskin/repos","events_url":"https://api.github.com/users/vvraskin/events{/privacy}","received_events_url":"https://api.github.com/users/vvraskin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T14:00:16Z","updated_at":"2017-09-22T14:00:16Z","author_association":"CONTRIBUTOR","body":"Let me summarise what we have already discussed with Tyson over slack. \r\nGiven the deployment model when a container receives a new ip address assigned after the restart. In our case if one controller has failed and rejoined the cluster as a new member, there will be some garbage accumulated in the list of cluster members. It is not harmful per se, e.g. the cluster is still running, however healthy cluster nodes will be still gossiping with a non-existing container. If assigning static IP addresses is not an option, in order to avoid this case one could use auto-downing feature in akka cluster, which allows to a cluster leader to mark the failing node as down and remove it from the cluster. To prevent cluster partitioning due to several leaders this property must be set to a relatively high value. The number is not deterministic and could be defined based on the further ops experience. \r\nOne could also think of another monitoring component that is going to watch the cluster state and down the failed nodes on demand. But this solution is rather an expensive one and I think it doesn't belong to the context of this PR.\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331454958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331460912","html_url":"https://github.com/apache/openwhisk/pull/2675#issuecomment-331460912","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2675","id":331460912,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQ2MDkxMg==","user":{"login":"jessealva","id":7730456,"node_id":"MDQ6VXNlcjc3MzA0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/7730456?v=4","gravatar_id":"","url":"https://api.github.com/users/jessealva","html_url":"https://github.com/jessealva","followers_url":"https://api.github.com/users/jessealva/followers","following_url":"https://api.github.com/users/jessealva/following{/other_user}","gists_url":"https://api.github.com/users/jessealva/gists{/gist_id}","starred_url":"https://api.github.com/users/jessealva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jessealva/subscriptions","organizations_url":"https://api.github.com/users/jessealva/orgs","repos_url":"https://api.github.com/users/jessealva/repos","events_url":"https://api.github.com/users/jessealva/events{/privacy}","received_events_url":"https://api.github.com/users/jessealva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T14:21:27Z","updated_at":"2017-09-22T14:21:27Z","author_association":"CONTRIBUTOR","body":"Looks like the travis error was due to the inability to grab logs from the container and not actual test failures.  Running another test (PG) to validate.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331460912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331491777","html_url":"https://github.com/apache/openwhisk/pull/2675#issuecomment-331491777","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2675","id":331491777,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQ5MTc3Nw==","user":{"login":"jessealva","id":7730456,"node_id":"MDQ6VXNlcjc3MzA0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/7730456?v=4","gravatar_id":"","url":"https://api.github.com/users/jessealva","html_url":"https://github.com/jessealva","followers_url":"https://api.github.com/users/jessealva/followers","following_url":"https://api.github.com/users/jessealva/following{/other_user}","gists_url":"https://api.github.com/users/jessealva/gists{/gist_id}","starred_url":"https://api.github.com/users/jessealva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jessealva/subscriptions","organizations_url":"https://api.github.com/users/jessealva/orgs","repos_url":"https://api.github.com/users/jessealva/repos","events_url":"https://api.github.com/users/jessealva/events{/privacy}","received_events_url":"https://api.github.com/users/jessealva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T16:14:02Z","updated_at":"2017-09-22T16:14:02Z","author_association":"CONTRIBUTOR","body":"PG2, 2103","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331491777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331492515","html_url":"https://github.com/apache/openwhisk/pull/2675#issuecomment-331492515","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2675","id":331492515,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQ5MjUxNQ==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T16:17:01Z","updated_at":"2017-09-22T16:17:01Z","author_association":"MEMBER","body":"PG2 2103 ðŸ”µ ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331492515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331500700","html_url":"https://github.com/apache/openwhisk/pull/2793#issuecomment-331500700","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2793","id":331500700,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTUwMDcwMA==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T16:50:44Z","updated_at":"2017-09-22T16:50:44Z","author_association":"MEMBER","body":"@ddragosd your going to open a PR here to fix Docker for Mac?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331500700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331508825","html_url":"https://github.com/apache/openwhisk/pull/2795#issuecomment-331508825","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2795","id":331508825,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTUwODgyNQ==","user":{"login":"tysonnorris","id":1638396,"node_id":"MDQ6VXNlcjE2MzgzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/1638396?v=4","gravatar_id":"","url":"https://api.github.com/users/tysonnorris","html_url":"https://github.com/tysonnorris","followers_url":"https://api.github.com/users/tysonnorris/followers","following_url":"https://api.github.com/users/tysonnorris/following{/other_user}","gists_url":"https://api.github.com/users/tysonnorris/gists{/gist_id}","starred_url":"https://api.github.com/users/tysonnorris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tysonnorris/subscriptions","organizations_url":"https://api.github.com/users/tysonnorris/orgs","repos_url":"https://api.github.com/users/tysonnorris/repos","events_url":"https://api.github.com/users/tysonnorris/events{/privacy}","received_events_url":"https://api.github.com/users/tysonnorris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T17:23:20Z","updated_at":"2017-09-22T17:23:20Z","author_association":"CONTRIBUTOR","body":"@markusthoemmes I think you mean to keep containers in freePool, and only move to busyPool when reaching max? (I'm not sure that WorkerState is used anymore?)\r\n\r\nIf we do that, then ContainerPool.remove needs to pay attention to the concurrent invocations, and there will be potentially a lot of shuffling between freePool and busyPool when traffic hovers around max. In the other case (where container moves to busy after 1), there is potentially a lot of shuffling when there is a stream of sequential events (1 at a time), so maybe this doesn't matter. \r\n\r\nI'll see if I can change the remove to respect the concurrent activation count and avoid complicating the scheduling as you describe.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331508825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331510192","html_url":"https://github.com/apache/openwhisk/pull/2793#issuecomment-331510192","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2793","id":331510192,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTUxMDE5Mg==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T17:28:24Z","updated_at":"2017-09-22T17:28:24Z","author_association":"CONTRIBUTOR","body":"@csantanapr I've been testing docker for mac with docker-compose. I'm trying it now w/ ansible. if it works I should be able to submit the PR.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331510192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331525184","html_url":"https://github.com/apache/openwhisk/pull/2689#issuecomment-331525184","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2689","id":331525184,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTUyNTE4NA==","user":{"login":"dgrove-oss","id":5099100,"node_id":"MDQ6VXNlcjUwOTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/5099100?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrove-oss","html_url":"https://github.com/dgrove-oss","followers_url":"https://api.github.com/users/dgrove-oss/followers","following_url":"https://api.github.com/users/dgrove-oss/following{/other_user}","gists_url":"https://api.github.com/users/dgrove-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrove-oss/subscriptions","organizations_url":"https://api.github.com/users/dgrove-oss/orgs","repos_url":"https://api.github.com/users/dgrove-oss/repos","events_url":"https://api.github.com/users/dgrove-oss/events{/privacy}","received_events_url":"https://api.github.com/users/dgrove-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T18:27:11Z","updated_at":"2017-09-22T18:27:11Z","author_association":"MEMBER","body":"Rebased again to resolve conflicts with master.  \r\n\r\nAssuming CI agrees, I think this PR could be ready for final review & merge.  Additional comments/feedback from anyone?\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331525184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331531524","html_url":"https://github.com/apache/openwhisk/pull/2689#issuecomment-331531524","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2689","id":331531524,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTUzMTUyNA==","user":{"login":"dgrove-oss","id":5099100,"node_id":"MDQ6VXNlcjUwOTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/5099100?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrove-oss","html_url":"https://github.com/dgrove-oss","followers_url":"https://api.github.com/users/dgrove-oss/followers","following_url":"https://api.github.com/users/dgrove-oss/following{/other_user}","gists_url":"https://api.github.com/users/dgrove-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrove-oss/subscriptions","organizations_url":"https://api.github.com/users/dgrove-oss/orgs","repos_url":"https://api.github.com/users/dgrove-oss/repos","events_url":"https://api.github.com/users/dgrove-oss/events{/privacy}","received_events_url":"https://api.github.com/users/dgrove-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T18:52:51Z","updated_at":"2017-09-22T19:39:52Z","author_association":"MEMBER","body":"pg1 2093 ðŸƒ ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331531524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331540848","html_url":"https://github.com/apache/openwhisk/pull/2793#issuecomment-331540848","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2793","id":331540848,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTU0MDg0OA==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T19:35:25Z","updated_at":"2017-09-22T19:35:25Z","author_association":"CONTRIBUTOR","body":"@csantanapr I've opened PR https://github.com/apache/incubator-openwhisk/pull/2799 illustrating the minimum changes.\r\n\r\n@markusthoemmes I didn't update the docker image with the invoker to avoid conflicts with this PR.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331540848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331557775","html_url":"https://github.com/apache/openwhisk/pull/2659#issuecomment-331557775","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2659","id":331557775,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTU1Nzc3NQ==","user":{"login":"tysonnorris","id":1638396,"node_id":"MDQ6VXNlcjE2MzgzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/1638396?v=4","gravatar_id":"","url":"https://api.github.com/users/tysonnorris","html_url":"https://github.com/tysonnorris","followers_url":"https://api.github.com/users/tysonnorris/followers","following_url":"https://api.github.com/users/tysonnorris/following{/other_user}","gists_url":"https://api.github.com/users/tysonnorris/gists{/gist_id}","starred_url":"https://api.github.com/users/tysonnorris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tysonnorris/subscriptions","organizations_url":"https://api.github.com/users/tysonnorris/orgs","repos_url":"https://api.github.com/users/tysonnorris/repos","events_url":"https://api.github.com/users/tysonnorris/events{/privacy}","received_events_url":"https://api.github.com/users/tysonnorris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T20:52:46Z","updated_at":"2017-09-22T20:52:46Z","author_association":"CONTRIBUTOR","body":"@markusthoemmes I did it this way, since I don't relish reapplying every merge conflict:\r\n```\r\ngit reset --soft master\r\ngit commit -m \"ContainerFactory SPI\"\r\ngit push origin +containerfactory\r\n```\r\nLet me know if you think that is problematic?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331557775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331578841","html_url":"https://github.com/apache/openwhisk/pull/2730#issuecomment-331578841","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2730","id":331578841,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTU3ODg0MQ==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T22:55:40Z","updated_at":"2017-09-23T03:45:42Z","author_association":"MEMBER","body":"PG3 1119 ðŸ”µ ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331578841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331663105","html_url":"https://github.com/apache/openwhisk/issues/2800#issuecomment-331663105","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2800","id":331663105,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTY2MzEwNQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T19:00:48Z","updated_at":"2017-09-23T19:20:26Z","author_association":"MEMBER","body":"I also thought we could consolidate the byDate and byDateWithLogs view, but the filtering done in the log deletion view predicates the key `emit()` on the existence of logs and the deletion script relies on this to quiesce. I'm not sure if the views can be consolidated in that case, although I wonder if editing the views while also iterating over it is the best way to do the deletion.\r\n\r\nDeferring this to address the sequence log deletion which was my main goal.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331663105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331682996","html_url":"https://github.com/apache/openwhisk/pull/2799#issuecomment-331682996","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2799","id":331682996,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTY4Mjk5Ng==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T02:46:05Z","updated_at":"2017-09-24T02:46:05Z","author_association":"CONTRIBUTOR","body":"I think a better approach is to have ansible check which OS is it running on: \r\n* if Mac - use `docker run` to find out the `docker`/`runc` binaries\r\n* otherwise - use OS commands directly","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331682996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331708677","html_url":"https://github.com/apache/openwhisk/pull/2760#issuecomment-331708677","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2760","id":331708677,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTcwODY3Nw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T13:01:55Z","updated_at":"2017-09-24T13:05:07Z","author_association":"MEMBER","body":"Here are the asset maps for convenience:\r\n\r\n```js\r\nfunction (doc) {\r\n  var PATHSEP = \"/\";\r\n  var isAction = function (doc) { return (doc.exec !== undefined) };\r\n  if (isAction(doc)) try {\r\n    var ns = doc.namespace.split(PATHSEP);\r\n    var root = ns[0];\r\n    var date = doc.updated;\r\n    var value = {\r\n      namespace: doc.namespace,\r\n      name: doc.name,\r\n      version: doc.version,\r\n      publish: doc.publish,\r\n      annotations: doc.annotations\r\n    };\r\n    emit([doc.namespace, date], value);\r\n    if (root !== doc.namespace) {\r\n      emit([root, date], value);\r\n    }\r\n  } catch (e) {}\r\n}\r\n```\r\n\r\n```js\r\nfunction (doc) {\r\n  var isPackage = function (doc) {  return (doc.binding !== undefined) };\r\n  if (isPackage(doc)) try {\r\n    var date = doc.updated;\r\n    emit([doc.namespace, date], {\r\n      namespace: doc.namespace,\r\n      name: doc.name,\r\n      version: doc.version,\r\n      publish: doc.publish,\r\n      annotations: doc.annotations,\r\n      binding: Object.keys(doc.binding).length !== 0\r\n    });\r\n  } catch (e) {}\r\n}\r\n```\r\n\r\n```js\r\nfunction (doc) {\r\n  var PATHSEP = \"/\";\r\n  var isRule = function (doc) {  return (doc.trigger !== undefined) };\r\n  if (isRule(doc)) try {\r\n    var ns = doc.namespace.split(PATHSEP);\r\n    var root = ns[0];\r\n    var date = doc.updated;\r\n    var value = {\r\n      namespace: doc.namespace,\r\n      name: doc.name,\r\n      version: doc.version,\r\n      publish: doc.publish,\r\n      annotations: doc.annotations\r\n    };\r\n    emit([doc.namespace, date], value);\r\n    if (root !== doc.namespace) {\r\n      emit([root, date], value);\r\n    }\r\n  } catch (e) {}\r\n}\r\n```\r\n\r\n```js\r\nfunction (doc) {\r\n  var PATHSEP = \"/\";\r\n  var isTrigger = function (doc) { return (doc.exec === undefined && doc.binding === undefined && doc.parameters !== undefined) };\r\n  if (isTrigger(doc)) try {\r\n    var ns = doc.namespace.split(PATHSEP);\r\n    var root = ns[0];\r\n    var date = doc.updated;\r\n    var value = {\r\n      namespace: doc.namespace,\r\n      name: doc.name,\r\n      version: doc.version,\r\n      publish: doc.publish,\r\n      annotations: doc.annotations\r\n    };\r\n    emit([doc.namespace, date], value);\r\n    if (root !== doc.namespace) {\r\n      emit([root, date], value);\r\n    }\r\n  } catch (e) {}\r\n}\r\n```\r\n\r\n```js\r\nfunction (doc) {\r\n  var PATHSEP = \"/\";\r\n\r\n  var isPackage = function (doc) {  return (doc.binding !== undefined) };\r\n  var isAction = function (doc) { return (doc.exec !== undefined) };\r\n  var isTrigger = function (doc) { return (doc.exec === undefined && doc.binding === undefined && doc.parameters !== undefined) };\r\n  var isRule = function (doc) {  return (doc.trigger !== undefined) };\r\n  \r\n  var collection = function (doc) {\r\n    if (isPackage(doc)) return \"packages\";\r\n    if (isAction(doc)) return \"actions\";\r\n    if (isTrigger(doc)) return \"triggers\";\r\n    if (isRule(doc)) return \"rules\";\r\n    return undefined;\r\n  };\r\n\r\n  try {\r\n    var type = collection(doc);\r\n    if (type !== undefined) {\r\n      var ns = doc.namespace.split(PATHSEP);\r\n      var root = ns[0];\r\n      var date = doc.updated;\r\n      var value = {\r\n        collection: type,\r\n        namespace: doc.namespace,\r\n        name: doc.name,\r\n        version: doc.version,\r\n        publish: doc.publish,\r\n        annotations: doc.annotations\r\n      };\r\n      if (isPackage(doc)) {\r\n        value.binding = Object.keys(doc.binding).length !== 0;\r\n      }\r\n      emit([root, date], value);\r\n    }\r\n  } catch (e) {}\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331708677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331708810","html_url":"https://github.com/apache/openwhisk/pull/2760#issuecomment-331708810","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2760","id":331708810,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTcwODgxMA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T13:04:29Z","updated_at":"2017-09-24T13:04:29Z","author_association":"MEMBER","body":"and for activations\r\n\r\n```js\r\nfunction (doc) {\r\n  var PATHSEP = \"/\";\r\n  var isActivation = function (doc) { return (doc.activationId !== undefined) };\r\n  var summarize = function (doc) {\r\n    var endtime = doc.end !== 0 ? doc.end : undefined;\r\n    return {\r\n        namespace: doc.namespace,\r\n        name: doc.name,\r\n        version: doc.version,\r\n        publish: doc.publish,\r\n        annotations: doc.annotations,\r\n        activationId: doc.activationId,\r\n        start: doc.start,\r\n        end: endtime,\r\n        duration: endtime !== undefined ? endtime - doc.start : undefined,\r\n        cause: doc.cause,\r\n        statusCode: (endtime !== undefined && doc.response !== undefined && doc.response.statusCode !== undefined) ? doc.response.statusCode : undefined\r\n      }\r\n  };\r\n\r\n  if (isActivation(doc)) try {\r\n    var value = summarize(doc)\r\n    emit([doc.namespace, doc.start], value);\r\n    emit([doc.namespace+PATHSEP+doc.name, doc.start], value);\r\n  } catch (e) {}\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331708810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331730465","html_url":"https://github.com/apache/openwhisk/pull/2772#issuecomment-331730465","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2772","id":331730465,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTczMDQ2NQ==","user":{"login":"GabrielNicolasAvellaneda","id":1248101,"node_id":"MDQ6VXNlcjEyNDgxMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1248101?v=4","gravatar_id":"","url":"https://api.github.com/users/GabrielNicolasAvellaneda","html_url":"https://github.com/GabrielNicolasAvellaneda","followers_url":"https://api.github.com/users/GabrielNicolasAvellaneda/followers","following_url":"https://api.github.com/users/GabrielNicolasAvellaneda/following{/other_user}","gists_url":"https://api.github.com/users/GabrielNicolasAvellaneda/gists{/gist_id}","starred_url":"https://api.github.com/users/GabrielNicolasAvellaneda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GabrielNicolasAvellaneda/subscriptions","organizations_url":"https://api.github.com/users/GabrielNicolasAvellaneda/orgs","repos_url":"https://api.github.com/users/GabrielNicolasAvellaneda/repos","events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/events{/privacy}","received_events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T18:44:22Z","updated_at":"2017-09-24T18:44:22Z","author_association":"CONTRIBUTOR","body":"@rabbah Did you have time to take a look at these changes. On the other hand I'm thinking about adding unit tests for the wsk-cli project, do you think that it will be best to first move to its own repo?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331730465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331730595","html_url":"https://github.com/apache/openwhisk/pull/2772#issuecomment-331730595","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2772","id":331730595,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTczMDU5NQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T18:46:04Z","updated_at":"2017-09-24T18:46:04Z","author_association":"MEMBER","body":"The repo exists already. I donâ€™t think it has any unit tests yet. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331730595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331731608","html_url":"https://github.com/apache/openwhisk/pull/2799#issuecomment-331731608","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2799","id":331731608,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTczMTYwOA==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T19:01:18Z","updated_at":"2017-09-24T19:01:18Z","author_association":"CONTRIBUTOR","body":"I'm trying to find the reason why the build fails, and I think the issue relates to kafka container being killed and restarted by the ansible policy `docker.restart.policy`.\r\n\r\nI'm pasting the error log right before Kafka container is restarted:\r\n```\r\n[2017-09-24 18:52:53,410] WARN Client session timed out, have not heard from server in 12569ms for sessionid 0x15eb263063900bf (org.apache.zookeeper.ClientCnxn)\r\n[2017-09-24 18:53:30,238] INFO Client session timed out, have not heard from server in 12569ms for sessionid 0x15eb263063900bf, closing socket connection and attempting reconnect (org.apache.zookeeper.ClientCnxn)\r\n[2017-09-24 18:53:48,300] INFO zookeeper state changed (Disconnected) (org.I0Itec.zkclient.ZkClient)\r\n[2017-09-24 18:53:49,437] INFO Opening socket connection to server 172.17.0.5/172.17.0.5:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\r\n[2017-09-24 18:53:49,564] INFO Socket connection established to 172.17.0.5/172.17.0.5:2181, initiating session (org.apache.zookeeper.ClientCnxn)\r\n[2017-09-24 18:53:49,845] WARN Unable to reconnect to ZooKeeper service, session 0x15eb263063900bf has expired (org.apache.zookeeper.ClientCnxn)\r\n[2017-09-24 18:53:49,848] INFO zookeeper state changed (Expired) (org.I0Itec.zkclient.ZkClient)\r\n[2017-09-24 18:53:49,848] INFO Initiating client connection, connectString=172.17.0.5:2181 sessionTimeout=10000 watcher=org.I0Itec.zkclient.ZkClient@1fe20588 (org.apache.zookeeper.ZooKeeper)\r\n[2017-09-24 18:53:49,855] INFO Unable to reconnect to ZooKeeper service, session 0x15eb263063900bf has expired, closing socket connection (org.apache.zookeeper.ClientCnxn)\r\n[2017-09-24 18:53:49,898] INFO Opening socket connection to server 172.17.0.5/172.17.0.5:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\r\n[2017-09-24 18:53:49,902] INFO Socket connection established to 172.17.0.5/172.17.0.5:2181, initiating session (org.apache.zookeeper.ClientCnxn)\r\n[2017-09-24 18:53:50,017] INFO Session establishment complete on server 172.17.0.5/172.17.0.5:2181, sessionid = 0x15eb263063900c0, negotiated timeout = 10000 (org.apache.zookeeper.ClientCnxn)\r\n[2017-09-24 18:53:50,022] INFO zookeeper state changed (SyncConnected) (org.I0Itec.zkclient.ZkClient)\r\n[2017-09-24 18:53:50,051] INFO EventThread shut down for session: 0x15eb263063900bf (org.apache.zookeeper.ClientCnxn)\r\n[2017-09-24 18:53:50,105] INFO Creating /controller (is it secure? false) (kafka.utils.ZKCheckedEphemeral)\r\n[2017-09-24 18:53:50,143] INFO Result of znode creation is: OK (kafka.utils.ZKCheckedEphemeral)\r\n[2017-09-24 18:53:50,144] INFO 0 successfully elected as leader (kafka.server.ZookeeperLeaderElector)\r\n[2017-09-24 18:53:51,336] INFO re-registering broker info in ZK for broker 0 (kafka.server.KafkaHealthcheck$SessionExpireListener)\r\n[2017-09-24 18:53:51,343] INFO Creating /brokers/ids/0 (is it secure? false) (kafka.utils.ZKCheckedEphemeral)\r\n[2017-09-24 18:53:51,374] INFO Result of znode creation is: OK (kafka.utils.ZKCheckedEphemeral)\r\n[2017-09-24 18:53:51,376] INFO Registered broker 0 at path /brokers/ids/0 with addresses: EndPoint(172.17.0.1,9092,ListenerName(PLAINTEXT),PLAINTEXT) (kafka.utils.ZkUtils)\r\n[2017-09-24 18:53:51,432] INFO done re-registering broker (kafka.server.KafkaHealthcheck$SessionExpireListener)\r\n[2017-09-24 18:53:51,434] INFO Subscribing to /brokers/topics path to watch for new topics (kafka.server.KafkaHealthcheck$SessionExpireListener)\r\n[2017-09-24 18:53:53,298] INFO [ReplicaFetcherManager on broker 0] Removed fetcher for partitions __consumer_offsets-22,cacheInvalidation-0,__consumer_offsets-30,__consumer_offsets-8,__consumer_offsets-21,__consumer_offsets-4,__consumer_offsets-27,__consumer_offsets-7,__consumer_offsets-9,__consumer_offsets-46,__consumer_offsets-25,__consumer_offsets-35,__consumer_offsets-41,__consumer_offsets-33,__consumer_offsets-23,__consumer_offsets-49,__consumer_offsets-47,__consumer_offsets-16,__consumer_offsets-28,__consumer_offsets-31,__consumer_offsets-36,__consumer_offsets-42,__consumer_offsets-3,__consumer_offsets-18,__consumer_offsets-37,__consumer_offsets-15,__consumer_offsets-24,health-0,Dinosaurs-0,__consumer_offsets-38,completed1-0,__consumer_offsets-17,__consumer_offsets-48,__consumer_offsets-19,__consumer_offsets-11,__consumer_offsets-13,__consumer_offsets-2,__consumer_offsets-43,invoker0-0,__consumer_offsets-6,__consumer_offsets-14,completed0-0,__consumer_offsets-20,__consumer_offsets-0,__consumer_offsets-44,__consumer_offsets-39,__consumer_offsets-12,__consumer_offsets-45,__consumer_offsets-1,__consumer_offsets-5,__consumer_offsets-26,__consumer_offsets-29,__consumer_offsets-34,__consumer_offsets-10,__consumer_offsets-32,__consumer_offsets-40,invoker1-0 (kafka.server.ReplicaFetcherManager)\r\n[2017-09-24 18:53:53,391] INFO New leader is 0 (kafka.server.ZookeeperLeaderElector$LeaderChangeListener)\r\n```\r\n\r\nAfter the las log line, Kafka restarts.  While Kafka restarts any pending tests fail.\r\n\r\nIn order to prove this hypothesis, the kafka container should not restart during the build, and the build should succeed. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331731608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331750973","html_url":"https://github.com/apache/openwhisk/pull/2799#issuecomment-331750973","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2799","id":331750973,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTc1MDk3Mw==","user":{"login":"ddragosd","id":541933,"node_id":"MDQ6VXNlcjU0MTkzMw==","avatar_url":"https://avatars.githubusercontent.com/u/541933?v=4","gravatar_id":"","url":"https://api.github.com/users/ddragosd","html_url":"https://github.com/ddragosd","followers_url":"https://api.github.com/users/ddragosd/followers","following_url":"https://api.github.com/users/ddragosd/following{/other_user}","gists_url":"https://api.github.com/users/ddragosd/gists{/gist_id}","starred_url":"https://api.github.com/users/ddragosd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddragosd/subscriptions","organizations_url":"https://api.github.com/users/ddragosd/orgs","repos_url":"https://api.github.com/users/ddragosd/repos","events_url":"https://api.github.com/users/ddragosd/events{/privacy}","received_events_url":"https://api.github.com/users/ddragosd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T00:33:29Z","updated_at":"2017-09-25T00:33:29Z","author_association":"CONTRIBUTOR","body":"@csantanapr any idea where to download the logs uploaded at the end of the travis build ?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331750973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331895886","html_url":"https://github.com/apache/openwhisk/pull/2772#issuecomment-331895886","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2772","id":331895886,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTg5NTg4Ng==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T14:18:29Z","updated_at":"2017-09-25T14:18:29Z","author_association":"MEMBER","body":"@GabrielNicolasAvellaneda, when the CLI update the property file, do existing comments stay intact? ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331895886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331904433","html_url":"https://github.com/apache/openwhisk/pull/2772#issuecomment-331904433","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2772","id":331904433,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTkwNDQzMw==","user":{"login":"GabrielNicolasAvellaneda","id":1248101,"node_id":"MDQ6VXNlcjEyNDgxMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1248101?v=4","gravatar_id":"","url":"https://api.github.com/users/GabrielNicolasAvellaneda","html_url":"https://github.com/GabrielNicolasAvellaneda","followers_url":"https://api.github.com/users/GabrielNicolasAvellaneda/followers","following_url":"https://api.github.com/users/GabrielNicolasAvellaneda/following{/other_user}","gists_url":"https://api.github.com/users/GabrielNicolasAvellaneda/gists{/gist_id}","starred_url":"https://api.github.com/users/GabrielNicolasAvellaneda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GabrielNicolasAvellaneda/subscriptions","organizations_url":"https://api.github.com/users/GabrielNicolasAvellaneda/orgs","repos_url":"https://api.github.com/users/GabrielNicolasAvellaneda/repos","events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/events{/privacy}","received_events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T14:45:30Z","updated_at":"2017-09-25T15:16:57Z","author_association":"CONTRIBUTOR","body":"Hey @dubeejw Good question! No, comments gets removed when you write any property. **This is more or less** the original behavior.\r\n\r\nReadProps is ignoring comments, for example if you have a single line comment it will be ignored by this following line that checks for a format like KEY=VALUE\r\nhttps://github.com/apache/incubator-openwhisk/blob/master/tools/cli/go-whisk-cli/commands/util.go#L936\r\n\r\nThen when you write a property it is using the map returned by ReadProps as a basis for all the property values.\r\nPlease also look at this line: https://github.com/apache/incubator-openwhisk/blob/master/tools/cli/go-whisk-cli/commands/util.go#L960 that does the write.\r\n\r\nWe should create a new issue to address this because it will require to change the logic of how the properties are set because the whole file is overwritten.\r\n**I could also do that fix if you assign it to me**. In this case for writing to the file we must locate the proper line where the key is and update just that line. If that key does not exist then we should append at the end of the file.\r\n\r\n**Sequence from the original code:**\r\n\r\n```bash\r\ndeveloper@ubuntu:~/workspace/f4/openwhisk$ cat ~/.wskprops \r\nAPIHOST=http://localhost:1004\r\n# test 1\r\nNAMESPACE= blah #test 2\r\n```\r\n\r\n```bash\r\ndeveloper@ubuntu:~/workspace/f4/openwhisk$ bin/wsk property get --namespace\r\nwhisk namespace          blah #test\r\n```\r\n**NOTE:** Getting the comment with the property looks strange.. so I've removed this with my changes.\r\n\r\n```bash\r\ndeveloper@ubuntu:~/workspace/f4/openwhisk$ bin/wsk property set --apihost http://localhost:1005\r\nok: whisk API host set to http://localhost:1005\r\n```\r\n\r\n```bash\r\ndeveloper@ubuntu:~/workspace/f4/openwhisk$ cat ~/.wskprops \r\nAPIHOST=http://localhost:1005\r\nNAMESPACE= blah #test 2\r\n```\r\n**NOTE:** The single line comment is lost, but the inline comment is maintained.\r\n\r\nIn resume, with my changes, I'm not maintained the inline comments nor the single line.\r\nSo, I think that we should update how we write the properties file so we could maintain all comments and original formatting.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331904433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331922630","html_url":"https://github.com/apache/openwhisk/pull/2768#issuecomment-331922630","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2768","id":331922630,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTkyMjYzMA==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T15:42:46Z","updated_at":"2017-09-25T15:42:46Z","author_association":"MEMBER","body":"@mdeuser, perhaps you can speak to Windows on this issue.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331922630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331942919","html_url":"https://github.com/apache/openwhisk/pull/2659#issuecomment-331942919","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2659","id":331942919,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk0MjkxOQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T16:50:15Z","updated_at":"2017-09-25T16:50:15Z","author_association":"CONTRIBUTOR","body":"Great job, thanks for doing this ðŸŽ‰ ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331942919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331947927","html_url":"https://github.com/apache/openwhisk/pull/2768#issuecomment-331947927","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2768","id":331947927,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk0NzkyNw==","user":{"login":"mdeuser","id":18535381,"node_id":"MDQ6VXNlcjE4NTM1Mzgx","avatar_url":"https://avatars.githubusercontent.com/u/18535381?v=4","gravatar_id":"","url":"https://api.github.com/users/mdeuser","html_url":"https://github.com/mdeuser","followers_url":"https://api.github.com/users/mdeuser/followers","following_url":"https://api.github.com/users/mdeuser/following{/other_user}","gists_url":"https://api.github.com/users/mdeuser/gists{/gist_id}","starred_url":"https://api.github.com/users/mdeuser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdeuser/subscriptions","organizations_url":"https://api.github.com/users/mdeuser/orgs","repos_url":"https://api.github.com/users/mdeuser/repos","events_url":"https://api.github.com/users/mdeuser/events{/privacy}","received_events_url":"https://api.github.com/users/mdeuser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T17:08:35Z","updated_at":"2017-09-25T17:08:35Z","author_association":"CONTRIBUTOR","body":"@dubeejw - sure.  can you give me a specific example to try out.  the command auto completion seems to work fine on windows/vagrant/ubuntu for me, but i'm sure there's some subtlety..","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/331947927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/332013881","html_url":"https://github.com/apache/openwhisk/pull/2802#issuecomment-332013881","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2802","id":332013881,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjAxMzg4MQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T21:10:42Z","updated_at":"2017-09-25T21:10:42Z","author_association":"MEMBER","body":"+1: Thanks for your first contribution and welcome on board ðŸŽ‰","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/332013881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/332112247","html_url":"https://github.com/apache/openwhisk/issues/1843#issuecomment-332112247","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/1843","id":332112247,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjExMjI0Nw==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T07:34:51Z","updated_at":"2017-09-26T07:34:51Z","author_association":"MEMBER","body":"I want to discuss the preferred approach for this issue.\r\nIf we keep current package binding feature, I think expected sub-tasks for this issue are as follow:\r\n\r\n1. [Optional] Add new flag(ex: `bindings`) to determine whether bound actions should be listed in `list actions` API or not.\r\n2. List up all bound packages in the namespace.\r\n3. Read `binding` field from each bound packages and list up all actions with `full entity path` of reference package(binding package).\r\n4. Change `namespace` field of each retrieved actions to the value of bound package`s one.\r\n5. Combine all results with non-bound actions.\r\n\r\nI think this will cause a few overhead in terms of latency.\r\n\r\nAlternative approach is as follow:\r\nCopy actions information when binding a package.\r\nBound actions may have `binding` field to be distinguishable from the others.\r\n\r\nWith this change, controller can retrieve actions transparently with `actions` view no matter whether action is bound or not.\r\nBut it will introduce more spatial overhead in CouchDB.\r\n\r\nAnd it is required to add few method to handle bound entities.\r\nFor example, it is required to prevent `update API` on bound action.\r\nAnd in case reference package is deleted, bound package and action should return proper error message and so on.\r\n\r\n\r\nI am inclined to the second option, but want to hear any opinions or feedbacks\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/332112247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/332151986","html_url":"https://github.com/apache/openwhisk/issues/1843#issuecomment-332151986","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/1843","id":332151986,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjE1MTk4Ng==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T10:10:07Z","updated_at":"2017-09-26T10:10:07Z","author_association":"MEMBER","body":"If you list packages, you will find there is a binding annotation already on assets that are bindings. We could add information in the list view though to make the client side join easier.\r\n\r\nI think the second option if I understood it changes the semantics of package bindings. From by reference to by copy. The benefits of the former is one copy vs many. If one is going to share the package say on GitHub the making copies through existing deploy mechanisms make more sense. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/332151986/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/332168748","html_url":"https://github.com/apache/openwhisk/issues/1843#issuecomment-332168748","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/1843","id":332168748,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjE2ODc0OA==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T11:26:43Z","updated_at":"2017-09-26T11:26:43Z","author_association":"MEMBER","body":"Thank you for the opinion.\r\n\r\nI got your idea.\r\nThen how do you think this kind of approach?\r\n\r\nWe can add actions information in `binding` field.\r\nThere will be the ID of its original action.\r\n\r\nexample) bind `originPackage` in `yourNamespace` to `myPackage` in `myNamespace`\r\n\r\n```\r\nbinding: {\r\n  namespace: \"yourNamespace\",\r\n  name: \"originPackage\"\r\n actions: [\r\n  { \r\n    origin:   \"yourNamespace/originPackage/action1\" // action ID in CouchDB\r\n   },\r\n  { \r\n    origin:   \"yourNamespace/originPackage/action2\"\r\n   }\r\n ]\r\n}\r\nnamespace: myNamespace\r\nname: myPackage\r\n```\r\n\r\nAnd in the couchDB view, we can link original action document, with those `origin` information.\r\nWith this change, we can emit the following key, value.\r\n\r\n```\r\nkey: [\"myNamespace/myPackage\", ${TIMESTAMP}, \"action1\"]\r\nvalue: {namespace: \"myNamespace/myPackage\", name: \"action1\",  ...(with all other fields in original actions)}\r\n```\r\nSo the information of bound actions will be available in `actions` view.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/332168748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]