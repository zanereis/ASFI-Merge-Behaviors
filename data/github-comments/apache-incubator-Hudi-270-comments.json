[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230827251","html_url":"https://github.com/apache/hudi/pull/6157#issuecomment-1230827251","issue_url":"https://api.github.com/repos/apache/hudi/issues/6157","id":1230827251,"node_id":"IC_kwDOBI7nWM5JXO7z","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T20:28:54Z","updated_at":"2022-08-29T20:28:54Z","author_association":"CONTRIBUTOR","body":"thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230827251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230832162","html_url":"https://github.com/apache/hudi/issues/6188#issuecomment-1230832162","issue_url":"https://api.github.com/repos/apache/hudi/issues/6188","id":1230832162,"node_id":"IC_kwDOBI7nWM5JXQIi","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T20:34:11Z","updated_at":"2022-08-29T20:35:07Z","author_association":"CONTRIBUTOR","body":"Hey, @floriandaniel! Thanks for taking the time to file very detailed description.\r\n\r\nFirst of all i believe the crux of the problem is likely lying in the realms of using Bloom Index of the Metadata table: we've recently identified a performance gap in there and @yihua is currently working on addressing that (there's already https://github.com/apache/hudi/pull/6432 in progress). \r\n\r\nSecond, i'd recommend you to do following in your evaluation:\r\n\r\n1. Try Hudi 0.12 that has been recently released (we've done a lot of performance benchmarking/optimizations during last release cycle specifically to make sure Hudi's performance is top of the line)\r\n2. Disable `hoodie.bloom.index.use.metadata` for now (until above fix lands)\r\n3. Any particular reason you switching off `hoodie.bloom.index.prune.by.ranges`? It's very crucial aspect of using the Bloom Index that allows to prune the search space considerably for update-heavy workloads only checking the files that could contain the target records (and eliminating ones that couldn't)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230832162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230838319","html_url":"https://github.com/apache/hudi/issues/6014#issuecomment-1230838319","issue_url":"https://api.github.com/repos/apache/hudi/issues/6014","id":1230838319,"node_id":"IC_kwDOBI7nWM5JXRov","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T20:40:17Z","updated_at":"2022-11-07T19:35:59Z","author_association":"CONTRIBUTOR","body":"@nsivabalan this doesn't seem to be related to performance, seems more of an issue of some jobs getting stuck.\r\n\r\n@veenaypatil are you able to reliably reproduce this? To be able to troubleshoot this we will definitely need more info regarding your setup:\r\n\r\n1. Where are you reading from? (I see Kafka in the logs, but need to confirm)\r\n2. How are you reading? (Using DeltaStreamer, Spark Source, etc)\r\n3. Describe your data workload (as much as possible, schema, size, etc)\r\n4. Describe the issue you're observing in more details\r\n5. Provide logs for the failing jobs wherever possible","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230838319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230839312","html_url":"https://github.com/apache/hudi/issues/6278#issuecomment-1230839312","issue_url":"https://api.github.com/repos/apache/hudi/issues/6278","id":1230839312,"node_id":"IC_kwDOBI7nWM5JXR4Q","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T20:41:19Z","updated_at":"2022-08-29T20:41:19Z","author_association":"CONTRIBUTOR","body":"@brskiran1 have you tried on the latest master? Can you please paste stacktrace you're observing.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230839312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230853505","html_url":"https://github.com/apache/hudi/pull/5416#issuecomment-1230853505","issue_url":"https://api.github.com/repos/apache/hudi/issues/5416","id":1230853505,"node_id":"IC_kwDOBI7nWM5JXVWB","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T20:57:43Z","updated_at":"2022-08-29T20:57:43Z","author_association":"CONTRIBUTOR","body":"Thanks for running the benchmarks @zhangyue19921010! \r\n\r\nPlease sum them up in a table so that they are easier to digest and compare. I will prioritize reviewing this PR this week.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230853505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230857071","html_url":"https://github.com/apache/hudi/pull/5509#issuecomment-1230857071","issue_url":"https://api.github.com/repos/apache/hudi/issues/5509","id":1230857071,"node_id":"IC_kwDOBI7nWM5JXWNv","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T21:02:01Z","updated_at":"2022-08-29T21:02:01Z","author_association":"CONTRIBUTOR","body":"@zyp0818 can you please rebase this PR and update its description to follow the format?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230857071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230910981","html_url":"https://github.com/apache/hudi/pull/6240#issuecomment-1230910981","issue_url":"https://api.github.com/repos/apache/hudi/issues/6240","id":1230910981,"node_id":"IC_kwDOBI7nWM5JXjYF","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T22:04:13Z","updated_at":"2022-08-29T22:04:13Z","author_association":"MEMBER","body":"![Screen Shot 2022-08-29 at 5 04 03 PM](https://user-images.githubusercontent.com/2701446/187307025-0d590127-1203-428c-9b26-86cb1c8c0bfa.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230910981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230918126","html_url":"https://github.com/apache/hudi/pull/6513#issuecomment-1230918126","issue_url":"https://api.github.com/repos/apache/hudi/issues/6513","id":1230918126,"node_id":"IC_kwDOBI7nWM5JXlHu","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T22:11:10Z","updated_at":"2022-08-29T22:11:10Z","author_association":"CONTRIBUTOR","body":"Closing in favor of https://github.com/apache/hudi/pull/6534\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230918126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230927676","html_url":"https://github.com/apache/hudi/issues/6504#issuecomment-1230927676","issue_url":"https://api.github.com/repos/apache/hudi/issues/6504","id":1230927676,"node_id":"IC_kwDOBI7nWM5JXnc8","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T22:18:15Z","updated_at":"2022-08-30T22:15:19Z","author_association":"CONTRIBUTOR","body":"guess its an issue w/ bulk_insert. can you use \"Insert\" and let us know what you see. \r\nalso, may be, if you can avoid records w/ \"hoodie_is_deleted\" = true in the first commit, and ensure those are part of later batches, let's see whats the output look like. \r\nand as Ethan requested, do share the full driver logs(atleast full stack trace). \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230927676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230931570","html_url":"https://github.com/apache/hudi/issues/6403#issuecomment-1230931570","issue_url":"https://api.github.com/repos/apache/hudi/issues/6403","id":1230931570,"node_id":"IC_kwDOBI7nWM5JXoZy","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T22:21:00Z","updated_at":"2022-08-29T22:21:00Z","author_association":"CONTRIBUTOR","body":"recently we fixed handling of very old dates. https://github.com/apache/hudi/pull/6352 \r\nyou may need to set this config \r\n```\r\n--conf spark.sql.avro.datetimeRebaseModeInWrite=LEGACY\r\n```\r\nto get it working. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230931570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230933342","html_url":"https://github.com/apache/hudi/issues/6403#issuecomment-1230933342","issue_url":"https://api.github.com/repos/apache/hudi/issues/6403","id":1230933342,"node_id":"IC_kwDOBI7nWM5JXo1e","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T22:21:37Z","updated_at":"2022-08-29T22:21:37Z","author_association":"CONTRIBUTOR","body":"@Armelabdelkbir : let us know if the above resolution fixes your issue. Feel free to close out the issue if don't see the problem anymore. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230933342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230943441","html_url":"https://github.com/apache/hudi/issues/6373#issuecomment-1230943441","issue_url":"https://api.github.com/repos/apache/hudi/issues/6373","id":1230943441,"node_id":"IC_kwDOBI7nWM5JXrTR","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T22:38:27Z","updated_at":"2022-08-29T22:38:27Z","author_association":"CONTRIBUTOR","body":"As you have pointed out, looks like we are directly using file system based listing when getPartitionPathsForFullCleaning is invoked. \r\nLet me consult w/ the author and see if we can fix that: https://github.com/apache/hudi/pull/5169/files#r957849431\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230943441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230944388","html_url":"https://github.com/apache/hudi/issues/6373#issuecomment-1230944388","issue_url":"https://api.github.com/repos/apache/hudi/issues/6373","id":1230944388,"node_id":"IC_kwDOBI7nWM5JXriE","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T22:40:05Z","updated_at":"2022-08-29T22:40:05Z","author_association":"CONTRIBUTOR","body":"but w/ insert, I am trying to gauge why cleaning never kicked in case of your table. unless you have very linient cleaner configs, some cleaning should have happened after few commits. \r\ncan you post your write configs. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230944388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230963413","html_url":"https://github.com/apache/hudi/issues/6403#issuecomment-1230963413","issue_url":"https://api.github.com/repos/apache/hudi/issues/6403","id":1230963413,"node_id":"IC_kwDOBI7nWM5JXwLV","user":{"login":"Armelabdelkbir","id":41400108,"node_id":"MDQ6VXNlcjQxNDAwMTA4","avatar_url":"https://avatars.githubusercontent.com/u/41400108?v=4","gravatar_id":"","url":"https://api.github.com/users/Armelabdelkbir","html_url":"https://github.com/Armelabdelkbir","followers_url":"https://api.github.com/users/Armelabdelkbir/followers","following_url":"https://api.github.com/users/Armelabdelkbir/following{/other_user}","gists_url":"https://api.github.com/users/Armelabdelkbir/gists{/gist_id}","starred_url":"https://api.github.com/users/Armelabdelkbir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Armelabdelkbir/subscriptions","organizations_url":"https://api.github.com/users/Armelabdelkbir/orgs","repos_url":"https://api.github.com/users/Armelabdelkbir/repos","events_url":"https://api.github.com/users/Armelabdelkbir/events{/privacy}","received_events_url":"https://api.github.com/users/Armelabdelkbir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-29T23:14:58Z","updated_at":"2022-08-29T23:15:12Z","author_association":"NONE","body":"> @Armelabdelkbir : let us know if the above resolution fixes your issue. Feel free to close out the issue if don't see the problem anymore.\r\n\r\nthe issue is fixed by setting , --conf 'spark.sql.legacy.avro.datetimeRebaseModeInWrite=CORRECTED' \r\nmany thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1230963413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231005492","html_url":"https://github.com/apache/hudi/issues/6532#issuecomment-1231005492","issue_url":"https://api.github.com/repos/apache/hudi/issues/6532","id":1231005492,"node_id":"IC_kwDOBI7nWM5JX6c0","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T00:28:06Z","updated_at":"2022-08-30T00:28:06Z","author_association":"CONTRIBUTOR","body":"There could be gaps in querying bootstrapped Hudi table in Presto.  We will be addressing that in the coming weeks.  Relevant EPIC: HUDI-1265 cc @codope ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231005492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231008201","html_url":"https://github.com/apache/hudi/pull/6240#issuecomment-1231008201","issue_url":"https://api.github.com/repos/apache/hudi/issues/6240","id":1231008201,"node_id":"IC_kwDOBI7nWM5JX7HJ","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T00:32:46Z","updated_at":"2022-08-30T00:32:46Z","author_association":"CONTRIBUTOR","body":"@xushiyan thanks for review, integ-test checkstyple in #6523 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231008201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231009101","html_url":"https://github.com/apache/hudi/issues/6531#issuecomment-1231009101","issue_url":"https://api.github.com/repos/apache/hudi/issues/6531","id":1231009101,"node_id":"IC_kwDOBI7nWM5JX7VN","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T00:34:17Z","updated_at":"2022-08-30T00:34:17Z","author_association":"CONTRIBUTOR","body":"@parisni For bulk insert, you may also dedup within a batch using `hoodie.combine.before.insert=true`, yet that does not avoid duplicates across batches.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231009101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231010954","html_url":"https://github.com/apache/hudi/issues/6529#issuecomment-1231010954","issue_url":"https://api.github.com/repos/apache/hudi/issues/6529","id":1231010954,"node_id":"IC_kwDOBI7nWM5JX7yK","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T00:37:28Z","updated_at":"2022-08-30T00:37:28Z","author_association":"CONTRIBUTOR","body":"@yuzhaojing @danny0405 could you guys help on this Flink issue?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231010954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231013851","html_url":"https://github.com/apache/hudi/issues/6527#issuecomment-1231013851","issue_url":"https://api.github.com/repos/apache/hudi/issues/6527","id":1231013851,"node_id":"IC_kwDOBI7nWM5JX8fb","user":{"login":"txl2017","id":26540066,"node_id":"MDQ6VXNlcjI2NTQwMDY2","avatar_url":"https://avatars.githubusercontent.com/u/26540066?v=4","gravatar_id":"","url":"https://api.github.com/users/txl2017","html_url":"https://github.com/txl2017","followers_url":"https://api.github.com/users/txl2017/followers","following_url":"https://api.github.com/users/txl2017/following{/other_user}","gists_url":"https://api.github.com/users/txl2017/gists{/gist_id}","starred_url":"https://api.github.com/users/txl2017/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txl2017/subscriptions","organizations_url":"https://api.github.com/users/txl2017/orgs","repos_url":"https://api.github.com/users/txl2017/repos","events_url":"https://api.github.com/users/txl2017/events{/privacy}","received_events_url":"https://api.github.com/users/txl2017/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T00:42:35Z","updated_at":"2022-08-30T00:42:35Z","author_association":"NONE","body":"> yes. it might get costly w/ the scale or if you plan to retain lot of file versions. I can file a jira to enhance this. but might need some intelligent design around this.\r\n\r\nok thanks! because this was in our production environment and is really affect our flink task. so we solved it through a simple treatment. and we are looking forward this intelligent design in next release. then we will upgrade.\r\n\r\nhere is our simple treatment\r\n![image](https://user-images.githubusercontent.com/26540066/187322957-1c35788c-253e-436f-ab42-f4bbf7dfe2d2.png)\r\n\r\n![image](https://user-images.githubusercontent.com/26540066/187323045-fa0510ac-e14b-4a20-a337-a78dfee22f69.png)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231013851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231026282","html_url":"https://github.com/apache/hudi/pull/6533#issuecomment-1231026282","issue_url":"https://api.github.com/repos/apache/hudi/issues/6533","id":1231026282,"node_id":"IC_kwDOBI7nWM5JX_hq","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T01:05:30Z","updated_at":"2022-08-30T01:05:30Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"d5a0c16e7dea51a1d1d3f220ad6484f03836ae6e\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11025\",\n    \"triggerID\" : \"d5a0c16e7dea51a1d1d3f220ad6484f03836ae6e\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* d5a0c16e7dea51a1d1d3f220ad6484f03836ae6e Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11025) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231026282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231028726","html_url":"https://github.com/apache/hudi/issues/6528#issuecomment-1231028726","issue_url":"https://api.github.com/repos/apache/hudi/issues/6528","id":1231028726,"node_id":"IC_kwDOBI7nWM5JYAH2","user":{"login":"Zhangshunyu","id":13940237,"node_id":"MDQ6VXNlcjEzOTQwMjM3","avatar_url":"https://avatars.githubusercontent.com/u/13940237?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhangshunyu","html_url":"https://github.com/Zhangshunyu","followers_url":"https://api.github.com/users/Zhangshunyu/followers","following_url":"https://api.github.com/users/Zhangshunyu/following{/other_user}","gists_url":"https://api.github.com/users/Zhangshunyu/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhangshunyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhangshunyu/subscriptions","organizations_url":"https://api.github.com/users/Zhangshunyu/orgs","repos_url":"https://api.github.com/users/Zhangshunyu/repos","events_url":"https://api.github.com/users/Zhangshunyu/events{/privacy}","received_events_url":"https://api.github.com/users/Zhangshunyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T01:09:32Z","updated_at":"2022-08-30T01:09:32Z","author_association":"CONTRIBUTOR","body":"Hi @nsivabalan , thanks for your reply, actually the compation of MDT happend, we can see the commit files in .hoodie/metadata/.hoodie as following pic:\r\n![image](https://user-images.githubusercontent.com/13940237/187325472-f1101b13-9d65-4028-aa5a-8955b95203c2.png)\r\n\r\nbut there are more than 50,000 files left in col_stats/ dir which never be cleaned yet.\r\n\r\nBTW, we checked the code and confused by the comment and settings of metatable writer:\r\n![image](https://user-images.githubusercontent.com/13940237/187325704-9b6c3cc3-6773-4867-bfbf-5d035ed8a441.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231028726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231029116","html_url":"https://github.com/apache/hudi/issues/6528#issuecomment-1231029116","issue_url":"https://api.github.com/repos/apache/hudi/issues/6528","id":1231029116,"node_id":"IC_kwDOBI7nWM5JYAN8","user":{"login":"Zhangshunyu","id":13940237,"node_id":"MDQ6VXNlcjEzOTQwMjM3","avatar_url":"https://avatars.githubusercontent.com/u/13940237?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhangshunyu","html_url":"https://github.com/Zhangshunyu","followers_url":"https://api.github.com/users/Zhangshunyu/followers","following_url":"https://api.github.com/users/Zhangshunyu/following{/other_user}","gists_url":"https://api.github.com/users/Zhangshunyu/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhangshunyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhangshunyu/subscriptions","organizations_url":"https://api.github.com/users/Zhangshunyu/orgs","repos_url":"https://api.github.com/users/Zhangshunyu/repos","events_url":"https://api.github.com/users/Zhangshunyu/events{/privacy}","received_events_url":"https://api.github.com/users/Zhangshunyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T01:10:14Z","updated_at":"2022-08-30T01:10:14Z","author_association":"CONTRIBUTOR","body":"@nsivabalan It seems the auto clean of metatable is disabled?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231029116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231030156","html_url":"https://github.com/apache/hudi/issues/6102#issuecomment-1231030156","issue_url":"https://api.github.com/repos/apache/hudi/issues/6102","id":1231030156,"node_id":"IC_kwDOBI7nWM5JYAeM","user":{"login":"Aload","id":13082598,"node_id":"MDQ6VXNlcjEzMDgyNTk4","avatar_url":"https://avatars.githubusercontent.com/u/13082598?v=4","gravatar_id":"","url":"https://api.github.com/users/Aload","html_url":"https://github.com/Aload","followers_url":"https://api.github.com/users/Aload/followers","following_url":"https://api.github.com/users/Aload/following{/other_user}","gists_url":"https://api.github.com/users/Aload/gists{/gist_id}","starred_url":"https://api.github.com/users/Aload/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aload/subscriptions","organizations_url":"https://api.github.com/users/Aload/orgs","repos_url":"https://api.github.com/users/Aload/repos","events_url":"https://api.github.com/users/Aload/events{/privacy}","received_events_url":"https://api.github.com/users/Aload/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T01:12:14Z","updated_at":"2022-08-30T01:12:14Z","author_association":"NONE","body":"> @Aload : after the patched version, do you see any data loss?\r\n\r\nSorry, the data is missing due to that version. I have downgraded the version and haven't upgraded it yet. Expect to wait until 0.12.1 before considering the upgrade","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231030156/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231050940","html_url":"https://github.com/apache/hudi/issues/6430#issuecomment-1231050940","issue_url":"https://api.github.com/repos/apache/hudi/issues/6430","id":1231050940,"node_id":"IC_kwDOBI7nWM5JYFi8","user":{"login":"dik111","id":34541162,"node_id":"MDQ6VXNlcjM0NTQxMTYy","avatar_url":"https://avatars.githubusercontent.com/u/34541162?v=4","gravatar_id":"","url":"https://api.github.com/users/dik111","html_url":"https://github.com/dik111","followers_url":"https://api.github.com/users/dik111/followers","following_url":"https://api.github.com/users/dik111/following{/other_user}","gists_url":"https://api.github.com/users/dik111/gists{/gist_id}","starred_url":"https://api.github.com/users/dik111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dik111/subscriptions","organizations_url":"https://api.github.com/users/dik111/orgs","repos_url":"https://api.github.com/users/dik111/repos","events_url":"https://api.github.com/users/dik111/events{/privacy}","received_events_url":"https://api.github.com/users/dik111/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T01:55:57Z","updated_at":"2022-08-30T01:55:57Z","author_association":"NONE","body":"I meet the same error in flink-sql-client","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231050940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231051936","html_url":"https://github.com/apache/hudi/issues/6528#issuecomment-1231051936","issue_url":"https://api.github.com/repos/apache/hudi/issues/6528","id":1231051936,"node_id":"IC_kwDOBI7nWM5JYFyg","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T01:57:59Z","updated_at":"2022-08-30T01:57:59Z","author_association":"CONTRIBUTOR","body":"@Zhangshunyu as @nsivabalan Hudi manages the compaction and cleaning for metadata table internally, as shown below in `HoodieBackedTableMetadataWriter` class:\r\n```\r\nprotected void cleanIfNecessary(BaseHoodieWriteClient writeClient, String instantTime) {\r\n    Option<HoodieInstant> lastCompletedCompactionInstant = metadataMetaClient.reloadActiveTimeline()\r\n        .getCommitTimeline().filterCompletedInstants().lastInstant();\r\n    if (lastCompletedCompactionInstant.isPresent()\r\n        && metadataMetaClient.getActiveTimeline().filterCompletedInstants()\r\n            .findInstantsAfter(lastCompletedCompactionInstant.get().getTimestamp()).countInstants() < 3) {\r\n      // do not clean the log files immediately after compaction to give some buffer time for metadata table reader,\r\n      // because there is case that the reader has prepared for the log file readers already before the compaction completes\r\n      // while before/during the reading of the log files, the cleaning triggers and delete the reading files,\r\n      // then a FileNotFoundException(for LogFormatReader) or NPE(for HFileReader) would throw.\r\n\r\n      // 3 is a value that I think is enough for metadata table reader.\r\n      return;\r\n    }\r\n    // Trigger cleaning with suffixes based on the same instant time. This ensures that any future\r\n    // delta commits synced over will not have an instant time lesser than the last completed instant on the\r\n    // metadata table.\r\n    writeClient.clean(instantTime + \"002\");\r\n  }\r\n```\r\n\r\nAlso as laid out above, the current logic prevents the cleaning from happening within 3 instants after the compaction in metadata table.  That could be the reason why you don't see cleaning, as `hoodie.metadata.compact.max.delta.commits` is set to 1.\r\n\r\nCould you try setting  `hoodie.metadata.compact.max.delta.commits` to 5 and see if that solves your problem?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231051936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231052745","html_url":"https://github.com/apache/hudi/issues/6514#issuecomment-1231052745","issue_url":"https://api.github.com/repos/apache/hudi/issues/6514","id":1231052745,"node_id":"IC_kwDOBI7nWM5JYF_J","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T01:59:36Z","updated_at":"2022-08-30T01:59:36Z","author_association":"CONTRIBUTOR","body":"@functicons all version I think need. The doc desc is a bit confusing.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231052745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231054611","html_url":"https://github.com/apache/hudi/issues/6528#issuecomment-1231054611","issue_url":"https://api.github.com/repos/apache/hudi/issues/6528","id":1231054611,"node_id":"IC_kwDOBI7nWM5JYGcT","user":{"login":"Zhangshunyu","id":13940237,"node_id":"MDQ6VXNlcjEzOTQwMjM3","avatar_url":"https://avatars.githubusercontent.com/u/13940237?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhangshunyu","html_url":"https://github.com/Zhangshunyu","followers_url":"https://api.github.com/users/Zhangshunyu/followers","following_url":"https://api.github.com/users/Zhangshunyu/following{/other_user}","gists_url":"https://api.github.com/users/Zhangshunyu/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhangshunyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhangshunyu/subscriptions","organizations_url":"https://api.github.com/users/Zhangshunyu/orgs","repos_url":"https://api.github.com/users/Zhangshunyu/repos","events_url":"https://api.github.com/users/Zhangshunyu/events{/privacy}","received_events_url":"https://api.github.com/users/Zhangshunyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:02:34Z","updated_at":"2022-08-30T02:02:34Z","author_association":"CONTRIBUTOR","body":"Hi @yihua, thanks for your reply, i will try once.\r\nBTW, what's the meaning of '002' here in writeClient.clean(instantTime + \"002\");\r\ni didnt find any instantTime + '002' in timeline","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231054611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231055367","html_url":"https://github.com/apache/hudi/issues/5792#issuecomment-1231055367","issue_url":"https://api.github.com/repos/apache/hudi/issues/5792","id":1231055367,"node_id":"IC_kwDOBI7nWM5JYGoH","user":{"login":"microbearz","id":31836510,"node_id":"MDQ6VXNlcjMxODM2NTEw","avatar_url":"https://avatars.githubusercontent.com/u/31836510?v=4","gravatar_id":"","url":"https://api.github.com/users/microbearz","html_url":"https://github.com/microbearz","followers_url":"https://api.github.com/users/microbearz/followers","following_url":"https://api.github.com/users/microbearz/following{/other_user}","gists_url":"https://api.github.com/users/microbearz/gists{/gist_id}","starred_url":"https://api.github.com/users/microbearz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/microbearz/subscriptions","organizations_url":"https://api.github.com/users/microbearz/orgs","repos_url":"https://api.github.com/users/microbearz/repos","events_url":"https://api.github.com/users/microbearz/events{/privacy}","received_events_url":"https://api.github.com/users/microbearz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:03:46Z","updated_at":"2022-08-30T02:03:46Z","author_association":"CONTRIBUTOR","body":"@a0x I tried to reproduce with master branch, and failed at step 3.\r\n` Cannot write 'note': NullType is incompatible with StringType;`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231055367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231062546","html_url":"https://github.com/apache/hudi/issues/6528#issuecomment-1231062546","issue_url":"https://api.github.com/repos/apache/hudi/issues/6528","id":1231062546,"node_id":"IC_kwDOBI7nWM5JYIYS","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:17:09Z","updated_at":"2022-08-30T02:17:09Z","author_association":"CONTRIBUTOR","body":"> Hi @yihua, thanks for your reply, i will try once. BTW, what's the meaning of '002' here in writeClient.clean(instantTime + \"002\"); i didnt find any instantTime + '002' in timeline\r\n\r\n`002` is the suffix for the clean instant timestamp.  The metadata table writer takes the same timestamp from the deltacommit and adds the suffix of `001` for compaction and `002` for clean to differentiate from the corresponding deltacommit.  This is for easy debugging.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231062546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231062883","html_url":"https://github.com/apache/hudi/issues/6528#issuecomment-1231062883","issue_url":"https://api.github.com/repos/apache/hudi/issues/6528","id":1231062883,"node_id":"IC_kwDOBI7nWM5JYIdj","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:17:43Z","updated_at":"2022-08-30T02:17:43Z","author_association":"CONTRIBUTOR","body":"The reason you don't see any instantTime + '002' in the timeline is that the clean action does not happen in the metadata table.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231062883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231065241","html_url":"https://github.com/apache/hudi/issues/6528#issuecomment-1231065241","issue_url":"https://api.github.com/repos/apache/hudi/issues/6528","id":1231065241,"node_id":"IC_kwDOBI7nWM5JYJCZ","user":{"login":"Zhangshunyu","id":13940237,"node_id":"MDQ6VXNlcjEzOTQwMjM3","avatar_url":"https://avatars.githubusercontent.com/u/13940237?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhangshunyu","html_url":"https://github.com/Zhangshunyu","followers_url":"https://api.github.com/users/Zhangshunyu/followers","following_url":"https://api.github.com/users/Zhangshunyu/following{/other_user}","gists_url":"https://api.github.com/users/Zhangshunyu/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhangshunyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhangshunyu/subscriptions","organizations_url":"https://api.github.com/users/Zhangshunyu/orgs","repos_url":"https://api.github.com/users/Zhangshunyu/repos","events_url":"https://api.github.com/users/Zhangshunyu/events{/privacy}","received_events_url":"https://api.github.com/users/Zhangshunyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:22:04Z","updated_at":"2022-08-30T02:22:04Z","author_association":"CONTRIBUTOR","body":"@yihua Ok, I see, thank you very much!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231065241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231065519","html_url":"https://github.com/apache/hudi/issues/6540#issuecomment-1231065519","issue_url":"https://api.github.com/repos/apache/hudi/issues/6540","id":1231065519,"node_id":"IC_kwDOBI7nWM5JYJGv","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:22:34Z","updated_at":"2022-08-30T02:22:34Z","author_association":"CONTRIBUTOR","body":"@danny0405 another KryoException issue in Flink","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231065519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231065908","html_url":"https://github.com/apache/hudi/pull/6000#issuecomment-1231065908","issue_url":"https://api.github.com/repos/apache/hudi/issues/6000","id":1231065908,"node_id":"IC_kwDOBI7nWM5JYJM0","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:23:18Z","updated_at":"2022-08-30T02:23:18Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2d6ea7345e68fe9cf8f064d68384765b36b0aaae\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9622\",\n    \"triggerID\" : \"2d6ea7345e68fe9cf8f064d68384765b36b0aaae\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3782118990698553ac6121b49641e79e01407353\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10802\",\n    \"triggerID\" : \"3782118990698553ac6121b49641e79e01407353\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b54e1a1397b1294cc4dc6e28bdfea7fb4ccaceab\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10892\",\n    \"triggerID\" : \"b54e1a1397b1294cc4dc6e28bdfea7fb4ccaceab\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b54e1a1397b1294cc4dc6e28bdfea7fb4ccaceab\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10892\",\n    \"triggerID\" : \"1223599455\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"06f352b0235cbbac215174c2755fca24009799c5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10912\",\n    \"triggerID\" : \"06f352b0235cbbac215174c2755fca24009799c5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f97660e842e3302f48e47d2801cf7436eaa1728d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10918\",\n    \"triggerID\" : \"f97660e842e3302f48e47d2801cf7436eaa1728d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f97660e842e3302f48e47d2801cf7436eaa1728d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10918\",\n    \"triggerID\" : \"1226840804\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"25be2cbdb88fc0aae061625b87957e5448bc9ae6\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10939\",\n    \"triggerID\" : \"25be2cbdb88fc0aae061625b87957e5448bc9ae6\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6f8e83a20276203550589848ef38953ae3edd5f5\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11009\",\n    \"triggerID\" : \"6f8e83a20276203550589848ef38953ae3edd5f5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6f8e83a20276203550589848ef38953ae3edd5f5\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11009\",\n    \"triggerID\" : \"1230355907\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"dab63726e5470be1315bb0194720def2a61ecc14\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"dab63726e5470be1315bb0194720def2a61ecc14\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 6f8e83a20276203550589848ef38953ae3edd5f5 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11009) \n* dab63726e5470be1315bb0194720def2a61ecc14 UNKNOWN\n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231065908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231066073","html_url":"https://github.com/apache/hudi/pull/6523#issuecomment-1231066073","issue_url":"https://api.github.com/repos/apache/hudi/issues/6523","id":1231066073,"node_id":"IC_kwDOBI7nWM5JYJPZ","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:23:39Z","updated_at":"2022-08-30T02:23:39Z","author_association":"CONTRIBUTOR","body":"CI is green.\r\n<img width=\"874\" alt=\"Screen Shot 2022-08-29 at 19 23 21\" src=\"https://user-images.githubusercontent.com/2497195/187334475-1c57c3a4-a0ae-4e37-986c-7fba2a8e03a2.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231066073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231068126","html_url":"https://github.com/apache/hudi/pull/6000#issuecomment-1231068126","issue_url":"https://api.github.com/repos/apache/hudi/issues/6000","id":1231068126,"node_id":"IC_kwDOBI7nWM5JYJve","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:27:41Z","updated_at":"2022-08-30T02:27:41Z","author_association":"CONTRIBUTOR","body":"Latest CI run succeeded: https://dev.azure.com/apache-hudi-ci-org/apache-hudi-ci/_build/results?buildId=11009&view=results\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231068126/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231068629","html_url":"https://github.com/apache/hudi/issues/6530#issuecomment-1231068629","issue_url":"https://api.github.com/repos/apache/hudi/issues/6530","id":1231068629,"node_id":"IC_kwDOBI7nWM5JYJ3V","user":{"login":"szknb","id":38200617,"node_id":"MDQ6VXNlcjM4MjAwNjE3","avatar_url":"https://avatars.githubusercontent.com/u/38200617?v=4","gravatar_id":"","url":"https://api.github.com/users/szknb","html_url":"https://github.com/szknb","followers_url":"https://api.github.com/users/szknb/followers","following_url":"https://api.github.com/users/szknb/following{/other_user}","gists_url":"https://api.github.com/users/szknb/gists{/gist_id}","starred_url":"https://api.github.com/users/szknb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szknb/subscriptions","organizations_url":"https://api.github.com/users/szknb/orgs","repos_url":"https://api.github.com/users/szknb/repos","events_url":"https://api.github.com/users/szknb/events{/privacy}","received_events_url":"https://api.github.com/users/szknb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:28:42Z","updated_at":"2022-08-30T03:28:23Z","author_association":"NONE","body":"@nsivabalan \r\n`public class HudiExample {\r\n\r\n    private static final Logger LOG = LogManager.getLogger(HudiExample.class);\r\n\r\n    private static String tableType = HoodieTableType.COPY_ON_WRITE.name();\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        String tablePath = \"hdfs://xxx/xxx/xxx/xxx/hudi\";\r\n        String tableName = \"hudi-test\";\r\n        SparkConf sparkConf = HoodieExampleSparkUtils.defaultSparkConf(\"hoodie-client-example\");\r\n\r\n        try (JavaSparkContext jsc = new JavaSparkContext(sparkConf)) {\r\n\r\n            // Generator of some records to be loaded in.\r\n            HoodieExampleDataGenerator<HoodieAvroPayload> dataGen = new HoodieExampleDataGenerator<>();\r\n\r\n            // initialize the table, if not done already\r\n            Path path = new Path(tablePath);\r\n            FileSystem fs = FSUtils.getFs(tablePath, jsc.hadoopConfiguration());\r\n            if (!fs.exists(path)) {\r\n                HoodieTableMetaClient.initTableType(jsc.hadoopConfiguration(), tablePath,\r\n                        new HoodieTableConfig.Builder()\r\n                                .withTableType(HoodieTableType.valueOf(tableType))\r\n                                .withTableName(tableName)\r\n                                .withPayloadClassName(HoodieTableType.valueOf(tableType), HoodieAvroPayload.class.getName()).build());\r\n            }\r\n\r\n            // Create the write client to write some records in\r\n            HoodieWriteConfig cfg = HoodieWriteConfig\r\n                    .newBuilder()\r\n                    .withPath(tablePath)\r\n                    .withSchema(HoodieExampleDataGenerator.TRIP_EXAMPLE_SCHEMA)\r\n                    .withParallelism(2, 2)\r\n                    .withDeleteParallelism(2)\r\n                    .forTable(tableName)\r\n                    .withIndexConfig(HoodieIndexConfig.newBuilder().withIndexType(HoodieIndex.IndexType.BLOOM).build())\r\n                    .withCompactionConfig(HoodieCompactionConfig.newBuilder().archiveCommitsWith(20, 30).build()).build();\r\n            SparkRDDWriteClient<HoodieAvroPayload> client = new SparkRDDWriteClient<>(new HoodieSparkEngineContext(jsc), cfg);\r\n\r\n            // inserts\r\n            String newCommitTime = client.startCommit();\r\n            LOG.info(\"Starting commit \" + newCommitTime);\r\n\r\n            List<HoodieRecord<HoodieAvroPayload>> records = dataGen.generateInserts(newCommitTime, 10);\r\n            List<HoodieRecord<HoodieAvroPayload>> recordsSoFar = new ArrayList<>(records);\r\n            JavaRDD<HoodieRecord<HoodieAvroPayload>> writeRecords = jsc.parallelize(records, 1);\r\n            client.upsert(writeRecords, newCommitTime);\r\n\r\n            LOG.info(\"insert finished\");\r\n\r\n\r\n        }\r\n    }\r\n\r\n}`\r\n\r\nthe HoodieExampleDataGenerator is: org.apache.hudi.examples.common.HoodieExampleDataGenerator;","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231068629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231070318","html_url":"https://github.com/apache/hudi/issues/6514#issuecomment-1231070318","issue_url":"https://api.github.com/repos/apache/hudi/issues/6514","id":1231070318,"node_id":"IC_kwDOBI7nWM5JYKRu","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:31:55Z","updated_at":"2022-08-30T02:31:55Z","author_association":"CONTRIBUTOR","body":"@functicons  does adding `spark.sql.extensions=org.apache.spark.sql.hudi.HoodieSparkSessionExtension` work for you?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231070318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231071099","html_url":"https://github.com/apache/hudi/pull/6521#issuecomment-1231071099","issue_url":"https://api.github.com/repos/apache/hudi/issues/6521","id":1231071099,"node_id":"IC_kwDOBI7nWM5JYKd7","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:33:13Z","updated_at":"2022-08-30T02:33:13Z","author_association":"CONTRIBUTOR","body":"@pomaster Thanks for your first contribution!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231071099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231076201","html_url":"https://github.com/apache/hudi/pull/6492#issuecomment-1231076201","issue_url":"https://api.github.com/repos/apache/hudi/issues/6492","id":1231076201,"node_id":"IC_kwDOBI7nWM5JYLtp","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T02:43:07Z","updated_at":"2022-08-30T02:43:07Z","author_association":"CONTRIBUTOR","body":"@zjuwangg Thanks for your first contribution!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231076201/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231090323","html_url":"https://github.com/apache/hudi/pull/6302#issuecomment-1231090323","issue_url":"https://api.github.com/repos/apache/hudi/issues/6302","id":1231090323,"node_id":"IC_kwDOBI7nWM5JYPKT","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T03:13:37Z","updated_at":"2022-08-30T03:13:37Z","author_association":"CONTRIBUTOR","body":"@rmoff Thanks for your first contribution!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231090323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231091867","html_url":"https://github.com/apache/hudi/issues/6496#issuecomment-1231091867","issue_url":"https://api.github.com/repos/apache/hudi/issues/6496","id":1231091867,"node_id":"IC_kwDOBI7nWM5JYPib","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T03:17:01Z","updated_at":"2022-08-30T03:17:01Z","author_association":"CONTRIBUTOR","body":"@Armelabdelkbir   if you has this requirement for spark 3.1x  pls  raise a pr, and i will fixed it as soon as possible","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231091867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231096401","html_url":"https://github.com/apache/hudi/pull/6347#issuecomment-1231096401","issue_url":"https://api.github.com/repos/apache/hudi/issues/6347","id":1231096401,"node_id":"IC_kwDOBI7nWM5JYQpR","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T03:26:50Z","updated_at":"2022-08-30T03:26:50Z","author_association":"MEMBER","body":"@honeyaya please also simplify the pr title and add details in change logs section.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231096401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231096982","html_url":"https://github.com/apache/hudi/pull/6535#issuecomment-1231096982","issue_url":"https://api.github.com/repos/apache/hudi/issues/6535","id":1231096982,"node_id":"IC_kwDOBI7nWM5JYQyW","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T03:27:52Z","updated_at":"2022-08-30T03:27:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"4744b46d30c8b9cb57161f63996db85bd15b1dca\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11027\",\n    \"triggerID\" : \"4744b46d30c8b9cb57161f63996db85bd15b1dca\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 4744b46d30c8b9cb57161f63996db85bd15b1dca Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11027) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231096982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231100189","html_url":"https://github.com/apache/hudi/pull/1650#issuecomment-1231100189","issue_url":"https://api.github.com/repos/apache/hudi/issues/1650","id":1231100189,"node_id":"IC_kwDOBI7nWM5JYRkd","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T03:34:37Z","updated_at":"2022-08-30T03:34:37Z","author_association":"CONTRIBUTOR","body":"@pratyakshsharma do you still plan to land this PR given the code base has changed since April?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231100189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231101317","html_url":"https://github.com/apache/hudi/pull/960#issuecomment-1231101317","issue_url":"https://api.github.com/repos/apache/hudi/issues/960","id":1231101317,"node_id":"IC_kwDOBI7nWM5JYR2F","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T03:36:52Z","updated_at":"2022-08-30T03:36:52Z","author_association":"CONTRIBUTOR","body":"@arw357 @leesf @vinothchandar @bvaradar this PR becomes old :)  Do we still need this?  @nsivabalan @xushiyan has the current set of tests already covered different types?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231101317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231105760","html_url":"https://github.com/apache/hudi/issues/6529#issuecomment-1231105760","issue_url":"https://api.github.com/repos/apache/hudi/issues/6529","id":1231105760,"node_id":"IC_kwDOBI7nWM5JYS7g","user":{"login":"liangyu-1","id":62563545,"node_id":"MDQ6VXNlcjYyNTYzNTQ1","avatar_url":"https://avatars.githubusercontent.com/u/62563545?v=4","gravatar_id":"","url":"https://api.github.com/users/liangyu-1","html_url":"https://github.com/liangyu-1","followers_url":"https://api.github.com/users/liangyu-1/followers","following_url":"https://api.github.com/users/liangyu-1/following{/other_user}","gists_url":"https://api.github.com/users/liangyu-1/gists{/gist_id}","starred_url":"https://api.github.com/users/liangyu-1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liangyu-1/subscriptions","organizations_url":"https://api.github.com/users/liangyu-1/orgs","repos_url":"https://api.github.com/users/liangyu-1/repos","events_url":"https://api.github.com/users/liangyu-1/events{/privacy}","received_events_url":"https://api.github.com/users/liangyu-1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T03:46:39Z","updated_at":"2022-08-30T03:46:39Z","author_association":"NONE","body":"I figured out that I imported both hudi-flink-client jar and hudi-flink-bundle jar in my project.\r\nhudi-flinl-bundle have shaded org.apache.avro but hudi-flink-client didn't, thus there is a conflict.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231105760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231106323","html_url":"https://github.com/apache/hudi/pull/6083#issuecomment-1231106323","issue_url":"https://api.github.com/repos/apache/hudi/issues/6083","id":1231106323,"node_id":"IC_kwDOBI7nWM5JYTET","user":{"login":"zhoulii","id":23091870,"node_id":"MDQ6VXNlcjIzMDkxODcw","avatar_url":"https://avatars.githubusercontent.com/u/23091870?v=4","gravatar_id":"","url":"https://api.github.com/users/zhoulii","html_url":"https://github.com/zhoulii","followers_url":"https://api.github.com/users/zhoulii/followers","following_url":"https://api.github.com/users/zhoulii/following{/other_user}","gists_url":"https://api.github.com/users/zhoulii/gists{/gist_id}","starred_url":"https://api.github.com/users/zhoulii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhoulii/subscriptions","organizations_url":"https://api.github.com/users/zhoulii/orgs","repos_url":"https://api.github.com/users/zhoulii/repos","events_url":"https://api.github.com/users/zhoulii/events{/privacy}","received_events_url":"https://api.github.com/users/zhoulii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T03:47:59Z","updated_at":"2022-08-30T03:47:59Z","author_association":"MEMBER","body":"Hi @yihua, I add a new commit to solve the conflict (seems not work), and there are three commits for this PRDo I need to squash these commits?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231106323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231110006","html_url":"https://github.com/apache/hudi/issues/6530#issuecomment-1231110006","issue_url":"https://api.github.com/repos/apache/hudi/issues/6530","id":1231110006,"node_id":"IC_kwDOBI7nWM5JYT92","user":{"login":"szknb","id":38200617,"node_id":"MDQ6VXNlcjM4MjAwNjE3","avatar_url":"https://avatars.githubusercontent.com/u/38200617?v=4","gravatar_id":"","url":"https://api.github.com/users/szknb","html_url":"https://github.com/szknb","followers_url":"https://api.github.com/users/szknb/followers","following_url":"https://api.github.com/users/szknb/following{/other_user}","gists_url":"https://api.github.com/users/szknb/gists{/gist_id}","starred_url":"https://api.github.com/users/szknb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szknb/subscriptions","organizations_url":"https://api.github.com/users/szknb/orgs","repos_url":"https://api.github.com/users/szknb/repos","events_url":"https://api.github.com/users/szknb/events{/privacy}","received_events_url":"https://api.github.com/users/szknb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T03:55:33Z","updated_at":"2022-08-30T03:55:33Z","author_association":"NONE","body":"hudi version: 0.7.0-bd33","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231110006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231120563","html_url":"https://github.com/apache/hudi/pull/6539#issuecomment-1231120563","issue_url":"https://api.github.com/repos/apache/hudi/issues/6539","id":1231120563,"node_id":"IC_kwDOBI7nWM5JYWiz","user":{"login":"wuwenchi","id":19755729,"node_id":"MDQ6VXNlcjE5NzU1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/19755729?v=4","gravatar_id":"","url":"https://api.github.com/users/wuwenchi","html_url":"https://github.com/wuwenchi","followers_url":"https://api.github.com/users/wuwenchi/followers","following_url":"https://api.github.com/users/wuwenchi/following{/other_user}","gists_url":"https://api.github.com/users/wuwenchi/gists{/gist_id}","starred_url":"https://api.github.com/users/wuwenchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuwenchi/subscriptions","organizations_url":"https://api.github.com/users/wuwenchi/orgs","repos_url":"https://api.github.com/users/wuwenchi/repos","events_url":"https://api.github.com/users/wuwenchi/events{/privacy}","received_events_url":"https://api.github.com/users/wuwenchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T04:16:39Z","updated_at":"2022-08-30T04:16:39Z","author_association":"CONTRIBUTOR","body":"@danny0405  Can you help review it?  Thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231120563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231125320","html_url":"https://github.com/apache/hudi/issues/6526#issuecomment-1231125320","issue_url":"https://api.github.com/repos/apache/hudi/issues/6526","id":1231125320,"node_id":"IC_kwDOBI7nWM5JYXtI","user":{"login":"si1verwind17","id":112374814,"node_id":"U_kgDOBrK0Hg","avatar_url":"https://avatars.githubusercontent.com/u/112374814?v=4","gravatar_id":"","url":"https://api.github.com/users/si1verwind17","html_url":"https://github.com/si1verwind17","followers_url":"https://api.github.com/users/si1verwind17/followers","following_url":"https://api.github.com/users/si1verwind17/following{/other_user}","gists_url":"https://api.github.com/users/si1verwind17/gists{/gist_id}","starred_url":"https://api.github.com/users/si1verwind17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/si1verwind17/subscriptions","organizations_url":"https://api.github.com/users/si1verwind17/orgs","repos_url":"https://api.github.com/users/si1verwind17/repos","events_url":"https://api.github.com/users/si1verwind17/events{/privacy}","received_events_url":"https://api.github.com/users/si1verwind17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T04:26:24Z","updated_at":"2022-08-30T04:26:24Z","author_association":"NONE","body":"I have resolved the error. The problem wasn't from the Hudi side. \r\n\r\nThe error below\r\n`: org.apache.hudi.exception.HoodieException: Could not sync using the meta sync class org.apache.hudi.hive.HiveSyncTool`\r\n\r\ncaused by the other error from Hive Metastore which doesn't recognize scheme gs://\r\n\r\nSo, I solved by putting the gcs connector jar (shaded)  to $HIVE_HOME/lib in Remote Hive Metastore","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231125320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231130336","html_url":"https://github.com/apache/hudi/pull/6083#issuecomment-1231130336","issue_url":"https://api.github.com/repos/apache/hudi/issues/6083","id":1231130336,"node_id":"IC_kwDOBI7nWM5JYY7g","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T04:36:46Z","updated_at":"2022-08-30T04:36:46Z","author_association":"CONTRIBUTOR","body":"> Hi @yihua, I add a new commit to solve the conflict (seems not work), and there are three commits for this PRDo I need to squash these commits?\r\n\r\nDon't worry about it.  I'll do the squash and merge so you don't have to squash the commits.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231130336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231148093","html_url":"https://github.com/apache/hudi/pull/6535#issuecomment-1231148093","issue_url":"https://api.github.com/repos/apache/hudi/issues/6535","id":1231148093,"node_id":"IC_kwDOBI7nWM5JYdQ9","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T05:09:59Z","updated_at":"2022-08-30T05:09:59Z","author_association":"CONTRIBUTOR","body":"@xushiyan @nsivabalan There are two other PRs fixing the build issue around protoc: #6455 #5757.  Shall we decide the approach here and land only one of these?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231148093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231174530","html_url":"https://github.com/apache/hudi/pull/6515#issuecomment-1231174530","issue_url":"https://api.github.com/repos/apache/hudi/issues/6515","id":1231174530,"node_id":"IC_kwDOBI7nWM5JYjuC","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T05:49:58Z","updated_at":"2022-08-30T05:49:58Z","author_association":"CONTRIBUTOR","body":"@danny0405 @XuQianJin-Stars is this PR good for merging?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231174530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231174900","html_url":"https://github.com/apache/hudi/pull/6537#issuecomment-1231174900","issue_url":"https://api.github.com/repos/apache/hudi/issues/6537","id":1231174900,"node_id":"IC_kwDOBI7nWM5JYjz0","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T05:50:31Z","updated_at":"2022-08-30T05:50:31Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"9e63b76454a06d57a141ad4b844752abb346d3fa\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"9e63b76454a06d57a141ad4b844752abb346d3fa\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a245595d0c988610d845f6918fe8c5ea76383e92\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11029\",\n    \"triggerID\" : \"a245595d0c988610d845f6918fe8c5ea76383e92\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"00b9224ec8c49e83ca51d52351c782083a4fba84\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11030\",\n    \"triggerID\" : \"00b9224ec8c49e83ca51d52351c782083a4fba84\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 9e63b76454a06d57a141ad4b844752abb346d3fa UNKNOWN\n* 00b9224ec8c49e83ca51d52351c782083a4fba84 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11030) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231174900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231181637","html_url":"https://github.com/apache/hudi/pull/6506#issuecomment-1231181637","issue_url":"https://api.github.com/repos/apache/hudi/issues/6506","id":1231181637,"node_id":"IC_kwDOBI7nWM5JYldF","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T06:00:39Z","updated_at":"2022-08-30T06:00:39Z","author_association":"CONTRIBUTOR","body":"@parisni Could you also add the Jira ticket number?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231181637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231241569","html_url":"https://github.com/apache/hudi/pull/6512#issuecomment-1231241569","issue_url":"https://api.github.com/repos/apache/hudi/issues/6512","id":1231241569,"node_id":"IC_kwDOBI7nWM5JY0Fh","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T07:10:21Z","updated_at":"2022-08-30T07:10:21Z","author_association":"CONTRIBUTOR","body":"Hi, @awkwardd , can you explain a little what are we trying to fix here ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231241569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231246124","html_url":"https://github.com/apache/hudi/pull/6534#issuecomment-1231246124","issue_url":"https://api.github.com/repos/apache/hudi/issues/6534","id":1231246124,"node_id":"IC_kwDOBI7nWM5JY1Ms","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T07:15:25Z","updated_at":"2022-08-30T07:15:25Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"1a56cdc2bc53917efb33ff786ff14775dd2b526b\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11026\",\n    \"triggerID\" : \"1a56cdc2bc53917efb33ff786ff14775dd2b526b\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 1a56cdc2bc53917efb33ff786ff14775dd2b526b Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11026) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231246124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231319185","html_url":"https://github.com/apache/hudi/pull/6541#issuecomment-1231319185","issue_url":"https://api.github.com/repos/apache/hudi/issues/6541","id":1231319185,"node_id":"IC_kwDOBI7nWM5JZHCR","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T08:17:46Z","updated_at":"2022-08-30T08:17:46Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"1cbef90f645fdaaa68383ac186aedefbbf7da58b\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11034\",\n    \"triggerID\" : \"1cbef90f645fdaaa68383ac186aedefbbf7da58b\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 1cbef90f645fdaaa68383ac186aedefbbf7da58b Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11034) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231319185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231362369","html_url":"https://github.com/apache/hudi/issues/6540#issuecomment-1231362369","issue_url":"https://api.github.com/repos/apache/hudi/issues/6540","id":1231362369,"node_id":"IC_kwDOBI7nWM5JZRlB","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T08:48:13Z","updated_at":"2022-08-30T08:48:13Z","author_association":"CONTRIBUTOR","body":"Seems there is no enough managed memory for sort, what version of hudi did you use then ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231362369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231366244","html_url":"https://github.com/apache/hudi/issues/6398#issuecomment-1231366244","issue_url":"https://api.github.com/repos/apache/hudi/issues/6398","id":1231366244,"node_id":"IC_kwDOBI7nWM5JZShk","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T08:51:53Z","updated_at":"2022-08-30T08:51:53Z","author_association":"CONTRIBUTOR","body":"> Thanks for your response, I already saw this in the pom file. Thats why we started our spark-shell with the hbase jars in this version, but unfortunately with no success. I guess they are the last one on the classpath.\r\n> \r\n> I was wondering why the hbase lib is mandatory for the metadate table. Where is the metadata stored when we're setting this option? `.option(\"hoodie.index.type\",\"BLOOM\")`\r\n\r\nSame question... I didn't find the option either","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231366244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231369252","html_url":"https://github.com/apache/hudi/issues/6543#issuecomment-1231369252","issue_url":"https://api.github.com/repos/apache/hudi/issues/6543","id":1231369252,"node_id":"IC_kwDOBI7nWM5JZTQk","user":{"login":"CaesarWangX","id":12985552,"node_id":"MDQ6VXNlcjEyOTg1NTUy","avatar_url":"https://avatars.githubusercontent.com/u/12985552?v=4","gravatar_id":"","url":"https://api.github.com/users/CaesarWangX","html_url":"https://github.com/CaesarWangX","followers_url":"https://api.github.com/users/CaesarWangX/followers","following_url":"https://api.github.com/users/CaesarWangX/following{/other_user}","gists_url":"https://api.github.com/users/CaesarWangX/gists{/gist_id}","starred_url":"https://api.github.com/users/CaesarWangX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaesarWangX/subscriptions","organizations_url":"https://api.github.com/users/CaesarWangX/orgs","repos_url":"https://api.github.com/users/CaesarWangX/repos","events_url":"https://api.github.com/users/CaesarWangX/events{/privacy}","received_events_url":"https://api.github.com/users/CaesarWangX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T08:54:50Z","updated_at":"2022-08-30T08:54:50Z","author_association":"NONE","body":"trace log\r\n[trace.txt](https://github.com/apache/hudi/files/9451349/trace.txt)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231369252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231450834","html_url":"https://github.com/apache/hudi/pull/6512#issuecomment-1231450834","issue_url":"https://api.github.com/repos/apache/hudi/issues/6512","id":1231450834,"node_id":"IC_kwDOBI7nWM5JZnLS","user":{"login":"awkwardd","id":66417830,"node_id":"MDQ6VXNlcjY2NDE3ODMw","avatar_url":"https://avatars.githubusercontent.com/u/66417830?v=4","gravatar_id":"","url":"https://api.github.com/users/awkwardd","html_url":"https://github.com/awkwardd","followers_url":"https://api.github.com/users/awkwardd/followers","following_url":"https://api.github.com/users/awkwardd/following{/other_user}","gists_url":"https://api.github.com/users/awkwardd/gists{/gist_id}","starred_url":"https://api.github.com/users/awkwardd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/awkwardd/subscriptions","organizations_url":"https://api.github.com/users/awkwardd/orgs","repos_url":"https://api.github.com/users/awkwardd/repos","events_url":"https://api.github.com/users/awkwardd/events{/privacy}","received_events_url":"https://api.github.com/users/awkwardd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T10:05:45Z","updated_at":"2022-08-30T10:05:45Z","author_association":"NONE","body":"> Hi, @awkwardd , can you explain a little what are we trying to fix here ?\r\n\r\nWhen we use the multi plan compaction,we may need the plan to commit in order,so I try to figure that by create a set to store the instant that are not ready,and I transform the compactionPlans(List of Pair<String(instant),compactionPlan>) to the sinkFunction.When a commit is ready,I remove the instant from the noReadyCache,and I will check that if it the earliest compaction need to commit, if that commit the compaction instant and check if the next one is ready and commit.if it's not the earliest one, just remove its instant from the noReadyCache.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231450834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231452574","html_url":"https://github.com/apache/hudi/pull/6512#issuecomment-1231452574","issue_url":"https://api.github.com/repos/apache/hudi/issues/6512","id":1231452574,"node_id":"IC_kwDOBI7nWM5JZnme","user":{"login":"awkwardd","id":66417830,"node_id":"MDQ6VXNlcjY2NDE3ODMw","avatar_url":"https://avatars.githubusercontent.com/u/66417830?v=4","gravatar_id":"","url":"https://api.github.com/users/awkwardd","html_url":"https://github.com/awkwardd","followers_url":"https://api.github.com/users/awkwardd/followers","following_url":"https://api.github.com/users/awkwardd/following{/other_user}","gists_url":"https://api.github.com/users/awkwardd/gists{/gist_id}","starred_url":"https://api.github.com/users/awkwardd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/awkwardd/subscriptions","organizations_url":"https://api.github.com/users/awkwardd/orgs","repos_url":"https://api.github.com/users/awkwardd/repos","events_url":"https://api.github.com/users/awkwardd/events{/privacy}","received_events_url":"https://api.github.com/users/awkwardd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T10:07:17Z","updated_at":"2022-08-30T10:07:17Z","author_association":"NONE","body":"When we use the multi plan compaction,we may need the plan to commit in order,so I try to figure that by create a set to store the instant that are not ready,and I transform the compactionPlans(List of Pair<String(instant),compactionPlan>) to the sinkFunction.When a commit is ready,I remove the instant from the noReadyCache,and I will check that if it the earliest compaction need to commit, if that commit the compaction instant and check if the next one is ready and commit.if it's not the earliest one, just remove its instant from the noReadyCache.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231452574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231490172","html_url":"https://github.com/apache/hudi/pull/4913#issuecomment-1231490172","issue_url":"https://api.github.com/repos/apache/hudi/issues/4913","id":1231490172,"node_id":"IC_kwDOBI7nWM5JZwx8","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T10:43:43Z","updated_at":"2022-08-30T10:43:58Z","author_association":"CONTRIBUTOR","body":"hi @guanziyue  Overall looks good","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231490172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231523478","html_url":"https://github.com/apache/hudi/issues/6540#issuecomment-1231523478","issue_url":"https://api.github.com/repos/apache/hudi/issues/6540","id":1231523478,"node_id":"IC_kwDOBI7nWM5JZ46W","user":{"login":"hbgstc123","id":8900183,"node_id":"MDQ6VXNlcjg5MDAxODM=","avatar_url":"https://avatars.githubusercontent.com/u/8900183?v=4","gravatar_id":"","url":"https://api.github.com/users/hbgstc123","html_url":"https://github.com/hbgstc123","followers_url":"https://api.github.com/users/hbgstc123/followers","following_url":"https://api.github.com/users/hbgstc123/following{/other_user}","gists_url":"https://api.github.com/users/hbgstc123/gists{/gist_id}","starred_url":"https://api.github.com/users/hbgstc123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbgstc123/subscriptions","organizations_url":"https://api.github.com/users/hbgstc123/orgs","repos_url":"https://api.github.com/users/hbgstc123/repos","events_url":"https://api.github.com/users/hbgstc123/events{/privacy}","received_events_url":"https://api.github.com/users/hbgstc123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T11:17:24Z","updated_at":"2022-08-30T11:17:24Z","author_association":"CONTRIBUTOR","body":"> Seems there is no enough managed memory for sort, what version of hudi did you use then ?\r\n\r\nI try 0.11 and 0.12, and it doesn't seem like a memory problem, because i run on local with 10 record still see this error","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231523478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231722948","html_url":"https://github.com/apache/hudi/issues/6397#issuecomment-1231722948","issue_url":"https://api.github.com/repos/apache/hudi/issues/6397","id":1231722948,"node_id":"IC_kwDOBI7nWM5JapnE","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T14:09:36Z","updated_at":"2022-08-30T14:09:36Z","author_association":"CONTRIBUTOR","body":"@Zouxxyy Can you provide a physical plan","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231722948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231746133","html_url":"https://github.com/apache/hudi/pull/6534#issuecomment-1231746133","issue_url":"https://api.github.com/repos/apache/hudi/issues/6534","id":1231746133,"node_id":"IC_kwDOBI7nWM5JavRV","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T14:26:58Z","updated_at":"2022-08-30T14:26:58Z","author_association":"CONTRIBUTOR","body":"going ahead w/ merging to unblock green CI ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231746133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231748436","html_url":"https://github.com/apache/hudi/pull/6438#issuecomment-1231748436","issue_url":"https://api.github.com/repos/apache/hudi/issues/6438","id":1231748436,"node_id":"IC_kwDOBI7nWM5Jav1U","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T14:28:42Z","updated_at":"2022-08-30T14:28:42Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231748436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231814490","html_url":"https://github.com/apache/hudi/pull/5629#issuecomment-1231814490","issue_url":"https://api.github.com/repos/apache/hudi/issues/5629","id":1231814490,"node_id":"IC_kwDOBI7nWM5Ja_9a","user":{"login":"minihippo","id":17903481,"node_id":"MDQ6VXNlcjE3OTAzNDgx","avatar_url":"https://avatars.githubusercontent.com/u/17903481?v=4","gravatar_id":"","url":"https://api.github.com/users/minihippo","html_url":"https://github.com/minihippo","followers_url":"https://api.github.com/users/minihippo/followers","following_url":"https://api.github.com/users/minihippo/following{/other_user}","gists_url":"https://api.github.com/users/minihippo/gists{/gist_id}","starred_url":"https://api.github.com/users/minihippo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minihippo/subscriptions","organizations_url":"https://api.github.com/users/minihippo/orgs","repos_url":"https://api.github.com/users/minihippo/repos","events_url":"https://api.github.com/users/minihippo/events{/privacy}","received_events_url":"https://api.github.com/users/minihippo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T15:19:16Z","updated_at":"2022-08-30T15:19:16Z","author_association":"CONTRIBUTOR","body":"> > How much gains do we get after the patch, feel nervous about this change, let's pay more attention about stability first.\r\n> \r\n> @danny0405 The current benchmark result of RFC-46:\r\n> \r\n> * no overhead introduced of avro log read/write with new merger\r\n> * Compare with avro record in reading/writing parquet log\r\n>   \r\n>   * for read, spark record improves ~33% (after e2e duration-before e2e duration)*before\r\n>   * for write, spark record improves 7%~9%. In the stage that transforms input to hoodie record, it improves ~25%. But the shuffle data becomes bigger that before. It costs more in the following shuffle read stage.\r\n> \r\n> All based on spark batch write/read\r\n\r\nAfter adding map type to test dataset, we find that the e2e of writing improves 27%.\r\n- with further analysis,  interalRow2parquet improves 40%, which matches with 50% CPU cost in avro2parquet  got by flame graph.\r\n- The relationship between performance improvement and complex column num is not nonlinear. That means even if increase the complex column, the income will not increase.\r\n\r\nTo reproduce the benchmark result, I add the simple one to the test part","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231814490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231829249","html_url":"https://github.com/apache/hudi/issues/6540#issuecomment-1231829249","issue_url":"https://api.github.com/repos/apache/hudi/issues/6540","id":1231829249,"node_id":"IC_kwDOBI7nWM5JbDkB","user":{"login":"hbgstc123","id":8900183,"node_id":"MDQ6VXNlcjg5MDAxODM=","avatar_url":"https://avatars.githubusercontent.com/u/8900183?v=4","gravatar_id":"","url":"https://api.github.com/users/hbgstc123","html_url":"https://github.com/hbgstc123","followers_url":"https://api.github.com/users/hbgstc123/followers","following_url":"https://api.github.com/users/hbgstc123/following{/other_user}","gists_url":"https://api.github.com/users/hbgstc123/gists{/gist_id}","starred_url":"https://api.github.com/users/hbgstc123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbgstc123/subscriptions","organizations_url":"https://api.github.com/users/hbgstc123/orgs","repos_url":"https://api.github.com/users/hbgstc123/repos","events_url":"https://api.github.com/users/hbgstc123/events{/privacy}","received_events_url":"https://api.github.com/users/hbgstc123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T15:31:13Z","updated_at":"2022-08-30T15:31:13Z","author_association":"CONTRIBUTOR","body":"`  override def getRegistration(klass: Class[_]) =\r\n    if (isJavaLambda(klass)) {\r\n      getClassResolver.getRegistration(classOf[ClosureSerializer.Closure])\r\n    } else super.getRegistration(klass)`\r\n\r\nThis may be a flink problem, in com.twitter.chill.KryoBase, if the above code enter first branch, it will try to get serializer from a map in classResolver and not checking if the result is null, then it may cause a NPE. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231829249/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231875367","html_url":"https://github.com/apache/hudi/pull/4958#issuecomment-1231875367","issue_url":"https://api.github.com/repos/apache/hudi/issues/4958","id":1231875367,"node_id":"IC_kwDOBI7nWM5JbO0n","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T16:08:50Z","updated_at":"2022-08-30T16:08:50Z","author_association":"MEMBER","body":"@YuweiXiao Let's take this PR forward. Can you please rebase again?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1231875367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232051075","html_url":"https://github.com/apache/hudi/pull/6507#issuecomment-1232051075","issue_url":"https://api.github.com/repos/apache/hudi/issues/6507","id":1232051075,"node_id":"IC_kwDOBI7nWM5Jb5uD","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T19:03:58Z","updated_at":"2022-08-30T19:03:58Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"20acefc886a7f3618a9a1e3a946b1aae4c506e9e\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11047\",\n    \"triggerID\" : \"20acefc886a7f3618a9a1e3a946b1aae4c506e9e\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 20acefc886a7f3618a9a1e3a946b1aae4c506e9e Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11047) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232051075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232117097","html_url":"https://github.com/apache/hudi/pull/6545#issuecomment-1232117097","issue_url":"https://api.github.com/repos/apache/hudi/issues/6545","id":1232117097,"node_id":"IC_kwDOBI7nWM5JcJ1p","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T20:11:12Z","updated_at":"2022-08-30T20:11:12Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"c318dc9697d76e743b5592c95b7ca2f161088b1d\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11049\",\n    \"triggerID\" : \"c318dc9697d76e743b5592c95b7ca2f161088b1d\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* c318dc9697d76e743b5592c95b7ca2f161088b1d Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11049) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232117097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232193821","html_url":"https://github.com/apache/hudi/pull/6524#issuecomment-1232193821","issue_url":"https://api.github.com/repos/apache/hudi/issues/6524","id":1232193821,"node_id":"IC_kwDOBI7nWM5Jcckd","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T21:35:13Z","updated_at":"2022-08-30T21:35:13Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"29b3d898edfb9b3e18d62a04881dc8c274449111\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11008\",\n    \"triggerID\" : \"29b3d898edfb9b3e18d62a04881dc8c274449111\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e2579405afe88655f8f05f134f8c3ede38733b7d\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11052\",\n    \"triggerID\" : \"e2579405afe88655f8f05f134f8c3ede38733b7d\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* e2579405afe88655f8f05f134f8c3ede38733b7d Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11052) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232193821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232202801","html_url":"https://github.com/apache/hudi/issues/6212#issuecomment-1232202801","issue_url":"https://api.github.com/repos/apache/hudi/issues/6212","id":1232202801,"node_id":"IC_kwDOBI7nWM5Jcewx","user":{"login":"namuny","id":12869068,"node_id":"MDQ6VXNlcjEyODY5MDY4","avatar_url":"https://avatars.githubusercontent.com/u/12869068?v=4","gravatar_id":"","url":"https://api.github.com/users/namuny","html_url":"https://github.com/namuny","followers_url":"https://api.github.com/users/namuny/followers","following_url":"https://api.github.com/users/namuny/following{/other_user}","gists_url":"https://api.github.com/users/namuny/gists{/gist_id}","starred_url":"https://api.github.com/users/namuny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namuny/subscriptions","organizations_url":"https://api.github.com/users/namuny/orgs","repos_url":"https://api.github.com/users/namuny/repos","events_url":"https://api.github.com/users/namuny/events{/privacy}","received_events_url":"https://api.github.com/users/namuny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T21:46:52Z","updated_at":"2022-08-30T21:46:52Z","author_association":"NONE","body":"Hi @nsivabalan, sorry to be a hassle but do you have any updates on this one?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232202801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232204215","html_url":"https://github.com/apache/hudi/pull/6535#issuecomment-1232204215","issue_url":"https://api.github.com/repos/apache/hudi/issues/6535","id":1232204215,"node_id":"IC_kwDOBI7nWM5JcfG3","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T21:48:42Z","updated_at":"2022-08-30T21:48:42Z","author_association":"CONTRIBUTOR","body":"yes, we are going ahead w/ Jon's fix. we will close other PRs. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232204215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232205064","html_url":"https://github.com/apache/hudi/pull/6455#issuecomment-1232205064","issue_url":"https://api.github.com/repos/apache/hudi/issues/6455","id":1232205064,"node_id":"IC_kwDOBI7nWM5JcfUI","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T21:49:53Z","updated_at":"2022-08-30T21:49:53Z","author_association":"CONTRIBUTOR","body":"Closing in favor of https://github.com/apache/hudi/pull/6535\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232205064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232205216","html_url":"https://github.com/apache/hudi/pull/5757#issuecomment-1232205216","issue_url":"https://api.github.com/repos/apache/hudi/issues/5757","id":1232205216,"node_id":"IC_kwDOBI7nWM5JcfWg","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T21:50:06Z","updated_at":"2022-08-30T21:50:06Z","author_association":"CONTRIBUTOR","body":"Closing in favor of https://github.com/apache/hudi/pull/6535","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232205216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232206292","html_url":"https://github.com/apache/hudi/pull/6455#issuecomment-1232206292","issue_url":"https://api.github.com/repos/apache/hudi/issues/6455","id":1232206292,"node_id":"IC_kwDOBI7nWM5JcfnU","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T21:51:27Z","updated_at":"2022-08-30T21:51:27Z","author_association":"CONTRIBUTOR","body":"@smarthi : can you check out https://github.com/apache/hudi/pull/6535 and let us know if we need any more fixes from this patch? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232206292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232221844","html_url":"https://github.com/apache/hudi/issues/6452#issuecomment-1232221844","issue_url":"https://api.github.com/repos/apache/hudi/issues/6452","id":1232221844,"node_id":"IC_kwDOBI7nWM5JcjaU","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T22:12:24Z","updated_at":"2022-08-30T22:12:24Z","author_association":"CONTRIBUTOR","body":"@minihippo : Do you want to take up this fix. its a minor bug fix on the sql layer. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232221844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232245948","html_url":"https://github.com/apache/hudi/pull/6546#issuecomment-1232245948","issue_url":"https://api.github.com/repos/apache/hudi/issues/6546","id":1232245948,"node_id":"IC_kwDOBI7nWM5JcpS8","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T22:44:35Z","updated_at":"2022-08-30T22:44:35Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"7f3810447e0e279491030e4fe66453af789bb1a8\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11062\",\n    \"triggerID\" : \"7f3810447e0e279491030e4fe66453af789bb1a8\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 7f3810447e0e279491030e4fe66453af789bb1a8 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11062) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232245948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232267492","html_url":"https://github.com/apache/hudi/issues/6403#issuecomment-1232267492","issue_url":"https://api.github.com/repos/apache/hudi/issues/6403","id":1232267492,"node_id":"IC_kwDOBI7nWM5Jcujk","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T23:19:16Z","updated_at":"2022-08-30T23:19:16Z","author_association":"CONTRIBUTOR","body":"cool, thanks for the update! \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232267492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232278776","html_url":"https://github.com/apache/hudi/issues/6373#issuecomment-1232278776","issue_url":"https://api.github.com/repos/apache/hudi/issues/6373","id":1232278776,"node_id":"IC_kwDOBI7nWM5JcxT4","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T23:38:05Z","updated_at":"2022-08-30T23:38:05Z","author_association":"CONTRIBUTOR","body":"hey @parisni : I have put up a [fix](https://github.com/apache/hudi/pull/6548) to leverage metadata table incase of LATEST_FILE_VERSIONS. \r\nbtw, I was also thinking, if you can leverage [hoodie.clean.max.commits](https://hudi.apache.org/docs/configurations#hoodiecleanmaxcommits) to reduce the frequency w/ which cleaner runs. you can increase this to say 5. Only once every 5 commits, the clean code path will be triggered. i.e. scheduler will be triggered which could optional schedule a clean. and if a clean is scheduled, execution might also happen. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232278776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232279753","html_url":"https://github.com/apache/hudi/issues/6373#issuecomment-1232279753","issue_url":"https://api.github.com/repos/apache/hudi/issues/6373","id":1232279753,"node_id":"IC_kwDOBI7nWM5JcxjJ","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T23:39:38Z","updated_at":"2022-08-30T23:39:38Z","author_association":"CONTRIBUTOR","body":"btw, as I kept thinking about any other enhancement for LATEST_FILE_VERSIONS, I thought if [hybrid policy](https://issues.apache.org/jira/browse/HUDI-4750) would help. I have captured the details in the jira. let me know what you think of the policy. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232279753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232280621","html_url":"https://github.com/apache/hudi/issues/6373#issuecomment-1232280621","issue_url":"https://api.github.com/repos/apache/hudi/issues/6373","id":1232280621,"node_id":"IC_kwDOBI7nWM5Jcxwt","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T23:41:09Z","updated_at":"2022-08-30T23:41:09Z","author_association":"CONTRIBUTOR","body":"and wrt your statement `Also I guess there is a problem to use incremental cleaning together with KEEP_LATEST_COMMITS which lead to never clean some partitions after a first clean but I will open a separate issue for this one.`, if you happen to create a new issue, let me know. do tag me in there. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232280621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232280980","html_url":"https://github.com/apache/hudi/issues/6341#issuecomment-1232280980","issue_url":"https://api.github.com/repos/apache/hudi/issues/6341","id":1232280980,"node_id":"IC_kwDOBI7nWM5Jcx2U","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T23:41:47Z","updated_at":"2022-08-30T23:41:47Z","author_association":"CONTRIBUTOR","body":"@rjmblc : any updates on this regard. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232280980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232285154","html_url":"https://github.com/apache/hudi/issues/6308#issuecomment-1232285154","issue_url":"https://api.github.com/repos/apache/hudi/issues/6308","id":1232285154,"node_id":"IC_kwDOBI7nWM5Jcy3i","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-30T23:49:13Z","updated_at":"2022-08-30T23:49:13Z","author_association":"CONTRIBUTOR","body":"@eric9204 : just so you are aware of how conflict resolution happens w/in hudi. \r\n\r\nIf two writers are writing to same file, hudi will fail one of them and will succeed the other. But if two writers are writing to two different files, both should succeed (assuming both are concurrent writers). \r\n\r\nFor eg, lets say writer1 ingests 100 records in commit C1. \r\n\r\nand at time t10, wirter1 updates the same 100 records and ingests to hudi. wirter2 updates the same 100 records and ingests to hudi. Hudi may not be in a position to choose the winner. and so will succeed one and will fail the other. In this situations, you will see ConflictResolutionFailed error messages. \r\n\r\nBut lets say writer1 ingests 100 records in commit C1 and writer2 ingests diff set of 100 records to a diff partition in commit C2. \r\n\r\nat time t10, wirter1 updates records as part of C1 and ingests to hudi. writer2 updates the records as part of C2 and ingests to hudi. Both write will succeed if it happens concurrently. bcoz, there is no overlap.\r\n\r\nHope that clarifies why one of the writer failed in your case. you can get some additions details [here](https://hudi.apache.org/docs/concurrency_control).\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232285154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232325579","html_url":"https://github.com/apache/hudi/pull/6542#issuecomment-1232325579","issue_url":"https://api.github.com/repos/apache/hudi/issues/6542","id":1232325579,"node_id":"IC_kwDOBI7nWM5Jc8vL","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T00:55:56Z","updated_at":"2022-08-31T00:55:56Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"93f96405bd8cd6a5486eb0e08e7c08a77214d362\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11035\",\n    \"triggerID\" : \"93f96405bd8cd6a5486eb0e08e7c08a77214d362\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 93f96405bd8cd6a5486eb0e08e7c08a77214d362 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11035) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232325579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232339707","html_url":"https://github.com/apache/hudi/pull/6535#issuecomment-1232339707","issue_url":"https://api.github.com/repos/apache/hudi/issues/6535","id":1232339707,"node_id":"IC_kwDOBI7nWM5JdAL7","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T01:20:08Z","updated_at":"2022-08-31T01:20:08Z","author_association":"MEMBER","body":"@jonvex let's also update README to add instructions for using this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232339707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232357942","html_url":"https://github.com/apache/hudi/issues/6194#issuecomment-1232357942","issue_url":"https://api.github.com/repos/apache/hudi/issues/6194","id":1232357942,"node_id":"IC_kwDOBI7nWM5JdEo2","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T01:54:57Z","updated_at":"2022-08-31T01:54:57Z","author_association":"CONTRIBUTOR","body":"got it. isn't your partition path is `--duplicatedPartitionPath \"env_id= 123456789/week=20220711\"`. I see you have tried `\"env_id=123/week=20220711\"`\r\n\r\n123 -> 123456789. \r\n\r\nbcoz, I do't see any other difference. only other diff is, I did not enable hive style partitioning in my script. I can give that a retry again. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232357942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232360891","html_url":"https://github.com/apache/hudi/issues/6474#issuecomment-1232360891","issue_url":"https://api.github.com/repos/apache/hudi/issues/6474","id":1232360891,"node_id":"IC_kwDOBI7nWM5JdFW7","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T01:59:42Z","updated_at":"2022-08-31T02:00:41Z","author_association":"CONTRIBUTOR","body":"hey @gudladona : I could not replicate the scenario where a diff thread unlocks by mistake. I did simulate the issue you are facing, but what I found was, the unlocking will not go through. essentially the lock will be still be acquired by the original caller who locked it. \r\n\r\nBut I have added some more enhancement https://github.com/apache/hudi/pull/6549 to ensure we set the right txn owner and so we will ensure the right owner of the lock only can unlock. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232360891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232365884","html_url":"https://github.com/apache/hudi/pull/6135#issuecomment-1232365884","issue_url":"https://api.github.com/repos/apache/hudi/issues/6135","id":1232365884,"node_id":"IC_kwDOBI7nWM5JdGk8","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T02:08:56Z","updated_at":"2022-08-31T02:08:56Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ec6177e8856b4b6809843c6295a5e15718d32b75\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10041\",\n    \"triggerID\" : \"ec6177e8856b4b6809843c6295a5e15718d32b75\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d4d4d720b26bb123e72090529cd08cdcd593aea6\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10074\",\n    \"triggerID\" : \"d4d4d720b26bb123e72090529cd08cdcd593aea6\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"376eeddeef27bb387a187ba8ac8100b6e129f582\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10112\",\n    \"triggerID\" : \"376eeddeef27bb387a187ba8ac8100b6e129f582\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"03f2c7a09ebc30b413d78fce7a983a9ed1b4d727\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10159\",\n    \"triggerID\" : \"03f2c7a09ebc30b413d78fce7a983a9ed1b4d727\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"51bbad445f6a51bb6e619b64f9db27d99b2d70d9\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10165\",\n    \"triggerID\" : \"51bbad445f6a51bb6e619b64f9db27d99b2d70d9\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d36fed637603d9959e8d049ac0815b9c729eb246\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"d36fed637603d9959e8d049ac0815b9c729eb246\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"ffc9419327e0e9e91c4e803f9771cf71f7f5e581\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10168\",\n    \"triggerID\" : \"ffc9419327e0e9e91c4e803f9771cf71f7f5e581\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a9adc8d80f44a3d5963b139f56f658bb512ae0df\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10835\",\n    \"triggerID\" : \"a9adc8d80f44a3d5963b139f56f658bb512ae0df\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b9c91181d3f39f1e03a7ff7d5536eaa6813b7913\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10839\",\n    \"triggerID\" : \"b9c91181d3f39f1e03a7ff7d5536eaa6813b7913\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"14115a6f79de39f538ddfba407f84249c35ebca5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10881\",\n    \"triggerID\" : \"14115a6f79de39f538ddfba407f84249c35ebca5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"1879403e5a33bfcaa6d9d1d3e6e2cbc226403f90\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10905\",\n    \"triggerID\" : \"1879403e5a33bfcaa6d9d1d3e6e2cbc226403f90\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f70abbc3b45005d40e74252814edc0078a50030e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10909\",\n    \"triggerID\" : \"f70abbc3b45005d40e74252814edc0078a50030e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"194396032e698ac4210d8652a969c7e58832d5db\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10925\",\n    \"triggerID\" : \"194396032e698ac4210d8652a969c7e58832d5db\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9a4df85fd5b1787af587817cba959c536d904fde\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10933\",\n    \"triggerID\" : \"9a4df85fd5b1787af587817cba959c536d904fde\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"794ed4861a42b5718bacfe299bfac2444744115d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10999\",\n    \"triggerID\" : \"794ed4861a42b5718bacfe299bfac2444744115d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e6e1a68d195995b126c5d32286059d627006f08d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11020\",\n    \"triggerID\" : \"e6e1a68d195995b126c5d32286059d627006f08d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"95a7f4a9faca9e08e4771dd2f33e35bd1b5f6273\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11021\",\n    \"triggerID\" : \"95a7f4a9faca9e08e4771dd2f33e35bd1b5f6273\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"fc344fa87202e68178333b5cc0128aa37462706e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11022\",\n    \"triggerID\" : \"fc344fa87202e68178333b5cc0128aa37462706e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"55997e718024a9ca75494b3db2fe5027003bf635\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11057\",\n    \"triggerID\" : \"55997e718024a9ca75494b3db2fe5027003bf635\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* d36fed637603d9959e8d049ac0815b9c729eb246 UNKNOWN\n* 55997e718024a9ca75494b3db2fe5027003bf635 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11057) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232365884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232366846","html_url":"https://github.com/apache/hudi/issues/6452#issuecomment-1232366846","issue_url":"https://api.github.com/repos/apache/hudi/issues/6452","id":1232366846,"node_id":"IC_kwDOBI7nWM5JdGz-","user":{"login":"minihippo","id":17903481,"node_id":"MDQ6VXNlcjE3OTAzNDgx","avatar_url":"https://avatars.githubusercontent.com/u/17903481?v=4","gravatar_id":"","url":"https://api.github.com/users/minihippo","html_url":"https://github.com/minihippo","followers_url":"https://api.github.com/users/minihippo/followers","following_url":"https://api.github.com/users/minihippo/following{/other_user}","gists_url":"https://api.github.com/users/minihippo/gists{/gist_id}","starred_url":"https://api.github.com/users/minihippo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minihippo/subscriptions","organizations_url":"https://api.github.com/users/minihippo/orgs","repos_url":"https://api.github.com/users/minihippo/repos","events_url":"https://api.github.com/users/minihippo/events{/privacy}","received_events_url":"https://api.github.com/users/minihippo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T02:10:32Z","updated_at":"2022-08-31T02:10:32Z","author_association":"CONTRIBUTOR","body":"@nsivabalan No problem. I will take it","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232366846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232373843","html_url":"https://github.com/apache/hudi/pull/6476#issuecomment-1232373843","issue_url":"https://api.github.com/repos/apache/hudi/issues/6476","id":1232373843,"node_id":"IC_kwDOBI7nWM5JdIhT","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T02:22:07Z","updated_at":"2022-08-31T02:22:07Z","author_association":"CONTRIBUTOR","body":"@xushiyan have updated this, and solved the comments above. pls review again.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232373843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232381134","html_url":"https://github.com/apache/hudi/issues/6308#issuecomment-1232381134","issue_url":"https://api.github.com/repos/apache/hudi/issues/6308","id":1232381134,"node_id":"IC_kwDOBI7nWM5JdKTO","user":{"login":"eric9204","id":90449228,"node_id":"MDQ6VXNlcjkwNDQ5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/90449228?v=4","gravatar_id":"","url":"https://api.github.com/users/eric9204","html_url":"https://github.com/eric9204","followers_url":"https://api.github.com/users/eric9204/followers","following_url":"https://api.github.com/users/eric9204/following{/other_user}","gists_url":"https://api.github.com/users/eric9204/gists{/gist_id}","starred_url":"https://api.github.com/users/eric9204/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric9204/subscriptions","organizations_url":"https://api.github.com/users/eric9204/orgs","repos_url":"https://api.github.com/users/eric9204/repos","events_url":"https://api.github.com/users/eric9204/events{/privacy}","received_events_url":"https://api.github.com/users/eric9204/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T02:35:21Z","updated_at":"2022-08-31T02:35:21Z","author_association":"CONTRIBUTOR","body":"@nsivabalan I know what you mean, there is another problem.\r\n\r\nIf one of writers fail, this hoodie commit transaction was failed at hudi side, but this batch was successful at spark side. So the next micro batch will consume record from last successful commit of offset. the data of last successful micro batch which is failed at hoodie side actually may be lost \r\n\r\n```\r\n22/08/05 15:01:18 INFO HoodieStreamingSink: Ignore the exception and move on streaming as per hoodie.datasource.write.streaming.ignore.failed.batch configuration\r\n22/08/05 15:01:18 INFO HoodieStreamingSink: Micro batch id=32 succeeded\r\n22/08/05 15:01:18 INFO BlockManager: Removing RDD 159\r\n22/08/05 15:01:18 INFO CheckpointFileManager: Writing atomically to hdfs://host-10-4-6-18:8020/tmp/hudi/ckp1/commits/32 using temp file hdfs://host-10-4-6-18:8020/tmp/hudi/ckp1/commits/.32.a829b364-c1b9-4b4b-8fae-f7d866ed76e5.tmp\r\n22/08/05 15:01:18 INFO CheckpointFileManager: Renamed temp file hdfs://host-10-4-6-18:8020/tmp/hudi/ckp1/commits/.32.a829b364-c1b9-4b4b-8fae-f7d866ed76e5.tmp to hdfs://host-10-4-6-18:8020/tmp/hudi/ckp1/commits/32\r\n```\r\n\r\nCould the community add a retry strategy to make it successful instead of just discarding it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232381134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232381146","html_url":"https://github.com/apache/hudi/issues/6194#issuecomment-1232381146","issue_url":"https://api.github.com/repos/apache/hudi/issues/6194","id":1232381146,"node_id":"IC_kwDOBI7nWM5JdKTa","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T02:35:22Z","updated_at":"2022-08-31T02:35:22Z","author_association":"CONTRIBUTOR","body":"ok, I guess the issue is w/ MOR table. dedup as of now is supported only for COW table. let me file a jira. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232381146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232382560","html_url":"https://github.com/apache/hudi/issues/6194#issuecomment-1232382560","issue_url":"https://api.github.com/repos/apache/hudi/issues/6194","id":1232382560,"node_id":"IC_kwDOBI7nWM5JdKpg","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T02:38:01Z","updated_at":"2022-08-31T02:38:01Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/hudi/issues/6194\r\nyou can follow the jira for progress. we will try to get it in next release. \r\nthanks for reporting. if you don't have any more questions, feel free to close out the github issue. we can use the jira to follow up.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232382560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232387782","html_url":"https://github.com/apache/hudi/pull/6545#issuecomment-1232387782","issue_url":"https://api.github.com/repos/apache/hudi/issues/6545","id":1232387782,"node_id":"IC_kwDOBI7nWM5JdL7G","user":{"login":"honeyaya","id":10349901,"node_id":"MDQ6VXNlcjEwMzQ5OTAx","avatar_url":"https://avatars.githubusercontent.com/u/10349901?v=4","gravatar_id":"","url":"https://api.github.com/users/honeyaya","html_url":"https://github.com/honeyaya","followers_url":"https://api.github.com/users/honeyaya/followers","following_url":"https://api.github.com/users/honeyaya/following{/other_user}","gists_url":"https://api.github.com/users/honeyaya/gists{/gist_id}","starred_url":"https://api.github.com/users/honeyaya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/honeyaya/subscriptions","organizations_url":"https://api.github.com/users/honeyaya/orgs","repos_url":"https://api.github.com/users/honeyaya/repos","events_url":"https://api.github.com/users/honeyaya/events{/privacy}","received_events_url":"https://api.github.com/users/honeyaya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T02:47:37Z","updated_at":"2022-08-31T02:47:37Z","author_association":"CONTRIBUTOR","body":"@xushiyan hi, could you help review this pr? thanks~ ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232387782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232421275","html_url":"https://github.com/apache/hudi/pull/6455#issuecomment-1232421275","issue_url":"https://api.github.com/repos/apache/hudi/issues/6455","id":1232421275,"node_id":"IC_kwDOBI7nWM5JdUGb","user":{"login":"smarthi","id":3137442,"node_id":"MDQ6VXNlcjMxMzc0NDI=","avatar_url":"https://avatars.githubusercontent.com/u/3137442?v=4","gravatar_id":"","url":"https://api.github.com/users/smarthi","html_url":"https://github.com/smarthi","followers_url":"https://api.github.com/users/smarthi/followers","following_url":"https://api.github.com/users/smarthi/following{/other_user}","gists_url":"https://api.github.com/users/smarthi/gists{/gist_id}","starred_url":"https://api.github.com/users/smarthi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smarthi/subscriptions","organizations_url":"https://api.github.com/users/smarthi/orgs","repos_url":"https://api.github.com/users/smarthi/repos","events_url":"https://api.github.com/users/smarthi/events{/privacy}","received_events_url":"https://api.github.com/users/smarthi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T03:36:56Z","updated_at":"2022-08-31T03:36:56Z","author_association":"MEMBER","body":"@nsivabalan confirming the fix from https://github.com/apache/hudi/pull/6535 works.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232421275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232442582","html_url":"https://github.com/apache/hudi/pull/6546#issuecomment-1232442582","issue_url":"https://api.github.com/repos/apache/hudi/issues/6546","id":1232442582,"node_id":"IC_kwDOBI7nWM5JdZTW","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-31T04:18:34Z","updated_at":"2022-08-31T04:18:34Z","author_association":"MEMBER","body":"![Screen Shot 2022-08-30 at 11 18 28 PM](https://user-images.githubusercontent.com/2701446/187591825-77d0897c-cd7f-4cad-ba75-c66aff4f0ca1.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1232442582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]