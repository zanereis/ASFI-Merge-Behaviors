[{"url":"https://api.github.com/repos/apache/doris/issues/comments/573529570","html_url":"https://github.com/apache/doris/issues/2741#issuecomment-573529570","issue_url":"https://api.github.com/repos/apache/doris/issues/2741","id":573529570,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzUyOTU3MA==","user":{"login":"zhangy5","id":10826066,"node_id":"MDQ6VXNlcjEwODI2MDY2","avatar_url":"https://avatars.githubusercontent.com/u/10826066?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangy5","html_url":"https://github.com/zhangy5","followers_url":"https://api.github.com/users/zhangy5/followers","following_url":"https://api.github.com/users/zhangy5/following{/other_user}","gists_url":"https://api.github.com/users/zhangy5/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangy5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangy5/subscriptions","organizations_url":"https://api.github.com/users/zhangy5/orgs","repos_url":"https://api.github.com/users/zhangy5/repos","events_url":"https://api.github.com/users/zhangy5/events{/privacy}","received_events_url":"https://api.github.com/users/zhangy5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T06:48:10Z","updated_at":"2020-01-13T06:48:10Z","author_association":"CONTRIBUTOR","body":"ok","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/573529570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/573628468","html_url":"https://github.com/apache/doris/issues/2432#issuecomment-573628468","issue_url":"https://api.github.com/repos/apache/doris/issues/2432","id":573628468,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzYyODQ2OA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T11:55:19Z","updated_at":"2020-01-13T11:55:19Z","author_association":"CONTRIBUTOR","body":"snapshot version is not set in Export Job. I will fix it","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/573628468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/573629204","html_url":"https://github.com/apache/doris/issues/2478#issuecomment-573629204","issue_url":"https://api.github.com/repos/apache/doris/issues/2478","id":573629204,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzYyOTIwNA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T11:57:29Z","updated_at":"2020-01-13T11:57:29Z","author_association":"CONTRIBUTOR","body":"the default strict mode is now FALSE. so this is ok.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/573629204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/573649455","html_url":"https://github.com/apache/doris/issues/2478#issuecomment-573649455","issue_url":"https://api.github.com/repos/apache/doris/issues/2478","id":573649455,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzY0OTQ1NQ==","user":{"login":"zhangy5","id":10826066,"node_id":"MDQ6VXNlcjEwODI2MDY2","avatar_url":"https://avatars.githubusercontent.com/u/10826066?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangy5","html_url":"https://github.com/zhangy5","followers_url":"https://api.github.com/users/zhangy5/followers","following_url":"https://api.github.com/users/zhangy5/following{/other_user}","gists_url":"https://api.github.com/users/zhangy5/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangy5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangy5/subscriptions","organizations_url":"https://api.github.com/users/zhangy5/orgs","repos_url":"https://api.github.com/users/zhangy5/repos","events_url":"https://api.github.com/users/zhangy5/events{/privacy}","received_events_url":"https://api.github.com/users/zhangy5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T12:55:12Z","updated_at":"2020-01-13T12:55:12Z","author_association":"CONTRIBUTOR","body":"ok","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/573649455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/573953187","html_url":"https://github.com/apache/doris/issues/2742#issuecomment-573953187","issue_url":"https://api.github.com/repos/apache/doris/issues/2742","id":573953187,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Mzk1MzE4Nw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T01:20:43Z","updated_at":"2020-01-14T01:20:43Z","author_association":"CONTRIBUTOR","body":"2020-01-14 09:18:44,187 WARN 669 [StmtExecutor.analyze():465] Analyze failed because\r\njava.lang.NullPointerException: null\r\n        at org.apache.doris.load.Load.initColumns(Load.java:880) ~[palo-fe.jar:?]\r\n        at org.apache.doris.planner.BrokerScanNode.initColumns(BrokerScanNode.java:230) ~[palo-fe.jar:?]\r\n        at org.apache.doris.planner.BrokerScanNode.initParams(BrokerScanNode.java:212) ~[palo-fe.jar:?]\r\n        at org.apache.doris.planner.BrokerScanNode.init(BrokerScanNode.java:166) ~[palo-fe.jar:?]\r\n        at org.apache.doris.planner.SingleNodePlanner.createScanNode(SingleNodePlanner.java:1284) ~[palo-fe.jar:?]\r\n        at org.apache.doris.planner.SingleNodePlanner.createTableRefNode(SingleNodePlanner.java:1429) ~[palo-fe.jar:?]\r\n        at org.apache.doris.planner.SingleNodePlanner.createSelectPlan(SingleNodePlanner.java:669) ~[palo-fe.jar:?]\r\n        at org.apache.doris.planner.SingleNodePlanner.createQueryPlan(SingleNodePlanner.java:215) ~[palo-fe.jar:?]\r\n        at org.apache.doris.planner.SingleNodePlanner.createSingleNodePlan(SingleNodePlanner.java:146) ~[palo-fe.jar:?]\r\n        at org.apache.doris.planner.Planner.createPlanFragments(Planner.java:146) ~[palo-fe.jar:?]\r\n        at org.apache.doris.planner.Planner.plan(Planner.java:78) ~[palo-fe.jar:?]\r\n        at org.apache.doris.qe.StmtExecutor.analyze(StmtExecutor.java:453) [palo-fe.jar:?]\r\n        at org.apache.doris.qe.StmtExecutor.execute(StmtExecutor.java:213) [palo-fe.jar:?]\r\n        at org.apache.doris.qe.ConnectProcessor.handleQuery(ConnectProcessor.java:169) [palo-fe.jar:?]\r\n        at org.apache.doris.qe.ConnectProcessor.dispatch(ConnectProcessor.java:260) [palo-fe.jar:?]\r\n        at org.apache.doris.qe.ConnectProcessor.processOnce(ConnectProcessor.java:420) [palo-fe.jar:?]\r\n        at org.apache.doris.qe.ConnectProcessor.loop(ConnectProcessor.java:430) [palo-fe.jar:?]\r\n        at org.apache.doris.qe.ConnectScheduler$LoopHandler.run(ConnectScheduler.java:177) [palo-fe.jar:?]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_131]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_131]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_131]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_131]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_131]","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/573953187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/573967878","html_url":"https://github.com/apache/doris/issues/2735#issuecomment-573967878","issue_url":"https://api.github.com/repos/apache/doris/issues/2735","id":573967878,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Mzk2Nzg3OA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T02:20:47Z","updated_at":"2020-01-14T02:20:47Z","author_association":"CONTRIBUTOR","body":"If you find the consistent check still block transaction finish，you could change the config `consistency_check_start_time` and `consistency_check_end_time` to disable consistent check.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/573967878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/573973990","html_url":"https://github.com/apache/doris/issues/2750#issuecomment-573973990","issue_url":"https://api.github.com/repos/apache/doris/issues/2750","id":573973990,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Mzk3Mzk5MA==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T02:48:08Z","updated_at":"2020-01-14T02:48:08Z","author_association":"CONTRIBUTOR","body":"After we fix it, we see the log \r\nW0112 21:54:20.090227 100282 alpha_rowset.cpp:200] expected_rows less than 1. [request_block_row_count = 524288, current_num_rows_per_row_block = 0]","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/573973990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/573974806","html_url":"https://github.com/apache/doris/pull/2751#issuecomment-573974806","issue_url":"https://api.github.com/repos/apache/doris/issues/2751","id":573974806,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Mzk3NDgwNg==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T02:52:01Z","updated_at":"2020-01-14T02:52:01Z","author_association":"CONTRIBUTOR","body":"#2750 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/573974806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/573980691","html_url":"https://github.com/apache/doris/pull/2751#issuecomment-573980691","issue_url":"https://api.github.com/repos/apache/doris/issues/2751","id":573980691,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Mzk4MDY5MQ==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T03:19:45Z","updated_at":"2020-01-14T03:19:45Z","author_association":"CONTRIBUTOR","body":"Hi, @caiconghui I think this is a concurrent issue. In you core dump file, you could find the `largest_segment_group->current_num_rows_per_row_block()` is 1024.  So I think we should fix this  issue by atomic variate.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/573980691/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/574003944","html_url":"https://github.com/apache/doris/pull/2751#issuecomment-574003944","issue_url":"https://api.github.com/repos/apache/doris/issues/2751","id":574003944,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDAwMzk0NA==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T05:08:09Z","updated_at":"2020-01-14T05:08:09Z","author_association":"CONTRIBUTOR","body":"> Hi, @caiconghui I think this is a concurrent issue. In you core dump file, you could find the `largest_segment_group->current_num_rows_per_row_block()` is 1024. So I think we should fix this issue by atomic variate.\r\n\r\nok, thanks, I will check it.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/574003944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/574018133","html_url":"https://github.com/apache/doris/pull/2755#issuecomment-574018133","issue_url":"https://api.github.com/repos/apache/doris/issues/2755","id":574018133,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDAxODEzMw==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T06:05:58Z","updated_at":"2020-01-14T06:05:58Z","author_association":"CONTRIBUTOR","body":"> `check_dir_existed()` does not defined?\r\n\r\n`check_dir_existed` is defined in `be/src/olap/utils.cpp`","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/574018133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/574546150","html_url":"https://github.com/apache/doris/issues/2770#issuecomment-574546150","issue_url":"https://api.github.com/repos/apache/doris/issues/2770","id":574546150,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDU0NjE1MA==","user":{"login":"EmmyMiao87","id":25147274,"node_id":"MDQ6VXNlcjI1MTQ3Mjc0","avatar_url":"https://avatars.githubusercontent.com/u/25147274?v=4","gravatar_id":"","url":"https://api.github.com/users/EmmyMiao87","html_url":"https://github.com/EmmyMiao87","followers_url":"https://api.github.com/users/EmmyMiao87/followers","following_url":"https://api.github.com/users/EmmyMiao87/following{/other_user}","gists_url":"https://api.github.com/users/EmmyMiao87/gists{/gist_id}","starred_url":"https://api.github.com/users/EmmyMiao87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmmyMiao87/subscriptions","organizations_url":"https://api.github.com/users/EmmyMiao87/orgs","repos_url":"https://api.github.com/users/EmmyMiao87/repos","events_url":"https://api.github.com/users/EmmyMiao87/events{/privacy}","received_events_url":"https://api.github.com/users/EmmyMiao87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-15T08:15:26Z","updated_at":"2020-01-15T08:15:26Z","author_association":"CONTRIBUTOR","body":"If you deploy doris in K8S, the better way is use host network which ip is stable.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/574546150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/574977210","html_url":"https://github.com/apache/doris/pull/2772#issuecomment-574977210","issue_url":"https://api.github.com/repos/apache/doris/issues/2772","id":574977210,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDk3NzIxMA==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-16T04:30:56Z","updated_at":"2020-01-16T04:30:56Z","author_association":"CONTRIBUTOR","body":"Hi @kangkaisen @imay , I have addressed previous review comments and passed the CI, please review again.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/574977210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575144104","html_url":"https://github.com/apache/doris/issues/2780#issuecomment-575144104","issue_url":"https://api.github.com/repos/apache/doris/issues/2780","id":575144104,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTE0NDEwNA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-16T13:11:08Z","updated_at":"2020-01-16T13:11:08Z","author_association":"CONTRIBUTOR","body":"Yes, you are right. Currently, there is only one thread to do `add rows -> send data -> wait in flight`. And actually, `add rows` and `send data` can be done paralleled.\r\n\r\nA simple implementation is to use one thread to add rows, and a thread pool to do the data sending. But may double the memory consumption cause it may has 2 row batch in memory \r\nsame time.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575144104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575149627","html_url":"https://github.com/apache/doris/pull/2783#issuecomment-575149627","issue_url":"https://api.github.com/repos/apache/doris/issues/2783","id":575149627,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTE0OTYyNw==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-16T13:24:58Z","updated_at":"2020-01-16T13:24:58Z","author_association":"CONTRIBUTOR","body":"My bad. Submit PR to the wrong repository.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575149627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575501520","html_url":"https://github.com/apache/doris/issues/2432#issuecomment-575501520","issue_url":"https://api.github.com/repos/apache/doris/issues/2432","id":575501520,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTUwMTUyMA==","user":{"login":"zhangy5","id":10826066,"node_id":"MDQ6VXNlcjEwODI2MDY2","avatar_url":"https://avatars.githubusercontent.com/u/10826066?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangy5","html_url":"https://github.com/zhangy5","followers_url":"https://api.github.com/users/zhangy5/followers","following_url":"https://api.github.com/users/zhangy5/following{/other_user}","gists_url":"https://api.github.com/users/zhangy5/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangy5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangy5/subscriptions","organizations_url":"https://api.github.com/users/zhangy5/orgs","repos_url":"https://api.github.com/users/zhangy5/repos","events_url":"https://api.github.com/users/zhangy5/events{/privacy}","received_events_url":"https://api.github.com/users/zhangy5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T07:02:17Z","updated_at":"2020-01-17T07:02:17Z","author_association":"CONTRIBUTOR","body":"resolved","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575501520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575530354","html_url":"https://github.com/apache/doris/issues/2780#issuecomment-575530354","issue_url":"https://api.github.com/repos/apache/doris/issues/2780","id":575530354,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTUzMDM1NA==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T08:39:45Z","updated_at":"2020-01-19T07:32:54Z","author_association":"CONTRIBUTOR","body":"@morningman \r\nThat means the memory usage of a row batch may be great?  So thus, we should stop pushing more batch as follows:\r\nhttps://github.com/apache/incubator-doris/blob/8df63bc191fd123df5986084c1e453db732fda29/be/src/exec/broker_scan_node.cpp#L366-L378\r\n\r\nI think even if in the single-thread model,  it's more than 1 row batch in memory.\r\nLet's consider the worst-case scenarios. \r\n\r\n### The single-thread model\r\n\r\nDivide into three roles:\r\n\r\n**1 scanner (holds one _batch_queue)**:\r\n\r\nThe mem usage of _batch_queue is denoted by Size<sub>queue</sub>.\r\n_batch_queue is not empty and memory exceed limit(aka mem_limit), thus\r\n\r\nSize<sub>queue</sub> > mem_limit\r\n\r\n**1 plan_fragment_executor (holds one _row_batch)**：\r\n_row_batch comes from _batch_queue, denoted by Size<sub>batch</sub>. If it's too large, we can assume:\r\n\r\nSize<sub>batch</sub> > mem_limit\r\n\r\n**N<sub>nc</sub> NodeChannels(holds deep_copy rows, aka \"_batch\")**\r\n\r\nIf \"_batch\"s in all channels are near full capacity, every channel has batch_size-1 rows, the mem usage is approximately equal to Size<sub>batch</sub>.\r\nThe mem usage of all NodeChannels is N<sub>nc</sub>*Size<sub>batch</sub>.\r\n\r\nSo, Mem<sub>worst</sub> = Size<sub>queue</sub>+(1+N<sub>nc</sub>)*Size<sub>batch</sub>.\r\n\r\nMem<sub>worst</sub> > (2+N<sub>nc</sub>)*mem_limit.\r\n\r\n### The multi-thread model\r\n\r\nIf we use a thread pool or whatever to do data sending, we should add a new role, sender. The best parallelism is that one sender is in charge of one channel.\r\n\r\n\r\n**1 scanner (holds one _batch_queue)** SAME\r\n\r\n**1 plan_fragment_executor (holds one _row_batch)** SAME\r\n\r\n**N<sub>nc</sub> send_worker**\r\nsend_workers will buffer rows, this should be strictly controlled of mem usage.\r\nThe mem usage of one sender is denoted by Size<sub>buf</sub>.\r\nThe sum is N<sub>nc</sub>*Size<sub>buf</sub>.\r\n\r\n**N<sub>ch</sub> NodeChannels(holds deep_copy rows, aka \"_batch\")** SAME\r\n\r\nSo, Mem<sub>worst</sub> = Size<sub>queue</sub>+(1+N<sub>nc</sub>)*Size<sub>batch</sub>+N<sub>nc</sub>*Size<sub>buf</sub>.\r\nMem<sub>worst</sub> > (2+N<sub>nc</sub>)*mem_limit + N<sub>nc</sub>*Size<sub>buf</sub>\r\n\r\nIf Size<sub>buf</sub> is significantly smaller than mem_limit, it can be ignored.\r\nIf Size<sub>buf</sub> is smaller than the bytes per row, it still might bring some benefits, cause it improves the parallel degree of wait_in_flight_packet.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575530354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575530689","html_url":"https://github.com/apache/doris/issues/2785#issuecomment-575530689","issue_url":"https://api.github.com/repos/apache/doris/issues/2785","id":575530689,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTUzMDY4OQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T08:40:48Z","updated_at":"2020-01-17T08:40:48Z","author_association":"CONTRIBUTOR","body":"which docker image version did you get?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575530689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575531040","html_url":"https://github.com/apache/doris/issues/2779#issuecomment-575531040","issue_url":"https://api.github.com/repos/apache/doris/issues/2779","id":575531040,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTUzMTA0MA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T08:41:51Z","updated_at":"2020-01-17T08:41:51Z","author_association":"CONTRIBUTOR","body":"What kind of connection did you mean?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575531040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575534678","html_url":"https://github.com/apache/doris/pull/2781#issuecomment-575534678","issue_url":"https://api.github.com/repos/apache/doris/issues/2781","id":575534678,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTUzNDY3OA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T08:53:55Z","updated_at":"2020-01-17T08:53:55Z","author_association":"CONTRIBUTOR","body":"Plz wait for my review,  it will take some times.\r\n\r\nI have a question:\r\n\r\nFor now, we support creating rollup for duplicate key table, not only aggregate key table. And we \r\nsupport syntex like:\r\n\r\n`create materialized view as select a, b, sum(c) from tbl1 group by a, b;`\r\n\r\nHow to support this in your new `create table stmt`?\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575534678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575558056","html_url":"https://github.com/apache/doris/pull/2791#issuecomment-575558056","issue_url":"https://api.github.com/repos/apache/doris/issues/2791","id":575558056,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTU1ODA1Ng==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T10:00:37Z","updated_at":"2020-01-17T10:00:37Z","author_association":"CONTRIBUTOR","body":"FYI @vagetablechicken ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575558056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575558491","html_url":"https://github.com/apache/doris/pull/2781#issuecomment-575558491","issue_url":"https://api.github.com/repos/apache/doris/issues/2781","id":575558491,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTU1ODQ5MQ==","user":{"login":"wangbo","id":12951030,"node_id":"MDQ6VXNlcjEyOTUxMDMw","avatar_url":"https://avatars.githubusercontent.com/u/12951030?v=4","gravatar_id":"","url":"https://api.github.com/users/wangbo","html_url":"https://github.com/wangbo","followers_url":"https://api.github.com/users/wangbo/followers","following_url":"https://api.github.com/users/wangbo/following{/other_user}","gists_url":"https://api.github.com/users/wangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/wangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangbo/subscriptions","organizations_url":"https://api.github.com/users/wangbo/orgs","repos_url":"https://api.github.com/users/wangbo/repos","events_url":"https://api.github.com/users/wangbo/events{/privacy}","received_events_url":"https://api.github.com/users/wangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T10:01:44Z","updated_at":"2020-01-17T10:01:56Z","author_association":"CONTRIBUTOR","body":"> Plz wait for my review, it will take some times.\r\n> \r\n> I have a question:\r\n> \r\n> For now, we support creating rollup for duplicate key table, not only aggregate key table. And we\r\n> support syntex like:\r\n> \r\n> `create materialized view as select a, b, sum(c) from tbl1 group by a, b;`\r\n> \r\n> How to support this in your new `create table stmt`?\r\n\r\n1.  duplicate key table is olap table,so it is supported;\r\n2.  I see \"The materialized view is coming soon\" in Catalog.createMaterializedView,create  MaterializedView is  not supported now ,so I didn't consider this case;\r\n@morningman ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575558491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575566915","html_url":"https://github.com/apache/doris/pull/2791#issuecomment-575566915","issue_url":"https://api.github.com/repos/apache/doris/issues/2791","id":575566915,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTU2NjkxNQ==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T10:24:10Z","updated_at":"2020-01-17T10:24:10Z","author_association":"CONTRIBUTOR","body":"is it ok with `SortIncludes` diffs? It's true in Google style.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575566915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575579937","html_url":"https://github.com/apache/doris/pull/2791#issuecomment-575579937","issue_url":"https://api.github.com/repos/apache/doris/issues/2791","id":575579937,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTU3OTkzNw==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T11:00:56Z","updated_at":"2020-01-17T11:03:27Z","author_association":"CONTRIBUTOR","body":"> is it ok with SortIncludes diffs? It's true in Google style.\r\n\r\nHi @vagetablechicken , thanks for the reply. I've tried using this file to reformat existing code, it turns out that the majority of diffs are not caused by `SortIncludes`, but `ColumnLimit` instead.\r\n\r\nClang-format will try to put as many arguments as possible into the the same line if `ColumnLimit` is not reached or insert breaks otherwise. For example\r\n\r\n```\r\n-    _create_tablet_workers = new TaskWorkerPool(\r\n-            TaskWorkerPool::TaskWorkerType::CREATE_TABLE,\r\n-            _exec_env,\r\n-            master_info);\r\n-    _drop_tablet_workers = new TaskWorkerPool(\r\n-            TaskWorkerPool::TaskWorkerType::DROP_TABLE,\r\n-            _exec_env,\r\n-            master_info);\r\n-    _push_workers = new TaskWorkerPool(\r\n-            TaskWorkerPool::TaskWorkerType::PUSH,\r\n-            _exec_env,\r\n-            master_info);\r\n-    _publish_version_workers = new TaskWorkerPool(\r\n-            TaskWorkerPool::TaskWorkerType::PUBLISH_VERSION,\r\n-            _exec_env,\r\n-            master_info);\r\n+    _create_tablet_workers = new TaskWorkerPool(TaskWorkerPool::TaskWorkerType::CREATE_TABLE,\r\n+                                                _exec_env, master_info);\r\n+    _drop_tablet_workers =\r\n+            new TaskWorkerPool(TaskWorkerPool::TaskWorkerType::DROP_TABLE, _exec_env, master_info);\r\n+    _push_workers =\r\n+            new TaskWorkerPool(TaskWorkerPool::TaskWorkerType::PUSH, _exec_env, master_info);\r\n+    _publish_version_workers = new TaskWorkerPool(TaskWorkerPool::TaskWorkerType::PUBLISH_VERSION,\r\n+                                                  _exec_env, master_info);\r\n```\r\n\r\nAnother major diff is caused by `AlignAfterOpenBracket`. For example with `AlignAfterOpenBracket` set to `Align`\r\n\r\n```\r\n-void TaskWorkerPool::_alter_tablet(\r\n-        TaskWorkerPool* worker_pool_this,\r\n-        const TAgentTaskRequest& agent_task_req,\r\n-        int64_t signature,\r\n-        const TTaskType::type task_type,\r\n-        TFinishTaskRequest* finish_task_request) {\r\n+void TaskWorkerPool::_alter_tablet(TaskWorkerPool* worker_pool_this,\r\n+                                   const TAgentTaskRequest& agent_task_req, int64_t signature,\r\n+                                   const TTaskType::type task_type,\r\n+                                   TFinishTaskRequest* finish_task_request) {\r\n```\r\n\r\nHowever I can't find a way to allow multiple align styles. Seems that one style must be chosen and `Align` is widely used and looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575579937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575591455","html_url":"https://github.com/apache/doris/pull/2791#issuecomment-575591455","issue_url":"https://api.github.com/repos/apache/doris/issues/2791","id":575591455,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTU5MTQ1NQ==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T11:35:21Z","updated_at":"2020-01-17T11:35:21Z","author_association":"CONTRIBUTOR","body":"That's nice, I prefer sorting includes.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575591455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575877818","html_url":"https://github.com/apache/doris/pull/2792#issuecomment-575877818","issue_url":"https://api.github.com/repos/apache/doris/issues/2792","id":575877818,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTg3NzgxOA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-18T08:16:39Z","updated_at":"2020-01-18T08:16:39Z","author_association":"CONTRIBUTOR","body":"Are you sure it is necessary to do this? How about just leave the old code as what it was,\r\nand find a way to make sure that new code will obey the code style?\r\n\r\nThis large-scale code formatting may lead to conflicts with many PR's under development.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575877818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575879258","html_url":"https://github.com/apache/doris/pull/2777#issuecomment-575879258","issue_url":"https://api.github.com/repos/apache/doris/issues/2777","id":575879258,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTg3OTI1OA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-18T08:41:50Z","updated_at":"2020-01-18T08:41:50Z","author_association":"CONTRIBUTOR","body":"Plz update the help doc of alter table. Add new conversions","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575879258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575879311","html_url":"https://github.com/apache/doris/pull/2273#issuecomment-575879311","issue_url":"https://api.github.com/repos/apache/doris/issues/2273","id":575879311,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTg3OTMxMQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-18T08:42:37Z","updated_at":"2020-01-18T08:42:37Z","author_association":"CONTRIBUTOR","body":"No need , thank u.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575879311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575879313","html_url":"https://github.com/apache/doris/pull/2273#issuecomment-575879313","issue_url":"https://api.github.com/repos/apache/doris/issues/2273","id":575879313,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTg3OTMxMw==","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-01-18T08:42:39Z","updated_at":"2020-01-18T08:42:39Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575879313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575915489","html_url":"https://github.com/apache/doris/pull/2792#issuecomment-575915489","issue_url":"https://api.github.com/repos/apache/doris/issues/2792","id":575915489,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTkxNTQ4OQ==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-18T16:34:00Z","updated_at":"2020-01-18T16:35:59Z","author_association":"CONTRIBUTOR","body":"@morningman I understand your concern about such big code changes may cause too much merge conflicts for under-development PR. To some extent it is inevitable, but I'm trying my best to reduce the probability of conflicts or at least make resolving such conflicts easy by\r\n\r\n1. Trying to make code changes happen on small discrete statements instead of large blocks. For example, if a file is using the old 2 space indent so that every single lines will be changed, reformat is completely disabled for that file.\r\n\r\n2. Dividing the whole reformat work into several independent PRs such that it is reviewable. If any reviewer find that there are too many code changes for a file or module which will cause it hard to rebase some PR, we can disable reformat on that particular file/module.\r\n\r\n> How about just leave the old code as what it was,\r\nand find a way to make sure that new code will obey the code style?\r\n\r\nClang-format works on individual file so there are two ways to fix code style\r\n\r\n1. Check and fix code style only for changed files in each PR. This has the benefit of do the work incrementally. However, whenever a PR modifies a file with style issue, the PR will contain reformat changes along with logic changes. This will make review such PR laborious.\r\n\r\n2. Do one-time reformat on all files. This has the benefit that future PR doesn't need to reformat existing files and can focus on the logic. The downside is also obvious, you already mentioned a few.\r\n\r\nTo my knowledge many projects choose the second approach. Maybe we can be more flexible such as trying one-time reformat on certain modules to start with, but leave some modules unmodified? \r\n\r\nHope to here your suggestion  :)","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575915489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575979690","html_url":"https://github.com/apache/doris/pull/2792#issuecomment-575979690","issue_url":"https://api.github.com/repos/apache/doris/issues/2792","id":575979690,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk3OTY5MA==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T08:29:59Z","updated_at":"2020-01-19T08:29:59Z","author_association":"CONTRIBUTOR","body":"Many of the reformat on function declarations and invocations is caused by `ColumnLimit: 100`, I'm going to test whether `ColumnLimit: 0` would disable such reformatting.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575979690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575983998","html_url":"https://github.com/apache/doris/issues/2797#issuecomment-575983998","issue_url":"https://api.github.com/repos/apache/doris/issues/2797","id":575983998,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk4Mzk5OA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T09:22:06Z","updated_at":"2020-01-19T09:22:06Z","author_association":"CONTRIBUTOR","body":"you can try `mysql --default-auth=mysql_native_password -h host -P port`","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575983998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575995390","html_url":"https://github.com/apache/doris/issues/2797#issuecomment-575995390","issue_url":"https://api.github.com/repos/apache/doris/issues/2797","id":575995390,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk5NTM5MA==","user":{"login":"wenbronk","id":20272586,"node_id":"MDQ6VXNlcjIwMjcyNTg2","avatar_url":"https://avatars.githubusercontent.com/u/20272586?v=4","gravatar_id":"","url":"https://api.github.com/users/wenbronk","html_url":"https://github.com/wenbronk","followers_url":"https://api.github.com/users/wenbronk/followers","following_url":"https://api.github.com/users/wenbronk/following{/other_user}","gists_url":"https://api.github.com/users/wenbronk/gists{/gist_id}","starred_url":"https://api.github.com/users/wenbronk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenbronk/subscriptions","organizations_url":"https://api.github.com/users/wenbronk/orgs","repos_url":"https://api.github.com/users/wenbronk/repos","events_url":"https://api.github.com/users/wenbronk/events{/privacy}","received_events_url":"https://api.github.com/users/wenbronk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T11:31:21Z","updated_at":"2020-01-19T11:31:21Z","author_association":"CONTRIBUTOR","body":"可以登陆了, 谢谢!!!","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575995390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/575999533","html_url":"https://github.com/apache/doris/pull/2792#issuecomment-575999533","issue_url":"https://api.github.com/repos/apache/doris/issues/2792","id":575999533,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk5OTUzMw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T12:26:48Z","updated_at":"2020-01-19T12:26:48Z","author_association":"CONTRIBUTOR","body":"Because there is a internal code style format in Baidu for C++ programmer. \r\nThere are some difference between with Impala including indention and variable name.\r\nAdopting which style may be should have a discussion before this pull request.\r\nOtherwise, following pull request style may be conflict with each other.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/575999533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576000112","html_url":"https://github.com/apache/doris/pull/2751#issuecomment-576000112","issue_url":"https://api.github.com/repos/apache/doris/issues/2751","id":576000112,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjAwMDExMg==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T12:33:29Z","updated_at":"2020-01-19T12:33:29Z","author_association":"CONTRIBUTOR","body":"If you can reproduce this bug, you can use watch command in GDB. This command can used to know the variable modified in which place. ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576000112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576000358","html_url":"https://github.com/apache/doris/pull/2792#issuecomment-576000358","issue_url":"https://api.github.com/repos/apache/doris/issues/2792","id":576000358,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjAwMDM1OA==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T12:36:03Z","updated_at":"2020-01-19T12:36:03Z","author_association":"CONTRIBUTOR","body":"I tried [impala's](https://github.com/apache/impala/blob/master/.clang-format) `IncludeCategories` on `be/src/agent/utils.cpp`, the result is\r\n\r\n```\r\n#include \"agent/utils.h\"\r\n\r\n#include <errno.h>\r\n#include <netdb.h>\r\n#include <unistd.h>\r\n\r\n#include <cstdio>\r\n#include <fstream>\r\n#include <iostream>\r\n#include <sstream>\r\n\r\n#include <arpa/inet.h>\r\n#include <boost/filesystem.hpp>\r\n#include <netinet/in.h>\r\n#include <rapidjson/document.h>\r\n#include <rapidjson/rapidjson.h>\r\n#include <rapidjson/stringbuffer.h>\r\n#include <rapidjson/writer.h>\r\n#include <sys/socket.h>\r\n#include <sys/wait.h>\r\n#include <thrift/Thrift.h>\r\n#include <thrift/transport/TSocket.h>\r\n#include <thrift/transport/TTransportException.h>\r\n#include <thrift/transport/TTransportUtils.h>\r\n\r\n#include \"common/status.h\"\r\n#include \"gen_cpp/AgentService_types.h\"\r\n#include \"gen_cpp/FrontendService.h\"\r\n#include \"gen_cpp/HeartbeatService_types.h\"\r\n#include \"gen_cpp/Status_types.h\"\r\n#include \"olap/utils.h\"\r\n#include \"runtime/exec_env.h\"\r\n```\r\n\r\nThis is close to what we want but not idea because pattern matching could fail in some cases. For example `<cstdio>` and `<sys/wait.h>` should be C header instead of C++ or third-party libraries.\r\n\r\nAs a result, I think we can just trust our developer to group includes and only use `IncludeBlocks: Preserve` to sort inside existing group. The result is \r\n\r\n```\r\n#include \"agent/utils.h\"\r\n#include <arpa/inet.h>\r\n#include <errno.h>\r\n#include <netdb.h>\r\n#include <netinet/in.h>\r\n#include <sys/socket.h>\r\n#include <sys/wait.h>\r\n#include <unistd.h>\r\n#include <cstdio>\r\n#include <fstream>\r\n#include <iostream>\r\n#include <sstream>\r\n\r\n#include <rapidjson/document.h>\r\n#include <rapidjson/rapidjson.h>\r\n#include <rapidjson/stringbuffer.h>\r\n#include <rapidjson/writer.h>\r\n#include <thrift/Thrift.h>\r\n#include <thrift/transport/TSocket.h>\r\n#include <thrift/transport/TTransportException.h>\r\n#include <thrift/transport/TTransportUtils.h>\r\n#include <boost/filesystem.hpp>\r\n\r\n#include \"common/status.h\"\r\n#include \"gen_cpp/AgentService_types.h\"\r\n#include \"gen_cpp/FrontendService.h\"\r\n#include \"gen_cpp/HeartbeatService_types.h\"\r\n#include \"gen_cpp/Status_types.h\"\r\n#include \"olap/utils.h\"\r\n#include \"runtime/exec_env.h\"\r\n```\r\n\r\nWhich is acceptable for me.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576000358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576001150","html_url":"https://github.com/apache/doris/pull/2792#issuecomment-576001150","issue_url":"https://api.github.com/repos/apache/doris/issues/2792","id":576001150,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjAwMTE1MA==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T12:45:57Z","updated_at":"2020-01-19T12:45:57Z","author_association":"CONTRIBUTOR","body":"Hi @lingbin @chaoyli , I updated the PR according to your suggestions. Now I managed to reduce the diff from `+1,014 −1,242` into `+616 −618`, could you review again?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576001150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576002090","html_url":"https://github.com/apache/doris/pull/2792#issuecomment-576002090","issue_url":"https://api.github.com/repos/apache/doris/issues/2792","id":576002090,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjAwMjA5MA==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T12:58:00Z","updated_at":"2020-01-19T12:58:00Z","author_association":"CONTRIBUTOR","body":"I think it may be better to discuss to adopt which style at first.\r\nAbide by the old style formulated in Baidu, or Impala style.\r\nSecond, we can change the style of file in the following each pull requests.\r\nThis is my suggestion. It is OK?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576002090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576004402","html_url":"https://github.com/apache/doris/pull/2800#issuecomment-576004402","issue_url":"https://api.github.com/repos/apache/doris/issues/2800","id":576004402,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjAwNDQwMg==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T13:25:17Z","updated_at":"2020-01-19T13:25:17Z","author_association":"CONTRIBUTOR","body":"#2795 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576004402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576007584","html_url":"https://github.com/apache/doris/pull/2802#issuecomment-576007584","issue_url":"https://api.github.com/repos/apache/doris/issues/2802","id":576007584,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjAwNzU4NA==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T14:00:09Z","updated_at":"2020-01-19T14:00:09Z","author_association":"CONTRIBUTOR","body":"#2801 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576007584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576086746","html_url":"https://github.com/apache/doris/pull/2808#issuecomment-576086746","issue_url":"https://api.github.com/repos/apache/doris/issues/2808","id":576086746,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjA4Njc0Ng==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T02:59:09Z","updated_at":"2020-01-20T02:59:09Z","author_association":"CONTRIBUTOR","body":"#2809 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576086746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576096933","html_url":"https://github.com/apache/doris/pull/2794#issuecomment-576096933","issue_url":"https://api.github.com/repos/apache/doris/issues/2794","id":576096933,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjA5NjkzMw==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T03:59:57Z","updated_at":"2020-01-20T03:59:57Z","author_association":"CONTRIBUTOR","body":"Closed the PR due to the community hasn't reached consensus on the code style, which should be discussed first","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576096933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576096985","html_url":"https://github.com/apache/doris/pull/2793#issuecomment-576096985","issue_url":"https://api.github.com/repos/apache/doris/issues/2793","id":576096985,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjA5Njk4NQ==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T04:00:14Z","updated_at":"2020-01-20T04:00:14Z","author_association":"CONTRIBUTOR","body":"Closed the PR due to the community hasn't reached consensus on the code style, which should be discussed first","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576096985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576101763","html_url":"https://github.com/apache/doris/issues/2810#issuecomment-576101763","issue_url":"https://api.github.com/repos/apache/doris/issues/2810","id":576101763,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjEwMTc2Mw==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T04:31:20Z","updated_at":"2020-01-20T04:31:20Z","author_association":"CONTRIBUTOR","body":"This issue is duplicated with https://github.com/apache/incubator-doris/issues/2406 and has been fixed.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576101763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576102290","html_url":"https://github.com/apache/doris/issues/2807#issuecomment-576102290","issue_url":"https://api.github.com/repos/apache/doris/issues/2807","id":576102290,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjEwMjI5MA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T04:34:47Z","updated_at":"2020-01-20T04:34:47Z","author_association":"CONTRIBUTOR","body":"This is not a issue. \r\nThe doc is for 0.11. bug your code should has this PR:\r\nhttps://github.com/apache/incubator-doris/pull/1948/files\r\n\r\nBecause I see you could create table with `id2 bitmap bitmap_union NULL` successfully.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576102290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576133408","html_url":"https://github.com/apache/doris/pull/2813#issuecomment-576133408","issue_url":"https://api.github.com/repos/apache/doris/issues/2813","id":576133408,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjEzMzQwOA==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T06:58:27Z","updated_at":"2020-01-20T06:58:27Z","author_association":"CONTRIBUTOR","body":"1、Please rename title, so as \"Support starts_with function\"?\r\n2、Please relate this PR to issue\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576133408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576141567","html_url":"https://github.com/apache/doris/pull/2812#issuecomment-576141567","issue_url":"https://api.github.com/repos/apache/doris/issues/2812","id":576141567,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjE0MTU2Nw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T07:26:49Z","updated_at":"2020-01-20T07:26:49Z","author_association":"CONTRIBUTOR","body":"I have a question, why it will be crashed?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576141567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576143120","html_url":"https://github.com/apache/doris/pull/2812#issuecomment-576143120","issue_url":"https://api.github.com/repos/apache/doris/issues/2812","id":576143120,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjE0MzEyMA==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T07:31:59Z","updated_at":"2020-01-20T07:31:59Z","author_association":"CONTRIBUTOR","body":"The original code was to determine the number of rows in the batch based on the number of rows in the parquet RowGroup.\r\n It could be a batch as many as a rowgroup in last arrow lib?\r\nBut now it's a batch take 65535 lines , so when parquet row  greater than 65535，be may crash","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576143120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576508301","html_url":"https://github.com/apache/doris/issues/2703#issuecomment-576508301","issue_url":"https://api.github.com/repos/apache/doris/issues/2703","id":576508301,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjUwODMwMQ==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-21T04:00:19Z","updated_at":"2020-01-21T04:00:19Z","author_association":"CONTRIBUTOR","body":"Hi, we have add timestampdiff function in master branch","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576508301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576518952","html_url":"https://github.com/apache/doris/issues/2396#issuecomment-576518952","issue_url":"https://api.github.com/repos/apache/doris/issues/2396","id":576518952,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjUxODk1Mg==","user":{"login":"xy720","id":22125576,"node_id":"MDQ6VXNlcjIyMTI1NTc2","avatar_url":"https://avatars.githubusercontent.com/u/22125576?v=4","gravatar_id":"","url":"https://api.github.com/users/xy720","html_url":"https://github.com/xy720","followers_url":"https://api.github.com/users/xy720/followers","following_url":"https://api.github.com/users/xy720/following{/other_user}","gists_url":"https://api.github.com/users/xy720/gists{/gist_id}","starred_url":"https://api.github.com/users/xy720/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xy720/subscriptions","organizations_url":"https://api.github.com/users/xy720/orgs","repos_url":"https://api.github.com/users/xy720/repos","events_url":"https://api.github.com/users/xy720/events{/privacy}","received_events_url":"https://api.github.com/users/xy720/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-21T05:01:39Z","updated_at":"2020-01-21T05:01:39Z","author_association":"MEMBER","body":"These two problems have been fixed.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576518952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/576985436","html_url":"https://github.com/apache/doris/pull/2821#issuecomment-576985436","issue_url":"https://api.github.com/repos/apache/doris/issues/2821","id":576985436,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Njk4NTQzNg==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-22T02:59:58Z","updated_at":"2020-01-22T02:59:58Z","author_association":"CONTRIBUTOR","body":"> The biggest difference between the current materialized view selector and the previous one is that it supports SPJ <-> SPJG.\r\n\r\n@EmmyMiao87 Better to give an example between SPJ and SPJG, it will help other to understand what you do.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/576985436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/577077528","html_url":"https://github.com/apache/doris/pull/2821#issuecomment-577077528","issue_url":"https://api.github.com/repos/apache/doris/issues/2821","id":577077528,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzA3NzUyOA==","user":{"login":"EmmyMiao87","id":25147274,"node_id":"MDQ6VXNlcjI1MTQ3Mjc0","avatar_url":"https://avatars.githubusercontent.com/u/25147274?v=4","gravatar_id":"","url":"https://api.github.com/users/EmmyMiao87","html_url":"https://github.com/EmmyMiao87","followers_url":"https://api.github.com/users/EmmyMiao87/followers","following_url":"https://api.github.com/users/EmmyMiao87/following{/other_user}","gists_url":"https://api.github.com/users/EmmyMiao87/gists{/gist_id}","starred_url":"https://api.github.com/users/EmmyMiao87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmmyMiao87/subscriptions","organizations_url":"https://api.github.com/users/EmmyMiao87/orgs","repos_url":"https://api.github.com/users/EmmyMiao87/repos","events_url":"https://api.github.com/users/EmmyMiao87/events{/privacy}","received_events_url":"https://api.github.com/users/EmmyMiao87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-22T09:00:43Z","updated_at":"2020-01-22T09:00:43Z","author_association":"CONTRIBUTOR","body":"> > The biggest difference between the current materialized view selector and the previous one is that it supports SPJ <-> SPJG.\r\n> \r\n> @EmmyMiao87 Better to give an example between SPJ and SPJG, it will help other to understand what you do.\r\n\r\nExamples have been given in the comments.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/577077528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/577455374","html_url":"https://github.com/apache/doris/issues/2703#issuecomment-577455374","issue_url":"https://api.github.com/repos/apache/doris/issues/2703","id":577455374,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzQ1NTM3NA==","user":{"login":"chorylee001","id":6963642,"node_id":"MDQ6VXNlcjY5NjM2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6963642?v=4","gravatar_id":"","url":"https://api.github.com/users/chorylee001","html_url":"https://github.com/chorylee001","followers_url":"https://api.github.com/users/chorylee001/followers","following_url":"https://api.github.com/users/chorylee001/following{/other_user}","gists_url":"https://api.github.com/users/chorylee001/gists{/gist_id}","starred_url":"https://api.github.com/users/chorylee001/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chorylee001/subscriptions","organizations_url":"https://api.github.com/users/chorylee001/orgs","repos_url":"https://api.github.com/users/chorylee001/repos","events_url":"https://api.github.com/users/chorylee001/events{/privacy}","received_events_url":"https://api.github.com/users/chorylee001/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-23T00:50:06Z","updated_at":"2020-01-23T00:50:06Z","author_association":"NONE","body":"Thank you very much,we will use it.\r\n\r\n\r\n在 2020年1月21日，下午12:00，HangyuanLiu <notifications@github.com> 写道：\r\n\r\n﻿\r\n\r\nHi, we have add timestampdiff function in master branch\r\n\r\n—\r\nYou are receiving this because you authored the thread.\r\nReply to this email directly, view it on GitHub<https://github.com/apache/incubator-doris/issues/2703?email_source=notifications&email_token=ABVEDOXIF2TAML6CMPRCNLLQ6ZXNHA5CNFSM4KEEBOQ2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJONDDI#issuecomment-576508301>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/ABVEDOTLGQUS3LW7ZBM7PG3Q6ZXNHANCNFSM4KEEBOQQ>.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/577455374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/578582764","html_url":"https://github.com/apache/doris/pull/2804#issuecomment-578582764","issue_url":"https://api.github.com/repos/apache/doris/issues/2804","id":578582764,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODU4Mjc2NA==","user":{"login":"10wang","id":11403467,"node_id":"MDQ6VXNlcjExNDAzNDY3","avatar_url":"https://avatars.githubusercontent.com/u/11403467?v=4","gravatar_id":"","url":"https://api.github.com/users/10wang","html_url":"https://github.com/10wang","followers_url":"https://api.github.com/users/10wang/followers","following_url":"https://api.github.com/users/10wang/following{/other_user}","gists_url":"https://api.github.com/users/10wang/gists{/gist_id}","starred_url":"https://api.github.com/users/10wang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10wang/subscriptions","organizations_url":"https://api.github.com/users/10wang/orgs","repos_url":"https://api.github.com/users/10wang/repos","events_url":"https://api.github.com/users/10wang/events{/privacy}","received_events_url":"https://api.github.com/users/10wang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-27T03:51:31Z","updated_at":"2020-01-27T03:51:31Z","author_association":"NONE","body":"unsubscribe\n\n\n\n\n\nAt 2020-01-20 09:33:25, \"yangzhg\" <notifications@github.com> wrote:\n\n@yangzhg commented on this pull request.\n\nIn conf/fe.conf:\n\n> @@ -25,7 +25,10 @@\n LOG_DIR = ${DORIS_HOME}/log\n \n DATE = `date +%Y%m%d-%H%M%S`\n-JAVA_OPTS=\"-Xmx4096m -XX:+UseMembar -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=7 -XX:+PrintGCDateStamps -XX:+PrintGCDetails -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+UseCMSCompactAtFullCollection -XX:CMSFullGCsBeforeCompaction=0 -XX:+CMSClassUnloadingEnabled -XX:-CMSParallelRemarkEnabled -XX:CMSInitiatingOccupancyFraction=80 -XX:SoftRefLRUPolicyMSPerMB=0 -Xloggc:$DORIS_HOME/log/fe.gc.log.$DATE\"\n+JAVA_OPTS=\"-Xmx4096m -XX:+UseMembar -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=7 -XX:+PrintGCDateStamps -XX:+PrintGCDetails -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+CMSClassUnloadingEnabled -XX:-CMSParallelRemarkEnabled -XX:CMSInitiatingOccupancyFraction=80 -XX:SoftRefLRUPolicyMSPerMB=0 -Xloggc:$DORIS_HOME/log/fe.gc.log.$DATE\"\n+\n+# For jdk 9+, you may need to use thgis JAVA_OPTS\n+# JAVA_OPTS=\"-Xmx4096m -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=7 -XX:+CMSClassUnloadingEnabled -XX:-CMSParallelRemarkEnabled -XX:CMSInitiatingOccupancyFraction=80 -XX:SoftRefLRUPolicyMSPerMB=0 -Xlog:gc*:$DORIS_HOME/log/fe.gc.log.$DATE:time\"\n\n\nIf JAVA_OPTS is different between jdks, can we check the java version and chose the right JAVA_OPTS in start_fe.sh\n\n—\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or unsubscribe.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/578582764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/580298926","html_url":"https://github.com/apache/doris/pull/2630#issuecomment-580298926","issue_url":"https://api.github.com/repos/apache/doris/issues/2630","id":580298926,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDI5ODkyNg==","user":{"login":"liutang123","id":17537020,"node_id":"MDQ6VXNlcjE3NTM3MDIw","avatar_url":"https://avatars.githubusercontent.com/u/17537020?v=4","gravatar_id":"","url":"https://api.github.com/users/liutang123","html_url":"https://github.com/liutang123","followers_url":"https://api.github.com/users/liutang123/followers","following_url":"https://api.github.com/users/liutang123/following{/other_user}","gists_url":"https://api.github.com/users/liutang123/gists{/gist_id}","starred_url":"https://api.github.com/users/liutang123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liutang123/subscriptions","organizations_url":"https://api.github.com/users/liutang123/orgs","repos_url":"https://api.github.com/users/liutang123/repos","events_url":"https://api.github.com/users/liutang123/events{/privacy}","received_events_url":"https://api.github.com/users/liutang123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-30T15:10:51Z","updated_at":"2020-01-30T15:10:51Z","author_association":"CONTRIBUTOR","body":"@imay @kangkaisen Do you have time to see this PR?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/580298926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/581010507","html_url":"https://github.com/apache/doris/issues/2745#issuecomment-581010507","issue_url":"https://api.github.com/repos/apache/doris/issues/2745","id":581010507,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTAxMDUwNw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-01T09:10:51Z","updated_at":"2020-02-01T09:10:51Z","author_association":"CONTRIBUTOR","body":"http://doris.incubator.apache.org/documentation/cn/getting-started/data-partition.html\r\nSee \"常见问题\" here","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/581010507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/581256872","html_url":"https://github.com/apache/doris/pull/2826#issuecomment-581256872","issue_url":"https://api.github.com/repos/apache/doris/issues/2826","id":581256872,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTI1Njg3Mg==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-03T06:19:57Z","updated_at":"2020-02-03T06:19:57Z","author_association":"CONTRIBUTOR","body":"Nice Job!","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/581256872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/581293682","html_url":"https://github.com/apache/doris/pull/2824#issuecomment-581293682","issue_url":"https://api.github.com/repos/apache/doris/issues/2824","id":581293682,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTI5MzY4Mg==","user":{"login":"EmmyMiao87","id":25147274,"node_id":"MDQ6VXNlcjI1MTQ3Mjc0","avatar_url":"https://avatars.githubusercontent.com/u/25147274?v=4","gravatar_id":"","url":"https://api.github.com/users/EmmyMiao87","html_url":"https://github.com/EmmyMiao87","followers_url":"https://api.github.com/users/EmmyMiao87/followers","following_url":"https://api.github.com/users/EmmyMiao87/following{/other_user}","gists_url":"https://api.github.com/users/EmmyMiao87/gists{/gist_id}","starred_url":"https://api.github.com/users/EmmyMiao87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmmyMiao87/subscriptions","organizations_url":"https://api.github.com/users/EmmyMiao87/orgs","repos_url":"https://api.github.com/users/EmmyMiao87/repos","events_url":"https://api.github.com/users/EmmyMiao87/events{/privacy}","received_events_url":"https://api.github.com/users/EmmyMiao87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-03T08:27:11Z","updated_at":"2020-02-03T08:27:11Z","author_association":"CONTRIBUTOR","body":"If the use has two different partition info with the same table such as  file1->p1,p3, file2->p1,p2 , user should submit the load job such as file1->p1 , file1->p3, file2->p1, file2->p2.\r\nIn this situation, there are four loading task instead of two of them. \r\nWhy don't you use the old struct such as Map<tableId, List<LoadInfo>>?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/581293682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/581294649","html_url":"https://github.com/apache/doris/pull/2824#issuecomment-581294649","issue_url":"https://api.github.com/repos/apache/doris/issues/2824","id":581294649,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTI5NDY0OQ==","user":{"login":"EmmyMiao87","id":25147274,"node_id":"MDQ6VXNlcjI1MTQ3Mjc0","avatar_url":"https://avatars.githubusercontent.com/u/25147274?v=4","gravatar_id":"","url":"https://api.github.com/users/EmmyMiao87","html_url":"https://github.com/EmmyMiao87","followers_url":"https://api.github.com/users/EmmyMiao87/followers","following_url":"https://api.github.com/users/EmmyMiao87/following{/other_user}","gists_url":"https://api.github.com/users/EmmyMiao87/gists{/gist_id}","starred_url":"https://api.github.com/users/EmmyMiao87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmmyMiao87/subscriptions","organizations_url":"https://api.github.com/users/EmmyMiao87/orgs","repos_url":"https://api.github.com/users/EmmyMiao87/repos","events_url":"https://api.github.com/users/EmmyMiao87/events{/privacy}","received_events_url":"https://api.github.com/users/EmmyMiao87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-03T08:29:45Z","updated_at":"2020-02-03T08:31:27Z","author_association":"CONTRIBUTOR","body":"The `PullLoadSourceInfo` has been consistent in some old version. I am afraid of the compatibility and persistent problems. Same as 'PullLoadPendingTask'.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/581294649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/581337487","html_url":"https://github.com/apache/doris/pull/2781#issuecomment-581337487","issue_url":"https://api.github.com/repos/apache/doris/issues/2781","id":581337487,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTMzNzQ4Nw==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-03T10:15:42Z","updated_at":"2020-02-03T10:15:42Z","author_association":"CONTRIBUTOR","body":"> No,Dependency is necessary;\r\nBecause int both parent job is cancel or parent is not final case, we all can't find parent index in catalog.Only 'parent index can be seen in catalog' can't decide whether current rollup job is ready to run\r\n\r\nI mean we don't need support  `user input rollup index: r1 from r2,r2 from r3`. **we could require the from index must exist firstly**. And then, there will no dependency between the rollup index, all children jobs all has the same parent job.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/581337487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/581758888","html_url":"https://github.com/apache/doris/pull/2781#issuecomment-581758888","issue_url":"https://api.github.com/repos/apache/doris/issues/2781","id":581758888,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTc1ODg4OA==","user":{"login":"wangbo","id":12951030,"node_id":"MDQ6VXNlcjEyOTUxMDMw","avatar_url":"https://avatars.githubusercontent.com/u/12951030?v=4","gravatar_id":"","url":"https://api.github.com/users/wangbo","html_url":"https://github.com/wangbo","followers_url":"https://api.github.com/users/wangbo/followers","following_url":"https://api.github.com/users/wangbo/following{/other_user}","gists_url":"https://api.github.com/users/wangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/wangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangbo/subscriptions","organizations_url":"https://api.github.com/users/wangbo/orgs","repos_url":"https://api.github.com/users/wangbo/repos","events_url":"https://api.github.com/users/wangbo/events{/privacy}","received_events_url":"https://api.github.com/users/wangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-04T06:12:41Z","updated_at":"2020-02-04T06:12:55Z","author_association":"CONTRIBUTOR","body":"@morningman plz review this pr","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/581758888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/581784220","html_url":"https://github.com/apache/doris/pull/2781#issuecomment-581784220","issue_url":"https://api.github.com/repos/apache/doris/issues/2781","id":581784220,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTc4NDIyMA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-04T07:51:10Z","updated_at":"2020-02-04T07:51:10Z","author_association":"CONTRIBUTOR","body":"Please add doc for create table with rollup","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/581784220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/581809110","html_url":"https://github.com/apache/doris/issues/2830#issuecomment-581809110","issue_url":"https://api.github.com/repos/apache/doris/issues/2830","id":581809110,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTgwOTExMA==","user":{"login":"EmmyMiao87","id":25147274,"node_id":"MDQ6VXNlcjI1MTQ3Mjc0","avatar_url":"https://avatars.githubusercontent.com/u/25147274?v=4","gravatar_id":"","url":"https://api.github.com/users/EmmyMiao87","html_url":"https://github.com/EmmyMiao87","followers_url":"https://api.github.com/users/EmmyMiao87/followers","following_url":"https://api.github.com/users/EmmyMiao87/following{/other_user}","gists_url":"https://api.github.com/users/EmmyMiao87/gists{/gist_id}","starred_url":"https://api.github.com/users/EmmyMiao87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmmyMiao87/subscriptions","organizations_url":"https://api.github.com/users/EmmyMiao87/orgs","repos_url":"https://api.github.com/users/EmmyMiao87/repos","events_url":"https://api.github.com/users/EmmyMiao87/events{/privacy}","received_events_url":"https://api.github.com/users/EmmyMiao87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-04T09:05:32Z","updated_at":"2020-02-04T10:31:03Z","author_association":"CONTRIBUTOR","body":"Greenplum support the correlated subquery in disjunctive(OR) filter by GPORCA.\r\n\r\nIf the correlated subquery in conjunctive filter, the query will be rewritten to semi join.\r\nIf the correlated subquery in disjunctive filter, the query will be rewritten to left outer join in Greenplum.\r\nFor example:\r\nselect * from a where exist (select * from b where a.k1=b.k1) or exist (select * from c where a.k1=c.k1);\r\n1. a left outer join b on a.k1=b.k1\r\n2. the result of 1 left outer join c on a.k1=c.k1\r\nthe result of 2 like that\r\n\r\n| a.k1 | b.k1 | c.k1 |\r\n| :-----| :---- | :----|\r\n| 1 | 1 | NULL |\r\n| 2 | NULL | 2 |\r\n| 3 | 3 | 3|\r\n| 4 | NULL | NULL|\r\n3. filter the incorrect line\r\nThe first, second and third line should be keep.\r\n4. keep the outer table columns\r\nkeep the columns in table A\r\nHere is a question. What does the following mean?\r\n`((COALESCE((count((count()))), 0::bigint) > 0::bigint) OR (COALESCE((count((count()))), 0::bigint) > 0::bigint))`\r\n\r\nFor query \r\n```\r\nSELECT *\r\nFROM customer c\r\nWHERE   EXISTS\r\n        (\r\n              SELECT *\r\n              FROM web_sales\r\n              WHERE c.c_customer_sk = ws_bill_customer_sk\r\n        )\r\n        OR EXISTS\r\n        (\r\n              SELECT *\r\n              FROM catalog_sales\r\n              WHERE c.c_customer_sk = cs_ship_customer_sk\r\n\r\n        );\r\n```\r\nThe explain result like that \r\n```\r\ntpcds=# explain SELECT *\r\ntpcds-# FROM customer c\r\ntpcds-# WHERE   EXISTS\r\ntpcds-#         (\r\ntpcds(#               SELECT *\r\ntpcds(#               FROM web_sales\r\ntpcds(#               WHERE c.c_customer_sk = ws_bill_customer_sk\r\ntpcds(#         )\r\ntpcds-#         OR EXISTS\r\ntpcds-#         (\r\ntpcds(#               SELECT *\r\ntpcds(#               FROM catalog_sales\r\ntpcds(#               WHERE c.c_customer_sk = cs_ship_customer_sk\r\ntpcds(#\r\ntpcds(#         );\r\n                                                                            QUERY PLAN\r\n---------------------------------------------------------------------------------------------------\r\n Gather Motion 10:1  (slice3; segments: 10)  (cost=0.00..60357.42 rows=13500000 width=113)\r\n   ->  Result  (cost=0.00..56302.64 rows=1350000 width=113)\r\n         Filter: ((COALESCE((count((count()))), 0::bigint) > 0::bigint) OR (COALESCE((count((count()))), 0::bigint) > 0::bigint))\r\n         ->  Result  (cost=0.00..56118.17 rows=2803591 width=120)\r\n               ->  Hash Left Join  (cost=0.00..55781.73 rows=2803591 width=129)\r\n                     Hash Cond: (customer.c_customer_sk = catalog_sales.cs_ship_customer_sk)\r\n                     ->  Hash Left Join  (cost=0.00..19740.78 rows=1613115 width=121)\r\n                           Hash Cond: (customer.c_customer_sk = web_sales.ws_bill_customer_sk)\r\n                           ->  Seq Scan on customer  (cost=0.00..514.82 rows=1200000 width=113)\r\n                           ->  Hash  (cost=17560.85..17560.85 rows=1177761 width=12)\r\n                                 ->  HashAggregate  (cost=0.00..17560.85 rows=1177761 width=12)\r\n                                       Group Key: web_sales.ws_bill_customer_sk\r\n                                       ->  Redistribute Motion 10:10  (slice1; segments: 10)  (cost=0.00..17410.01 rows=1177761 width=12)\r\n                                             Hash Key: web_sales.ws_bill_customer_sk\r\n                                             ->  Result  (cost=0.00..17365.77 rows=1177761 width=12)\r\n                                                   ->  HashAggregate  (cost=0.00..17365.77 rows=1177761 width=12)\r\n                                                         Group Key: web_sales.ws_bill_customer_sk\r\n                                                         ->  Sequence  (cost=0.00..7559.00 rows=72000038 width=4)\r\n                                                               ->  Partition Selector for web_sales (dynamic scan id: 1)  (cost=10.00..100.00 rows=10 width=4)\r\n                                                                     Partitions selected: 56 (out of 56)\r\n                                                               ->  Dynamic Seq Scan on web_sales (dynamic scan id: 1)  (cost=0.00..7559.00 rows=72000038 width=4)\r\n                     ->  Hash  (cost=33936.95..33936.95 rows=1178712 width=12)\r\n                           ->  HashAggregate  (cost=0.00..33936.95 rows=1178712 width=12)\r\n                                 Group Key: catalog_sales.cs_ship_customer_sk\r\n                                 ->  Redistribute Motion 10:10  (slice2; segments: 10)  (cost=0.00..33785.99 rows=1178712 width=12)\r\n                                       Hash Key: catalog_sales.cs_ship_customer_sk\r\n                                       ->  Result  (cost=0.00..33741.71 rows=1178712 width=12)\r\n                                             ->  HashAggregate  (cost=0.00..33741.71 rows=1178712 width=12)\r\n                                                   Group Key: catalog_sales.cs_ship_customer_sk\r\n                                                   ->  Sequence  (cost=0.00..14132.41 rows=143998042 width=4)\r\n                                                         ->  Partition Selector for catalog_sales (dynamic scan id: 2)  (cost=10.00..100.00 rows=10 width=4)\r\n                                                               Partitions selected: 80 (out of 80)\r\n                                                         ->  Dynamic Seq Scan on catalog_sales (dynamic scan id: 2)  (cost=0.00..14132.41 rows=143998042 width=4)\r\n Optimizer: Pivotal Optimizer (GPORCA) version 3.80.0\r\n(34 rows)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/581809110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/582297628","html_url":"https://github.com/apache/doris/pull/2828#issuecomment-582297628","issue_url":"https://api.github.com/repos/apache/doris/issues/2828","id":582297628,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjI5NzYyOA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T08:35:17Z","updated_at":"2020-02-05T08:35:17Z","author_association":"CONTRIBUTOR","body":"@kangkaisen Would you help to review this PR?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/582297628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/582389201","html_url":"https://github.com/apache/doris/pull/2828#issuecomment-582389201","issue_url":"https://api.github.com/repos/apache/doris/issues/2828","id":582389201,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjM4OTIwMQ==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T12:41:03Z","updated_at":"2020-02-05T12:41:03Z","author_association":"CONTRIBUTOR","body":"> @kangkaisen Would you help to review this PR?\r\n\r\nOK. I will review this PR.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/582389201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/582434756","html_url":"https://github.com/apache/doris/pull/2840#issuecomment-582434756","issue_url":"https://api.github.com/repos/apache/doris/issues/2840","id":582434756,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjQzNDc1Ng==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T14:30:56Z","updated_at":"2020-02-05T14:30:56Z","author_association":"CONTRIBUTOR","body":"#2841 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/582434756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/582784888","html_url":"https://github.com/apache/doris/issues/2848#issuecomment-582784888","issue_url":"https://api.github.com/repos/apache/doris/issues/2848","id":582784888,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mjc4NDg4OA==","user":{"login":"EmmyMiao87","id":25147274,"node_id":"MDQ6VXNlcjI1MTQ3Mjc0","avatar_url":"https://avatars.githubusercontent.com/u/25147274?v=4","gravatar_id":"","url":"https://api.github.com/users/EmmyMiao87","html_url":"https://github.com/EmmyMiao87","followers_url":"https://api.github.com/users/EmmyMiao87/followers","following_url":"https://api.github.com/users/EmmyMiao87/following{/other_user}","gists_url":"https://api.github.com/users/EmmyMiao87/gists{/gist_id}","starred_url":"https://api.github.com/users/EmmyMiao87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmmyMiao87/subscriptions","organizations_url":"https://api.github.com/users/EmmyMiao87/orgs","repos_url":"https://api.github.com/users/EmmyMiao87/repos","events_url":"https://api.github.com/users/EmmyMiao87/events{/privacy}","received_events_url":"https://api.github.com/users/EmmyMiao87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-06T08:09:41Z","updated_at":"2020-03-26T02:54:06Z","author_association":"CONTRIBUTOR","body":"## Semantic detection\r\n1. check for related subquery\r\n\r\n```\r\ncorrelated predicate in where\r\n\r\nexplain select k1, sum (k2) from all_type_table a group by k1 having k1> (select min (k1) from all_type_table b where a.k1 = b.k1);\r\n\r\nERROR 1064 (HY000): errCode = 2, detailMessage = Correlated subquery are not supported in the HAVING clause.\r\n```\r\n\r\n```\r\ncorrelated predicate in inline view\r\n\r\nexplain select k1, sum (k2) from all_type_table a group by k1 having k1> (select min (k1) from (select * from all_type_table b where a.k1 = b.k1) c);\r\n\r\nunknown column\r\n```\r\n\r\n2. Does the alias affect the judgment of semantic detection?\r\n\r\nThe column alias of the outer query involved in the subquery is currently unrecognized.\r\n\r\n```\r\nalias column in outer query\r\nexplain select k1 a, sum (k2) b from all_type_table a group by k1 having b> (select min (k1) from all_type_table b where a.a = b.k1);\r\nunknown column\r\n```\r\n\r\n```\r\nalias column using in inline view\r\nexplain select k1 a, sum (k2) b from all_type_table a group by k1 having k1> (select min (k1) from (select * from all_type_table b where a.a = b.k1) c);\r\nunknown column\r\n\r\n```\r\n\r\n## Query rewrite\r\nScalar query\r\n\r\n```\r\nexplain select k1, sum (k2) from all_type_table a group by k1 having k1> (select min (k1) from all_type_table b where a.k1 = b.k1);\r\n\r\nNo assert row number node\r\n\r\n```\r\n\r\n2. non scalar query\r\n\r\n```\r\nexplain select k1, sum (k2) from all_type_table a group by k1 having k1> (select k1 from all_type_table b where a.k1 = b.k1);\r\n\r\nThe top node of the rewritten subquery plan contains an assert row number node\r\n\r\n```\r\n\r\n3. Non-Related Subqueries\r\n\r\n```\r\nWithout calculation\r\n\r\nexplain select k1, sum (k2) from all_type_table a group by k1 having k1> (select min (k1) from all_type_table b);\r\n\r\nsupported\r\n\r\n```\r\n\r\n```\r\nArithmetic expressions with subqueries\r\n\r\nexplain select k1, sum (k2) from all_type_table a group by k1 having k1> (95 / 100.0) * (select min (k1) from all_type_table b);\r\n\r\nsupported\r\n\r\n```\r\n\r\n```\r\nSubquery results with calculations\r\n\r\nexplain select k1, sum (k2) from all_type_table a group by k1 having k1> (select 0.9 * min (k1) from all_type_table b);\r\n\r\nsupported\r\n\r\n```\r\n\r\n```\r\nSubquery with aggregate\r\n\r\nexplain select k1, sum (k2) from all_type_table a group by k1 having k1> (select min (k1) from all_type_table b group by k2);\r\n\r\n\r\nmysql> explain select k1, sum (k2) from all_type_table group by k1 having sum (k2)> (select sum (k1) from all_type_table);\r\n -------------------------------------------------- -----------------------------\r\n| Explain String |\r\n -------------------------------------------------- -----------------------------\r\n| PLAN FRAGMENT 0 |\r\n| OUTPUT EXPRS: <slot 2> | <slot 3> |\r\n| PARTITION: RANDOM |\r\n| |\r\n| RESULT SINK |\r\n| |\r\n| 4: CROSS JOIN |\r\n| | cross join: |\r\n| | predicates: <slot 3>> <slot 7> |\r\n| | tuple ids: 1 4 |\r\n| | |\r\n| | ---- 5: EXCHANGE |\r\n| | tuple ids: 4 |\r\n| | |\r\n| 1: AGGREGATE (update finalize) |\r\n| | output: sum (`k2`) |\r\n| | group by: `k1` |\r\n| | tuple ids: 1 |\r\n| | |\r\n| 0: OlapScanNode |\r\n| TABLE: all_type_table |\r\n| PREAGGREGATION: OFF. Reason: Aggregate Operator not match: SUM <-> NONE |\r\n| partitions = 0/1 |\r\n| rollup: null |\r\n| tabletRatio = 0/0 |\r\n| tabletList = |\r\n| cardinality = -1 |\r\n| avgRowSize = 0.0 |\r\n| numNodes = 0 |\r\n| tuple ids: 0 |\r\n| |\r\n| PLAN FRAGMENT 1 |\r\n| OUTPUT EXPRS:\r\n|\r\n|   PARTITION: RANDOM                                                           |\r\n|                                                                               |\r\n|   STREAM DATA SINK                                                            |\r\n|     EXCHANGE ID: 05                                                           |\r\n|     UNPARTITIONED                                                             |\r\n|                                                                               |\r\n|   3:AGGREGATE (update finalize)                                               |\r\n|   |  output: sum(`k1`)                                                        |\r\n|   |  group by:                                                                |\r\n|   |  tuple ids: 4                                                             |\r\n|   |                                                                           |\r\n|   2:OlapScanNode                                                              |\r\n|      TABLE: all_type_table                                                    |\r\n|      PREAGGREGATION: OFF. Reason: Aggregate Operator not match: SUM <--> null |\r\n|      partitions=0/1                                                           |\r\n|      rollup: null                                                             |\r\n|      tabletRatio=0/0                                                          |\r\n|      tabletList=                                                              |\r\n|      cardinality=-1                                                           |\r\n|      avgRowSize=0.0                                                           |\r\n|      numNodes=0                                                               |\r\n|      tuple ids: 3                                                             |\r\n+-------------------------------------------------------------------------------+\r\n55 rows in set (0.04 sec)\r\n\r\n```\r\n\r\n```\r\nThe outer query is a complex aggregation type such as avg, count distinct\r\nexplain select k1, avg (k2) from all_type_table a group by k1 having avg (k2)> (select min (k1) from all_type_table b);\r\n```\r\n\r\n```\r\nSubquery contains grouped columns\r\nexplain select k1, sum (k2) from all_type_table a group by k1 having sum (k2)> 0.9 * (select avg (k1) from all_type_table b group by k4);\r\n    Aggregation after grouping, and assert node at the top of the subquery\r\n\r\n```\r\n\r\n4. correlated subquery\r\nAs of now, correlated subqueries cannot resolve associated columns during semantic parsing.\r\nThe reason why it cannot be parsed is that the associated column should be parsed by the top-level tuple of the outer query, but it cannot be mapped to the correct tuple during parsing.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/582784888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/582853153","html_url":"https://github.com/apache/doris/pull/2851#issuecomment-582853153","issue_url":"https://api.github.com/repos/apache/doris/issues/2851","id":582853153,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mjg1MzE1Mw==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-06T11:06:23Z","updated_at":"2020-02-06T11:06:23Z","author_association":"MEMBER","body":"ISSUE： https://github.com/apache/incubator-doris/issues/2852","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/582853153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/582854705","html_url":"https://github.com/apache/doris/pull/2851#issuecomment-582854705","issue_url":"https://api.github.com/repos/apache/doris/issues/2851","id":582854705,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mjg1NDcwNQ==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-06T11:10:22Z","updated_at":"2020-02-06T11:10:22Z","author_association":"CONTRIBUTOR","body":"es_query_builder_test also need update?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/582854705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/582875268","html_url":"https://github.com/apache/doris/pull/2851#issuecomment-582875268","issue_url":"https://api.github.com/repos/apache/doris/issues/2851","id":582875268,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mjg3NTI2OA==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-06T12:06:49Z","updated_at":"2020-02-06T12:06:49Z","author_association":"MEMBER","body":"@kangkaisen  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/582875268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583197900","html_url":"https://github.com/apache/doris/issues/2846#issuecomment-583197900","issue_url":"https://api.github.com/repos/apache/doris/issues/2846","id":583197900,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzE5NzkwMA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T01:54:50Z","updated_at":"2020-02-07T01:54:50Z","author_association":"CONTRIBUTOR","body":"Hi @kangkaisen \r\n\r\nGood job!\r\n\r\nDo you have some benchmark for this improvement? For example when all the table is cached in memory, how about the performance of the query.\r\n\r\nAnd I think the `in_memory` option is better to be as a property of a partition. If we do that way, we can make the most visited partition in memory and others in SSD or HDD. This will maximize the use of memory.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583197900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583208333","html_url":"https://github.com/apache/doris/issues/2846#issuecomment-583208333","issue_url":"https://api.github.com/repos/apache/doris/issues/2846","id":583208333,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzIwODMzMw==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T02:42:50Z","updated_at":"2020-02-07T02:42:50Z","author_association":"CONTRIBUTOR","body":"@imay \r\nI will do a benchmark.\r\n\r\nOK, I will add `in_memory` option to partition property. ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583208333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583273169","html_url":"https://github.com/apache/doris/issues/2855#issuecomment-583273169","issue_url":"https://api.github.com/repos/apache/doris/issues/2855","id":583273169,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzI3MzE2OQ==","user":{"login":"kangpinghuang","id":40422952,"node_id":"MDQ6VXNlcjQwNDIyOTUy","avatar_url":"https://avatars.githubusercontent.com/u/40422952?v=4","gravatar_id":"","url":"https://api.github.com/users/kangpinghuang","html_url":"https://github.com/kangpinghuang","followers_url":"https://api.github.com/users/kangpinghuang/followers","following_url":"https://api.github.com/users/kangpinghuang/following{/other_user}","gists_url":"https://api.github.com/users/kangpinghuang/gists{/gist_id}","starred_url":"https://api.github.com/users/kangpinghuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangpinghuang/subscriptions","organizations_url":"https://api.github.com/users/kangpinghuang/orgs","repos_url":"https://api.github.com/users/kangpinghuang/repos","events_url":"https://api.github.com/users/kangpinghuang/events{/privacy}","received_events_url":"https://api.github.com/users/kangpinghuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T07:46:22Z","updated_at":"2020-02-07T07:46:22Z","author_association":"CONTRIBUTOR","body":"\r\n[spark_load.pdf](https://github.com/apache/incubator-doris/files/4169541/spark_load.pdf)\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583273169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583279169","html_url":"https://github.com/apache/doris/issues/2855#issuecomment-583279169","issue_url":"https://api.github.com/repos/apache/doris/issues/2855","id":583279169,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzI3OTE2OQ==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T08:06:45Z","updated_at":"2020-02-07T08:06:45Z","author_association":"CONTRIBUTOR","body":"@kangpinghuang \r\nCould you please give a PR for this design? Then others can make comment for this proposal.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583279169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583285587","html_url":"https://github.com/apache/doris/issues/2855#issuecomment-583285587","issue_url":"https://api.github.com/repos/apache/doris/issues/2855","id":583285587,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzI4NTU4Nw==","user":{"login":"kangpinghuang","id":40422952,"node_id":"MDQ6VXNlcjQwNDIyOTUy","avatar_url":"https://avatars.githubusercontent.com/u/40422952?v=4","gravatar_id":"","url":"https://api.github.com/users/kangpinghuang","html_url":"https://github.com/kangpinghuang","followers_url":"https://api.github.com/users/kangpinghuang/followers","following_url":"https://api.github.com/users/kangpinghuang/following{/other_user}","gists_url":"https://api.github.com/users/kangpinghuang/gists{/gist_id}","starred_url":"https://api.github.com/users/kangpinghuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangpinghuang/subscriptions","organizations_url":"https://api.github.com/users/kangpinghuang/orgs","repos_url":"https://api.github.com/users/kangpinghuang/repos","events_url":"https://api.github.com/users/kangpinghuang/events{/privacy}","received_events_url":"https://api.github.com/users/kangpinghuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T08:27:36Z","updated_at":"2020-02-07T08:27:36Z","author_association":"CONTRIBUTOR","body":"ok, I will propose a pr","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583285587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583703429","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-583703429","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":583703429,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzcwMzQyOQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T05:02:45Z","updated_at":"2020-02-10T14:41:59Z","author_association":"CONTRIBUTOR","body":"Redesign according to new requirements\r\n\r\nWe hope that the Temporary Partition feature can be more flexible. While supporting overwrite, it can also support the modification of existing partitions, such as supporting partition splitting or merging, or modifying the number of buckets.\r\n\r\n## Add Temp Partition\r\n\r\n```\r\nALTER TABLE tbl\r\nADD TEMPORARY PARTITION tp1 values ​​[(lower), (high)) BUCKETS 10,\r\nADD TEMPORARY PARTITION tp2 values ​​((lower), (high)) BUCKETS 20,\r\nADD TEMPORARY PARTITION tp3 values ​​[(lower), (high));\r\n```\r\n\r\nTemporary partitions can also specify partition ranges and number of buckets. If no bucket number is specified, the default bucket number is used. There is no limit on the range of the temporary partition. However, all ranges of the temporary partitions of a table must not conflict.\r\n\r\n## Delete Temp Partition\r\n\r\n```\r\nALTER TABLE tbl DROP TEMPORARY PARTITION (tp1, tp2);\r\n```\r\n\r\n## Replace Temp Partition\r\n\r\n```\r\nALTER TABLE tbl REPLACE PARTITION (p1, p2) WITH TEMPORARY PARTITION (tp1, tp2, tp3);\r\n```\r\n\r\nThe above statement replaces the existing partitions `p1, p2` with `tp1, tp2, tp3`. In the replace partition operation, as long as after deleting original partitions and replaced with the temp partitions, the range of the entire table does not conflict, then the replace operation will be allowed.\r\n\r\nReplacement is an atomic operation.\r\n\r\n## Load/Read/ to Temp Partitions\r\n\r\n1. BROKER LOAD\r\n\r\n    ```\r\n    LOAD LABEL db1.label1\r\n    DATA INFILE (\"hdfs: // files\")\r\n    INTO TABLE `my_table`\r\n    TEMPORARY PARTITION (p1, p2)\r\n    ...\r\n    ```\r\n\r\n2. STREAM LOAD\r\n\r\n    ```\r\n    curl -H \"temporary partition: p1, p2\" ...\r\n    ```\r\n\r\n3. INSERT INTO\r\n\r\n    ```\r\n    INSERT INTO tbl TEMPORARY PARTITION (p1, p2) ...\r\n    ```\r\n\r\n4. SELECT\r\n\r\n    ```\r\n    SELECT * FROM tbl TEMPORARY PARTITION (p1, p2) ...\r\n    ```\r\n\r\n## Usage\r\n\r\n* Overwrite\r\n\r\n    First create a temporary partition with the same range as the partition to be overwritten. Then load the data to the temporary partition, and finally replace the partition with the temporary partition by the replace command to complete the overwrite.\r\n\r\n* Partition split and merge\r\n\r\n    First create two temporary partitions whose range is the splitted range. Use the insert into statement to load data from the original partition into two temporary partitions. Finally, use the replace command to replace the partition with temporary partitions to complete the partition split.\r\n\r\n    Merging partitions is to create a temporary partition whose range covers multiple partitions' ranges, and then perform the same operation as split.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583703429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583703732","html_url":"https://github.com/apache/doris/pull/2828#issuecomment-583703732","issue_url":"https://api.github.com/repos/apache/doris/issues/2828","id":583703732,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzcwMzczMg==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T05:07:30Z","updated_at":"2020-02-08T05:07:30Z","author_association":"CONTRIBUTOR","body":"@imay @kangkaisen\r\nI redesign the implementation, see here: #2663","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583703732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583721594","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-583721594","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":583721594,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzcyMTU5NA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T09:54:40Z","updated_at":"2020-02-08T09:54:40Z","author_association":"CONTRIBUTOR","body":"> We hope that the Temporary Partition feature can be more flexible. While supporting overwrite, it can also support the modification of existing partitions, such as supporting partition splitting or merging, or modifying the number of buckets.\r\n\r\nIf the Temporary Partition is not binding with the original Partition, we will need to support Temporary Partition set partition properties. such as `replication_num`,  `in_memory`.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583721594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583736874","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-583736874","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":583736874,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzczNjg3NA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T13:31:34Z","updated_at":"2020-02-08T13:31:34Z","author_association":"CONTRIBUTOR","body":"> ```\r\n> ALTER TABLE tbl\r\n> ADD TEMP PARTITION tp1 values ​​[(lower), (high)) BUCKETS 10,\r\n> ADD TEMP PARTITION tp2 values ​​((lower), (high)) BUCKETS 20,\r\n> ADD TEMP PARTITION tp3 values ​​[(lower), (high));\r\n> ```\r\n\r\nPrefer using keyword TEMPORARY \r\n\r\n> However, all ranges of the temporary partitions of a table must not conflict.\r\n\r\nIs this necessary?\r\n\r\n > In the replace partition operation, as long as after deleting original partitions and replaced with the temp partitions, the range of the entire table does not conflict, then the replace operation will be allowed.\r\n\r\nBesides the ranges don't conflict, the new partitions' range should be exactly the same with old partitions'. For example in the situation that the old partitions ranges are [1,3), [3,5) the new partition is [1,2) [3,5), there will be a hole [2,3) in the table. I'm not sure if this will work fine.\r\n\r\n> ```\r\n> LOAD LABEL db1.label1\r\n> DATA INFILE (\"hdfs: // files\")\r\n> INTO TABLE `my_table`\r\n> TEMP PARTITION (p1, p2)\r\n> ...\r\n> ```\r\n\r\nI think the TEMP keyword here isn't necessary, and should be removed.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583736874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583741869","html_url":"https://github.com/apache/doris/issues/1192#issuecomment-583741869","issue_url":"https://api.github.com/repos/apache/doris/issues/1192","id":583741869,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc0MTg2OQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T14:35:52Z","updated_at":"2020-02-08T14:35:52Z","author_association":"CONTRIBUTOR","body":"This may be fixed. close it now.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583741869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583742309","html_url":"https://github.com/apache/doris/issues/1865#issuecomment-583742309","issue_url":"https://api.github.com/repos/apache/doris/issues/1865","id":583742309,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc0MjMwOQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T14:41:25Z","updated_at":"2020-02-08T14:41:25Z","author_association":"CONTRIBUTOR","body":"it has been implement in another pr. #2573 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583742309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583809213","html_url":"https://github.com/apache/doris/issues/1508#issuecomment-583809213","issue_url":"https://api.github.com/repos/apache/doris/issues/1508","id":583809213,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzgwOTIxMw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T06:19:45Z","updated_at":"2020-02-09T06:19:45Z","author_association":"CONTRIBUTOR","body":"It's done","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583809213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583809453","html_url":"https://github.com/apache/doris/issues/1612#issuecomment-583809453","issue_url":"https://api.github.com/repos/apache/doris/issues/1612","id":583809453,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzgwOTQ1Mw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T06:23:52Z","updated_at":"2020-02-09T06:23:52Z","author_association":"CONTRIBUTOR","body":"It's done","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583809453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583809539","html_url":"https://github.com/apache/doris/issues/1258#issuecomment-583809539","issue_url":"https://api.github.com/repos/apache/doris/issues/1258","id":583809539,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzgwOTUzOQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T06:25:07Z","updated_at":"2020-02-09T06:25:07Z","author_association":"CONTRIBUTOR","body":"Reopen if happen again","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583809539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583809595","html_url":"https://github.com/apache/doris/issues/1596#issuecomment-583809595","issue_url":"https://api.github.com/repos/apache/doris/issues/1596","id":583809595,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzgwOTU5NQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T06:26:13Z","updated_at":"2020-02-09T06:26:13Z","author_association":"CONTRIBUTOR","body":"Duplicated with #1362 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583809595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583811292","html_url":"https://github.com/apache/doris/issues/1883#issuecomment-583811292","issue_url":"https://api.github.com/repos/apache/doris/issues/1883","id":583811292,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzgxMTI5Mg==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T06:49:27Z","updated_at":"2020-02-09T06:49:27Z","author_association":"CONTRIBUTOR","body":"https://segmentfault.com/a/1190000008042499","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583811292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583972160","html_url":"https://github.com/apache/doris/pull/2847#issuecomment-583972160","issue_url":"https://api.github.com/repos/apache/doris/issues/2847","id":583972160,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzk3MjE2MA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T06:14:43Z","updated_at":"2020-02-10T06:14:43Z","author_association":"CONTRIBUTOR","body":"Update the PR for https://github.com/apache/incubator-doris/issues/2866\r\n\r\nCurrently, I don't persist `in_memory` property in FE partition metadata, I think which is not very n necessary. If we think we should persist `in_memory` property  in FE partition metadata, I could do this work in next PR. This PR is big enough.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583972160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/583997030","html_url":"https://github.com/apache/doris/issues/2872#issuecomment-583997030","issue_url":"https://api.github.com/repos/apache/doris/issues/2872","id":583997030,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzk5NzAzMA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T07:53:51Z","updated_at":"2020-02-10T07:53:51Z","author_association":"CONTRIBUTOR","body":"API change should include https://github.com/apache/incubator-doris/pull/2256","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/583997030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584063379","html_url":"https://github.com/apache/doris/issues/2872#issuecomment-584063379","issue_url":"https://api.github.com/repos/apache/doris/issues/2872","id":584063379,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDA2MzM3OQ==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T10:48:19Z","updated_at":"2020-02-10T10:48:19Z","author_association":"CONTRIBUTOR","body":"The ongoing work to support complex data type may introduce incompatible changes to V2 format, so the release should pause until we finalized V2 format.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584063379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584149703","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584149703","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584149703,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE0OTcwMw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T14:31:15Z","updated_at":"2020-02-10T14:31:15Z","author_association":"CONTRIBUTOR","body":"> If the Temporary Partition is not binding with the original Partition, we will need to support Temporary Partition set partition properties. such as `replication_num`, `in_memory`.\r\n\r\nIs it necessary to make this `temporary` thing much complexity? As you said, this is just a `short life time` partition and will not exist long time.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584149703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584150138","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584150138","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584150138,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE1MDEzOA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T14:32:10Z","updated_at":"2020-02-10T14:32:10Z","author_association":"CONTRIBUTOR","body":"> > However, all ranges of the temporary partitions of a table must not conflict.\r\n> \r\n> Is this necessary?\r\n\r\nYes, to make things simple. And use can load data to temp partition just like the formal partition.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584150138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584151950","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584151950","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584151950,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE1MTk1MA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T14:35:56Z","updated_at":"2020-02-10T14:35:56Z","author_association":"CONTRIBUTOR","body":"> Besides the ranges don't conflict, the new partitions' range should be exactly the same with old partitions'. For example in the situation that the old partitions ranges are [1,3), [3,5) the new partition is [1,2) [3,5), there will be a hole [2,3) in the table. I'm not sure if this will work fine.\r\n\r\nIf so, we also need to be able to specify the name of corresponding formal partition for the temporary partition in the statement. This makes the statement more complicated. \r\n\r\nMaybe we can create a separate syntax for split and merge scenarios? Or simply use this flexible method directly and leave it to the user to judge and handle.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584151950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584154516","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584154516","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584154516,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE1NDUxNg==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T14:41:12Z","updated_at":"2020-02-10T14:41:12Z","author_association":"CONTRIBUTOR","body":"> I think the TEMP keyword here isn't necessary, and should be removed.\r\n\r\nIt is not easy to guarantee that the name of the temporary partition and the name of the formal partition do not conflict. So we use the `temp` keyword to distinguish. In this way, users only need to ensure that the names in different partition types do not conflict.\r\n\r\nAt the same time, we want users to be aware of their behavior and realize that temporary partitions are only temporary. Because I don't even implement the replica's balacne and repair of the temporary partition.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584154516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584163927","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584163927","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584163927,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE2MzkyNw==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T15:00:20Z","updated_at":"2020-02-10T15:00:20Z","author_association":"CONTRIBUTOR","body":"> If so, we also need to be able to specify the name of corresponding formal partition for the temporary partition in the statement. This makes the statement more complicated.\r\n\r\nIn the statement the replaced partition is already specified.\r\n\r\n```\r\nALTER TABLE tbl REPLACE PARTITION (p1, p2) WITH TEMPORARY PARTITION (tp1, tp2, tp3);\r\n```\r\n\r\nWe must keep the range of partition p1 p2 is the same with the range of partition tp1, tp2 and tp3.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584163927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584167764","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584167764","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584167764,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE2Nzc2NA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T15:08:08Z","updated_at":"2020-02-10T15:08:08Z","author_association":"CONTRIBUTOR","body":"> In the statement the replaced partition is already specified.\r\n\r\nNo, I mean we have to specify the name of corresponding formal partition in `CREATE TEMP PARTITION` stmt. Otherwise we can control the range of a temp partition user created.\r\n\r\nAnd I think this is OK, just leave it to user how to use it. And in `REPLACE` operation, I will only check after replacing, the new ranges are not conflict.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584167764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584167899","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584167899","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584167899,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE2Nzg5OQ==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T15:08:25Z","updated_at":"2020-02-10T15:08:25Z","author_association":"CONTRIBUTOR","body":"> > I think the TEMP keyword here isn't necessary, and should be removed.\r\n> \r\n> It is not easy to guarantee that the name of the temporary partition and the name of the formal partition do not conflict. \r\n\r\nWhy it is not easy? when the new partition temporary or not is added, the name is checked. Then the name can be guaranteed not conflict.\r\n\r\n> \r\n> At the same time, we want users to be aware of their behavior and realize that temporary partitions are only temporary.\r\n\r\n> Because I don't even implement the replica's balacne and repair of the temporary partition.\r\n\r\nI think it is not a good idea not to do this. Better to treat temp partition like normal partition, otherwise when the temp partition is converted to a normal partition, additional check will be done.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584167899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584169634","html_url":"https://github.com/apache/doris/issues/2872#issuecomment-584169634","issue_url":"https://api.github.com/repos/apache/doris/issues/2872","id":584169634,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE2OTYzNA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T15:12:07Z","updated_at":"2020-02-10T15:12:07Z","author_association":"CONTRIBUTOR","body":"> The ongoing work to support complex data type may introduce incompatible changes to V2 format, so the release should pause until we finalized V2 format.\r\n\r\nWhat do you mean `incompatible` ? Why there is an incompatible feature on going?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584169634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584169740","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584169740","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584169740,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE2OTc0MA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T15:12:18Z","updated_at":"2020-02-10T15:12:18Z","author_association":"CONTRIBUTOR","body":"> > In the statement the replaced partition is already specified.\r\n> \r\n> No, I mean we have to specify the name of corresponding formal partition in `CREATE TEMP PARTITION` stmt. Otherwise we can control the range of a temp partition user created.\r\n\r\nI don't quite understand why you should indicate the name of the associated partition when creating the partition?\r\n \r\n> And I think this is OK, just leave it to user how to use it. And in `REPLACE` operation, I will only check after replacing, the new ranges are not conflict.\r\n\r\nI want to emphasize that it is not enough to just check for conflicts. You need to check if the two partitions replaced before and after are exactly enough to cover. The conflict just says that the partitions overlap, and there is another case where there are holes between the partitions","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584169740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584172183","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584172183","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584172183,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE3MjE4Mw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T15:17:02Z","updated_at":"2020-02-10T15:17:02Z","author_association":"CONTRIBUTOR","body":"> I think it is not a good idea not to do this. Better to treat temp partition like normal partition, otherwise when the temp partition is converted to a normal partition, additional check will be done.\r\n\r\nI agree with this","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584172183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584175459","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584175459","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584175459,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE3NTQ1OQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T15:23:43Z","updated_at":"2020-02-10T15:23:43Z","author_association":"CONTRIBUTOR","body":"> > > In the statement the replaced partition is already specified.\r\n> > \r\n> > \r\n> > No, I mean we have to specify the name of corresponding formal partition in `CREATE TEMP PARTITION` stmt. Otherwise we can control the range of a temp partition user created.\r\n> \r\n> I don't quite understand why you should indicate the name of the associated partition when creating the partition?\r\n> \r\n> > And I think this is OK, just leave it to user how to use it. And in `REPLACE` operation, I will only check after replacing, the new ranges are not conflict.\r\n> \r\n> I want to emphasize that it is not enough to just check for conflicts. You need to check if the two partitions replaced before and after are exactly enough to cover. The conflict just says that the partitions overlap, and there is another case where there are holes between the partitions\r\n\r\nI mean, for example, the origin partition(p1, p2) ranges are:\r\n[0, 10)\r\n[10, 20)\r\n\r\nAnd user create 2 temp partitions (tp1, tp2) with range:\r\n[10, 11) and [15, 18)\r\n\r\nAnd user replace the (p1, p2) with (tp1, tp2), should we allow this operation?\r\n\r\nTwo options. First, we check strictly. The range must be covered and equal. But if user really want to new range of tp1 and tp2? So the second option is, we only check for conflicts and not for coverage.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584175459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]