[{"url":"https://api.github.com/repos/apache/jena/issues/comments/2411245403","html_url":"https://github.com/apache/jena/issues/2755#issuecomment-2411245403","issue_url":"https://api.github.com/repos/apache/jena/issues/2755","id":2411245403,"node_id":"IC_kwDOAHF7Ec6PuK9b","user":{"login":"SamuelBoerlin","id":11892708,"node_id":"MDQ6VXNlcjExODkyNzA4","avatar_url":"https://avatars.githubusercontent.com/u/11892708?v=4","gravatar_id":"","url":"https://api.github.com/users/SamuelBoerlin","html_url":"https://github.com/SamuelBoerlin","followers_url":"https://api.github.com/users/SamuelBoerlin/followers","following_url":"https://api.github.com/users/SamuelBoerlin/following{/other_user}","gists_url":"https://api.github.com/users/SamuelBoerlin/gists{/gist_id}","starred_url":"https://api.github.com/users/SamuelBoerlin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SamuelBoerlin/subscriptions","organizations_url":"https://api.github.com/users/SamuelBoerlin/orgs","repos_url":"https://api.github.com/users/SamuelBoerlin/repos","events_url":"https://api.github.com/users/SamuelBoerlin/events{/privacy}","received_events_url":"https://api.github.com/users/SamuelBoerlin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-14T13:18:28Z","updated_at":"2024-10-14T13:18:28Z","author_association":"NONE","body":"Hi again, I now have some logs I can share:\r\n\r\n[Fuseki NPE Debug Logs.txt](https://github.com/user-attachments/files/17364321/Fuseki.NPE.Debug.Logs.txt)\r\n\r\nI've included a couple of requests before the NPE.\r\n\r\nThis time it happened without any prior compaction, so I guess that rules out compaction being involved in this issue.\r\n\r\n> (unrelated - you are running on Java23?)\r\n\r\nNo, currently Java 21.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2411245403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2414704125","html_url":"https://github.com/apache/jena/issues/2774#issuecomment-2414704125","issue_url":"https://api.github.com/repos/apache/jena/issues/2774","id":2414704125,"node_id":"IC_kwDOAHF7Ec6P7XX9","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-15T18:16:09Z","updated_at":"2024-10-15T18:16:09Z","author_association":"CONTRIBUTOR","body":"In the meantime I've finally figured out where to find the `FusekiMain` JAR and how to run it. Fuseki module loading works there just fine, but it's disabled by default. I'm not sure if this is the intended behavior, I thought this says it should be enabled:\r\n\r\nhttps://github.com/apache/jena/blob/f6a4f3af52a71e061bfdb01b7df990e41704e422/jena-fuseki2/jena-fuseki-main/src/main/java/org/apache/jena/fuseki/main/sys/FusekiAutoModules.java#L59-L63","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2414704125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2414881190","html_url":"https://github.com/apache/jena/issues/2774#issuecomment-2414881190","issue_url":"https://api.github.com/repos/apache/jena/issues/2774","id":2414881190,"node_id":"IC_kwDOAHF7Ec6P8Cmm","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-15T19:53:09Z","updated_at":"2024-10-15T19:53:09Z","author_association":"MEMBER","body":"Correct - the whole Fuseki module system is part of Fuseki main, not Fuseki webapp.\r\n\r\nTo add custom functionality to Fusekiwebap, you'll need to add the jar and repackage the server (see the current `jena-fuseki-fulljar`).\r\n\r\nWebapps start up differently and can be run in environments that preclude additional jar files by design.  They are supposed to be portable to different web application containers (Tomcat, Jetty, Resin, ...), A webapp is targetted at business logic, \r\nmiddle tier functionality, originally running in a shared environment; not databases.\r\n\r\nSee #2775 for discussion about moving all development to the Fuskei main as base, and leaving the WAR file as fixed functionality.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2414881190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2414894092","html_url":"https://github.com/apache/jena/issues/2774#issuecomment-2414894092","issue_url":"https://api.github.com/repos/apache/jena/issues/2774","id":2414894092,"node_id":"IC_kwDOAHF7Ec6P8FwM","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-15T20:00:16Z","updated_at":"2024-10-15T20:00:16Z","author_association":"CONTRIBUTOR","body":"Ahhh, now I get it! Thank you for the detailed explanation and the context in #2775.\r\n\r\nIn that case, I will close this. For my module, I will switch to the Jena initialization system instead, because what I want to do is simple enough to work in this way as well. ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2414894092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2414894687","html_url":"https://github.com/apache/jena/issues/2765#issuecomment-2414894687","issue_url":"https://api.github.com/repos/apache/jena/issues/2765","id":2414894687,"node_id":"IC_kwDOAHF7Ec6P8F5f","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-15T20:00:35Z","updated_at":"2024-10-15T20:00:35Z","author_association":"MEMBER","body":"If you want to write a wrapper dataset that manages the counting, go for it. It isn't for all databases.\r\n\r\nAt scale, bulk operations like `deleteAny` or `DROP`/`CLEAR` in SPARQL may work by nulling out a slot in a datastructure and letting the garbage collector free up space later.\r\n\r\nIt isn't always so easy to determine whether a adding a triple is, in fact, a change. An update is a sequence of operations - not one - and a later operation may reverse a change. Retain the state across operations would be a significant memory cost.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2414894687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2414939804","html_url":"https://github.com/apache/jena/issues/2765#issuecomment-2414939804","issue_url":"https://api.github.com/repos/apache/jena/issues/2765","id":2414939804,"node_id":"IC_kwDOAHF7Ec6P8Q6c","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-15T20:25:55Z","updated_at":"2024-10-15T20:25:55Z","author_association":"CONTRIBUTOR","body":"Hm, okay, I think I get it. This would be a ton of work for a feature that's not that important. I think I will close this then, but if anyone wants to pursue this, feel free to reopen.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2414939804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2416877637","html_url":"https://github.com/apache/jena/pull/2729#issuecomment-2416877637","issue_url":"https://api.github.com/repos/apache/jena/issues/2729","id":2416877637,"node_id":"IC_kwDOAHF7Ec6QDqBF","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2024-10-16T13:41:05Z","updated_at":"2024-10-16T13:41:05Z","author_association":"CONTRIBUTOR","body":"Looks like these dependencies are no longer a dependency, so this is no longer needed.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2416877637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":29110,"client_id":"Iv1.4f9a6346434f815e","slug":"dependabot","node_id":"MDM6QXBwMjkxMTA=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Dependabot","description":"","external_url":"https://dependabot-api.githubapp.com","html_url":"https://github.com/apps/dependabot","created_at":"2019-04-16T22:34:25Z","updated_at":"2024-03-20T21:06:35Z","permissions":{"actions":"read","checks":"write","contents":"write","issues":"write","members":"read","metadata":"read","pull_requests":"write","statuses":"read","vulnerability_alerts":"read","workflows":"write"},"events":["check_suite","issues","issue_comment","label","pull_request","pull_request_review","pull_request_review_comment","repository"]}},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419048981","html_url":"https://github.com/apache/jena/issues/2775#issuecomment-2419048981","issue_url":"https://api.github.com/repos/apache/jena/issues/2775","id":2419048981,"node_id":"IC_kwDOAHF7Ec6QL8IV","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T09:38:34Z","updated_at":"2024-10-17T09:38:34Z","author_association":"CONTRIBUTOR","body":"I like the idea, a lot.\r\n\r\nI'm not sure if this is part of this vision, but I think that this system could be used as the default base for Semantic Web applications built on Jena. Instead of writing a Java application from scratch that embeds Fuseki, I could just develop a Fuseki module that adds the use case-specific functionality. Of course, this would only make sense if writing these modules was sufficiently easy and well-documented.\r\n\r\nSomething like Spark jobs: https://spark.apache.org/docs/latest/submitting-applications.html\r\n\r\nIn the far, far future, maybe it would even make sense to support bindings to non-JVM languages, like Python in Spark? Just an idea, I'm not sure if it even makes sense.\r\n\r\nOr maybe modules defined in some declarative manner? Something like this: https://atomgraph.com/products/linkeddatahub/\r\n\r\nThese non-JVM module types could be supported by third-party code.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419048981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419050674","html_url":"https://github.com/apache/jena/issues/2775#issuecomment-2419050674","issue_url":"https://api.github.com/repos/apache/jena/issues/2775","id":2419050674,"node_id":"IC_kwDOAHF7Ec6QL8iy","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T09:39:23Z","updated_at":"2024-10-17T09:39:23Z","author_association":"CONTRIBUTOR","body":"Oh, and I'd add HA Fuseki to the list of potential modules: https://afs.github.io/rdf-delta/ha-fuseki.html","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419050674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419205217","html_url":"https://github.com/apache/jena/issues/2755#issuecomment-2419205217","issue_url":"https://api.github.com/repos/apache/jena/issues/2755","id":2419205217,"node_id":"IC_kwDOAHF7Ec6QMiRh","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T10:55:05Z","updated_at":"2024-10-17T10:55:05Z","author_association":"MEMBER","body":"Jena 5.2.0 has the change to not print the NPE stacktrace. Thete may be a second stacktrace (whiuch mnight even have some usefule information) but probably only once.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419205217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419223485","html_url":"https://github.com/apache/jena/issues/2755#issuecomment-2419223485","issue_url":"https://api.github.com/repos/apache/jena/issues/2755","id":2419223485,"node_id":"IC_kwDOAHF7Ec6QMmu9","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T11:05:00Z","updated_at":"2024-10-17T11:05:00Z","author_association":"MEMBER","body":"@SamuelBoerlin \r\n\r\nThe logs only need to be at level INFO and above.\r\n\r\nThere are two queries before the NPE (69964) which are of the same form as 64 but then there is a big gap back to with some request at 69908 and before. The timestamp always 16:45:16. I don't see any updates.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419223485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419354902","html_url":"https://github.com/apache/jena/issues/2533#issuecomment-2419354902","issue_url":"https://api.github.com/repos/apache/jena/issues/2533","id":2419354902,"node_id":"IC_kwDOAHF7Ec6QNG0W","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T12:05:36Z","updated_at":"2024-10-17T12:05:36Z","author_association":"CONTRIBUTOR","body":"I've thought a bit about this issue. \r\n\r\nLucene 10 which was just released requires minimum java-21. What does this mean for Apache Jena? Should it be moved out into its own artifact like geosparql, with documentation, or should Apache Jena stay at 9? Will there be more releases for the 9 branch?\r\n\r\nIn regards to cleaning the build, I tested using profiles for different args, based on jvm versions in \r\nhttps://github.com/apache/jena/pull/2782 which seems to work, from looking at the github action logs. I updated the java version in the github action so that the warnings could be seen. . Afaik from reading up on this, the fixes for the warnings are now using flags (and for 22+ adding stuff to manifests).\r\n\r\nThis just fixes the build, the same output is present when running the server itself. Maybe examples in the systemd file for setting the args could be relevant, and update to docs?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419354902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419394653","html_url":"https://github.com/apache/jena/issues/2533#issuecomment-2419394653","issue_url":"https://api.github.com/repos/apache/jena/issues/2533","id":2419394653,"node_id":"IC_kwDOAHF7Ec6QNQhd","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T12:22:09Z","updated_at":"2024-10-17T12:22:09Z","author_association":"MEMBER","body":"Jena requires Java17 currently. The project policy is \"2 LTS\". After Java-maybe-25 in September 2025, Jena will presumably move to require a minimum of 21. Hence, the default position for Jena is it stays at Lucene 9.12.x for at least a year.\r\n\r\nWhat do jena-text users want?\r\n\r\nI don't know what you mean by \"own artifact\" - istn't that what jena-text is?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419394653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419413966","html_url":"https://github.com/apache/jena/issues/2775#issuecomment-2419413966","issue_url":"https://api.github.com/repos/apache/jena/issues/2775","id":2419413966,"node_id":"IC_kwDOAHF7Ec6QNVPO","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T12:30:54Z","updated_at":"2024-10-17T12:30:54Z","author_association":"CONTRIBUTOR","body":"I like the modules idea but once again I would encourage to consider basing Fuseki on [JAX-RS](https://www.oracle.com/technical-resources/articles/java/jax-rs.html) which is a REST abstraction layer above the raw servlet API. I am familiar and quite satisfied with the [Jersey](https://eclipse-ee4j.github.io/jersey/) implementation.\r\n\r\nTedious operations such as content negotiation would be supported by the framework out-of-the-box. Format (de)serializers would be easily pluggable in using providers and shared between the server- and the client-side.\r\nThere's is definitely a larger number of users that would be familiar with JAX-RS as the HTTP framework than Jena's custom HTTP classes.\r\n\r\nLooks like classes such as this one would lend themselves well to a JAX-RS based refactoring:\r\nhttps://github.com/apache/jena/blob/main/jena-fuseki2/jena-fuseki-core/src/main/java/org/apache/jena/fuseki/servlets/ServletBase.java","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419413966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419416584","html_url":"https://github.com/apache/jena/issues/2533#issuecomment-2419416584","issue_url":"https://api.github.com/repos/apache/jena/issues/2533","id":2419416584,"node_id":"IC_kwDOAHF7Ec6QNV4I","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T12:32:00Z","updated_at":"2024-10-17T12:32:00Z","author_association":"CONTRIBUTOR","body":"I mean jena-text is currently in the binary distribution (e.g https://dlcdn.apache.org/jena/binaries/apache-jena-fuseki-5.2.0.tar.gz) , so you don't need to download it as a separate module. My thought of reasoning was with the 2 LTS version policy, then a separate module could require java 21, even if Apache Jena itself still supported 17 and 21.\r\n\r\nI guess it depends on if Apache Lucene will have a 1 LTS policy for their releases, and if lagging slightly behind is an issue or not.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419416584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419453742","html_url":"https://github.com/apache/jena/issues/2533#issuecomment-2419453742","issue_url":"https://api.github.com/repos/apache/jena/issues/2533","id":2419453742,"node_id":"IC_kwDOAHF7Ec6QNe8u","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T12:47:24Z","updated_at":"2024-10-17T12:47:24Z","author_association":"MEMBER","body":"Apache Lucene has in the past been \"2 major versions\" and actually more.\r\n\r\nI haven't checked - does 10.0.0 actual break anything?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2419453742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2420149724","html_url":"https://github.com/apache/jena/issues/2775#issuecomment-2420149724","issue_url":"https://api.github.com/repos/apache/jena/issues/2775","id":2420149724,"node_id":"IC_kwDOAHF7Ec6QQI3c","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T17:52:46Z","updated_at":"2024-10-17T17:52:59Z","author_association":"MEMBER","body":"**namedgraph** replays one side of an old discussion.\r\n\r\nFuseki having its own HTTP handling has been an advantage because details matter and the opportunities it gives e.g. #2462.\r\n\r\n`FusekiModules` are about componentizing a database engine. \r\n\r\nOne could write a module to used/provided JAX-RS.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2420149724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2422495719","html_url":"https://github.com/apache/jena/issues/2755#issuecomment-2422495719","issue_url":"https://api.github.com/repos/apache/jena/issues/2755","id":2422495719,"node_id":"IC_kwDOAHF7Ec6QZFnn","user":{"login":"SamuelBoerlin","id":11892708,"node_id":"MDQ6VXNlcjExODkyNzA4","avatar_url":"https://avatars.githubusercontent.com/u/11892708?v=4","gravatar_id":"","url":"https://api.github.com/users/SamuelBoerlin","html_url":"https://github.com/SamuelBoerlin","followers_url":"https://api.github.com/users/SamuelBoerlin/followers","following_url":"https://api.github.com/users/SamuelBoerlin/following{/other_user}","gists_url":"https://api.github.com/users/SamuelBoerlin/gists{/gist_id}","starred_url":"https://api.github.com/users/SamuelBoerlin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SamuelBoerlin/subscriptions","organizations_url":"https://api.github.com/users/SamuelBoerlin/orgs","repos_url":"https://api.github.com/users/SamuelBoerlin/repos","events_url":"https://api.github.com/users/SamuelBoerlin/events{/privacy}","received_events_url":"https://api.github.com/users/SamuelBoerlin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-18T13:36:06Z","updated_at":"2024-10-18T13:36:06Z","author_association":"NONE","body":"Hello @afs \r\n\r\nSorry about that.\r\n\r\nI've reproduced the issue again on 5.1.0, this time with the default logging settings, i.e. INFO and above.\r\n[fuseki_npe_5_1_0.txt](https://github.com/user-attachments/files/17436239/fuseki_npe_5_1_0.txt)\r\n\r\nI'm also trying to reproduce it with the new 5.2.0 version now. I'll let you know once I have the results.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2422495719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2425868992","html_url":"https://github.com/apache/jena/pull/2786#issuecomment-2425868992","issue_url":"https://api.github.com/repos/apache/jena/issues/2786","id":2425868992,"node_id":"IC_kwDOAHF7Ec6Ql9LA","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-21T07:41:03Z","updated_at":"2024-10-21T07:41:03Z","author_association":"MEMBER","body":"@dependabot ignore this major version","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2425868992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2425869129","html_url":"https://github.com/apache/jena/pull/2786#issuecomment-2425869129","issue_url":"https://api.github.com/repos/apache/jena/issues/2786","id":2425869129,"node_id":"IC_kwDOAHF7Ec6Ql9NJ","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2024-10-21T07:41:07Z","updated_at":"2024-10-21T07:41:07Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you about version 10.x.x again, unless you re-open this PR.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2425869129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":29110,"client_id":"Iv1.4f9a6346434f815e","slug":"dependabot","node_id":"MDM6QXBwMjkxMTA=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Dependabot","description":"","external_url":"https://dependabot-api.githubapp.com","html_url":"https://github.com/apps/dependabot","created_at":"2019-04-16T22:34:25Z","updated_at":"2024-03-20T21:06:35Z","permissions":{"actions":"read","checks":"write","contents":"write","issues":"write","members":"read","metadata":"read","pull_requests":"write","statuses":"read","vulnerability_alerts":"read","workflows":"write"},"events":["check_suite","issues","issue_comment","label","pull_request","pull_request_review","pull_request_review_comment","repository"]}},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2425878679","html_url":"https://github.com/apache/jena/issues/2533#issuecomment-2425878679","issue_url":"https://api.github.com/repos/apache/jena/issues/2533","id":2425878679,"node_id":"IC_kwDOAHF7Ec6Ql_iX","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-21T07:45:59Z","updated_at":"2024-10-21T07:45:59Z","author_association":"MEMBER","body":"Dependabot sent in a version 10.0.0 update - #2786.\r\nI have asked it to ignore the major version.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2425878679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2425900260","html_url":"https://github.com/apache/jena/issues/2533#issuecomment-2425900260","issue_url":"https://api.github.com/repos/apache/jena/issues/2533","id":2425900260,"node_id":"IC_kwDOAHF7Ec6QmEzk","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-21T07:56:08Z","updated_at":"2024-10-21T07:56:08Z","author_association":"CONTRIBUTOR","body":"> Apache Lucene has in the past been \"2 major versions\" and actually more.\r\n> \r\n> I haven't checked - does 10.0.0 actual break anything?\r\n\r\nIt fails during compilation, when trying to build with java 17. \r\nIt complains about wrong version: \r\n\r\n>  /Users/oyvindlgjesdal/.m2/repository/org/apache/lucene/lucene-core/10.0.0/lucene-core-10.0.0.jar(/org/apache/lucene/store/Directory.class)\r\n    class file has wrong version 65.0, should be 61.0\r\n\r\n[build-errors.txt](https://github.com/user-attachments/files/17457123/build-errors.txt)\r\n\r\nIt looks like the upgrade works with no test-failures, when using java 21 during build.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2425900260/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2429900389","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2429900389","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2429900389,"node_id":"IC_kwDOAHF7Ec6Q1VZl","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-22T17:51:47Z","updated_at":"2024-10-22T17:51:47Z","author_association":"MEMBER","body":"Do you have a reproducible - in java! - example?\r\n\r\nThe change at 8654c07 is for a reason - see GH-2675.\r\nIt is supposed to hold up concurrent initialization because that causes an NPE.\r\n\r\nFor scalatest, it would be better to explicitly call `JenaSystem.init` before things go parallel.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2429900389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2429910215","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2429910215","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2429910215,"node_id":"IC_kwDOAHF7Ec6Q1XzH","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-22T17:57:20Z","updated_at":"2024-10-22T17:57:20Z","author_association":"MEMBER","body":"Anecdotally I've definitely noticed similar issues with upgrading to 5.2.0, generally this is fixed by adding an explicit JenaSystem.init() call into each test class/entry point to control when initialisation happens","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2429910215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2429917458","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2429917458","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2429917458,"node_id":"IC_kwDOAHF7Ec6Q1ZkS","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-22T18:01:31Z","updated_at":"2024-10-22T18:01:31Z","author_association":"CONTRIBUTOR","body":"@afs I'll see what I can do to make a reproducible example. I think it would have to be just a few threads spamming JenaSystem.init() until it jams...\r\n\r\nI'm already running JenaSystem.init() in beforeAll of each test case, but I think scalatest runs these in parallel. I'll see if I can run something before any test case is executed.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2429917458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2429961150","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2429961150","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2429961150,"node_id":"IC_kwDOAHF7Ec6Q1kO-","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-22T18:24:50Z","updated_at":"2024-10-22T18:24:50Z","author_association":"CONTRIBUTOR","body":"Ok, got it.\r\n\r\n@afs This reliably gets stuck every time I run it, with a very similar thread dump to what I posted above: https://github.com/Ostrzyciel/jena-default-graphs/blob/issue-2787/jena-default-graphs/src/main/java/org/example/Main.java\r\n\r\nI'm not sure if this qualifies as a \"bug\", but it's surely pretty confusing to me.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2429961150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2429968101","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2429968101","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2429968101,"node_id":"IC_kwDOAHF7Ec6Q1l7l","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-22T18:28:39Z","updated_at":"2024-10-22T18:28:39Z","author_association":"CONTRIBUTOR","body":"P.S.: the reproduction code _does not_ get stuck with Jena 5.1.0. Only with Jena 5.2.0.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2429968101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2430051418","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2430051418","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2430051418,"node_id":"IC_kwDOAHF7Ec6Q16Ra","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-22T19:13:03Z","updated_at":"2024-10-22T19:13:03Z","author_association":"CONTRIBUTOR","body":"> Ok, got it.\r\n> \r\n> @afs This reliably gets stuck every time I run it, with a very similar thread dump to what I posted above: https://github.com/Ostrzyciel/jena-default-graphs/blob/issue-2787/jena-default-graphs/src/main/java/org/example/Main.java\r\n> \r\n> I'm not sure if this qualifies as a \"bug\", but it's surely pretty confusing to me.\r\n\r\nWe are encountering a chicken-and-egg problem with the `ModelFactory` and `JenaSystem.init()`. \r\n\r\nThe `ModelFactory` has a static constructor call to `JenaSystem.init();`. This means that `ModelFactory` assumes the `JenaSystem` has already been initialized and requires `JenaSystem.init()` to be called first.\r\n![image](https://github.com/user-attachments/assets/0ce295e1-ad5d-4eba-aba4-2839239981ad)\r\n\r\nHowever, during the `JenaSystem.init()` process, some code is executed that calls `ModelFactory.createDefaultModel()`, which in turn assumes that `ModelFactory` is already available, even though `JenaSystem.init()` has not yet completed.\r\n![image](https://github.com/user-attachments/assets/1c85fd72-1068-435d-822a-bbb26d8148ff)\r\n\r\nThis circular dependency between `JenaSystem` initialization and the `ModelFactory` is causing the issue.\r\n\r\nUnfortunately, I dont yet have a clue how to fix it.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2430051418/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2430090367","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2430090367","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2430090367,"node_id":"IC_kwDOAHF7Ec6Q2Dx_","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-22T19:33:58Z","updated_at":"2024-10-22T19:33:58Z","author_association":"CONTRIBUTOR","body":"The code used before Jena 5.2 allowed only the first thread to start the initialization, but all subsequent threads did not wait because the `JenaSystem` pretended to have already been initialized, even though that might not have been the case yet:\r\n\r\n![image](https://github.com/user-attachments/assets/1b0a84cb-3426-4984-bb5d-6ac3765a300a)\r\n\r\nWith Jena 5.2, we can now be sure that everything has been properly initialized. ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2430090367/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2430236254","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2430236254","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2430236254,"node_id":"IC_kwDOAHF7Ec6Q2nZe","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-22T20:48:52Z","updated_at":"2024-10-22T20:48:52Z","author_association":"MEMBER","body":"> Anecdotally I've definitely noticed similar issues with upgrading to 5.2.0, generally this is fixed by adding an explicit JenaSystem.init() call into each test class/entry point to control when initialisation happens\r\n\r\nTest can always problematic because they mayt jump into the middle of the system.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2430236254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2430243062","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2430243062","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2430243062,"node_id":"IC_kwDOAHF7Ec6Q2pD2","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-22T20:52:38Z","updated_at":"2024-10-22T20:52:38Z","author_association":"MEMBER","body":"Java synchronized blocks in Java are reentrant.\r\n\r\nSo it's two parallel threads, not a same-thread deadly embrace.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2430243062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2430333120","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2430333120","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2430333120,"node_id":"IC_kwDOAHF7Ec6Q2_DA","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-22T21:20:19Z","updated_at":"2024-10-22T21:20:19Z","author_association":"MEMBER","body":"> Ok, got it.\r\n> \r\n> @afs This reliably gets stuck every time I run it, with a very similar thread dump to what I posted above: https://github.com/Ostrzyciel/jena-default-graphs/blob/issue-2787/jena-default-graphs/src/main/java/org/example/Main.java\r\n> \r\n> I'm not sure if this qualifies as a \"bug\", but it's surely pretty confusing to me.\r\n\r\nThanks for the example - it can dealock here as well, and with less threads.\r\n\r\n> P.S.: the reproduction code _does not_ get stuck with Jena 5.1.0. Only with Jena 5.2.0\r\nIt really is unsafe in 5.1.0 because the second thread jumps over initialization - that's why the NPE in #2675 happened.\r\n\r\n`Jena.System.init` needs to be cheap - otherwise it would be easier to make safe!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2430333120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2431458132","html_url":"https://github.com/apache/jena/pull/2789#issuecomment-2431458132","issue_url":"https://api.github.com/repos/apache/jena/issues/2789","id":2431458132,"node_id":"IC_kwDOAHF7Ec6Q7RtU","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-23T09:25:24Z","updated_at":"2024-10-23T09:25:24Z","author_association":"MEMBER","body":"This PR fails with:\r\n\r\n```\r\n[INFO] --- frontend:1.15.1:yarn (yarn run build) @ jena-fuseki-ui ---\r\n[INFO] Running 'yarn run build' in /home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui\r\n[INFO] yarn run v1.22.17\r\n[INFO] $ vite build\r\n[INFO] vite v5.4.9 building for production...\r\n[INFO] transforming...\r\n[INFO]  26 modules transformed.\r\n[INFO] x Build failed in 214ms\r\n[INFO] error during build:\r\n[INFO] [commonjs--resolver] Missing \"./mode/turtle/turtle\" specifier in \"codemirror\" package\r\n[INFO]     at e (file:///home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui/node_modules/vite/dist/node/chunks/dep-Cyk9bIUq.js:46030:25)\r\n[INFO]     at n (file:///home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui/node_modules/vite/dist/node/chunks/dep-Cyk9bIUq.js:46030:627)\r\n[INFO]     at o (file:///home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui/node_modules/vite/dist/node/chunks/dep-Cyk9bIUq.js:46030:1297)\r\n[INFO]     at resolveExportsOrImports (file:///home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui/node_modules/vite/dist/node/chunks/dep-Cyk9bIUq.js:46651:18)\r\n[INFO]     at resolveDeepImport (file:///home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui/node_modules/vite/dist/node/chunks/dep-Cyk9bIUq.js:46674:25)\r\n[INFO]     at tryNodeResolve (file:///home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui/node_modules/vite/dist/node/chunks/dep-Cyk9bIUq.js:46439:16)\r\n[INFO]     at Object.resolveId (file:///home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui/node_modules/vite/dist/node/chunks/dep-Cyk9bIUq.js:46189:19)\r\n[INFO]     at file:///home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui/node_modules/rollup/dist/es/shared/node-entry.js:19936:40\r\n[INFO]     at async PluginDriver.hookFirstAndGetPlugin (file:///home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui/node_modules/rollup/dist/es/shared/node-entry.js:19836:28)\r\n[INFO]     at async resolveId (file:///home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui/node_modules/rollup/dist/es/shared/node-entry.js:18527:26)\r\n[INFO] error Command failed with exit code 1.\r\n[INFO] error Command failed with exit code 1.info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2431458132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2431661976","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2431661976","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2431661976,"node_id":"IC_kwDOAHF7Ec6Q8DeY","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-23T10:25:24Z","updated_at":"2024-10-23T10:25:24Z","author_association":"CONTRIBUTOR","body":"In an attempt to make the possible blockage and cause visible to the user, I may have inadvertently fixed it:\r\n\r\n```java\r\nprivate static volatile boolean initialized = false ;\r\nprivate static Semaphore initializationSemaphore = new Semaphore(1);\r\nprivate static ThreadLocal<Boolean> isInitializing = ThreadLocal.withInitial(() -> false);\r\n\r\npublic static void init() {\r\n    // Once jena is initialized, all calls are an immediate return.\r\n    if ( initialized )\r\n        return ;\r\n\r\n    // if the same thread is calling init(), while the initialization is in progress, return immediately\r\n    if(isInitializing.get())\r\n        return ;\r\n\r\n    isInitializing.set(true); // set the flag to true to indicate that the initialization is in progress\r\n\r\n    try {\r\n        // Only one thread can initialize Jena.\r\n        if(initializationSemaphore.tryAcquire(5, TimeUnit.SECONDS)) {\r\n            if ( initialized )\r\n                return ;\r\n            setup();\r\n            if ( DEBUG_INIT )\r\n                singleton.debug(DEBUG_INIT);\r\n            singleton.initialize();\r\n            singleton.debug(false);\r\n            // Last so overlapping initialization waits on the synchronized\r\n            initialized = true;\r\n        }\r\n    } catch (InterruptedException e) {\r\n        throw new RuntimeException(\"Timeout while waiting for semaphore to initialize JenaSystem. Please call JenaSystem.init() before working with multiple threads.\", e);\r\n    } finally {\r\n        initializationSemaphore.release();\r\n        isInitializing.remove();\r\n    }\r\n}\r\n ```\r\n  ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2431661976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2431699309","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2431699309","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2431699309,"node_id":"IC_kwDOAHF7Ec6Q8Mlt","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-23T10:41:44Z","updated_at":"2024-10-23T10:41:44Z","author_association":"MEMBER","body":"@arne-bdt Throw up a PR for us to review then","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2431699309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2431921446","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2431921446","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2431921446,"node_id":"IC_kwDOAHF7Ec6Q9C0m","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-23T12:12:01Z","updated_at":"2024-10-23T12:12:01Z","author_association":"CONTRIBUTOR","body":"> @arne-bdt Throw up a PR for us to review then\r\n\r\nHmpf... I've started a new branch, but it's not working the way I saw it before... :-( \r\n--> No solution in sight yet.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2431921446/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2432192370","html_url":"https://github.com/apache/jena/pull/2789#issuecomment-2432192370","issue_url":"https://api.github.com/repos/apache/jena/issues/2789","id":2432192370,"node_id":"IC_kwDOAHF7Ec6Q-E9y","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-23T13:31:16Z","updated_at":"2024-10-23T13:31:16Z","author_association":"MEMBER","body":"Thanks Andy. Looks like there are a few breaking changes. Had a look at their migration docs, but unfortunately it seems like the Edit view is still broken after this update - https://codemirror.net/docs/migration/\r\n\r\nI must be missing something simple when initializing CodeMirror will try it again another day with more time.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2432192370/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2432296044","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2432296044","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2432296044,"node_id":"IC_kwDOAHF7Ec6Q-eRs","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-23T13:57:01Z","updated_at":"2024-10-23T13:57:01Z","author_association":"MEMBER","body":"One thing to consider (as well) is to remove the hidden model in all vocabularies and change schemagen.\r\nReplace `m_model.` calls with `ResourceFactory.` and maybe class initializer for `JenaSystem.init`.\r\n\r\nA collection of constants don't need to be created off of a model. Even if want keep the hidden model it can be a minimal one, not `ModelFactory.createDefaultModel`.\r\n\r\nThis shouldn't require external vocabularies to make the same change.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2432296044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2432445303","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2432445303","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2432445303,"node_id":"IC_kwDOAHF7Ec6Q_Ct3","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-23T14:37:33Z","updated_at":"2024-10-23T19:13:05Z","author_association":"CONTRIBUTOR","body":"> One thing to consider (as well) is to remove the hidden model in all vocabularies and change schemagen. Replace `m_model.` calls with `ResourceFactory.` and maybe class initializer for `JenaSystem.init`.\r\n> \r\n> A collection of constants don't need to be created off of a model. Even if want keep the hidden model it can be a minimal one, not `ModelFactory.createDefaultModel`.\r\n> \r\n> This shouldn't require external vocabularies to make the same change.\r\n\r\nIt is not only the ModelFactory. This is the complete list of classes, where `static { JenaSystem.init(); }` must be removed, to make the code sample work:\r\n\r\n- `org.apache.jena.graph.NodeFactory`\r\n- `org.apache.jena.rdf.model.ModelFactory`\r\n- `org.apache.jena.rdf.model.impl.ModelCom`\r\n- `org.apache.jena.shared.PrefixMapping.Factory`\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2432445303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2433466881","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2433466881","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2433466881,"node_id":"IC_kwDOAHF7Ec6RC8IB","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-23T21:08:00Z","updated_at":"2024-10-23T21:08:00Z","author_association":"MEMBER","body":"> This circular dependency between JenaSystem initialization and the ModelFactory is causing the issue.\r\n\r\nyes - specifically, it is the class initialization lock being held by ModelFactory and any locking in JenaSystem.\r\n\r\nWith two threads, the deadlock is:\r\n\r\nThread1 is the thread calling ModelFactory.createDefaultModel\r\nThread2 is the thread calling JenaSystem.init directly.\r\n\r\nThread1: lock order is take the ModelFactory class init lock, then take the JenaSystem sync lock.\r\nThread2: lock order is take the JenaSystem sync then ModelFactory class init lock.\r\n\r\nPrior to the 8654c07 change, thread2 would not take the ModelFactory class init lock inside synchonized but continued executing on partial initialization which works mostly .. except when it doesn't and it causes an NPE #2675.\r\n\r\nIt's a problem when using Jena as a library because of the multiple entry points doing class initlaization.\r\n\r\nFWIW JenaSystem.init came in part because of class initialization circularity seeing infrequent uninitialized data even on one thread due to different class initialization orders.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2433466881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2433498882","html_url":"https://github.com/apache/jena/pull/2792#issuecomment-2433498882","issue_url":"https://api.github.com/repos/apache/jena/issues/2792","id":2433498882,"node_id":"IC_kwDOAHF7Ec6RDD8C","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-23T21:29:38Z","updated_at":"2024-10-23T21:30:24Z","author_association":"MEMBER","body":"> I'm unsure about this PR,\r\n\r\nI set this PR to \"draft\" - hope you don't mind.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2433498882/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2434904563","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2434904563","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2434904563,"node_id":"IC_kwDOAHF7Ec6RIbHz","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T10:32:09Z","updated_at":"2024-10-24T10:32:09Z","author_association":"CONTRIBUTOR","body":"Due to the complexity of the initialization process and the presence of circular dependencies, resolving the deadlock issue is not straightforward. If we can't clean up the initialization process and eliminate these circular dependencies, we're essentially left with two problematic variants:\r\n\r\n1. **NullPointerException (NPE)** (prior to the https://github.com/apache/jena/commit/8654c07f23a892c03a7367981d814c3c8b094f62 change): If the user forgets to call JenaSystem.init() from a single-threaded context before using the library in a multithreaded environment, the application may encounter a NullPointerException. This can occur because certain components of the library remain uninitialized, leading to unexpected null references when accessed by multiple threads.\r\n\r\n2. **Deadlock** (since Jena 5.2.0): Alternatively, if the library is used in a multithreaded context without proper initialization, a deadlock may occur due to threads waiting on class initialization locks and synchronized methods. This is particularly difficult to diagnose because the application may simply hang without any clear indication of the cause.\r\n\r\nFor the **Deadlock** variant, I implemented a fail-fast approach that throws an informative exception. (See update in [PR #2792](https://github.com/apache/jena/pull/2792).)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2434904563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2434908734","html_url":"https://github.com/apache/jena/pull/2792#issuecomment-2434908734","issue_url":"https://api.github.com/repos/apache/jena/issues/2792","id":2434908734,"node_id":"IC_kwDOAHF7Ec6RIcI-","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T10:34:21Z","updated_at":"2024-10-24T10:34:21Z","author_association":"CONTRIBUTOR","body":"I found another \"solution\": Added a fail-fast mechanism: now throwing an ExceptionInInitializerError when a thread attempts to enter JenaSystem.init() while another thread is in the initialization process.\r\n\r\nWhat do you think?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2434908734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435081854","html_url":"https://github.com/apache/jena/pull/2792#issuecomment-2435081854","issue_url":"https://api.github.com/repos/apache/jena/issues/2792","id":2435081854,"node_id":"IC_kwDOAHF7Ec6RJGZ-","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T11:59:38Z","updated_at":"2024-10-24T11:59:38Z","author_association":"MEMBER","body":"I think requiring single threaded initialization will break existing usage. Until we agree that it is the only option, I don't think we should go that way.\r\n\r\nDiscussion on the issue.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435081854/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435110319","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2435110319","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2435110319,"node_id":"IC_kwDOAHF7Ec6RJNWv","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T12:09:38Z","updated_at":"2024-10-24T12:26:46Z","author_association":"MEMBER","body":"I think the solution is to go back to #2675 and look to fix the class-initializer problem. That probably needs investigating anyway. \r\n\r\nThen there is no occurence of possible alternative orders of taking locks which is the deadlock.\r\n\r\nThe #2675 / 8654c07 is a non-concurrency ordering problem in a single thread - i.e. a cyclic class initialization. \r\n\r\nRequiring usage to only have single threaded initialization could be quite a problem in environments that have multi-threading and then use Jena as a library. It is not always so easy to have application code in the single-threaded startup phase.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435110319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435158868","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2435158868","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2435158868,"node_id":"IC_kwDOAHF7Ec6RJZNU","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T12:27:44Z","updated_at":"2024-10-24T13:40:22Z","author_association":"CONTRIBUTOR","body":"> I think requiring single threaded initialization will break existing usage. Until we agree that it is the only option, I don't think we should go that way.\r\n\r\nBasically every usage, that would trigger an exeption with PR https://github.com/apache/jena/pull/2792, will end up in a deadlock with Jena 5.2.\r\n\r\nWhat do we do with Jena 5.2 then? Do we withdraw the publication or do we issue a clear warning?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435158868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435258013","html_url":"https://github.com/apache/jena/issues/2793#issuecomment-2435258013","issue_url":"https://api.github.com/repos/apache/jena/issues/2793","id":2435258013,"node_id":"IC_kwDOAHF7Ec6RJxad","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T13:10:34Z","updated_at":"2024-10-24T13:10:34Z","author_association":"MEMBER","body":"Can you provide details of what your storage setup is e.g.\r\n\r\n- Is this TDB2 or an in-memory dataset?\r\n- Do you have unionDefaultGraph enabled by any chance?\r\n- Providing the Fuseki config file if using Fuseki would be helpful\r\n\r\nIn algebra terms these end up being different algebra's which likely explains the difference in results.\r\n\r\nYour first query yields the following algebra:\r\n\r\n```\r\n(base <http://example/base/>\r\n  (project (?s ?p ?o)\r\n    (quadpattern (quad ?g ?s ?p ?o))))\r\n```\r\n\r\nWhile your second yields the following algebra:\r\n\r\n```\r\n(base <http://example/base/>\r\n  (quadpattern (quad ?g ?s ?p ?o)))\r\n```\r\n\r\nNotice that with the `SELECT *` in the inner query the `project` step is omitted from the generated algebra so `?g` is always unbound.  However, I'm not sure if this is the correct behaviour here, probably a question for @afs to answer\r\n\r\n---\r\n\r\n> For both queries, I was expecting 64 results: Cartesian product between the results of the subqueries (32 results) and the possbible values for ?g (2 named graphs).\r\n\r\nThat shouldn't ever be the case, the way a `GRAPH ?g` clause is logically defined is that the inner pattern is executed independently for each graph in the dataset and the results are union'd together with the .  So each graph independently yields 16 results and these union together to yield 32 results.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435258013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435296238","html_url":"https://github.com/apache/jena/issues/2793#issuecomment-2435296238","issue_url":"https://api.github.com/repos/apache/jena/issues/2793","id":2435296238,"node_id":"IC_kwDOAHF7Ec6RJ6vu","user":{"login":"nkaralis","id":24782639,"node_id":"MDQ6VXNlcjI0NzgyNjM5","avatar_url":"https://avatars.githubusercontent.com/u/24782639?v=4","gravatar_id":"","url":"https://api.github.com/users/nkaralis","html_url":"https://github.com/nkaralis","followers_url":"https://api.github.com/users/nkaralis/followers","following_url":"https://api.github.com/users/nkaralis/following{/other_user}","gists_url":"https://api.github.com/users/nkaralis/gists{/gist_id}","starred_url":"https://api.github.com/users/nkaralis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkaralis/subscriptions","organizations_url":"https://api.github.com/users/nkaralis/orgs","repos_url":"https://api.github.com/users/nkaralis/repos","events_url":"https://api.github.com/users/nkaralis/events{/privacy}","received_events_url":"https://api.github.com/users/nkaralis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T13:26:29Z","updated_at":"2024-10-24T13:26:29Z","author_association":"NONE","body":"I am using fuseki with TDB2 \r\n```sh\r\n# for starting the server\r\njava -jar fuseki-server.jar --update --tdb2 --loc=databases/testing /endpoint\r\n```\r\n\r\nI am using the default config file found in `apache-fuseki-5.2.0/run`\r\n```\r\n# Licensed under the terms of http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n## Fuseki Server configuration file.\r\n\r\n@prefix :        <#> .\r\n@prefix fuseki:  <http://jena.apache.org/fuseki#> .\r\n@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\r\n@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .\r\n@prefix ja:      <http://jena.hpl.hp.com/2005/11/Assembler#> .\r\n\r\n[] rdf:type fuseki:Server ;\r\n   # Example::\r\n   # Server-wide query timeout.   \r\n   # \r\n   # Timeout - server-wide default: milliseconds.\r\n   # Format 1: \"1000\" -- 1 second timeout\r\n   # Format 2: \"10000,60000\" -- 10s timeout to first result, \r\n   #                            then 60s timeout for the rest of query.\r\n   #\r\n   # See javadoc for ARQ.queryTimeout for details.\r\n   # This can also be set on a per dataset basis in the dataset assembler.\r\n   #\r\n   # ja:context [ ja:cxtName \"arq:queryTimeout\" ;  ja:cxtValue \"30000\" ] ;\r\n\r\n   # Add any custom classes you want to load.\r\n   # Must have a \"public static void init()\" method.\r\n   # ja:loadClass \"your.code.Class\" ;   \r\n\r\n   # End triples.\r\n   .\r\n```\r\n\r\n> That shouldn't ever be the case, the way a GRAPH ?g clause is logically defined is that the inner pattern is executed independently for each graph in the dataset and the results are union'd together with the . So each graph independently yields 16 results and these union together to yield 32 results\r\n\r\nI see. It makes sense, thank you","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435296238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435326947","html_url":"https://github.com/apache/jena/pull/2792#issuecomment-2435326947","issue_url":"https://api.github.com/repos/apache/jena/issues/2792","id":2435326947,"node_id":"IC_kwDOAHF7Ec6RKCPj","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T13:39:02Z","updated_at":"2024-10-24T13:39:02Z","author_association":"CONTRIBUTOR","body":"see https://github.com/apache/jena/issues/2787#issuecomment-2435110319","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435326947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435395350","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2435395350","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2435395350,"node_id":"IC_kwDOAHF7Ec6RKS8W","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T14:06:13Z","updated_at":"2024-10-24T14:39:51Z","author_association":"MEMBER","body":"Yes, but the usage is unusual (scalatest). \r\n\r\nWe have workaround for users that need 5.2 and can put code in the single threaded stage and it is something that's been encouraged for quite awhile.\r\n\r\nIf fixing the single-threaded #2675 another way can be done, we do not need to have users' change.\r\n\r\nIf, in investigating #2675, we discover it can not be done, then we may have to require user change but that's a big step.\r\n\r\nThe practical difficulty is that any change is one we can't test completely because there is too large a variety of uses. (And also that people don't test pre-releases.)\r\n\r\n> What do we do with Jena 5.2 then? Do we withdraw the publication or do we issue a clear warning?\r\n\r\nASF, and open source generally, doesn't remove releases. We can put out a new version.\r\n\r\nI am sorry that PR 8654c07 broke some usages.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435395350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435574870","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2435574870","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2435574870,"node_id":"IC_kwDOAHF7Ec6RK-xW","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T15:13:34Z","updated_at":"2024-10-24T17:05:31Z","author_association":"MEMBER","body":"Tentatively, GH-2675 seems to be fixed by just adding the RDFLinkHTTP without the [JenaSystem.init change](https://github.com/apache/jena/pull/2677/commits/a1fb4fac7c070ddbb0b4a8b150d4820173565db5#diff-b7bab3ce4b8133f6a93dbf6079d5555b29d1d238dd21697d380a26f45498e774) moving `initlialized = true;`\r\n\r\nThat is not full confirmation of a fix yet but it does change the behaviour of the thread undertaking the initialization because it no longer calls makes a nested call to `singleton.initialize()`.\r\n\r\nAddendum: that leaves the possibility of a thread seeing \"initialized = true\" and skipping the synchronized block, proceeding without initialization having completed. \r\n\r\nNone of the reports have been about this situation and it may be that it is hidden (initialized = true not having been written back even though volatile until the exit from synchronized which is a memory happens-before point) or impossible because of class initialization caused by `singleton.initialize()` will hold the class initialization lock. It does suggest a robust solution with 2 volatiles (or `AtomicBoolean` for better control) \"before\" and \"after\" the initialization work step.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435574870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435977584","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2435977584","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2435977584,"node_id":"IC_kwDOAHF7Ec6RMhFw","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T17:48:22Z","updated_at":"2024-10-24T17:48:37Z","author_association":"CONTRIBUTOR","body":"> ... that leaves the possibility of a thread seeing \"initialized = true\" and skipping the synchronized block, proceeding without initialization having completed.\r\n\r\nI thought that was the important part, that needed fixing by moving the `initialized = true`. \r\n\r\n--> So I updated my branch by moving the `initialized = true` back to its old position and removed the exception:\r\nhttps://github.com/apache/jena/compare/main...arne-bdt:jena:GH-2787-Deadlock_in_Jena_System_init\r\nThe test code does not cause deadlocks any more.\r\n\r\n\r\n> None of the reports have been about this situation...\r\n\r\nSounds great. I also tried to reproduce such a situation with the code that reproduces the deadlock. I could not convince a static field from the vocabulary to return `null` .\r\n\r\nUnfortunately I have no idea on how to test if issue https://github.com/apache/jena/issues/2675 still works, the PR https://github.com/apache/jena/pull/2677 does not seem to contain a new dedicated test.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2435977584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436007946","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2436007946","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2436007946,"node_id":"IC_kwDOAHF7Ec6RMogK","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T17:57:46Z","updated_at":"2024-10-24T17:57:57Z","author_association":"MEMBER","body":"It is difficult to test for because Jena is likely initlialized and any test will pass for that reason -- it isn't a test of class initialization order and we can not rely on the test.\r\n\r\nIf this is run from `public static void main`, and there is no `JenaSystem.ini`t call in `RDFLinkHTTPBuilder`, it should go wrong.\r\n\r\n```java\r\n   public static void mainNPE2675() {\r\n        System.out.println(\"GH-2675: RDFLinkHTTP NPE\");\r\n        try (RDFConnection conn = RDFConnectionFuseki.service(\"http://localhost:3030/ds\").build()) {\r\n\r\n        }\r\n        System.out.println(\"DONE\");\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436007946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436036138","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2436036138","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2436036138,"node_id":"IC_kwDOAHF7Ec6RMvYq","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T18:07:05Z","updated_at":"2024-10-24T18:07:05Z","author_association":"CONTRIBUTOR","body":"> It is difficult to test for because Jena is likely initlialized and any test will pass for that reason -- it isn't a test of class initialization order and we can not rely on the test.\r\n> \r\n> If this is run from `public static void main`, and there is no `JenaSystem.ini`t call in `RDFLinkHTTPBuilder`, it should go wrong.\r\n> \r\n> ```java\r\n>    public static void mainNPE2675() {\r\n>         System.out.println(\"GH-2675: RDFLinkHTTP NPE\");\r\n>         try (RDFConnection conn = RDFConnectionFuseki.service(\"http://localhost:3030/ds\").build()) {\r\n> \r\n>         }\r\n>         System.out.println(\"DONE\");\r\n>     }\r\n> ```\r\n\r\nGreat: It runs perfectly. But when `static { JenaSystem.init(); }`  is removed in RDFLinkHTTPBuilder, it fails with:\r\n`java.lang.ExceptionInInitializerError ... Caused by: java.lang.NullPointerException: Cannot invoke \"org.apache.jena.rdf.model.Resource.asNode()\" because \"org.apache.jena.vocabulary.RDF.Alt\" is null` ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436036138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436050650","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2436050650","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2436050650,"node_id":"IC_kwDOAHF7Ec6RMy7a","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T18:15:06Z","updated_at":"2024-10-24T18:15:06Z","author_association":"CONTRIBUTOR","body":"In my branch https://github.com/apache/jena/compare/main...arne-bdt:jena:GH-2787-Deadlock_in_Jena_System_init, I observerd something strage:\r\nI thought, I could make the solution more robust by using `static AtomicBoolean initialized = new AtomicBoolean(false);` instead of `static boolean initialized = false;`\r\n\r\nBut instead, this change reliably takes me straight back to the reproducible deadlock situation.\r\n\r\nSo I reverted that experment.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436050650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436054048","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2436054048","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2436054048,"node_id":"IC_kwDOAHF7Ec6RMzwg","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T18:16:54Z","updated_at":"2024-10-24T18:16:54Z","author_association":"MEMBER","body":"Is the `LazyHolder` any different to the 5.1.0 approach in `SystemJena.init`? A second thread coming is not waiting for initlialization to complete and can touch classes in a different order. (we don't have a reproducible example.)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436054048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436229951","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2436229951","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2436229951,"node_id":"IC_kwDOAHF7Ec6RNes_","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T19:57:15Z","updated_at":"2024-10-24T20:08:24Z","author_association":"CONTRIBUTOR","body":"> Is the `LazyHolder` approach any different from the 5.1.0 approach in `SystemJena.init`? A second thread coming in is not waiting for initialization to complete and may access classes in a different order. (We don't have a reproducible example.)\r\n\r\nThe `LazyHolder` replaces only the `synchronized(JenaSystem.class)` mechanism. Unlike the synchronized block, the JVM ensures that the `LazyHolder` is only accessed once, so theres no need for double-checking with `if (initialized) return;`. This makes it both efficient and more robust.\r\n\r\nWhen running `org.apache.jena.sys.TestJenaSystem#testFirstInitParallel` directly from the IDE (without prior initialization of `JenaSystem`), its quite straightforward to observe the exact behavior, and the test consistently produces reliable results. So far, I havent encountered any non-reproducible behavior (e.g., due to timing issues). \r\nWhich kind of reproducible example are you missing?\r\n\r\nHowever, I have not yet figured out how to integrate this test to run it with Maven in a separate JVM instance to ensure that the `JenaSystem` has not been initialised.\r\n\r\nFor more information on the pattern, you can refer to the documentation [here](https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom) and [here](https://dzone.com/articles/another-singleton-implementation#:~:text=%7D-,Lazy%20Initialization%20Holder%20Class%20Idiom,in%20an%20inner%20class%20SingletonHolder.).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436229951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436269927","html_url":"https://github.com/apache/jena/pull/1792#issuecomment-2436269927","issue_url":"https://api.github.com/repos/apache/jena/issues/1792","id":2436269927,"node_id":"IC_kwDOAHF7Ec6RNodn","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-24T20:21:53Z","updated_at":"2024-10-24T20:21:53Z","author_association":"MEMBER","body":"I think the code was good, @nichtich , maybe needing just some minor tweaks to be merged. And the improvement to avoid counts when listing the graph sounded like a good idea. Maybe we could reopen it and continue based on the feedback here? Or if that's alright for you I can takeover and see if I can prepare a new PR (but I'd prefer if you were the author as my PR would be largely a copy of yours with some minor changes I think).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2436269927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2437216637","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2437216637","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2437216637,"node_id":"IC_kwDOAHF7Ec6RRPl9","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-25T08:36:43Z","updated_at":"2024-10-25T08:36:43Z","author_association":"CONTRIBUTOR","body":"> However, I have not yet figured out how to integrate this test to run it with Maven in a separate JVM instance to ensure that the JenaSystem has not been initialised.\r\n\r\nUpdate: Using the JMH framework, it was easy to implement a test that always starts with a fresh JVM. \r\n\r\nOn that basis, I could run many iterations and stress it even more with threads. \r\n--> The solution in https://github.com/apache/jena/compare/main...arne-bdt:jena:GH-2787-Deadlock_in_Jena_System_init seems to be stable.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2437216637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2438239556","html_url":"https://github.com/apache/jena/pull/2794#issuecomment-2438239556","issue_url":"https://api.github.com/repos/apache/jena/issues/2794","id":2438239556,"node_id":"IC_kwDOAHF7Ec6RVJVE","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-25T16:15:46Z","updated_at":"2024-10-25T16:15:46Z","author_association":"CONTRIBUTOR","body":"- Added a regression test for https://github.com/apache/jena/issues/2675 as org.apache.jena.sys.TestJenaSystemWithFreshJVM.initRDFConnectionFuseki\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2438239556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439448785","html_url":"https://github.com/apache/jena/issues/2795#issuecomment-2439448785","issue_url":"https://api.github.com/repos/apache/jena/issues/2795","id":2439448785,"node_id":"IC_kwDOAHF7Ec6RZwjR","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T09:35:18Z","updated_at":"2024-10-26T09:35:38Z","author_association":"CONTRIBUTOR","body":"On a related note: calling this method can potentially wreak havoc: https://github.com/apache/jena/blob/04f377d8aefc0cb8faeb62022d402ef17a6e6e96/jena-core/src/main/java/org/apache/jena/datatypes/TypeMapper.java#L198\r\n\r\nI think that it should have (at least) a warning that calling it may break literal comparisons, if there are still old literal instances on the heap somewhere.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439448785/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439491702","html_url":"https://github.com/apache/jena/issues/2797#issuecomment-2439491702","issue_url":"https://api.github.com/repos/apache/jena/issues/2797","id":2439491702,"node_id":"IC_kwDOAHF7Ec6RZ7B2","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T11:03:56Z","updated_at":"2024-10-26T11:03:56Z","author_association":"CONTRIBUTOR","body":"Ooops, sorry, I just read the RDF spec more carefully:\r\n\r\n> The other built-in XML Schema datatypes are unsuitable for various reasons and SHOULD NOT be used:\r\n> -    [xsd:ID](https://www.w3.org/TR/xmlschema11-2/#ID) and [xsd:IDREF](https://www.w3.org/TR/xmlschema11-2/#IDREF) are for cross references within an XML document.\r\n\r\nhttps://www.w3.org/TR/rdf11-concepts/#datatype-iris\r\n\r\nCan we then just remove this feature entirely?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439491702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439653100","html_url":"https://github.com/apache/jena/issues/2795#issuecomment-2439653100","issue_url":"https://api.github.com/repos/apache/jena/issues/2795","id":2439653100,"node_id":"IC_kwDOAHF7Ec6Raibs","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T16:50:14Z","updated_at":"2024-10-27T10:40:38Z","author_association":"CONTRIBUTOR","body":"> `LiteralLabel `assumes that the datatypes can be compared by reference.\r\n\r\nLiteralLabel does not make such an assumption. `Objects.equals(a, b)` does not compare by reference. The code looks like this:\r\n![image](https://github.com/user-attachments/assets/d7a57dee-0b8b-4bf2-8a42-a67caf844907)\r\n\r\nIn my option the root cause of the whole problem is that the implementations of `RDFDatatype` do not override `equals(Object other)` and `hashCode()`. \r\nSo we indeed rely on reference equality, which I guess is a really bad thing. \r\n\r\nThat is what makes duplicated entries possible in the first place.\r\n\r\nIn the `testUserDefRepeated` from your [PR](https://github.com/apache/jena/pull/2796), I think the types should be equal:\r\n```java\r\nRDFDatatype type1 = new BaseDatatype(\"urn:x-jena-dt:repeated\");\r\nRDFDatatype type2 = new BaseDatatype(\"urn:x-jena-dt:repeated\");\r\n\r\n// Check precondition\r\nassertEquals(\"Datatypes should be equal\", type1, type2);\r\n```\r\nThis assert currently fails.\r\n\r\nI propose to implement `equals()` and `hashCode()` in `BaseDatatype` like this:\r\n\r\n```java\r\n@Override\r\npublic boolean equals(Object other) {\r\n    if(this == other \r\n            || (other != null\r\n                && this.getURI().equals(((BaseDatatype)other).getURI())\r\n                && this.getClass().equals(other.getClass()))) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\n@Override\r\npublic int hashCode() {\r\n    return super.uri.hashCode();\r\n}\r\n```\r\nI am not sure if the implementing class should be part of the equality check. Checking it feels safer.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439653100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439653837","html_url":"https://github.com/apache/jena/pull/2796#issuecomment-2439653837","issue_url":"https://api.github.com/repos/apache/jena/issues/2796","id":2439653837,"node_id":"IC_kwDOAHF7Ec6RainN","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T16:53:01Z","updated_at":"2024-10-26T16:53:01Z","author_association":"CONTRIBUTOR","body":"I dont think, this is the way to solve the issue.\r\n--> discussion in https://github.com/apache/jena/issues/2795#issuecomment-2439653100","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439653837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439658129","html_url":"https://github.com/apache/jena/issues/2795#issuecomment-2439658129","issue_url":"https://api.github.com/repos/apache/jena/issues/2795","id":2439658129,"node_id":"IC_kwDOAHF7Ec6RajqR","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T17:07:03Z","updated_at":"2024-10-26T17:07:03Z","author_association":"CONTRIBUTOR","body":"@arne-bdt What you propose is also a valid solution, but it would slow down datatyped literal comparisons somewhat.\r\n\r\nI'm not sure what is the \"grand vision\" for how this should work in Jena, so I don't have a strong opinion here.\r\n\r\nBut, isn't it a separate issue? The problem of double-registration of datatypes is a bug one way or the other, right? My intuition is to first solve this bug, and then discuss how datatype equality should really work in Jena.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439658129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439721022","html_url":"https://github.com/apache/jena/pull/2798#issuecomment-2439721022","issue_url":"https://api.github.com/repos/apache/jena/issues/2798","id":2439721022,"node_id":"IC_kwDOAHF7Ec6RazA-","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T20:02:44Z","updated_at":"2024-10-26T20:02:44Z","author_association":"CONTRIBUTOR","body":"> Doesn't this allow for possible multithreading issues though? While with the `final` map that's mitigated... maybe looking at other data structures/map implementations could solve it in a different way (there's a comment about ligher impl...)\r\n\r\nThe class is not thread-safe anyway, because `HashMap` is not thread-safe, so... it should be OK?\r\n\r\nWe would have to worry about it if we had a shared instance of `ValidationState` across multiple parsers, but we don't. Long-term, I think this would be a good idea, but for that to happen I think most of this random xerces bloat would have to be removed first, as it's mostly dead code anyway.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439721022/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439721448","html_url":"https://github.com/apache/jena/pull/2798#issuecomment-2439721448","issue_url":"https://api.github.com/repos/apache/jena/issues/2798","id":2439721448,"node_id":"IC_kwDOAHF7Ec6RazHo","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T20:04:13Z","updated_at":"2024-10-26T20:04:13Z","author_association":"CONTRIBUTOR","body":"...I mean, I can make this thread-safe, but the real question is \"what for\" :laughing: ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439721448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439731093","html_url":"https://github.com/apache/jena/issues/2795#issuecomment-2439731093","issue_url":"https://api.github.com/repos/apache/jena/issues/2795","id":2439731093,"node_id":"IC_kwDOAHF7Ec6Ra1eV","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T20:43:46Z","updated_at":"2024-10-26T20:43:46Z","author_association":"CONTRIBUTOR","body":"> Isn't this a separate issue? The problem of duplicate registration of datatypes is a bug regardless, correct? My intuition is to address this bug first and then discuss how datatype equality should ideally function in Jena.\r\n\r\n@Ostrzyciel `org.apache.jena.datatypes.TypeMapper#registerDatatype` behaves as documented: it registers the provided datatype and simply overrides any previously registered datatype with the same URI.\r\n\r\nI really prefer your approach, where it's possible to check if the registration was successful or continue with the previously registered datatype, but that would break the existing contract.\r\n\r\nThis raises the question: Is it intentional for implementations of `RDFDatatype` not to override `#equals` and `#hashCode`? Should `RDFDatatypes` really be compared by reference only?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439731093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439732855","html_url":"https://github.com/apache/jena/issues/2795#issuecomment-2439732855","issue_url":"https://api.github.com/repos/apache/jena/issues/2795","id":2439732855,"node_id":"IC_kwDOAHF7Ec6Ra153","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T20:51:25Z","updated_at":"2024-10-26T20:51:25Z","author_association":"CONTRIBUTOR","body":"Hm, good point about breaking the contract. This could *possibly* break some applications which may register the same datatype more than once due to some library layering going on.\r\n\r\nI'm out of my depth here. I think we need someone who knows the historical context and the intended contracts for these APIs.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439732855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439733134","html_url":"https://github.com/apache/jena/issues/2797#issuecomment-2439733134","issue_url":"https://api.github.com/repos/apache/jena/issues/2797","id":2439733134,"node_id":"IC_kwDOAHF7Ec6Ra1-O","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T20:52:44Z","updated_at":"2024-10-26T20:52:44Z","author_association":"CONTRIBUTOR","body":"Thank you for bringing this up! It looks like it could really use a cleanup...","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439733134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439737229","html_url":"https://github.com/apache/jena/issues/2795#issuecomment-2439737229","issue_url":"https://api.github.com/repos/apache/jena/issues/2795","id":2439737229,"node_id":"IC_kwDOAHF7Ec6Ra2-N","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T21:09:22Z","updated_at":"2024-10-26T21:09:22Z","author_association":"CONTRIBUTOR","body":"@arne-bdt on second thought and considering the point about breaking a contract, I think this would be a better solution:\r\n\r\n```java\r\npublic RDFDatatype getSafeTypeByName(final String uri) {\r\n    if (uri == null) {\r\n        // Plain literal\r\n        return null;\r\n    }\r\n    return uriToDT.computeIfAbsent(uri, uri -> {\r\n        // Unknown datatype\r\n        if (JenaParameters.enableSilentAcceptanceOfUnknownDatatypes) {\r\n            dtype = new BaseDatatype(uri);\r\n            // No need to update classToDT\r\n            // BaseDatatype.getJavaClass is always null\r\n            return registerDatatype(dtype);\r\n        } else {\r\n            throw new DatatypeFormatException(\r\n                \"Attempted to created typed literal using an unknown datatype - \" + uri);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nAnd then leave `registerDatatype` unchanged. Note that I didn't test it... but it should work.\r\n\r\nWhat do you think?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439737229/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439738743","html_url":"https://github.com/apache/jena/pull/2798#issuecomment-2439738743","issue_url":"https://api.github.com/repos/apache/jena/issues/2798","id":2439738743,"node_id":"IC_kwDOAHF7Ec6Ra3V3","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T21:15:37Z","updated_at":"2024-10-26T21:15:37Z","author_association":"CONTRIBUTOR","body":"> ...I mean, I can make this thread-safe, but the real question is \"what for\" \r\n\r\nMaybe add a comment to the javadoc header of the class with:\r\n`* This class is not thread safe.`","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439738743/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439739754","html_url":"https://github.com/apache/jena/issues/2795#issuecomment-2439739754","issue_url":"https://api.github.com/repos/apache/jena/issues/2795","id":2439739754,"node_id":"IC_kwDOAHF7Ec6Ra3lq","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T21:19:46Z","updated_at":"2024-10-26T21:29:11Z","author_association":"CONTRIBUTOR","body":"> @arne-bdt on second thought and considering the point about breaking a contract, I think this would be a better solution [...]\r\n\r\nI'd say `computeIfAbsent` is the right approach. The `uriToDT` and `classToDT` maps in TypeMapper are already `ConcurrentHashMaps`, so the issue with the double registration seems to be due to a race condition because of incorrect/sub-par use of the existing infrastructure - but there does not seem to be the need to require change to equals/hashCode of `RDFDatatype`. After all, the TypeMapper should ensure that later on reference equality works consistently.\r\n\r\nConversely: if throughout an application, there happen to exist literals with different datatype instances with the same IRI then this should only happen because - for whatever reason - a custom override was used in order to change the behavior of the original datatype.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439739754/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439758931","html_url":"https://github.com/apache/jena/pull/2796#issuecomment-2439758931","issue_url":"https://api.github.com/repos/apache/jena/issues/2796","id":2439758931,"node_id":"IC_kwDOAHF7Ec6Ra8RT","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T22:47:21Z","updated_at":"2024-10-26T22:47:21Z","author_association":"CONTRIBUTOR","body":"Updated the PR with a different approach as per the discussion in the issue #2795 \r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439758931/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439759834","html_url":"https://github.com/apache/jena/issues/2795#issuecomment-2439759834","issue_url":"https://api.github.com/repos/apache/jena/issues/2795","id":2439759834,"node_id":"IC_kwDOAHF7Ec6Ra8fa","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T22:50:57Z","updated_at":"2024-10-26T22:50:57Z","author_association":"CONTRIBUTOR","body":"I updated the PR #2796 with the computeIfAbsent approach. Comments welcome :)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439759834/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439761325","html_url":"https://github.com/apache/jena/pull/2798#issuecomment-2439761325","issue_url":"https://api.github.com/repos/apache/jena/issues/2798","id":2439761325,"node_id":"IC_kwDOAHF7Ec6Ra82t","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-26T23:00:13Z","updated_at":"2024-10-26T23:00:13Z","author_association":"CONTRIBUTOR","body":"> > ...I mean, I can make this thread-safe, but the real question is \"what for\" \r\n> \r\n> Maybe add a comment to the javadoc header of the class with: `* This class is not thread safe.`\r\n\r\nDone.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439761325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439937222","html_url":"https://github.com/apache/jena/issues/2793#issuecomment-2439937222","issue_url":"https://api.github.com/repos/apache/jena/issues/2793","id":2439937222,"node_id":"IC_kwDOAHF7Ec6RbnzG","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T10:07:10Z","updated_at":"2024-10-27T10:07:10Z","author_association":"MEMBER","body":"@nkaralis -- thank for the report. The unbound `?g` is a bug.\r\n\r\n@rvesse's analysis is correct (a simpler reproduction below). TDB is the main user of quad-based execution but its available for in-memory as well:\r\n\r\n```\r\n## ==> Q.rq <==\r\nSELECT * {\r\n    GRAPH ?g { \r\n            SELECT ?s  { ?s ?p ?o }\r\n    }\r\n}\r\n```\r\n```\r\n## ==> D.trig <==\r\nPREFIX : <http://example/>\r\n\r\nGRAPH :g1 { :s :p :o }\r\n```\r\nand\r\n```\r\n  sparql --optimize=false --engine=quad --data D.trig --query Q.rq\r\n```\r\ngiving\r\n```\r\n--------------------------\r\n| s                  | g |\r\n==========================\r\n| <http://example/s> |   |\r\n--------------------------\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2439937222/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440078972","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2440078972","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2440078972,"node_id":"IC_kwDOAHF7Ec6RcKZ8","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T16:03:37Z","updated_at":"2024-10-27T16:03:37Z","author_association":"MEMBER","body":"> The `LazyHolder` replaces only the `synchronized(JenaSystem.class)` mechanism. Unlike the synchronized block, the JVM ensures that the `LazyHolder` is only accessed once, so theres no need for double-checking with `if (initialized) return;`. This makes it both efficient and more robust.\r\n\r\n(Because this is critical in Jena, forgive me for wanting to get into the details.)\r\n\r\nI don't quite understand \"more robust\" here.  The second thread is allowed to continue once initialized is set true. LazyHolder is \r\n(I don't have a solution for that and it may be a non-issue because the second thread bumps into an initializing class.)\r\n\r\nEfficiency - in our case, there isn't much different because the volatile is still there.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440078972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440083137","html_url":"https://github.com/apache/jena/pull/2794#issuecomment-2440083137","issue_url":"https://api.github.com/repos/apache/jena/issues/2794","id":2440083137,"node_id":"IC_kwDOAHF7Ec6RcLbB","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T16:13:37Z","updated_at":"2024-10-27T16:13:37Z","author_association":"MEMBER","body":"@arne-bdt , would you mind splitting this into the fix and tests? Then we can get the fix in, get it into a dev build and see if it works in `scalatest`.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440083137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440095081","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2440095081","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2440095081,"node_id":"IC_kwDOAHF7Ec6RcOVp","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T16:48:08Z","updated_at":"2024-10-27T16:48:22Z","author_association":"CONTRIBUTOR","body":"> \r\n> (Because this is critical in Jena, forgive me for wanting to get into the details.)\r\n> \r\n> I don't quite understand \"more robust\" here. The second thread is allowed to continue once initialized is set true. LazyHolder is (I don't have a solution for that and it may be a non-issue because the second thread bumps into an initializing class.)\r\n \r\n@afs This pattern is a \"cleaner\" approach to static initialization, as it delegates synchronization responsibility to the JVM. It also guarantees the code executes only once. To replicate what the JVM does for us, we currently use `synchronized `and a secondary check within the synchronized block for any thread that reaches that point and is waiting:\r\n```java\r\nsynchronized(JenaSystem.class) {\r\n            if ( initialized )\r\n                return ;\r\n            ...\r\n}\r\n```\r\n\r\nI understand that introducing this pattern may have caused some confusion, as it does not directly contribute to solving the problem. The actual fix was simply moving `initialized = true;` back to its original position.\r\n\r\nSince I prefer to clean up code whenever I need to modify it, I introduced the pattern. We are early in the Jena 5.3 cycle, and we have code to reproduce the threading issues along with solid tests. I ran numerous test iterations that demonstrated stable behavior. \r\nGiven this, I valued the benefits of the initialization pattern over the potential risk of a different runtime behavior.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440095081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440100196","html_url":"https://github.com/apache/jena/pull/2794#issuecomment-2440100196","issue_url":"https://api.github.com/repos/apache/jena/issues/2794","id":2440100196,"node_id":"IC_kwDOAHF7Ec6RcPlk","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T17:02:22Z","updated_at":"2024-10-27T17:02:22Z","author_association":"CONTRIBUTOR","body":"> @arne-bdt , would you mind splitting this into the fix and tests? Then we can get the fix in, get it into a dev build and see if it works in `scalatest`.\r\n\r\nI can do that. The fix based on the `LazyHolder` pattern or with `synchonized `? (see https://github.com/apache/jena/issues/2787#issuecomment-2440095081)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440100196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440172281","html_url":"https://github.com/apache/jena/pull/2794#issuecomment-2440172281","issue_url":"https://api.github.com/repos/apache/jena/issues/2794","id":2440172281,"node_id":"IC_kwDOAHF7Ec6RchL5","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T20:56:57Z","updated_at":"2024-10-27T20:56:57Z","author_association":"CONTRIBUTOR","body":"> @arne-bdt , would you mind splitting this into the fix and tests? Then we can get the fix in, get it into a dev build and see if it works in `scalatest`.\r\n\r\nBad news: While trying to replace JMH and/or reducing the console output, I got a configuration, where we still get the deadlock situation. (with both variants, LazyHolder and sychronized) I guess, reducing the output simply made it fast enough.\r\n\r\n--> So switching back to the old behaviour cannot be seen as valid solution any more.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440172281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440191075","html_url":"https://github.com/apache/jena/pull/2794#issuecomment-2440191075","issue_url":"https://api.github.com/repos/apache/jena/issues/2794","id":2440191075,"node_id":"IC_kwDOAHF7Ec6Rclxj","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T22:04:58Z","updated_at":"2024-10-27T22:04:58Z","author_association":"CONTRIBUTOR","body":"Restoring the early return from JenaSystem.init() as implemented prior to [commit 8654c07](https://github.com/apache/jena/commit/8654c07f23a892c03a7367981d814c3c8b094f62) does not solve the deadlock bug.\r\nIt only reduces the time-window and thus the likelyhood of an occurence.\r\nThe developed tests clearly show that the problem persists.\r\nSo here we are again with two options: \r\n\r\n1. Resolve the circular depencencies. Unfortunately I could not wrap my head around that yet and would be delighted if someone with more knowledge about cross-dependencies and the history of static Jena initialisers would take a look at it.\r\n2. Force `JenaSystem.init()` to be called from a single-treaded context. (but that option has already been discarded out as last resort)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440191075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440195519","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2440195519","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2440195519,"node_id":"IC_kwDOAHF7Ec6Rcm2_","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T22:19:23Z","updated_at":"2024-10-27T22:30:06Z","author_association":"CONTRIBUTOR","body":"I have my experience with threading and I like challenges. So I jumped on this bug, which could also be relevant for some of my work projects. But now I am at a loss.\r\n\r\n**Restoring the early return from JenaSystem.init() as implemented prior to [commit 8654c07](https://github.com/apache/jena/commit/8654c07f23a892c03a7367981d814c3c8b094f62) does not solve the deadlock bug.**\r\n\r\nIt only reduces the time-window and thus the likelihood of an occurrence.\r\nThe developed tests clearly show that the problem persists.\r\nSo here we are again with two options:\r\n\r\n1. Resolve the circular depencencies. Unfortunately I could not wrap my head around that yet and would be delighted if someone with more knowledge about cross-dependencies and the history of static Jena initialisers would take a look at it.\r\n2. Force JenaSystem.init() to be called from a single-treaded context. (but that option has already been discarded as last resort)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2440195519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2441291660","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2441291660","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2441291660,"node_id":"IC_kwDOAHF7Ec6RgyeM","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-28T11:13:11Z","updated_at":"2024-10-28T11:13:11Z","author_association":"MEMBER","body":"Class initlializtion spec: https://docs.oracle.com/javase/specs/jls/se21/html/jls-12.html#jls-12.4.2\r\n\r\nThe `LazyHolder` has an advantage here because it is part of the overall class initialization process, the usual way applications using Jena as a library will cause `JenaSystem.init()` to be called.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2441291660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2441337108","html_url":"https://github.com/apache/jena/issues/2805#issuecomment-2441337108","issue_url":"https://api.github.com/repos/apache/jena/issues/2805","id":2441337108,"node_id":"IC_kwDOAHF7Ec6Rg9kU","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-28T11:35:03Z","updated_at":"2024-10-28T11:35:03Z","author_association":"CONTRIBUTOR","body":"Could we get a TL;DR on what is going on regarding RDF 1.2 vs RDF-star?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2441337108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2443953262","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2443953262","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2443953262,"node_id":"IC_kwDOAHF7Ec6Rq8Ru","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-29T11:28:00Z","updated_at":"2024-10-29T11:28:00Z","author_association":"MEMBER","body":"Following @arne-bdt's proposal, PR #2807 puts in the lazy holder pattern and moves the setting initialization to the start of the process. It passes the deadlock test case at he top of this issue.\r\n\r\nIf we all agree, putting that in unlocks further testing of scalatest in case more issues turn up.\r\n\r\nThe PR is an improvement - testing (in the build and in usage) can follow.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2443953262/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2444000931","html_url":"https://github.com/apache/jena/issues/2787#issuecomment-2444000931","issue_url":"https://api.github.com/repos/apache/jena/issues/2787","id":2444000931,"node_id":"IC_kwDOAHF7Ec6RrH6j","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-29T11:52:55Z","updated_at":"2024-10-29T11:52:55Z","author_association":"CONTRIBUTOR","body":"@afs Thank you all for putting all the effort in solving this! If the code passes the deadlock case, then I'm pretty sure it's alright. I do not fully understand how it works, so I can't comment on the details of the solution.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2444000931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2444879696","html_url":"https://github.com/apache/jena/issues/2808#issuecomment-2444879696","issue_url":"https://api.github.com/repos/apache/jena/issues/2808","id":2444879696,"node_id":"IC_kwDOAHF7Ec6RuedQ","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-29T17:10:26Z","updated_at":"2024-10-29T17:10:26Z","author_association":"MEMBER","body":"The datatype registry provides the unique references. It's an open-ended enum.\r\n\r\n`LiteralLabelFactory` should not be considered application facing API. It's in `impl`.\r\n\r\n> uniqueness isnt defined by the URI\r\n\r\nThat's contract for RDF datatypes.\r\n\r\n> `if (... || getClass() != o.getClass()) return false;`\r\n\r\nI think chaos will result if \"same URI, different class\". It will be lost on printing and storing in a database.\r\n\r\nMaybe define `equals` and `hashCode` as final.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2444879696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2444955543","html_url":"https://github.com/apache/jena/issues/2808#issuecomment-2444955543","issue_url":"https://api.github.com/repos/apache/jena/issues/2808","id":2444955543,"node_id":"IC_kwDOAHF7Ec6Ruw-X","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-29T17:46:02Z","updated_at":"2024-10-29T17:46:02Z","author_association":"CONTRIBUTOR","body":"@afs Sorry, I dont understand parts of your comment.\r\n\r\n> The datatype registry provides the unique references. It's an open-ended enum.\r\n\r\n--> What I understood: It should stay the way it is. By referece is fine, due to the registry.\r\n\r\n> LiteralLabelFactory` should not be considered application facing API. It's in impl.\r\n\r\n--> What I understood: I did not choose a valid example.\r\n\r\n>> uniqueness isnt defined by the URI\r\n\r\n --> Where does this citation come from?\r\n \r\n> That's contract for RDF datatypes.\r\n\r\n--> The issue is about `RDFDatatypes`. Does this mean: The contract for RDF datatypes is that its uniqueness is not defined by the URI? Or is it?\r\n--> Since the URI is the unique key for the datatype registry where due to reference equality, all existing datatypes have to be registered, then all datatypes must have a unique URI. Or am I mistaken?\r\n\r\n> I think chaos will result if \"same URI, different class\". It will be lost on printing and storing in a database.\r\n\r\n--> I agree, that would be ugly.\r\n\r\n> Maybe define equals and hashCode as final.\r\n\r\n--> Yeah... but with which kind of implementation? By reference or compare by URI only?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2444955543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2445035474","html_url":"https://github.com/apache/jena/issues/2808#issuecomment-2445035474","issue_url":"https://api.github.com/repos/apache/jena/issues/2808","id":2445035474,"node_id":"IC_kwDOAHF7Ec6RvEfS","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-29T18:25:58Z","updated_at":"2024-10-29T18:25:58Z","author_association":"MEMBER","body":"> Where does this citation come from?\r\n\r\nhttps://www.w3.org/TR/rdf11-concepts/#section-Datatypes\r\n\r\n>> A datatype consists of a [lexical space](https://www.w3.org/TR/rdf11-concepts/#dfn-lexical-space), a [value space](https://www.w3.org/TR/rdf11-concepts/#dfn-value-space) and a [lexical-to-value mapping](https://www.w3.org/TR/rdf11-concepts/#dfn-lexical-to-value-mapping), and is denoted by one or more [IRIs](https://www.w3.org/TR/rdf11-concepts/#dfn-iri).\r\n\r\nThe URI \"denotes\", i.e. names, the pair of two spaces and the mapping. The spaces (sets) and the mapping (a function, a set of pairs) have value equality.\r\n\r\nSame URI, same datatype.\r\n\r\n> but with which kind of implementation? By reference or compare by URI only?\r\n\r\nBy URI. It's a value object so while there maybe multiple java objects (it's hard to stop that), equality is by-value. c.f. String.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2445035474/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2446267731","html_url":"https://github.com/apache/jena/pull/2813#issuecomment-2446267731","issue_url":"https://api.github.com/repos/apache/jena/issues/2813","id":2446267731,"node_id":"IC_kwDOAHF7Ec6RzxVT","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-30T09:11:41Z","updated_at":"2024-10-30T09:11:41Z","author_association":"MEMBER","body":"This overlaps with #2812 so it will be better to apply #2812 first, then get dependabot to remake this update.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2446267731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2447015873","html_url":"https://github.com/apache/jena/pull/2813#issuecomment-2447015873","issue_url":"https://api.github.com/repos/apache/jena/issues/2813","id":2447015873,"node_id":"IC_kwDOAHF7Ec6R2n_B","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-30T12:43:01Z","updated_at":"2024-10-30T12:43:01Z","author_association":"MEMBER","body":"@dependabot recreate","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2447015873/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2447016616","html_url":"https://github.com/apache/jena/pull/2813#issuecomment-2447016616","issue_url":"https://api.github.com/repos/apache/jena/issues/2813","id":2447016616,"node_id":"IC_kwDOAHF7Ec6R2oKo","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2024-10-30T12:43:17Z","updated_at":"2024-10-30T12:43:17Z","author_association":"CONTRIBUTOR","body":"Looks like @zazuko/yasqe is up-to-date now, so this is no longer needed.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2447016616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":29110,"client_id":"Iv1.4f9a6346434f815e","slug":"dependabot","node_id":"MDM6QXBwMjkxMTA=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Dependabot","description":"","external_url":"https://dependabot-api.githubapp.com","html_url":"https://github.com/apps/dependabot","created_at":"2019-04-16T22:34:25Z","updated_at":"2024-03-20T21:06:35Z","permissions":{"actions":"read","checks":"write","contents":"write","issues":"write","members":"read","metadata":"read","pull_requests":"write","statuses":"read","vulnerability_alerts":"read","workflows":"write"},"events":["check_suite","issues","issue_comment","label","pull_request","pull_request_review","pull_request_review_comment","repository"]}},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2451804232","html_url":"https://github.com/apache/jena/issues/2755#issuecomment-2451804232","issue_url":"https://api.github.com/repos/apache/jena/issues/2755","id":2451804232,"node_id":"IC_kwDOAHF7Ec6SI5BI","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-01T12:35:40Z","updated_at":"2024-11-05T08:05:12Z","author_association":"MEMBER","body":"Hi @SamuelBoerlin - the info logs are much easier for extracting the server level information - thanks.\r\n\r\nDid you mange to run with Jena 5.2.0? It protects against the NPE and may run into a problem closer to the root cause.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2451804232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2453117072","html_url":"https://github.com/apache/jena/issues/2816#issuecomment-2453117072","issue_url":"https://api.github.com/repos/apache/jena/issues/2816","id":2453117072,"node_id":"IC_kwDOAHF7Ec6SN5iQ","user":{"login":"egonw","id":26721,"node_id":"MDQ6VXNlcjI2NzIx","avatar_url":"https://avatars.githubusercontent.com/u/26721?v=4","gravatar_id":"","url":"https://api.github.com/users/egonw","html_url":"https://github.com/egonw","followers_url":"https://api.github.com/users/egonw/followers","following_url":"https://api.github.com/users/egonw/following{/other_user}","gists_url":"https://api.github.com/users/egonw/gists{/gist_id}","starred_url":"https://api.github.com/users/egonw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egonw/subscriptions","organizations_url":"https://api.github.com/users/egonw/orgs","repos_url":"https://api.github.com/users/egonw/repos","events_url":"https://api.github.com/users/egonw/events{/privacy}","received_events_url":"https://api.github.com/users/egonw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-02T20:20:13Z","updated_at":"2024-11-02T20:20:13Z","author_association":"NONE","body":"Update, while browsing the source code, I think the problem is that `jena-shex` needs to depend on `jena-arq` too. Adding that dependency to my code makes the `NoClassDefFoundError` disappear.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2453117072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2453119001","html_url":"https://github.com/apache/jena/issues/2816#issuecomment-2453119001","issue_url":"https://api.github.com/repos/apache/jena/issues/2816","id":2453119001,"node_id":"IC_kwDOAHF7Ec6SN6AZ","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-02T20:29:31Z","updated_at":"2024-11-02T20:29:31Z","author_association":"MEMBER","body":"The maven dependencies shows a mix of 4.10.0 and 5.x jars.\r\n\r\n```\r\n[INFO] io.github.egonw.bacting:managers-rdf:jar:1.0.4-SNAPSHOT\r\n[INFO] +- io.github.egonw.bacting:bioclipse-rdf:jar:2.8.1.2:compile\r\n[INFO] |  +- org.apache.jena:jena-arq:jar:4.10.0:compile\r\n[INFO] |  |  +- org.apache.jena:jena-core:jar:4.10.0:compile\r\n...\r\n[INFO] +- org.apache.jena:jena-shex:jar:5.1.0:compile\r\n[INFO] +- org.apache.jena:jena-base:jar:5.1.0:compile\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2453119001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2453119356","html_url":"https://github.com/apache/jena/issues/2816#issuecomment-2453119356","issue_url":"https://api.github.com/repos/apache/jena/issues/2816","id":2453119356,"node_id":"IC_kwDOAHF7Ec6SN6F8","user":{"login":"egonw","id":26721,"node_id":"MDQ6VXNlcjI2NzIx","avatar_url":"https://avatars.githubusercontent.com/u/26721?v=4","gravatar_id":"","url":"https://api.github.com/users/egonw","html_url":"https://github.com/egonw","followers_url":"https://api.github.com/users/egonw/followers","following_url":"https://api.github.com/users/egonw/following{/other_user}","gists_url":"https://api.github.com/users/egonw/gists{/gist_id}","starred_url":"https://api.github.com/users/egonw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egonw/subscriptions","organizations_url":"https://api.github.com/users/egonw/orgs","repos_url":"https://api.github.com/users/egonw/repos","events_url":"https://api.github.com/users/egonw/events{/privacy}","received_events_url":"https://api.github.com/users/egonw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-02T20:31:07Z","updated_at":"2024-11-02T20:31:07Z","author_association":"NONE","body":"Ah, oops! let me try that!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2453119356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2453123692","html_url":"https://github.com/apache/jena/issues/2816#issuecomment-2453123692","issue_url":"https://api.github.com/repos/apache/jena/issues/2816","id":2453123692,"node_id":"IC_kwDOAHF7Ec6SN7Js","user":{"login":"egonw","id":26721,"node_id":"MDQ6VXNlcjI2NzIx","avatar_url":"https://avatars.githubusercontent.com/u/26721?v=4","gravatar_id":"","url":"https://api.github.com/users/egonw","html_url":"https://github.com/egonw","followers_url":"https://api.github.com/users/egonw/followers","following_url":"https://api.github.com/users/egonw/following{/other_user}","gists_url":"https://api.github.com/users/egonw/gists{/gist_id}","starred_url":"https://api.github.com/users/egonw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egonw/subscriptions","organizations_url":"https://api.github.com/users/egonw/orgs","repos_url":"https://api.github.com/users/egonw/repos","events_url":"https://api.github.com/users/egonw/events{/privacy}","received_events_url":"https://api.github.com/users/egonw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-02T20:46:48Z","updated_at":"2024-11-02T20:46:48Z","author_association":"NONE","body":"(Meanwhile, this post-4.10.0 commit may have something to do with it: https://github.com/apache/jena/commit/bd861be6898d428adf081fc4c8f6471c11ce93e6)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2453123692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2453124664","html_url":"https://github.com/apache/jena/issues/2816#issuecomment-2453124664","issue_url":"https://api.github.com/repos/apache/jena/issues/2816","id":2453124664,"node_id":"IC_kwDOAHF7Ec6SN7Y4","user":{"login":"egonw","id":26721,"node_id":"MDQ6VXNlcjI2NzIx","avatar_url":"https://avatars.githubusercontent.com/u/26721?v=4","gravatar_id":"","url":"https://api.github.com/users/egonw","html_url":"https://github.com/egonw","followers_url":"https://api.github.com/users/egonw/followers","following_url":"https://api.github.com/users/egonw/following{/other_user}","gists_url":"https://api.github.com/users/egonw/gists{/gist_id}","starred_url":"https://api.github.com/users/egonw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egonw/subscriptions","organizations_url":"https://api.github.com/users/egonw/orgs","repos_url":"https://api.github.com/users/egonw/repos","events_url":"https://api.github.com/users/egonw/events{/privacy}","received_events_url":"https://api.github.com/users/egonw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-02T20:51:47Z","updated_at":"2024-11-02T20:51:47Z","author_association":"NONE","body":"> The maven dependencies shows a mix of 4.10.0 and 5.x jars.\r\n\r\nYes, that did it. I am really sorry I overlooked that :(","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2453124664/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]