[{"url":"https://api.github.com/repos/apache/solr/issues/comments/843535903","html_url":"https://github.com/apache/solr/pull/124#issuecomment-843535903","issue_url":"https://api.github.com/repos/apache/solr/issues/124","id":843535903,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MzUzNTkwMw==","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-18T20:28:23Z","updated_at":"2021-05-18T20:28:23Z","author_association":"CONTRIBUTOR","body":"If we don't have a reason to do it, then I'd continue to avoid it for now.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/843535903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/843550200","html_url":"https://github.com/apache/solr/pull/130#issuecomment-843550200","issue_url":"https://api.github.com/repos/apache/solr/issues/130","id":843550200,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MzU1MDIwMA==","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-18T20:48:24Z","updated_at":"2021-05-18T20:48:24Z","author_association":"CONTRIBUTOR","body":"Our dep on commons-lang 2 was through Zookeeper. When I updated to ZK 3.7.0, the transitive dependency went away. I tried to look for replacements but didn't see anything.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/843550200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/843700977","html_url":"https://github.com/apache/solr/pull/125#issuecomment-843700977","issue_url":"https://api.github.com/repos/apache/solr/issues/125","id":843700977,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MzcwMDk3Nw==","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-19T02:43:14Z","updated_at":"2021-05-19T02:43:14Z","author_association":"CONTRIBUTOR","body":"This looks good @dsmiley ..\r\n\r\ngood catch","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/843700977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/844055719","html_url":"https://github.com/apache/solr/pull/81#issuecomment-844055719","issue_url":"https://api.github.com/repos/apache/solr/issues/81","id":844055719,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDA1NTcxOQ==","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-19T12:27:17Z","updated_at":"2021-05-19T12:27:17Z","author_association":"CONTRIBUTOR","body":"> If I could be of help, then assign me to do one of the commands and I'll push to your PR.\r\n\r\nThanks for offering David.  Any of the remaining APIs would be great if the offer still stands - maybe ADDREPLICAPROPERTY and/or DELETEREPLICAPROPERTY  ?\r\n\r\nIf you don't get to it though, no problem.  I'm planning to return and finish this off this weekend in some free-time I've got coming, so it should get done either way.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/844055719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/844353950","html_url":"https://github.com/apache/solr/pull/133#issuecomment-844353950","issue_url":"https://api.github.com/repos/apache/solr/issues/133","id":844353950,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDM1Mzk1MA==","user":{"login":"thelabdude","id":417074,"node_id":"MDQ6VXNlcjQxNzA3NA==","avatar_url":"https://avatars.githubusercontent.com/u/417074?v=4","gravatar_id":"","url":"https://api.github.com/users/thelabdude","html_url":"https://github.com/thelabdude","followers_url":"https://api.github.com/users/thelabdude/followers","following_url":"https://api.github.com/users/thelabdude/following{/other_user}","gists_url":"https://api.github.com/users/thelabdude/gists{/gist_id}","starred_url":"https://api.github.com/users/thelabdude/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thelabdude/subscriptions","organizations_url":"https://api.github.com/users/thelabdude/orgs","repos_url":"https://api.github.com/users/thelabdude/repos","events_url":"https://api.github.com/users/thelabdude/events{/privacy}","received_events_url":"https://api.github.com/users/thelabdude/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-19T18:19:12Z","updated_at":"2021-05-19T18:19:12Z","author_association":"CONTRIBUTOR","body":"thanks for the review @tflobbe ... let me add a test case for the restart while the PULL replica is in this side-effect state, just so we can be sure it's ok and recovers properly","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/844353950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/844388326","html_url":"https://github.com/apache/solr/pull/123#issuecomment-844388326","issue_url":"https://api.github.com/repos/apache/solr/issues/123","id":844388326,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDM4ODMyNg==","user":{"login":"tomglk","id":58065733,"node_id":"MDQ6VXNlcjU4MDY1NzMz","avatar_url":"https://avatars.githubusercontent.com/u/58065733?v=4","gravatar_id":"","url":"https://api.github.com/users/tomglk","html_url":"https://github.com/tomglk","followers_url":"https://api.github.com/users/tomglk/followers","following_url":"https://api.github.com/users/tomglk/following{/other_user}","gists_url":"https://api.github.com/users/tomglk/gists{/gist_id}","starred_url":"https://api.github.com/users/tomglk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomglk/subscriptions","organizations_url":"https://api.github.com/users/tomglk/orgs","repos_url":"https://api.github.com/users/tomglk/repos","events_url":"https://api.github.com/users/tomglk/events{/privacy}","received_events_url":"https://api.github.com/users/tomglk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-19T19:06:11Z","updated_at":"2021-05-19T19:06:11Z","author_association":"CONTRIBUTOR","body":"I have added more tests and an entry to the changes.txt.\r\nFor now, I just added our names, @cpoerschke , because I wasn't sure about the people in the Jira ticket. I think it would be nice to include them because this PR was built upon that and the patches, but I have no overview who participated how much and the last patch was created ~ 2 years ago.\r\nWhat do you think?\r\n\r\nAlso: From my side this looks quite finished now. Do you miss anything?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/844388326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/844396343","html_url":"https://github.com/apache/solr/pull/134#issuecomment-844396343","issue_url":"https://api.github.com/repos/apache/solr/issues/134","id":844396343,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDM5NjM0Mw==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-19T19:17:15Z","updated_at":"2021-05-19T19:17:15Z","author_association":"CONTRIBUTOR","body":"I tried to avoid the PushBackInputStream thing but in the end I found it necessary.  At least it will rarely be used, I think.  I did ensure this code actually works by temporarily removing the short-circuit conditions and then running the test.\r\nI could add a method==GET check as well since I think it's fundamentally invalid?\r\n\r\nFYI this is called by StandardRequestParsers.parseParamsAndFillStreams.  I don't like the way that method makes assumptions about paths for /schema and v2 API which seem to be concerns that should be elsewhere like HttpSolrCall (if necessary) or perhaps give handlers the opportunity to get involved in this (if necessary).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/844396343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/844398002","html_url":"https://github.com/apache/solr/pull/115#issuecomment-844398002","issue_url":"https://api.github.com/repos/apache/solr/issues/115","id":844398002,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDM5ODAwMg==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-19T19:19:33Z","updated_at":"2021-05-19T19:19:33Z","author_association":"CONTRIBUTOR","body":"I separated out https://issues.apache.org/jira/browse/SOLR-15418 #115 for the ContentStream stuff that is unrelated (but tickled by immature V2 codepaths).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/844398002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/844998271","html_url":"https://github.com/apache/solr/pull/123#issuecomment-844998271","issue_url":"https://api.github.com/repos/apache/solr/issues/123","id":844998271,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NDk5ODI3MQ==","user":{"login":"tomglk","id":58065733,"node_id":"MDQ6VXNlcjU4MDY1NzMz","avatar_url":"https://avatars.githubusercontent.com/u/58065733?v=4","gravatar_id":"","url":"https://api.github.com/users/tomglk","html_url":"https://github.com/tomglk","followers_url":"https://api.github.com/users/tomglk/followers","following_url":"https://api.github.com/users/tomglk/following{/other_user}","gists_url":"https://api.github.com/users/tomglk/gists{/gist_id}","starred_url":"https://api.github.com/users/tomglk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomglk/subscriptions","organizations_url":"https://api.github.com/users/tomglk/orgs","repos_url":"https://api.github.com/users/tomglk/repos","events_url":"https://api.github.com/users/tomglk/events{/privacy}","received_events_url":"https://api.github.com/users/tomglk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T11:21:06Z","updated_at":"2021-05-20T11:21:06Z","author_association":"CONTRIBUTOR","body":"Hi @cpoerschke ,\r\nfeel free to directly commit to the branch. :)\r\n\r\nYour idea to make a new jira ticket and PR to break backwards compatibility sounds good to me. It would be useful to profit from the better performance for more fields. I am on board to continue working on this topic with you.\r\n\r\nI'm also exited to see this in solr 8.9.0!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/844998271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/845254919","html_url":"https://github.com/apache/solr/pull/133#issuecomment-845254919","issue_url":"https://api.github.com/repos/apache/solr/issues/133","id":845254919,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTI1NDkxOQ==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T16:11:50Z","updated_at":"2021-05-20T16:11:50Z","author_association":"CONTRIBUTOR","body":"Impressive work to track this down!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/845254919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/845314584","html_url":"https://github.com/apache/solr/pull/138#issuecomment-845314584","issue_url":"https://api.github.com/repos/apache/solr/issues/138","id":845314584,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTMxNDU4NA==","user":{"login":"ctargett","id":450148,"node_id":"MDQ6VXNlcjQ1MDE0OA==","avatar_url":"https://avatars.githubusercontent.com/u/450148?v=4","gravatar_id":"","url":"https://api.github.com/users/ctargett","html_url":"https://github.com/ctargett","followers_url":"https://api.github.com/users/ctargett/followers","following_url":"https://api.github.com/users/ctargett/following{/other_user}","gists_url":"https://api.github.com/users/ctargett/gists{/gist_id}","starred_url":"https://api.github.com/users/ctargett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctargett/subscriptions","organizations_url":"https://api.github.com/users/ctargett/orgs","repos_url":"https://api.github.com/users/ctargett/repos","events_url":"https://api.github.com/users/ctargett/events{/privacy}","received_events_url":"https://api.github.com/users/ctargett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T17:27:26Z","updated_at":"2021-05-20T17:27:26Z","author_association":"CONTRIBUTOR","body":"+1, thank you!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/845314584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/845376159","html_url":"https://github.com/apache/solr/pull/42#issuecomment-845376159","issue_url":"https://api.github.com/repos/apache/solr/issues/42","id":845376159,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTM3NjE1OQ==","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T18:44:47Z","updated_at":"2021-06-07T18:47:59Z","author_association":"CONTRIBUTOR","body":"Some thoughts while playing around:\r\n\r\n- [x] I would like to be able to populate the example document with a document that exists. Maybe a button in the query results.\r\n- [x] docValues should be enabled by default when creating a fieldType/field\r\n- [x] Do we recommend the use of `useDocValuesAsStored` instead of `stored`?\r\n- [x] When you analyze the fields it sometimes brings up a question about language and some options. Not clear that this is talking about the entire schema. Would be better to highlight the configName in the menu.\r\n- [x] Maybe guess long strings as text fields, not string fields?\r\n- [x] Would be nice to be able to filter on a field not having a feature (docValues)\r\n- [x] When filtering fields, it would be nice to filter the dynamic fields as well.\r\n- [ ] In the future it would be nice to have information on each of the options. Not sure what the best way to go about this is though.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/845376159/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/845620763","html_url":"https://github.com/apache/solr/pull/129#issuecomment-845620763","issue_url":"https://api.github.com/repos/apache/solr/issues/129","id":845620763,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTYyMDc2Mw==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T03:13:46Z","updated_at":"2021-05-21T03:13:46Z","author_association":"CONTRIBUTOR","body":"I'll look closer at this PR (e.g. in a debugger etc.) possibly tomorrow or if not then this weekend.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/845620763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/845719776","html_url":"https://github.com/apache/solr/pull/123#issuecomment-845719776","issue_url":"https://api.github.com/repos/apache/solr/issues/123","id":845719776,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTcxOTc3Ng==","user":{"login":"tomglk","id":58065733,"node_id":"MDQ6VXNlcjU4MDY1NzMz","avatar_url":"https://avatars.githubusercontent.com/u/58065733?v=4","gravatar_id":"","url":"https://api.github.com/users/tomglk","html_url":"https://github.com/tomglk","followers_url":"https://api.github.com/users/tomglk/followers","following_url":"https://api.github.com/users/tomglk/following{/other_user}","gists_url":"https://api.github.com/users/tomglk/gists{/gist_id}","starred_url":"https://api.github.com/users/tomglk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomglk/subscriptions","organizations_url":"https://api.github.com/users/tomglk/orgs","repos_url":"https://api.github.com/users/tomglk/repos","events_url":"https://api.github.com/users/tomglk/events{/privacy}","received_events_url":"https://api.github.com/users/tomglk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T07:16:46Z","updated_at":"2021-05-21T07:16:46Z","author_association":"CONTRIBUTOR","body":"I am currently debugging some ltr stuff and stumbled upon this:\r\n``` java\r\nfinal String string = indexableField.stringValue();\r\nif (string.length() == 1) {\r\n    // boolean values in the index are encoded with a single char contained in TRUE_TOKEN or FALSE_TOKEN\r\n    // (see BoolField)\r\n    if (string.charAt(0) == BoolField.TRUE_TOKEN[0]) {\r\n      return 1f;\r\n    }\r\n    if (string.charAt(0) == BoolField.FALSE_TOKEN[0]) {\r\n      return 0f;\r\n    }\r\n}\r\n```\r\nThis code is in the `FieldValueFeatureScorer`. Why don't we try to parse the string value as number?\r\nWe do that for docValues, but not for stored fields.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/845719776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/845731816","html_url":"https://github.com/apache/solr/pull/139#issuecomment-845731816","issue_url":"https://api.github.com/repos/apache/solr/issues/139","id":845731816,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTczMTgxNg==","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T07:37:43Z","updated_at":"2021-05-21T07:37:43Z","author_association":"CONTRIBUTOR","body":"Feedback welcome. I could not think of a good way to actually test that the certificates are used (do we have a mock HTTPS server somewhere?). ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/845731816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/845808565","html_url":"https://github.com/apache/solr/pull/129#issuecomment-845808565","issue_url":"https://api.github.com/repos/apache/solr/issues/129","id":845808565,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTgwODU2NQ==","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T09:12:28Z","updated_at":"2021-05-21T09:12:28Z","author_association":"CONTRIBUTOR","body":"that's much appreciated, I want a second pair of eyes minimum before merging this, so thanks David for your time.\r\nI would be delighted to have an opinion also from the other committers that were recently involved in the edismax query parser : @madrob @romseygeek @munendrasn @sarowe ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/845808565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/845963052","html_url":"https://github.com/apache/solr/pull/140#issuecomment-845963052","issue_url":"https://api.github.com/repos/apache/solr/issues/140","id":845963052,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTk2MzA1Mg==","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T13:48:21Z","updated_at":"2021-05-21T13:49:04Z","author_association":"CONTRIBUTOR","body":"I love this!  I was poking through the API calls from the front end, thinking about migrating them to the V2 equivalents, and noticed this one was odd.   ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/845963052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/845991742","html_url":"https://github.com/apache/solr/pull/140#issuecomment-845991742","issue_url":"https://api.github.com/repos/apache/solr/issues/140","id":845991742,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTk5MTc0Mg==","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T14:32:02Z","updated_at":"2021-05-21T14:32:02Z","author_association":"CONTRIBUTOR","body":"I just tested it, and LGTM.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/845991742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/845993054","html_url":"https://github.com/apache/solr/pull/140#issuecomment-845993054","issue_url":"https://api.github.com/repos/apache/solr/issues/140","id":845993054,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTk5MzA1NA==","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T14:33:37Z","updated_at":"2021-05-21T14:33:37Z","author_association":"CONTRIBUTOR","body":"Do you need help having it be merged?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/845993054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/846057560","html_url":"https://github.com/apache/solr/pull/140#issuecomment-846057560","issue_url":"https://api.github.com/repos/apache/solr/issues/140","id":846057560,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjA1NzU2MA==","user":{"login":"NazerkeBS","id":33206532,"node_id":"MDQ6VXNlcjMzMjA2NTMy","avatar_url":"https://avatars.githubusercontent.com/u/33206532?v=4","gravatar_id":"","url":"https://api.github.com/users/NazerkeBS","html_url":"https://github.com/NazerkeBS","followers_url":"https://api.github.com/users/NazerkeBS/followers","following_url":"https://api.github.com/users/NazerkeBS/following{/other_user}","gists_url":"https://api.github.com/users/NazerkeBS/gists{/gist_id}","starred_url":"https://api.github.com/users/NazerkeBS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NazerkeBS/subscriptions","organizations_url":"https://api.github.com/users/NazerkeBS/orgs","repos_url":"https://api.github.com/users/NazerkeBS/repos","events_url":"https://api.github.com/users/NazerkeBS/events{/privacy}","received_events_url":"https://api.github.com/users/NazerkeBS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T15:57:03Z","updated_at":"2021-05-21T15:57:03Z","author_association":"CONTRIBUTOR","body":"@epugh Thank you Eric for taking a look! Could you merge it please? ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/846057560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/846089517","html_url":"https://github.com/apache/solr/pull/140#issuecomment-846089517","issue_url":"https://api.github.com/repos/apache/solr/issues/140","id":846089517,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjA4OTUxNw==","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T16:34:51Z","updated_at":"2021-05-21T16:34:51Z","author_association":"CONTRIBUTOR","body":"Sure..    I typically only merge to 9, because I haven't really figured out the extra steps to backport to branch_8x in the other repo..   Is that okay? ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/846089517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/846090621","html_url":"https://github.com/apache/solr/pull/140#issuecomment-846090621","issue_url":"https://api.github.com/repos/apache/solr/issues/140","id":846090621,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjA5MDYyMQ==","user":{"login":"NazerkeBS","id":33206532,"node_id":"MDQ6VXNlcjMzMjA2NTMy","avatar_url":"https://avatars.githubusercontent.com/u/33206532?v=4","gravatar_id":"","url":"https://api.github.com/users/NazerkeBS","html_url":"https://github.com/NazerkeBS","followers_url":"https://api.github.com/users/NazerkeBS/followers","following_url":"https://api.github.com/users/NazerkeBS/following{/other_user}","gists_url":"https://api.github.com/users/NazerkeBS/gists{/gist_id}","starred_url":"https://api.github.com/users/NazerkeBS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NazerkeBS/subscriptions","organizations_url":"https://api.github.com/users/NazerkeBS/orgs","repos_url":"https://api.github.com/users/NazerkeBS/repos","events_url":"https://api.github.com/users/NazerkeBS/events{/privacy}","received_events_url":"https://api.github.com/users/NazerkeBS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T16:36:27Z","updated_at":"2021-05-21T16:37:35Z","author_association":"CONTRIBUTOR","body":"I think it is ok to have it only on 9","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/846090621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/846117599","html_url":"https://github.com/apache/solr/pull/131#issuecomment-846117599","issue_url":"https://api.github.com/repos/apache/solr/issues/131","id":846117599,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjExNzU5OQ==","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T17:22:21Z","updated_at":"2021-05-21T17:22:21Z","author_association":"CONTRIBUTOR","body":"@risdenk just a mild ping to remind you about testing this on windows, and I'm going to try and test it on unix today ;-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/846117599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/846247471","html_url":"https://github.com/apache/solr/pull/42#issuecomment-846247471","issue_url":"https://api.github.com/repos/apache/solr/issues/42","id":846247471,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjI0NzQ3MQ==","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T20:39:06Z","updated_at":"2021-05-21T20:39:06Z","author_association":"CONTRIBUTOR","body":"1. when \"Analyzing your sample data, schema will load momentarily\" text comes up, could we swap the gear for a moving animated gear icon?  \r\n\r\n1. download products a file called \"download\", not a \"download.zip\", or even better...  \"techproducts_configset.zip\"\r\n\r\n1. Is the config a config?  Or a ConfigSet????\r\n\r\n1. I wish the folder icon when clicked on would open it.  Versus the small > arrow.  This I find annoying in the SolrCloud ZK tree as well, though there you might argue you want to look at metadata..   I wish there it did both showing metadata and opened, and on schema designer it opened!\r\n\r\n1. I wonder if you could get more screen space by having any kind of paning close/open options?   \r\n\r\n1. in the facet listing, when you shift click you get all between the first and the second click, versus shift click letting you pick them individually, which I think is what you wanted!\r\n\r\n1. are there any features that you expose that NO ONE should ever use and could be removed???","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/846247471/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/846307923","html_url":"https://github.com/apache/solr/pull/139#issuecomment-846307923","issue_url":"https://api.github.com/repos/apache/solr/issues/139","id":846307923,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjMwNzkyMw==","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T23:26:35Z","updated_at":"2021-05-21T23:26:35Z","author_association":"CONTRIBUTOR","body":"Committed latest changes. Please resolve outstanding conversations if you're happy. Still would like some integration test to check the actual certificate usage. Think I'll try to spin up a MockIdp listening on some SSL socket...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/846307923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/846994896","html_url":"https://github.com/apache/solr/pull/123#issuecomment-846994896","issue_url":"https://api.github.com/repos/apache/solr/issues/123","id":846994896,"node_id":"MDEyOklzc3VlQ29tbWVudDg0Njk5NDg5Ng==","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T12:00:35Z","updated_at":"2021-05-24T12:00:35Z","author_association":"CONTRIBUTOR","body":"Hi @tomglk!\r\n\r\n> I am currently debugging some ltr stuff and stumbled upon this: ... Why don't we try to parse the string value as number? We do that for docValues, but not for stored fields.\r\n\r\nAh, we seem to have both stumbled upon the same question though perhaps via different routes?!\r\n\r\nI was trying to extend `TestFieldValueFeature.testThatStringValuesAreCorrectlyParsed` to also cover non-docValues field _and_ to ensure behavioural consistency between dv and non-dv fields i.e. docValues and stored fields. My conclusion was that for back compat reasons the docValues would need to match stored fields behaviour -- _I will add a commit with proposed changes shortly_ -- and that what looks like a \"string\" value in the implementation is for \"boolean\" values only really i.e. F/0 and T/1 and when number values are required a number field type would/should be used instead.\r\n\r\n_And advance apologies, the commit has multiple things in one commit though I've tried to at least describe in the commit message details what is in it. Looking forward to your thoughts on it._","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/846994896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/847100038","html_url":"https://github.com/apache/solr/pull/131#issuecomment-847100038","issue_url":"https://api.github.com/repos/apache/solr/issues/131","id":847100038,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzEwMDAzOA==","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T14:59:23Z","updated_at":"2021-05-24T14:59:23Z","author_association":"CONTRIBUTOR","body":"@epugh  yup thanks on my list will try to get to it early this week.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/847100038/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/847194564","html_url":"https://github.com/apache/solr/pull/129#issuecomment-847194564","issue_url":"https://api.github.com/repos/apache/solr/issues/129","id":847194564,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzE5NDU2NA==","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T16:59:26Z","updated_at":"2021-05-24T16:59:26Z","author_association":"CONTRIBUTOR","body":"Given there's disagreement in changing this behaviour (is it bug or not?)\r\nI suggest the following steps:\r\n1) isolate the changes for the MM issue if possible in a separate Pull Request\r\n2) find someone else opinion on both topics of this Pull Request ( the string field sow bug and the MM bug)\r\nShould I tag any other people @dsmiley ?\r\nI took the latest people involved in the class, but we didn't get any other opinion in the last 10 days","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/847194564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/847276421","html_url":"https://github.com/apache/solr/pull/129#issuecomment-847276421","issue_url":"https://api.github.com/repos/apache/solr/issues/129","id":847276421,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzI3NjQyMQ==","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T19:20:32Z","updated_at":"2021-05-24T19:20:32Z","author_association":"CONTRIBUTOR","body":"In the meantime I was still thinking about this and I still think it is a\nbug:\nIf we set a field type to be keyword analysed (so producing the same token\nas a String field), the sow works correctly and we have the same behaviour\nI am introducing with the fix.\n\n\nOn Mon, 24 May 2021, 16:59 David Smiley, ***@***.***> wrote:\n\n> ***@***.**** commented on this pull request.\n>\n> It seems we don't agree on this yet.\n> ------------------------------\n>\n> In solr/core/src/test/org/apache/solr/search/TestExtendedDismaxParser.java\n> <https://github.com/apache/solr/pull/129#discussion_r637963606>:\n>\n> > @@ -1771,6 +1787,35 @@ public void testSplitOnWhitespace_Basic() throws Exception {\n>      assertThat(parsedquery, anyOf(containsString(\"((name:stigma | title:stigma))\"), containsString(\"((title:stigma | name:stigma))\")));\n>    }\n>\n> +    @Test\n> +    public void testSplitOnWhitespace_stringField_shouldBuildSingleClause() throws Exception\n>\n> Based on the test name, I'd expect sow=true each time. Maybe just drop\n> this part of the method name.\n> ------------------------------\n>\n> In solr/core/src/test/org/apache/solr/search/TestExtendedDismaxParser.java\n> <https://github.com/apache/solr/pull/129#discussion_r637963928>:\n>\n> > @@ -1771,6 +1787,35 @@ public void testSplitOnWhitespace_Basic() throws Exception {\n>      assertThat(parsedquery, anyOf(containsString(\"((name:stigma | title:stigma))\"), containsString(\"((title:stigma | name:stigma))\")));\n>    }\n>\n> +    @Test\n> +    public void testSplitOnWhitespace_stringField_shouldBuildSingleClause() throws Exception\n> +    {\n> +        assertJQ(req(\"qf\", \"trait_ss\", \"defType\", \"edismax\", \"q\", \"multi term\", \"sow\", \"false\"),\n> +            \"/response/numFound==1\", \"/response/docs/[0]/id=='75'\");\n> +\n> +        String parsedquery = getParsedQuery(\n> +            req(\"qf\", \"trait_ss\", \"q\", \"multi term\", \"defType\", \"edismax\", \"sow\", \"false\", \"debugQuery\", \"true\"));\n> +        assertThat(parsedquery, anyOf(containsString(\"((trait_ss:multi term))\")));\n> +    }\n> +\n> +    @Test\n> +    public void testSplitOnWhitespace_numericField_shouldBuildAlwaysMultiClause() throws Exception\n>\n> Again, just drop \"testSplitOnWhitespace_\" from the method name, I think.\n> ------------------------------\n>\n> In solr/core/src/test/org/apache/solr/search/TestExtendedDismaxParser.java\n> <https://github.com/apache/solr/pull/129#discussion_r638071458>:\n>\n> > @@ -1771,6 +1787,35 @@ public void testSplitOnWhitespace_Basic() throws Exception {\n>      assertThat(parsedquery, anyOf(containsString(\"((name:stigma | title:stigma))\"), containsString(\"((title:stigma | name:stigma))\")));\n>    }\n>\n> +    @Test\n> +    public void testSplitOnWhitespace_stringField_shouldBuildSingleClause() throws Exception\n> +    {\n> +        assertJQ(req(\"qf\", \"trait_ss\", \"defType\", \"edismax\", \"q\", \"multi term\", \"sow\", \"false\"),\n>\n> This is a change in behavior, and I think it's not a good change. For a\n> non-tokenized field (StrField in this case), I think we should ignore\n> whatever \"sow\" is and split on whitespace any way, thus here have two terms\n> to match. It would be straight-forward to document this (no differences\n> between numbers and StrField).\n>\n> I think it could be reasonable to try both ways (both split and don't\n> split) and then put a DisjunctionMaxQuery over the two, though I'd prefer\n> not.\n> ------------------------------\n>\n> In solr/core/src/java/org/apache/solr/parser/SolrQueryParserBase.java\n> <https://github.com/apache/solr/pull/129#discussion_r638074368>:\n>\n> >            } else {\n>              List<Query> subqs = new ArrayList<>();\n>              for (String queryTerm : queryTerms) {\n>                try {\n>                  subqs.add(ft.getFieldQuery(parser, sf, queryTerm));\n> -              } catch (Exception e) { // assumption: raw = false only when called from ExtendedDismaxQueryParser.getQuery()\n> -                // for edismax: ignore parsing failures\n> +              } catch (Exception e) {\n> +                /*\n> +                This happens when a field tries to parse a query term of incompatible type\n> +                e.g.\n> +                a numerical field trying to parse a textual query term\n> +                 */\n> +                subqs.add(new MatchNoDocsQuery(queryTerm + \" is not compatible with \" + field));\n>\n> It appears this change (the addition of MatchNoDocsQuery here) has no\n> effect but maybe I'm mistaken?\n> ------------------------------\n>\n> In solr/core/src/java/org/apache/solr/parser/SolrQueryParserBase.java\n> <https://github.com/apache/solr/pull/129#discussion_r638072636>:\n>\n> >            return new RawQuery(sf, queryTerms);\n>          } else {\n>            if (queryTerms.size() == 1) {\n>              return ft.getFieldQuery(parser, sf, queryTerms.get(0));\n> +          } else if(ft instanceof StrField){\n>\n> In essence, I think the behavior I see here was correct *before* -- no\n> special case for either StrField or numerics. In the context of the logic\n> that reaches this point, the field is already ft.isTokenized==false.\n>\n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/solr/pull/129#pullrequestreview-666761251>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAD5JK7YA7MGLQJO5BK2HM3TPJZUZANCNFSM444WCCXQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/847276421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/847463578","html_url":"https://github.com/apache/solr/pull/115#issuecomment-847463578","issue_url":"https://api.github.com/repos/apache/solr/issues/115","id":847463578,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzQ2MzU3OA==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T01:30:23Z","updated_at":"2021-05-25T01:30:23Z","author_association":"CONTRIBUTOR","body":"Synced with main thus incorporating #134 .  Any final thoughts @noblepaul ?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/847463578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/847620526","html_url":"https://github.com/apache/solr/pull/146#issuecomment-847620526","issue_url":"https://api.github.com/repos/apache/solr/issues/146","id":847620526,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzYyMDUyNg==","user":{"login":"NazerkeBS","id":33206532,"node_id":"MDQ6VXNlcjMzMjA2NTMy","avatar_url":"https://avatars.githubusercontent.com/u/33206532?v=4","gravatar_id":"","url":"https://api.github.com/users/NazerkeBS","html_url":"https://github.com/NazerkeBS","followers_url":"https://api.github.com/users/NazerkeBS/followers","following_url":"https://api.github.com/users/NazerkeBS/following{/other_user}","gists_url":"https://api.github.com/users/NazerkeBS/gists{/gist_id}","starred_url":"https://api.github.com/users/NazerkeBS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NazerkeBS/subscriptions","organizations_url":"https://api.github.com/users/NazerkeBS/orgs","repos_url":"https://api.github.com/users/NazerkeBS/repos","events_url":"https://api.github.com/users/NazerkeBS/events{/privacy}","received_events_url":"https://api.github.com/users/NazerkeBS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T07:28:35Z","updated_at":"2021-05-25T07:28:35Z","author_association":"CONTRIBUTOR","body":"@dsmiley, maybe I should update ZkConfigSetService#checkConfigExists in this PR  to check if the config dir is not empty and contains solrconfig.xml file ?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/847620526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/847790405","html_url":"https://github.com/apache/solr/pull/129#issuecomment-847790405","issue_url":"https://api.github.com/repos/apache/solr/issues/129","id":847790405,"node_id":"MDEyOklzc3VlQ29tbWVudDg0Nzc5MDQwNQ==","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T11:29:49Z","updated_at":"2021-05-25T11:34:57Z","author_association":"CONTRIBUTOR","body":"Thinking a little more about this I'll make even a bigger provocation:\r\nI don't think it should exist a StrField type at all, it is textual information and we can get the same through a text field which is just \"Keyword tokenized\", and should be the only way, there's no benefit/differentiation in having two ways for the same index output.\r\n\r\nBut removing the StrField type is definitely not in scope in this issue, so in my opinion, we should at least have consistent behavior, and today if you define a field as StrField type or text Keyword tokenized, you produce the same index as far as I know, but at query time the sow works correctly just for the latter.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/847790405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/847809679","html_url":"https://github.com/apache/solr/pull/146#issuecomment-847809679","issue_url":"https://api.github.com/repos/apache/solr/issues/146","id":847809679,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzgwOTY3OQ==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T12:01:56Z","updated_at":"2021-05-25T12:01:56Z","author_association":"CONTRIBUTOR","body":"> maybe I should update ZkConfigSetService#checkConfigExists in this PR to check if the config dir is not empty and contains solrconfig.xml file ?\r\n\r\nNo; it is unrelated to this PR.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/847809679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/847819259","html_url":"https://github.com/apache/solr/pull/129#issuecomment-847819259","issue_url":"https://api.github.com/repos/apache/solr/issues/129","id":847819259,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzgxOTI1OQ==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T12:17:03Z","updated_at":"2021-05-25T12:17:03Z","author_association":"CONTRIBUTOR","body":"From JIRA:\r\n\r\n> it seems we get a document just containing \"100\" in the numerical field to be a match, even if it doesn't contain \"terminator\" anywhere else with mm=100%. And I think that's incorrect.\r\n\r\nAnd I agreed.  What test illustrates this problem?  I'm suspecting the code _already_ works this way but I must be mistaken for you to pose this question in JIRA.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/847819259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/847975006","html_url":"https://github.com/apache/solr/pull/148#issuecomment-847975006","issue_url":"https://api.github.com/repos/apache/solr/issues/148","id":847975006,"node_id":"MDEyOklzc3VlQ29tbWVudDg0Nzk3NTAwNg==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T15:33:35Z","updated_at":"2021-05-25T15:33:35Z","author_association":"CONTRIBUTOR","body":"Distribution also looks fine after `gradlew assemble`:\r\n\r\n![image](https://user-images.githubusercontent.com/1005388/119526045-520cd100-bd7f-11eb-87d7-0b6840b5a6a3.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/847975006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/847989200","html_url":"https://github.com/apache/solr/pull/148#issuecomment-847989200","issue_url":"https://api.github.com/repos/apache/solr/issues/148","id":847989200,"node_id":"MDEyOklzc3VlQ29tbWVudDg0Nzk4OTIwMA==","user":{"login":"thelabdude","id":417074,"node_id":"MDQ6VXNlcjQxNzA3NA==","avatar_url":"https://avatars.githubusercontent.com/u/417074?v=4","gravatar_id":"","url":"https://api.github.com/users/thelabdude","html_url":"https://github.com/thelabdude","followers_url":"https://api.github.com/users/thelabdude/followers","following_url":"https://api.github.com/users/thelabdude/following{/other_user}","gists_url":"https://api.github.com/users/thelabdude/gists{/gist_id}","starred_url":"https://api.github.com/users/thelabdude/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thelabdude/subscriptions","organizations_url":"https://api.github.com/users/thelabdude/orgs","repos_url":"https://api.github.com/users/thelabdude/repos","events_url":"https://api.github.com/users/thelabdude/events{/privacy}","received_events_url":"https://api.github.com/users/thelabdude/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T15:52:24Z","updated_at":"2021-05-25T15:52:24Z","author_association":"CONTRIBUTOR","body":"Awesome! Thanks for fixing this ;-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/847989200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/847993587","html_url":"https://github.com/apache/solr/pull/148#issuecomment-847993587","issue_url":"https://api.github.com/repos/apache/solr/issues/148","id":847993587,"node_id":"MDEyOklzc3VlQ29tbWVudDg0Nzk5MzU4Nw==","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T15:57:54Z","updated_at":"2021-05-25T15:57:54Z","author_association":"CONTRIBUTOR","body":"Simple and elegant. Thanks Uwe!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/847993587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848038111","html_url":"https://github.com/apache/solr/pull/149#issuecomment-848038111","issue_url":"https://api.github.com/repos/apache/solr/issues/149","id":848038111,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODAzODExMQ==","user":{"login":"ctargett","id":450148,"node_id":"MDQ6VXNlcjQ1MDE0OA==","avatar_url":"https://avatars.githubusercontent.com/u/450148?v=4","gravatar_id":"","url":"https://api.github.com/users/ctargett","html_url":"https://github.com/ctargett","followers_url":"https://api.github.com/users/ctargett/followers","following_url":"https://api.github.com/users/ctargett/following{/other_user}","gists_url":"https://api.github.com/users/ctargett/gists{/gist_id}","starred_url":"https://api.github.com/users/ctargett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctargett/subscriptions","organizations_url":"https://api.github.com/users/ctargett/orgs","repos_url":"https://api.github.com/users/ctargett/repos","events_url":"https://api.github.com/users/ctargett/events{/privacy}","received_events_url":"https://api.github.com/users/ctargett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T16:40:44Z","updated_at":"2021-05-25T16:40:44Z","author_association":"CONTRIBUTOR","body":"I've got a branch in my fork where I'm working on a big re-org and I also updated the same pic to use this image: \r\n\r\n![user-managed-replication](https://user-images.githubusercontent.com/450148/119535142-55876480-bd4d-11eb-9343-52b73e3684be.png)\r\n\r\nI can prefer yours, though, just offering as another option. I didn't have the same icons accessible to me so had to do something else with it.\r\n\r\nThere is also still an outdated image in https://solr.apache.org/guide/8_8/combining-distribution-and-replication.html which I have not fixed yet in my branch but should be done.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848038111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848044449","html_url":"https://github.com/apache/solr/pull/149#issuecomment-848044449","issue_url":"https://api.github.com/repos/apache/solr/issues/149","id":848044449,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODA0NDQ0OQ==","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T16:50:17Z","updated_at":"2021-05-25T16:50:17Z","author_association":"CONTRIBUTOR","body":"Yours looks fine, and doesn't have pixelated servers! Is this refactor going to be included in 8.9 or just 9.0? If it's the later then we should probably sub this one in for now (8.x). If you are shooting for 8.9 then I'll just close this  ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848044449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848060388","html_url":"https://github.com/apache/solr/pull/149#issuecomment-848060388","issue_url":"https://api.github.com/repos/apache/solr/issues/149","id":848060388,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODA2MDM4OA==","user":{"login":"ctargett","id":450148,"node_id":"MDQ6VXNlcjQ1MDE0OA==","avatar_url":"https://avatars.githubusercontent.com/u/450148?v=4","gravatar_id":"","url":"https://api.github.com/users/ctargett","html_url":"https://github.com/ctargett","followers_url":"https://api.github.com/users/ctargett/followers","following_url":"https://api.github.com/users/ctargett/following{/other_user}","gists_url":"https://api.github.com/users/ctargett/gists{/gist_id}","starred_url":"https://api.github.com/users/ctargett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctargett/subscriptions","organizations_url":"https://api.github.com/users/ctargett/orgs","repos_url":"https://api.github.com/users/ctargett/repos","events_url":"https://api.github.com/users/ctargett/events{/privacy}","received_events_url":"https://api.github.com/users/ctargett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T17:14:13Z","updated_at":"2021-05-25T17:14:13Z","author_association":"CONTRIBUTOR","body":"The refactor won't be in for 8.9 - I'm scrambling to try to get it done for 9.0!\r\n\r\nI wasn't sure if there would be an 8.9 so didn't fix this image separately (then forgot about it until I saw your PR today). good idea to go ahead with yours for 8.x and then I'll change it in 9.0.\r\n\r\nAre you going to be able to fix the other one for 8.9?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848060388/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848061129","html_url":"https://github.com/apache/solr/pull/148#issuecomment-848061129","issue_url":"https://api.github.com/repos/apache/solr/issues/148","id":848061129,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODA2MTEyOQ==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T17:15:24Z","updated_at":"2021-05-25T17:15:24Z","author_association":"CONTRIBUTOR","body":"I added documentation on how to upgrade Lucene.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848061129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848062899","html_url":"https://github.com/apache/solr/pull/149#issuecomment-848062899","issue_url":"https://api.github.com/repos/apache/solr/issues/149","id":848062899,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODA2Mjg5OQ==","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T17:18:23Z","updated_at":"2021-05-25T17:18:23Z","author_association":"CONTRIBUTOR","body":"I'll go ahead and fix the other one as well","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848062899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848072975","html_url":"https://github.com/apache/solr/pull/123#issuecomment-848072975","issue_url":"https://api.github.com/repos/apache/solr/issues/123","id":848072975,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODA3Mjk3NQ==","user":{"login":"tomglk","id":58065733,"node_id":"MDQ6VXNlcjU4MDY1NzMz","avatar_url":"https://avatars.githubusercontent.com/u/58065733?v=4","gravatar_id":"","url":"https://api.github.com/users/tomglk","html_url":"https://github.com/tomglk","followers_url":"https://api.github.com/users/tomglk/followers","following_url":"https://api.github.com/users/tomglk/following{/other_user}","gists_url":"https://api.github.com/users/tomglk/gists{/gist_id}","starred_url":"https://api.github.com/users/tomglk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomglk/subscriptions","organizations_url":"https://api.github.com/users/tomglk/orgs","repos_url":"https://api.github.com/users/tomglk/repos","events_url":"https://api.github.com/users/tomglk/events{/privacy}","received_events_url":"https://api.github.com/users/tomglk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T17:30:40Z","updated_at":"2021-05-25T17:30:40Z","author_association":"CONTRIBUTOR","body":"Hi @cpoerschke! :)\r\n> My conclusion was that for back compat reasons the docValues would need to match stored fields behaviour -- _I will add a commit with proposed changes shortly_ -- and that what looks like a \"string\" value in the implementation is for \"boolean\" values only really i.e. F/0 and T/1 and when number values are required a number field type would/should be used instead.\r\n\r\nI just had the time to look through your changes.\r\nAlthough I liked the possibility to also handle numbers that are present in a string field, I agree that one should use a numeric field for that. One shouldn't expect the code to handle such cases.\r\nI think your changes made the functionalities that are supported much cleaner. And the consistent behavior between dv and non-dv fields also is a very important point that I admittedly paid not enough attention to. Thanks for keeping an eye on such things!\r\n\r\n> _And advance apologies, the commit has multiple things in one commit though I've tried to at least describe in the commit message details what is in it._\r\n\r\nNo worries, I read you notes in the commit while looking through the code and had no problem with understanding your thoughts behind the changes.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848072975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848090762","html_url":"https://github.com/apache/solr/pull/149#issuecomment-848090762","issue_url":"https://api.github.com/repos/apache/solr/issues/149","id":848090762,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODA5MDc2Mg==","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T17:56:52Z","updated_at":"2021-05-25T17:56:52Z","author_association":"CONTRIBUTOR","body":"I'll also go ahead and merge here incase your refactor gets pushed back to 9.1 or later. As mentioned before, feel free to overwrite these changes with anything you have. I don't mind either way.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848090762/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848104216","html_url":"https://github.com/apache/solr/pull/148#issuecomment-848104216","issue_url":"https://api.github.com/repos/apache/solr/issues/148","id":848104216,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODEwNDIxNg==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T18:17:50Z","updated_at":"2021-05-25T18:17:50Z","author_association":"CONTRIBUTOR","body":"Maybe we should now remove the \"ApacheSnapshots\" repo from defaults.gradle?\r\n\r\nJust a thought-- perhaps SNAPSHOT dependencies should simply never be in versions.lock?  And if we do these Lucene releases with -SNAPSHOT suffix, it'd be less files to change.  On the other hand, changing something is perhaps the point -- to make the specific version visible and perhaps make git bisect and other things work better / repeatably.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848104216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848105002","html_url":"https://github.com/apache/solr/pull/148#issuecomment-848105002","issue_url":"https://api.github.com/repos/apache/solr/issues/148","id":848105002,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODEwNTAwMg==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T18:18:56Z","updated_at":"2021-05-25T18:18:56Z","author_association":"CONTRIBUTOR","body":"> Maybe we should now remove the \"ApacheSnapshots\" repo from defaults.gradle?\r\n\r\nNo, this is needed to publish maven artifacts of Solr itsself.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848105002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848106500","html_url":"https://github.com/apache/solr/pull/148#issuecomment-848106500","issue_url":"https://api.github.com/repos/apache/solr/issues/148","id":848106500,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODEwNjUwMA==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T18:21:11Z","updated_at":"2021-05-25T18:21:11Z","author_association":"CONTRIBUTOR","body":"> > Maybe we should now remove the \"ApacheSnapshots\" repo from defaults.gradle?\r\n> \r\n> No, this is needed to publish maven artifacts of Solr itsself.\r\n\r\nI am not fully sure about this, so let's keep this in.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848106500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848109056","html_url":"https://github.com/apache/solr/pull/148#issuecomment-848109056","issue_url":"https://api.github.com/repos/apache/solr/issues/148","id":848109056,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODEwOTA1Ng==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T18:24:57Z","updated_at":"2021-05-25T18:32:24Z","author_association":"CONTRIBUTOR","body":"> Just a thought-- perhaps SNAPSHOT dependencies should simply never be in versions.lock? And if we do these Lucene releases with -SNAPSHOT suffix, it'd be less files to change. On the other hand, changing something is perhaps the point -- to make the specific version visible and perhaps make git bisect and other things work better / repeatably.\r\n\r\n`SNAPSHOT` is a special term in Maven and is handled specifically, so never use SNAPSHOT unless it is a real maven snapshot.\r\n\r\nWe have to change both files, also the versions.props file (the locks file is generated by the `--write-locks` command). If we just change the URL of the repository and have a static version with a fixed name, Gradle will never try to download it. Committer only has to change 2 files, each of them only one line!\r\n\r\nSo the prerelease MUST have a different name (in our case the Jenkins build number). The repository also contains the build number, but this is just a worksaround because we can't merge or deploy a new artifact to an existing repository with the current setup. \r\n\r\nFixed version numbers are also important to be able to checkout e.g. an older commit and build it. Or if you have an older pull request,...\r\n\r\nSo it is important to have different versions, otherwise we are back at the same issue like with snapshots: They change suddenly!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848109056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848110794","html_url":"https://github.com/apache/solr/pull/148#issuecomment-848110794","issue_url":"https://api.github.com/repos/apache/solr/issues/148","id":848110794,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODExMDc5NA==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T18:27:38Z","updated_at":"2021-05-25T18:29:36Z","author_association":"CONTRIBUTOR","body":"By the way, if you call `gradlew :helpDeps` it prints:\r\n\r\n```\r\n> Task :helpDeps\r\n\r\nDependencies\r\n============\r\n\r\nEach gradle project can have multiple (named) \"configurations\"\r\nand each configuration can have dependencies attached to it.\r\n[...]\r\n\r\nUpdate Lucene prerelease\r\n------------------------\r\n\r\nThe main branch of Apache Solr uses a prerelease of Apache Lucene that\r\nis published by ASF Jenkins on:\r\n  https://nightlies.apache.org/solr/lucene-prereleases/\r\n\r\nIf you want to upgrade Lucene to a newer build proceed like the following:\r\n\r\n- Go to https://ci-builds.apache.org/job/Solr/job/Lucene-prerelease-main/\r\n- Log in with ASF account\r\n- Press on \"build now\" on left side\r\n- Wait until build is finished.... (can take long time, if other builds are\r\n  queued)\r\n- remember the build number of Jenkins (left side, first build in list,\r\n  prefixed by '#')\r\n- Edit ./versions.props and change Lucene's version to '9.0.0-prereleaseX',\r\n  with 'X' is the jenkins build number\r\n- Edit ./gradle/defaults.gradle and change jenkins build number, too\r\n  (this directs the repository to the one created by latest build):\r\n    def lucenePrereleaseBuild = 'X'\r\n- Run: gradlew --write-locks (as described before)\r\n```\r\n\r\nSo it's easy to do for a committer.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848110794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848134538","html_url":"https://github.com/apache/solr/pull/129#issuecomment-848134538","issue_url":"https://api.github.com/repos/apache/solr/issues/129","id":848134538,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODEzNDUzOA==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T18:40:46Z","updated_at":"2021-05-25T18:40:46Z","author_association":"CONTRIBUTOR","body":"> isolate the changes for the MM issue if possible in a separate Pull Request\r\n\r\n+1 indeed; if it fixes its own issue then it deserves a separate PR, especially for sensitive code like query parsers that will be noticed by users.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848134538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848517035","html_url":"https://github.com/apache/solr/pull/148#issuecomment-848517035","issue_url":"https://api.github.com/repos/apache/solr/issues/148","id":848517035,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODUxNzAzNQ==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T06:55:46Z","updated_at":"2021-05-26T06:56:02Z","author_association":"CONTRIBUTOR","body":"Hi,\r\nIf you think this is fine as a start, I can merge this later.\r\n\r\n@dweiss should we remove the apache snapshots declaration or does it need to stay for publishing?\r\n\r\nUwe","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848517035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848522087","html_url":"https://github.com/apache/solr/pull/148#issuecomment-848522087","issue_url":"https://api.github.com/repos/apache/solr/issues/148","id":848522087,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODUyMjA4Nw==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T07:04:35Z","updated_at":"2021-05-26T07:04:35Z","author_association":"CONTRIBUTOR","body":"I figured out: Lucene only has mavenCentral(), the ASF snapshot repo is only configured for publishing.\r\n\r\nSo I think we can remove it here @dsmiley! ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848522087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848690442","html_url":"https://github.com/apache/solr/pull/44#issuecomment-848690442","issue_url":"https://api.github.com/repos/apache/solr/issues/44","id":848690442,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODY5MDQ0Mg==","user":{"login":"asalamon74","id":13440318,"node_id":"MDQ6VXNlcjEzNDQwMzE4","avatar_url":"https://avatars.githubusercontent.com/u/13440318?v=4","gravatar_id":"","url":"https://api.github.com/users/asalamon74","html_url":"https://github.com/asalamon74","followers_url":"https://api.github.com/users/asalamon74/followers","following_url":"https://api.github.com/users/asalamon74/following{/other_user}","gists_url":"https://api.github.com/users/asalamon74/gists{/gist_id}","starred_url":"https://api.github.com/users/asalamon74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asalamon74/subscriptions","organizations_url":"https://api.github.com/users/asalamon74/orgs","repos_url":"https://api.github.com/users/asalamon74/repos","events_url":"https://api.github.com/users/asalamon74/events{/privacy}","received_events_url":"https://api.github.com/users/asalamon74/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T11:26:41Z","updated_at":"2021-05-26T11:26:41Z","author_association":"CONTRIBUTOR","body":"Thanks for picking this up @madrob ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848690442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848733275","html_url":"https://github.com/apache/solr/pull/139#issuecomment-848733275","issue_url":"https://api.github.com/repos/apache/solr/issues/139","id":848733275,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODczMzI3NQ==","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T12:36:56Z","updated_at":"2021-05-26T12:36:56Z","author_association":"CONTRIBUTOR","body":"I'm trying to integrate https://github.com/navikt/mock-oauth2-server into the tests (actually open-sourced by a Norwegian government entity). Quite simple, you initialize a `MockOAuth2Server` and then it listens on a separate port and behaves like an Oauth server. I'm struggling to make it talk https though, so that we can finally assert that the new config options actually works.\r\n\r\nIf this ends up working, we can also add several other end-to-end integration tests for JWT auth (in separate issues).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848733275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848845362","html_url":"https://github.com/apache/solr/pull/42#issuecomment-848845362","issue_url":"https://api.github.com/repos/apache/solr/issues/42","id":848845362,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODg0NTM2Mg==","user":{"login":"thelabdude","id":417074,"node_id":"MDQ6VXNlcjQxNzA3NA==","avatar_url":"https://avatars.githubusercontent.com/u/417074?v=4","gravatar_id":"","url":"https://api.github.com/users/thelabdude","html_url":"https://github.com/thelabdude","followers_url":"https://api.github.com/users/thelabdude/followers","following_url":"https://api.github.com/users/thelabdude/following{/other_user}","gists_url":"https://api.github.com/users/thelabdude/gists{/gist_id}","starred_url":"https://api.github.com/users/thelabdude/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thelabdude/subscriptions","organizations_url":"https://api.github.com/users/thelabdude/orgs","repos_url":"https://api.github.com/users/thelabdude/repos","events_url":"https://api.github.com/users/thelabdude/events{/privacy}","received_events_url":"https://api.github.com/users/thelabdude/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T15:02:20Z","updated_at":"2021-05-26T15:02:20Z","author_association":"CONTRIBUTOR","body":"Thanks for taking a look @HoustonPutman ... I addressed most of your concerns but there's some nuance around a few of your requests:\r\n\r\n>  I would like to be able to populate the example document with a document that exists. Maybe a button in the query results.\r\n\r\nI haven't implemented this yet. The query results only include sample documents already, so maybe you want to revise the sample documents in the paste text area? I think that's a valid thing to do and will think about this some more. My only concern would be adding another option that may complicate the experience. Can you elaborate on the user experience you want here?\r\n\r\n> Do we recommend the use of useDocValuesAsStored instead of stored?\r\n\r\nI'm not sure about whether that is a recommendation? Seems reasonable to me that if you're already using DocValues, then `useDocValuesAsStored` seems more efficient from a storage perspective (if you store and use doc values, then seems like you're doing double storage), but maybe there is some performance hit for doing this? I can certainly turn that off if we don't like defaulting to stored=false and useDocValuesAsStored=true.\r\n\r\n> When you analyze the fields it sometimes brings up a question about language and some options. Not clear that this is talking about the entire schema. Would be better to highlight the configName in the menu.\r\n\r\nThere are some gremlins in that jstree we're using where the selected node doesn't always show as selected in the tree. I've tried to improve this with my latest commit and seems to be rendering correctly. When the root node is selected, you see the panel with languages and options. Those apply to the entire schema. I added the schema name to that panel to help make this clear.\r\n\r\n> In the future it would be nice to have information on each of the options. Not sure what the best way to go about this is though.\r\n\r\nI think some of the options are pretty confusing and need supporting documentation, so have deferred to the ref guide via the help icon links vs. adding more docs directly in the Schema Designer UI.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848845362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848853798","html_url":"https://github.com/apache/solr/pull/42#issuecomment-848853798","issue_url":"https://api.github.com/repos/apache/solr/issues/42","id":848853798,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODg1Mzc5OA==","user":{"login":"thelabdude","id":417074,"node_id":"MDQ6VXNlcjQxNzA3NA==","avatar_url":"https://avatars.githubusercontent.com/u/417074?v=4","gravatar_id":"","url":"https://api.github.com/users/thelabdude","html_url":"https://github.com/thelabdude","followers_url":"https://api.github.com/users/thelabdude/followers","following_url":"https://api.github.com/users/thelabdude/following{/other_user}","gists_url":"https://api.github.com/users/thelabdude/gists{/gist_id}","starred_url":"https://api.github.com/users/thelabdude/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thelabdude/subscriptions","organizations_url":"https://api.github.com/users/thelabdude/orgs","repos_url":"https://api.github.com/users/thelabdude/repos","events_url":"https://api.github.com/users/thelabdude/events{/privacy}","received_events_url":"https://api.github.com/users/thelabdude/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T15:12:08Z","updated_at":"2021-05-26T15:12:08Z","author_association":"CONTRIBUTOR","body":"Thanks @epugh ... my latest commit should address most of your concerns ...\r\n\r\n> when \"Analyzing your sample data, schema will load momentarily\" text comes up, could we swap the gear for a moving animated gear icon?\r\n\r\ndone.\r\n\r\n> download products a file called \"download\", not a \"download.zip\", or even better... \"techproducts_configset.zip\"\r\n\r\ndone.\r\n\r\n> Is the config a config? Or a ConfigSet????\r\n\r\nWhere in the UI are you seeing mention of config? I've tried to refer to `Configset` but that's not really a term new users would really understand anyway, so I've taken some liberties on just focusing on `schema` in most places.\r\n\r\n> I wish the folder icon when clicked on would open it. Versus the small > arrow. This I find annoying in the SolrCloud ZK tree as well, though there you might argue you want to look at metadata.. I wish there it did both showing metadata and opened, and on schema designer it opened!\r\n\r\nDouble-click works, but I couldn't figure out how to get it to open on single-click. May not be supported by the underlying `jstree` UI component we're using.\r\n\r\n> I wonder if you could get more screen space by having any kind of paning close/open options?\r\n\r\nWe could probably allow closing the Sample documents area once the data is loaded, to give more room for the Schema Editor (middle section). There's also some wasted space on the right for Text Analysis if you're not looking at text fields. I'm curious what the minimum resolution / screen size we should design this for though? Having a view of your sample docs, schema, text analysis, and query tester form / results all in once place is crucial to the design.\r\n\r\n> in the facet listing, when you shift click you get all between the first and the second click, versus shift click letting you pick them individually, which I think is what you wanted!\r\n\r\nOk, I removed the tip about using shift as I'm not sure how it works on Windows. On Mac, it's cmd + click to select non-adjacent items. I guess we can just assume people will figure it out on their OS.\r\n\r\n> are there any features that you expose that NO ONE should ever use and could be removed???\r\n\r\nNot sure? You tell me ;-) Solr schema design is a complicated process and I've designed a solution to help with that, but the fact remains it's still pretty complicated but at least we can give users quick feedback and let them iterate in a safe manner.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848853798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848873024","html_url":"https://github.com/apache/solr/pull/42#issuecomment-848873024","issue_url":"https://api.github.com/repos/apache/solr/issues/42","id":848873024,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODg3MzAyNA==","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T15:34:28Z","updated_at":"2021-05-26T15:34:28Z","author_association":"CONTRIBUTOR","body":"> > I would like to be able to populate the example document with a document that exists. Maybe a button in the query results. \r\n\r\n> I haven't implemented this yet. The query results only include sample documents already, so maybe you want to revise the sample documents in the paste text area? I think that's a valid thing to do and will think about this some more. My only concern would be adding another option that may complicate the experience. Can you elaborate on the user experience you want here?\r\n\r\nFor sure. revising the sample documents is exactly what I want. If I manually input a complex document, I don't want to have to do it again by scratch. This could be in the next iteration, it's definitely not a deal breaker, just an inconvenience. Maybe there's just an option to see the JSON in the sample results screen, so I could copy and paste.\r\n\r\n> > Do we recommend the use of useDocValuesAsStored instead of stored?\r\n\r\n> I'm not sure about whether that is a recommendation? Seems reasonable to me that if you're already using DocValues, then useDocValuesAsStored seems more efficient from a storage perspective (if you store and use doc values, then seems like you're doing double storage), but maybe there is some performance hit for doing this? I can certainly turn that off if we don't like defaulting to stored=false and useDocValuesAsStored=true.\r\n\r\nI think I'm in the wrong here. I remember hearing rumblings of certain features that didn't support fields with `useDocValuesAsStored` only. But it seems like it's the default option in schemas with version 1.6. Anyway, if its an issue we can certainly fix it, or the missing `useDocValuesAsStored` features, in the future.\r\n\r\n> > In the future it would be nice to have information on each of the options. Not sure what the best way to go about this is though.\r\n\r\n> I think some of the options are pretty confusing and need supporting documentation, so have deferred to the ref guide via the help icon links vs. adding more docs directly in the Schema Designer UI.\r\n\r\n \r\n\r\nGreat work as always!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848873024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848885276","html_url":"https://github.com/apache/solr/pull/42#issuecomment-848885276","issue_url":"https://api.github.com/repos/apache/solr/issues/42","id":848885276,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODg4NTI3Ng==","user":{"login":"thelabdude","id":417074,"node_id":"MDQ6VXNlcjQxNzA3NA==","avatar_url":"https://avatars.githubusercontent.com/u/417074?v=4","gravatar_id":"","url":"https://api.github.com/users/thelabdude","html_url":"https://github.com/thelabdude","followers_url":"https://api.github.com/users/thelabdude/followers","following_url":"https://api.github.com/users/thelabdude/following{/other_user}","gists_url":"https://api.github.com/users/thelabdude/gists{/gist_id}","starred_url":"https://api.github.com/users/thelabdude/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thelabdude/subscriptions","organizations_url":"https://api.github.com/users/thelabdude/orgs","repos_url":"https://api.github.com/users/thelabdude/repos","events_url":"https://api.github.com/users/thelabdude/events{/privacy}","received_events_url":"https://api.github.com/users/thelabdude/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T15:44:21Z","updated_at":"2021-05-26T15:44:30Z","author_association":"CONTRIBUTOR","body":"> Maybe there's just an option to see the JSON in the sample results screen, so I could copy and paste.\r\n\r\nHa! Great idea ;-) I've been wanting to add that anyway, so this is another reason to do so. Thanks for the suggestion.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848885276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848943703","html_url":"https://github.com/apache/solr/pull/115#issuecomment-848943703","issue_url":"https://api.github.com/repos/apache/solr/issues/115","id":848943703,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODk0MzcwMw==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T16:53:43Z","updated_at":"2021-05-26T16:53:43Z","author_association":"CONTRIBUTOR","body":"Are we good here @noblepaul ?  You set \"change requested\" review status.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848943703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848950828","html_url":"https://github.com/apache/solr/pull/123#issuecomment-848950828","issue_url":"https://api.github.com/repos/apache/solr/issues/123","id":848950828,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODk1MDgyOA==","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T17:04:56Z","updated_at":"2021-05-26T17:04:56Z","author_association":"CONTRIBUTOR","body":"> ... I just had the time to look through your changes. ...\r\n\r\nThanks @tomglk for taking a look!\r\n\r\nI've added one more small polish commit to workaround us not yet having 'spotless' or other automatic code formatting for the `contrib/ltr` though #126 hopes to be a step in that direction.\r\n\r\nOtherwise I think we're all done here, what do you think?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848950828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/848967571","html_url":"https://github.com/apache/solr/pull/123#issuecomment-848967571","issue_url":"https://api.github.com/repos/apache/solr/issues/123","id":848967571,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODk2NzU3MQ==","user":{"login":"tomglk","id":58065733,"node_id":"MDQ6VXNlcjU4MDY1NzMz","avatar_url":"https://avatars.githubusercontent.com/u/58065733?v=4","gravatar_id":"","url":"https://api.github.com/users/tomglk","html_url":"https://github.com/tomglk","followers_url":"https://api.github.com/users/tomglk/followers","following_url":"https://api.github.com/users/tomglk/following{/other_user}","gists_url":"https://api.github.com/users/tomglk/gists{/gist_id}","starred_url":"https://api.github.com/users/tomglk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomglk/subscriptions","organizations_url":"https://api.github.com/users/tomglk/orgs","repos_url":"https://api.github.com/users/tomglk/repos","events_url":"https://api.github.com/users/tomglk/events{/privacy}","received_events_url":"https://api.github.com/users/tomglk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T17:26:22Z","updated_at":"2021-05-26T17:26:53Z","author_association":"CONTRIBUTOR","body":"Hi @cpoerschke ,thank you for the polishing and please excuse me for adding some spaces in these places. I tried to set up my IDE to mimic the correct formatting, but did not fully succeed.\r\n#126 sounds like a good approach to get to a point where we don't have many formatting changes that blow up the change list of a PR. That would make everything easier.\r\n\r\n> Otherwise I think we're all done here, what do you think?\r\n\r\nI think so too. :)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/848967571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/849021275","html_url":"https://github.com/apache/solr/pull/96#issuecomment-849021275","issue_url":"https://api.github.com/repos/apache/solr/issues/96","id":849021275,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTAyMTI3NQ==","user":{"login":"wrunderwood","id":10732577,"node_id":"MDQ6VXNlcjEwNzMyNTc3","avatar_url":"https://avatars.githubusercontent.com/u/10732577?v=4","gravatar_id":"","url":"https://api.github.com/users/wrunderwood","html_url":"https://github.com/wrunderwood","followers_url":"https://api.github.com/users/wrunderwood/followers","following_url":"https://api.github.com/users/wrunderwood/following{/other_user}","gists_url":"https://api.github.com/users/wrunderwood/gists{/gist_id}","starred_url":"https://api.github.com/users/wrunderwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wrunderwood/subscriptions","organizations_url":"https://api.github.com/users/wrunderwood/orgs","repos_url":"https://api.github.com/users/wrunderwood/repos","events_url":"https://api.github.com/users/wrunderwood/events{/privacy}","received_events_url":"https://api.github.com/users/wrunderwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T18:31:24Z","updated_at":"2023-08-30T12:14:37Z","author_association":"CONTRIBUTOR","body":"The existing CPU circuit breaker has an incorrect name, so yes, it is moved to a more accurate name.\n\nLoad average can include things besides CPU. In some systems, it includes threads in iowait. So it should not have CPU in the name.\n\nThe documentation explains what happens when the CPU circuit breaker is not available.\n\nYes, the tests are similar because the two circuit breakers take similar inputs.\n\nwunder\nWalter Underwood\n***@***.***\nhttp://observer.wunderwood.org/  (my blog)\n\n> On May 26, 2021, at 3:43 AM, Atri Sharma ***@***.***> wrote:\n> \n> \n> @atris requested changes on this pull request.\n> \n> In general, I see some code duplication that should be abstracted. Please see the comments, thanks!\n> \n> In solr/core/src/java/org/apache/solr/util/circuitbreaker/CPUCircuitBreaker.java <https://github.com/apache/solr/pull/96#discussion_r639600967>:\n> \n> > @@ -110,6 +113,27 @@ public double getCpuUsageThreshold() {\n>    }\n>  \n>    protected double calculateLiveCPUUsage() {\n> -    return operatingSystemMXBean.getSystemLoadAverage();\n> +    Metric metric = this.core\n> +        .getCoreContainer()\n> +        .getMetricManager()\n> +        .registry(\"solr.jvm\")\n> +        .getMetrics()\n> +        .get(\"os.systemCpuLoad\");\n> I dont quite understand this change -- so you are replacing the default CPU circuit breaker with a new implementation and moving the earlier implementation to a new class?\n> \n> IMO, both the circuit breakers operate on CPU, using different metrics. Both circuit breakers should be named in a way which represents the fact that they operate on CPU and highlight which metric they depend on.\n> \n> In solr/core/src/java/org/apache/solr/util/circuitbreaker/CPUCircuitBreaker.java <https://github.com/apache/solr/pull/96#discussion_r639601381>:\n> \n> > +\n> +    if (metric == null) {\n> +        return -1.0;\n> +    }\n> +\n> +    if (metric instanceof Gauge) {\n> +      @SuppressWarnings({\"rawtypes\"})\n> +          Gauge gauge = (Gauge) metric;\n> +      // unwrap if needed\n> +      if (gauge instanceof SolrMetricManager.GaugeWrapper) {\n> +        gauge = ((SolrMetricManager.GaugeWrapper) gauge).getGauge();\n> +      }\n> +      return ((Double) gauge.getValue()).doubleValue();\n> +    }\n> +\n> +    return -1.0;                // Unable to unpack metric\n> Please log a warning here -- we should not silently project that the system is not under load\n> \n> In solr/core/src/java/org/apache/solr/util/circuitbreaker/CircuitBreaker.java <https://github.com/apache/solr/pull/96#discussion_r639601638>:\n> \n> >  \n>      public CircuitBreakerConfig(final boolean enabled, final boolean memCBEnabled, final int memCBThreshold,\n> -                                  final boolean cpuCBEnabled, final int cpuCBThreshold) {\n> +                                final boolean cpuCBEnabled, final int cpuCBThreshold,\n> Rename to highlight the metric (like you did for loadAverageCB renaming)\n> \n> In solr/core/src/java/org/apache/solr/util/circuitbreaker/CircuitBreakerManager.java <https://github.com/apache/solr/pull/96#discussion_r639602156>:\n> \n> > @@ -40,12 +41,15 @@\n>   * solution. There will be a follow up with a SIP for a schema API design.\n>   */\n>  public class CircuitBreakerManager implements PluginInfoInitialized {\n> +  private final SolrCore core;\n> I am wary of adding a SolrCore dependency here since only one circuit breaker really uses it and this pollutes the API a fair bit.\n> \n> In solr/core/src/java/org/apache/solr/util/circuitbreaker/LoadAverageCircuitBreaker.java <https://github.com/apache/solr/pull/96#discussion_r639603549>:\n> \n> > +\n> +  @Override\n> +  public boolean isTripped() {\n> +    if (!isEnabled()) {\n> +      return false;\n> +    }\n> +\n> +    if (!enabled) {\n> +      return false;\n> +    }\n> +\n> +    double localAllowedLoadAverage = getLoadAverageThreshold();\n> +    double localSeenLoadAverage = calculateLiveLoadAverage();\n> +\n> +    if (localSeenLoadAverage < 0) {\n> +      if (log.isWarnEnabled()) {\n> There is a fair bit of overlap between the two circuit breakers -- can we move the common code and methods to a super class, and define the contract which both (and future) CPU circuit breakers need to adhere to?\n> \n> In solr/solr-ref-guide/src/circuit-breakers.adoc <https://github.com/apache/solr/pull/96#discussion_r639604003>:\n> \n> > +recent load average for the whole system. A \"load average\" is the number of processes using or waiting for a CPU,\n> +usually averaged over one minute. Some systems include processes waiting on IO in the load average. Check the\n> +documentation for your system and JVM to understand this metric. For more information, see the\n> +https://en.wikipedia.org/wiki/Load_(computing)[Wikipedia page for Load],\n> +\n> +Configuration for load average circuit breaker:\n> +\n> +[source,xml]\n> +----\n> +<str name=\"loadAverageEnabled\">true</str>\n> +----\n> +\n> +Note that this configuration will be overridden by the global circuit breaker flag -- if circuit breakers are disabled, this flag\n> +will not help you.\n> +\n> +The triggering threshold is a floating point number matching load average. This circuit breaker will trip when the\n> Not reviewing these changes -- will depend on Cassandra's review at some point\n> \n> In solr/core/src/test/org/apache/solr/util/TestCircuitBreaker.java <https://github.com/apache/solr/pull/96#discussion_r639604900>:\n> \n> > @@ -199,7 +201,63 @@ public void testFakeCPUCircuitBreaker() {\n>        PluginInfo pluginInfo = h.getCore().getSolrConfig().getPluginInfo(CircuitBreakerManager.class.getName());\n>  \n>        CircuitBreaker.CircuitBreakerConfig circuitBreakerConfig = CircuitBreakerManager.buildCBConfig(pluginInfo);\n> -      CircuitBreaker circuitBreaker = new FakeCPUCircuitBreaker(circuitBreakerConfig);\n> +      CircuitBreaker circuitBreaker = new FakeCPUCircuitBreaker(circuitBreakerConfig, null);\n> Please add a comment representing what the null stands for\n> \n> In solr/core/src/test/org/apache/solr/util/TestCircuitBreaker.java <https://github.com/apache/solr/pull/96#discussion_r639605898>:\n> \n> > +    } finally {\n> +      if (!executor.isShutdown()) {\n> +        executor.shutdown();\n> +      }\n> +    }\n> +  }\n> +\n> +  public void testFakeLoadAverageCircuitBreaker() {\n> +    AtomicInteger failureCount = new AtomicInteger();\n> +\n> +    ExecutorService executor = ExecutorUtil.newMDCAwareCachedThreadPool(\n> +        new SolrNamedThreadFactory(\"TestCircuitBreaker\"));\n> +    try {\n> +      removeAllExistingCircuitBreakers();\n> +\n> +      PluginInfo pluginInfo = h.getCore().getSolrConfig().getPluginInfo(CircuitBreakerManager.class.getName());\n> Isnt this test doing the exact same thing as the original CPU circuit breaker test, only using a different class?\n> \n> In solr/core/src/test/org/apache/solr/util/TestCircuitBreaker.java <https://github.com/apache/solr/pull/96#discussion_r639606722>:\n> \n> >      }\n>  \n>      @Override\n>      protected double calculateLiveCPUUsage() {\n>        return 92; // Return a value large enough to trigger the circuit breaker\n>      }\n>    }\n> +\n> +  private static class FakeLoadAverageCircuitBreaker extends LoadAverageCircuitBreaker {\n> +    public FakeLoadAverageCircuitBreaker(CircuitBreakerConfig config) {\n> Again, in this class not an exact copy of FakeCPUCircuitBreaker?\n> \n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/solr/pull/96#pullrequestreview-668855220>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/ACR4IINRJPCTF5S4PNJZEK3TPTGD3ANCNFSM43T5FIZA>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/849021275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/850459590","html_url":"https://github.com/apache/solr/pull/139#issuecomment-850459590","issue_url":"https://api.github.com/repos/apache/solr/issues/139","id":850459590,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDQ1OTU5MA==","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T14:30:03Z","updated_at":"2021-05-28T14:30:03Z","author_association":"CONTRIBUTOR","body":"I just integrated mock-oauth2-server, and finally was able to verify that you can configure JWTAuthPlugin with a PEM file and it is accepted by the mock server. Still have some cleanup to do\r\n* Create a negative test with a different cert, to see it failing\r\n* Reconsider use of SslFactory dependency and BouncyCastle to setup SSL. May instead check in a .jks or .p12 file for the tests.\r\n* Other feedback welcome","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/850459590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/850584543","html_url":"https://github.com/apache/solr/pull/81#issuecomment-850584543","issue_url":"https://api.github.com/repos/apache/solr/issues/81","id":850584543,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDU4NDU0Mw==","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T18:08:19Z","updated_at":"2021-05-28T18:08:19Z","author_association":"CONTRIBUTOR","body":"> Any of the remaining APIs would be great if the offer still stands - maybe ADDREPLICAPROPERTY and/or DELETEREPLICAPROPERTY ?\r\n\r\nReturning to this now - if I don't finish converting the commands today I'll post the remainder in case you get a few minutes to chip in David.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/850584543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/850596379","html_url":"https://github.com/apache/solr/pull/123#issuecomment-850596379","issue_url":"https://api.github.com/repos/apache/solr/issues/123","id":850596379,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDU5NjM3OQ==","user":{"login":"tomglk","id":58065733,"node_id":"MDQ6VXNlcjU4MDY1NzMz","avatar_url":"https://avatars.githubusercontent.com/u/58065733?v=4","gravatar_id":"","url":"https://api.github.com/users/tomglk","html_url":"https://github.com/tomglk","followers_url":"https://api.github.com/users/tomglk/followers","following_url":"https://api.github.com/users/tomglk/following{/other_user}","gists_url":"https://api.github.com/users/tomglk/gists{/gist_id}","starred_url":"https://api.github.com/users/tomglk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomglk/subscriptions","organizations_url":"https://api.github.com/users/tomglk/orgs","repos_url":"https://api.github.com/users/tomglk/repos","events_url":"https://api.github.com/users/tomglk/events{/privacy}","received_events_url":"https://api.github.com/users/tomglk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T18:34:06Z","updated_at":"2021-05-28T18:34:06Z","author_association":"CONTRIBUTOR","body":"Thank you for the great collaboration on this PR, @cpoerschke . I really did learn a lot thanks to your constructive remarks and had a lot of fun working on this. :)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/850596379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/850658268","html_url":"https://github.com/apache/solr/pull/107#issuecomment-850658268","issue_url":"https://api.github.com/repos/apache/solr/issues/107","id":850658268,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDY1ODI2OA==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T20:37:54Z","updated_at":"2021-05-28T20:37:54Z","author_association":"CONTRIBUTOR","body":"It'll be nice to see this changes merged... did you forget about this one @madrob?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/850658268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/850660464","html_url":"https://github.com/apache/solr/pull/107#issuecomment-850660464","issue_url":"https://api.github.com/repos/apache/solr/issues/107","id":850660464,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDY2MDQ2NA==","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T20:43:27Z","updated_at":"2021-05-28T20:43:27Z","author_association":"CONTRIBUTOR","body":"There was a merge conflict with some of Nobles work on the XPath stuff so I wanted to wait for a merge of that, but I suppose theres no major reason to hold up. Ill take care of this on Tuesday ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/850660464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/851110170","html_url":"https://github.com/apache/solr/pull/81#issuecomment-851110170","issue_url":"https://api.github.com/repos/apache/solr/issues/81","id":851110170,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MTExMDE3MA==","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-31T01:37:02Z","updated_at":"2021-05-31T01:37:02Z","author_association":"CONTRIBUTOR","body":"I've finished the APIs themselves and have tests for each of the v1->v2 conversions.  The last thing to be done here I think is splitting up the API commands into separate classes as per @dsmiley's feedback.\r\n\r\nOn that note - there's a bug that complicates doing this right now.  Each API class is registered individually by \"ApiBag\", which stores an Api object per HTTP method, per path.  When all commands for a given method and path are in the same class - this works well.  When commands for that method and path are split across different classes though - the registration for each one overrides the registrations before it.\r\n\r\nI've highlighted the line where this happens [here](https://github.com/apache/solr/pull/81/files#diff-20733c59d42a1a1a2b4164485888dc067db372fa2c7fdffb30d48c04ae2bed74R168), and suggested a few workarounds.  All of them seem a bit hacky at first glance.  Maybe one of the suggestions there is good enough, but I don't have tons of context on ApiBag (and the PathTrie class it relies on) and need to give it a bit more thought to know which is best.\r\n\r\n@noblepaul any suggestions on the best way to handle this?  Or am I missing something else that'd get me around this?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/851110170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/851602029","html_url":"https://github.com/apache/solr/pull/17#issuecomment-851602029","issue_url":"https://api.github.com/repos/apache/solr/issues/17","id":851602029,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MTYwMjAyOQ==","user":{"login":"NazerkeBS","id":33206532,"node_id":"MDQ6VXNlcjMzMjA2NTMy","avatar_url":"https://avatars.githubusercontent.com/u/33206532?v=4","gravatar_id":"","url":"https://api.github.com/users/NazerkeBS","html_url":"https://github.com/NazerkeBS","followers_url":"https://api.github.com/users/NazerkeBS/followers","following_url":"https://api.github.com/users/NazerkeBS/following{/other_user}","gists_url":"https://api.github.com/users/NazerkeBS/gists{/gist_id}","starred_url":"https://api.github.com/users/NazerkeBS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NazerkeBS/subscriptions","organizations_url":"https://api.github.com/users/NazerkeBS/orgs","repos_url":"https://api.github.com/users/NazerkeBS/repos","events_url":"https://api.github.com/users/NazerkeBS/events{/privacy}","received_events_url":"https://api.github.com/users/NazerkeBS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-31T17:08:41Z","updated_at":"2021-05-31T17:08:41Z","author_association":"CONTRIBUTOR","body":"I run tests locally and they passed. \r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/851602029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/852234862","html_url":"https://github.com/apache/solr/pull/156#issuecomment-852234862","issue_url":"https://api.github.com/repos/apache/solr/issues/156","id":852234862,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjIzNDg2Mg==","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T15:49:23Z","updated_at":"2021-06-01T15:49:23Z","author_association":"CONTRIBUTOR","body":"Not directly related to the PR, but is there a reason for using ZooKeeper.multi when only issuing 1 command?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/852234862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/852245710","html_url":"https://github.com/apache/solr/pull/135#issuecomment-852245710","issue_url":"https://api.github.com/repos/apache/solr/issues/135","id":852245710,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjI0NTcxMA==","user":{"login":"asalamon74","id":13440318,"node_id":"MDQ6VXNlcjEzNDQwMzE4","avatar_url":"https://avatars.githubusercontent.com/u/13440318?v=4","gravatar_id":"","url":"https://api.github.com/users/asalamon74","html_url":"https://github.com/asalamon74","followers_url":"https://api.github.com/users/asalamon74/followers","following_url":"https://api.github.com/users/asalamon74/following{/other_user}","gists_url":"https://api.github.com/users/asalamon74/gists{/gist_id}","starred_url":"https://api.github.com/users/asalamon74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asalamon74/subscriptions","organizations_url":"https://api.github.com/users/asalamon74/orgs","repos_url":"https://api.github.com/users/asalamon74/repos","events_url":"https://api.github.com/users/asalamon74/events{/privacy}","received_events_url":"https://api.github.com/users/asalamon74/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T16:04:14Z","updated_at":"2021-06-01T16:04:14Z","author_association":"CONTRIBUTOR","body":"Thanks @dsmiley I added the CHANGES.txt entry and also changed the commit message to match it. Feel free to suggest a new text if necessary. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/852245710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/852262983","html_url":"https://github.com/apache/solr/pull/152#issuecomment-852262983","issue_url":"https://api.github.com/repos/apache/solr/issues/152","id":852262983,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjI2Mjk4Mw==","user":{"login":"NazerkeBS","id":33206532,"node_id":"MDQ6VXNlcjMzMjA2NTMy","avatar_url":"https://avatars.githubusercontent.com/u/33206532?v=4","gravatar_id":"","url":"https://api.github.com/users/NazerkeBS","html_url":"https://github.com/NazerkeBS","followers_url":"https://api.github.com/users/NazerkeBS/followers","following_url":"https://api.github.com/users/NazerkeBS/following{/other_user}","gists_url":"https://api.github.com/users/NazerkeBS/gists{/gist_id}","starred_url":"https://api.github.com/users/NazerkeBS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NazerkeBS/subscriptions","organizations_url":"https://api.github.com/users/NazerkeBS/orgs","repos_url":"https://api.github.com/users/NazerkeBS/repos","events_url":"https://api.github.com/users/NazerkeBS/events{/privacy}","received_events_url":"https://api.github.com/users/NazerkeBS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T16:29:05Z","updated_at":"2021-06-01T16:29:05Z","author_association":"CONTRIBUTOR","body":"When `processAndWait` is used in `OverseerModifyCollectionTest#testModifyColl` , the test case fails as ASYNC key is added. \r\nInstead of adding a new test case, I refactored it.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/852262983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/852387820","html_url":"https://github.com/apache/solr/pull/96#issuecomment-852387820","issue_url":"https://api.github.com/repos/apache/solr/issues/96","id":852387820,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjM4NzgyMA==","user":{"login":"atris","id":1724131,"node_id":"MDQ6VXNlcjE3MjQxMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1724131?v=4","gravatar_id":"","url":"https://api.github.com/users/atris","html_url":"https://github.com/atris","followers_url":"https://api.github.com/users/atris/followers","following_url":"https://api.github.com/users/atris/following{/other_user}","gists_url":"https://api.github.com/users/atris/gists{/gist_id}","starred_url":"https://api.github.com/users/atris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atris/subscriptions","organizations_url":"https://api.github.com/users/atris/orgs","repos_url":"https://api.github.com/users/atris/repos","events_url":"https://api.github.com/users/atris/events{/privacy}","received_events_url":"https://api.github.com/users/atris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T19:26:22Z","updated_at":"2023-08-30T12:13:54Z","author_association":"CONTRIBUTOR","body":"> The existing CPU circuit breaker has an incorrect name, so yes, it is moved to a more accurate name.\n> \n> Load average can include things besides CPU. In some systems, it includes threads in iowait. So it should not have CPU in the name.\n> \n> The documentation explains what happens when the CPU circuit breaker is not available.\n> \n> Yes, the tests are similar because the two circuit breakers take similar inputs.\n\n\nThank you for clarifying.\n\nMy stand still remains the same -- it is a good practice to explicitly list what metrics the CPU circuit breaker is using.\n\nFor the load average, I agree that it can include auxiliary inputs but always contains CPU as a factor, hence the CPU in name suggestion. It is not a blocker though.\n\nIn general, I have two objections:\n\n1. API changes for the new circuit breaker -- this is causing unnecessary noise across a lot of files.\n\n2. Duplication of code -- a significant amount of code is duplicated between load average circuit breaker and the new circuit breaker.\n\nPlease address these issues and iterate.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/852387820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/852547223","html_url":"https://github.com/apache/solr/pull/157#issuecomment-852547223","issue_url":"https://api.github.com/repos/apache/solr/issues/157","id":852547223,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjU0NzIyMw==","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T23:10:57Z","updated_at":"2021-06-01T23:10:57Z","author_association":"CONTRIBUTOR","body":"All Solr tests pass. Merging to main branch to get some Jenkins runs before we decide whether to backport to 8x.\r\n```\r\nBUILD SUCCESSFUL in 30m 12s\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/852547223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/852552670","html_url":"https://github.com/apache/solr/pull/157#issuecomment-852552670","issue_url":"https://api.github.com/repos/apache/solr/issues/157","id":852552670,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjU1MjY3MA==","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T23:22:06Z","updated_at":"2021-06-01T23:22:06Z","author_association":"CONTRIBUTOR","body":"@madrob please review even if I merged to main already. If you find anything serious, then we can revert...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/852552670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/852715572","html_url":"https://github.com/apache/solr/pull/107#issuecomment-852715572","issue_url":"https://api.github.com/repos/apache/solr/issues/107","id":852715572,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjcxNTU3Mg==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T04:39:10Z","updated_at":"2021-06-02T04:39:10Z","author_association":"CONTRIBUTOR","body":"I used IntelliJ's \"inspections\" to find cases where we no longer need to suppress certain warnings.  There were false positives from precommit that I reverted back.  \r\n\r\nClusterStateProvider.getClusterProperty was a curious case, where the generics there were not helpful and forced the need to suppress on implementing classes even if they don't override that method.  So I removed generics there.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/852715572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/852925108","html_url":"https://github.com/apache/solr/pull/158#issuecomment-852925108","issue_url":"https://api.github.com/repos/apache/solr/issues/158","id":852925108,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjkyNTEwOA==","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T10:49:32Z","updated_at":"2021-06-02T10:49:32Z","author_association":"CONTRIBUTOR","body":"@dsmiley @janhoy @madrob @munendrasn @romseygeek @sarowe , the issue with sow and mm found in: https://github.com/apache/solr/pull/129 has been isolated here and it's ready for an initial review.\r\nOnce approved I'll move to add CHANGES.txt and other burocracy stuff","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/852925108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/852925576","html_url":"https://github.com/apache/solr/pull/129#issuecomment-852925576","issue_url":"https://api.github.com/repos/apache/solr/issues/129","id":852925576,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjkyNTU3Ng==","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T10:50:20Z","updated_at":"2021-06-02T10:50:20Z","author_association":"CONTRIBUTOR","body":"Sister issue and PR has been added:\r\nhttps://issues.apache.org/jira/browse/SOLR-15449\r\nhttps://github.com/apache/solr/pull/158\r\n\r\nI am going now to clean this PR just leaving the string field part","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/852925576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/852936901","html_url":"https://github.com/apache/solr/pull/129#issuecomment-852936901","issue_url":"https://api.github.com/repos/apache/solr/issues/129","id":852936901,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjkzNjkwMQ==","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T11:09:22Z","updated_at":"2021-06-02T11:09:22Z","author_association":"CONTRIBUTOR","body":"Pull Request has been cleaned, only the fix related with the Jira issue is now present.\r\ni'll summarize it again.\r\n\r\n**Index Time**\r\nConfiguring a field to be \"StrField\" or \"text\" with a keyword tokenizer builds an inverted index with a single token per field value.\r\n\r\n\r\n**Expected Query Time behaviour**\r\nAs a user using the edismax and typing a full text query I expect:\r\nsow=false -> to not split on whitespace and delegate to the field text analysis (that for a StrField will not tokenize)\r\nsow=true -> to split on whitespace independently of the field type\r\n\r\n** Current Incorrect Behaviour **\r\nIf I query a \"StrField\" type or a text field type Keyword Tokenized, I get two different behaviours :\r\nsow=false -> it splits on whitespace anyway for StrField, causing incorrect results, for Keyword Tokenized texts, it works correctly\r\nsow=true -> to split on whitespace independently of the field type, it works correctly\r\n\r\nThe changes are clear in the tests\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/852936901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/852982397","html_url":"https://github.com/apache/solr/pull/107#issuecomment-852982397","issue_url":"https://api.github.com/repos/apache/solr/issues/107","id":852982397,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Mjk4MjM5Nw==","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T12:24:15Z","updated_at":"2021-06-02T12:24:15Z","author_association":"CONTRIBUTOR","body":"What is the IntelliJ inspection called? I tried to find it but couldnt. :(","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/852982397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853062851","html_url":"https://github.com/apache/solr/pull/107#issuecomment-853062851","issue_url":"https://api.github.com/repos/apache/solr/issues/107","id":853062851,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzA2Mjg1MQ==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T14:12:14Z","updated_at":"2021-06-02T14:12:14Z","author_association":"CONTRIBUTOR","body":"\"Redundant suppression\".  AFAICT you can't restrict to particular suppressions, and be aware it's decisions may disagree with Gradle and thus we must adhere to Gradle.  Many rawtypes suppressions were recommended to be removed yet they couldn't be because -- https://www.oreilly.com/library/view/learning-java-4th/9781449372477/ch08s10.html","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853062851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853076846","html_url":"https://github.com/apache/solr/pull/152#issuecomment-853076846","issue_url":"https://api.github.com/repos/apache/solr/issues/152","id":853076846,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzA3Njg0Ng==","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T14:29:13Z","updated_at":"2021-06-02T14:29:13Z","author_association":"CONTRIBUTOR","body":"Can you please add a CHANGES.txt entry?  Please add an 8.10 section.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853076846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853111093","html_url":"https://github.com/apache/solr/pull/159#issuecomment-853111093","issue_url":"https://api.github.com/repos/apache/solr/issues/159","id":853111093,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzExMTA5Mw==","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T15:11:21Z","updated_at":"2021-06-02T15:11:21Z","author_association":"CONTRIBUTOR","body":"Did you see the precommit failure on missing license header @tboeghk ?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853111093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853328967","html_url":"https://github.com/apache/solr/pull/96#issuecomment-853328967","issue_url":"https://api.github.com/repos/apache/solr/issues/96","id":853328967,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzMyODk2Nw==","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T19:33:43Z","updated_at":"2023-08-30T12:14:04Z","author_association":"CONTRIBUTOR","body":"So one possibility is to change the implementation of the existing `CPUCircuitBreaker` class and to add a new `LoadAverageCircuitBreaker` class which has the same behaviour as the existing `CPUCircuitBreaker` class. Changing an existing class's behaviour may bring backwards compatibility concerns and there being two related circuit breaker classes may raise questions of code duplication and whether or not to factor out a common base class.\r\n\r\nI wonder if another possibility could be to have a single `CPUCircuitBreaker` class and for a configurable attribute to determine the implementation's behaviour:\r\n\r\nExisting users with a configuration like this\r\n\r\n```\r\n<circuitBreaker class=\"solr.CircuitBreakerManager\" enabled=\"true\">\r\n  <str name=\"cpuEnabled\">true</str>\r\n  <str name=\"cpuThreshold\">42</str>\r\n</circuitBreaker>\r\n```\r\n\r\nwould continue to get their existing behaviour, equivalent to\r\n\r\n```\r\n<circuitBreaker class=\"solr.CircuitBreakerManager\" enabled=\"true\">\r\n  <str name=\"cpuEnabled\">true</str>\r\n  <str name=\"cpuThreshold\">42</str>\r\n  <str name=\"cpuMethod\">OperatingSystemMXBean</str>\r\n</circuitBreaker>\r\n```\r\n\r\nconfiguration and users wishing to use the new alternative implementation can do so via\r\n\r\n```\r\n<circuitBreaker class=\"solr.CircuitBreakerManager\" enabled=\"true\">\r\n  <str name=\"cpuEnabled\">true</str>\r\n  <str name=\"cpuThreshold\">7</str>\r\n  <str name=\"cpuMethod\">SolrMetricManager</str>\r\n</circuitBreaker>\r\n```\r\n\r\nconfiguration.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853328967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853331275","html_url":"https://github.com/apache/solr/pull/156#issuecomment-853331275","issue_url":"https://api.github.com/repos/apache/solr/issues/156","id":853331275,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzMzMTI3NQ==","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T19:37:27Z","updated_at":"2021-06-02T19:37:27Z","author_association":"CONTRIBUTOR","body":"> Not directly related to the PR, but is there a reason for using ZooKeeper.multi when only issuing 1 command?\r\n\r\nInteresting question! From a quick look at the ZooKeeper docs I could see no reasons for preferring `multi` over the single command equivalent.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853331275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853333462","html_url":"https://github.com/apache/solr/pull/152#issuecomment-853333462","issue_url":"https://api.github.com/repos/apache/solr/issues/152","id":853333462,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzMzMzQ2Mg==","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T19:41:21Z","updated_at":"2021-06-02T19:41:21Z","author_association":"CONTRIBUTOR","body":"Maybe also update the https://solr.apache.org/guide/8_8/collection-management.html#modifycollection to mention the (now supported) `async` parameter.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853333462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853347376","html_url":"https://github.com/apache/solr/pull/96#issuecomment-853347376","issue_url":"https://api.github.com/repos/apache/solr/issues/96","id":853347376,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzM0NzM3Ng==","user":{"login":"wrunderwood","id":10732577,"node_id":"MDQ6VXNlcjEwNzMyNTc3","avatar_url":"https://avatars.githubusercontent.com/u/10732577?v=4","gravatar_id":"","url":"https://api.github.com/users/wrunderwood","html_url":"https://github.com/wrunderwood","followers_url":"https://api.github.com/users/wrunderwood/followers","following_url":"https://api.github.com/users/wrunderwood/following{/other_user}","gists_url":"https://api.github.com/users/wrunderwood/gists{/gist_id}","starred_url":"https://api.github.com/users/wrunderwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wrunderwood/subscriptions","organizations_url":"https://api.github.com/users/wrunderwood/orgs","repos_url":"https://api.github.com/users/wrunderwood/repos","events_url":"https://api.github.com/users/wrunderwood/events{/privacy}","received_events_url":"https://api.github.com/users/wrunderwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T20:05:08Z","updated_at":"2023-08-30T12:14:15Z","author_association":"CONTRIBUTOR","body":"That is what this patch does, move the existing behavior to a load average circuit breaker and create a new CPU usage circuit breaker.\n\nCombining the two has a problem. The range of values for the two metrics are quite different. CPU usage is limited to 0 to 1.0. Load average is unbounded, and useful limits are much greater than 1.0, typically set at the number of CPUs in the system. On a 32-way system, a good limit would be around 32.\n\nAlso, load average is not a CPU metric. It is a system load metric. On Linux, it includes processes waiting on IO.\n\nI dont think we need to worry about existing users. With the load average (CPU) circuit breaker limited to 1.0, it is not usable.\n\nwunder\nWalter Underwood\n***@***.***\nhttp://observer.wunderwood.org/  (my blog)\n\n> On Jun 2, 2021, at 12:33 PM, Christine Poerschke ***@***.***> wrote:\n> \n> \n> So one possibility is to change the implementation of the existing CPUCircuitBreaker class and to add a new LoadAverageCircuitBreaker class which has the same behaviour as the existing CPUCircuitBreaker class. Changing an existing class's behaviour may bring backwards compatibility concerns and there being two related circuit breaker classes may raise questions of code duplication and whether or not to factor out a common base class.\n> \n> I wonder if another possibility could be to have a single CPUCircuitBreaker class and for a configurable attribute to determine the implementation's behaviour:\n> \n> Existing users with a configuration like this\n> \n> <circuitBreaker class=\"solr.CircuitBreakerManager\" enabled=\"true\">\n>   <str name=\"cpuEnabled\">true</str>\n>   <str name=\"cpuThreshold\">42</str>\n> </circuitBreaker>\n> would continue to get their existing behaviour, equivalent to\n> \n> <circuitBreaker class=\"solr.CircuitBreakerManager\" enabled=\"true\">\n>   <str name=\"cpuEnabled\">true</str>\n>   <str name=\"cpuThreshold\">42</str>\n>   <str name=\"cpuMethod\">OperatingSystemMXBean</str>\n> </circuitBreaker>\n> configuration and users wishing to use the new alternative implementation can do so via\n> \n> <circuitBreaker class=\"solr.CircuitBreakerManager\" enabled=\"true\">\n>   <str name=\"cpuEnabled\">true</str>\n>   <str name=\"cpuThreshold\">7</str>\n>   <str name=\"cpuMethod\">SolrMetricManager</str>\n> </circuitBreaker>\n> configuration.\n> \n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/solr/pull/96#issuecomment-853328967>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/ACR4IINBRUWYVWNQNUBJ6NTTQ2BSPANCNFSM43T5FIZA>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853347376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853358369","html_url":"https://github.com/apache/solr/pull/96#issuecomment-853358369","issue_url":"https://api.github.com/repos/apache/solr/issues/96","id":853358369,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzM1ODM2OQ==","user":{"login":"atris","id":1724131,"node_id":"MDQ6VXNlcjE3MjQxMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1724131?v=4","gravatar_id":"","url":"https://api.github.com/users/atris","html_url":"https://github.com/atris","followers_url":"https://api.github.com/users/atris/followers","following_url":"https://api.github.com/users/atris/following{/other_user}","gists_url":"https://api.github.com/users/atris/gists{/gist_id}","starred_url":"https://api.github.com/users/atris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atris/subscriptions","organizations_url":"https://api.github.com/users/atris/orgs","repos_url":"https://api.github.com/users/atris/repos","events_url":"https://api.github.com/users/atris/events{/privacy}","received_events_url":"https://api.github.com/users/atris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T20:23:21Z","updated_at":"2023-08-30T12:14:25Z","author_association":"CONTRIBUTOR","body":"Hi Christine,\n\nYes, merging the two circuit breakers makes sense as long as we separate out the configurations distinctly.\n\nAlternative is to have the common code (and test code) in parent classes with both the circuit breakers and their infrastructure deriving from them.\n\nYour point about back compatibility is important. At work, we use the CPU circuit breaker, and I am sure many other users do, too.\n\nRenaming existing functionality will break that.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853358369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853380214","html_url":"https://github.com/apache/solr/pull/129#issuecomment-853380214","issue_url":"https://api.github.com/repos/apache/solr/issues/129","id":853380214,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzM4MDIxNA==","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T21:02:04Z","updated_at":"2021-06-02T21:02:04Z","author_association":"CONTRIBUTOR","body":"> ** Current Incorrect Behaviour **\r\n> If I query a \"StrField\" type or a text field type Keyword Tokenized, I get two different behaviours :\r\n> sow=false -> it splits on whitespace anyway for StrField, causing incorrect results, for Keyword Tokenized texts, it works correctly\r\n> sow=true -> to split on whitespace independently of the field type, it works correctly\r\n\r\nThis summary is helpful. If starting with a clean slate, perhaps the \"correct\" behavior should be as you've outlined -- but then I would think you'd want the same strict \"non-splitting\" behavior for integer fields. My gut reaction is that this is a very unusual use case (configuring a StrField or integer field as `qf`). In fact, a strong argument in principal for \"strict\" non-splitting behavior would be to effectively discourage this kind of configuration in the first place!\r\n\r\nUltimately though I think I'm converging on agreement with https://github.com/apache/solr/pull/129/files#r638071458 ... tbh I'm having a hard time imagining a use case where the configuration in question (or its current behavior) would be desirable; but assuming there may be such use cases already in place, this change could surely disrupt them.\r\n\r\nPerhaps the fact that keyword-tokenized text fields currently work \"correctly\" (as defined above) could be employed to address this issue going forward for certain use-cases, rather than changing existing behavior? Keyword-tokenized text would also seem more appropriate to the `edismax` use-case, by providing analysis for text _normalization_ (the lack of which strikes me as the most unusual aspect of configuring StrField `qf`). \r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853380214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853410595","html_url":"https://github.com/apache/solr/pull/96#issuecomment-853410595","issue_url":"https://api.github.com/repos/apache/solr/issues/96","id":853410595,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzQxMDU5NQ==","user":{"login":"wrunderwood","id":10732577,"node_id":"MDQ6VXNlcjEwNzMyNTc3","avatar_url":"https://avatars.githubusercontent.com/u/10732577?v=4","gravatar_id":"","url":"https://api.github.com/users/wrunderwood","html_url":"https://github.com/wrunderwood","followers_url":"https://api.github.com/users/wrunderwood/followers","following_url":"https://api.github.com/users/wrunderwood/following{/other_user}","gists_url":"https://api.github.com/users/wrunderwood/gists{/gist_id}","starred_url":"https://api.github.com/users/wrunderwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wrunderwood/subscriptions","organizations_url":"https://api.github.com/users/wrunderwood/orgs","repos_url":"https://api.github.com/users/wrunderwood/repos","events_url":"https://api.github.com/users/wrunderwood/events{/privacy}","received_events_url":"https://api.github.com/users/wrunderwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T21:57:52Z","updated_at":"2023-08-30T12:15:21Z","author_association":"CONTRIBUTOR","body":"Anyone running this on a multi-CPU machine should disable it immediately.\n\nThe documentation says it will reject traffic when total CPU usage reaches a limit, but it will really reject traffic when a single CPU reaches that limit or when one process is blocked on IO. The remaining CPUs will be idle.\n\nWhoever implemented this did not understand how the load average metric works.\n\nThe current behavior is a bug and should not be used in production. Solr is not required to keep back compatibility with bugs.\n\nwunder\nWalter Underwood\n***@***.***\nhttp://observer.wunderwood.org/  (my blog)\n\n> On Jun 2, 2021, at 1:23 PM, Atri Sharma ***@***.***> wrote:\n> \n> \n> Hi Christine,\n> \n> Yes, merging the two circuit breakers makes sense as long as we separate out the configurations distinctly.\n> \n> Alternative is to have the common code (and test code) in parent classes with both the circuit breakers and their infrastructure deriving from them.\n> \n> Your point about back compatibility is important. At work, we use the CPU circuit breaker, and I am sure many other users do, too.\n> \n> Renaming existing functionality will break that.\n> \n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/solr/pull/96#issuecomment-853358369>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/ACR4IIIMOEP5VQYUW5VEE6LTQ2HMRANCNFSM43T5FIZA>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853410595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853442218","html_url":"https://github.com/apache/solr/pull/96#issuecomment-853442218","issue_url":"https://api.github.com/repos/apache/solr/issues/96","id":853442218,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzQ0MjIxOA==","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T23:14:54Z","updated_at":"2023-08-30T12:15:32Z","author_association":"CONTRIBUTOR","body":"> Whoever implemented this did not understand how the load average metric works.\r\n\r\nPlease keep the discussion factual and about the code, not the people.\r\n\r\nI think the chosen path of having separate LoadAvg and CpuPct implementations is better than some extra flag to choose. This keeps the configuration more direct and clear, and the documentation of `cpuThreshold` will not be conditional on another parameter - the two impls can be documented separate from each other.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853442218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853452250","html_url":"https://github.com/apache/solr/pull/96#issuecomment-853452250","issue_url":"https://api.github.com/repos/apache/solr/issues/96","id":853452250,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzQ1MjI1MA==","user":{"login":"wrunderwood","id":10732577,"node_id":"MDQ6VXNlcjEwNzMyNTc3","avatar_url":"https://avatars.githubusercontent.com/u/10732577?v=4","gravatar_id":"","url":"https://api.github.com/users/wrunderwood","html_url":"https://github.com/wrunderwood","followers_url":"https://api.github.com/users/wrunderwood/followers","following_url":"https://api.github.com/users/wrunderwood/following{/other_user}","gists_url":"https://api.github.com/users/wrunderwood/gists{/gist_id}","starred_url":"https://api.github.com/users/wrunderwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wrunderwood/subscriptions","organizations_url":"https://api.github.com/users/wrunderwood/orgs","repos_url":"https://api.github.com/users/wrunderwood/repos","events_url":"https://api.github.com/users/wrunderwood/events{/privacy}","received_events_url":"https://api.github.com/users/wrunderwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T23:43:28Z","updated_at":"2023-08-30T12:15:48Z","author_association":"CONTRIBUTOR","body":"I apologize for the personal comment.\n\nThe documentation and name describe a CPU utilization circuit breaker. The implementation is a load average metric. Load average is not a CPU utilization metric. The limits on the circuit breaker dont match the range of the metric for load average.\n\nThe implementation makes an incorrect assumption. That is a bug. It is actually a double bug. The implementation does not match the documentation, but if you figure out the implementation, the limit on thresholds makes it unusable on multi-CPU systems.\n\nwunder\nWalter Underwood\n***@***.***\nhttp://observer.wunderwood.org/  (my blog)\n\n> On Jun 2, 2021, at 4:15 PM, Jan Hydahl ***@***.***> wrote:\n> \n> \n> Whoever implemented this did not understand how the load average metric works.\n> \n> Please keep the discussion factual and about the code, not the people.\n> \n> I think the chosen path of having separate LoadAvg and CpuPct implementations is better than some extra flag to choose. This keeps the configuration more direct and clear, and the documentation of cpuThreshold will not be conditional on another parameter - the two impls can be documented separate from each other.\n> \n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/solr/pull/96#issuecomment-853442218>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/ACR4IILGJTAHOMGVXL6PA7DTQ23PXANCNFSM43T5FIZA>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853452250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853490514","html_url":"https://github.com/apache/solr/pull/91#issuecomment-853490514","issue_url":"https://api.github.com/repos/apache/solr/issues/91","id":853490514,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzQ5MDUxNA==","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T01:26:04Z","updated_at":"2021-06-03T01:26:04Z","author_association":"CONTRIBUTOR","body":"Okay, I think I'm done with the schema-api.adoc page.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853490514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853507516","html_url":"https://github.com/apache/solr/pull/42#issuecomment-853507516","issue_url":"https://api.github.com/repos/apache/solr/issues/42","id":853507516,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzUwNzUxNg==","user":{"login":"MarcusSorealheis","id":2353608,"node_id":"MDQ6VXNlcjIzNTM2MDg=","avatar_url":"https://avatars.githubusercontent.com/u/2353608?v=4","gravatar_id":"","url":"https://api.github.com/users/MarcusSorealheis","html_url":"https://github.com/MarcusSorealheis","followers_url":"https://api.github.com/users/MarcusSorealheis/followers","following_url":"https://api.github.com/users/MarcusSorealheis/following{/other_user}","gists_url":"https://api.github.com/users/MarcusSorealheis/gists{/gist_id}","starred_url":"https://api.github.com/users/MarcusSorealheis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarcusSorealheis/subscriptions","organizations_url":"https://api.github.com/users/MarcusSorealheis/orgs","repos_url":"https://api.github.com/users/MarcusSorealheis/repos","events_url":"https://api.github.com/users/MarcusSorealheis/events{/privacy}","received_events_url":"https://api.github.com/users/MarcusSorealheis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T02:15:40Z","updated_at":"2021-06-03T02:15:40Z","author_association":"CONTRIBUTOR","body":"Schema Designer should not simply throw generic errors that do no help the user. For instance, when a user tries to create a field that already exists, there is just an error processing banner. Ideally, you could grab the important detail in the response body and show it to the user. Consider `data[\"error\"][\"details\"][0][\"errorMessages\"][0]` as seen below to populate the banner with something helpful to the user:\r\n```\r\nPossibly unhandled rejection: {\"data\":{\"responseHeader\":{\"status\":400,\"QTime\":1},\"error\":{\"metadata\":[\"error-class\",\"org.apache.solr.api.ApiBag$ExceptionWithErrObject\",\"root-error-class\",\"org.apache.solr.api.ApiBag$ExceptionWithErrObject\"],\"details\":[{\"add-field\":{\"stored\":\"true\",\"indexed\":\"true\",\"uninvertible\":\"true\",\"name\":\"name\",\"type\":\"string\"},\"errorMessages\":[\"Field 'name' already exists.\\n\"]}],\"msg\":\"error processing commands\",\"code\":400}},\"status\":400,\"config\":{\"method\":\"POST\",\"transformRequest\":[null],\"transformResponse\":[null],\"jsonpCallbackParam\":\"callback\",\"data\":{\"add-field\":{\"stored\":\"true\",\"indexed\":\"true\",\"uninvertible\":\"true\",\"name\":\"name\",\"type\":\"string\"}},\"url\":\"techproducts/schema\",\"params\":{\"wt\":\"json\",\"_\":1622686070279},\"headers\":{\"Accept\":\"application/json, text/plain, */*\",\"X-Requested-With\":\"XMLHttpRequest\",\"Content-Type\":\"application/json;charset=utf-8\"},\"timeout\":10000},\"statusText\":\"Bad Request\",\"xhrStatus\":\"complete\",\"resource\":{\"add-field\":\"...\"}}```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853507516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853527455","html_url":"https://github.com/apache/solr/pull/42#issuecomment-853527455","issue_url":"https://api.github.com/repos/apache/solr/issues/42","id":853527455,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzUyNzQ1NQ==","user":{"login":"MarcusSorealheis","id":2353608,"node_id":"MDQ6VXNlcjIzNTM2MDg=","avatar_url":"https://avatars.githubusercontent.com/u/2353608?v=4","gravatar_id":"","url":"https://api.github.com/users/MarcusSorealheis","html_url":"https://github.com/MarcusSorealheis","followers_url":"https://api.github.com/users/MarcusSorealheis/followers","following_url":"https://api.github.com/users/MarcusSorealheis/following{/other_user}","gists_url":"https://api.github.com/users/MarcusSorealheis/gists{/gist_id}","starred_url":"https://api.github.com/users/MarcusSorealheis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarcusSorealheis/subscriptions","organizations_url":"https://api.github.com/users/MarcusSorealheis/orgs","repos_url":"https://api.github.com/users/MarcusSorealheis/repos","events_url":"https://api.github.com/users/MarcusSorealheis/events{/privacy}","received_events_url":"https://api.github.com/users/MarcusSorealheis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T03:08:23Z","updated_at":"2021-06-03T03:08:40Z","author_association":"CONTRIBUTOR","body":"there's also a few security exceptions that if thrown in the wrong corporate org could start problematic conversations running SOLR. Everything is under scrutiny right now given the recent events.\r\n\r\nTo fix those errors referencing image resources being blocked by the CSP, we need to add this clause to `jetty.xml`: `img-src 'self' data:`. The change will still restrict img resources to the host but it will allow SVG and IMG. We cannot be more specific because of the port. :) It is a replacement of the existing `img-srv 'self'`.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853527455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853605016","html_url":"https://github.com/apache/solr/pull/159#issuecomment-853605016","issue_url":"https://api.github.com/repos/apache/solr/issues/159","id":853605016,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzYwNTAxNg==","user":{"login":"tboeghk","id":557264,"node_id":"MDQ6VXNlcjU1NzI2NA==","avatar_url":"https://avatars.githubusercontent.com/u/557264?v=4","gravatar_id":"","url":"https://api.github.com/users/tboeghk","html_url":"https://github.com/tboeghk","followers_url":"https://api.github.com/users/tboeghk/followers","following_url":"https://api.github.com/users/tboeghk/following{/other_user}","gists_url":"https://api.github.com/users/tboeghk/gists{/gist_id}","starred_url":"https://api.github.com/users/tboeghk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tboeghk/subscriptions","organizations_url":"https://api.github.com/users/tboeghk/orgs","repos_url":"https://api.github.com/users/tboeghk/repos","events_url":"https://api.github.com/users/tboeghk/events{/privacy}","received_events_url":"https://api.github.com/users/tboeghk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T06:28:53Z","updated_at":"2021-06-03T06:28:53Z","author_association":"CONTRIBUTOR","body":"Whoopsie, my bad, ran the `gradlew check` with `-Pvalidation.git.failOnModified=false`. Added license header in the last commit","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853605016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853617796","html_url":"https://github.com/apache/solr/pull/159#issuecomment-853617796","issue_url":"https://api.github.com/repos/apache/solr/issues/159","id":853617796,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzYxNzc5Ng==","user":{"login":"tboeghk","id":557264,"node_id":"MDQ6VXNlcjU1NzI2NA==","avatar_url":"https://avatars.githubusercontent.com/u/557264?v=4","gravatar_id":"","url":"https://api.github.com/users/tboeghk","html_url":"https://github.com/tboeghk","followers_url":"https://api.github.com/users/tboeghk/followers","following_url":"https://api.github.com/users/tboeghk/following{/other_user}","gists_url":"https://api.github.com/users/tboeghk/gists{/gist_id}","starred_url":"https://api.github.com/users/tboeghk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tboeghk/subscriptions","organizations_url":"https://api.github.com/users/tboeghk/orgs","repos_url":"https://api.github.com/users/tboeghk/repos","events_url":"https://api.github.com/users/tboeghk/events{/privacy}","received_events_url":"https://api.github.com/users/tboeghk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T06:48:33Z","updated_at":"2021-06-03T06:48:33Z","author_association":"CONTRIBUTOR","body":"I came across an edge case that I want to consider: In the distributed environment we should only ignore the `appends` section if we do not change the handler during the distributed requests. I'll add that as well and write some tests.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853617796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853743587","html_url":"https://github.com/apache/solr/pull/152#issuecomment-853743587","issue_url":"https://api.github.com/repos/apache/solr/issues/152","id":853743587,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Mzc0MzU4Nw==","user":{"login":"NazerkeBS","id":33206532,"node_id":"MDQ6VXNlcjMzMjA2NTMy","avatar_url":"https://avatars.githubusercontent.com/u/33206532?v=4","gravatar_id":"","url":"https://api.github.com/users/NazerkeBS","html_url":"https://github.com/NazerkeBS","followers_url":"https://api.github.com/users/NazerkeBS/followers","following_url":"https://api.github.com/users/NazerkeBS/following{/other_user}","gists_url":"https://api.github.com/users/NazerkeBS/gists{/gist_id}","starred_url":"https://api.github.com/users/NazerkeBS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NazerkeBS/subscriptions","organizations_url":"https://api.github.com/users/NazerkeBS/orgs","repos_url":"https://api.github.com/users/NazerkeBS/repos","events_url":"https://api.github.com/users/NazerkeBS/events{/privacy}","received_events_url":"https://api.github.com/users/NazerkeBS/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T09:53:06Z","updated_at":"2021-06-03T09:53:06Z","author_association":"CONTRIBUTOR","body":"Updated the docs as you mentioned. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853743587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853759656","html_url":"https://github.com/apache/solr/pull/158#issuecomment-853759656","issue_url":"https://api.github.com/repos/apache/solr/issues/158","id":853759656,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Mzc1OTY1Ng==","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T10:18:21Z","updated_at":"2021-06-03T10:18:21Z","author_association":"CONTRIBUTOR","body":"As soon as I see an approval and we get potentially a final feedback by @sarowe , I am happy to merge.\r\n\r\nFor cherry picking, I was just taking a look to the minor version branches but I couldn't find them, has anything changed after the split?\r\ni.e. I was looking for example for 8.9.X branch or 8.10.x (will this exist?) but I couldn't find any","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853759656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/853779305","html_url":"https://github.com/apache/solr/pull/129#issuecomment-853779305","issue_url":"https://api.github.com/repos/apache/solr/issues/129","id":853779305,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Mzc3OTMwNQ==","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T10:53:25Z","updated_at":"2021-06-03T10:53:25Z","author_association":"CONTRIBUTOR","body":"I agree it's not the most elegant solution to check on the type instance (but there's plenty in Solr that does that), but I still think that it is an inconsistency.\r\nAs specified in other comments, the root problem is the StrField type per se:\r\n\r\nShould we then start a much more complex task i.e. \"removal of StrField\" to avoid such inconsistencies?\r\nWe could try doing it in a back-compatible way, but ultimately I think the real issue is that we express text to be untokenized in the index in two ways with no apparent benefit but just inconsistencies?\r\ni.e.\r\nStrField could be an alias rather than a separate Field Type","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/853779305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]