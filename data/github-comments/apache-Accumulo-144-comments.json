[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2465517904","html_url":"https://github.com/apache/accumulo/pull/5037#issuecomment-2465517904","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5037","id":2465517904,"node_id":"IC_kwDOACaFSM6S9NFQ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-08T18:43:40Z","updated_at":"2024-11-08T18:43:40Z","author_association":"CONTRIBUTOR","body":"> Would a 2.1 cluster.yaml file fail to parse w/ a clean message w/ these changes?\r\n\r\nI don't think the compactor/sserver/tserver sections would work. I can test with a 2.1 config and make sure a good error is thrown.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2465517904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2466837949","html_url":"https://github.com/apache/accumulo/issues/5051#issuecomment-2466837949","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5051","id":2466837949,"node_id":"IC_kwDOACaFSM6TCPW9","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-10T18:29:56Z","updated_at":"2024-11-10T20:21:13Z","author_association":"CONTRIBUTOR","body":"Not proposing any changes to the goal of this issue in this comment, just sharing some thoughts.  I like the goal of making the default view a summary view.  This issue just made me think of summarizing more generally and I am just sharing those toughts.\r\n\r\nThere are different questions I want to answer about the servers sometimes, which can be answered by different summarizations of the data.    In 4.0 the new getServers API+jshell can be pretty powerful tool to answer these question and summarize the data in different ways.  For example with following  single node accumulo cluster.\r\n\r\n```\r\n$ accumulo admin serviceStatus\r\nReport time: 2024-11-10T17:56:46.492Z\r\nZooKeeper read errors: 0\r\nManagers: count: 1\r\n  resource group: (default)\r\n    localhost:9999\r\nMonitors: count: 1\r\n  resource group: (default)\r\n    localhost:9995\r\nGarbage Collectors: count: 1\r\n  resource group: (default)\r\n    localhost:9998\r\nTablet Servers: count: 1\r\n  resource group: (default)\r\n    localhost:9997\r\nScan Servers: count: 1\r\n  resource group: (default)\r\n    localhost:9996\r\nCOORDINATOR: unavailable\r\nCompactors: count: 5\r\n  resource groups:\r\n    cg1\r\n    default\r\n  hosts (by group):\r\n    cg1 (3):\r\n      localhost:9135\r\n      localhost:9136\r\n      localhost:9137\r\n    default (2):\r\n      localhost:9133\r\n      localhost:9134\r\n```\r\n\r\nCan use the following `accumulo jshell` command to count the number of servers per `<Resource group>:<hostname>` where hostname does not include the port.  So this lets me know how many servers are running per RG+host.\r\n\r\n```\r\njshell> Stream.of(ServerId.Type.values())\r\n   ...>         .flatMap(serverType->client.instanceOperations().getServers(serverType).stream())\r\n   ...>         .collect(Collectors.groupingBy(\r\n   ...>                 serverId->serverId.getType()+\":\"+serverId.getResourceGroup()+\":\"+serverId.getHost(),\r\n   ...>                 Collectors.counting()))\r\n$11 ==> {SCAN_SERVER:default:localhost=1, COMPACTOR:cg1:localhost=3, TABLET_SERVER:default:localhost=1, MANAGER:default:localhost=1, COMPACTOR:default:localhost=2}\r\n```\r\n\r\nThe following is an example of using jshell to answer the question are there any host that have servers for more than one RG and if so what are the RGs?\r\n\r\n```\r\njshell> Stream.of(ServerId.Type.values())\r\n   ...>         .flatMap(serverType->client.instanceOperations().getServers(serverType).stream())\r\n   ...>         .collect(Collectors.groupingBy(\r\n   ...>                 serverId->serverId.getType()+\":\"+serverId.getHost(),\r\n   ...>                 Collectors.mapping(serverId -> serverId.getResourceGroup(), Collectors.toSet())))\r\n   ...>         .forEach((server, groups)-> {\r\n   ...>             if(groups.size() > 1){\r\n   ...>                 System.out.println(server+\" \"+groups);\r\n   ...>             }\r\n   ...>         })\r\nCOMPACTOR:localhost [default, cg1]\r\n```\r\n\r\nThere are many question that someone may want to answer using the raw servers data and one way this can be done is via jshell in 4.0.  However jshell may not be as accessible as being able to summarize using bash commands.   I wanted to take the json output and convert it to csv like data of the format `<server type>,<resource group>,<hostname>,<port>` and then use sort,awk,etc commands on the data.  However I could not figure out how to make jq do this mapping.\r\n\r\nSo I like the idea of having some summary view as the default output for the command.  I am also wondering how we can make it easy for and admin to summarize the data in different ways than the summary view we choose.  Not finding a great way to do this w/ the current command.  This out of scope for this issue, but in general if there is no easy way to make the json usable on the command line to answer basic questions about the data I am wondering if we should add a `--csv` option to the command that just ouputs data like `<server type>,<resource group>,<hostname>,<port>` which is the structure of the data in the example jshell commands.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2466837949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2466907405","html_url":"https://github.com/apache/accumulo/issues/5041#issuecomment-2466907405","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5041","id":2466907405,"node_id":"IC_kwDOACaFSM6TCgUN","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-10T20:31:09Z","updated_at":"2024-11-10T20:31:09Z","author_association":"CONTRIBUTOR","body":">  then it would be relatively easy to determine how many and which compactors and scan servers were started, but not running.\r\n\r\nIs this for the case of determining how many server processes died?  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2466907405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2466922881","html_url":"https://github.com/apache/accumulo/issues/5041#issuecomment-2466922881","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5041","id":2466922881,"node_id":"IC_kwDOACaFSM6TCkGB","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-10T21:22:53Z","updated_at":"2024-11-10T21:22:53Z","author_association":"CONTRIBUTOR","body":"> > then it would be relatively easy to determine how many and which compactors and scan servers were started, but not running.\r\n> \r\n> Is this for the case of determining how many server processes died?\r\n\r\nStopped or died. It would make it easier to detect down servers for the monitor or other utilities.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2466922881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2471274826","html_url":"https://github.com/apache/accumulo/issues/5052#issuecomment-2471274826","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5052","id":2471274826,"node_id":"IC_kwDOACaFSM6TTKlK","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-12T18:29:22Z","updated_at":"2024-11-12T18:29:22Z","author_association":"CONTRIBUTOR","body":"I think #5026 caused this, but this test is not failing in 2.1 or main branches for some reason. The `testGetActiveCompactions` method creates a table with a lot of files (it's calling BatchWriter.flush in a loop). When the test cancels the user compaction, a bunch of system compactions are generated to get the number of files for the tablets below the threshold. Since the following test method is using the same compactor queue, the compactor process is busy compacting the tablets from the previous test and never gets around to compacting the tablets for the current test method, and it times out.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2471274826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2473535848","html_url":"https://github.com/apache/accumulo/issues/5041#issuecomment-2473535848","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5041","id":2473535848,"node_id":"IC_kwDOACaFSM6Tbylo","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-13T12:52:31Z","updated_at":"2024-11-13T12:52:31Z","author_association":"CONTRIBUTOR","body":"@keith-turner and I discussed this - the idea behind this issue is to use ZooKeeper as a mechanism to understand the intended state of the system. If we know the intended state of the system via paths in ZooKeeper, then we can identify which servers are down by looking for paths that don't have an associated lock. For users using `accumulo-cluster`, ZooKeeper would be cleaned up automatically when performing a `stop` operation as `accumulo-cluster` calls ZooZap. My idea here was that a utility could be created and run periodically by the user to clean up ZooKeeper paths when their intended deployment layout has changed. @keith-turner suggested that it might be too easy for ZooKeeper to get polluted with old paths if, for example, the user doesn't run the utility or in a case where the user is using an orchestration system like Kubernetes that stops and starts pods when needed that end up having different hostnames. @keith-turner suggested allowing the user to specify how many processes by resource group and type that they are intending to run, then we can compare the actual running count against the intended deployment. We might be able to convey this information in a property value (json?).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2473535848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474154431","html_url":"https://github.com/apache/accumulo/pull/5056#issuecomment-2474154431","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5056","id":2474154431,"node_id":"IC_kwDOACaFSM6TeJm_","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-13T16:40:26Z","updated_at":"2024-11-13T16:40:26Z","author_association":"MEMBER","body":"Marked as draft for now as I look into usage of this method as well as potential test improvements.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474154431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474456131","html_url":"https://github.com/apache/accumulo/pull/5058#issuecomment-2474456131","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5058","id":2474456131,"node_id":"IC_kwDOACaFSM6TfTRD","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-13T18:44:46Z","updated_at":"2024-11-13T18:44:46Z","author_association":"CONTRIBUTOR","body":"Ran `mvn clean verify -Psunny` and it passed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474456131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474492884","html_url":"https://github.com/apache/accumulo/pull/5056#issuecomment-2474492884","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5056","id":2474492884,"node_id":"IC_kwDOACaFSM6TfcPU","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-13T19:05:04Z","updated_at":"2024-11-13T19:05:04Z","author_association":"CONTRIBUTOR","body":"I would assume that InstanceOperationsIT.testGetServers would have failed....","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474492884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474497292","html_url":"https://github.com/apache/accumulo/pull/5056#issuecomment-2474497292","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5056","id":2474497292,"node_id":"IC_kwDOACaFSM6TfdUM","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-13T19:07:25Z","updated_at":"2024-11-13T19:07:25Z","author_association":"CONTRIBUTOR","body":"> I would assume that InstanceOperationsIT.testGetServers would have failed....\r\n\r\nNevermind, that test does not test that code. That code is for contacting a specific server. Should probably add a test for that in InstanceOperationsIT.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474497292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474724483","html_url":"https://github.com/apache/accumulo/pull/5056#issuecomment-2474724483","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5056","id":2474724483,"node_id":"IC_kwDOACaFSM6TgUyD","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-13T20:30:43Z","updated_at":"2024-11-13T20:30:43Z","author_association":"MEMBER","body":"Added tests in 826c675","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474724483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474793129","html_url":"https://github.com/apache/accumulo/pull/5055#issuecomment-2474793129","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5055","id":2474793129,"node_id":"IC_kwDOACaFSM6Tglip","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-13T21:10:51Z","updated_at":"2024-11-13T21:10:51Z","author_association":"MEMBER","body":"> I saw a bug that I'll have a fix for up in a sec so this PR should probably wait to include that before merging.\r\n\r\nThe bug has been addressed as of #5056 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2474793129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2478706970","html_url":"https://github.com/apache/accumulo/pull/4996#issuecomment-2478706970","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4996","id":2478706970,"node_id":"IC_kwDOACaFSM6TvhEa","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T12:27:58Z","updated_at":"2024-11-15T12:27:58Z","author_association":"CONTRIBUTOR","body":"@meatballspaghetti  - please take a look at NamespacesIT, I'm seeing 4 tests fail with the same type of error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Multiple entries with same key: =+default and =x\r\n\tat com.google.common.collect.ImmutableMap.conflictException(ImmutableMap.java:382)\r\n\tat com.google.common.collect.ImmutableMap.checkNoConflict(ImmutableMap.java:376)\r\n\tat com.google.common.collect.ImmutableSortedMap.fromEntries(ImmutableSortedMap.java:560)\r\n\tat com.google.common.collect.ImmutableSortedMap.access$100(ImmutableSortedMap.java:68)\r\n\tat com.google.common.collect.ImmutableSortedMap$Builder.buildOrThrow(ImmutableSortedMap.java:739)\r\n\tat com.google.common.collect.ImmutableSortedMap$Builder.build(ImmutableSortedMap.java:718)\r\n\tat org.apache.accumulo.core.clientImpl.NamespaceMapping.update(NamespaceMapping.java:148)\r\n\tat org.apache.accumulo.core.clientImpl.NamespaceMapping.getNameToIdMap(NamespaceMapping.java:160)\r\n\tat org.apache.accumulo.core.clientImpl.Namespaces.getNamespaceId(Namespaces.java:83)\r\n\tat org.apache.accumulo.core.clientImpl.Namespaces.lookupNamespaceId(Namespaces.java:97)\r\n\tat org.apache.accumulo.core.clientImpl.Namespaces.namespaceNameExists(Namespaces.java:110)\r\n\tat org.apache.accumulo.core.clientImpl.NamespaceOperationsImpl.exists(NamespaceOperationsImpl.java:113)\r\n\tat org.apache.accumulo.test.NamespacesIT.createAndDeleteNamespace(NamespacesIT.java:220)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2478706970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2478857654","html_url":"https://github.com/apache/accumulo/pull/5065#issuecomment-2478857654","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5065","id":2478857654,"node_id":"IC_kwDOACaFSM6TwF22","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T13:44:42Z","updated_at":"2024-11-15T13:44:42Z","author_association":"CONTRIBUTOR","body":"This is targeted at 3.1 because it also contains the scanref table, but when merged forward it should work without any changes to fix the fate table as well in main because the new validation just uses all the table ids from AccumuloTable instead of trying to list out each one.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2478857654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2478971363","html_url":"https://github.com/apache/accumulo/pull/5066#issuecomment-2478971363","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5066","id":2478971363,"node_id":"IC_kwDOACaFSM6Twhnj","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T14:13:00Z","updated_at":"2024-11-15T14:13:00Z","author_association":"CONTRIBUTOR","body":"I have tested this locally and things seem to be working.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2478971363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479113606","html_url":"https://github.com/apache/accumulo/pull/4996#issuecomment-2479113606","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4996","id":2479113606,"node_id":"IC_kwDOACaFSM6TxEWG","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T15:14:11Z","updated_at":"2024-11-15T15:14:11Z","author_association":"MEMBER","body":"> I'm seeing 4 tests fail with the same type of error:\r\n\r\nI didn't see that specific stack trace when running NamespacesIT in the 3.1 branch. I got different exceptions instead. Perhaps that stack trace only appears in the main branch? I did fix the test failures I saw in 3.1 with #5067. I tested a local merge to the main branch and NamespacesIT passed there also.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479113606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479337792","html_url":"https://github.com/apache/accumulo/pull/5066#issuecomment-2479337792","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5066","id":2479337792,"node_id":"IC_kwDOACaFSM6Tx7FA","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T16:16:59Z","updated_at":"2024-11-15T16:16:59Z","author_association":"CONTRIBUTOR","body":"I tested it with this configuration and from what I can tell everything came up (and shutdown) as expected. This has different groups and different numbers of servers per group.\r\n\r\n```\r\nmanager:\r\n  - localhost\r\n\r\nmonitor:\r\n  - localhost\r\n\r\ngc:\r\n  - localhost\r\n\r\ntserver:\r\n  default:\r\n    servers_per_host: 1\r\n    hosts:\r\n      - localhost\r\n  test1:\r\n    servers_per_host: 2\r\n    hosts:\r\n      - localhost\r\n\r\ncompactor:\r\n  default:\r\n    servers_per_host: 1\r\n    hosts:\r\n      - localhost\r\n  test2:\r\n    servers_per_host: 3\r\n    hosts:\r\n      - localhost\r\n\r\nsserver:\r\n  default:\r\n    servers_per_host: 1\r\n    hosts:\r\n      - localhost\r\n  test3:\r\n    servers_per_host: 4\r\n    hosts:\r\n      - localhost\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479337792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479347019","html_url":"https://github.com/apache/accumulo/pull/5066#issuecomment-2479347019","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5066","id":2479347019,"node_id":"IC_kwDOACaFSM6Tx9VL","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T16:22:02Z","updated_at":"2024-11-15T16:22:02Z","author_association":"CONTRIBUTOR","body":"Here are the pid files that get created from starting with the config above:\r\n```\r\naccumulo-compactor_default_1.pid\r\naccumulo-compactor_test2_1.pid\r\naccumulo-compactor_test2_2.pid\r\naccumulo-compactor_test2_3.pid\r\naccumulo-gc_default_1.pid\r\naccumulo-manager_default_1.pid\r\naccumulo-monitor_default_1.pid\r\naccumulo-sserver_default_1.pid\r\naccumulo-sserver_test3_1.pid\r\naccumulo-sserver_test3_2.pid\r\naccumulo-sserver_test3_3.pid\r\naccumulo-sserver_test3_4.pid\r\naccumulo-tserver_default_1.pid\r\naccumulo-tserver_test1_1.pid\r\naccumulo-tserver_test1_2.pid\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479347019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479437830","html_url":"https://github.com/apache/accumulo/pull/5066#issuecomment-2479437830","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5066","id":2479437830,"node_id":"IC_kwDOACaFSM6TyTgG","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T16:59:37Z","updated_at":"2024-11-15T16:59:37Z","author_association":"MEMBER","body":"Okay, so that does look like it's working then. As an aside, even though the current yaml seems to be very robust in terms of configurability, I'm wondering if the implementation would be simpler and the config file could be more intuitive, if the config were organized primarily by groups and hosts, rather than primarily by server types.\r\n\r\nFor example:\r\n\r\n```yaml\r\ngroups:\r\n  - default:\r\n      hosts: [ localhost ]\r\n      manager: 1\r\n      monitor: 1\r\n      gc: 1\r\n      tserver: 1\r\n      compactor: 1\r\n      sserver: 1\r\n\r\n  - test1:\r\n      hosts: [ localhost ]\r\n      tserver: 2\r\n\r\n  - test2:\r\n      hosts: [ localhost ]\r\n      compactor: 3\r\n\r\n  - test3:\r\n      hosts: [ localhost ]\r\n      sserver: 4\r\n```\r\n\r\nSo now, the script becomes simpler: for each group, set up the group options (name, etc.), then for each host within that group, ssh, and for each service within that group during that ssh session, start up the service.\r\n\r\nNone of this is strictly necessary for your PR, but I'm mentioning it here, because I think it aligns your goal of making the scripts more efficient, by using a config that represents a simpler and more efficient program flow (and is also more intuitive).\r\n\r\nOne thing that could change from this suggestion, though, is instead of having just a count, each type could be a complex object like:\r\n\r\n```yaml\r\n      tserver:\r\n        count: 2\r\n        extra-opts: [ ]\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479437830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479466965","html_url":"https://github.com/apache/accumulo/pull/5066#issuecomment-2479466965","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5066","id":2479466965,"node_id":"IC_kwDOACaFSM6TyanV","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T17:13:12Z","updated_at":"2024-11-15T17:13:12Z","author_association":"CONTRIBUTOR","body":"So, I like the idea of centering the cluster.yaml on the group, but I think your example doesn't capture the fact that the different processes are likely running on different servers. Here is your example with that taken into account:\r\n\r\n```\r\ngroups:\r\n  - default:\r\n      manager: 1\r\n        - hosts:\r\n           - localhost1\r\n      monitor: 1\r\n        - hosts:\r\n           - localhost2\r\n      gc: 1\r\n        - hosts:\r\n           - localhost3\r\n      tserver: 1\r\n        - hosts:\r\n           - localhost1\r\n      compactor: 1\r\n        - hosts:\r\n           - localhost2\r\n      sserver: 1\r\n        - hosts:\r\n           - localhost3\r\n\r\n  - test1:\r\n      tserver: 2\r\n        - hosts:\r\n           - localhost1\r\n           - localhost2\r\n\r\n  - test2:\r\n      compactor: 3\r\n        - hosts:\r\n           - localhost1\r\n           - localhost2\r\n           \r\n  - test3:\r\n      sserver: 4\r\n        - hosts:\r\n           - localhost2\r\n           - localhost3\r\n      \r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479466965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479547312","html_url":"https://github.com/apache/accumulo/issues/5069#issuecomment-2479547312","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5069","id":2479547312,"node_id":"IC_kwDOACaFSM6TyuOw","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T17:36:34Z","updated_at":"2024-11-15T17:36:34Z","author_association":"CONTRIBUTOR","body":"I can take a look at this issue","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479547312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479562291","html_url":"https://github.com/apache/accumulo/pull/5012#issuecomment-2479562291","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5012","id":2479562291,"node_id":"IC_kwDOACaFSM6Tyx4z","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T17:40:27Z","updated_at":"2024-11-15T17:40:27Z","author_association":"CONTRIBUTOR","body":"TODO: Need to modify the metric aggregation code to take into account compaction queue metrics (`queue.id` tag) and per-table metrics (see #5030) and aggregate these metrics in relation to the compaction queues in the Manager or to the tables.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479562291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479665747","html_url":"https://github.com/apache/accumulo/issues/5060#issuecomment-2479665747","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5060","id":2479665747,"node_id":"IC_kwDOACaFSM6TzLJT","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T18:21:17Z","updated_at":"2024-11-15T18:21:17Z","author_association":"CONTRIBUTOR","body":"I took a look at this and was thinking a bit about it and the only really good way to get rid of the escaping would be to not use the serialized json string of the files and instead use an object representation of StoredTabletFile, but that would break the encapsulation of StoredTabletFile and expose the file/range outside of it so I'm not sure if that's a great idea. A custom serializer would be tricky because escaping quotes are needed so it's valid json.\r\n\r\nI'm wondering if this is something that is better solved as custom logic when scanning and logging to print it out in an easier to read format vs storing it differently.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2479665747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2480123237","html_url":"https://github.com/apache/accumulo/issues/5014#issuecomment-2480123237","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5014","id":2480123237,"node_id":"IC_kwDOACaFSM6T061l","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T23:28:27Z","updated_at":"2024-11-15T23:28:27Z","author_association":"CONTRIBUTOR","body":"I will take a look at this issue, I think it makes sense to add a new column to track the split point type to the tablet metadata ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2480123237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2480393107","html_url":"https://github.com/apache/accumulo/issues/4770#issuecomment-2480393107","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4770","id":2480393107,"node_id":"IC_kwDOACaFSM6T18uT","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-16T04:27:26Z","updated_at":"2024-11-16T04:27:26Z","author_association":"CONTRIBUTOR","body":"Fixed by #5037 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2480393107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2480842285","html_url":"https://github.com/apache/accumulo/issues/5000#issuecomment-2480842285","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5000","id":2480842285,"node_id":"IC_kwDOACaFSM6T3qYt","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-16T23:07:02Z","updated_at":"2024-11-16T23:07:34Z","author_association":"CONTRIBUTOR","body":"> Have you looked at CBOR?\r\n\r\nI did some research on this today and it looks like Jackson has [support](https://github.com/FasterXML/jackson-dataformats-binary) for binary formats including CBOR, including as a jax-rs [provider](https://github.com/FasterXML/jackson-jakarta-rs-providers)\r\n\r\nI haven't tested it, but based on that information, it should be possible to register a CBOR jackson provider for the jersey/jetty service to return binary and then update the http rest client that is making the request to read the binary and decode it using the Jackson CBOR module. If we decide to pursue the jetty option I can work on testing the performance of using CBOR vs JSON.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2480842285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484082995","html_url":"https://github.com/apache/accumulo/pull/5073#issuecomment-2484082995","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5073","id":2484082995,"node_id":"IC_kwDOACaFSM6UEBkz","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-18T20:39:37Z","updated_at":"2024-11-18T20:39:37Z","author_association":"CONTRIBUTOR","body":"@kevinrr888 - wondering if we could just run the no-instance checks if the error is thrown when an instance doesn't exist so that we can re-use the command? Thoughts?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484082995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484120958","html_url":"https://github.com/apache/accumulo/pull/5073#issuecomment-2484120958","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5073","id":2484120958,"node_id":"IC_kwDOACaFSM6UEK1-","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-18T21:00:57Z","updated_at":"2024-11-18T21:00:57Z","author_association":"MEMBER","body":"> @kevinrr888 - wondering if we could just run the no-instance checks if the error is thrown when an instance doesn't exist so that we can re-use the command? Thoughts?\r\n\r\nI considered that, but thought it might hide some issues. For example, if a user expects that they have a running instance and run `accumulo check-server-config` without a running instance, it would do less checks than may be expected and would not result in any no-instance errors. To me, it seemed safest to split these into two separate commands and keep the no-instance errors of the original command.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484120958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484125395","html_url":"https://github.com/apache/accumulo/pull/5073#issuecomment-2484125395","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5073","id":2484125395,"node_id":"IC_kwDOACaFSM6UEL7T","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-18T21:03:29Z","updated_at":"2024-11-18T21:03:29Z","author_association":"CONTRIBUTOR","body":"I was thinking a stern warning could printed to the screen that no instance is running so we are doing a reduced set of checks. I assume someone is going to run this interactively and not via a script. If we don't want to make that assumption, we could return a non-zero code.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484125395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484149487","html_url":"https://github.com/apache/accumulo/pull/5073#issuecomment-2484149487","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5073","id":2484149487,"node_id":"IC_kwDOACaFSM6UERzv","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-18T21:17:18Z","updated_at":"2024-11-18T21:17:18Z","author_association":"MEMBER","body":"> I was thinking a stern warning could printed to the screen that no instance is running so we are doing a reduced set of checks. I assume someone is going to run this interactively and not via a script. If we don't want to make that assumption, we could return a non-zero code.\r\n\r\nYeah, I think a warning like that would be a way to replace the extra command. However, another thing I'm thinking of is it might be tricky to identify what a no-instance exception is. There is a certain exception that currently occurs, but that exception may change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484149487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484158994","html_url":"https://github.com/apache/accumulo/pull/5073#issuecomment-2484158994","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5073","id":2484158994,"node_id":"IC_kwDOACaFSM6UEUIS","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-18T21:23:07Z","updated_at":"2024-11-18T21:23:07Z","author_association":"CONTRIBUTOR","body":"We could just raise our own exception, NoInstanceException, for example.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484158994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484167234","html_url":"https://github.com/apache/accumulo/pull/5012#issuecomment-2484167234","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5012","id":2484167234,"node_id":"IC_kwDOACaFSM6UEWJC","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-18T21:28:00Z","updated_at":"2024-11-18T21:28:00Z","author_association":"CONTRIBUTOR","body":"The way this is heading, this could close #3649 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2484167234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2485690054","html_url":"https://github.com/apache/accumulo/issues/5077#issuecomment-2485690054","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5077","id":2485690054,"node_id":"IC_kwDOACaFSM6UKJ7G","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-19T13:17:06Z","updated_at":"2024-11-19T13:17:06Z","author_association":"CONTRIBUTOR","body":"Closing, looks like TabletsMetadata.stream sets up the method to close itself.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2485690054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2486385101","html_url":"https://github.com/apache/accumulo/pull/5073#issuecomment-2486385101","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5073","id":2486385101,"node_id":"IC_kwDOACaFSM6UMznN","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-19T17:55:10Z","updated_at":"2024-11-19T17:55:10Z","author_association":"MEMBER","body":"I removed the new check and now check if an instance exists before the full set of checks runs in `CheckServerConfig`. The instance is checked with `VolumeManager.getInstanceIDFromHdfs(instanceIdPath, hadoopConfig)`. Coincidentally, the vars needed for this call perform all* the checks that can be performed without a running instance: `SiteConfiguration.auto()`, `VolumeManagerImpl.get(siteConfig, hadoopConfig)`, and `new ServerDirs(siteConfig, hadoopConfig)`.\r\n\r\nI wanted to avoid just surrounding the existing code:\r\n```\r\n    try (var context = new ServerContext(SiteConfiguration.auto())) {\r\n      context.getConfiguration();\r\n    }\r\n```\r\nwith a `try-catch` as the exception that occurs is a few layers deep and may be changed in the future and it would not be clear that changing those exceptions would affect this command. Also, if we surrounded it with a `try-catch` we would have to identify what is an exception relating to no instance from many potential exceptions. Calling the method directly avoids these issues.\r\n\r\n*to the best of my knowledge","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2486385101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2486386703","html_url":"https://github.com/apache/accumulo/pull/5073#issuecomment-2486386703","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5073","id":2486386703,"node_id":"IC_kwDOACaFSM6UM0AP","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-19T17:55:59Z","updated_at":"2024-11-19T17:55:59Z","author_association":"MEMBER","body":"One issue with this current impl is that the stack trace will still show an exception (this time a `ConnectException`) even though the calling code handles all `Exception`s. My guess is that the exception is occurring in another thread. So, an output of `accumulo check-server-config` would look like this with no instance running:\r\n```\r\n2024-11-19T12:16:25,916 [conf.SiteConfiguration] INFO : Found Accumulo configuration on classpath at /home/krathbun/Desktop/github/fluo-uno/install/accumulo-2.1.4-SNAPSHOT/conf/accumulo.properties\r\n2024-11-19T12:16:26,300 [fs.VolumeManager] ERROR: Problem reading instance id out of hdfs at hdfs://localhost:8020/accumulo/instance_id\r\njava.net.ConnectException: Call From groot/10.0.0.182 to localhost:8020 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[?:?]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[?:?]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[?:?]\r\n\tat org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:930) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:845) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1571) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1513) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1410) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Invoker.invoke(ProtobufRpcEngine2.java:258) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Invoker.invoke(ProtobufRpcEngine2.java:139) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy30.getListing(Unknown Source) ~[?:?]\r\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getListing(ClientNamenodeProtocolTranslatorPB.java:689) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[?:?]\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:433) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:166) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:158) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:96) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:362) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy31.getListing(Unknown Source) ~[?:?]\r\n\tat org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:1702) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:1686) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.listStatusInternal(DistributedFileSystem.java:1113) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.access$600(DistributedFileSystem.java:149) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$24.doCall(DistributedFileSystem.java:1188) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$24.doCall(DistributedFileSystem.java:1185) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.listStatus(DistributedFileSystem.java:1195) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.accumulo.server.fs.VolumeManager.getInstanceIDFromHdfs(VolumeManager.java:214) ~[accumulo-server-base-2.1.4-SNAPSHOT.jar:2.1.4-SNAPSHOT]\r\n\tat org.apache.accumulo.server.conf.CheckServerConfig.main(CheckServerConfig.java:54) ~[accumulo-server-base-2.1.4-SNAPSHOT.jar:2.1.4-SNAPSHOT]\r\n\tat org.apache.accumulo.server.conf.CheckServerConfig.execute(CheckServerConfig.java:78) ~[accumulo-server-base-2.1.4-SNAPSHOT.jar:2.1.4-SNAPSHOT]\r\n\tat org.apache.accumulo.start.Main.lambda$execKeyword$0(Main.java:122) ~[accumulo-start-2.1.4-SNAPSHOT.jar:2.1.4-SNAPSHOT]\r\n\tat java.base/java.lang.Thread.run(Thread.java:840) [?:?]\r\nCaused by: java.net.ConnectException: Connection refused\r\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[?:?]\r\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[?:?]\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[?:?]\r\n\tat org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:205) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.net.NetUtils.connect(NetUtils.java:600) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:652) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:773) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:347) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.ipc.Client.getConnection(Client.java:1632) ~[hadoop-client-api-3.3.6.jar:?]\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1457) ~[hadoop-client-api-3.3.6.jar:?]\r\n\t... 28 more\r\n2024-11-19T12:16:26,300 [conf.CheckServerConfig] WARN : Performed only a subset of checks (which passed). There is a problem relating to the instance:\r\nCan't tell if Accumulo is initialized; can't read instance id at hdfs://localhost:8020/accumulo/instance_id\r\nand no further checks could be done. If this is unexpected, make sure an instance is running and re-run the command.\r\n```\r\nThe subset of the checks have still occurred and passed (noted in the output), but the exception unfortunately makes the info less visible and it might be better if the exception was not seen here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2486386703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2486405547","html_url":"https://github.com/apache/accumulo/pull/5073#issuecomment-2486405547","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5073","id":2486405547,"node_id":"IC_kwDOACaFSM6UM4mr","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-19T18:05:20Z","updated_at":"2024-11-19T18:05:20Z","author_association":"CONTRIBUTOR","body":"Regarding the exception being printed, that might be due to the logging configuration for the client (log4j2.properties). If that is set to direct output to a file, then you likely would not see that. For that reason, any output that we have from the command may want to use System.out or System.err","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2486405547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2486439246","html_url":"https://github.com/apache/accumulo/pull/5073#issuecomment-2486439246","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5073","id":2486439246,"node_id":"IC_kwDOACaFSM6UNA1O","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-19T18:22:46Z","updated_at":"2024-11-19T18:23:02Z","author_association":"MEMBER","body":"Gotcha. Changed to print the warning. That logged error from my running of it was my only concern with this, but if it's fine to you then I have no problems with it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2486439246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2486932138","html_url":"https://github.com/apache/accumulo/pull/5083#issuecomment-2486932138","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5083","id":2486932138,"node_id":"IC_kwDOACaFSM6UO5Kq","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-19T23:07:59Z","updated_at":"2024-11-19T23:07:59Z","author_association":"CONTRIBUTOR","body":"Could not find a good existing test for dead compaction cleanup to modify to have multiple dead compactoins in single tablet.  We may need a follow on improve the dead compaction cleanup testing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2486932138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2488610399","html_url":"https://github.com/apache/accumulo/pull/5083#issuecomment-2488610399","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5083","id":2488610399,"node_id":"IC_kwDOACaFSM6UVS5f","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T13:37:27Z","updated_at":"2024-11-20T13:37:27Z","author_association":"CONTRIBUTOR","body":"> When a single tablet had multiple dead compactions the dead compaction cleanup code would attempt to write separate conditonal mutations for the same tablet.\r\n\r\nAdded issue #5084 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2488610399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489111416","html_url":"https://github.com/apache/accumulo/pull/5081#issuecomment-2489111416","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5081","id":2489111416,"node_id":"IC_kwDOACaFSM6UXNN4","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T16:56:30Z","updated_at":"2024-11-20T16:56:30Z","author_association":"CONTRIBUTOR","body":"I talked with @ctubbsii regarding this PR and he said that there was discussion about exposing this information in the Monitor a long time ago. He recalled that the reason for not putting it in the Monitor is that there is no user authentication done in the Monitor like there is in the Shell. When a user authenticates to the Shell, then they are allowed to read from the metadata table (they have to for scans, for example). There may be an alternate way to expose this information in the GetSplitsCommand code if it's not already done.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489111416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489147843","html_url":"https://github.com/apache/accumulo/pull/5081#issuecomment-2489147843","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5081","id":2489147843,"node_id":"IC_kwDOACaFSM6UXWHD","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T17:13:40Z","updated_at":"2024-11-20T17:13:40Z","author_association":"CONTRIBUTOR","body":"I created table `test` and added splits `a-z` and `0-9`. Running the command `getsplits -t <table> -v` displays the obfuscated value and the extent information. Piping this command to `grep` directly did not work, but the following does work:\r\n```\r\n./accumulo shell -e \"getsplits -t test -v -o /tmp/splits\" && grep 'X+zrZv/IbzjZUnhsbWlsecLbwjndTpG0ZynXOif7V+k=' /tmp/splits\r\n\r\nX+zrZv/IbzjZUnhsbWlsecLbwjndTpG0ZynXOif7V+k= (-inf, 0]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489147843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489162696","html_url":"https://github.com/apache/accumulo/pull/5081#issuecomment-2489162696","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5081","id":2489162696,"node_id":"IC_kwDOACaFSM6UXZvI","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T17:21:24Z","updated_at":"2024-11-20T17:21:24Z","author_association":"CONTRIBUTOR","body":"> I created table `test` and added splits `a-z` and `0-9`. Running the command `getsplits -t <table> -v` displays the obfuscated value and the extent information. Piping this command to `grep` directly did not work, but the following does work:\r\n> \r\n> ```\r\n> ./accumulo shell -e \"getsplits -t test -v -o /tmp/splits\" && grep 'X+zrZv/IbzjZUnhsbWlsecLbwjndTpG0ZynXOif7V+k=' /tmp/splits\r\n> \r\n> X+zrZv/IbzjZUnhsbWlsecLbwjndTpG0ZynXOif7V+k= (-inf, 0]\r\n> ```\r\n\r\nYeah the whole reason for the property was that there wasn't a way to do a lookup of the obfuscated value to match a tablet.\r\n\r\nPiping directly to grep is an issue with the `-e` behavior in the shell. Looking at past issues, it appears to be related to changes within Jline.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489162696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489177484","html_url":"https://github.com/apache/accumulo/pull/5081#issuecomment-2489177484","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5081","id":2489177484,"node_id":"IC_kwDOACaFSM6UXdWM","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T17:29:20Z","updated_at":"2024-11-20T17:29:20Z","author_association":"CONTRIBUTOR","body":"FWIW, the following also works:\r\n```\r\ncat < <(./accumulo shell -e \"getsplits -t test -v\" 2>/dev/null) | grep -F \"X+zrZv/IbzjZUnhsbWlsecLbwjndTpG0ZynXOif7V+k=\"\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489177484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489179496","html_url":"https://github.com/apache/accumulo/pull/5081#issuecomment-2489179496","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5081","id":2489179496,"node_id":"IC_kwDOACaFSM6UXd1o","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T17:30:17Z","updated_at":"2024-11-20T17:30:17Z","author_association":"CONTRIBUTOR","body":"> Yeah the whole reason for the property was that there wasn't a way to do a lookup of the obfuscated value to match a tablet.\r\n\r\n@ddanielr - Do you think this is a sufficient solution and I can / should revert my Monitor changes?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489179496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489185128","html_url":"https://github.com/apache/accumulo/pull/5081#issuecomment-2489185128","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5081","id":2489185128,"node_id":"IC_kwDOACaFSM6UXfNo","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T17:33:19Z","updated_at":"2024-11-20T17:33:19Z","author_association":"MEMBER","body":"> Yeah the whole reason for the property was that there wasn't a way to do a lookup of the obfuscated value to match a tablet.\r\n\r\nSince there actually is a way to do this lookup, I think we should revert this. I think it is risky to encourage exposing per-tablet info (containing user data) through an unauthenticated monitor service.\r\n\r\n> Piping directly to grep is an issue with the `-e` behavior in the shell. Looking at past issues, it appears to be related to changes within Jline.\r\n\r\nThat error surprised me. I think that is a larger issue, and needs its own ticket... maybe an upstream ticket.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489185128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489194053","html_url":"https://github.com/apache/accumulo/pull/5081#issuecomment-2489194053","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5081","id":2489194053,"node_id":"IC_kwDOACaFSM6UXhZF","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T17:38:14Z","updated_at":"2024-11-20T17:38:14Z","author_association":"CONTRIBUTOR","body":"> > Yeah the whole reason for the property was that there wasn't a way to do a lookup of the obfuscated value to match a tablet.\r\n> \r\n> @ddanielr - Do you think this is a sufficient solution and I can / should revert my Monitor changes?\r\n\r\nThe monitor currently shows the table ID and obfuscated value so a user can take those inputs and provide them to a shell session. \r\n\r\nWhile the information can be obtained from a grep command, I'm assuming that `getSplits` does not provide the necessary information without the `-v` flag. So while the functionality is there, it's technically hidden from the user by default. \r\n\r\nSince this is a standard action used in troubleshooting, I would be in favor of reverting the change if we added a shell command that takes the tableID and obfuscated value and returns the correct tablet ID. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489194053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489224617","html_url":"https://github.com/apache/accumulo/pull/5081#issuecomment-2489224617","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5081","id":2489224617,"node_id":"IC_kwDOACaFSM6UXo2p","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T17:55:17Z","updated_at":"2024-11-20T17:55:17Z","author_association":"CONTRIBUTOR","body":"Do we provide tooltips in the monitor? Some sort of link from the tablet row to the specific shell command would also help provide users with a way forward for troubleshooting. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489224617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489424102","html_url":"https://github.com/apache/accumulo/pull/5081#issuecomment-2489424102","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5081","id":2489424102,"node_id":"IC_kwDOACaFSM6UYZjm","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T19:51:53Z","updated_at":"2024-11-20T19:51:53Z","author_association":"MEMBER","body":"> Since this is a standard action used in troubleshooting, I would be in favor of reverting the change if we added a shell command that takes the tableID and obfuscated value and returns the correct tablet ID.\r\n\r\nGiven the current jline issues causing difficulty in piping the output to grep using `-e`, having an option to de-obfuscate a single obfuscated value would be useful. `getsplits [-t <table>] [-v] -id <obfuscated split id>`\r\n\r\n> Do we provide tooltips in the monitor? Some sort of link from the tablet row to the specific shell command would also help provide users with a way forward for troubleshooting.\r\n\r\nWe do in some places, and can add more, if needed. It can also be part of the paragraph above the table, or a note in a table caption.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489424102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489552520","html_url":"https://github.com/apache/accumulo/issues/5087#issuecomment-2489552520","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5087","id":2489552520,"node_id":"IC_kwDOACaFSM6UY46I","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T21:13:12Z","updated_at":"2024-11-20T21:13:36Z","author_association":"CONTRIBUTOR","body":"May be able to fix this with a change like the following.  However need to do more research on the `fs.listStatus` failure modes to be sure.\r\n\r\n```java\r\n                    FileStatus[] files;\r\n                   try{\r\n                       files = fs.listStatus(new Path(volPath), (path) -> {\r\n                        return path.getName().endsWith(fileSuffix);\r\n                      });\r\n                    }(catch FileNotFoundException e){\r\n                      log.trace(\"failed to list tablet dir {}\", volPath, e);\r\n                      files = new FilesStatus[0];\r\n                   }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489552520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489598619","html_url":"https://github.com/apache/accumulo/pull/5081#issuecomment-2489598619","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5081","id":2489598619,"node_id":"IC_kwDOACaFSM6UZEKb","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T21:42:33Z","updated_at":"2024-11-20T21:42:33Z","author_association":"CONTRIBUTOR","body":"This has been reverted and merged up through `main`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2489598619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2491115776","html_url":"https://github.com/apache/accumulo/pull/5074#issuecomment-2491115776","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5074","id":2491115776,"node_id":"IC_kwDOACaFSM6Ue2kA","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T13:13:19Z","updated_at":"2024-11-21T13:15:21Z","author_association":"CONTRIBUTOR","body":"> Seems like the three metric names in this PR could use the `accumulo.compaction` prefix like in #5075. Like `accumulo.compaction.majc.queued`. \r\n\r\nI merged into #5075 and fixed the names here.\r\n\r\n> Also not something for this PR, but it seems like `MAJC_QUEUED` and `MAJC_RUNNING` could be removed. Those two metrics are dupicating data the is present in per compactor RG metrics and could be derived from those.\r\n\r\n`CompactionCoordinator.registerMetrics` registers `MAJC_QUEUED` and `MAJC_RUNNING`. I see that QueueMetrics registers `COMPACTOR_JOB_PRIORITY_QUEUE_JOBS_QUEUED` with a `queue.id` tag, which could be summed up to replace `MAJC_QUEUED`. I don't see a direct replacement for `MAJC_RUNNING` though. What did you have in mind for that?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2491115776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2491129011","html_url":"https://github.com/apache/accumulo/pull/5074#issuecomment-2491129011","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5074","id":2491129011,"node_id":"IC_kwDOACaFSM6Ue5yz","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T13:19:02Z","updated_at":"2024-11-21T13:19:02Z","author_association":"CONTRIBUTOR","body":"> `CompactionCoordinator.registerMetrics` registers `MAJC_QUEUED` and `MAJC_RUNNING`. I see that QueueMetrics registers `COMPACTOR_JOB_PRIORITY_QUEUE_JOBS_QUEUED` with a `queue.id` tag, which could be summed up to replace `MAJC_QUEUED`. I don't see a direct replacement for `MAJC_RUNNING` though. What did you have in mind for that?\r\n\r\nOk, I see now in #5062 you said `... this information can be computed by summing idle metrics from compactors.` I'm wondering if that may not be intuitive to a user to use that for running compactions given the name.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2491129011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2491178320","html_url":"https://github.com/apache/accumulo/pull/5074#issuecomment-2491178320","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5074","id":2491178320,"node_id":"IC_kwDOACaFSM6UfF1Q","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T13:35:18Z","updated_at":"2024-11-21T13:35:18Z","author_association":"CONTRIBUTOR","body":"> > `CompactionCoordinator.registerMetrics` registers `MAJC_QUEUED` and `MAJC_RUNNING`. I see that QueueMetrics registers `COMPACTOR_JOB_PRIORITY_QUEUE_JOBS_QUEUED` with a `queue.id` tag, which could be summed up to replace `MAJC_QUEUED`. I don't see a direct replacement for `MAJC_RUNNING` though. What did you have in mind for that?\r\n> \r\n> Ok, I see now in #5062 you said `... this information can be computed by summing idle metrics from compactors.` I'm wondering if that may not be intuitive to a user to use that for running compactions given the name.\r\n\r\nOk, using the server idle metric to gauge whether or not the Compactor is running a compaction is probably not the way to go. The process has to be idle for so long, regulated by Property.GENERAL_IDLE_PROCESS_INTERVAL, to be considered idle. This is so that the metric is not constantly flapping.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2491178320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2491347192","html_url":"https://github.com/apache/accumulo/pull/5074#issuecomment-2491347192","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5074","id":2491347192,"node_id":"IC_kwDOACaFSM6UfvD4","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T14:21:55Z","updated_at":"2024-11-21T14:21:55Z","author_association":"CONTRIBUTOR","body":"I removed `MAJC_QUEUED` and `MAJC_RUNNING`. I also added some new metrics as at least one was being used in the wrong place. I look at this as some general cleanup, but I think more might be needed. Specifically, I'm thinking the metric names might need to be reviewed and corrected.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2491347192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2491775916","html_url":"https://github.com/apache/accumulo/pull/5028#issuecomment-2491775916","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5028","id":2491775916,"node_id":"IC_kwDOACaFSM6UhXus","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T16:56:29Z","updated_at":"2024-11-21T17:00:30Z","author_association":"MEMBER","body":"One thing I noticed when working on this and running the tests again was that in a couple of the new tests added here (`testFate<Delete/Fail>CommandTimeout`), the test would fail/timeout on `fate.shutdown()`. There appears to still be one active transaction worker running (`Fate <META/USER> is waiting for worker threads to terminate` is logged until timeout). This only happens sometimes and I lowered the shutdown timeout to avoid a test failure in this case (this just avoids a test failure and allows the `shutdownNow` to be called on the pool, but doesn't fix the issue). It seems strange to me that a worker would still be running... there is only one transaction which is even attempted to be reserved (the one we `seed` in the test) and that is always followed by an unreserve (verified with logs). @keith-turner maybe you have some ideas?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2491775916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2492428178","html_url":"https://github.com/apache/accumulo/pull/5092#issuecomment-2492428178","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5092","id":2492428178,"node_id":"IC_kwDOACaFSM6Uj2-S","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T22:02:14Z","updated_at":"2024-11-21T22:02:14Z","author_association":"MEMBER","body":"This change was made by @meatballspaghetti , but I want to commit it first, because I have another PR I want to make that will build on this, and I believe so does he.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2492428178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2494221313","html_url":"https://github.com/apache/accumulo/pull/5072#issuecomment-2494221313","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5072","id":2494221313,"node_id":"IC_kwDOACaFSM6UqswB","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-22T16:44:44Z","updated_at":"2024-11-22T16:44:44Z","author_association":"CONTRIBUTOR","body":"This is ready for another review, I created #5096 as a follow on and started working on some changes for that in a branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2494221313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2494328799","html_url":"https://github.com/apache/accumulo/issues/5096#issuecomment-2494328799","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5096","id":2494328799,"node_id":"IC_kwDOACaFSM6UrG_f","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-22T17:17:11Z","updated_at":"2024-11-22T17:17:11Z","author_association":"CONTRIBUTOR","body":"@keith-turner - In regards to adding multi-threading for scans, I'm planning to add a new API call to InstanceOperations that is similar to getActiveCompactions(List<ServerId> servers) and I'm wondering what we want to do with the custom java [iterator](https://github.com/apache/accumulo/blob/bbfd250d8694c210faf31116d199b56570c46f38/shell/src/main/java/org/apache/accumulo/shell/commands/ActiveScanIterator.java#L33) used by the shell for the listscans command. \r\n\r\nWe could update that to just use the new API call and get back all the scans at one time for all the servers and print them out which simplifies things compared to now (currently it just makes calls as it loops through the list of servers instead of all at once). But we could get a lot of scans back depending on how many servers are queried at once. We could just and limit the number of servers we query at one time (maybe break the server list into chunks) but I'm also thinking we may just not need to worry about it because if too many scans are returned a better regex could be used to limit the results more.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2494328799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2494534259","html_url":"https://github.com/apache/accumulo/issues/5097#issuecomment-2494534259","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5097","id":2494534259,"node_id":"IC_kwDOACaFSM6Ur5Jz","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-22T18:54:43Z","updated_at":"2024-11-22T18:54:43Z","author_association":"CONTRIBUTOR","body":"When experimenting with this was seeing that a single thread could seed around 1.3 fate operations per second.  Making this a single conditional mutation should increase that rate significantly.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2494534259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2494849236","html_url":"https://github.com/apache/accumulo/issues/5098#issuecomment-2494849236","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5098","id":2494849236,"node_id":"IC_kwDOACaFSM6UtGDU","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-22T21:25:42Z","updated_at":"2024-11-22T21:25:42Z","author_association":"MEMBER","body":"The following makes it so the exception is not thrown but I'm not sure if this is the best solution:\r\n```diff\r\ndiff --git a/server/monitor/src/main/java/org/apache/accumulo/monitor/Monitor.java b/server/monitor/src/main/java/org/apache/accumulo/monitor/Monitor.java\r\nindex 80dd69b8cd..bd5111af47 100644\r\n--- a/server/monitor/src/main/java/org/apache/accumulo/monitor/Monitor.java\r\n+++ b/server/monitor/src/main/java/org/apache/accumulo/monitor/Monitor.java\r\n@@ -688,7 +688,7 @@ public class Monitor extends AbstractServer implements HighlyAvailableService {\r\n     public final Map<String,TExternalCompaction> ecRunningMap;\r\n \r\n     private ExternalCompactionsSnapshot(Map<String,TExternalCompaction> ecRunningMap) {\r\n-      this.ecRunningMap = Collections.unmodifiableMap(ecRunningMap);\r\n+      this.ecRunningMap = ecRunningMap == null ? Collections.emptyMap() : Collections.unmodifiableMap(ecRunningMap);\r\n       this.runningCompactions = new RunningCompactions(ecRunningMap);\r\n     }\r\n   }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2494849236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495075056","html_url":"https://github.com/apache/accumulo/issues/5098#issuecomment-2495075056","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5098","id":2495075056,"node_id":"IC_kwDOACaFSM6Ut9Lw","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-22T23:13:04Z","updated_at":"2024-11-22T23:13:43Z","author_association":"CONTRIBUTOR","body":"Looking at the code, that map having a null is valid so I think simply checking for null like the above example (or maybe using Optional) and just setting it to an immutable map should be fine in this case.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495075056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495492062","html_url":"https://github.com/apache/accumulo/issues/5014#issuecomment-2495492062","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5014","id":2495492062,"node_id":"IC_kwDOACaFSM6Uvi_e","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-23T14:09:43Z","updated_at":"2024-11-23T14:09:43Z","author_association":"CONTRIBUTOR","body":"@keith-turner - I've started to look into this and prototype something with a new column qual that will be added to the [split](https://github.com/apache/accumulo/blob/676989a1e39dbbaf2ff8e2e881e239c5b2a839b8/core/src/main/java/org/apache/accumulo/core/metadata/schema/MetadataSchema.java#L438) family that was added and a few questions come to mind on how we want to handle marking the tablets:\r\n\r\n1. Should we always require a split type to be set or is absent valid?\r\n2. This relates to my first question and I'm wondering if it makes sense to always store the split type (either user or system) or if it makes more sense to just mark a tablet if it's user generated and for system splits there would just be an absent marker. This could depend on if we ever plan to have more than 2 types at some point.\r\n3. For new tables I was thinking we'd either just mark them as system or absent depending on if absent is valid. For merges I am guessing we'd do the same? after the merge mark it as system generated or unset it etc.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495492062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495523610","html_url":"https://github.com/apache/accumulo/issues/5014#issuecomment-2495523610","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5014","id":2495523610,"node_id":"IC_kwDOACaFSM6Uvqsa","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-23T16:02:51Z","updated_at":"2024-11-23T16:03:48Z","author_association":"CONTRIBUTOR","body":"> Should we always require a split type to be set or is absent valid?\r\n\r\nThe pro for absence==system split is less data in the metadata table for a common case.  The con is absence can mean two things, its kinda like using null in java.  It can mean there is a bug and it was not set when it was intended to be set or it can mean its a system split.  So maybe we should only go w/ absence==system split if we feel confident enough in our tests to ensure that user split marker is always being set when intended.  \r\n\r\n\r\n> For new tables I was thinking we'd either just mark them as system or absent depending on if absent is valid.\r\n\r\nThe create table API has a mechanism to set initial splits on a table.  Those could be marked as user initially.  The default tablet at the end of every table seems like it would always be marked system, but not sure.  The default tablet is always there when you have zero or more splits.\r\n\r\n> For merges I am guessing we'd do the same? \r\n\r\nI can not remember what merge does w.r.t. adding splits.  Reviewing all of your merge changes, I remember something about deleterows inserting a split point possibly but not sure.  But, maybe this was removed in the 4.0 changes?  If merge is still adding splits, it was just doing that to make things work so not sure those should be marked as user.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495523610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495526170","html_url":"https://github.com/apache/accumulo/issues/5014#issuecomment-2495526170","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5014","id":2495526170,"node_id":"IC_kwDOACaFSM6UvrUa","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-23T16:10:51Z","updated_at":"2024-11-23T16:10:51Z","author_association":"CONTRIBUTOR","body":"Would the following be a good way to handle upgrade?\r\n\r\n 1. Upgrade marks all splits as system\r\n 2. There is per table prop that will enable automatic merges based on size.  The default value for this property is disables automatic merging.\r\n 3. The add split API call is modified such that if a user calls it passes in an existing split that is a system split it will remark it as a user split.\r\n\r\nThen after upgrade user have a chance to mark splits that should never be automatically removed before enabling the auto merge feature.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495526170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495543314","html_url":"https://github.com/apache/accumulo/issues/5014#issuecomment-2495543314","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5014","id":2495543314,"node_id":"IC_kwDOACaFSM6UvvgS","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-23T17:09:37Z","updated_at":"2024-11-23T17:10:17Z","author_association":"CONTRIBUTOR","body":"> Would the following be a good way to handle upgrade?\r\n> \r\n> 1. Upgrade marks all splits as system\r\n> 2. There is per table prop that will enable automatic merges based on size.  The default value for this property is disables automatic merging.\r\n> 3. The add split API call is modified such that if a user calls it passes in an existing split that is a system split it will remark it as a user split.\r\n> \r\n> Then after upgrade user have a chance to mark splits that should never be automatically removed before enabling the auto merge feature.\r\n\r\nI was wondering about the upgrade case, i like the idea of using absent for system splits as most splits will be system splits. However, one downside is any existing splits that a user created would be incorrectly marked as a system split on upgrade unless there were manual steps done to mark them as user during upgrade like mentioned above.\r\n\r\nI think this is fine but I'm wondering how we make it easy for a user to mark splits. We might need a new command line tool or something to make it simple to mark them. In fact, I could use a use case where a user decides maybe there's some tablets they don't want merged (even if originally system created) and they could use the tool not just for upgrades but for marking those to prevent merging too.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495543314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495547631","html_url":"https://github.com/apache/accumulo/issues/5096#issuecomment-2495547631","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5096","id":2495547631,"node_id":"IC_kwDOACaFSM6Uvwjv","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-23T17:22:33Z","updated_at":"2024-11-23T17:24:32Z","author_association":"CONTRIBUTOR","body":"> @keith-turner - In regards to adding multi-threading for scans, I'm planning to add a new API call to InstanceOperations that is similar to getActiveCompactions(List servers) and I'm wondering what we want to do with the custom java [iterator](https://github.com/apache/accumulo/blob/bbfd250d8694c210faf31116d199b56570c46f38/shell/src/main/java/org/apache/accumulo/shell/commands/ActiveScanIterator.java#L33) used by the shell for the listscans command.\r\n\r\nThat iterator seems like its concatenating iterators and transforming.  Seems like that cusomt iter could be dropped and replaced w/ streams that concat and transform and then turn the stream into an iterator.\r\n\r\n> We could update that to just use the new API call and get back all the scans at one time for all the servers and print them out which simplifies things compared to now (currently it just makes calls as it loops through the list of servers instead of all at once). But we could get a lot of scans back depending on how many servers are queried at once. We could just and limit the number of servers we query at one time (maybe break the server list into chunks) \r\n\r\nPull too much into memory seems like a valid concern.  Could possibly use guavas Lists.partition for this.  \r\n\r\n```\r\nList<List<ServerId>> partServerIds = Lists.partition(serverIds, 100);\r\nStream<String> activeScans = partServerIds.stream().flatMap(ids->client.instanceOps.getActiveScans(ids).stream()).map(//do the string mapping that ActiveScanIter does);\r\n```\r\n\r\nMaybe this will fetch 100 severs at a time in parallel, not sure.  Depends on flatMap behavior.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495547631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495554338","html_url":"https://github.com/apache/accumulo/issues/5014#issuecomment-2495554338","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5014","id":2495554338,"node_id":"IC_kwDOACaFSM6UvyMi","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-23T17:40:43Z","updated_at":"2024-11-23T17:40:43Z","author_association":"CONTRIBUTOR","body":"> I think this is fine but I'm wondering how we make it easy for a user to mark splits. We might need a new command line tool or something to make it simple to mark them. In fact, I could use a use case where a user decides maybe there's some tablets they don't want merged (even if originally system created) and they could use the tool not just for upgrades but for marking those to prevent merging too.\r\n\r\nAlso wondering about unmarking them.  The TabletInformation API couild be used to get information about the markings.  Then just need to figure out what the APIs and shell commands are for marking and unmarking them.  Could be similar to APIs and shell commands for makring tablet availability.\r\n\r\n> This could depend on if we ever plan to have more than 2 types at some point.\r\n\r\nMaybe instead of marking how a split was created we mark a splits mergability.  That could have the following three states.\r\n\r\n 1. ALWAYS : User or system initiated merge can merge this split away\r\n 2. USER : Only a user initiated merge can merge this split away\r\n 3. NEVER : Nothing can merge this split away and if a user merge operations is initiated on it then the merge operation would fail\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495554338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495615074","html_url":"https://github.com/apache/accumulo/issues/5014#issuecomment-2495615074","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5014","id":2495615074,"node_id":"IC_kwDOACaFSM6UwBBi","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-23T18:42:44Z","updated_at":"2024-11-23T18:42:44Z","author_association":"CONTRIBUTOR","body":"I talked to @keith-turner offline and we think it would be good to have a broader discussion with others first before deciding the best way forward for this. The main use case for this feature in the first place was to handle automatic merges. After talking to Keith about it being able to mark mergeability separately and not have it tied to how splits are created could have some advantages (but increases complexity). There's more potential use cases and features we came up with in regards to merging such as being able to mark a split as a candidate for auto merge or not regardless how the split was created, marking a tablet as never being able to merge, change the marking, etc and it would be good to see if anyone else has any opinions on it. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495615074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495636549","html_url":"https://github.com/apache/accumulo/issues/5101#issuecomment-2495636549","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5101","id":2495636549,"node_id":"IC_kwDOACaFSM6UwGRF","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-23T19:54:49Z","updated_at":"2024-11-23T19:54:49Z","author_association":"CONTRIBUTOR","body":"I chatted with @keith-turner a bit about this. It looks like 4.0 doesn't have this check, the spot where it would likely be done is [here](https://github.com/apache/accumulo/blob/d139704010987b0dc6474d74db0fbabe52795b82/server/manager/src/main/java/org/apache/accumulo/manager/TabletGroupWatcher.java#L609-L619).\r\n\r\nSome more investigation is still needed, something else to consider is what to do if a tablet is marked as unsplittable. We'd probably still want to compact in that case","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495636549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495643648","html_url":"https://github.com/apache/accumulo/issues/4979#issuecomment-2495643648","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4979","id":2495643648,"node_id":"IC_kwDOACaFSM6UwIAA","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-23T20:19:32Z","updated_at":"2024-11-23T20:19:32Z","author_association":"CONTRIBUTOR","body":"Could also include the scanref table in this work.  Both may use a uuid for the row, so can generate good splits for both using the same code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2495643648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2496174176","html_url":"https://github.com/apache/accumulo/issues/5087#issuecomment-2496174176","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5087","id":2496174176,"node_id":"IC_kwDOACaFSM6UyJhg","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-24T19:03:10Z","updated_at":"2024-11-24T19:03:10Z","author_association":"CONTRIBUTOR","body":"I took a look at the API and [docs](https://hadoop.apache.org/docs/r3.4.0/api/org/apache/hadoop/fs/FileSystem.html#listStatus-org.apache.hadoop.fs.Path-org.apache.hadoop.fs.PathFilter-) and it looks like catching that exception should be all we need to do to handle this.\r\n\r\nAlso, i found a couple spots in the code where variations of this method are called and we are already catching FileNotFoundException such as [here](https://github.com/apache/accumulo/blob/d139704010987b0dc6474d74db0fbabe52795b82/server/base/src/main/java/org/apache/accumulo/server/fs/VolumeManager.java#L216).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2496174176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2496206732","html_url":"https://github.com/apache/accumulo/issues/5101#issuecomment-2496206732","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5101","id":2496206732,"node_id":"IC_kwDOACaFSM6UyReM","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-24T20:08:02Z","updated_at":"2024-11-24T20:08:02Z","author_association":"CONTRIBUTOR","body":"It looks like the unsplittable tablet case should already be handled as TabletManagementIterator won't return that the tablet needs splitting if it is unsplittable. The check is made by a call to [shouldReturnDueToSplit](https://github.com/apache/accumulo/blob/d139704010987b0dc6474d74db0fbabe52795b82/server/base/src/main/java/org/apache/accumulo/server/manager/state/TabletManagementIterator.java#L303) and inside that method the check is done","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2496206732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2496208649","html_url":"https://github.com/apache/accumulo/issues/5101#issuecomment-2496208649","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5101","id":2496208649,"node_id":"IC_kwDOACaFSM6UyR8J","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-24T20:12:27Z","updated_at":"2024-11-24T20:12:27Z","author_association":"CONTRIBUTOR","body":"I think fixing this is as simple as changing [this](https://github.com/apache/accumulo/blob/d139704010987b0dc6474d74db0fbabe52795b82/server/manager/src/main/java/org/apache/accumulo/manager/TabletGroupWatcher.java#L609-L619) block of code from two if statements to an if/else if statement so that compaction only gets processed if the tablet doesn't need to split. Ie\r\n\r\n```java\r\nif (actions.contains(ManagementAction.NEEDS_SPLITTING)) {\r\n  // split\r\n} else if (actions.contains(ManagementAction.NEEDS_COMPACTING) && compactionGenerator != null) {\r\n  // use else if so we only compact if we don't need to split\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2496208649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2496222970","html_url":"https://github.com/apache/accumulo/pull/5104#issuecomment-2496222970","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5104","id":2496222970,"node_id":"IC_kwDOACaFSM6UyVb6","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-24T20:46:26Z","updated_at":"2024-11-24T20:46:26Z","author_association":"CONTRIBUTOR","body":"Before closing this I plan to open a follow on issue about making minor compactions pause also.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2496222970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2496248017","html_url":"https://github.com/apache/accumulo/pull/5102#issuecomment-2496248017","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5102","id":2496248017,"node_id":"IC_kwDOACaFSM6UybjR","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-24T21:38:08Z","updated_at":"2024-11-24T21:38:08Z","author_association":"CONTRIBUTOR","body":"@keith-turner - this is ready for another review after the latest updates","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2496248017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2497929622","html_url":"https://github.com/apache/accumulo/pull/5105#issuecomment-2497929622","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5105","id":2497929622,"node_id":"IC_kwDOACaFSM6U42GW","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-25T12:46:58Z","updated_at":"2024-11-25T12:46:58Z","author_association":"CONTRIBUTOR","body":"I'm curious if it's possible for a tablet to be in the NEEDS_SPLITTING state, but doesn't split for some reason, and then neither splits or compactions occur.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2497929622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2498174131","html_url":"https://github.com/apache/accumulo/pull/5105#issuecomment-2498174131","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5105","id":2498174131,"node_id":"IC_kwDOACaFSM6U5xyz","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-25T14:29:55Z","updated_at":"2024-11-25T14:29:55Z","author_association":"CONTRIBUTOR","body":"> I'm curious if it's possible for a tablet to be in the NEEDS_SPLITTING state, but doesn't split for some reason, and then neither splits or compactions occur.\r\n\r\nI'll let @keith-turner comment too as he would know better but each time TGW runs it should recompute things so if a tablet was marked a needing to be split but then something changed I would think it would remove that marking and it could compact. I'm not sure if there is some other issue that would prevent splitting, maybe if the tablet couldn't be reserved but i'd think that would maybe block compaction too. The only other thing I could think of was if splits were happening so rapidly they blocked compactions but I asked @keith-turner and he didn't think this was a big concern. \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2498174131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2498225531","html_url":"https://github.com/apache/accumulo/issues/5097#issuecomment-2498225531","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5097","id":2498225531,"node_id":"IC_kwDOACaFSM6U5-V7","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-25T14:47:56Z","updated_at":"2024-11-25T14:47:56Z","author_association":"MEMBER","body":"Interesting, yeah the number of conditional mutations could definitely be decreased here and maybe elsewhere too...\r\nI can take a look at this when I get the chance (unless someone else wants to pick this up before then, which is also fine).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2498225531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2498298528","html_url":"https://github.com/apache/accumulo/pull/5105#issuecomment-2498298528","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5105","id":2498298528,"node_id":"IC_kwDOACaFSM6U6QKg","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-25T15:15:48Z","updated_at":"2024-11-25T15:15:48Z","author_association":"CONTRIBUTOR","body":"It looks like the TabletManagementIterator will always return `NEEDS_SPLITTING` to the TabletGroupWatcher, and the Manager will will only queue up one split task for the Tablet. If something is wrong with Fate, even if there just not enough threads, this task could sit in the queue for a long time and no compactions will run. Also, with the new PR #5104, bulk imports will be paused. The `fatePoolWatcher` will resize when the `MANAGER_FATE_THREADPOOL_SIZE` property is changed. I wonder if it should resize also based on the Fate queue size. @keith-turner  ?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2498298528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2498300510","html_url":"https://github.com/apache/accumulo/pull/5104#issuecomment-2498300510","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5104","id":2498300510,"node_id":"IC_kwDOACaFSM6U6Qpe","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-25T15:16:36Z","updated_at":"2024-11-25T15:16:36Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/accumulo/pull/5105#issuecomment-2498298528 mentions this PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2498300510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2498905768","html_url":"https://github.com/apache/accumulo/pull/5108#issuecomment-2498905768","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5108","id":2498905768,"node_id":"IC_kwDOACaFSM6U8kao","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-25T19:53:42Z","updated_at":"2024-11-25T19:53:42Z","author_association":"MEMBER","body":"All of the other pages look the same except the home page which no longer has the graphs:\r\n\r\n![image](https://github.com/user-attachments/assets/b4c34024-6672-49bf-89ce-5f0bc31d380a)\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2498905768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2499011833","html_url":"https://github.com/apache/accumulo/issues/5091#issuecomment-2499011833","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5091","id":2499011833,"node_id":"IC_kwDOACaFSM6U8-T5","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-25T20:54:00Z","updated_at":"2024-11-25T20:54:00Z","author_association":"MEMBER","body":"#5019 removed the problem reports in the main branch. It needs to be backported to 3.1 for this. I was going to do it, but am also okay with you taking it over, since I haven't gotten to it yet.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2499011833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2499024656","html_url":"https://github.com/apache/accumulo/issues/5091#issuecomment-2499024656","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5091","id":2499024656,"node_id":"IC_kwDOACaFSM6U9BcQ","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-25T21:01:27Z","updated_at":"2024-11-25T21:01:27Z","author_association":"MEMBER","body":"> #5019 removed the problem reports in the main branch. It needs to be backported to 3.1 for this. I was going to do it, but am also okay with you taking it over, since I haven't gotten to it yet.\r\n\r\nI can do it if you haven't started. It seems like you have a pretty good understanding of what needs to happen in terms of backporting and then the follow on changes that need to go into 2.1. Let me know if you would like to do it or if I should start looking into it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2499024656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2499064103","html_url":"https://github.com/apache/accumulo/pull/5111#issuecomment-2499064103","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5111","id":2499064103,"node_id":"IC_kwDOACaFSM6U9LEn","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-25T21:22:52Z","updated_at":"2024-11-25T21:22:52Z","author_association":"CONTRIBUTOR","body":"This is an alternate solution for #5099 . If this is merged, then #5099 can be closed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2499064103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2499153666","html_url":"https://github.com/apache/accumulo/issues/5091#issuecomment-2499153666","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5091","id":2499153666,"node_id":"IC_kwDOACaFSM6U9g8C","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-25T22:19:56Z","updated_at":"2024-11-25T22:19:56Z","author_association":"MEMBER","body":"> > #5019 removed the problem reports in the main branch. It needs to be backported to 3.1 for this. I was going to do it, but am also okay with you taking it over, since I haven't gotten to it yet.\r\n> \r\n> I can do it if you haven't started.\r\n\r\nI haven't started it, but looking at the PR, it does not look like it will be a difficult backport.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2499153666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2500746254","html_url":"https://github.com/apache/accumulo/pull/5099#issuecomment-2500746254","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5099","id":2500746254,"node_id":"IC_kwDOACaFSM6VDlwO","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-26T13:01:48Z","updated_at":"2024-11-26T13:01:48Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #5111 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2500746254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2501229958","html_url":"https://github.com/apache/accumulo/pull/5111#issuecomment-2501229958","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5111","id":2501229958,"node_id":"IC_kwDOACaFSM6VFb2G","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-26T15:53:48Z","updated_at":"2024-11-26T15:53:48Z","author_association":"MEMBER","body":"I think I liked the #5099 solution to add the feature to the cluster yaml, rather than have multiple config files filling the config directory. However, I don't feel strongly about it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2501229958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2501519511","html_url":"https://github.com/apache/accumulo/pull/5114#issuecomment-2501519511","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5114","id":2501519511,"node_id":"IC_kwDOACaFSM6VGiiX","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-26T17:20:06Z","updated_at":"2024-11-26T17:20:06Z","author_association":"CONTRIBUTOR","body":"Tested locally and used `./accumulo dump-zoo` to verify zookeeper contents. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2501519511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2501626362","html_url":"https://github.com/apache/accumulo/pull/5105#issuecomment-2501626362","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5105","id":2501626362,"node_id":"IC_kwDOACaFSM6VG8n6","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-26T18:12:51Z","updated_at":"2024-11-26T18:12:51Z","author_association":"CONTRIBUTOR","body":"> The fatePoolWatcher will resize when the MANAGER_FATE_THREADPOOL_SIZE property is changed. I wonder if it should resize also based on the Fate queue size. @keith-turner ?\r\n\r\nWe could try to make the the thread pool shink and grow based on demand.  However its max size should always be configurable IMO.  We can not grow the pool unbounded.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2501626362/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2502468971","html_url":"https://github.com/apache/accumulo/issues/5097#issuecomment-2502468971","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5097","id":2502468971,"node_id":"IC_kwDOACaFSM6VKKVr","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T01:47:57Z","updated_at":"2024-11-27T01:47:57Z","author_association":"CONTRIBUTOR","body":"> Interesting, yeah the number of conditional mutations could definitely be decreased here and maybe elsewhere too...\r\nI can take a look at this when I get the chance (unless someone else wants to pick this up before then, which is also fine).\r\n\r\nI just saw this comment and I had started working on this earlier today.  I hope to have a PR up tomorrow.   Also I have realized there are follow on changes that could further speed some things up,  plan to open follow on issues up after posting that PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2502468971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2503823426","html_url":"https://github.com/apache/accumulo/issues/5098#issuecomment-2503823426","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5098","id":2503823426,"node_id":"IC_kwDOACaFSM6VPVBC","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T13:01:59Z","updated_at":"2024-11-27T13:01:59Z","author_association":"CONTRIBUTOR","body":"@DomGarguilo  - can this be closed, or is there more to do?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2503823426/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2503894972","html_url":"https://github.com/apache/accumulo/issues/5097#issuecomment-2503894972","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5097","id":2503894972,"node_id":"IC_kwDOACaFSM6VPme8","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T13:35:01Z","updated_at":"2024-11-27T13:35:01Z","author_association":"MEMBER","body":"Sounds good, I can take a look at the PR","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2503894972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2503918337","html_url":"https://github.com/apache/accumulo/pull/5115#issuecomment-2503918337","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5115","id":2503918337,"node_id":"IC_kwDOACaFSM6VPsMB","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T13:45:21Z","updated_at":"2024-11-27T13:45:21Z","author_association":"CONTRIBUTOR","body":"PR looks good. I'm concerned that this could cause an issue for any user that is using the parse tree after calling `flatten` or `normalize`. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2503918337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504299942","html_url":"https://github.com/apache/accumulo/pull/1660#issuecomment-2504299942","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1660","id":2504299942,"node_id":"IC_kwDOACaFSM6VRJWm","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T16:26:24Z","updated_at":"2024-11-27T16:26:24Z","author_association":"CONTRIBUTOR","body":"I was using this, I guess I can re-instate it on my own though.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504299942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504572146","html_url":"https://github.com/apache/accumulo/pull/5116#issuecomment-2504572146","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5116","id":2504572146,"node_id":"IC_kwDOACaFSM6VSLzy","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T18:42:39Z","updated_at":"2024-11-27T18:42:39Z","author_association":"CONTRIBUTOR","body":"Draft because I have not tested this yet.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504572146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504573869","html_url":"https://github.com/apache/accumulo/pull/5114#issuecomment-2504573869","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5114","id":2504573869,"node_id":"IC_kwDOACaFSM6VSMOt","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T18:43:52Z","updated_at":"2024-11-27T18:43:52Z","author_association":"CONTRIBUTOR","body":"> LGTM. I think there is further simplification that could be done in another PR. `start` starts everything and `start-servers` either starts everything or starts only one type of server process. Seems like we could simplify this to:\r\n> \r\n> `start [--all (default) | [--manager] [--gc] [--monitor] [--tservers [group]] [--sservers [group]] [--compactors [group]]`\r\n\r\nCreated #5116 for this. I haven't tested it yet, but I'm thinking it should work.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504573869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504733514","html_url":"https://github.com/apache/accumulo/issues/5117#issuecomment-2504733514","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5117","id":2504733514,"node_id":"IC_kwDOACaFSM6VSzNK","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T20:38:07Z","updated_at":"2024-11-27T20:38:07Z","author_association":"CONTRIBUTOR","body":"To fix this probably need to add a method like `requireFiles(Set<StoredTabletFile> files)` to ample.  After adding that could   survey the code to see if other places could benefit from a more narrow check.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504733514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504920465","html_url":"https://github.com/apache/accumulo/pull/5120#issuecomment-2504920465","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5120","id":2504920465,"node_id":"IC_kwDOACaFSM6VTg2R","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T22:36:54Z","updated_at":"2024-11-27T23:02:12Z","author_association":"MEMBER","body":"I noticed that FateIT was flaky while testing this. I'll create a separate PR to fix that (see #5121). It's unrelated to these changes.\r\n\r\nSince most of this is pretty trivial refactoring, and inlining, I expect to merge this once I have verified all the ITs pass. The biggest risk of breakage from these are changes to mocked methods in some tests due to the refactoring (for example, if a mocked object expected `manager.getInstance()` to be called, it will need to be changed to expect `manager.getContext().getInstanceId()`). I've already fixed the failures in the tests I've modified, but there may be others that are indirectly affected, that I'll fix before merging this.\r\n\r\n@meatballspaghetti a lot of this is probably is obsoleted by your work on #4809, so I suspect there will be many conflicts with your working branch. They should all be trivial conflicts, though. You'll probably have to rebase onto 3.1 if this is merged before your PR for #4809 is created, which I suspect it will be. Nevertheless, I couldn't help but go down this rabbit hole of fixing all these little issues, because they kept showing up over and over again when I was touching other code related to the ZK usages that needed modified so that it can be excluded from your chroot work for #4809. Once this is merged, I'll be able to wrap up those other changes, so that it doesn't hold you up for the rest of the chroot things. In the meantime, let me know if you need help with the rebase of your branch onto this once this is merged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504920465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504981779","html_url":"https://github.com/apache/accumulo/pull/5121#issuecomment-2504981779","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5121","id":2504981779,"node_id":"IC_kwDOACaFSM6VTv0T","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T23:38:51Z","updated_at":"2024-11-28T10:22:17Z","author_association":"MEMBER","body":"This was fixed in the main branch already because the implementation of getStatus was changed for the meta fate store, to just return UNKNOWN when encountering NoNode, and the test simply skipped checking for any kind of SUCCESSFUL intermediate status first. I could have done that here as well, but I thought it useful to preserve the initial check that it first transitioned to SUCCESSFUL before being deleted. In the main branch, a similar approach could be done to check that the state transition goes from IN_PROGRESS to SUCCESSFUL to UNKNOWN, to ensure states are never observed out of order before terminating in the UNKNOWN state. I am thinking I will do that as a separate PR. What do you think, @dlmarion (for context, I'm tagging you because you were involved in the initial attempts to address this and because you may have insight into the evolution of the code in the main branch)?\r\n\r\nEDIT: I figured out what was going on in the main branch, and applied 7e6ad2d3636e361a402aae207666a4bf690a1fd6 to complete the merge of these changes forward into the main branch. I tested by running FateIT and the 2 tests that extend it (MetaFateIT and UserFateIT).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2504981779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2505215865","html_url":"https://github.com/apache/accumulo/pull/5120#issuecomment-2505215865","issue_url":"https://api.github.com/repos/apache/accumulo/issues/5120","id":2505215865,"node_id":"IC_kwDOACaFSM6VUo95","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-28T03:57:06Z","updated_at":"2024-11-28T03:57:06Z","author_association":"MEMBER","body":"Full ITs passed, so I'll merge this and merge it up to the main branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2505215865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]