[{"url":"https://api.github.com/repos/apache/helix/issues/comments/773694535","html_url":"https://github.com/apache/helix/issues/1638#issuecomment-773694535","issue_url":"https://api.github.com/repos/apache/helix/issues/1638","id":773694535,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY5NDUzNQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T00:28:20Z","updated_at":"2021-02-05T00:28:20Z","author_association":"CONTRIBUTOR","body":"### https://github.com/apache/helix/pull/1000/files#diff-a7737834d48d58f89a95636b50b2858589a27e7043625bffaaa68ece67e3c361R22-R38","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773694535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773694591","html_url":"https://github.com/apache/helix/issues/1638#issuecomment-773694591","issue_url":"https://api.github.com/repos/apache/helix/issues/1638","id":773694591,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY5NDU5MQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T00:28:28Z","updated_at":"2021-02-05T00:28:28Z","author_association":"CONTRIBUTOR","body":"#https://github.com/apache/helix/pull/1000/files#diff-a7737834d48d58f89a95636b50b2858589a27e7043625bffaaa68ece67e3c361R22-R38","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773694591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773694634","html_url":"https://github.com/apache/helix/issues/1638#issuecomment-773694634","issue_url":"https://api.github.com/repos/apache/helix/issues/1638","id":773694634,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY5NDYzNA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T00:28:35Z","updated_at":"2021-02-05T00:28:35Z","author_association":"CONTRIBUTOR","body":"`https://github.com/apache/helix/pull/1000/files#diff-a7737834d48d58f89a95636b50b2858589a27e7043625bffaaa68ece67e3c361R22-R38`","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773694634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773694662","html_url":"https://github.com/apache/helix/issues/1638#issuecomment-773694662","issue_url":"https://api.github.com/repos/apache/helix/issues/1638","id":773694662,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY5NDY2Mg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T00:28:41Z","updated_at":"2021-02-05T00:28:41Z","author_association":"CONTRIBUTOR","body":"[https://github.com/apache/helix/pull/1000/files#diff-a7737834d48d58f89a95636b50b2858589a27e7043625bffaaa68ece67e3c361R22-R38](url)","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773694662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773696785","html_url":"https://github.com/apache/helix/issues/1638#issuecomment-773696785","issue_url":"https://api.github.com/repos/apache/helix/issues/1638","id":773696785,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY5Njc4NQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T00:33:21Z","updated_at":"2021-02-05T00:33:21Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/pull/1000/files#diff-a7737834d48d58f89a95636b50b2858589a27e7043625bffaaa68ece67e3c361L50-L59","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773696785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773733776","html_url":"https://github.com/apache/helix/issues/1630#issuecomment-773733776","issue_url":"https://api.github.com/repos/apache/helix/issues/1630","id":773733776,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzczMzc3Ng==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T02:14:37Z","updated_at":"2021-02-05T02:14:37Z","author_association":"CONTRIBUTOR","body":"It seems to be a real production code issue instead of a test problem.\r\nIf we try to drop an instance immediately after it is disabled, we may see some messages from the controller side too, right?\r\n\r\nI believe a better fix is to add a retry logic in the deleteRecursively to tolerate this situation in general. However, this is still not the proper fix. The best way is to lock the folder before delete, then remove the folder with confidence. The only downside is that this would be potentially complicated.\r\n\r\n@kaisun2000 I think it is not a good idea to change the test logic here. Since it is a good one which helps us to uncover a potential issue. Please feel free to create another issue for the proper logic fix.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773733776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/774108580","html_url":"https://github.com/apache/helix/issues/1622#issuecomment-774108580","issue_url":"https://api.github.com/repos/apache/helix/issues/1622","id":774108580,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NDEwODU4MA==","user":{"login":"arindamc2000","id":34553643,"node_id":"MDQ6VXNlcjM0NTUzNjQz","avatar_url":"https://avatars.githubusercontent.com/u/34553643?v=4","gravatar_id":"","url":"https://api.github.com/users/arindamc2000","html_url":"https://github.com/arindamc2000","followers_url":"https://api.github.com/users/arindamc2000/followers","following_url":"https://api.github.com/users/arindamc2000/following{/other_user}","gists_url":"https://api.github.com/users/arindamc2000/gists{/gist_id}","starred_url":"https://api.github.com/users/arindamc2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arindamc2000/subscriptions","organizations_url":"https://api.github.com/users/arindamc2000/orgs","repos_url":"https://api.github.com/users/arindamc2000/repos","events_url":"https://api.github.com/users/arindamc2000/events{/privacy}","received_events_url":"https://api.github.com/users/arindamc2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T15:37:58Z","updated_at":"2021-02-05T15:37:58Z","author_association":"NONE","body":"@narendly I do have my cluster configured for auto rebalancing but for some reason my IdealState Rebalance mode is configured to SEMI_AUTO.\r\nI tried this piece of code to force it to rebalance as FULL_AUTO, but that did not help:\r\n\r\n IdealState state = new IdealState(zkAdmin.getResourcesInCluster(trellixConfiguration.getHeCluster()).get(0));\r\n                state.setRebalanceMode(RebalanceMode.FULL_AUTO);\r\n                state.setReplicas(\"2\");\r\n                zkAdmin.rebalance(trellixConfiguration.getHeCluster(), state, zkAdmin.getInstancesInCluster(trellixConfiguration.getHeCluster()));","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/774108580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/774266639","html_url":"https://github.com/apache/helix/pull/1631#issuecomment-774266639","issue_url":"https://api.github.com/repos/apache/helix/issues/1631","id":774266639,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NDI2NjYzOQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T20:20:28Z","updated_at":"2021-02-05T20:34:31Z","author_association":"NONE","body":"So here we decided to fix the test instead of the issue? Is there any issue tracking the actual problem that can be linked to this PR?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/774266639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/774304773","html_url":"https://github.com/apache/helix/pull/1637#issuecomment-774304773","issue_url":"https://api.github.com/repos/apache/helix/issues/1637","id":774304773,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NDMwNDc3Mw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T21:44:05Z","updated_at":"2021-02-05T21:44:05Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc \r\n\r\nWhen admin or participant resets partition with ERROR -> OFFLINE state transition, helix controller determines it is an unnecessary state transition so it cancels the state transition. The ensure partition reset is successful, helix controller should skip cancelling the ERROR -> OFFLINE state transition.\r\n\r\nThis commit adds a logic: Helix controller should not cancel the pending ST if the pending ST is ERROR -> initialState","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/774304773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/774309231","html_url":"https://github.com/apache/helix/issues/1601#issuecomment-774309231","issue_url":"https://api.github.com/repos/apache/helix/issues/1601","id":774309231,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NDMwOTIzMQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T21:54:57Z","updated_at":"2021-02-05T21:54:57Z","author_association":"CONTRIBUTOR","body":" fixed by #1609","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/774309231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/774310510","html_url":"https://github.com/apache/helix/issues/1595#issuecomment-774310510","issue_url":"https://api.github.com/repos/apache/helix/issues/1595","id":774310510,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NDMxMDUxMA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T21:58:07Z","updated_at":"2021-02-05T21:58:07Z","author_association":"CONTRIBUTOR","body":"NPE is caught and stack trace is logged as error. So the log is seen. No need to fix","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/774310510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/774320216","html_url":"https://github.com/apache/helix/issues/1630#issuecomment-774320216","issue_url":"https://api.github.com/repos/apache/helix/issues/1630","id":774320216,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NDMyMDIxNg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T22:22:27Z","updated_at":"2021-02-05T22:22:27Z","author_association":"CONTRIBUTOR","body":"#1640 is created to trace this race condition from production code point of view.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/774320216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/774320323","html_url":"https://github.com/apache/helix/pull/1631#issuecomment-774320323","issue_url":"https://api.github.com/repos/apache/helix/issues/1631","id":774320323,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NDMyMDMyMw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T22:22:44Z","updated_at":"2021-02-05T22:22:44Z","author_association":"CONTRIBUTOR","body":"> So here we decided to fix the test instead of the issue? Is there any issue tracking the actual problem that can be linked to this PR?\r\n\r\nGood point. Here is the issue tracking the production issue. #1640 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/774320323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/774337350","html_url":"https://github.com/apache/helix/pull/1631#issuecomment-774337350","issue_url":"https://api.github.com/repos/apache/helix/issues/1631","id":774337350,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NDMzNzM1MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T23:11:04Z","updated_at":"2021-02-05T23:22:38Z","author_association":"CONTRIBUTOR","body":"The PR is approved. Please help to merge. \r\n>fix TestCrushAutoRebalanceNonRack.testLackEnoughInstances unstable issue (#1630)\r\nThis test still fails in production due to race condition that controller sending message is async\r\nto test dropping instance. Thus when there is message on the queue, dropping would throw\r\nexception. Fix by stop controller as a workaround to avoid race condition.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/774337350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/775512978","html_url":"https://github.com/apache/helix/issues/1632#issuecomment-775512978","issue_url":"https://api.github.com/repos/apache/helix/issues/1632","id":775512978,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NTUxMjk3OA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-08T22:42:58Z","updated_at":"2021-02-08T22:42:58Z","author_association":"CONTRIBUTOR","body":"2021-02-07T00:54:57.0648469Z Start test :testActivateSuperCluster\r\n2021-02-07T00:54:57.9903022Z 46659 [ZkClient-EventThread-2012-localhost:2123] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2021-02-07T00:54:57.9905732Z java.lang.InterruptedException\r\n2021-02-07T00:54:57.9906943Z \tat java.lang.Object.wait(Native Method)\r\n2021-02-07T00:54:57.9907892Z \tat java.lang.Object.wait(Object.java:502)\r\n2021-02-07T00:54:57.9909663Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2021-02-07T00:54:57.9911968Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.issueSync(ZkClient.java:1299)\r\n2021-02-07T00:54:57.9913811Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.access$300(ZkClient.java:85)\r\n2021-02-07T00:54:57.9915368Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$4.run(ZkClient.java:1325)\r\n2021-02-07T00:54:57.9917062Z \tat org.apache.helix.zookeeper.zkclient.ZkEventThread.run(ZkEventThread.java:99)\r\n**2021-02-07T00:55:00.1898872Z 48855 [pool-74-thread-1] ERROR org.apache.helix.controller.GenericHelixController  - Failed to schedule a future pipeline run for cluster RestSuperClusterActivationTest_SuperCluster. Helix manager is null!**\r\n2021-02-07T00:55:12.2179828Z 60882 [main] ERROR org.apache.helix.TestHelper  - verifier time out, consider try longer timeout, stack trace[java.lang.Thread.getStackTrace(Thread.java:1559), org.apache.helix.TestHelper.verify(TestHelper.java:813), org.apache.helix.rest.server.TestClusterAccessor.testActivateSuperCluster(TestClusterAccessor.java:672), sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method), sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.lang.reflect.Method.invoke(Method.java:498), org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:76), org.testng.internal.Invoker.invokeMethod(Invoker.java:673), org.testng.internal.Invoker.invokeTestMethod(Invoker.java:846), org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1170), org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125), org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109), org.testng.TestRunner.runWorkers(TestRunner.java:1147), org.testng.TestRunner.privateRun(TestRunner.java:749), org.testng.TestRunner.run(TestRunner.java:600), org.testng.SuiteRunner.runTest(SuiteRunner.java:317), org.testng.SuiteRunner.runSequentially(SuiteRunner.java:312), org.testng.SuiteRunner.privateRun(SuiteRunner.java:274), org.testng.SuiteRunner.run(SuiteRunner.java:223), org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52), org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86), org.testng.TestNG.runSuitesSequentially(TestNG.java:1039), org.testng.TestNG.runSuitesLocally(TestNG.java:964), org.testng.TestNG.run(TestNG.java:900), org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:283), org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:75), org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:120), org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384), org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345), org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126), org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)]","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/775512978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/775581347","html_url":"https://github.com/apache/helix/pull/1628#issuecomment-775581347","issue_url":"https://api.github.com/repos/apache/helix/issues/1628","id":775581347,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NTU4MTM0Nw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-09T01:20:32Z","updated_at":"2021-02-09T01:20:32Z","author_association":"CONTRIBUTOR","body":"I guess the core of this PR is how we calculate the expected replica count and how we use it to categorize the message. I have some questions regarding the design, already comment on the PR. But I think it would be more efficient if you can help to host a meeting for the stakeholders to discuss it.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/775581347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/776235521","html_url":"https://github.com/apache/helix/pull/1644#issuecomment-776235521","issue_url":"https://api.github.com/repos/apache/helix/issues/1644","id":776235521,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjIzNTUyMQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-09T20:50:48Z","updated_at":"2021-02-09T20:53:51Z","author_association":"CONTRIBUTOR","body":"An alternative way that I think would be cleaner and future proof, we make the create ZkClient method in the HelixManager public. Of course, we may need to refine this method since it is for now a private method only. But as long as it is done, the HelixManager users no longer need to care about the internal details. The manager object just generates a new client according to the initial config.\r\n\r\nThis is a proposal I thought for a while. There are several benefits,\r\n1. Hide details, as mentioned above.\r\n2. Potentially simplifying code. We can even enforce all the Helix user to create client through a HelixManager in the future. So this class becomes the only one who understands the necessary mess.\r\n3. Potentially a better place (or another handy layer) to manage connections compared with the other static pool object.\r\n\r\nI suggest we discuss this, and maybe other ideas, before push forward this PR. Since if we choose a different direction, then we shall not add more methods to the public interface.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/776235521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/776271851","html_url":"https://github.com/apache/helix/pull/1645#issuecomment-776271851","issue_url":"https://api.github.com/repos/apache/helix/issues/1645","id":776271851,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjI3MTg1MQ==","user":{"login":"lei-xia","id":9325494,"node_id":"MDQ6VXNlcjkzMjU0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9325494?v=4","gravatar_id":"","url":"https://api.github.com/users/lei-xia","html_url":"https://github.com/lei-xia","followers_url":"https://api.github.com/users/lei-xia/followers","following_url":"https://api.github.com/users/lei-xia/following{/other_user}","gists_url":"https://api.github.com/users/lei-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/lei-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lei-xia/subscriptions","organizations_url":"https://api.github.com/users/lei-xia/orgs","repos_url":"https://api.github.com/users/lei-xia/repos","events_url":"https://api.github.com/users/lei-xia/events{/privacy}","received_events_url":"https://api.github.com/users/lei-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-09T21:59:38Z","updated_at":"2021-02-09T21:59:38Z","author_association":"MEMBER","body":"I think we have a pending discussion on how to utilize the threadpool, right?  Have we reached any agree on the design? ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/776271851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/776277420","html_url":"https://github.com/apache/helix/pull/1645#issuecomment-776277420","issue_url":"https://api.github.com/repos/apache/helix/issues/1645","id":776277420,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjI3NzQyMA==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-09T22:08:47Z","updated_at":"2021-02-09T22:08:47Z","author_association":"CONTRIBUTOR","body":"> I think we have a pending discussion on how to utilize the threadpool, right? Have we reached any agree on the design?\r\n\r\nThanks for the reply. Yea I posted the PR so is easier to get comments and advices. I will schedule an offline discuss as well. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/776277420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/776299275","html_url":"https://github.com/apache/helix/pull/1644#issuecomment-776299275","issue_url":"https://api.github.com/repos/apache/helix/issues/1644","id":776299275,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjI5OTI3NQ==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-09T22:55:32Z","updated_at":"2021-02-09T22:55:32Z","author_association":"CONTRIBUTOR","body":"> An alternative way that I think would be cleaner and future proof, we make the create ZkClient method in the HelixManager public. Of course, we may need to refine this method since it is for now a private method only. But as long as it is done, the HelixManager users no longer need to care about the internal details. The manager object just generates a new client according to the initial config.\r\n> \r\n> This is a proposal I thought for a while. There are several benefits,\r\n> \r\n> 1. Hide details, as mentioned above.\r\n> 2. Potentially simplifying code. We can even enforce all the Helix user to create client through a HelixManager in the future. So this class becomes the only one who understands the necessary mess.\r\n> 3. Potentially a better place (or another handy layer) to manage connections compared with the other static pool object.\r\n> \r\n> I suggest we discuss this, and maybe other ideas, before push forward this PR. Since if we choose a different direction, then we shall not add more methods to the public interface.\r\n\r\nResolved with @jiajunwang offline, the design concern over ZooScalability is unrelated to this particular bug fix. We established that the difficulty of this code lies within the fact that TaskStateModelFactory may be initialized before ZkHelixManager connection, which is why we need to create a new ZkClient. @jiajunwang 's main concern is over the OO design, to which we have a solution now.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/776299275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/778354782","html_url":"https://github.com/apache/helix/pull/1644#issuecomment-778354782","issue_url":"https://api.github.com/repos/apache/helix/issues/1644","id":778354782,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODM1NDc4Mg==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T18:09:44Z","updated_at":"2021-02-12T18:09:44Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang   \r\nFinal commit message:\r\n## Fix TaskStateModelFactory no msds endpoint multizk situation ##\r\nFix TaskStateModelFactory creation when msds endpoint is not included in system property. This bug was introduced because when the feature was introduced to allow no msds endpoint in system property, the code in this PR was still in a feature branch and didn't get updated properly. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/778354782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/780198782","html_url":"https://github.com/apache/helix/pull/1649#issuecomment-780198782","issue_url":"https://api.github.com/repos/apache/helix/issues/1649","id":780198782,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDE5ODc4Mg==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T00:06:44Z","updated_at":"2021-02-17T00:06:44Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang\r\nFinal commit message:\r\n\r\nAdd metrics for continuous resource/task rebalance failure count.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/780198782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/783853573","html_url":"https://github.com/apache/helix/pull/1650#issuecomment-783853573","issue_url":"https://api.github.com/repos/apache/helix/issues/1650","id":783853573,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mzg1MzU3Mw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-23T03:38:00Z","updated_at":"2021-02-23T03:38:00Z","author_association":"CONTRIBUTOR","body":"Thanks, @jiajunwang @alirezazamani @dasahcc, for the review and approvals.\r\n\r\nThis PR is ready to be merged, approved @jiajunwang @alirezazamani \r\n\r\nAssume enter M mode threshold is 5. Now 20 nodes are down at the same time, the running pipeline creates the maintenance znode. Instead of using the maintenance rebalancer immediately, this running pipeline still continues with the normal rebalancer, which moves new partitions on the online instances.\r\n\r\nThis commit improves auto enter maintenance mode logic by enabling maintenance mode in the data cache, so the best possible mapping can be computed by the maintenance rebalancer immediately for the first pipeline.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/783853573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/786788137","html_url":"https://github.com/apache/helix/issues/1655#issuecomment-786788137","issue_url":"https://api.github.com/repos/apache/helix/issues/1655","id":786788137,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Njc4ODEzNw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-26T17:33:15Z","updated_at":"2021-02-26T17:33:15Z","author_association":"CONTRIBUTOR","body":"Good find!","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/786788137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/786947027","html_url":"https://github.com/apache/helix/pull/1657#issuecomment-786947027","issue_url":"https://api.github.com/repos/apache/helix/issues/1657","id":786947027,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Njk0NzAyNw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-26T23:24:03Z","updated_at":"2021-02-26T23:24:03Z","author_association":"CONTRIBUTOR","body":"Approved by @alirezazamani ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/786947027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/786954238","html_url":"https://github.com/apache/helix/issues/1614#issuecomment-786954238","issue_url":"https://api.github.com/repos/apache/helix/issues/1614","id":786954238,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Njk1NDIzOA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-26T23:50:12Z","updated_at":"2021-02-26T23:50:12Z","author_association":"CONTRIBUTOR","body":"Changing the intended solution to adding configurable influence factors to PartitionMovementConstraint for baseline and best possible influences. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/786954238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/787404869","html_url":"https://github.com/apache/helix/issues/1660#issuecomment-787404869","issue_url":"https://api.github.com/repos/apache/helix/issues/1660","id":787404869,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NzQwNDg2OQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-28T06:38:51Z","updated_at":"2021-02-28T06:38:51Z","author_association":"CONTRIBUTOR","body":"@kaisun2000 Could you help with this test? Below code needs to be fixed\r\n```\r\n    TestHelper.verifyWithTimeout(\"verifyZkCache\", 5000, zkCacheInitPaths, accessor._zkCache._cache,\r\n        _gZkClient, true);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/787404869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/788121403","html_url":"https://github.com/apache/helix/pull/1652#issuecomment-788121403","issue_url":"https://api.github.com/repos/apache/helix/issues/1652","id":788121403,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODEyMTQwMw==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T17:18:11Z","updated_at":"2021-03-01T17:18:11Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang   \r\nFinal commit message:\r\n## Add top state usage constraint to Waged ##\r\nAdd new top state weight based constraint to Waged to ensure top state weight evenness. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/788121403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/788460069","html_url":"https://github.com/apache/helix/pull/1659#issuecomment-788460069","issue_url":"https://api.github.com/repos/apache/helix/issues/1659","id":788460069,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODQ2MDA2OQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-02T00:51:44Z","updated_at":"2021-03-02T00:51:54Z","author_association":"CONTRIBUTOR","body":"> > Thanks for the fix. One thing, is it possible to create a util method for all the Helix code to get a modified ObjectMapper? So we don't need to do such a change again once we get rid of codehaus.\r\n> \r\n> @jiajunwang Good question. I thought about it too. My thought was return the ObjectMapper configured with the introspector from the util `ObjectMapper mapper = JacksonUtil.newObjectMapper();` Once we remove codehaus, we just need to remove the config in `JacksonUtil.newObjectMapper()` method.\r\n> \r\n> Thinking again, if we do so, there'll be mixed usages in creating an ObjectMapper: `new ObjectMapper()` and `JacksonUtil.newObjectMapper()`. After we remove codehaus, `JacksonUtil.newObjectMapper()` will just do the same as `New ObjectMapper()`, which makes `newObjectMapper()` look redundant.\r\n> \r\n> Plus, there are only 6 places that need to set Introspector in this PR. Once we remove the codehaus and the introspector, we just need to remove the 6 places that set introspector - pretty simple. So I just don't think we need to have the util :)\r\n\r\nYeah, not a big deal. I don't think we will miss any of the references since the method will be removed in the future.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/788460069/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/789285585","html_url":"https://github.com/apache/helix/pull/1659#issuecomment-789285585","issue_url":"https://api.github.com/repos/apache/helix/issues/1659","id":789285585,"node_id":"MDEyOklzc3VlQ29tbWVudDc4OTI4NTU4NQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-02T23:01:09Z","updated_at":"2021-03-02T23:01:09Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc @xyuanlu \r\n\r\nJackson was upgraded in helix from 1.x to 2.x (#1293). Jackson 1.x does not support Jackson 2.x annotations.\r\n\r\nThis commit rolls back Jackson 2 annotations to Jackson 1, and adds a custom CodehausJacksonAnnotationIntrospector to make Jackson 2 in helix work with Jackson 1 annotations.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/789285585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/789377371","html_url":"https://github.com/apache/helix/issues/1653#issuecomment-789377371","issue_url":"https://api.github.com/repos/apache/helix/issues/1653","id":789377371,"node_id":"MDEyOklzc3VlQ29tbWVudDc4OTM3NzM3MQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T02:26:12Z","updated_at":"2021-03-03T02:26:12Z","author_association":"CONTRIBUTOR","body":"In another related but different case, if the partitions in one resource have very different weight, then even the resource priority does not help.\r\nThis indicates that the 2nd logic we mentioned above should also be applied to a wider range. Not only for the lower priority resources.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/789377371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/793082144","html_url":"https://github.com/apache/helix/pull/1658#issuecomment-793082144","issue_url":"https://api.github.com/repos/apache/helix/issues/1658","id":793082144,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MzA4MjE0NA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T21:13:50Z","updated_at":"2021-03-08T21:13:50Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang   \r\nFinal commit message:\r\n## Add new PartitonMovementConstraint and BaselineInfluenceConstraint for Waged ##\r\nThis PR splits PartitionMovementConstraint into separate constraints that control baseline convergence and best possible movements respectively.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/793082144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/793163591","html_url":"https://github.com/apache/helix/pull/1645#issuecomment-793163591","issue_url":"https://api.github.com/repos/apache/helix/issues/1645","id":793163591,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MzE2MzU5MQ==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-08T23:22:55Z","updated_at":"2021-03-08T23:22:55Z","author_association":"CONTRIBUTOR","body":"The change is ready to be merged in. Approved by @jiajunwang \r\n\r\nFinal commit message:\r\nUse thread pool for batched call back handling events\r\n\r\nOriginally when enable batch mode, each callBackHandler has a dedicated thread (CallBackProcessor) handles all callbacks.  This change adds a fixed sized thread pool per each Helix manager handling all callback events. Thus the total events count when enabling batch mode would be low. \r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/793163591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/794946864","html_url":"https://github.com/apache/helix/pull/1663#issuecomment-794946864","issue_url":"https://api.github.com/repos/apache/helix/issues/1663","id":794946864,"node_id":"MDEyOklzc3VlQ29tbWVudDc5NDk0Njg2NA==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-10T06:15:08Z","updated_at":"2021-03-10T06:15:08Z","author_association":"CONTRIBUTOR","body":"> The purpose is to simplify the check for recording failure in the previous version. In that version, as @jiajunwang said, the check was verbose. With the current version, most of the callbacks access this implementation, but the other two (`GetDataCallbackHandler` and `ExistsCallbackHandler`) that have different criteria, i.e., they need to check `if(rc != Code.NONODE.intValue())`, have their own override of the method which accesses `int rc`. And the parameter `ZkAsyncCallMonitorContext monitor` is also used in both, it is used to call the internal monitor `recordFailure()`. But if you think I should improve it in some other way please let me know.\r\n\r\nI see why you're doing this. If this can help simply a lot of redundant code, then it is fine.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/794946864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/795917396","html_url":"https://github.com/apache/helix/pull/1668#issuecomment-795917396","issue_url":"https://api.github.com/repos/apache/helix/issues/1668","id":795917396,"node_id":"MDEyOklzc3VlQ29tbWVudDc5NTkxNzM5Ng==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-10T19:01:03Z","updated_at":"2021-03-10T19:01:03Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang   \r\nFinal commit message:\r\n## Increase largest possible rebalance preference ratio ##\r\nThis PR increases largest possible rebalance preference ratio by enlarging the maximum weight from 10 to 1000. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/795917396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/797766084","html_url":"https://github.com/apache/helix/issues/1670#issuecomment-797766084","issue_url":"https://api.github.com/repos/apache/helix/issues/1670","id":797766084,"node_id":"MDEyOklzc3VlQ29tbWVudDc5Nzc2NjA4NA==","user":{"login":"jeff-blaisdell","id":992868,"node_id":"MDQ6VXNlcjk5Mjg2OA==","avatar_url":"https://avatars.githubusercontent.com/u/992868?v=4","gravatar_id":"","url":"https://api.github.com/users/jeff-blaisdell","html_url":"https://github.com/jeff-blaisdell","followers_url":"https://api.github.com/users/jeff-blaisdell/followers","following_url":"https://api.github.com/users/jeff-blaisdell/following{/other_user}","gists_url":"https://api.github.com/users/jeff-blaisdell/gists{/gist_id}","starred_url":"https://api.github.com/users/jeff-blaisdell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeff-blaisdell/subscriptions","organizations_url":"https://api.github.com/users/jeff-blaisdell/orgs","repos_url":"https://api.github.com/users/jeff-blaisdell/repos","events_url":"https://api.github.com/users/jeff-blaisdell/events{/privacy}","received_events_url":"https://api.github.com/users/jeff-blaisdell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-12T21:29:37Z","updated_at":"2021-03-12T21:36:33Z","author_association":"NONE","body":"I've been doing some debugging / digging on this issue..  While studying the Helix internals I discovered reference to a config option `PERSIST_BEST_POSSIBLE_ASSIGNMENT`.  I can confirm that by setting it to true, the IdealState is properly written and the `DifferenceWithIdealStateGauge` correctly reports 0.  \r\n\r\n```\r\nhelix-admin.sh --zkSvr localhost:2181 --setConfig CLUSTER default-cluster PERSIST_BEST_POSSIBLE_ASSIGNMENT=true\r\n```\r\n\r\nHowever, when the flag value is `false` the `DifferenceWithIdealStateGauge` in 1.0.1 will always equal the total number of partitions defined in cluster.  Where as in previous versions it would report 0.\r\n\r\nI haven't been able to find any documentation around the considerations of using that option, or why the default is false.  ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/797766084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/800634120","html_url":"https://github.com/apache/helix/issues/1670#issuecomment-800634120","issue_url":"https://api.github.com/repos/apache/helix/issues/1670","id":800634120,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMDYzNDEyMA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-16T21:47:35Z","updated_at":"2021-03-16T21:47:35Z","author_association":"CONTRIBUTOR","body":"Thanks for reporting the issue, Jeff.\r\n\r\nEnabling the assignment persistent is required in the current version. The impact of enabling this option should be minimum. If the assignment is not changed, there won't be ZK write. However, if we have a very large IdealState znode and the cluster is being modified frequently, then the additional ZK traffic might be a burden.\r\n\r\nI will discuss with the other stakeholders how we should improve this. But for now, enabling assignment seems to be the only option.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/800634120/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/801567567","html_url":"https://github.com/apache/helix/pull/1663#issuecomment-801567567","issue_url":"https://api.github.com/repos/apache/helix/issues/1663","id":801567567,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMTU2NzU2Nw==","user":{"login":"rabashizade","id":67170754,"node_id":"MDQ6VXNlcjY3MTcwNzU0","avatar_url":"https://avatars.githubusercontent.com/u/67170754?v=4","gravatar_id":"","url":"https://api.github.com/users/rabashizade","html_url":"https://github.com/rabashizade","followers_url":"https://api.github.com/users/rabashizade/followers","following_url":"https://api.github.com/users/rabashizade/following{/other_user}","gists_url":"https://api.github.com/users/rabashizade/gists{/gist_id}","starred_url":"https://api.github.com/users/rabashizade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabashizade/subscriptions","organizations_url":"https://api.github.com/users/rabashizade/orgs","repos_url":"https://api.github.com/users/rabashizade/repos","events_url":"https://api.github.com/users/rabashizade/events{/privacy}","received_events_url":"https://api.github.com/users/rabashizade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T02:24:57Z","updated_at":"2021-03-18T02:24:57Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @zhangmeng916.\r\n\r\nCommit message:\r\n\r\nTrack failures for async read/write in ZkClient\r\n\r\nDefines separate metrics for async (batch) operations and tracks failure count by checking for operation return code in ZkAsyncCallbacks. Also, cancels async get/exists/delete callbacks when an exception is thrown to be able to detect failure and record the metric. Finally, in TestRawZkClient sync read metrics were used to check async reads, which is fixed to reflect the separation of sync and async metrics.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/801567567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/802155164","html_url":"https://github.com/apache/helix/pull/1672#issuecomment-802155164","issue_url":"https://api.github.com/repos/apache/helix/issues/1672","id":802155164,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjE1NTE2NA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T17:41:47Z","updated_at":"2021-03-18T17:41:47Z","author_association":"NONE","body":"This PR is ready to be merge. However, I will not merge this PR until I get confirmation from users/customers.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/802155164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/802293620","html_url":"https://github.com/apache/helix/pull/1673#issuecomment-802293620","issue_url":"https://api.github.com/repos/apache/helix/issues/1673","id":802293620,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMjI5MzYyMA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-18T20:57:59Z","updated_at":"2021-03-18T20:57:59Z","author_association":"CONTRIBUTOR","body":"Approved by @zhangmeng916 , I will merge soon.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/802293620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/804318202","html_url":"https://github.com/apache/helix/pull/1674#issuecomment-804318202","issue_url":"https://api.github.com/repos/apache/helix/issues/1674","id":804318202,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDMxODIwMg==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T19:04:20Z","updated_at":"2021-03-22T19:04:20Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc @zhangmeng916 @narendly \r\n\r\nUpgrade maven plugins to improve build speed","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/804318202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/804497347","html_url":"https://github.com/apache/helix/pull/1666#issuecomment-804497347","issue_url":"https://api.github.com/repos/apache/helix/issues/1666","id":804497347,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDQ5NzM0Nw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T00:37:14Z","updated_at":"2021-03-23T00:37:14Z","author_association":"CONTRIBUTOR","body":"As discussed with the team, we will try another easier method based on estimation. I'm closing this PR. This more expensive method is only necessary if the estimation-based method does not work. We will see.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/804497347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/807471372","html_url":"https://github.com/apache/helix/pull/1678#issuecomment-807471372","issue_url":"https://api.github.com/repos/apache/helix/issues/1678","id":807471372,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzQ3MTM3Mg==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T20:55:57Z","updated_at":"2021-03-25T20:55:57Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc    \r\nFinal commit message:\r\n## Close zkClients created by TaskStateModelFactory ##\r\nThis PR closes the previously unclosed zkClients in TaskStateModelFactory, also added retry timeout and log to the logic. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/807471372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/807748506","html_url":"https://github.com/apache/helix/pull/1685#issuecomment-807748506","issue_url":"https://api.github.com/repos/apache/helix/issues/1685","id":807748506,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzc0ODUwNg==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T23:45:37Z","updated_at":"2021-03-25T23:45:37Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged. Approved by @dasahcc \r\nFinal commit message: \"Change participant message monitor to use dynamic metric\"","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/807748506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/807917598","html_url":"https://github.com/apache/helix/issues/1682#issuecomment-807917598","issue_url":"https://api.github.com/repos/apache/helix/issues/1682","id":807917598,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzkxNzU5OA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T03:56:36Z","updated_at":"2021-03-26T03:56:36Z","author_association":"CONTRIBUTOR","body":"This is the design actually. The shared ZkClients are using the same connection and raw ZkClient underlying. So it is always using the default value. If we want to differentiate every different setup, then we probably should deprecate the shared ZkClient since there might be nothing to share (because each object has some slightly different setup).","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/807917598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/808198893","html_url":"https://github.com/apache/helix/issues/1686#issuecomment-808198893","issue_url":"https://api.github.com/repos/apache/helix/issues/1686","id":808198893,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODE5ODg5Mw==","user":{"login":"dmodha","id":2327020,"node_id":"MDQ6VXNlcjIzMjcwMjA=","avatar_url":"https://avatars.githubusercontent.com/u/2327020?v=4","gravatar_id":"","url":"https://api.github.com/users/dmodha","html_url":"https://github.com/dmodha","followers_url":"https://api.github.com/users/dmodha/followers","following_url":"https://api.github.com/users/dmodha/following{/other_user}","gists_url":"https://api.github.com/users/dmodha/gists{/gist_id}","starred_url":"https://api.github.com/users/dmodha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmodha/subscriptions","organizations_url":"https://api.github.com/users/dmodha/orgs","repos_url":"https://api.github.com/users/dmodha/repos","events_url":"https://api.github.com/users/dmodha/events{/privacy}","received_events_url":"https://api.github.com/users/dmodha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T13:04:05Z","updated_at":"2021-03-26T13:04:05Z","author_association":"NONE","body":"duplicate of 1293","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/808198893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/808435747","html_url":"https://github.com/apache/helix/pull/1681#issuecomment-808435747","issue_url":"https://api.github.com/repos/apache/helix/issues/1681","id":808435747,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODQzNTc0Nw==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T18:36:36Z","updated_at":"2021-03-29T21:21:11Z","author_association":"CONTRIBUTOR","body":"> Question: will it be save to exclude the invoke() for the locking? There could be two messages at the same time invoked for the same state mode: 1 regular ST and 1 cancel message. I am not quite sure whether that could cause problem.\r\n\r\nThanks for the offline discussion!\r\n\r\nFor `STATE_TRANSITION` type messages, for each target, it is garnered in `validateAndProcessStateTransitionMessage`, only one ST at a time . \r\n\r\nWhen `onMessage` receives a `STATE_TRANSITION_CANCELLATION` messages and a ST message for the same entity, it will \r\neither\r\n1. try to Delete the previous created `stateTransitionHandler` if the to-be-canceled state transition is not started. In this step, there will be no `stateTransitionHandler` created for this cancelation message.\r\n2. or If the the to-be-canceled state transition is on going, we will try to create a `HelixStateTransitionCancellationHanlder` for this cancelation message and It will directly call cancel(). \r\nSo cancelation's logic should not be infected by any lock scope change in HelixStateTransitionHandler\r\n\r\n\r\n\r\n```\r\npublic void onMessage(){\r\n    for (Message message : messages) {\r\n        if (checkAndProcessNoOpMessage(message, instanceName, changeContext, manager, sessionId,\r\n          stateTransitionHandlers)) {  /*  Call cancelNotStartedStateTransition */                        ------(1)\r\n   .......\r\n        msgHandler = createMessageHandler(message, msgWorkingContext);\r\n\r\n        if (message.getMsgType().equals(MessageType.STATE_TRANSITION.name()) || message.getMsgType()\r\n          .equals(MessageType.STATE_TRANSITION_CANCELLATION.name())) {\r\n          if (validateAndProcessStateTransitionMessage(message, manager, stateTransitionHandlers,    ------(2)\r\n              msgHandler)) {\r\n    }\r\n}\r\n......\r\n}\r\n private boolean validateAndProcessStateTransitionMessage{\r\n     if (stateTransitionHandlers.containsKey(messageTarget)) {\r\n        // If there are 2 messages in same batch about same partition's state transition,\r\n        // the later one is discarded\r\n        Message duplicatedMessage = stateTransitionHandlers.get(messageTarget)._message;\r\n        String errMsg = String.format(\r\n            \"Duplicated state transition message: %s. Existing: %s->%s; New (Discarded): %s->%s\",\r\n            message.getMsgId(), duplicatedMessage.getFromState(), duplicatedMessage.getToState(),\r\n            message.getFromState(), message.getToState());\r\n        updateUnprocessableMessage(message, null /* exception */, errMsg, manager);\r\n        return false;\r\n      }\r\n}\r\n\r\n...\r\n// Try to cancel this state transition that has not been started yet.\r\n// Three Types of Cancellation: 1. Message arrived with previous state transition\r\n//                              2. Message handled but task not started\r\n//                              3. Message handled and task already started\r\n// This method tries to handle the first two cases, it returns true if no further cancellation is needed,\r\n// false if not been able to cancel the state transition (i.e, further cancellation is needed).\r\nprivate boolean cancelNotStartedStateTransition(Message message,\r\n      Map<String, MessageHandler> stateTransitionHandlers, HelixDataAccessor accessor,\r\n      String instanceName) {\r\n...\r\n}\r\n\r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/808435747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/808442595","html_url":"https://github.com/apache/helix/pull/1676#issuecomment-808442595","issue_url":"https://api.github.com/repos/apache/helix/issues/1676","id":808442595,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODQ0MjU5NQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T18:50:05Z","updated_at":"2021-03-26T18:50:05Z","author_association":"CONTRIBUTOR","body":"Approved by @dasahcc , I will merge the code. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/808442595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/808465411","html_url":"https://github.com/apache/helix/issues/1688#issuecomment-808465411","issue_url":"https://api.github.com/repos/apache/helix/issues/1688","id":808465411,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODQ2NTQxMQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T19:34:55Z","updated_at":"2021-03-26T19:34:55Z","author_association":"CONTRIBUTOR","body":"I think we need to communicate a little bit more about motivation.\r\n1. Why stage 1 Helix checks are not valid for applications. Is it fixable? Or it is fundamentally not applied.\r\n2. Can we just let users to opt-out of the stage 1 checkup if they are not applicable? In this case, we do not waste resources to run a set of invalid checks.\r\n3. If all the above options are not possible, do we really need to make it an option instead of just make it the default behavior?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/808465411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/808487803","html_url":"https://github.com/apache/helix/issues/1688#issuecomment-808487803","issue_url":"https://api.github.com/repos/apache/helix/issues/1688","id":808487803,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODQ4NzgwMw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T20:21:48Z","updated_at":"2021-03-26T20:21:48Z","author_association":"CONTRIBUTOR","body":"> I think we need to communicate a little bit more about motivation.\r\n> \r\n> 1. Why stage 1 Helix checks are not valid for applications. Is it fixable? Or it is fundamentally not applied.\r\n> 2. Can we just let users to opt-out of the stage 1 checkup if they are not applicable? In this case, we do not waste resources to run a set of invalid checks.\r\n> 3. If all the above options are not possible, do we really need to make it an option instead of just make it the default behavior?\r\n\r\n@jiajunwang Thanks for the questions.\r\nFor example, customers have a deployment during rebalance.  During the deployment, they want to ignore INSTANCE_NOT_STABLE failure. This is because custom has state transition cancellation feature enabled, they want to stop an instance even if there is state transition going on. They only ignore certain checks and if they are the only ones that failed, then they treat it as stoppable. \r\nSo they want all checks to determine if the instance is stoppable for this case.\r\nFor the other cases, we helix don’t have to do all checks. The current logic is still valid, if helix own fails, no need to further check custom.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/808487803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/808495406","html_url":"https://github.com/apache/helix/pull/1678#issuecomment-808495406","issue_url":"https://api.github.com/repos/apache/helix/issues/1678","id":808495406,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODQ5NTQwNg==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T20:37:35Z","updated_at":"2021-03-26T20:37:35Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly     \r\nFinal commit message:\r\n## Close zkClients created by TaskStateModelFactory ##\r\nThis PR closes the previously unclosed zkClients in TaskStateModelFactory, also added retry timeout and log to the logic. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/808495406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/808663964","html_url":"https://github.com/apache/helix/pull/1681#issuecomment-808663964","issue_url":"https://api.github.com/repos/apache/helix/issues/1681","id":808663964,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODY2Mzk2NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-27T05:54:56Z","updated_at":"2021-03-27T05:54:56Z","author_association":"CONTRIBUTOR","body":"Question, Could you explain more about the necessity of the change? In detail, the main thread creates taskRunner thread which updates the state at the end. And the main thread continues to run after taskRunner thread is created. In this case, even the main thread holds the lock, the taskRunner can still execute. And the runner thread can wait until the main thread finishes the state update. I remember you mentioned this when we talked offline, but please document the detailed reason in this ticket too.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/808663964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/809730644","html_url":"https://github.com/apache/helix/pull/1681#issuecomment-809730644","issue_url":"https://api.github.com/repos/apache/helix/issues/1681","id":809730644,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTczMDY0NA==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T21:35:55Z","updated_at":"2021-03-29T21:36:13Z","author_association":"CONTRIBUTOR","body":"> Question, Could you explain more about the necessity of the change? In detail, the main thread creates taskRunner thread which updates the state at the end. And the main thread continues to run after taskRunner thread is created. In this case, even the main thread holds the lock, the taskRunner can still execute. And the runner thread can wait until the main thread finishes the state update. I remember you mentioned this when we talked offline, but please document the detailed reason in this ticket too.\r\n\r\nThanks for the question.\r\nFor most task state transition messages, it is true that the main state transition handler thread creates taskRunner thread and the main thread continues to run after taskRunner thread is created. \r\n\r\nHowever, when handling 'RUNNING' -> 'STOPPED' , stateTransition handler creates a taskRunner, wait for state transition finishes and then continue the rest part.  So if we include the `invoke()` in the lock scope, we will have a deadlock here.\r\n\r\n\r\n```\r\n\r\n  @Transition(to = \"STOPPED\", from = \"RUNNING\")\r\n  public String onBecomeStoppedFromRunning(Message msg, NotificationContext context) {\r\n    String taskPartition = msg.getPartitionName();\r\n    if (_taskRunner == null) {\r\n      throw new IllegalStateException(String.format(\r\n          \"Invalid state transition. There is no running task for partition %s.\", taskPartition));\r\n    }\r\n\r\n    _taskRunner.cancel();\r\n    TaskResult r = _taskRunner.waitTillDone();\r\n    LOG.info(\"Task {} completed with result {}.\", msg.getPartitionName(), r);\r\n\r\n    timeout_task.cancel(false);\r\n\r\n    return r.getInfo();\r\n}\r\n  ```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/809730644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/810639044","html_url":"https://github.com/apache/helix/issues/1641#issuecomment-810639044","issue_url":"https://api.github.com/repos/apache/helix/issues/1641","id":810639044,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDYzOTA0NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T23:16:03Z","updated_at":"2021-03-30T23:16:03Z","author_association":"CONTRIBUTOR","body":"It seems the test is still not stable. Will take another look.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/810639044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/812746573","html_url":"https://github.com/apache/helix/pull/1681#issuecomment-812746573","issue_url":"https://api.github.com/repos/apache/helix/issues/1681","id":812746573,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjc0NjU3Mw==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-02T22:56:36Z","updated_at":"2021-04-02T22:56:36Z","author_association":"CONTRIBUTOR","body":"Changing this PR to removing the redundant lock since it is not logically complete.\r\nWill add a smaller scoped lock in the PR that removes requested state.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/812746573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/819212408","html_url":"https://github.com/apache/helix/issues/1661#issuecomment-819212408","issue_url":"https://api.github.com/repos/apache/helix/issues/1661","id":819212408,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTIxMjQwOA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T04:04:53Z","updated_at":"2021-04-14T04:04:53Z","author_association":"CONTRIBUTOR","body":"The test logic is not very up-to-date. IMO, the original test was trying to test if EV is removed when all CSs are gone. However, the current logic does not really care about CS existence. It only remove EV under two conditions,\r\n1. isExternalViewDisabled == true\r\n2. The resource has been dropped\r\n\r\nSo we should change the test logic accordingly.\r\nThough, according to the code logic, the test shall still pass since we drop the resource first. There might be a race condition that brings the EV back. Need more investigation on condition 2.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/819212408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/819224419","html_url":"https://github.com/apache/helix/issues/1661#issuecomment-819224419","issue_url":"https://api.github.com/repos/apache/helix/issues/1661","id":819224419,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTIyNDQxOQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T04:47:15Z","updated_at":"2021-04-14T04:47:15Z","author_association":"CONTRIBUTOR","body":"Ok, the theory is that the dedup queue for the Async Stages skip some of the EV update.\r\nThis happens after we greatly boost pipeline speed. So it is possible that during the 1st EV update event is processing, the 2nd EV update event is still in the dedup queue. Then we started to remove the resource. The corresponding EV update event (3rd) is deduped. Same situation might happen for the other EV update events.\r\n\r\nGiven the cached data in the ClusterEvent object won't be refreshed when the EV update event is picked up, I don't think we should use dedup queue for this specific Stage at least.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/819224419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/819754543","html_url":"https://github.com/apache/helix/issues/1661#issuecomment-819754543","issue_url":"https://api.github.com/repos/apache/helix/issues/1661","id":819754543,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTc1NDU0Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T18:53:47Z","updated_at":"2021-04-14T18:53:47Z","author_association":"CONTRIBUTOR","body":"As discussed, we will change or disable the test for now to workaround this issue.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/819754543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/819931545","html_url":"https://github.com/apache/helix/pull/1697#issuecomment-819931545","issue_url":"https://api.github.com/repos/apache/helix/issues/1697","id":819931545,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTkzMTU0NQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T00:19:48Z","updated_at":"2021-04-15T00:19:48Z","author_association":"CONTRIBUTOR","body":"Approved by @dasahcc, I will merge later.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/819931545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/819953888","html_url":"https://github.com/apache/helix/pull/1689#issuecomment-819953888","issue_url":"https://api.github.com/repos/apache/helix/issues/1689","id":819953888,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTk1Mzg4OA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T01:29:41Z","updated_at":"2021-04-15T01:29:41Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/819953888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/820651685","html_url":"https://github.com/apache/helix/pull/1691#issuecomment-820651685","issue_url":"https://api.github.com/repos/apache/helix/issues/1691","id":820651685,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDY1MTY4NQ==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T18:42:34Z","updated_at":"2021-04-15T18:42:34Z","author_association":"CONTRIBUTOR","body":"Question: a general question, seemed this sorting to be happened in every pipeline. Can we add some checks there? If no condition needed for such sorting, we skip it? ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/820651685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/820665685","html_url":"https://github.com/apache/helix/pull/1691#issuecomment-820665685","issue_url":"https://api.github.com/repos/apache/helix/issues/1691","id":820665685,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDY2NTY4NQ==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T19:06:18Z","updated_at":"2021-04-15T19:06:18Z","author_association":"CONTRIBUTOR","body":"> Question: a general question, seemed this sorting to be happened in every pipeline. Can we add some checks there? If no condition needed for such sorting, we skip it?\r\n\r\nThanks for the question. \r\nIn my understanding, we sort replicas for two reasons:\r\n1. For every rebalance, the assignment of each replicas should be in the same sequence. This is already garnered in the original design.\r\n2. We want to place replicas with larger impact first to solve the failure by placing very large partition after small partitions.  We only know the placement will fail afterward. So it is hard to know is we need to sort beforehand. \r\nHope my explain is clear. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/820665685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/820802496","html_url":"https://github.com/apache/helix/pull/1699#issuecomment-820802496","issue_url":"https://api.github.com/repos/apache/helix/issues/1699","id":820802496,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDgwMjQ5Ng==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T23:31:17Z","updated_at":"2021-04-15T23:31:17Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang      \r\nFinal commit message:\r\n## Add PR Template Section for Backward Compatibility Breaking Changes ##\r\nThis PR updates the PR template to include a section where developers can include changes that break backward compatibility. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/820802496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/820814191","html_url":"https://github.com/apache/helix/pull/1681#issuecomment-820814191","issue_url":"https://api.github.com/repos/apache/helix/issues/1681","id":820814191,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDgxNDE5MQ==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T00:02:33Z","updated_at":"2021-04-20T01:10:32Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged. Approved by @dasahcc\r\nFinal commit message:\r\n\r\nRemove synchronization on _staleModel in HelixStateTransitionHandler \r\n\r\nIn current message handling design, `HelixTaskExecutor` (a message lister that creates and schedules all message handler) guarantees that only one on-going state transition is created at a time.  This change remove this duplicated synchronization in HelixStateTransitionHandler.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/820814191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/821281764","html_url":"https://github.com/apache/helix/pull/1696#issuecomment-821281764","issue_url":"https://api.github.com/repos/apache/helix/issues/1696","id":821281764,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTI4MTc2NA==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T16:06:58Z","updated_at":"2021-04-16T16:06:58Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged. Approved by @dasahcc \r\nFinal commit message:\r\nChange participant message monitor from static metric to dynamic metric","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/821281764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/823463449","html_url":"https://github.com/apache/helix/pull/1698#issuecomment-823463449","issue_url":"https://api.github.com/repos/apache/helix/issues/1698","id":823463449,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzQ2MzQ0OQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T17:23:18Z","updated_at":"2021-04-20T17:23:18Z","author_association":"CONTRIBUTOR","body":"Approved by @dasahcc, I will merge soon.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/823463449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/823486906","html_url":"https://github.com/apache/helix/pull/1702#issuecomment-823486906","issue_url":"https://api.github.com/repos/apache/helix/issues/1702","id":823486906,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzQ4NjkwNg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T18:00:59Z","updated_at":"2021-04-20T18:00:59Z","author_association":"CONTRIBUTOR","body":"Approved by @dasahcc, will merge and check the test coverage report.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/823486906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/823498097","html_url":"https://github.com/apache/helix/pull/1701#issuecomment-823498097","issue_url":"https://api.github.com/repos/apache/helix/issues/1701","id":823498097,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzQ5ODA5Nw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T18:15:45Z","updated_at":"2021-04-20T18:15:45Z","author_association":"CONTRIBUTOR","body":"One more thing, please add a test for the tool method to cover the fail to rebalance case. This is the target usage, right?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/823498097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/825185403","html_url":"https://github.com/apache/helix/pull/1708#issuecomment-825185403","issue_url":"https://api.github.com/repos/apache/helix/issues/1708","id":825185403,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTE4NTQwMw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-22T21:05:45Z","updated_at":"2021-04-22T21:05:45Z","author_association":"CONTRIBUTOR","body":"Is it a required operation that a test remove the old live instance without recovering them before the next test starts? Can we just let testUpdateAssignableInstances to recover what has been changed?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/825185403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/825202895","html_url":"https://github.com/apache/helix/pull/1708#issuecomment-825202895","issue_url":"https://api.github.com/repos/apache/helix/issues/1708","id":825202895,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTIwMjg5NQ==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-22T21:39:45Z","updated_at":"2021-04-22T21:39:45Z","author_association":"CONTRIBUTOR","body":"@jiajunwang I understand where you're coming from; we don't want to abuse \"dependsOnMethod\" for simple ordering. \r\n\r\nHowever, in this case, `testUpdateAssignableInstances` is testing an \"update\" function which by design removes old live instance. I think the dependency is justified here. If I'm writing the tests I will combine the 3 test cases to 1 method, to be honest, because the \"update\" function should be tested strictly after calling the getters, to show that there is an actual update. \r\n\r\nSo I think \"dependsOnMethod\" is a better option here then recovering the old live instances; if you feel strongly against \"dependsOnMethod\", then I will combine the test cases because that's how I'd write them to begin with. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/825202895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/825270774","html_url":"https://github.com/apache/helix/pull/1708#issuecomment-825270774","issue_url":"https://api.github.com/repos/apache/helix/issues/1708","id":825270774,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTI3MDc3NA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-22T23:44:09Z","updated_at":"2021-04-22T23:44:09Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang      \r\nFinal commit message:\r\n## Fix flaky TestAssignableInstanceManager ##\r\nThis PR enforces ordering of TestAssignableInstanceManager to fix flakiness. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/825270774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/825820947","html_url":"https://github.com/apache/helix/pull/1711#issuecomment-825820947","issue_url":"https://api.github.com/repos/apache/helix/issues/1711","id":825820947,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTgyMDk0Nw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T17:52:14Z","updated_at":"2021-04-23T17:52:14Z","author_association":"CONTRIBUTOR","body":"Approved by @narendly , ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/825820947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/825831506","html_url":"https://github.com/apache/helix/pull/1710#issuecomment-825831506","issue_url":"https://api.github.com/repos/apache/helix/issues/1710","id":825831506,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTgzMTUwNg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T18:10:11Z","updated_at":"2021-04-23T18:10:19Z","author_association":"CONTRIBUTOR","body":"Approved by @xyuanlu , ready to merge.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/825831506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/825943751","html_url":"https://github.com/apache/helix/pull/1703#issuecomment-825943751","issue_url":"https://api.github.com/repos/apache/helix/issues/1703","id":825943751,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTk0Mzc1MQ==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T21:52:31Z","updated_at":"2021-04-23T21:52:31Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/825943751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/825944503","html_url":"https://github.com/apache/helix/pull/1712#issuecomment-825944503","issue_url":"https://api.github.com/repos/apache/helix/issues/1712","id":825944503,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTk0NDUwMw==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T21:54:47Z","updated_at":"2021-04-23T21:54:47Z","author_association":"CONTRIBUTOR","body":"Question: could you briefly comment on how this test is fixed, since the description doesn't go into much details?\r\n\r\nIt looks like \r\n```\r\n_dataProvider.notifyDataChange(ChangeType.IDEAL_STATE);\r\n_dataProvider.refresh(_dataAccessor);\r\n```\r\nis the key change? ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/825944503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/825945044","html_url":"https://github.com/apache/helix/pull/1705#issuecomment-825945044","issue_url":"https://api.github.com/repos/apache/helix/issues/1705","id":825945044,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTk0NTA0NA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T21:56:25Z","updated_at":"2021-04-23T21:56:25Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/825945044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/825947484","html_url":"https://github.com/apache/helix/pull/1712#issuecomment-825947484","issue_url":"https://api.github.com/repos/apache/helix/issues/1712","id":825947484,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTk0NzQ4NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T22:03:42Z","updated_at":"2021-04-23T22:03:42Z","author_association":"CONTRIBUTOR","body":"> Question: could you briefly comment on how this test is fixed, since the description doesn't go into much details?\r\n> \r\n> It looks like\r\n> \r\n> ```\r\n> _dataProvider.notifyDataChange(ChangeType.IDEAL_STATE);\r\n> _dataProvider.refresh(_dataAccessor);\r\n> ```\r\n> \r\n> is the key change?\r\n\r\nYeah, you are right. I have added more descriptions. Please check.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/825947484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/825987295","html_url":"https://github.com/apache/helix/pull/1712#issuecomment-825987295","issue_url":"https://api.github.com/repos/apache/helix/issues/1712","id":825987295,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTk4NzI5NQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T23:12:59Z","updated_at":"2021-04-23T23:12:59Z","author_association":"CONTRIBUTOR","body":"Approved by @dasahcc , ready to merge.\r\nThe test fails on \"Test failed: testRollingUpgrade(org.apache.helix.integration.messaging.TestP2PSingleTopState)  Time elapsed: 299.985 s  <<< FAILURE!\". Considering this PR only changes the test case that is not related to the failed one, it is safe to merge this test fix. We will work on the other unstable tests later one by one.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/825987295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/826028259","html_url":"https://github.com/apache/helix/pull/1691#issuecomment-826028259","issue_url":"https://api.github.com/repos/apache/helix/issues/1691","id":826028259,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjAyODI1OQ==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-24T03:43:56Z","updated_at":"2021-04-24T03:43:56Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged. Approved by @NealSun96 \r\n\r\nFinal commit message:\r\nImprove the WAGED.ConstraintBasedAlgorithm sorting logic to prioritize replica with larger impact.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/826028259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/827773745","html_url":"https://github.com/apache/helix/pull/1715#issuecomment-827773745","issue_url":"https://api.github.com/repos/apache/helix/issues/1715","id":827773745,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzc3Mzc0NQ==","user":{"login":"rabashizade","id":67170754,"node_id":"MDQ6VXNlcjY3MTcwNzU0","avatar_url":"https://avatars.githubusercontent.com/u/67170754?v=4","gravatar_id":"","url":"https://api.github.com/users/rabashizade","html_url":"https://github.com/rabashizade","followers_url":"https://api.github.com/users/rabashizade/followers","following_url":"https://api.github.com/users/rabashizade/following{/other_user}","gists_url":"https://api.github.com/users/rabashizade/gists{/gist_id}","starred_url":"https://api.github.com/users/rabashizade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabashizade/subscriptions","organizations_url":"https://api.github.com/users/rabashizade/orgs","repos_url":"https://api.github.com/users/rabashizade/repos","events_url":"https://api.github.com/users/rabashizade/events{/privacy}","received_events_url":"https://api.github.com/users/rabashizade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T17:16:30Z","updated_at":"2021-04-27T17:16:30Z","author_association":"CONTRIBUTOR","body":"> LGTM. Could you please double check where the monitor gets used, including in the test, and make sure there won't be any regression.\r\n\r\nThanks for the comment. I double-checked, the monitor is only used in the HelixTaskExecutor class, and is only instantiated in 3 other places (MockHelixTaskExecutor, TestP2PNoDuplicatedMessage, and DefaultMessagingService) none of which resulted in any issues with changing the metric.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/827773745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/828038343","html_url":"https://github.com/apache/helix/pull/1716#issuecomment-828038343","issue_url":"https://api.github.com/repos/apache/helix/issues/1716","id":828038343,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODAzODM0Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T23:57:43Z","updated_at":"2021-04-27T23:57:43Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @narendly and @xyuanlu , I agree with your comments. But I'm not going to refactor the whole test case. This PR is to make the test more stable only.\r\nLet's restrict the scope of this PR to the currently modified part plus some obvious code style changes.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/828038343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/828043144","html_url":"https://github.com/apache/helix/pull/1716#issuecomment-828043144","issue_url":"https://api.github.com/repos/apache/helix/issues/1716","id":828043144,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODA0MzE0NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T00:09:56Z","updated_at":"2021-04-28T00:09:56Z","author_association":"CONTRIBUTOR","body":"> Q: For line 483 and 487, should we also consider using `verify`?\r\n\r\nThat is a little bit different. To use verifier, we can wait for something to happen. However, it is not a good tool to wait for something that does not happen. I prefer to keep it for now. Verify is just different and we need to change the related test logic.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/828043144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/828137173","html_url":"https://github.com/apache/helix/pull/1716#issuecomment-828137173","issue_url":"https://api.github.com/repos/apache/helix/issues/1716","id":828137173,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODEzNzE3Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T04:36:59Z","updated_at":"2021-04-28T04:36:59Z","author_association":"CONTRIBUTOR","body":"Test is still not stable with this change. I will try to figure out why and reopen this PR with more fixes.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/828137173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/828623162","html_url":"https://github.com/apache/helix/pull/1715#issuecomment-828623162","issue_url":"https://api.github.com/repos/apache/helix/issues/1715","id":828623162,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODYyMzE2Mg==","user":{"login":"rabashizade","id":67170754,"node_id":"MDQ6VXNlcjY3MTcwNzU0","avatar_url":"https://avatars.githubusercontent.com/u/67170754?v=4","gravatar_id":"","url":"https://api.github.com/users/rabashizade","html_url":"https://github.com/rabashizade","followers_url":"https://api.github.com/users/rabashizade/followers","following_url":"https://api.github.com/users/rabashizade/following{/other_user}","gists_url":"https://api.github.com/users/rabashizade/gists{/gist_id}","starred_url":"https://api.github.com/users/rabashizade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabashizade/subscriptions","organizations_url":"https://api.github.com/users/rabashizade/orgs","repos_url":"https://api.github.com/users/rabashizade/repos","events_url":"https://api.github.com/users/rabashizade/events{/privacy}","received_events_url":"https://api.github.com/users/rabashizade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T17:04:33Z","updated_at":"2021-04-28T17:04:33Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang.\r\n\r\n**Commit message:**\r\n\r\nChange MessageQueueMonitor from static to dynamic metric \r\n\r\nThis commit modifies the MessageQueueMonitor class to use dynamic metrics by extending the DynamicMBeanProvider class. Since after this change the MessageQueueMonitorMBean interface is no longer used in the code, this interface is deleted to remove all direct references to the MBean class.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/828623162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/830697879","html_url":"https://github.com/apache/helix/pull/1719#issuecomment-830697879","issue_url":"https://api.github.com/repos/apache/helix/issues/1719","id":830697879,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMDY5Nzg3OQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-01T21:35:17Z","updated_at":"2021-05-01T21:35:17Z","author_association":"CONTRIBUTOR","body":"A general question - why is it necessary to remove throttled messages one by one from `resourceStateMap`? I think if we could explain that a little further in the code as a comment, that would be helpful.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/830697879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/831435946","html_url":"https://github.com/apache/helix/pull/1719#issuecomment-831435946","issue_url":"https://api.github.com/repos/apache/helix/issues/1719","id":831435946,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMTQzNTk0Ng==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-03T18:11:34Z","updated_at":"2021-05-03T18:11:34Z","author_association":"CONTRIBUTOR","body":"> A general question - why is it necessary to remove throttled messages one by one from `resourceStateMap`? I think if we could explain that a little further in the code as a comment, that would be helpful.\r\n\r\nDo you mean remove messages from resourceMessageMap? They are the output from message generation and will be dispatched by the following stage. If the message has been throttled, we need to remove it. I will comment it.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/831435946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/832277027","html_url":"https://github.com/apache/helix/pull/1719#issuecomment-832277027","issue_url":"https://api.github.com/repos/apache/helix/issues/1719","id":832277027,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMjI3NzAyNw==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-04T21:57:06Z","updated_at":"2021-05-04T21:57:06Z","author_association":"CONTRIBUTOR","body":"@narendly  Could you please take another round of look?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/832277027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/832282284","html_url":"https://github.com/apache/helix/pull/1721#issuecomment-832282284","issue_url":"https://api.github.com/repos/apache/helix/issues/1721","id":832282284,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMjI4MjI4NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-04T22:08:39Z","updated_at":"2021-05-04T22:08:39Z","author_association":"CONTRIBUTOR","body":"Approved by @narendly , ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/832282284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/832821131","html_url":"https://github.com/apache/helix/pull/1718#issuecomment-832821131","issue_url":"https://api.github.com/repos/apache/helix/issues/1718","id":832821131,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMjgyMTEzMQ==","user":{"login":"rabashizade","id":67170754,"node_id":"MDQ6VXNlcjY3MTcwNzU0","avatar_url":"https://avatars.githubusercontent.com/u/67170754?v=4","gravatar_id":"","url":"https://api.github.com/users/rabashizade","html_url":"https://github.com/rabashizade","followers_url":"https://api.github.com/users/rabashizade/followers","following_url":"https://api.github.com/users/rabashizade/following{/other_user}","gists_url":"https://api.github.com/users/rabashizade/gists{/gist_id}","starred_url":"https://api.github.com/users/rabashizade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabashizade/subscriptions","organizations_url":"https://api.github.com/users/rabashizade/orgs","repos_url":"https://api.github.com/users/rabashizade/repos","events_url":"https://api.github.com/users/rabashizade/events{/privacy}","received_events_url":"https://api.github.com/users/rabashizade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-05T16:11:44Z","updated_at":"2021-05-05T16:11:44Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang.\r\n\r\n**Commit message:**\r\n\r\nClarify error for ZkSessionMismatchedException in ZkAsyncCallbacks\r\n\r\nChange the error message for ZkSessionMismatchedException in ZkAsyncCallbacks to be clearer instead of throwing a NullPointerException.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/832821131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/833854765","html_url":"https://github.com/apache/helix/pull/1701#issuecomment-833854765","issue_url":"https://api.github.com/repos/apache/helix/issues/1701","id":833854765,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMzg1NDc2NQ==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-06T20:48:32Z","updated_at":"2021-05-06T20:48:32Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang      \r\nFinal commit message:\r\n## Improve WAGED simulation API by throwing exception on FAILED_TO_CALCULATE ##\r\nWAGED simulation API now throws HelixException upon encountering FAILED_TO_CALCULATE","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/833854765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/834664193","html_url":"https://github.com/apache/helix/pull/1628#issuecomment-834664193","issue_url":"https://api.github.com/repos/apache/helix/issues/1628","id":834664193,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDY2NDE5Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-07T18:08:51Z","updated_at":"2021-05-07T18:08:51Z","author_association":"CONTRIBUTOR","body":"Close due to inactive.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/834664193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/834664425","html_url":"https://github.com/apache/helix/pull/1581#issuecomment-834664425","issue_url":"https://api.github.com/repos/apache/helix/issues/1581","id":834664425,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDY2NDQyNQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-07T18:09:16Z","updated_at":"2021-05-07T18:09:16Z","author_association":"CONTRIBUTOR","body":"Close due to inactive.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/834664425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/834664659","html_url":"https://github.com/apache/helix/pull/1542#issuecomment-834664659","issue_url":"https://api.github.com/repos/apache/helix/issues/1542","id":834664659,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDY2NDY1OQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-07T18:09:35Z","updated_at":"2021-05-07T18:09:35Z","author_association":"CONTRIBUTOR","body":"Close due to inactive.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/834664659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/834664881","html_url":"https://github.com/apache/helix/pull/1532#issuecomment-834664881","issue_url":"https://api.github.com/repos/apache/helix/issues/1532","id":834664881,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDY2NDg4MQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-07T18:09:53Z","updated_at":"2021-05-07T18:09:53Z","author_association":"CONTRIBUTOR","body":"Close due to inactive.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/834664881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/834665075","html_url":"https://github.com/apache/helix/pull/1509#issuecomment-834665075","issue_url":"https://api.github.com/repos/apache/helix/issues/1509","id":834665075,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDY2NTA3NQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-07T18:10:14Z","updated_at":"2021-05-07T18:10:14Z","author_association":"CONTRIBUTOR","body":"Close due to inactive.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/834665075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/834666067","html_url":"https://github.com/apache/helix/pull/1292#issuecomment-834666067","issue_url":"https://api.github.com/repos/apache/helix/issues/1292","id":834666067,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDY2NjA2Nw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-07T18:11:54Z","updated_at":"2021-05-07T18:11:54Z","author_association":"CONTRIBUTOR","body":"@manick02 Any update please? Or I will close this PR for now due to inactive.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/834666067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/834666617","html_url":"https://github.com/apache/helix/pull/1227#issuecomment-834666617","issue_url":"https://api.github.com/repos/apache/helix/issues/1227","id":834666617,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDY2NjYxNw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-07T18:12:53Z","updated_at":"2021-05-07T18:12:53Z","author_association":"CONTRIBUTOR","body":"Close due to inactive.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/834666617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/834666681","html_url":"https://github.com/apache/helix/pull/1000#issuecomment-834666681","issue_url":"https://api.github.com/repos/apache/helix/issues/1000","id":834666681,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDY2NjY4MQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-07T18:13:01Z","updated_at":"2021-05-07T18:13:01Z","author_association":"CONTRIBUTOR","body":"Close due to inactive.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/834666681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/834668191","html_url":"https://github.com/apache/helix/pull/736#issuecomment-834668191","issue_url":"https://api.github.com/repos/apache/helix/issues/736","id":834668191,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDY2ODE5MQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-07T18:15:32Z","updated_at":"2021-05-07T18:15:50Z","author_association":"CONTRIBUTOR","body":"Close due to inactive.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/834668191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/834721784","html_url":"https://github.com/apache/helix/pull/1726#issuecomment-834721784","issue_url":"https://api.github.com/repos/apache/helix/issues/1726","id":834721784,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNDcyMTc4NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-07T19:33:08Z","updated_at":"2021-05-07T19:33:08Z","author_association":"CONTRIBUTOR","body":"Approved by @narendly and @mgao0, I will double-check the full test result and merge.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/834721784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]