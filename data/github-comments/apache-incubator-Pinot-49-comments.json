[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526250580","html_url":"https://github.com/apache/pinot/pull/4571#issuecomment-526250580","issue_url":"https://api.github.com/repos/apache/pinot/issues/4571","id":526250580,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjI1MDU4MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T15:56:52Z","updated_at":"2019-08-29T15:56:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4571?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@e98efcb`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4571/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4571?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #4571   +/-   ##\n=========================================\n  Coverage          ?   64.59%           \n  Complexity        ?       20           \n=========================================\n  Files             ?     1070           \n  Lines             ?    55596           \n  Branches          ?     8107           \n=========================================\n  Hits              ?    35912           \n  Misses            ?    17027           \n  Partials          ?     2657\n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4571?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4571?src=pr&el=footer). Last update [e98efcb...11c5572](https://codecov.io/gh/apache/incubator-pinot/pull/4571?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526250580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526289451","html_url":"https://github.com/apache/pinot/pull/4535#issuecomment-526289451","issue_url":"https://api.github.com/repos/apache/pinot/issues/4535","id":526289451,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjI4OTQ1MQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T17:42:53Z","updated_at":"2019-08-29T17:42:53Z","author_association":"CONTRIBUTOR","body":"Seems like this will be WIP for sometime. I'd recommend not enabling the `distinct` support just yet, i.e. throw exception in parser, we have a complete solution.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526289451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526297927","html_url":"https://github.com/apache/pinot/pull/4535#issuecomment-526297927","issue_url":"https://api.github.com/repos/apache/pinot/issues/4535","id":526297927,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjI5NzkyNw==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T18:04:57Z","updated_at":"2019-08-29T18:04:57Z","author_association":"CONTRIBUTOR","body":"> Seems like this will be WIP for sometime. I'd recommend not enabling the `distinct` support just yet, i.e. throw exception in parser, we have a complete solution.\r\n\r\nYes the support is currently disabled. The parser (both pql and sql) will throw exception","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526297927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526300360","html_url":"https://github.com/apache/pinot/pull/4535#issuecomment-526300360","issue_url":"https://api.github.com/repos/apache/pinot/issues/4535","id":526300360,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjMwMDM2MA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T18:11:37Z","updated_at":"2019-08-29T18:12:21Z","author_association":"CONTRIBUTOR","body":"@mayankshriv , setRecordLimit() API is needed because we need to pass the upper bounds to restrict memory usage. Using a separate executor will not work as the bounds work at three different levels -- segment, server and broker. Executor is only used for the first one. Using the result holder will also not work for the same reason. \r\n\r\nThat's why an API was introduced to trickle down this information to the function since the latter doesn't know if it is being used by the segment, server or broker.\r\n\r\nI suggest we keep this and improvise later if/when there is a better solution","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526300360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526404735","html_url":"https://github.com/apache/pinot/pull/4568#issuecomment-526404735","issue_url":"https://api.github.com/repos/apache/pinot/issues/4568","id":526404735,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQwNDczNQ==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T00:05:59Z","updated_at":"2019-08-30T00:05:59Z","author_association":"MEMBER","body":"Here are the results by using offheap dictionary, onheap dictionary with HashMap, and onheap dictionary with Object2IntOpenHashMap:\r\noffheap:\r\n```\r\nTotal time: 12389\r\nTotal time for 10000000 lookups: 15996ms\r\nDictSize,TimeTaken(ms),SegmentSize,NumLookups,Min,Max,Mean,StdDev,Median,Skewness,Kurtosis,Variance,BufferSize\r\n1000000,15996,514501118,10000000,1000.0,1000.0,1000.0,0.0,1000.0,NaN,NaN,0.0\r\nProcess finished with exit code 0\r\n```\r\nonheap with HashMap:\r\n```\r\nTotal time: 12250\r\nTotal time for 10000000 lookups: 237ms\r\nDictSize,TimeTaken(ms),SegmentSize,NumLookups,Min,Max,Mean,StdDev,Median,Skewness,Kurtosis,Variance,BufferSize\r\n1000000,237,514501118,10000000,1000.0,1000.0,1000.0,0.0,1000.0,NaN,NaN,0.0\r\nProcess finished with exit code 0\r\n```\r\nonheap with Object2IntOpenHashMap:\r\n```\r\nTotal time: 12187\r\nTotal time for 10000000 lookups: 242ms\r\nDictSize,TimeTaken(ms),SegmentSize,NumLookups,Min,Max,Mean,StdDev,Median,Skewness,Kurtosis,Variance,BufferSize\r\n1000000,242,514501118,10000000,1000.0,1000.0,1000.0,0.0,1000.0,NaN,NaN,0.0\r\nProcess finished with exit code 0\r\n```\r\nAs the results shows, there's no big difference on dictionary lookup between using these two hash maps.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526404735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526411769","html_url":"https://github.com/apache/pinot/pull/4568#issuecomment-526411769","issue_url":"https://api.github.com/repos/apache/pinot/issues/4568","id":526411769,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQxMTc2OQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T00:47:10Z","updated_at":"2019-08-30T00:47:10Z","author_association":"CONTRIBUTOR","body":"@jackjlli Can you also benchmark the memory cost for these 2 maps? You can include the benchmark class in the pr.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526411769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526725224","html_url":"https://github.com/apache/pinot/issues/3625#issuecomment-526725224","issue_url":"https://api.github.com/repos/apache/pinot/issues/3625","id":526725224,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjcyNTIyNA==","user":{"login":"lsabi","id":13497689,"node_id":"MDQ6VXNlcjEzNDk3Njg5","avatar_url":"https://avatars.githubusercontent.com/u/13497689?v=4","gravatar_id":"","url":"https://api.github.com/users/lsabi","html_url":"https://github.com/lsabi","followers_url":"https://api.github.com/users/lsabi/followers","following_url":"https://api.github.com/users/lsabi/following{/other_user}","gists_url":"https://api.github.com/users/lsabi/gists{/gist_id}","starred_url":"https://api.github.com/users/lsabi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lsabi/subscriptions","organizations_url":"https://api.github.com/users/lsabi/orgs","repos_url":"https://api.github.com/users/lsabi/repos","events_url":"https://api.github.com/users/lsabi/events{/privacy}","received_events_url":"https://api.github.com/users/lsabi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T19:44:49Z","updated_at":"2019-08-30T19:44:49Z","author_association":"NONE","body":"@kishoreg is there any plan/roadmap to support newer versions of java?\r\n\r\nAlso, the only mention that I could find on the docs about the supported java version(s) is in the getting started tutorial, see [https://pinot.readthedocs.io/en/latest/getting_started.html](https://pinot.readthedocs.io/en/latest/getting_started.html).\r\n\r\n**Though it only says that is requires java 8 or later.** As a new user I was compiling with java 11 and getting errors. Only by trying out with java 8 I managed to run pinot. It would be better to explicitly write the supported java versions in order for new users to go through the tutorial smoothly.\r\n\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526725224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526762827","html_url":"https://github.com/apache/pinot/pull/4568#issuecomment-526762827","issue_url":"https://api.github.com/repos/apache/pinot/issues/4568","id":526762827,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjc2MjgyNw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T22:00:20Z","updated_at":"2019-09-06T19:03:07Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4568?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@e98efcb`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `62.5%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4568/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4568?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #4568   +/-   ##\n=========================================\n  Coverage          ?   64.44%           \n  Complexity        ?       32           \n=========================================\n  Files             ?     1072           \n  Lines             ?    55703           \n  Branches          ?     8130           \n=========================================\n  Hits              ?    35896           \n  Misses            ?    17160           \n  Partials          ?     2647\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4568?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../segment/index/readers/OnHeapStringDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4568/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L3JlYWRlcnMvT25IZWFwU3RyaW5nRGljdGlvbmFyeS5qYXZh) | `60.71% <62.5%> (ø)` | `0 <0> (?)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4568?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4568?src=pr&el=footer). Last update [e98efcb...246c829](https://codecov.io/gh/apache/incubator-pinot/pull/4568?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/526762827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527595082","html_url":"https://github.com/apache/pinot/pull/4573#issuecomment-527595082","issue_url":"https://api.github.com/repos/apache/pinot/issues/4573","id":527595082,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzU5NTA4Mg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T19:03:53Z","updated_at":"2019-09-03T19:03:53Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu Once we have the module level test for split commit and lead controller, we can remove the random in this test. This PR can reduce the test time by nearly 10 minutes.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527595082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527622227","html_url":"https://github.com/apache/pinot/pull/4573#issuecomment-527622227","issue_url":"https://api.github.com/repos/apache/pinot/issues/4573","id":527622227,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzYyMjIyNw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T20:17:33Z","updated_at":"2019-09-03T20:17:33Z","author_association":"CONTRIBUTOR","body":"> @mcvsubbu Once we have the module level test for split commit and lead controller, we can remove the random in this test. This PR can reduce the test time by nearly 10 minutes.\r\n\r\nok","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527622227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527681672","html_url":"https://github.com/apache/pinot/pull/3037#issuecomment-527681672","issue_url":"https://api.github.com/repos/apache/pinot/issues/3037","id":527681672,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzY4MTY3Mg==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T23:43:45Z","updated_at":"2019-09-03T23:43:45Z","author_association":"CONTRIBUTOR","body":"@jfim sorry I missed your message earlier. I'm working on open sourcing the Presto Pinot connector and just came back to this diff. I'm relieved to find this endpoint is preserved on Apache Pinot 0.1.0 release :grinning: Would be awesome if we can make the API stable/public.\r\n\r\n@kishoreg @Jackie-Jiang thanks for the comments!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527681672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527683839","html_url":"https://github.com/apache/pinot/pull/3037#issuecomment-527683839","issue_url":"https://api.github.com/repos/apache/pinot/issues/3037","id":527683839,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzY4MzgzOQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-03T23:54:35Z","updated_at":"2019-09-03T23:54:35Z","author_association":"CONTRIBUTOR","body":"Still not correct lol","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527683839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527742150","html_url":"https://github.com/apache/pinot/issues/4574#issuecomment-527742150","issue_url":"https://api.github.com/repos/apache/pinot/issues/4574","id":527742150,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzc0MjE1MA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T05:09:16Z","updated_at":"2019-09-04T05:09:39Z","author_association":"CONTRIBUTOR","body":"1. Pinot currently allows you to consume from a single Kafka topic.\r\n2. Pinot currently supports Kafka (0.9.x and 2.x). You don't need to write any code if you are trying to use Kafka as a stream source. If you configure `TableConfig` correctly, it should work. You can refer to https://pinot.readthedocs.io/en/latest/pluggable_streams.html#pluggable-streams\r\nAlso, you can start with trying out `quick-start-realtime.sh` script, this will bring up the local kafka cluster, create a topic, and start to emit some data to the topic, which is consumed by Pinot.\r\n\r\nIf you have more questions, feel free to join Slack for the support. https://tinyurl.com/pinotSlackChannel","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527742150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527778243","html_url":"https://github.com/apache/pinot/pull/4579#issuecomment-527778243","issue_url":"https://api.github.com/repos/apache/pinot/issues/4579","id":527778243,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzc3ODI0Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T07:25:32Z","updated_at":"2019-09-26T01:26:17Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4579?src=pr&el=h1) Report\n> Merging [#4579](https://codecov.io/gh/apache/incubator-pinot/pull/4579?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/ca01c86aa1658028c5b6e7bbbd0a33526d61d167?src=pr&el=desc) will **decrease** coverage by `7.84%`.\n> The diff coverage is `91.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4579/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4579?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4579      +/-   ##\n============================================\n- Coverage     64.36%   56.51%   -7.85%     \n  Complexity       32       32              \n============================================\n  Files          1076     1076              \n  Lines         56085    56083       -2     \n  Branches       8189     8190       +1     \n============================================\n- Hits          36097    31694    -4403     \n- Misses        17343    21887    +4544     \n+ Partials       2645     2502     -143\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4579?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../data/aggregator/PercentileEstValueAggregator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4579/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2FnZ3JlZ2F0b3IvUGVyY2VudGlsZUVzdFZhbHVlQWdncmVnYXRvci5qYXZh) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ot/core/startree/v2/store/StarTreeLoaderUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4579/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZUxvYWRlclV0aWxzLmphdmE=) | `93.65% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pinot/core/data/aggregator/AvgValueAggregator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4579/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2FnZ3JlZ2F0b3IvQXZnVmFsdWVBZ2dyZWdhdG9yLmphdmE=) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...re/data/aggregator/MinMaxRangeValueAggregator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4579/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2FnZ3JlZ2F0b3IvTWluTWF4UmFuZ2VWYWx1ZUFnZ3JlZ2F0b3IuamF2YQ==) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...startree/executor/StarTreeAggregationExecutor.java](https://codecov.io/gh/apache/incubator-pinot/pull/4579/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9leGVjdXRvci9TdGFyVHJlZUFnZ3JlZ2F0aW9uRXhlY3V0b3IuamF2YQ==) | `72.72% <ø> (-27.28%)` | `0 <0> (ø)` | |\n| [...e/pinot/core/query/request/ServerQueryRequest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4579/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L1NlcnZlclF1ZXJ5UmVxdWVzdC5qYXZh) | `69.69% <ø> (-19.7%)` | `0 <0> (ø)` | |\n| [...ry/aggregation/groupby/DefaultGroupByExecutor.java](https://codecov.io/gh/apache/incubator-pinot/pull/4579/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9ncm91cGJ5L0RlZmF1bHRHcm91cEJ5RXhlY3V0b3IuamF2YQ==) | `92.06% <ø> (-7.94%)` | `0 <0> (ø)` | |\n| [...ator/query/DictionaryBasedAggregationOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4579/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9xdWVyeS9EaWN0aW9uYXJ5QmFzZWRBZ2dyZWdhdGlvbk9wZXJhdG9yLmphdmE=) | `89.28% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ore/startree/executor/StarTreeGroupByExecutor.java](https://codecov.io/gh/apache/incubator-pinot/pull/4579/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9leGVjdXRvci9TdGFyVHJlZUdyb3VwQnlFeGVjdXRvci5qYXZh) | `46.66% <ø> (-26.67%)` | `0 <0> (ø)` | |\n| [...r/transform/function/TransformFunctionFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4579/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25GYWN0b3J5LmphdmE=) | `63.63% <ø> (-5.46%)` | `0 <0> (ø)` | |\n| ... and [328 more](https://codecov.io/gh/apache/incubator-pinot/pull/4579/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4579?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4579?src=pr&el=footer). Last update [ca01c86...6fee8aa](https://codecov.io/gh/apache/incubator-pinot/pull/4579?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527778243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527784106","html_url":"https://github.com/apache/pinot/pull/4578#issuecomment-527784106","issue_url":"https://api.github.com/repos/apache/pinot/issues/4578","id":527784106,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzc4NDEwNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T07:43:54Z","updated_at":"2019-09-04T07:43:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4578?src=pr&el=h1) Report\n> Merging [#4578](https://codecov.io/gh/apache/incubator-pinot/pull/4578?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/f3aa4dbe5e67a016165210a6ec9c6b26454fc79d?src=pr&el=desc) will **increase** coverage by `0.09%`.\n> The diff coverage is `70.16%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4578/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4578?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4578      +/-   ##\n============================================\n+ Coverage     64.42%   64.51%   +0.09%     \n  Complexity       32       32              \n============================================\n  Files          1072     1072              \n  Lines         55638    55620      -18     \n  Branches       8112     8112              \n============================================\n+ Hits          35842    35882      +40     \n+ Misses        17142    17084      -58     \n  Partials       2654     2654\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4578?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...r/transform/function/TransformFunctionFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4578/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25GYWN0b3J5LmphdmE=) | `69.09% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4578/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `4.34% <ø> (+0.18%)` | `0 <0> (ø)` | :arrow_down: |\n| [...orm/function/SingleParamMathTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4578/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vU2luZ2xlUGFyYW1NYXRoVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `88.46% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pinot/core/operator/docvalsets/SingleValueSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4578/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2N2YWxzZXRzL1NpbmdsZVZhbHVlU2V0LmphdmE=) | `90.41% <0%> (-1.26%)` | `0 <0> (ø)` | |\n| [.../pinot/core/operator/docvalsets/MultiValueSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4578/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2N2YWxzZXRzL011bHRpVmFsdWVTZXQuamF2YQ==) | `75% <0%> (-10.72%)` | `0 <0> (ø)` | |\n| [...not/core/operator/transform/TransformOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4578/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vVHJhbnNmb3JtT3BlcmF0b3IuamF2YQ==) | `95% <100%> (-0.24%)` | `0 <0> (ø)` | |\n| [...ore/operator/docvalsets/ProjectionBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4578/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2N2YWxzZXRzL1Byb2plY3Rpb25CbG9ja1ZhbFNldC5qYXZh) | `100% <100%> (+15%)` | `0 <0> (ø)` | :arrow_down: |\n| [...core/operator/docvalsets/TransformBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4578/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2N2YWxzZXRzL1RyYW5zZm9ybUJsb2NrVmFsU2V0LmphdmE=) | `22.44% <100%> (+3.69%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../org/apache/pinot/core/plan/SelectionPlanNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4578/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1NlbGVjdGlvblBsYW5Ob2RlLmphdmE=) | `50% <100%> (+2.17%)` | `0 <0> (ø)` | :arrow_down: |\n| [...he/pinot/core/operator/blocks/ProjectionBlock.java](https://codecov.io/gh/apache/incubator-pinot/pull/4578/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9ibG9ja3MvUHJvamVjdGlvbkJsb2NrLmphdmE=) | `71.42% <100%> (+9.89%)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [37 more](https://codecov.io/gh/apache/incubator-pinot/pull/4578/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4578?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4578?src=pr&el=footer). Last update [f3aa4db...1458985](https://codecov.io/gh/apache/incubator-pinot/pull/4578?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527784106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527817225","html_url":"https://github.com/apache/pinot/pull/4535#issuecomment-527817225","issue_url":"https://api.github.com/repos/apache/pinot/issues/4535","id":527817225,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzgxNzIyNQ==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T09:17:26Z","updated_at":"2019-09-04T09:17:46Z","author_association":"CONTRIBUTOR","body":"> Please add a unit test for DistinctTable\r\n> \r\n> Bonus points if you can also cover BrokerReduceService via unit tests\r\n\r\n@mcvsubbu , Tests added in DistinctQueriesTest test the entire round trip of planning the query and executing from the broker -- thus all levels of execution code are exercised; segment, server level merge and broker level merge. Similar tests are also added in InterSegmentAggregationTests and OfflineClusterIntegrationTest\r\n\r\nThe tests exercise each and every method of DistinctTable -- adding the key, iterator, serialization by server to send DataTable to broker and deserialization at broker to do the merge and then set broker response. As part of asserts in these tests, I check that distinct table works fine (both actual data and metadata like column names and types) by comparing the end result (at the broker level and segment level) with the expected table that the test code builds as it generates custom data. So DistinctTable's code has got 100% coverage through the tests added as follows:\r\n\r\nDistinctQueriesTest.java\r\n\r\n- Exercises segment level execution and checks the data (unique rows) and metadata (column names and types) in Distinct Table.\r\n\r\n- Exercises full inter segment and inter server execution via broker and checks the broker response data (actual unique rows) and metadata (column names) -- this broker response is set after deserializing the DistinctTable and doing the reduce/merge\r\n\r\nOfflineClusterIntegrationTest.java\r\n\r\n- Exercises full inter segment and inter server execution via broker and compares the result against H2\r\n\r\nInnerSegmentAggregationSingleValueQueriesTest\r\n\r\n- Exercises segment level execution and checks the data (unique rows) and metadata (column names and types) in Distinct Table.\r\n\r\nInterSegmentAggregationSingleValueQueriesTest\r\n\r\n- Exercises full inter segment and inter server execution via broker and checks the broker response data (actual unique rows) and metadata (column names) -- this broker response is set after deserializing the DistinctTable and doing the reduce/merge","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/527817225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528074977","html_url":"https://github.com/apache/pinot/issues/4574#issuecomment-528074977","issue_url":"https://api.github.com/repos/apache/pinot/issues/4574","id":528074977,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODA3NDk3Nw==","user":{"login":"lsabi","id":13497689,"node_id":"MDQ6VXNlcjEzNDk3Njg5","avatar_url":"https://avatars.githubusercontent.com/u/13497689?v=4","gravatar_id":"","url":"https://api.github.com/users/lsabi","html_url":"https://github.com/lsabi","followers_url":"https://api.github.com/users/lsabi/followers","following_url":"https://api.github.com/users/lsabi/following{/other_user}","gists_url":"https://api.github.com/users/lsabi/gists{/gist_id}","starred_url":"https://api.github.com/users/lsabi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lsabi/subscriptions","organizations_url":"https://api.github.com/users/lsabi/orgs","repos_url":"https://api.github.com/users/lsabi/repos","events_url":"https://api.github.com/users/lsabi/events{/privacy}","received_events_url":"https://api.github.com/users/lsabi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T20:33:30Z","updated_at":"2019-09-04T20:33:30Z","author_association":"NONE","body":"1. Overall only one? Or you mean one per table?\r\n2. That part of the docs was confusing me. Do I have or do I have not to compile Pinot myself with the kafka extension?\r\n\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528074977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528089180","html_url":"https://github.com/apache/pinot/pull/4577#issuecomment-528089180","issue_url":"https://api.github.com/repos/apache/pinot/issues/4577","id":528089180,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODA4OTE4MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T21:12:04Z","updated_at":"2019-09-05T00:37:40Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4577?src=pr&el=h1) Report\n> Merging [#4577](https://codecov.io/gh/apache/incubator-pinot/pull/4577?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/a1c5af7034d20070bd8f1c87c9ac2774d8044f1c?src=pr&el=desc) will **decrease** coverage by `0.09%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4577/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4577?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master    #4577     +/-   ##\n===========================================\n- Coverage     64.42%   64.32%   -0.1%     \n  Complexity       32       32             \n===========================================\n  Files          1072     1072             \n  Lines         55638    55635      -3     \n  Branches       8112     8112             \n===========================================\n- Hits          35842    35788     -54     \n- Misses        17142    17210     +68     \n+ Partials       2654     2637     -17\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4577?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...gment/name/NormalizedDateSegmentNameGenerator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4577/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L25hbWUvTm9ybWFsaXplZERhdGVTZWdtZW50TmFtZUdlbmVyYXRvci5qYXZh) | `93.02% <ø> (+6.06%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../org/apache/pinot/client/PinotClientException.java](https://codecov.io/gh/apache/incubator-pinot/pull/4577/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvUGlub3RDbGllbnRFeGNlcHRpb24uamF2YQ==) | `33.33% <0%> (-33.34%)` | `0% <0%> (ø)` | |\n| [...pinot/broker/api/resources/PinotClientRequest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4577/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdENsaWVudFJlcXVlc3QuamF2YQ==) | `23.8% <0%> (-19.05%)` | `0% <0%> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4577/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/4577/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvSnNvbkFzeW5jSHR0cFBpbm90Q2xpZW50VHJhbnNwb3J0LmphdmE=) | `58.69% <0%> (-15.22%)` | `0% <0%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4577/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `73.07% <0%> (-10.26%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/util/SortedRangeIntersection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4577/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NvcnRlZFJhbmdlSW50ZXJzZWN0aW9uLmphdmE=) | `83.82% <0%> (-7.36%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4577/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/incubator-pinot/pull/4577/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `71.68% <0%> (-6.63%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4577/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `82.6% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| ... and [29 more](https://codecov.io/gh/apache/incubator-pinot/pull/4577/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4577?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4577?src=pr&el=footer). Last update [a1c5af7...084edf3](https://codecov.io/gh/apache/incubator-pinot/pull/4577?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528089180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528105916","html_url":"https://github.com/apache/pinot/issues/4230#issuecomment-528105916","issue_url":"https://api.github.com/repos/apache/pinot/issues/4230","id":528105916,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODEwNTkxNg==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T22:00:40Z","updated_at":"2019-09-04T22:00:40Z","author_association":"CONTRIBUTOR","body":"Opened PR: https://github.com/apache/incubator-pinot/pull/4585","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528105916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528111964","html_url":"https://github.com/apache/pinot/pull/4584#issuecomment-528111964","issue_url":"https://api.github.com/repos/apache/pinot/issues/4584","id":528111964,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODExMTk2NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T22:17:08Z","updated_at":"2019-09-04T22:17:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4584?src=pr&el=h1) Report\n> Merging [#4584](https://codecov.io/gh/apache/incubator-pinot/pull/4584?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/a1c5af7034d20070bd8f1c87c9ac2774d8044f1c?src=pr&el=desc) will **decrease** coverage by `0.08%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4584/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4584?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4584      +/-   ##\n============================================\n- Coverage     64.42%   64.33%   -0.09%     \n  Complexity       32       32              \n============================================\n  Files          1072     1072              \n  Lines         55638    55638              \n  Branches       8112     8112              \n============================================\n- Hits          35842    35793      -49     \n- Misses        17142    17198      +56     \n+ Partials       2654     2647       -7\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4584?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...er/validation/BrokerResourceValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4584/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL0Jyb2tlclJlc291cmNlVmFsaWRhdGlvbk1hbmFnZXIuamF2YQ==) | `50% <0%> (-31.25%)` | `0% <0%> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4584/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/incubator-pinot/pull/4584/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `71.68% <0%> (-6.63%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4584/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `87.28% <0%> (-5.79%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4584/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `83.92% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4584/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `72.82% <0%> (-5.13%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4584/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `66.07% <0%> (-3.58%)` | `0% <0%> (ø)` | |\n| [...roker/requesthandler/BaseBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4584/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQmFzZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `74.16% <0%> (-3.34%)` | `0% <0%> (ø)` | |\n| [.../org/apache/pinot/transport/netty/NettyServer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4584/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlTZXJ2ZXIuamF2YQ==) | `80.8% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/incubator-pinot/pull/4584/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `32.24% <0%> (-2.86%)` | `0% <0%> (ø)` | |\n| ... and [23 more](https://codecov.io/gh/apache/incubator-pinot/pull/4584/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4584?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4584?src=pr&el=footer). Last update [a1c5af7...7b63f05](https://codecov.io/gh/apache/incubator-pinot/pull/4584?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528111964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528121925","html_url":"https://github.com/apache/pinot/pull/4585#issuecomment-528121925","issue_url":"https://api.github.com/repos/apache/pinot/issues/4585","id":528121925,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODEyMTkyNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T22:48:14Z","updated_at":"2019-10-25T21:40:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4585?src=pr&el=h1) Report\n> Merging [#4585](https://codecov.io/gh/apache/incubator-pinot/pull/4585?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/3579aae5a2cfb6086009cdc3c1b7372351ab8fe3?src=pr&el=desc) will **decrease** coverage by `0.14%`.\n> The diff coverage is `89.07%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4585/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4585?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4585      +/-   ##\n============================================\n- Coverage     57.92%   57.78%   -0.15%     \n+ Complexity       16        4      -12     \n============================================\n  Files          1213     1207       -6     \n  Lines         65135    64880     -255     \n  Branches       9488     9436      -52     \n============================================\n- Hits          37732    37491     -241     \n+ Misses        24544    24542       -2     \n+ Partials       2859     2847      -12\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4585?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/pinot/core/segment/creator/impl/V1Constants.java](https://codecov.io/gh/apache/incubator-pinot/pull/4585/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9WMUNvbnN0YW50cy5qYXZh) | `11.11% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pinot/core/segment/store/ColumnIndexDirectory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4585/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3N0b3JlL0NvbHVtbkluZGV4RGlyZWN0b3J5LmphdmE=) | `93.33% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4585/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...org/apache/pinot/common/config/IndexingConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4585/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL0luZGV4aW5nQ29uZmlnLmphdmE=) | `51.72% <0%> (-1.85%)` | `0 <0> (ø)` | |\n| [...re/startree/v2/store/StarTreeMetricDataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4585/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZU1ldHJpY0RhdGFTb3VyY2UuamF2YQ==) | `54.16% <0%> (-2.36%)` | `0 <0> (ø)` | |\n| [...startree/v2/store/StarTreeDimensionDataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4585/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZURpbWVuc2lvbkRhdGFTb3VyY2UuamF2YQ==) | `69.56% <0%> (-3.17%)` | `0 <0> (ø)` | |\n| [...t/core/segment/store/SingleFileIndexDirectory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4585/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3N0b3JlL1NpbmdsZUZpbGVJbmRleERpcmVjdG9yeS5qYXZh) | `86.27% <100%> (+0.18%)` | `0 <0> (ø)` | :arrow_down: |\n| [...inot/core/segment/store/FilePerIndexDirectory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4585/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3N0b3JlL0ZpbGVQZXJJbmRleERpcmVjdG9yeS5qYXZh) | `90.27% <100%> (+0.88%)` | `0 <0> (ø)` | :arrow_down: |\n| [...t/index/loader/bloomfilter/BloomFilterHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4585/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2xvYWRlci9ibG9vbWZpbHRlci9CbG9vbUZpbHRlckhhbmRsZXIuamF2YQ==) | `71.66% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ache/pinot/core/segment/store/ColumnIndexType.java](https://codecov.io/gh/apache/incubator-pinot/pull/4585/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3N0b3JlL0NvbHVtbkluZGV4VHlwZS5qYXZh) | `85.71% <100%> (+1.09%)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [89 more](https://codecov.io/gh/apache/incubator-pinot/pull/4585/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4585?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4585?src=pr&el=footer). Last update [3579aae...260aac4](https://codecov.io/gh/apache/incubator-pinot/pull/4585?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528121925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528205396","html_url":"https://github.com/apache/pinot/issues/4574#issuecomment-528205396","issue_url":"https://api.github.com/repos/apache/pinot/issues/4574","id":528205396,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODIwNTM5Ng==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T05:38:51Z","updated_at":"2019-09-05T05:38:51Z","author_association":"CONTRIBUTOR","body":"@lsabi\r\n1. One per table\r\n2. Which version of Kafka are you using? By default, it will build using Kafka `0.9.x`. If you want to run against Kafka 2.0, you will need to build the jar from the source running the following commands `mvn clean package -DskipTests -Pbin-dist -Dkafka.version=2.0`. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528205396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528240127","html_url":"https://github.com/apache/pinot/pull/4581#issuecomment-528240127","issue_url":"https://api.github.com/repos/apache/pinot/issues/4581","id":528240127,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODI0MDEyNw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T07:37:34Z","updated_at":"2019-09-05T08:38:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4581?src=pr&el=h1) Report\n> Merging [#4581](https://codecov.io/gh/apache/incubator-pinot/pull/4581?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/05609e4a382746051080040973faf31e49e7b93f?src=pr&el=desc) will **decrease** coverage by `0.02%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4581/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4581?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4581      +/-   ##\n============================================\n- Coverage     64.28%   64.25%   -0.03%     \n  Complexity       32       32              \n============================================\n  Files          1072     1072              \n  Lines         55638    55638              \n  Branches       8112     8112              \n============================================\n- Hits          35768    35752      -16     \n- Misses        17227    17250      +23     \n+ Partials       2643     2636       -7\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4581?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4581/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4581/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-13.21%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/SortedDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4581/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Tb3J0ZWREb2NJZEl0ZXJhdG9yLmphdmE=) | `47.22% <0%> (-8.34%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4581/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `92.3% <0%> (-7.7%)` | `0% <0%> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/incubator-pinot/pull/4581/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `71.68% <0%> (-6.63%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4581/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `89.13% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4581/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `87.28% <0%> (-5.21%)` | `0% <0%> (ø)` | |\n| [.../org/apache/pinot/transport/netty/NettyServer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4581/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlTZXJ2ZXIuamF2YQ==) | `80.8% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/BaseOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4581/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvQmFzZU9mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `83.92% <0%> (-2.98%)` | `0% <0%> (ø)` | |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/incubator-pinot/pull/4581/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `32.24% <0%> (-2.86%)` | `0% <0%> (ø)` | |\n| ... and [23 more](https://codecov.io/gh/apache/incubator-pinot/pull/4581/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4581?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4581?src=pr&el=footer). Last update [05609e4...53c2383](https://codecov.io/gh/apache/incubator-pinot/pull/4581?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528240127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528262739","html_url":"https://github.com/apache/pinot/issues/4484#issuecomment-528262739","issue_url":"https://api.github.com/repos/apache/pinot/issues/4484","id":528262739,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODI2MjczOQ==","user":{"login":"sunny19930321","id":20608540,"node_id":"MDQ6VXNlcjIwNjA4NTQw","avatar_url":"https://avatars.githubusercontent.com/u/20608540?v=4","gravatar_id":"","url":"https://api.github.com/users/sunny19930321","html_url":"https://github.com/sunny19930321","followers_url":"https://api.github.com/users/sunny19930321/followers","following_url":"https://api.github.com/users/sunny19930321/following{/other_user}","gists_url":"https://api.github.com/users/sunny19930321/gists{/gist_id}","starred_url":"https://api.github.com/users/sunny19930321/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunny19930321/subscriptions","organizations_url":"https://api.github.com/users/sunny19930321/orgs","repos_url":"https://api.github.com/users/sunny19930321/repos","events_url":"https://api.github.com/users/sunny19930321/events{/privacy}","received_events_url":"https://api.github.com/users/sunny19930321/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T08:40:00Z","updated_at":"2019-09-05T08:40:00Z","author_association":"CONTRIBUTOR","body":"> Does Pinot broker need to wait the responses of all the servers before it can return the results? We found a single hanging server (probably due to GC) make queries to return after timeout. Restarting the server fixed the issue. A single server failure should not cause timeout when we have multiple copies of the data. Is there any step in query execution requires all servers to respond?\r\n\r\nIs there a solution? It happened to me too","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528262739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528297364","html_url":"https://github.com/apache/pinot/issues/4574#issuecomment-528297364","issue_url":"https://api.github.com/repos/apache/pinot/issues/4574","id":528297364,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODI5NzM2NA==","user":{"login":"lsabi","id":13497689,"node_id":"MDQ6VXNlcjEzNDk3Njg5","avatar_url":"https://avatars.githubusercontent.com/u/13497689?v=4","gravatar_id":"","url":"https://api.github.com/users/lsabi","html_url":"https://github.com/lsabi","followers_url":"https://api.github.com/users/lsabi/followers","following_url":"https://api.github.com/users/lsabi/following{/other_user}","gists_url":"https://api.github.com/users/lsabi/gists{/gist_id}","starred_url":"https://api.github.com/users/lsabi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lsabi/subscriptions","organizations_url":"https://api.github.com/users/lsabi/orgs","repos_url":"https://api.github.com/users/lsabi/repos","events_url":"https://api.github.com/users/lsabi/events{/privacy}","received_events_url":"https://api.github.com/users/lsabi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T10:13:32Z","updated_at":"2019-09-05T10:13:32Z","author_association":"NONE","body":"1. That's not bad, I thought one per database\r\n2. Too bad, I'm using kafka 2.3. I'll compile it myself when I have time\r\n\r\nThough, the documentation is not super clear nor easy to understand for a beginner.\r\n\r\nThanks for the help","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528297364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528440340","html_url":"https://github.com/apache/pinot/issues/4484#issuecomment-528440340","issue_url":"https://api.github.com/repos/apache/pinot/issues/4484","id":528440340,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODQ0MDM0MA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T16:04:13Z","updated_at":"2019-09-05T16:04:13Z","author_association":"CONTRIBUTOR","body":"As currently designed, the broker (after pruning segments) comes up with a set of segments that need to be covered in order to respond to the query. The broker has pre-constructed routing entries that determines which servers need to be reached in order to cover these segments. The broker then forwards the request and waits for responses, until a timeout. If all servers have not responded, then the response is flagged as being partial in the metadata.\r\n\r\nThere are multiple metrics on servers and brokers (system, jvm and pinot level) that adminstrators can set alerts on. Monitoring systems may also auto-restart any of these entities on specific alerts. We expect that on a large scale site-facing system (that cannot tolerate more than a small number of  such partial/failed responses) has such monitoring and automated repair systems.\r\n\r\nThat being said, there is scope for improvement here.  \r\n\r\nOne simple improvement can be that the request should specify the timeout that it can tolerate. The broker waits for a maximum of that timeout, and returns partial response. Alerts may be set on the partial response flag to indicate that some administrator intervention is needed.\r\n\r\nThe broker may also support some (fancy) algorithms to back off routing to specific servers that have responded late (or not at all), and then include them slowly over time, only to back off again if the repair has not been done yet. Think of this as a score attached to a server in the routing entries, and the score keeps improving as the servers responds faster, but decreases when they timeout, or miss a response. Broker tends to favor servers with higher score over those with lower ones (perhaps gives smaller number of segments to servers with lower score).\r\n\r\nNeither of these (or any other than I can think of) auto-fixes a permanent problem on the server without some external intervention (restarts/resets/hardware replacement/whatever). Therefore, for any system that has stringent requirements, it should be that appropriate alerts be set that warrant these operations and, if possible, some auto-remediation be applied in case of most common causes.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528440340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528527009","html_url":"https://github.com/apache/pinot/pull/4586#issuecomment-528527009","issue_url":"https://api.github.com/repos/apache/pinot/issues/4586","id":528527009,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODUyNzAwOQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T19:00:28Z","updated_at":"2019-09-05T19:00:28Z","author_association":"MEMBER","body":"- There are cases where request id's can be generated as MD5 which can be represented as byte[]. Searching for a specific request is a common access pattern. \r\n- Query looks like select * from T where requestId = 'hexEncodedByteString'\r\n\r\nIrrespective of the use case, we should support filtering on all data types for sake of completion. Currently, we support predicates on bytes if its dictionary encoded but not if it's stored as RAW. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528527009/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528647383","html_url":"https://github.com/apache/pinot/pull/4586#issuecomment-528647383","issue_url":"https://api.github.com/repos/apache/pinot/issues/4586","id":528647383,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY0NzM4Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-05T23:38:52Z","updated_at":"2019-09-05T23:38:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4586?src=pr&el=h1) Report\n> Merging [#4586](https://codecov.io/gh/apache/incubator-pinot/pull/4586?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/05609e4a382746051080040973faf31e49e7b93f?src=pr&el=desc) will **decrease** coverage by `0.07%`.\n> The diff coverage is `83.58%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4586/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4586?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4586      +/-   ##\n============================================\n- Coverage     64.28%   64.21%   -0.08%     \n  Complexity       32       32              \n============================================\n  Files          1072     1072              \n  Lines         55638    55705      +67     \n  Branches       8112     8131      +19     \n============================================\n+ Hits          35768    35771       +3     \n- Misses        17227    17290      +63     \n- Partials       2643     2644       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4586?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/operator/dociditerators/SVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4586/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9TVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `63.21% <0%> (-2.26%)` | `0 <0> (ø)` | |\n| [...edicate/BaseDictionaryBasedPredicateEvaluator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4586/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0Jhc2VEaWN0aW9uYXJ5QmFzZWRQcmVkaWNhdGVFdmFsdWF0b3IuamF2YQ==) | `60.71% <0%> (-4.68%)` | `0 <0> (ø)` | |\n| [.../filter/predicate/InPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4586/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0luUHJlZGljYXRlRXZhbHVhdG9yRmFjdG9yeS5qYXZh) | `92.2% <100%> (+1.03%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../predicate/NotEqualsPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4586/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL05vdEVxdWFsc1ByZWRpY2F0ZUV2YWx1YXRvckZhY3RvcnkuamF2YQ==) | `86.56% <100%> (+1.32%)` | `0 <0> (ø)` | :arrow_down: |\n| [...lter/predicate/NotInPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4586/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL05vdEluUHJlZGljYXRlRXZhbHVhdG9yRmFjdG9yeS5qYXZh) | `91.86% <100%> (+0.95%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ter/predicate/EqualsPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4586/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0VxdWFsc1ByZWRpY2F0ZUV2YWx1YXRvckZhY3RvcnkuamF2YQ==) | `92.45% <100%> (+0.96%)` | `0 <0> (ø)` | :arrow_down: |\n| [...lter/predicate/RangePredicateEvaluatorFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4586/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL1JhbmdlUHJlZGljYXRlRXZhbHVhdG9yRmFjdG9yeS5qYXZh) | `88.46% <77.27%> (-1.54%)` | `0 <0> (ø)` | |\n| [...predicate/BaseRawValueBasedPredicateEvaluator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4586/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0Jhc2VSYXdWYWx1ZUJhc2VkUHJlZGljYXRlRXZhbHVhdG9yLmphdmE=) | `88.57% <90%> (+0.23%)` | `0 <0> (ø)` | :arrow_down: |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4586/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4586/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-13.21%)` | `0% <0%> (ø)` | |\n| ... and [37 more](https://codecov.io/gh/apache/incubator-pinot/pull/4586/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4586?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4586?src=pr&el=footer). Last update [05609e4...88ff602](https://codecov.io/gh/apache/incubator-pinot/pull/4586?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528647383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528674111","html_url":"https://github.com/apache/pinot/pull/4588#issuecomment-528674111","issue_url":"https://api.github.com/repos/apache/pinot/issues/4588","id":528674111,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY3NDExMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T01:50:43Z","updated_at":"2019-09-06T01:50:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4588?src=pr&el=h1) Report\n> Merging [#4588](https://codecov.io/gh/apache/incubator-pinot/pull/4588?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/05609e4a382746051080040973faf31e49e7b93f?src=pr&el=desc) will **decrease** coverage by `0.03%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4588/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4588?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4588      +/-   ##\n============================================\n- Coverage     64.28%   64.25%   -0.04%     \n  Complexity       32       32              \n============================================\n  Files          1072     1072              \n  Lines         55638    55705      +67     \n  Branches       8112     8131      +19     \n============================================\n+ Hits          35768    35794      +26     \n- Misses        17227    17274      +47     \n+ Partials       2643     2637       -6\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4588?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...n/java/org/apache/pinot/common/utils/HashUtil.java](https://codecov.io/gh/apache/incubator-pinot/pull/4588/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvSGFzaFV0aWwuamF2YQ==) | `43.1% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4588/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `60.86% <0%> (-21.74%)` | `0% <0%> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4588/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4588/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `25% <0%> (-15%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4588/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `82.6% <0%> (-13.05%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4588/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/incubator-pinot/pull/4588/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `71.68% <0%> (-6.63%)` | `0% <0%> (ø)` | |\n| [...edicate/BaseDictionaryBasedPredicateEvaluator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4588/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0Jhc2VEaWN0aW9uYXJ5QmFzZWRQcmVkaWNhdGVFdmFsdWF0b3IuamF2YQ==) | `60.71% <0%> (-4.68%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4588/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `87.86% <0%> (-4.63%)` | `0% <0%> (ø)` | |\n| [.../org/apache/pinot/transport/netty/NettyServer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4588/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlTZXJ2ZXIuamF2YQ==) | `80.8% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| ... and [33 more](https://codecov.io/gh/apache/incubator-pinot/pull/4588/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4588?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4588?src=pr&el=footer). Last update [05609e4...e7f5ce1](https://codecov.io/gh/apache/incubator-pinot/pull/4588?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528674111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528715376","html_url":"https://github.com/apache/pinot/issues/4484#issuecomment-528715376","issue_url":"https://api.github.com/repos/apache/pinot/issues/4484","id":528715376,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODcxNTM3Ng==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T05:33:23Z","updated_at":"2019-09-06T05:39:22Z","author_association":"CONTRIBUTOR","body":"> As currently designed, the broker (after pruning segments) comes up with a set of segments that need to be covered in order to respond to the query. The broker has pre-constructed routing entries that determines which servers need to be reached in order to cover these segments. The broker then forwards the request and waits for responses, until a timeout. If all servers have not responded, then the response is flagged as being partial in the metadata.\r\n\r\nThe broker right now uses HelixExternalViewBasedRouting to determine the list of servers to send requests. Does it mean the above routing class does not detect non-responsive servers in full GC?  In other words, the underlying external view will not change in a server GC event?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528715376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528929151","html_url":"https://github.com/apache/pinot/pull/4545#issuecomment-528929151","issue_url":"https://api.github.com/repos/apache/pinot/issues/4545","id":528929151,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODkyOTE1MQ==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T16:48:39Z","updated_at":"2019-09-06T16:48:39Z","author_association":"MEMBER","body":"@mcvsubbu design doc updated.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528929151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528934199","html_url":"https://github.com/apache/pinot/issues/4484#issuecomment-528934199","issue_url":"https://api.github.com/repos/apache/pinot/issues/4484","id":528934199,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODkzNDE5OQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T17:04:26Z","updated_at":"2019-09-06T17:04:26Z","author_association":"CONTRIBUTOR","body":"@chenboat  It may or may not change the EV. If, as a result of the gc activity, zookeeper connection is lost, and all reries fail, then yes, the EV will change, and the broker will not route to that server anymore. I don't think we are discussing that scenario right? In that case we wont have the problem of broker waiting for response from a dead server (we wil have it only until EV change is detected by the broker).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528934199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528948926","html_url":"https://github.com/apache/pinot/issues/4484#issuecomment-528948926","issue_url":"https://api.github.com/repos/apache/pinot/issues/4484","id":528948926,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODk0ODkyNg==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T17:45:25Z","updated_at":"2019-09-06T17:45:25Z","author_association":"CONTRIBUTOR","body":"> @chenboat It may or may not change the EV. If, as a result of the gc activity, zookeeper connection is lost, and all reries fail, then yes, the EV will change, and the broker will not route to that server anymore. I don't think we are discussing that scenario right? In that case we wont have the problem of broker waiting for response from a dead server (we wil have it only until EV change is detected by the broker).\r\n\r\nThanks @mcvsubbu for the reply. In fact we were suspecting that exact scenario. One of our servers got into full GC and the broker still routed query to it. I did not have the EV checked at that time. I did not find a test case in pinot-broker to cover such case either. It could be a good test to add if there is no such one.\r\n\r\nBTW, we have external mechanism to detect GC servers as you suggested. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528948926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528950923","html_url":"https://github.com/apache/pinot/issues/4035#issuecomment-528950923","issue_url":"https://api.github.com/repos/apache/pinot/issues/4035","id":528950923,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODk1MDkyMw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T17:50:37Z","updated_at":"2019-09-06T17:50:37Z","author_association":"CONTRIBUTOR","body":"@kishoreg ^^\r\n\r\nWe may also wanna fetch upstream status, e.g. Kafka topic information(#partitions, offsets range, etc.)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528950923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528971712","html_url":"https://github.com/apache/pinot/pull/4591#issuecomment-528971712","issue_url":"https://api.github.com/repos/apache/pinot/issues/4591","id":528971712,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODk3MTcxMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T18:49:56Z","updated_at":"2019-09-06T18:49:56Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4591?src=pr&el=h1) Report\n> Merging [#4591](https://codecov.io/gh/apache/incubator-pinot/pull/4591?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/68092ab9eb83af173d725ec685c22ba4eb5bacf9?src=pr&el=desc) will **increase** coverage by `0.22%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4591/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4591?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4591      +/-   ##\n============================================\n+ Coverage     64.23%   64.45%   +0.22%     \n  Complexity       32       32              \n============================================\n  Files          1072     1072              \n  Lines         55702    55702              \n  Branches       8131     8131              \n============================================\n+ Hits          35778    35903     +125     \n+ Misses        17276    17148     -128     \n- Partials       2648     2651       +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4591?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4591/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4591/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `22.5% <0%> (-22.5%)` | `0% <0%> (ø)` | |\n| [...ache/pinot/common/utils/TarGzCompressionUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4591/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVGFyR3pDb21wcmVzc2lvblV0aWxzLmphdmE=) | `68.23% <0%> (-12.95%)` | `0% <0%> (ø)` | |\n| [...thandler/SingleConnectionBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4591/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvU2luZ2xlQ29ubmVjdGlvbkJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `79.54% <0%> (-9.1%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4591/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `65.21% <0%> (-8.7%)` | `0% <0%> (ø)` | |\n| [...n/java/org/apache/pinot/core/transport/Server.java](https://codecov.io/gh/apache/incubator-pinot/pull/4591/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS90cmFuc3BvcnQvU2VydmVyLmphdmE=) | `59.25% <0%> (-7.41%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4591/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4591/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `82.6% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4591/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `83.92% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4591/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `75% <0%> (-4.17%)` | `0% <0%> (ø)` | |\n| ... and [28 more](https://codecov.io/gh/apache/incubator-pinot/pull/4591/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4591?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4591?src=pr&el=footer). Last update [68092ab...24d551c](https://codecov.io/gh/apache/incubator-pinot/pull/4591?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528971712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528972966","html_url":"https://github.com/apache/pinot/pull/4590#issuecomment-528972966","issue_url":"https://api.github.com/repos/apache/pinot/issues/4590","id":528972966,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODk3Mjk2Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T18:54:02Z","updated_at":"2019-09-06T18:54:02Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4590?src=pr&el=h1) Report\n> Merging [#4590](https://codecov.io/gh/apache/incubator-pinot/pull/4590?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/68092ab9eb83af173d725ec685c22ba4eb5bacf9?src=pr&el=desc) will **increase** coverage by `0.11%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4590/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4590?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4590      +/-   ##\n============================================\n+ Coverage     64.23%   64.34%   +0.11%     \n  Complexity       32       32              \n============================================\n  Files          1072     1072              \n  Lines         55702    55702              \n  Branches       8131     8131              \n============================================\n+ Hits          35778    35840      +62     \n+ Misses        17276    17219      -57     \n+ Partials       2648     2643       -5\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4590?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4590/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `22.5% <0%> (-22.5%)` | `0% <0%> (ø)` | |\n| [...ache/pinot/common/utils/TarGzCompressionUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4590/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVGFyR3pDb21wcmVzc2lvblV0aWxzLmphdmE=) | `68.23% <0%> (-12.95%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4590/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `65.21% <0%> (-8.7%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4590/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4590/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `78.26% <0%> (-4.35%)` | `0% <0%> (ø)` | |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4590/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `75% <0%> (-4.17%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/client/DynamicBrokerSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/4590/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvRHluYW1pY0Jyb2tlclNlbGVjdG9yLmphdmE=) | `69.69% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [.../broker/routing/HelixExternalViewBasedRouting.java](https://codecov.io/gh/apache/incubator-pinot/pull/4590/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUm91dGluZy5qYXZh) | `88.47% <0%> (-2.5%)` | `0% <0%> (ø)` | |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4590/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvQ29ubmVjdGlvbi5qYXZh) | `47.61% <0%> (-2.39%)` | `0% <0%> (ø)` | |\n| [...pby/NoDictionarySingleColumnGroupKeyGenerator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4590/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9ncm91cGJ5L05vRGljdGlvbmFyeVNpbmdsZUNvbHVtbkdyb3VwS2V5R2VuZXJhdG9yLmphdmE=) | `87.5% <0%> (-0.97%)` | `0% <0%> (ø)` | |\n| ... and [25 more](https://codecov.io/gh/apache/incubator-pinot/pull/4590/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4590?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4590?src=pr&el=footer). Last update [68092ab...fa31be6](https://codecov.io/gh/apache/incubator-pinot/pull/4590?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/528972966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529022606","html_url":"https://github.com/apache/pinot/pull/4593#issuecomment-529022606","issue_url":"https://api.github.com/repos/apache/pinot/issues/4593","id":529022606,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTAyMjYwNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T21:37:39Z","updated_at":"2019-09-23T22:56:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4593?src=pr&el=h1) Report\n> Merging [#4593](https://codecov.io/gh/apache/incubator-pinot/pull/4593?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/eda4176dbe3fdcc61744ab8e0ed3cd1246542c8f?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4593/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4593?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4593      +/-   ##\n============================================\n- Coverage     64.47%   64.46%   -0.01%     \n  Complexity       32       32              \n============================================\n  Files          1072     1072              \n  Lines         55702    55703       +1     \n  Branches       8131     8131              \n============================================\n- Hits          35913    35911       -2     \n- Misses        17131    17145      +14     \n+ Partials       2658     2647      -11\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4593?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4593/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `62.76% <100%> (+0.36%)` | `0 <0> (ø)` | :arrow_down: |\n| [...apache/pinot/controller/api/upload/ZKOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4593/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1pLT3BlcmF0b3IuamF2YQ==) | `69.23% <100%> (+6.18%)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4593/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...egation/function/customobject/MinMaxRangePair.java](https://codecov.io/gh/apache/incubator-pinot/pull/4593/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvTWluTWF4UmFuZ2VQYWlyLmphdmE=) | `75.86% <0%> (-24.14%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4593/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `22.5% <0%> (-12.5%)` | `0% <0%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4593/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `73.07% <0%> (-8.98%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4593/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4593/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `69.56% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...der/HighLevelConsumerBasedRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4593/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0hpZ2hMZXZlbENvbnN1bWVyQmFzZWRSb3V0aW5nVGFibGVCdWlsZGVyLmphdmE=) | `90.9% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [.../broker/routing/HelixExternalViewBasedRouting.java](https://codecov.io/gh/apache/incubator-pinot/pull/4593/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUm91dGluZy5qYXZh) | `90.03% <0%> (-1.25%)` | `0% <0%> (ø)` | |\n| ... and [14 more](https://codecov.io/gh/apache/incubator-pinot/pull/4593/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4593?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4593?src=pr&el=footer). Last update [eda4176...c9dcabd](https://codecov.io/gh/apache/incubator-pinot/pull/4593?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529022606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529028012","html_url":"https://github.com/apache/pinot/pull/4568#issuecomment-529028012","issue_url":"https://api.github.com/repos/apache/pinot/issues/4568","id":529028012,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTAyODAxMg==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-06T21:57:23Z","updated_at":"2019-09-09T18:13:52Z","author_association":"MEMBER","body":"I've updated the test and here are the results comparing `Object2IntOpenHashMap` with `HashMap`.\r\n\r\n`Object2IntOpenHashMap`:\r\n```\r\nTotal time for building segment: 22239\r\nTotal time for 10000000 lookups: 1876ms\r\nMemory usage: 2168980704\r\nDictSize,TimeTaken(ms),SegmentSize,NumLookups,Min,Max,Mean,StdDev,Median,Skewness,Kurtosis,Variance,BufferSize\r\n2000000,1876,1029251120,10000000,1000.0,1000.0,1000.0,0.0,1000.0,NaN,NaN,0.0\r\n```\r\n```\r\nTotal time for building segment: 22667\r\nTotal time for 10000000 lookups: 1901ms\r\nMemory usage: 2168993176\r\nDictSize,TimeTaken(ms),SegmentSize,NumLookups,Min,Max,Mean,StdDev,Median,Skewness,Kurtosis,Variance,BufferSize\r\n2000000,1901,1029251120,10000000,1000.0,1000.0,1000.0,0.0,1000.0,NaN,NaN,0.0\r\n```\r\n```\r\nTotal time for building segment: 22174\r\nTotal time for 10000000 lookups: 1880ms\r\nMemory usage: 2168980824\r\nDictSize,TimeTaken(ms),SegmentSize,NumLookups,Min,Max,Mean,StdDev,Median,Skewness,Kurtosis,Variance,BufferSize\r\n2000000,1880,1029251120,10000000,1000.0,1000.0,1000.0,0.0,1000.0,NaN,NaN,0.0\r\n```\r\n\r\n`HashMap`:\r\n```\r\nTotal time for building segment: 22343\r\nTotal time for 10000000 lookups: 2294ms\r\nMemory usage: 2248214504\r\nDictSize,TimeTaken(ms),SegmentSize,NumLookups,Min,Max,Mean,StdDev,Median,Skewness,Kurtosis,Variance,BufferSize\r\n2000000,2294,1029251120,10000000,1000.0,1000.0,1000.0,0.0,1000.0,NaN,NaN,0.0\r\n```\r\n```\r\nTotal time for building segment: 24396\r\nTotal time for 10000000 lookups: 2244ms\r\nMemory usage: 2248201544\r\nDictSize,TimeTaken(ms),SegmentSize,NumLookups,Min,Max,Mean,StdDev,Median,Skewness,Kurtosis,Variance,BufferSize\r\n2000000,2244,1029251120,10000000,1000.0,1000.0,1000.0,0.0,1000.0,NaN,NaN,0.0\r\n```\r\n```\r\nTotal time for building segment: 23854\r\nTotal time for 10000000 lookups: 2216ms\r\nMemory usage: 2248211648\r\nDictSize,TimeTaken(ms),SegmentSize,NumLookups,Min,Max,Mean,StdDev,Median,Skewness,Kurtosis,Variance,BufferSize\r\n2000000,2216,1029251120,10000000,1000.0,1000.0,1000.0,0.0,1000.0,NaN,NaN,0.0\r\n```\r\nAs shown above, `Object2IntOpenHashMap` uses less memory and it takes less time on lookups.\r\nFor 2m rows of strings, reduced memory:\r\n```\r\n2,248M - 2,168M = 80MB\r\n```\r\nreduced time for 10m lookups:\r\n```\r\n2200ms - 1900ms = 300ms\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529028012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529062008","html_url":"https://github.com/apache/pinot/pull/4595#issuecomment-529062008","issue_url":"https://api.github.com/repos/apache/pinot/issues/4595","id":529062008,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTA2MjAwOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-07T01:58:28Z","updated_at":"2019-09-27T20:25:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4595?src=pr&el=h1) Report\n> Merging [#4595](https://codecov.io/gh/apache/incubator-pinot/pull/4595?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/9cfcd305cb50d10392b4d32d90846f7fe25b9936?src=pr&el=desc) will **decrease** coverage by `0.1%`.\n> The diff coverage is `37.24%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4595/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4595?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4595      +/-   ##\n============================================\n- Coverage     64.52%   64.41%   -0.11%     \n  Complexity       16       16              \n============================================\n  Files          1075     1075              \n  Lines         56387    56444      +57     \n  Branches       8355     8353       -2     \n============================================\n- Hits          36382    36360      -22     \n- Misses        17303    17393      +90     \n+ Partials       2702     2691      -11\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4595?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...form/function/TimeConversionTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4595/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVGltZUNvbnZlcnNpb25UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...che/pinot/core/data/readers/RecordReaderUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4595/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvUmVjb3JkUmVhZGVyVXRpbHMuamF2YQ==) | `82.6% <0%> (-0.91%)` | `0 <0> (ø)` | |\n| [...ava/org/apache/pinot/core/util/ArrayCopyUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4595/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL0FycmF5Q29weVV0aWxzLmphdmE=) | `88.23% <0%> (-8.54%)` | `0 <0> (ø)` | |\n| [.../transform/function/AdditionTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4595/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQWRkaXRpb25UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `100% <100%> (+4.54%)` | `0 <0> (ø)` | :arrow_down: |\n| [...r/transform/function/TransformFunctionFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4595/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25GYWN0b3J5LmphdmE=) | `69.09% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...realtime/stream/AvroRecordToPinotRowGenerator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4595/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vQXZyb1JlY29yZFRvUGlub3RSb3dHZW5lcmF0b3IuamF2YQ==) | `100% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...form/function/MultiplicationTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4595/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vTXVsdGlwbGljYXRpb25UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `100% <100%> (+4.54%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ansform/function/SubtractionTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4595/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vU3VidHJhY3Rpb25UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `100% <100%> (+6.06%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ache/pinot/core/data/readers/AvroRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4595/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvQXZyb1JlY29yZFJlYWRlci5qYXZh) | `86.2% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ain/java/org/apache/pinot/core/util/AvroUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4595/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL0F2cm9VdGlscy5qYXZh) | `55.14% <100%> (+2.16%)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [37 more](https://codecov.io/gh/apache/incubator-pinot/pull/4595/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4595?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4595?src=pr&el=footer). Last update [9cfcd30...a718ae4](https://codecov.io/gh/apache/incubator-pinot/pull/4595?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529062008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529116652","html_url":"https://github.com/apache/pinot/pull/4594#issuecomment-529116652","issue_url":"https://api.github.com/repos/apache/pinot/issues/4594","id":529116652,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTExNjY1Mg==","user":{"login":"xiaohui-sun","id":44730481,"node_id":"MDQ6VXNlcjQ0NzMwNDgx","avatar_url":"https://avatars.githubusercontent.com/u/44730481?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohui-sun","html_url":"https://github.com/xiaohui-sun","followers_url":"https://api.github.com/users/xiaohui-sun/followers","following_url":"https://api.github.com/users/xiaohui-sun/following{/other_user}","gists_url":"https://api.github.com/users/xiaohui-sun/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohui-sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohui-sun/subscriptions","organizations_url":"https://api.github.com/users/xiaohui-sun/orgs","repos_url":"https://api.github.com/users/xiaohui-sun/repos","events_url":"https://api.github.com/users/xiaohui-sun/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohui-sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-07T15:12:03Z","updated_at":"2019-09-07T15:12:03Z","author_association":"NONE","body":"Thanks for the fix @jihaozh. @harleyjj can you also make the error message copyable? I have seen several tickets complained they could not copy the message.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529116652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529669548","html_url":"https://github.com/apache/pinot/pull/4597#issuecomment-529669548","issue_url":"https://api.github.com/repos/apache/pinot/issues/4597","id":529669548,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTY2OTU0OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-09T21:13:50Z","updated_at":"2020-05-10T13:03:25Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4597?src=pr&el=h1) Report\n> Merging [#4597](https://codecov.io/gh/apache/incubator-pinot/pull/4597?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/2bda544f967e405a6aac20d2bb2abce430da9603&el=desc) will **increase** coverage by `0.42%`.\n> The diff coverage is `73.83%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4597/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/4597?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4597      +/-   ##\n==========================================\n+ Coverage   66.08%   66.50%   +0.42%     \n==========================================\n  Files        1072     1077       +5     \n  Lines       54668    54978     +310     \n  Branches     8152     8213      +61     \n==========================================\n+ Hits        36125    36565     +440     \n+ Misses      15895    15717     -178     \n- Partials     2648     2696      +48     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4597?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ava/org/apache/pinot/common/utils/SchemaUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4597/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvU2NoZW1hVXRpbHMuamF2YQ==) | `9.85% <0.00%> (ø)` | |\n| [...ger/realtime/Server2ControllerSegmentUploader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4597/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VydmVyMkNvbnRyb2xsZXJTZWdtZW50VXBsb2FkZXIuamF2YQ==) | `71.42% <ø> (ø)` | |\n| [...edicate/BaseDictionaryBasedPredicateEvaluator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4597/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0Jhc2VEaWN0aW9uYXJ5QmFzZWRQcmVkaWNhdGVFdmFsdWF0b3IuamF2YQ==) | `54.16% <ø> (ø)` | |\n| [...predicate/BaseRawValueBasedPredicateEvaluator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4597/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0Jhc2VSYXdWYWx1ZUJhc2VkUHJlZGljYXRlRXZhbHVhdG9yLmphdmE=) | `87.87% <ø> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4597/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `59.37% <14.28%> (-6.73%)` | :arrow_down: |\n| [...not/core/data/recordtransformer/PinotDataType.java](https://codecov.io/gh/apache/incubator-pinot/pull/4597/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlY29yZHRyYW5zZm9ybWVyL1Bpbm90RGF0YVR5cGUuamF2YQ==) | `95.08% <33.33%> (-1.03%)` | :arrow_down: |\n| [...m/function/JsonExtractScalarTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4597/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSnNvbkV4dHJhY3RTY2FsYXJUcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `48.80% <48.80%> (ø)` | |\n| [...rg/apache/pinot/broker/routing/RoutingManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4597/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9Sb3V0aW5nTWFuYWdlci5qYXZh) | `80.91% <50.00%> (-0.24%)` | :arrow_down: |\n| [...e/pinot/common/function/TransformFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/4597/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25UeXBlLmphdmE=) | `82.85% <50.00%> (-4.24%)` | :arrow_down: |\n| [...indexsegment/generator/SegmentGeneratorConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4597/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pbmRleHNlZ21lbnQvZ2VuZXJhdG9yL1NlZ21lbnRHZW5lcmF0b3JDb25maWcuamF2YQ==) | `72.44% <50.00%> (+10.18%)` | :arrow_up: |\n| ... and [103 more](https://codecov.io/gh/apache/incubator-pinot/pull/4597/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4597?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4597?src=pr&el=footer). Last update [44b0a91...fa1bfdc](https://codecov.io/gh/apache/incubator-pinot/pull/4597?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529669548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529687169","html_url":"https://github.com/apache/pinot/pull/4583#issuecomment-529687169","issue_url":"https://api.github.com/repos/apache/pinot/issues/4583","id":529687169,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTY4NzE2OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-09T22:11:10Z","updated_at":"2019-09-17T21:23:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4583?src=pr&el=h1) Report\n> Merging [#4583](https://codecov.io/gh/apache/incubator-pinot/pull/4583?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/a1c5af7034d20070bd8f1c87c9ac2774d8044f1c?src=pr&el=desc) will **increase** coverage by `0.1%`.\n> The diff coverage is `91.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4583/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4583?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master    #4583     +/-   ##\n===========================================\n+ Coverage     64.42%   64.52%   +0.1%     \n  Complexity       32       32             \n===========================================\n  Files          1072     1072             \n  Lines         55638    55709     +71     \n  Branches       8112     8131     +19     \n===========================================\n+ Hits          35842    35948    +106     \n+ Misses        17142    17115     -27     \n+ Partials       2654     2646      -8\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4583?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...loader/defaultcolumn/BaseDefaultColumnHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4583/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2xvYWRlci9kZWZhdWx0Y29sdW1uL0Jhc2VEZWZhdWx0Q29sdW1uSGFuZGxlci5qYXZh) | `92.05% <100%> (+0.16%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ment/creator/impl/SegmentColumnarIndexCreator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4583/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50Q29sdW1uYXJJbmRleENyZWF0b3IuamF2YQ==) | `78.04% <100%> (+0.79%)` | `0 <0> (ø)` | :arrow_down: |\n| [...gment/index/readers/ImmutableDictionaryReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4583/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L3JlYWRlcnMvSW1tdXRhYmxlRGljdGlvbmFyeVJlYWRlci5qYXZh) | `90.55% <50%> (+0.07%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ore/query/scheduler/resources/ResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4583/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvcmVzb3VyY2VzL1Jlc291cmNlTWFuYWdlci5qYXZh) | `85.71% <0%> (-10.72%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/util/SortedRangeIntersection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4583/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NvcnRlZFJhbmdlSW50ZXJzZWN0aW9uLmphdmE=) | `83.82% <0%> (-7.36%)` | `0% <0%> (ø)` | |\n| [...edicate/BaseDictionaryBasedPredicateEvaluator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4583/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0Jhc2VEaWN0aW9uYXJ5QmFzZWRQcmVkaWNhdGVFdmFsdWF0b3IuamF2YQ==) | `60.71% <0%> (-4.68%)` | `0% <0%> (ø)` | |\n| [...der/HighLevelConsumerBasedRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4583/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0hpZ2hMZXZlbENvbnN1bWVyQmFzZWRSb3V0aW5nVGFibGVCdWlsZGVyLmphdmE=) | `90.9% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [.../pinot/core/query/scheduler/PriorityScheduler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4583/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvUHJpb3JpdHlTY2hlZHVsZXIuamF2YQ==) | `78.08% <0%> (-2.74%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/SVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4583/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9TVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `63.21% <0%> (-2.26%)` | `0% <0%> (ø)` | |\n| [...lter/predicate/RangePredicateEvaluatorFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4583/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL1JhbmdlUHJlZGljYXRlRXZhbHVhdG9yRmFjdG9yeS5qYXZh) | `88.46% <0%> (-1.54%)` | `0% <0%> (ø)` | |\n| ... and [29 more](https://codecov.io/gh/apache/incubator-pinot/pull/4583/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4583?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4583?src=pr&el=footer). Last update [a1c5af7...99e963d](https://codecov.io/gh/apache/incubator-pinot/pull/4583?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529687169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529774810","html_url":"https://github.com/apache/pinot/issues/4525#issuecomment-529774810","issue_url":"https://api.github.com/repos/apache/pinot/issues/4525","id":529774810,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTc3NDgxMA==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-10T05:22:24Z","updated_at":"2019-09-10T06:34:05Z","author_association":"CONTRIBUTOR","body":"Currently when a Pinot server starts and joins the Helix cluster, it calls HelixManager's connect() method:\r\nhttps://github.com/apache/incubator-pinot/blob/3236e40c2f8d3d603c82e706db41bf2c0c2eaf68/pinot-server/src/main/java/org/apache/pinot/server/starter/helix/HelixServerStarter.java#L160\r\n\r\nThe above method in its turn call ParticipantManager.joinCluster()\r\n\r\nhttps://github.com/apache/helix/blob/7ac3a6a1762bc74869a8f7ea0a9c7feed8b3ba0a/helix-core/src/main/java/org/apache/helix/manager/zk/ParticipantManager.java#L144-L156\r\n\r\nNotice that in the above code snippet, Helix parses the instanceName (i.e.,) into HOST and PORT field and then stores in Zk. Basically Helix couples instanceName with HELIX_HOST and HELIX_PORT.\r\n\r\nHelix further does not allow change of Helix Host and Port via zkHelixAdmin: https://github.com/apache/helix/blob/cfd270f2ab377126c36fd71151d414aee55baf66/helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java#L215-L221\r\n\r\nOne potential solution here is to obtain a HelixDataAccessor directly and overwrite the PORT and HOST name right after the above connect() in HelixServerStarter.\r\n\r\n@icefury71 @faiyaz\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/529774810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530110310","html_url":"https://github.com/apache/pinot/pull/4597#issuecomment-530110310","issue_url":"https://api.github.com/repos/apache/pinot/issues/4597","id":530110310,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDExMDMxMA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-10T20:40:53Z","updated_at":"2019-09-10T20:40:53Z","author_association":"CONTRIBUTOR","body":"Can you also add documentation on how json columns are to be used? I suppose the json columns cannot be used in filters (yet) right?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530110310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530129911","html_url":"https://github.com/apache/pinot/pull/4602#issuecomment-530129911","issue_url":"https://api.github.com/repos/apache/pinot/issues/4602","id":530129911,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDEyOTkxMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-10T21:34:39Z","updated_at":"2019-10-09T18:43:05Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4602?src=pr&el=h1) Report\n> Merging [#4602](https://codecov.io/gh/apache/incubator-pinot/pull/4602?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/af48abce79de1482c757c3f250ee0a584f423b05?src=pr&el=desc) will **decrease** coverage by `26.5%`.\n> The diff coverage is `18.91%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4602/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4602?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4602       +/-   ##\n=============================================\n- Coverage     64.66%   38.16%   -26.51%     \n=============================================\n  Files          1056     1213      +157     \n  Lines         56192    65167     +8975     \n  Branches       8331     9488     +1157     \n=============================================\n- Hits          36338    24871    -11467     \n- Misses        17160    38041    +20881     \n+ Partials       2694     2255      -439\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4602?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4602/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `83.81% <ø> (-3.47%)` | `0 <0> (ø)` | |\n| [.../helix/core/realtime/SegmentCompletionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4602/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1NlZ21lbnRDb21wbGV0aW9uTWFuYWdlci5qYXZh) | `37.87% <ø> (-32.47%)` | `0 <0> (ø)` | |\n| [...e/query/aggregation/groupby/GroupKeyGenerator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4602/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9ncm91cGJ5L0dyb3VwS2V5R2VuZXJhdG9yLmphdmE=) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...che/pinot/core/data/readers/RecordReaderUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4602/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvUmVjb3JkUmVhZGVyVXRpbHMuamF2YQ==) | `39.08% <ø> (-43.53%)` | `0 <0> (ø)` | |\n| [...ot/tools/admin/command/StartControllerCommand.java](https://codecov.io/gh/apache/incubator-pinot/pull/4602/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL2FkbWluL2NvbW1hbmQvU3RhcnRDb250cm9sbGVyQ29tbWFuZC5qYXZh) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/4602/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `42.3% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...inot/core/data/readers/GenericRowRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4602/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvR2VuZXJpY1Jvd1JlY29yZFJlYWRlci5qYXZh) | `0% <0%> (-94.12%)` | `0 <0> (ø)` | |\n| [...data/readers/MultiplePinotSegmentRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4602/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvTXVsdGlwbGVQaW5vdFNlZ21lbnRSZWNvcmRSZWFkZXIuamF2YQ==) | `0% <0%> (-72.73%)` | `0 <0> (ø)` | |\n| [...ain/java/org/apache/pinot/core/data/table/Key.java](https://codecov.io/gh/apache/incubator-pinot/pull/4602/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL0tleS5qYXZh) | `87.5% <0%> (+37.5%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../pinot/core/data/table/ConcurrentIndexedTable.java](https://codecov.io/gh/apache/incubator-pinot/pull/4602/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL0NvbmN1cnJlbnRJbmRleGVkVGFibGUuamF2YQ==) | `0% <0%> (-95.46%)` | `0 <0> (ø)` | |\n| ... and [777 more](https://codecov.io/gh/apache/incubator-pinot/pull/4602/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4602?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4602?src=pr&el=footer). Last update [af48abc...12d40e3](https://codecov.io/gh/apache/incubator-pinot/pull/4602?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530129911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530492625","html_url":"https://github.com/apache/pinot/pull/4605#issuecomment-530492625","issue_url":"https://api.github.com/repos/apache/pinot/issues/4605","id":530492625,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDQ5MjYyNQ==","user":{"login":"akshayrai","id":4448437,"node_id":"MDQ6VXNlcjQ0NDg0Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/4448437?v=4","gravatar_id":"","url":"https://api.github.com/users/akshayrai","html_url":"https://github.com/akshayrai","followers_url":"https://api.github.com/users/akshayrai/followers","following_url":"https://api.github.com/users/akshayrai/following{/other_user}","gists_url":"https://api.github.com/users/akshayrai/gists{/gist_id}","starred_url":"https://api.github.com/users/akshayrai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshayrai/subscriptions","organizations_url":"https://api.github.com/users/akshayrai/orgs","repos_url":"https://api.github.com/users/akshayrai/repos","events_url":"https://api.github.com/users/akshayrai/events{/privacy}","received_events_url":"https://api.github.com/users/akshayrai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-11T17:54:00Z","updated_at":"2019-09-11T17:54:00Z","author_association":"CONTRIBUTOR","body":"I don't see the AnomalyType being updated? Do you plan to send a followup PR?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530492625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530507405","html_url":"https://github.com/apache/pinot/pull/4605#issuecomment-530507405","issue_url":"https://api.github.com/repos/apache/pinot/issues/4605","id":530507405,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDUwNzQwNQ==","user":{"login":"xiaohui-sun","id":44730481,"node_id":"MDQ6VXNlcjQ0NzMwNDgx","avatar_url":"https://avatars.githubusercontent.com/u/44730481?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohui-sun","html_url":"https://github.com/xiaohui-sun","followers_url":"https://api.github.com/users/xiaohui-sun/followers","following_url":"https://api.github.com/users/xiaohui-sun/following{/other_user}","gists_url":"https://api.github.com/users/xiaohui-sun/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohui-sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohui-sun/subscriptions","organizations_url":"https://api.github.com/users/xiaohui-sun/orgs","repos_url":"https://api.github.com/users/xiaohui-sun/repos","events_url":"https://api.github.com/users/xiaohui-sun/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohui-sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-11T18:30:01Z","updated_at":"2019-09-11T18:30:01Z","author_association":"NONE","body":"> I don't see the AnomalyType being updated? Do you plan to send a followup PR?\r\n\r\nIt will be set in the detection library. For rule based I will add the type.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530507405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530523106","html_url":"https://github.com/apache/pinot/issues/4603#issuecomment-530523106","issue_url":"https://api.github.com/repos/apache/pinot/issues/4603","id":530523106,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDUyMzEwNg==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-11T19:10:01Z","updated_at":"2019-09-11T19:10:20Z","author_association":"CONTRIBUTOR","body":"The docker image that you mentioned is very old one (2 yrs ago) and may contain very old version of Pinot. Can you try with https://github.com/apache/incubator-pinot/tree/master/docker ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530523106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530577238","html_url":"https://github.com/apache/pinot/pull/4605#issuecomment-530577238","issue_url":"https://api.github.com/repos/apache/pinot/issues/4605","id":530577238,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDU3NzIzOA==","user":{"login":"xiaohui-sun","id":44730481,"node_id":"MDQ6VXNlcjQ0NzMwNDgx","avatar_url":"https://avatars.githubusercontent.com/u/44730481?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohui-sun","html_url":"https://github.com/xiaohui-sun","followers_url":"https://api.github.com/users/xiaohui-sun/followers","following_url":"https://api.github.com/users/xiaohui-sun/following{/other_user}","gists_url":"https://api.github.com/users/xiaohui-sun/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohui-sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohui-sun/subscriptions","organizations_url":"https://api.github.com/users/xiaohui-sun/orgs","repos_url":"https://api.github.com/users/xiaohui-sun/repos","events_url":"https://api.github.com/users/xiaohui-sun/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohui-sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-11T21:40:27Z","updated_at":"2019-09-11T21:40:27Z","author_association":"NONE","body":"Will return default anomaly type if it is not set.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530577238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530687937","html_url":"https://github.com/apache/pinot/pull/4607#issuecomment-530687937","issue_url":"https://api.github.com/repos/apache/pinot/issues/4607","id":530687937,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDY4NzkzNw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-12T06:38:24Z","updated_at":"2019-09-16T01:55:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4607?src=pr&el=h1) Report\n> Merging [#4607](https://codecov.io/gh/apache/incubator-pinot/pull/4607?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/fe7fff6288464aaf430ab850741000481fa704fc?src=pr&el=desc) will **increase** coverage by `0.05%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4607/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4607?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4607      +/-   ##\n============================================\n+ Coverage     64.33%   64.38%   +0.05%     \n+ Complexity       94       32      -62     \n============================================\n  Files          1072     1072              \n  Lines         55702    55702              \n  Branches       8131     8131              \n============================================\n+ Hits          35836    35864      +28     \n+ Misses        17216    17190      -26     \n+ Partials       2650     2648       -2\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4607?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4607/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...n/java/org/apache/pinot/core/transport/Server.java](https://codecov.io/gh/apache/incubator-pinot/pull/4607/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS90cmFuc3BvcnQvU2VydmVyLmphdmE=) | `59.25% <0%> (-7.41%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/util/SortedRangeIntersection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4607/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NvcnRlZFJhbmdlSW50ZXJzZWN0aW9uLmphdmE=) | `83.82% <0%> (-7.36%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4607/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `69.56% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...thandler/SingleConnectionBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4607/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvU2luZ2xlQ29ubmVjdGlvbkJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `84.09% <0%> (-4.55%)` | `0% <0%> (ø)` | |\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4607/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-3.78%)` | `0% <0%> (ø)` | |\n| [.../segment/index/readers/OnHeapStringDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4607/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L3JlYWRlcnMvT25IZWFwU3RyaW5nRGljdGlvbmFyeS5qYXZh) | `55.55% <0%> (-3.71%)` | `0% <0%> (ø)` | |\n| [...not/broker/broker/helix/ClusterChangeMediator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4607/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0NsdXN0ZXJDaGFuZ2VNZWRpYXRvci5qYXZh) | `76.92% <0%> (-2.2%)` | `0% <0%> (ø)` | |\n| [.../controller/helix/core/SegmentDeletionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4607/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1NlZ21lbnREZWxldGlvbk1hbmFnZXIuamF2YQ==) | `76.22% <0%> (-1.64%)` | `0% <0%> (ø)` | |\n| [...inot/core/operator/filter/FilterOperatorUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4607/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvRmlsdGVyT3BlcmF0b3JVdGlscy5qYXZh) | `83.33% <0%> (-1.52%)` | `0% <0%> (ø)` | |\n| ... and [20 more](https://codecov.io/gh/apache/incubator-pinot/pull/4607/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4607?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4607?src=pr&el=footer). Last update [fe7fff6...e0f380a](https://codecov.io/gh/apache/incubator-pinot/pull/4607?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/530687937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531124397","html_url":"https://github.com/apache/pinot/pull/4612#issuecomment-531124397","issue_url":"https://api.github.com/repos/apache/pinot/issues/4612","id":531124397,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTEyNDM5Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-13T07:05:01Z","updated_at":"2019-09-13T07:05:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4612?src=pr&el=h1) Report\n> Merging [#4612](https://codecov.io/gh/apache/incubator-pinot/pull/4612?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/fe7fff6288464aaf430ab850741000481fa704fc?src=pr&el=desc) will **increase** coverage by `0.02%`.\n> The diff coverage is `80%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4612/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4612?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4612      +/-   ##\n============================================\n+ Coverage     64.33%   64.36%   +0.02%     \n+ Complexity       94       32      -62     \n============================================\n  Files          1072     1072              \n  Lines         55702    55723      +21     \n  Branches       8131     8133       +2     \n============================================\n+ Hits          35836    35865      +29     \n+ Misses        17216    17214       -2     \n+ Partials       2650     2644       -6\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4612?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...t/core/query/selection/SelectionOperatorUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4612/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vU2VsZWN0aW9uT3BlcmF0b3JVdGlscy5qYXZh) | `88.32% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...e/pinot/core/query/reduce/BrokerReduceService.java](https://codecov.io/gh/apache/incubator-pinot/pull/4612/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvQnJva2VyUmVkdWNlU2VydmljZS5qYXZh) | `80.52% <100%> (+0.37%)` | `0 <0> (ø)` | :arrow_down: |\n| [...inot/common/response/broker/AggregationResult.java](https://codecov.io/gh/apache/incubator-pinot/pull/4612/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzcG9uc2UvYnJva2VyL0FnZ3JlZ2F0aW9uUmVzdWx0LmphdmE=) | `69.23% <100%> (+9.23%)` | `0 <0> (ø)` | :arrow_down: |\n| [...pinot/common/response/broker/SelectionResults.java](https://codecov.io/gh/apache/incubator-pinot/pull/4612/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzcG9uc2UvYnJva2VyL1NlbGVjdGlvblJlc3VsdHMuamF2YQ==) | `62.5% <50%> (-17.5%)` | `0 <0> (ø)` | |\n| [...core/query/selection/SelectionOperatorService.java](https://codecov.io/gh/apache/incubator-pinot/pull/4612/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vU2VsZWN0aW9uT3BlcmF0b3JTZXJ2aWNlLmphdmE=) | `46.78% <66.66%> (+0.06%)` | `0 <0> (ø)` | :arrow_down: |\n| [...java/org/apache/pinot/common/utils/DataSchema.java](https://codecov.io/gh/apache/incubator-pinot/pull/4612/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRGF0YVNjaGVtYS5qYXZh) | `84% <85.71%> (+0.12%)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4612/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4612/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `65.21% <0%> (-10.87%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4612/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `67.85% <0%> (-10.72%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4612/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `92.3% <0%> (-7.7%)` | `0% <0%> (ø)` | |\n| ... and [20 more](https://codecov.io/gh/apache/incubator-pinot/pull/4612/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4612?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4612?src=pr&el=footer). Last update [fe7fff6...fe93380](https://codecov.io/gh/apache/incubator-pinot/pull/4612?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531124397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531218134","html_url":"https://github.com/apache/pinot/pull/4597#issuecomment-531218134","issue_url":"https://api.github.com/repos/apache/pinot/issues/4597","id":531218134,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTIxODEzNA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-13T12:29:23Z","updated_at":"2019-09-13T12:31:58Z","author_association":"CONTRIBUTOR","body":"Will add more documents, this could be used in selection/filtering/groupby, please refer to integration tests.\r\n\r\nCurrent implementation requires the column to be a string column and the content is the json string  in order to be used（e.g. the AVRO field needs to be String type）. I'm still investigating how to directly ingest a record/map type into the field.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531218134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531289428","html_url":"https://github.com/apache/pinot/pull/4608#issuecomment-531289428","issue_url":"https://api.github.com/repos/apache/pinot/issues/4608","id":531289428,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTI4OTQyOA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-13T15:45:23Z","updated_at":"2019-09-13T15:45:23Z","author_association":"CONTRIBUTOR","body":"Is this somehow causing an issue in your environment? What is the motivation behind this change?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531289428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531331597","html_url":"https://github.com/apache/pinot/pull/4608#issuecomment-531331597","issue_url":"https://api.github.com/repos/apache/pinot/issues/4608","id":531331597,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTMzMTU5Nw==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-13T17:52:00Z","updated_at":"2019-09-13T17:52:00Z","author_association":"CONTRIBUTOR","body":"> Is this somehow causing an issue in your environment? What is the motivation behind this change?\r\n\r\nYes. We are running on ~April 2019 version of Pinot (0.1.0).The delete table REST API then is buggy and very confusing: when I did \"curl control_url/tables/A_REALTIME\", the returned response is \r\n_{\"status\":\"Table deleted [A_REALTIME_OFFLINE, A_REALTIME]\"}._ It was really scary for the first sight because it seemed to delete the offline table as well (actually upon very careful examination) it is fine. \r\n\r\nThe delete table API is very important (probably more important than create) because it can remove data. Furthermore, Pinot has this offline and realtime sub-table concepts and make the logic not straightforward. The bug fix since April on this API fixed the above issue. But I still believe there is room to improve:\r\n\r\n1. No UNIT test coverage for such an important API -- this is actually the main goal of this PR.\r\n2. The double negative boolean checks in the current codes are not very readable -- I think at least for now we should abstract them out as methods.\r\n3. The minor issue on non-existent tables -- this issue also justifies we should at test coverage on the method.\r\n   ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531331597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531390467","html_url":"https://github.com/apache/pinot/pull/4583#issuecomment-531390467","issue_url":"https://api.github.com/repos/apache/pinot/issues/4583","id":531390467,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTM5MDQ2Nw==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-13T21:04:02Z","updated_at":"2019-09-13T21:04:02Z","author_association":"MEMBER","body":"@mayankshriv tests for both HLL and TDigest columns added.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531390467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531616918","html_url":"https://github.com/apache/pinot/pull/4607#issuecomment-531616918","issue_url":"https://api.github.com/repos/apache/pinot/issues/4607","id":531616918,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTYxNjkxOA==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-16T01:14:16Z","updated_at":"2019-09-16T01:14:16Z","author_association":"MEMBER","body":"@mcvsubbu This is the very first PR for pinot bench service. \r\nThe following logic for cluster management, benchmark execution, etc would be in another PRs based on this PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531616918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531875761","html_url":"https://github.com/apache/pinot/issues/4614#issuecomment-531875761","issue_url":"https://api.github.com/repos/apache/pinot/issues/4614","id":531875761,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTg3NTc2MQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-16T17:26:05Z","updated_at":"2019-09-16T17:26:05Z","author_association":"CONTRIBUTOR","body":"We already have the feature of dropping queries if it already missed the timeout. We might want to include the SLA into the broker request so that servers know the SLA for each individual queries instead of an instance level timeout.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531875761/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531921434","html_url":"https://github.com/apache/pinot/pull/4615#issuecomment-531921434","issue_url":"https://api.github.com/repos/apache/pinot/issues/4615","id":531921434,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTkyMTQzNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-16T19:24:34Z","updated_at":"2019-09-27T01:02:28Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4615?src=pr&el=h1) Report\n> Merging [#4615](https://codecov.io/gh/apache/incubator-pinot/pull/4615?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/c7b647acd4c4f00d2337b09ab601abf55f238dc5?src=pr&el=desc) will **increase** coverage by `0.12%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4615/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4615?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4615      +/-   ##\n============================================\n+ Coverage     64.33%   64.46%   +0.12%     \n+ Complexity       94       16      -78     \n============================================\n  Files          1072     1075       +3     \n  Lines         55702    56433     +731     \n  Branches       8131     8366     +235     \n============================================\n+ Hits          35836    36379     +543     \n- Misses        17216    17351     +135     \n- Partials       2650     2703      +53\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4615?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4615/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `57.31% <0%> (-29.64%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/BytesOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4615/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvQnl0ZXNPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `55% <0%> (-26.25%)` | `0% <0%> (ø)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4615/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4615/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `60.21% <0%> (-23.72%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4615/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `65.59% <0%> (-23.7%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/BytesOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4615/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvQnl0ZXNPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `57.97% <0%> (-22.99%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4615/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `53.65% <0%> (-22.43%)` | `0% <0%> (ø)` | |\n| [...e/pinot/core/segment/creator/impl/V1Constants.java](https://codecov.io/gh/apache/incubator-pinot/pull/4615/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9WMUNvbnN0YW50cy5qYXZh) | `11.11% <0%> (-22.23%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4615/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `56.98% <0%> (-21.59%)` | `0% <0%> (ø)` | |\n| [...che/pinot/core/util/FixedIntArrayOffHeapIdMap.java](https://codecov.io/gh/apache/incubator-pinot/pull/4615/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL0ZpeGVkSW50QXJyYXlPZmZIZWFwSWRNYXAuamF2YQ==) | `59.09% <0%> (-20.4%)` | `0% <0%> (ø)` | |\n| ... and [147 more](https://codecov.io/gh/apache/incubator-pinot/pull/4615/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4615?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4615?src=pr&el=footer). Last update [c7b647a...8cd50b9](https://codecov.io/gh/apache/incubator-pinot/pull/4615?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531921434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531953246","html_url":"https://github.com/apache/pinot/pull/4602#issuecomment-531953246","issue_url":"https://api.github.com/repos/apache/pinot/issues/4602","id":531953246,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTk1MzI0Ng==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-16T20:51:52Z","updated_at":"2019-09-16T20:51:52Z","author_association":"CONTRIBUTOR","body":"> Looks good overall. Few places where we can optimize further but let us do a benchmark before optimizing further.\r\n> \r\n> I am assuming this code will only be triggered with query option =SQL\r\n\r\nThat's right. The if check in CombinePlanNode for `is groupByMode SQL` and then the same check in `BrokerReduceService::reduceOnDataTable` will ensure this only kicks in when `groupByMode=sql` is set in the json payload","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/531953246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532039551","html_url":"https://github.com/apache/pinot/pull/4617#issuecomment-532039551","issue_url":"https://api.github.com/repos/apache/pinot/issues/4617","id":532039551,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjAzOTU1MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T03:08:36Z","updated_at":"2019-09-17T03:08:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4617?src=pr&el=h1) Report\n> Merging [#4617](https://codecov.io/gh/apache/incubator-pinot/pull/4617?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/8d593f384787fc8cdec604629229f8d33ee15c8a?src=pr&el=desc) will **decrease** coverage by `0.06%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4617/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4617?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4617      +/-   ##\n============================================\n- Coverage     64.33%   64.26%   -0.07%     \n+ Complexity       94       32      -62     \n============================================\n  Files          1072     1072              \n  Lines         55702    55703       +1     \n  Branches       8131     8131              \n============================================\n- Hits          35836    35798      -38     \n- Misses        17216    17272      +56     \n+ Partials       2650     2633      -17\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4617?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...indexsegment/generator/SegmentGeneratorConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4617/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pbmRleHNlZ21lbnQvZ2VuZXJhdG9yL1NlZ21lbnRHZW5lcmF0b3JDb25maWcuamF2YQ==) | `62.37% <100%> (+0.12%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4617/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `32.05% <0%> (-41.03%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4617/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `41.09% <0%> (-34.25%)` | `0% <0%> (ø)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4617/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4617/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4617/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `73.21% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4617/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `35% <0%> (-5%)` | `0% <0%> (ø)` | |\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4617/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-3.78%)` | `0% <0%> (ø)` | |\n| [...not/broker/broker/helix/ClusterChangeMediator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4617/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0NsdXN0ZXJDaGFuZ2VNZWRpYXRvci5qYXZh) | `76.92% <0%> (-2.2%)` | `0% <0%> (ø)` | |\n| [.../controller/helix/core/SegmentDeletionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4617/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1NlZ21lbnREZWxldGlvbk1hbmFnZXIuamF2YQ==) | `76.22% <0%> (-1.64%)` | `0% <0%> (ø)` | |\n| ... and [17 more](https://codecov.io/gh/apache/incubator-pinot/pull/4617/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4617?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4617?src=pr&el=footer). Last update [8d593f3...2930748](https://codecov.io/gh/apache/incubator-pinot/pull/4617?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532039551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532259749","html_url":"https://github.com/apache/pinot/pull/4617#issuecomment-532259749","issue_url":"https://api.github.com/repos/apache/pinot/issues/4617","id":532259749,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjI1OTc0OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T14:58:06Z","updated_at":"2019-09-17T14:58:06Z","author_association":"MEMBER","body":"Existing command is too complicated and needs segment generation config. I would like to simplify this. Touching existing will break compatibility, so it’s better add a new one and deprecate the existing one. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532259749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532272767","html_url":"https://github.com/apache/pinot/pull/4617#issuecomment-532272767","issue_url":"https://api.github.com/repos/apache/pinot/issues/4617","id":532272767,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjI3Mjc2Nw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T15:27:38Z","updated_at":"2019-09-17T15:27:38Z","author_association":"CONTRIBUTOR","body":"In that case, let us add a print to the existing one to direct the user to this new command, and mention that it is deprecated. Over time, we can remove the older one. \r\nI have not looked through fully, but we must add a hook to pick up custom config, and naming schemes.\r\nIf one is not doing anything special like I mentioned above, the V2 command should work, right?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532272767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532276771","html_url":"https://github.com/apache/pinot/pull/4617#issuecomment-532276771","issue_url":"https://api.github.com/repos/apache/pinot/issues/4617","id":532276771,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjI3Njc3MQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T15:37:04Z","updated_at":"2019-09-17T15:37:04Z","author_association":"MEMBER","body":"Yes. Which custom config are useful? Can we put them as part of tableConfig. \r\n\r\nI am trying to see if we can move towards 3 main sections to setup a table \r\n\r\nSchema\r\nTableConfig\r\nIngestionConfig Batch/stream\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532276771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532348196","html_url":"https://github.com/apache/pinot/pull/4618#issuecomment-532348196","issue_url":"https://api.github.com/repos/apache/pinot/issues/4618","id":532348196,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjM0ODE5Ng==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T18:38:30Z","updated_at":"2019-09-17T18:38:30Z","author_association":"CONTRIBUTOR","body":"By \"a segment created before kafka rolled over data\", do you mean the case where the consumer asks for data with offset starting with A but all brokers have their min offsets > A.\r\n\r\nIn such scenario, I think this change will fare as well as the current codes and in some cases work better. Here is the comparison:\r\n1. Current code: It will stop ingestion immediately because the OUT_OF_RANGE is a permanent error. The Validation manager will try to restart the ingestion but that will fail again if the offset problem still persists. We would need to do manual fix.\r\n\r\n2. New code: the transient error status means the retry will kick in: the consumer thread will try a few more brokers to check their data range. If all of them have the same issue, the behavior will be the same as the current code. If any broker still have the data, the ingestion will continue without waiting for the validation manager.\r\n\r\nOur experience so far is that putting OUT_OF_RANGE as transient_error with more retries eliminated all ingestion stopping problems due to faulty brokers.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532348196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532377804","html_url":"https://github.com/apache/pinot/pull/4618#issuecomment-532377804","issue_url":"https://api.github.com/repos/apache/pinot/issues/4618","id":532377804,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjM3NzgwNA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T19:58:53Z","updated_at":"2019-09-17T19:58:53Z","author_association":"CONTRIBUTOR","body":"Your first point is wrong. The validation manager will put in newer offsets that are valid before restarting. No manual fix is needed.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532377804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532385271","html_url":"https://github.com/apache/pinot/pull/4618#issuecomment-532385271","issue_url":"https://api.github.com/repos/apache/pinot/issues/4618","id":532385271,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjM4NTI3MQ==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T20:19:54Z","updated_at":"2019-09-17T20:24:34Z","author_association":"CONTRIBUTOR","body":"> Your first point is wrong. The validation manager will put in newer offsets that are valid before restarting. No manual fix is needed.\r\n\r\nThanks for pointing out this. The main point of this diff remains though: OFFSET_OUT_OF_RANGE in our tests are largely transient error and can be overcome by retries. The validation manager only kicks in after a set period of 10 mins as we observed -- which is too long for strict SLA for realtime ingestion. The new error code reassignment does not change the validation manager behaviors -- it just give more chances for retries. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532385271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532395787","html_url":"https://github.com/apache/pinot/pull/4553#issuecomment-532395787","issue_url":"https://api.github.com/repos/apache/pinot/issues/4553","id":532395787,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjM5NTc4Nw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-17T20:48:30Z","updated_at":"2019-09-17T20:48:30Z","author_association":"CONTRIBUTOR","body":"Please hold off merging until we are out of code yellow, thanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532395787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532548562","html_url":"https://github.com/apache/pinot/pull/4608#issuecomment-532548562","issue_url":"https://api.github.com/repos/apache/pinot/issues/4608","id":532548562,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjU0ODU2Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-18T06:59:17Z","updated_at":"2019-10-08T01:21:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4608?src=pr&el=h1) Report\n> Merging [#4608](https://codecov.io/gh/apache/incubator-pinot/pull/4608?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/fe7fff6288464aaf430ab850741000481fa704fc?src=pr&el=desc) will **decrease** coverage by `7.59%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4608/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4608?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master    #4608     +/-   ##\n===========================================\n- Coverage     64.33%   56.73%   -7.6%     \n+ Complexity       94       16     -78     \n===========================================\n  Files          1072     1056     -16     \n  Lines         55702    56202    +500     \n  Branches       8131     8331    +200     \n===========================================\n- Hits          35836    31888   -3948     \n- Misses        17216    21793   +4577     \n+ Partials       2650     2521    -129\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4608?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...oller/api/resources/PinotTableRestletResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4608/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90VGFibGVSZXN0bGV0UmVzb3VyY2UuamF2YQ==) | `53.36% <100%> (+0.81%)` | `0 <0> (ø)` | :arrow_down: |\n| [...e/pinot/core/operator/blocks/EmptyFilterBlock.java](https://codecov.io/gh/apache/incubator-pinot/pull/4608/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9ibG9ja3MvRW1wdHlGaWx0ZXJCbG9jay5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...g/apache/pinot/sql/parsers/CalciteSqlCompiler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4608/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsQ29tcGlsZXIuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/realtime/stream/MessageBatch.java](https://codecov.io/gh/apache/incubator-pinot/pull/4608/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vTWVzc2FnZUJhdGNoLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...starter/helix/DefaultHelixStarterServerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4608/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9EZWZhdWx0SGVsaXhTdGFydGVyU2VydmVyQ29uZmlnLmphdmE=) | `0% <0%> (-96.16%)` | `0% <0%> (ø)` | |\n| [...re/data/manager/config/TableDataManagerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4608/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvY29uZmlnL1RhYmxlRGF0YU1hbmFnZXJDb25maWcuamF2YQ==) | `0% <0%> (-94.45%)` | `0% <0%> (ø)` | |\n| [...converter/stats/RealtimeSegmentStatsContainer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4608/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9jb252ZXJ0ZXIvc3RhdHMvUmVhbHRpbWVTZWdtZW50U3RhdHNDb250YWluZXIuamF2YQ==) | `0% <0%> (-94.45%)` | `0% <0%> (ø)` | |\n| [...a/org/apache/pinot/common/metrics/ServerTimer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4608/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9TZXJ2ZXJUaW1lci5qYXZh) | `0% <0%> (-88.89%)` | `0% <0%> (ø)` | |\n| [...esthandler/ConnectionPoolBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4608/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQ29ubmVjdGlvblBvb2xCcm9rZXJSZXF1ZXN0SGFuZGxlci5qYXZh) | `0% <0%> (-88.2%)` | `0% <0%> (ø)` | |\n| [...pinot/core/realtime/stream/StreamDataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/4608/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vU3RyZWFtRGF0YVByb3ZpZGVyLmphdmE=) | `0% <0%> (-87.5%)` | `0% <0%> (ø)` | |\n| ... and [407 more](https://codecov.io/gh/apache/incubator-pinot/pull/4608/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4608?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4608?src=pr&el=footer). Last update [fe7fff6...12ac9a0](https://codecov.io/gh/apache/incubator-pinot/pull/4608?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532548562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532827199","html_url":"https://github.com/apache/pinot/pull/4619#issuecomment-532827199","issue_url":"https://api.github.com/repos/apache/pinot/issues/4619","id":532827199,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjgyNzE5OQ==","user":{"login":"akshayrai","id":4448437,"node_id":"MDQ6VXNlcjQ0NDg0Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/4448437?v=4","gravatar_id":"","url":"https://api.github.com/users/akshayrai","html_url":"https://github.com/akshayrai","followers_url":"https://api.github.com/users/akshayrai/followers","following_url":"https://api.github.com/users/akshayrai/following{/other_user}","gists_url":"https://api.github.com/users/akshayrai/gists{/gist_id}","starred_url":"https://api.github.com/users/akshayrai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshayrai/subscriptions","organizations_url":"https://api.github.com/users/akshayrai/orgs","repos_url":"https://api.github.com/users/akshayrai/repos","events_url":"https://api.github.com/users/akshayrai/events{/privacy}","received_events_url":"https://api.github.com/users/akshayrai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-18T19:16:18Z","updated_at":"2019-09-18T19:16:18Z","author_association":"CONTRIBUTOR","body":"@jihaozh can you provide some context (example might help) behind why we need the display name?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532827199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532851936","html_url":"https://github.com/apache/pinot/pull/4619#issuecomment-532851936","issue_url":"https://api.github.com/repos/apache/pinot/issues/4619","id":532851936,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjg1MTkzNg==","user":{"login":"harleyjj","id":10106733,"node_id":"MDQ6VXNlcjEwMTA2NzMz","avatar_url":"https://avatars.githubusercontent.com/u/10106733?v=4","gravatar_id":"","url":"https://api.github.com/users/harleyjj","html_url":"https://github.com/harleyjj","followers_url":"https://api.github.com/users/harleyjj/followers","following_url":"https://api.github.com/users/harleyjj/following{/other_user}","gists_url":"https://api.github.com/users/harleyjj/gists{/gist_id}","starred_url":"https://api.github.com/users/harleyjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harleyjj/subscriptions","organizations_url":"https://api.github.com/users/harleyjj/orgs","repos_url":"https://api.github.com/users/harleyjj/repos","events_url":"https://api.github.com/users/harleyjj/events{/privacy}","received_events_url":"https://api.github.com/users/harleyjj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-18T20:26:26Z","updated_at":"2019-09-18T20:26:26Z","author_association":"CONTRIBUTOR","body":"It looks good, but it's failing CI tests","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532851936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532874914","html_url":"https://github.com/apache/pinot/pull/4619#issuecomment-532874914","issue_url":"https://api.github.com/repos/apache/pinot/issues/4619","id":532874914,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjg3NDkxNA==","user":{"login":"jihaozh","id":36778437,"node_id":"MDQ6VXNlcjM2Nzc4NDM3","avatar_url":"https://avatars.githubusercontent.com/u/36778437?v=4","gravatar_id":"","url":"https://api.github.com/users/jihaozh","html_url":"https://github.com/jihaozh","followers_url":"https://api.github.com/users/jihaozh/followers","following_url":"https://api.github.com/users/jihaozh/following{/other_user}","gists_url":"https://api.github.com/users/jihaozh/gists{/gist_id}","starred_url":"https://api.github.com/users/jihaozh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihaozh/subscriptions","organizations_url":"https://api.github.com/users/jihaozh/orgs","repos_url":"https://api.github.com/users/jihaozh/repos","events_url":"https://api.github.com/users/jihaozh/events{/privacy}","received_events_url":"https://api.github.com/users/jihaozh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-18T21:30:55Z","updated_at":"2019-09-18T21:30:55Z","author_association":"MEMBER","body":"> @jihaozh can you provide some context (example might help) behind why we need the display name?\r\n\r\nAdded this per the requirements of UMP alert onboarding. I'll send a follow-up RB to fill the display name for UMP datasets.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532874914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532909223","html_url":"https://github.com/apache/pinot/pull/4619#issuecomment-532909223","issue_url":"https://api.github.com/repos/apache/pinot/issues/4619","id":532909223,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjkwOTIyMw==","user":{"login":"jihaozh","id":36778437,"node_id":"MDQ6VXNlcjM2Nzc4NDM3","avatar_url":"https://avatars.githubusercontent.com/u/36778437?v=4","gravatar_id":"","url":"https://api.github.com/users/jihaozh","html_url":"https://github.com/jihaozh","followers_url":"https://api.github.com/users/jihaozh/followers","following_url":"https://api.github.com/users/jihaozh/following{/other_user}","gists_url":"https://api.github.com/users/jihaozh/gists{/gist_id}","starred_url":"https://api.github.com/users/jihaozh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihaozh/subscriptions","organizations_url":"https://api.github.com/users/jihaozh/orgs","repos_url":"https://api.github.com/users/jihaozh/repos","events_url":"https://api.github.com/users/jihaozh/events{/privacy}","received_events_url":"https://api.github.com/users/jihaozh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-18T23:50:33Z","updated_at":"2019-09-18T23:50:33Z","author_association":"MEMBER","body":"> It looks good, but it's failing CI tests\r\n\r\nThanks. Just pushed the fix for the front end tests.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532909223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532923579","html_url":"https://github.com/apache/pinot/pull/4585#issuecomment-532923579","issue_url":"https://api.github.com/repos/apache/pinot/issues/4585","id":532923579,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjkyMzU3OQ==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-19T01:10:02Z","updated_at":"2019-09-19T01:10:02Z","author_association":"CONTRIBUTOR","body":"> Sorry for the delay. I was out for a while for the conference.\r\n> \r\n> Would you add the following to the commit message?\r\n> \r\n> 1. Link #4230 for the reference. After I read the issue, this pr made much more sense.\r\n> 2. Add the description on how presence vector is populated. By reading the code, it seems that we generate presence vector by default.\r\n> 3. Can you also add a little bit more explanation to the commit message on when you filter out NULL values? (e.g. when predicate is added by user -- column != NULL...)\r\n> \r\n> I think that most comments are minor & style issues. I will do one more final review after this.\r\n\r\nThanks for pointing that out. Updated description. Please take a look","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/532923579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533059543","html_url":"https://github.com/apache/pinot/pull/4624#issuecomment-533059543","issue_url":"https://api.github.com/repos/apache/pinot/issues/4624","id":533059543,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzA1OTU0Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-19T09:59:11Z","updated_at":"2019-09-19T09:59:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4624?src=pr&el=h1) Report\n> Merging [#4624](https://codecov.io/gh/apache/incubator-pinot/pull/4624?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/c7b647acd4c4f00d2337b09ab601abf55f238dc5?src=pr&el=desc) will **increase** coverage by `0.06%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4624/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4624?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master   #4624      +/-   ##\n===========================================\n+ Coverage     64.33%   64.4%   +0.06%     \n+ Complexity       94      32      -62     \n===========================================\n  Files          1072    1072              \n  Lines         55702   55701       -1     \n  Branches       8131    8130       -1     \n===========================================\n+ Hits          35836   35873      +37     \n+ Misses        17216   17182      -34     \n+ Partials       2650    2646       -4\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4624?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...che/pinot/core/segment/memory/PinotByteBuffer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4624/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L21lbW9yeS9QaW5vdEJ5dGVCdWZmZXIuamF2YQ==) | `80.28% <100%> (-0.14%)` | `0 <0> (ø)` | |\n| [...pache/pinot/core/util/SortedRangeIntersection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4624/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NvcnRlZFJhbmdlSW50ZXJzZWN0aW9uLmphdmE=) | `83.82% <0%> (-7.36%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4624/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `71.73% <0%> (-4.35%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4624/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `82.6% <0%> (-4.35%)` | `0% <0%> (ø)` | |\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4624/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-3.78%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4624/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `58.73% <0%> (-1.59%)` | `0% <0%> (ø)` | |\n| [...pby/NoDictionarySingleColumnGroupKeyGenerator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4624/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9ncm91cGJ5L05vRGljdGlvbmFyeVNpbmdsZUNvbHVtbkdyb3VwS2V5R2VuZXJhdG9yLmphdmE=) | `87.5% <0%> (-0.97%)` | `0% <0%> (ø)` | |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4624/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `73.84% <0%> (-0.52%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4624/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `78.57% <0%> (ø)` | `0% <0%> (ø)` | :arrow_down: |\n| [...regation/function/customobject/QuantileDigest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4624/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvUXVhbnRpbGVEaWdlc3QuamF2YQ==) | `58.18% <0%> (+0.44%)` | `0% <0%> (ø)` | :arrow_down: |\n| ... and [14 more](https://codecov.io/gh/apache/incubator-pinot/pull/4624/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4624?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4624?src=pr&el=footer). Last update [c7b647a...e1d9cfb](https://codecov.io/gh/apache/incubator-pinot/pull/4624?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533059543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533360761","html_url":"https://github.com/apache/pinot/pull/4623#issuecomment-533360761","issue_url":"https://api.github.com/repos/apache/pinot/issues/4623","id":533360761,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzM2MDc2MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T00:51:51Z","updated_at":"2019-09-21T18:37:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4623?src=pr&el=h1) Report\n> Merging [#4623](https://codecov.io/gh/apache/incubator-pinot/pull/4623?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/eda4176dbe3fdcc61744ab8e0ed3cd1246542c8f?src=pr&el=desc) will **decrease** coverage by `0.1%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4623/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4623?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4623      +/-   ##\n============================================\n- Coverage     64.47%   64.36%   -0.11%     \n  Complexity       32       32              \n============================================\n  Files          1072     1072              \n  Lines         55702    55702              \n  Branches       8131     8131              \n============================================\n- Hits          35913    35855      -58     \n- Misses        17131    17196      +65     \n+ Partials       2658     2651       -7\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4623?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4623/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...egation/function/customobject/MinMaxRangePair.java](https://codecov.io/gh/apache/incubator-pinot/pull/4623/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvTWluTWF4UmFuZ2VQYWlyLmphdmE=) | `75.86% <0%> (-24.14%)` | `0% <0%> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4623/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4623/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `78.26% <0%> (-10.87%)` | `0% <0%> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/incubator-pinot/pull/4623/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `71.68% <0%> (-6.63%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4623/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `69.56% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4623/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `87.28% <0%> (-5.21%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4623/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `80.35% <0%> (-3.58%)` | `0% <0%> (ø)` | |\n| [.../broker/routing/HelixExternalViewBasedRouting.java](https://codecov.io/gh/apache/incubator-pinot/pull/4623/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUm91dGluZy5qYXZh) | `87.85% <0%> (-3.43%)` | `0% <0%> (ø)` | |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/incubator-pinot/pull/4623/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `32.24% <0%> (-2.86%)` | `0% <0%> (ø)` | |\n| ... and [22 more](https://codecov.io/gh/apache/incubator-pinot/pull/4623/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4623?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4623?src=pr&el=footer). Last update [eda4176...cf48519](https://codecov.io/gh/apache/incubator-pinot/pull/4623?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533360761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533400408","html_url":"https://github.com/apache/pinot/pull/4622#issuecomment-533400408","issue_url":"https://api.github.com/repos/apache/pinot/issues/4622","id":533400408,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzQwMDQwOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T04:29:36Z","updated_at":"2019-09-20T04:29:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4622?src=pr&el=h1) Report\n> Merging [#4622](https://codecov.io/gh/apache/incubator-pinot/pull/4622?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/44d1ce911441d79782331c3d6ee3f07743706cb9?src=pr&el=desc) will **decrease** coverage by `0.21%`.\n> The diff coverage is `60.97%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4622/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4622?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4622      +/-   ##\n============================================\n- Coverage     64.25%   64.03%   -0.22%     \n  Complexity       32       32              \n============================================\n  Files          1072     1071       -1     \n  Lines         55701    55842     +141     \n  Branches       8130     8216      +86     \n============================================\n- Hits          35789    35761      -28     \n- Misses        17271    17408     +137     \n- Partials       2641     2673      +32\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4622?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...re/segment/index/data/source/ColumnDataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4622/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2RhdGEvc291cmNlL0NvbHVtbkRhdGFTb3VyY2UuamF2YQ==) | `95.45% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ment/creator/impl/SegmentColumnarIndexCreator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4622/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50Q29sdW1uYXJJbmRleENyZWF0b3IuamF2YQ==) | `77.17% <ø> (-0.07%)` | `0 <0> (ø)` | |\n| [...e/pinot/core/segment/creator/impl/V1Constants.java](https://codecov.io/gh/apache/incubator-pinot/pull/4622/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9WMUNvbnN0YW50cy5qYXZh) | `11.11% <ø> (-22.23%)` | `0 <0> (ø)` | |\n| [...t/core/segment/index/readers/OnHeapDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4622/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L3JlYWRlcnMvT25IZWFwRGljdGlvbmFyeS5qYXZh) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...impl/stats/StringColumnPreIndexStatsCollector.java](https://codecov.io/gh/apache/incubator-pinot/pull/4622/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9zdGF0cy9TdHJpbmdDb2x1bW5QcmVJbmRleFN0YXRzQ29sbGVjdG9yLmphdmE=) | `76.11% <ø> (-0.7%)` | `0 <0> (ø)` | |\n| [.../impl/stats/AbstractColumnStatisticsCollector.java](https://codecov.io/gh/apache/incubator-pinot/pull/4622/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9zdGF0cy9BYnN0cmFjdENvbHVtblN0YXRpc3RpY3NDb2xsZWN0b3IuamF2YQ==) | `94.28% <ø> (+4.08%)` | `0 <0> (ø)` | :arrow_down: |\n| [...time/impl/dictionary/MutableDictionaryFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4622/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTXV0YWJsZURpY3Rpb25hcnlGYWN0b3J5LmphdmE=) | `65% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ent/index/column/PhysicalColumnIndexContainer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4622/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2NvbHVtbi9QaHlzaWNhbENvbHVtbkluZGV4Q29udGFpbmVyLmphdmE=) | `92.06% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pinot/core/query/pruner/AbstractSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4622/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvQWJzdHJhY3RTZWdtZW50UHJ1bmVyLmphdmE=) | `72.72% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...t/index/loader/bloomfilter/BloomFilterHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4622/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2xvYWRlci9ibG9vbWZpbHRlci9CbG9vbUZpbHRlckhhbmRsZXIuamF2YQ==) | `71.66% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [68 more](https://codecov.io/gh/apache/incubator-pinot/pull/4622/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4622?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4622?src=pr&el=footer). Last update [44d1ce9...acf6fe9](https://codecov.io/gh/apache/incubator-pinot/pull/4622?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533400408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533645720","html_url":"https://github.com/apache/pinot/issues/4626#issuecomment-533645720","issue_url":"https://api.github.com/repos/apache/pinot/issues/4626","id":533645720,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzY0NTcyMA==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T17:37:19Z","updated_at":"2019-09-20T17:55:34Z","author_association":"CONTRIBUTOR","body":"2019-09-13 00:21:26 INFO  FileUploadDownloadClient:318 - Sending request: http://streampinot-prod02-phx3:5983/segmentConsumed?name=testTableCreation__13__5__20190912T1931Z&offset=421474657&instance=Server_streampinot-prod18-phx3_7090&reason=rowLimit&memoryUsedBytes=5947422696&rowCount=375000 to controller: localhost, version: 0.2.12-0053756739acda99e58f8eb9dee9cd9a3c785061\r\n2019-09-13 00:21:26 INFO  ServerSegmentCompletionProtocolHandler:183 - Controller response {\"buildTimeSec\":-1,\"isSplitCommitType\":false,\"status\":\"KEEP\",\"offset\":421474657} for http://streampinot-prod02-phx3:5983/segmentConsumed?name=testTableCreation__13__5__20190912T1931Z&offset=421474657&instance=Server_streampinot-prod18-phx3_7090&reason=rowLimit&memoryUsedBytes=5947422696&rowCount=375000\r\n2019-09-13 00:21:26 INFO  LLRealtimeSegmentDataManager_testTableCreation__13__5__20190912T1931Z:652 - Waiting to acquire semaphore for building segment\r\n2019-09-13 00:21:27 INFO  HelixTaskExecutor:409 - Scheduling message e2fb09c1-9dad-4cab-bd09-135b25ca8837: testTableCreation_REALTIME:testTableCreation__13__5__20190912T1931Z, CONSUMING->ONLINE\r\n2019-09-13 00:21:27 INFO  HelixStateTransitionHandler:105 - handling message: e2fb09c1-9dad-4cab-bd09-135b25ca8837 transit testTableCreation_REALTIME.testTableCreation__13__5__20190912T1931Z|[] from:CONSUMING to:ONLINE, relayedFrom: null\r\n2019-09-13 00:21:27 INFO  HelixStateTransitionHandler:408 - Instance Server_streampinot-prod18-phx3_7090, partition testTableCreation__13__5__20190912T1931Z received state transition from CONSUMING to ONLINE on session 167860dbea60244, message id: e2fb09c1-9dad-4cab-bd09-135b25ca8837\r\n2019-09-13 00:21:27 INFO  LLRealtimeSegmentDataManager_testTableCreation__13__5__20190912T1931Z:896 - State: RETAINING, transitioning from CONSUMING to ONLINE (startOffset: 421099657, endOffset: 421474657)\r\n2019-09-13 00:27:34 INFO  LLRealtimeSegmentDataManager_testTableCreation__13__5__20190912T1931Z:667 - Trying to build segment\r\n2019-09-13 00:31:27 WARN  LLRealtimeSegmentDataManager_testTableCreation__13__5__20190912T1931Z:1019 - Failed to stop consumer thread within 10 minutes\r\n2019-09-13 00:31:27 INFO  LLRealtimeSegmentDataManager_testTableCreation__13__5__20190912T1931Z:899 - Consumer thread stopped in state RETAINING\r\n2019-09-13 00:31:27 INFO  LLRealtimeSegmentDataManager_testTableCreation__13__5__20190912T1931Z:939 - Downloading to replace segment while in state RETAINING\r\n2019-09-13 00:31:32 INFO  SegmentV1V2ToV3FormatConverter:66 - Converting segment: /var/upinot/stream-pinot-server/dataDir/testTableCreation_REALTIME/_tmp/tmp-testTableCreation__13__5__20190912T1931Z-1568334454006/testTableCreation__13__5__20190912T1931Z to v3 format\r\n2019-09-13 00:31:40 INFO  SegmentV1V2ToV3FormatConverter:87 - v3 segment location for segment: testTableCreation__13__5__20190912T1931Z is /var/upinot/stream-pinot-server/dataDir/testTableCreation_REALTIME/_tmp/tmp-testTableCreation__13__5__20190912T1931Z-1568334454006/testTableCreation__13__5__20190912T1931Z/v3\r\n2019-09-13 00:31:40 INFO  SegmentV1V2ToV3FormatConverter:93 - Deleting files in v1 segment directory: /var/upinot/stream-pinot-server/dataDir/testTableCreation_REALTIME/_tmp/tmp-testTableCreation__13__5__20190912T1931Z-1568334454006/testTableCreation__13__5__20190912T1931Z\r\n2019-09-13 00:31:40 INFO  HttpSegmentFetcher:62 - Downloaded file from: http://streampinot-prod02-phx3:5983/segments/testTableCreation/testTableCreation__13__5__20190912T1931Z to: /var/upinot/stream-pinot-server/dataDir/testTableCreation_REALTIME/testTableCreation__13__5__20190912T1931Z.tar.gz; Length of downloaded file: 1772239628; Response status code: 200\r\n2019-09-13 00:31:40 INFO  testTableCreation_REALTIME-RealtimeTableDataManager:279 - Downloaded file from http://streampinot-prod02-phx3:5983/segments/testTableCreation/testTableCreation__13__5__20190912T1931Z to /var/upinot/stream-pinot-server/dataDir/testTableCreation_REALTIME/testTableCreation__13__5__20190912T1931Z.tar.gz; Length of downloaded file: 1772239628\r\n2019-09-13 00:31:43 INFO  LLRealtimeSegmentDataManager_testTableCreation__13__5__20190912T1931Z:678 - Successfully built segment in 249488 ms, after lockWaitTime 367869 ms\r\n2019-09-13 00:31:43 INFO  testTableCreation_REALTIME-RealtimeTableDataManager:121 - Adding immutable segment: testTableCreation__13__5__20190912T1931Z to table: testTableCreation_REALTIME\r\n2019-09-13 00:31:43 INFO  testTableCreation_REALTIME-RealtimeTableDataManager:133 - Replaced immutable segment: testTableCreation__13__5__20190912T1931Z of table: testTableCreation_REALTIME\r\n2019-09-13 00:32:04 INFO  testTableCreation_REALTIME-RealtimeTableDataManager:281 - Uncompressed file /var/upinot/stream-pinot-server/dataDir/testTableCreation_REALTIME/testTableCreation__13__5__20190912T1931Z.tar.gz into tmp dir /var/upinot/stream-pinot-server/dataDir/testTableCreation_REALTIME/tmp-testTableCreation__13__5__20190912T1931Z.1568334687454\r\n2019-09-13 00:32:05 INFO  testTableCreation_REALTIME-RealtimeTableDataManager:242 - Closing segment: testTableCreation__13__5__20190912T1931Z of table: testTableCreation_REALTIME\r\n2019-09-13 00:32:05 INFO  MutableSegmentImpl_testTableCreation__13__5__20190912T1931Z_hp-api-created_trips:458 - Trying to close RealtimeSegmentImpl : testTableCreation__13__5__20190912T1931Z\r\n2019-09-13 00:32:05 INFO  MutableSegmentImpl_testTableCreation__13__5__20190912T1931Z_hp-api-created_trips:466 - Segment used 5947422696 bytes of memory for 375000 rows consumed in 17806 seconds\r\n2019-09-13 00:32:05 INFO  MmapMemoryManager:170 - Deleted file /var/upinot/stream-pinot-server/dataDir/testTableCreation_REALTIME/consumers/testTableCreation__13__5__20190912T1931Z.0\r\n2019-09-13 00:32:05 INFO  MmapMemoryManager:170 - Deleted file /var/upinot/stream-pinot-server/dataDir/testTableCreation_REALTIME/consumers/testTableCreation__13__5__20190912T1931Z.1\r\n\r\n2019-09-13 00:32:06 INFO  testTableCreation_REALTIME-RealtimeTableDataManager:248 - Closed segment: testTableCreation__13__5__20190912T1931Z of table: testTableCreation_REALTIME\r\n2019-09-13 00:32:06 ERROR HelixStateTransitionHandler:359 - Exception while executing a state transition task testTableCreation__13__5__20190912T1931Z\r\nCaused by: java.lang.RuntimeException: org.apache.commons.io.FileExistsException: Destination '/var/upinot/stream-pinot-server/dataDir/testTableCreation_REALTIME/testTableCreation__13__5__20190912T1931Z' already exists\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533645720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533645973","html_url":"https://github.com/apache/pinot/issues/4626#issuecomment-533645973","issue_url":"https://api.github.com/repos/apache/pinot/issues/4626","id":533645973,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzY0NTk3Mw==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T17:38:03Z","updated_at":"2019-09-20T17:38:27Z","author_association":"CONTRIBUTOR","body":"Here are the interesting events:\r\n2019-09-13 00:21:26 Thread T2 tries to get the semaphore to build the segment.\r\n2019-09-13 00:21:27 Thread T1 got a Helix CONSUMING-> ONLINE transition message and executed the state transition. As part of the transition, T1 asks T2 to stop but T2 ignores the request because it is acquiring semaphore.\r\n2019-09-13 00:27:34 Thread T2 acquired the semaphore and tried to build the segments (in fact T2 should have checked the _shouldStop flag before building the segments and just stop here).\r\n2019-09-13 00:31:27 Thread T1 warned that T2 did not stop within 10 mins. \r\n2019-09-13 00:31:27 Thread T1 downloaded the segments.\r\n2019-09-13 00:31:43 Thread T2 finished building the segments.\r\n\r\nNow both T1 and T2 will try to write the segment to its final destination, it results in java.lang.RuntimeException: org.apache.commons.io.FileExistsException -- and in this case its T1 tried to overwrite the data written by T2.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533645973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533689406","html_url":"https://github.com/apache/pinot/issues/4626#issuecomment-533689406","issue_url":"https://api.github.com/repos/apache/pinot/issues/4626","id":533689406,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzY4OTQwNg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T19:57:03Z","updated_at":"2019-09-20T19:57:03Z","author_association":"CONTRIBUTOR","body":"Excellent analysis, @chenboat . Acknowledged that we have a race condition here. We need to look around after getting the semaphore whether the operation is still worth going through. A corner case, but we need to handle it.\r\n\r\nDo you have a feel of why we were waiting so long for the semaphore? The number of parallel builds allowed can be increased. I wonder what value you have it set to.\r\n\r\nHow many consuming segments do you have in the same host? Are you building large segments? Is it time to spread these partitions around?\r\n\r\nI am wondering if there will be performance issues anyway due to too many segments being present in the same host.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533689406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533820327","html_url":"https://github.com/apache/pinot/pull/4628#issuecomment-533820327","issue_url":"https://api.github.com/repos/apache/pinot/issues/4628","id":533820327,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzgyMDMyNw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-21T18:32:17Z","updated_at":"2019-09-21T18:32:17Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4628?src=pr&el=h1) Report\n> Merging [#4628](https://codecov.io/gh/apache/incubator-pinot/pull/4628?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/eda4176dbe3fdcc61744ab8e0ed3cd1246542c8f?src=pr&el=desc) will **decrease** coverage by `0.11%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4628/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4628?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4628      +/-   ##\n============================================\n- Coverage     64.47%   64.35%   -0.12%     \n  Complexity       32       32              \n============================================\n  Files          1072     1072              \n  Lines         55702    55702              \n  Branches       8131     8131              \n============================================\n- Hits          35913    35848      -65     \n- Misses        17131    17203      +72     \n+ Partials       2658     2651       -7\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4628?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4628/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `32.05% <0%> (-50.01%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4628/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `41.09% <0%> (-34.25%)` | `0% <0%> (ø)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4628/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4628/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4628/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `82.6% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...roker/requesthandler/BaseBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4628/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQmFzZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `74.16% <0%> (-3.34%)` | `0% <0%> (ø)` | |\n| [...der/HighLevelConsumerBasedRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4628/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0hpZ2hMZXZlbENvbnN1bWVyQmFzZWRSb3V0aW5nVGFibGVCdWlsZGVyLmphdmE=) | `90.9% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4628/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `74.35% <0%> (-2.57%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4628/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `73.91% <0%> (-2.18%)` | `0% <0%> (ø)` | |\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4628/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `41.17% <0%> (-1.48%)` | `0% <0%> (ø)` | |\n| ... and [17 more](https://codecov.io/gh/apache/incubator-pinot/pull/4628/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4628?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4628?src=pr&el=footer). Last update [eda4176...ac22f0b](https://codecov.io/gh/apache/incubator-pinot/pull/4628?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533820327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533946578","html_url":"https://github.com/apache/pinot/pull/4629#issuecomment-533946578","issue_url":"https://api.github.com/repos/apache/pinot/issues/4629","id":533946578,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzk0NjU3OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T02:58:01Z","updated_at":"2019-09-24T00:40:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4629?src=pr&el=h1) Report\n> Merging [#4629](https://codecov.io/gh/apache/incubator-pinot/pull/4629?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/eda4176dbe3fdcc61744ab8e0ed3cd1246542c8f?src=pr&el=desc) will **decrease** coverage by `21.97%`.\n> The diff coverage is `85.44%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4629/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4629?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4629       +/-   ##\n=============================================\n- Coverage     64.47%   42.49%   -21.98%     \n=============================================\n  Files          1072     1073        +1     \n  Lines         55702    55663       -39     \n  Branches       8131     8111       -20     \n=============================================\n- Hits          35913    23654    -12259     \n- Misses        17131    29912    +12781     \n+ Partials       2658     2097      -561\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4629?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...pql/parsers/PinotQuery2BrokerRequestConverter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4629/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9QaW5vdFF1ZXJ5MkJyb2tlclJlcXVlc3RDb252ZXJ0ZXIuamF2YQ==) | `56.63% <0%> (-31.76%)` | `0 <0> (ø)` | |\n| [...not/core/operator/transform/TransformOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4629/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vVHJhbnNmb3JtT3BlcmF0b3IuamF2YQ==) | `94.44% <100%> (-0.8%)` | `0 <0> (ø)` | |\n| [...e/pinot/core/common/datatable/DataTableImplV2.java](https://codecov.io/gh/apache/incubator-pinot/pull/4629/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vZGF0YXRhYmxlL0RhdGFUYWJsZUltcGxWMi5qYXZh) | `87.45% <100%> (-1.97%)` | `0 <0> (ø)` | |\n| [...java/org/apache/pinot/common/utils/DataSchema.java](https://codecov.io/gh/apache/incubator-pinot/pull/4629/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRGF0YVNjaGVtYS5qYXZh) | `54.73% <100%> (-29.14%)` | `0 <0> (ø)` | |\n| [.../org/apache/pinot/pql/parsers/Pql2AstListener.java](https://codecov.io/gh/apache/incubator-pinot/pull/4629/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9QcWwyQXN0TGlzdGVuZXIuamF2YQ==) | `77.98% <100%> (-11.33%)` | `0 <0> (ø)` | |\n| [.../org/apache/pinot/core/plan/TransformPlanNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4629/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1RyYW5zZm9ybVBsYW5Ob2RlLmphdmE=) | `86.95% <100%> (-0.8%)` | `0 <0> (ø)` | |\n| [...ot/core/operator/query/EmptySelectionOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4629/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9xdWVyeS9FbXB0eVNlbGVjdGlvbk9wZXJhdG9yLmphdmE=) | `94.44% <100%> (+5.55%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../core/startree/plan/StarTreeTransformPlanNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4629/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9wbGFuL1N0YXJUcmVlVHJhbnNmb3JtUGxhbk5vZGUuamF2YQ==) | `75% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...che/pinot/pql/parsers/pql2/ast/OrderByAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4629/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9PcmRlckJ5QXN0Tm9kZS5qYXZh) | `41.17% <42.85%> (-43.2%)` | `0 <0> (ø)` | |\n| [...t/core/query/selection/SelectionOperatorUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4629/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vU2VsZWN0aW9uT3BlcmF0b3JVdGlscy5qYXZh) | `65.98% <73.13%> (-22.34%)` | `0 <0> (ø)` | |\n| ... and [595 more](https://codecov.io/gh/apache/incubator-pinot/pull/4629/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4629?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4629?src=pr&el=footer). Last update [eda4176...c849dd0](https://codecov.io/gh/apache/incubator-pinot/pull/4629?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/533946578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534211898","html_url":"https://github.com/apache/pinot/pull/4535#issuecomment-534211898","issue_url":"https://api.github.com/repos/apache/pinot/issues/4535","id":534211898,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDIxMTg5OA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T17:54:48Z","updated_at":"2019-09-23T17:54:48Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang , thanks for reviewing. Addressed your latest comments. We can merge this once \"code yellow\" ends. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534211898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534213027","html_url":"https://github.com/apache/pinot/pull/4602#issuecomment-534213027","issue_url":"https://api.github.com/repos/apache/pinot/issues/4602","id":534213027,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDIxMzAyNw==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T17:57:24Z","updated_at":"2019-09-23T17:57:24Z","author_association":"CONTRIBUTOR","body":"> Will performance numbers be shared in this PR, or following PR's?\r\n\r\nI'll include performance numbers in this PR","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534213027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534214610","html_url":"https://github.com/apache/pinot/pull/4630#issuecomment-534214610","issue_url":"https://api.github.com/repos/apache/pinot/issues/4630","id":534214610,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDIxNDYxMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T18:01:30Z","updated_at":"2019-09-23T22:25:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4630?src=pr&el=h1) Report\n> Merging [#4630](https://codecov.io/gh/apache/incubator-pinot/pull/4630?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/eda4176dbe3fdcc61744ab8e0ed3cd1246542c8f?src=pr&el=desc) will **decrease** coverage by `0.12%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4630/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4630?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4630      +/-   ##\n============================================\n- Coverage     64.47%   64.34%   -0.13%     \n  Complexity       32       32              \n============================================\n  Files          1072     1072              \n  Lines         55702    55702              \n  Branches       8131     8131              \n============================================\n- Hits          35913    35843      -70     \n- Misses        17131    17210      +79     \n+ Partials       2658     2649       -9\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4630?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4630/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `32.05% <0%> (-50.01%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4630/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `41.09% <0%> (-34.25%)` | `0% <0%> (ø)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4630/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...egation/function/customobject/MinMaxRangePair.java](https://codecov.io/gh/apache/incubator-pinot/pull/4630/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvTWluTWF4UmFuZ2VQYWlyLmphdmE=) | `75.86% <0%> (-24.14%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4630/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4630/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `69.56% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4630/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `82.6% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...l/FixedByteSingleColumnMultiValueReaderWriter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4630/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby9yZWFkZXJ3cml0ZXIvaW1wbC9GaXhlZEJ5dGVTaW5nbGVDb2x1bW5NdWx0aVZhbHVlUmVhZGVyV3JpdGVyLmphdmE=) | `68.91% <0%> (-2.08%)` | `0% <0%> (ø)` | |\n| [...inot/transport/netty/NettyTCPClientConnection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4630/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlUQ1BDbGllbnRDb25uZWN0aW9uLmphdmE=) | `81.45% <0%> (-1.99%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4630/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `67.85% <0%> (-1.79%)` | `0% <0%> (ø)` | |\n| ... and [11 more](https://codecov.io/gh/apache/incubator-pinot/pull/4630/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4630?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4630?src=pr&el=footer). Last update [eda4176...33dcbc5](https://codecov.io/gh/apache/incubator-pinot/pull/4630?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534214610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534220204","html_url":"https://github.com/apache/pinot/issues/4603#issuecomment-534220204","issue_url":"https://api.github.com/repos/apache/pinot/issues/4603","id":534220204,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDIyMDIwNA==","user":{"login":"AnishKanth","id":50066028,"node_id":"MDQ6VXNlcjUwMDY2MDI4","avatar_url":"https://avatars.githubusercontent.com/u/50066028?v=4","gravatar_id":"","url":"https://api.github.com/users/AnishKanth","html_url":"https://github.com/AnishKanth","followers_url":"https://api.github.com/users/AnishKanth/followers","following_url":"https://api.github.com/users/AnishKanth/following{/other_user}","gists_url":"https://api.github.com/users/AnishKanth/gists{/gist_id}","starred_url":"https://api.github.com/users/AnishKanth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnishKanth/subscriptions","organizations_url":"https://api.github.com/users/AnishKanth/orgs","repos_url":"https://api.github.com/users/AnishKanth/repos","events_url":"https://api.github.com/users/AnishKanth/events{/privacy}","received_events_url":"https://api.github.com/users/AnishKanth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T18:15:41Z","updated_at":"2019-09-23T18:15:41Z","author_association":"NONE","body":"> The docker image that you mentioned is very old one (2 yrs ago) and may contain very old version of Pinot. Can you try with https://github.com/apache/incubator-pinot/tree/master/docker ?\r\n\r\nFacing the same issue with docker from above mentioned path (https://github.com/apache/incubator-pinot/tree/master/docker)\r\n\r\nCannot find a deserializer for non-concrete Map type [map type; class javax.ws.rs.core.MultivaluedMap, [simple type, class java.lang.String] -> [collection type; class java.util.List, contains [simple type, class java.lang.String]]] at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534220204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534221224","html_url":"https://github.com/apache/pinot/pull/4629#issuecomment-534221224","issue_url":"https://api.github.com/repos/apache/pinot/issues/4629","id":534221224,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDIyMTIyNA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T18:18:30Z","updated_at":"2019-09-23T18:18:30Z","author_association":"CONTRIBUTOR","body":"@mayankshriv Addressed all the comments. The temporary handling code is manually tested. The plan is to first merge the PR, cut a release (open-source release candidate), then test it. If found issue, will apply fix in another PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534221224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534222185","html_url":"https://github.com/apache/pinot/issues/4603#issuecomment-534222185","issue_url":"https://api.github.com/repos/apache/pinot/issues/4603","id":534222185,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDIyMjE4NQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T18:20:55Z","updated_at":"2019-09-23T18:20:55Z","author_association":"CONTRIBUTOR","body":"Hi @AnishKanth, could you put the post request you are using? Also have you tried out `pinot-admin` command?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534222185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534276264","html_url":"https://github.com/apache/pinot/issues/4626#issuecomment-534276264","issue_url":"https://api.github.com/repos/apache/pinot/issues/4626","id":534276264,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDI3NjI2NA==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T20:43:13Z","updated_at":"2019-09-23T20:43:13Z","author_association":"CONTRIBUTOR","body":"Thanks @mcvsubbu for the replies.\r\n> Do you have a feel of why we were waiting so long for the semaphore? The number of parallel builds allowed can be increased. I wonder what value you have it set to.\r\n\r\n Our max.parallel.segment.builds is set to 2. Since the affected table runs on a busy shared tenant, the value seems to be too low? \r\n \r\n> How many consuming segments do you have in the same host? Are you building large segments? Is it time to spread these partitions around?\r\n\r\nThe number of consuming segments depends on the number of realtime table partitions assigned to the host, right? This could be in the range of a few dozens. We also think big segment size makes the problem worse and the first temporary fix I did was to lower the segment flush threshold from 5 hrs to 0.5 hrs. That mitigated the issue. \r\n\r\n> I am wondering if there will be performance issues anyway due to too many segments being present in the same host.\r\nSo far from the ERROR state issue, the shared tenant seems to be fine in terms of ingestion and query performance. Our alert system did not fire additional alerts.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534276264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534301317","html_url":"https://github.com/apache/pinot/issues/4626#issuecomment-534301317","issue_url":"https://api.github.com/repos/apache/pinot/issues/4626","id":534301317,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDMwMTMxNw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T21:57:22Z","updated_at":"2019-09-23T21:57:22Z","author_association":"CONTRIBUTOR","body":"> Thanks @mcvsubbu for the replies.\r\n> \r\n> > Do you have a feel of why we were waiting so long for the semaphore? The number of parallel builds allowed can be increased. I wonder what value you have it set to.\r\n> \r\n> Our max.parallel.segment.builds is set to 2. Since the affected table runs on a busy shared tenant, the value seems to be too low?\r\nUnfortunately there is no one right answe. It is a balancing act between disk i/o, cpu and memory  on the host in which this is all happening. In general, having too many segments will make queries slow (and helix somewhat slow, but query effects are seen a lot sooner). Having too large segments will make segment build slow and have tons of oldgen garbage to contribute. Using offheap allocation alleviates some of this, but inverted indices are still on heap. Offheap allocation can have issues while building segments if you have too many consuming segments pounding on HDD. Remember, pages of consuming segments are always dirty and therefore the OS will flush them to disk. Your page-in-out could be high.\r\n\r\nYou can try increasing the number of parallel segment builds. GC cycle after the builds can reclaim a large bunch of oldgen memory.\r\n\r\nWe have found that using segment size to tune things (rather than number of rows or time) is the most optimal. Check out the blog https://engineering.linkedin.com/blog/2019/auto-tuning-pinot. This is coming to 0.2.0 release soon, and is available on the master now.\r\n\r\n> \r\n> > How many consuming segments do you have in the same host? Are you building large segments? Is it time to spread these partitions around?\r\n> \r\n> The number of consuming segments depends on the number of realtime table partitions assigned to the host, right? This could be in the range of a few dozens. We also think big segment size makes the problem worse and the first temporary fix I did was to lower the segment flush threshold from 5 hrs to 0.5 hrs. That mitigated the issue.\r\n> \r\n\r\nBut you may run into the effect of too many small segments. If it works for you, great. You can also try moving completed segments to a different set of hosts. Another feature that is in the master, and will be there in 0.2.0\r\n\r\n> > I am wondering if there will be performance issues anyway due to too many segments being present in the same host.\r\n> > So far from the ERROR state issue, the shared tenant seems to be fine in terms of ingestion and query performance. Our alert system did not fire additional alerts.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534301317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534307122","html_url":"https://github.com/apache/pinot/pull/4593#issuecomment-534307122","issue_url":"https://api.github.com/repos/apache/pinot/issues/4593","id":534307122,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDMwNzEyMg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T22:18:27Z","updated_at":"2019-09-23T22:18:27Z","author_association":"CONTRIBUTOR","body":"@icefury71 Good suggestion, added.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534307122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534331889","html_url":"https://github.com/apache/pinot/pull/4374#issuecomment-534331889","issue_url":"https://api.github.com/repos/apache/pinot/issues/4374","id":534331889,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDMzMTg4OQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T00:05:36Z","updated_at":"2019-09-24T00:05:36Z","author_association":"CONTRIBUTOR","body":"Drop this PR. Offline and Realtime table should handle the time value in the same fashion.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534331889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534350691","html_url":"https://github.com/apache/pinot/pull/4385#issuecomment-534350691","issue_url":"https://api.github.com/repos/apache/pinot/issues/4385","id":534350691,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDM1MDY5MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T01:40:09Z","updated_at":"2019-10-24T01:58:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4385?src=pr&el=h1) Report\n> Merging [#4385](https://codecov.io/gh/apache/incubator-pinot/pull/4385?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/2f7243246b11d50418cfac7d39e3794e61a88d0b?src=pr&el=desc) will **decrease** coverage by `22.31%`.\n> The diff coverage is `1.13%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4385/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4385?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4385       +/-   ##\n=============================================\n- Coverage      64.6%   42.29%   -22.32%     \n=============================================\n  Files          1051     1052        +1     \n  Lines         56160    56239       +79     \n  Branches       8330     8347       +17     \n=============================================\n- Hits          36284    23788    -12496     \n- Misses        17168    30333    +13165     \n+ Partials       2708     2118      -590\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4385?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...time/impl/dictionary/OffHeapMutableBytesStore.java](https://codecov.io/gh/apache/incubator-pinot/pull/4385/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvT2ZmSGVhcE11dGFibGVCeXRlc1N0b3JlLmphdmE=) | `0% <0%> (ø)` | `0 <0> (?)` | |\n| [...che/pinot/core/segment/memory/PinotDataBuffer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4385/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L21lbW9yeS9QaW5vdERhdGFCdWZmZXIuamF2YQ==) | `54.16% <100%> (-25%)` | `0 <0> (ø)` | |\n| [.../org/apache/pinot/common/http/MultiGetRequest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4385/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vaHR0cC9NdWx0aUdldFJlcXVlc3QuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/common/restlet/resources/TablesList.java](https://codecov.io/gh/apache/incubator-pinot/pull/4385/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzdGxldC9yZXNvdXJjZXMvVGFibGVzTGlzdC5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/pql/parsers/pql2/ast/OptionsAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4385/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9PcHRpb25zQXN0Tm9kZS5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...ot/core/query/scheduler/TableBasedGroupMapper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4385/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvVGFibGVCYXNlZEdyb3VwTWFwcGVyLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...t/core/segment/index/readers/OnHeapDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4385/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L3JlYWRlcnMvT25IZWFwRGljdGlvbmFyeS5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...mmon/config/instance/InstanceAssignmentConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4385/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL2luc3RhbmNlL0luc3RhbmNlQXNzaWdubWVudENvbmZpZy5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...ommon/utils/retry/RetriableOperationException.java](https://codecov.io/gh/apache/incubator-pinot/pull/4385/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvcmV0cnkvUmV0cmlhYmxlT3BlcmF0aW9uRXhjZXB0aW9uLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...t/core/query/scheduler/OutOfCapacityException.java](https://codecov.io/gh/apache/incubator-pinot/pull/4385/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvT3V0T2ZDYXBhY2l0eUV4Y2VwdGlvbi5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| ... and [578 more](https://codecov.io/gh/apache/incubator-pinot/pull/4385/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4385?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4385?src=pr&el=footer). Last update [2f72432...49d5a34](https://codecov.io/gh/apache/incubator-pinot/pull/4385?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534350691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534396473","html_url":"https://github.com/apache/pinot/pull/4585#issuecomment-534396473","issue_url":"https://api.github.com/repos/apache/pinot/issues/4585","id":534396473,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDM5NjQ3Mw==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T05:34:43Z","updated_at":"2019-09-24T05:34:43Z","author_association":"CONTRIBUTOR","body":"@icefury71 Thanks for the reply. LGTM assuming that you address the comments above (2 spaces, comment on bloom filter etc). I will merge this once that part is updated. \r\n\r\n@kishoreg Can you reply to `BitmapDocIdSet.java#line 39` change?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534396473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534416218","html_url":"https://github.com/apache/pinot/issues/4603#issuecomment-534416218","issue_url":"https://api.github.com/repos/apache/pinot/issues/4603","id":534416218,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDQxNjIxOA==","user":{"login":"AnishKanth","id":50066028,"node_id":"MDQ6VXNlcjUwMDY2MDI4","avatar_url":"https://avatars.githubusercontent.com/u/50066028?v=4","gravatar_id":"","url":"https://api.github.com/users/AnishKanth","html_url":"https://github.com/AnishKanth","followers_url":"https://api.github.com/users/AnishKanth/followers","following_url":"https://api.github.com/users/AnishKanth/following{/other_user}","gists_url":"https://api.github.com/users/AnishKanth/gists{/gist_id}","starred_url":"https://api.github.com/users/AnishKanth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnishKanth/subscriptions","organizations_url":"https://api.github.com/users/AnishKanth/orgs","repos_url":"https://api.github.com/users/AnishKanth/repos","events_url":"https://api.github.com/users/AnishKanth/events{/privacy}","received_events_url":"https://api.github.com/users/AnishKanth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T06:46:50Z","updated_at":"2019-09-24T06:51:09Z","author_association":"NONE","body":"> Hi @AnishKanth, could you put the post request you are using? Also have you tried out `pinot-admin` command?\r\n\r\nHi @fx19880617, Thanks for the reply \r\nPlease find the python Request and CURL request\r\n**Python Request:**\r\n\r\nimport requests\r\nimport json\r\nURL = \"http://13.89.201.184:9000/schemas/validate\"\r\ndata = { \"schemaName\": \"transcripthh\", \"dimensionFieldSpecs\": [  { \"name\": \"studentID\", \"dataType\": \"STRING\" },  {  \"name\": \"firstName\", \"dataType\": \"STRING\" }, { \"name\": \"lastName\", \"dataType\": \"STRING\" }, { \"name\": \"gender\", \"dataType\": \"STRING\" }, { \"name\": \"subject\", \"dataType\": \"STRING\" } ], \"metricFieldSpecs\": [ { \"name\": \"score\", \"dataType\": \"FLOAT\" } ] }\r\npayload = json.dumps(data)\r\nheaders = {\r\n                'content-type': \"application/json\"\r\n            }\r\nresponse = requests.request(\"POST\", URL, data=payload,headers=headers)\r\n\r\n**Curl command:**\r\n\r\ncurl -X POST --header 'Content-Type: application/json' --header 'Accept: text/plain' -d '{ \\ \r\n   \"schemaName\": \"transcript\", \\ \r\n   \"dimensionFieldSpecs\": [ \\ \r\n     { \\ \r\n       \"name\": \"studentID\", \\ \r\n       \"dataType\": \"STRING\" \\ \r\n     }, \\ \r\n     { \\ \r\n       \"name\": \"firstName\", \\ \r\n       \"dataType\": \"STRING\" \\ \r\n     }, \\ \r\n     { \\ \r\n       \"name\": \"lastName\", \\ \r\n       \"dataType\": \"STRING\" \\ \r\n     }, \\ \r\n     { \\ \r\n       \"name\": \"gender\", \\ \r\n       \"dataType\": \"STRING\" \\ \r\n     }, \\ \r\n     { \\ \r\n       \"name\": \"subject\", \\ \r\n       \"dataType\": \"STRING\" \\ \r\n     } \\ \r\n   ], \\ \r\n   \"metricFieldSpecs\": [ \\ \r\n     { \\ \r\n       \"name\": \"score\", \\ \r\n       \"dataType\": \"FLOAT\" \\ \r\n     } \\ \r\n   ] \\ \r\n }' 'http://localhost:9000/schemas/validate'\r\n\r\n**Both the requests returns below error:**\r\n'Cannot find a deserializer for non-concrete Map type [map type; class javax.ws.rs.core.MultivaluedMap, [simple type, class java.lang.String] -> [collection type; class java.util.List, contains [simple type, class java.lang.String]]]\\n at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]'","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534416218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534643844","html_url":"https://github.com/apache/pinot/pull/4535#issuecomment-534643844","issue_url":"https://api.github.com/repos/apache/pinot/issues/4535","id":534643844,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDY0Mzg0NA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T16:42:23Z","updated_at":"2019-09-24T16:42:23Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang , @mcvsubbu , @mayankshriv , I have rebased on Jackie's latest order by change. Can we please merge this now that we are out of code-yellow?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534643844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534660134","html_url":"https://github.com/apache/pinot/issues/4603#issuecomment-534660134","issue_url":"https://api.github.com/repos/apache/pinot/issues/4603","id":534660134,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDY2MDEzNA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T17:20:52Z","updated_at":"2019-09-24T17:20:52Z","author_association":"CONTRIBUTOR","body":"I'm still looking into this issue of POSTing data.\r\nMeanwhile there is a workaround by dumping the schema into a file and upload the schema file.\r\nBelow is an example code snippet in python:\r\n\r\n```python\r\nimport json\r\ntemp_schema_path='/tmp/sample_schema.json'\r\nschema_payload = { \"schemaName\": \"transcript\", \"dimensionFieldSpecs\": [ { \"name\": \"studentID\", \"dataType\": \"STRING\" }, { \"name\": \"firstName\", \"dataType\": \"STRING\" }, { \"name\": \"lastName\", \"dataType\": \"STRING\" }, { \"name\": \"gender\", \"dataType\": \"STRING\" }, { \"name\": \"subject\", \"dataType\": \"STRING\" } ], \"metricFieldSpecs\": [ { \"name\": \"score\", \"dataType\": \"FLOAT\" } ] }\r\n\r\nwith open(temp_schema_path, 'w') as fp:\r\n    json.dump(schema_payload, fp)\r\n\r\n\r\nimport requests\r\nurl_origin = \"http://localhost:9000/schemas\"\r\nwith open(temp_schema_path, 'rb') as f:\r\n    r = requests.post(url_origin, files={'sample_schema.json': f})\r\n    print(r.status_code)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534660134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534742373","html_url":"https://github.com/apache/pinot/pull/4637#issuecomment-534742373","issue_url":"https://api.github.com/repos/apache/pinot/issues/4637","id":534742373,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDc0MjM3Mw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T20:50:28Z","updated_at":"2019-09-24T20:50:28Z","author_association":"CONTRIBUTOR","body":"I think we should have a rule that all comments on a documentation PR should be constructive, preferably with text substitution. Good to have description of what is asked for :)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534742373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534753301","html_url":"https://github.com/apache/pinot/pull/4634#issuecomment-534753301","issue_url":"https://api.github.com/repos/apache/pinot/issues/4634","id":534753301,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDc1MzMwMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T21:20:16Z","updated_at":"2019-09-24T21:20:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4634?src=pr&el=h1) Report\n> Merging [#4634](https://codecov.io/gh/apache/incubator-pinot/pull/4634?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/f8c2cf3d87a2849c029e861c5470311e0c217011?src=pr&el=desc) will **decrease** coverage by `0.25%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4634/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4634?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4634      +/-   ##\n============================================\n- Coverage     64.57%   64.31%   -0.26%     \n  Complexity       32       32              \n============================================\n  Files          1073     1076       +3     \n  Lines         55663    56061     +398     \n  Branches       8111     8184      +73     \n============================================\n+ Hits          35943    36057     +114     \n- Misses        17073    17355     +282     \n- Partials       2647     2649       +2\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4634?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...che/pinot/core/segment/memory/PinotByteBuffer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4634/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L21lbW9yeS9QaW5vdEJ5dGVCdWZmZXIuamF2YQ==) | `80.28% <100%> (-0.14%)` | `0 <0> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4634/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `32.05% <0%> (-51.29%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4634/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `41.09% <0%> (-34.25%)` | `0% <0%> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4634/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4634/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/incubator-pinot/pull/4634/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `71.68% <0%> (-6.63%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4634/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `89.13% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4634/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `57.14% <0%> (-6.35%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4634/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `89.28% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4634/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `87.28% <0%> (-5.21%)` | `0% <0%> (ø)` | |\n| ... and [54 more](https://codecov.io/gh/apache/incubator-pinot/pull/4634/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4634?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4634?src=pr&el=footer). Last update [f8c2cf3...3442f1d](https://codecov.io/gh/apache/incubator-pinot/pull/4634?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534753301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534763347","html_url":"https://github.com/apache/pinot/pull/4637#issuecomment-534763347","issue_url":"https://api.github.com/repos/apache/pinot/issues/4637","id":534763347,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDc2MzM0Nw==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T21:51:29Z","updated_at":"2019-09-24T21:51:29Z","author_association":"CONTRIBUTOR","body":"> Please add sentence or two regarding:\r\n> \r\n> Time column is optional in REFRESH use cases, but mandatory in APPEND use cases. You can add references to the table config seciton here.\r\n> \r\n> How time column is used by broker to split between realtime and offline. I am nor sure if this belongs in the schema section, or a pointer to this belongs here. For now, if you can just add it here, we can figure out how to move it around. If you can find a better place that is fine as well.\r\n\r\nI'll add a sentence on refresh/append use case. However, I don't think the other part about broker splitting between realtime/offline (and retention for that matter) belong here. There is some mention of that in Table Config section, already.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534763347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534776196","html_url":"https://github.com/apache/pinot/pull/4637#issuecomment-534776196","issue_url":"https://api.github.com/repos/apache/pinot/issues/4637","id":534776196,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDc3NjE5Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T22:40:52Z","updated_at":"2019-09-25T00:34:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4637?src=pr&el=h1) Report\n> Merging [#4637](https://codecov.io/gh/apache/incubator-pinot/pull/4637?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/ffa66bf3b5101278a475052878a722c53231ad3e?src=pr&el=desc) will **increase** coverage by `0.21%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4637/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4637?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4637      +/-   ##\n============================================\n+ Coverage     64.35%   64.56%   +0.21%     \n  Complexity       32       32              \n============================================\n  Files          1076     1076              \n  Lines         56075    56075              \n  Branches       8189     8189              \n============================================\n+ Hits          36086    36205     +119     \n+ Misses        17345    17203     -142     \n- Partials       2644     2667      +23\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4637?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4637/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...ache/pinot/common/utils/TarGzCompressionUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4637/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVGFyR3pDb21wcmVzc2lvblV0aWxzLmphdmE=) | `68.23% <0%> (-12.95%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4637/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `92.3% <0%> (-7.7%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/util/SortedRangeIntersection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4637/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NvcnRlZFJhbmdlSW50ZXJzZWN0aW9uLmphdmE=) | `83.82% <0%> (-7.36%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4637/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `76.08% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...r/helix/SegmentOnlineOfflineStateModelFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4637/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50T25saW5lT2ZmbGluZVN0YXRlTW9kZWxGYWN0b3J5LmphdmE=) | `59.4% <0%> (-5.95%)` | `0% <0%> (ø)` | |\n| [...roker/requesthandler/BaseBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4637/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQmFzZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `74.05% <0%> (-3.35%)` | `0% <0%> (ø)` | |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4637/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `80.32% <0%> (-3.28%)` | `0% <0%> (ø)` | |\n| [.../org/apache/pinot/transport/netty/NettyServer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4637/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlTZXJ2ZXIuamF2YQ==) | `80.8% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...der/HighLevelConsumerBasedRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4637/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0hpZ2hMZXZlbENvbnN1bWVyQmFzZWRSb3V0aW5nVGFibGVCdWlsZGVyLmphdmE=) | `90.9% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| ... and [27 more](https://codecov.io/gh/apache/incubator-pinot/pull/4637/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4637?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4637?src=pr&el=footer). Last update [ffa66bf...a83e14c](https://codecov.io/gh/apache/incubator-pinot/pull/4637?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/534776196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]