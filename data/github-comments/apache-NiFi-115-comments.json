[{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501307621","html_url":"https://github.com/apache/nifi/pull/3526#issuecomment-501307621","issue_url":"https://api.github.com/repos/apache/nifi/issues/3526","id":501307621,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMwNzYyMQ==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T14:47:34Z","updated_at":"2019-06-12T14:47:34Z","author_association":"CONTRIBUTOR","body":"Hi @matthew-formosa-gig , thanks for the contribution!\r\n\r\nI noticed there is another effort related to decimal support here:\r\nhttps://github.com/apache/nifi/pull/3343\r\n\r\nWas wondering if these are essentially trying to achieve the same thing, or if there are differences. I haven't really looked into either of them very closely, but just wanted to bring it to your attention.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501307621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501310728","html_url":"https://github.com/apache/nifi/pull/3338#issuecomment-501310728","issue_url":"https://api.github.com/repos/apache/nifi/issues/3338","id":501310728,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMxMDcyOA==","user":{"login":"alecosborne","id":13859208,"node_id":"MDQ6VXNlcjEzODU5MjA4","avatar_url":"https://avatars.githubusercontent.com/u/13859208?v=4","gravatar_id":"","url":"https://api.github.com/users/alecosborne","html_url":"https://github.com/alecosborne","followers_url":"https://api.github.com/users/alecosborne/followers","following_url":"https://api.github.com/users/alecosborne/following{/other_user}","gists_url":"https://api.github.com/users/alecosborne/gists{/gist_id}","starred_url":"https://api.github.com/users/alecosborne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alecosborne/subscriptions","organizations_url":"https://api.github.com/users/alecosborne/orgs","repos_url":"https://api.github.com/users/alecosborne/repos","events_url":"https://api.github.com/users/alecosborne/events{/privacy}","received_events_url":"https://api.github.com/users/alecosborne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T14:54:00Z","updated_at":"2019-06-12T14:54:00Z","author_association":"NONE","body":"Hello,\r\n\r\nwhy is the abstractDocumentationWriter.java class from February 26 from the master branch not identical to the version from the 1.9.2 release from April 8?\r\n\r\n\r\nI think version 1.9.2 was based on branch 6169 and that's why I can not find it in the latest version.\r\n\r\nThe class from the master branch is needed if I want to create a custom processor and rely on creating the extension-manifest.xml to use the new functions from the nifi registry 0.4.0.\r\n\r\nWhen can we expect a new Nifi version?\r\n\r\nThanks a lot.\r\n\r\nAO","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501310728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501311147","html_url":"https://github.com/apache/nifi/pull/3530#issuecomment-501311147","issue_url":"https://api.github.com/repos/apache/nifi/issues/3530","id":501311147,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMxMTE0Nw==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T14:54:46Z","updated_at":"2019-06-12T14:54:46Z","author_association":"CONTRIBUTOR","body":"+1 verified that this resolves the issue with ListHDFS resetting the state, will merge","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501311147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501317455","html_url":"https://github.com/apache/nifi/pull/3338#issuecomment-501317455","issue_url":"https://api.github.com/repos/apache/nifi/issues/3338","id":501317455,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMxNzQ1NQ==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T15:08:48Z","updated_at":"2019-06-12T15:08:48Z","author_association":"CONTRIBUTOR","body":"@alecosborne Sorry for the issue... \r\n\r\nWe have a bit of a weird dependency situation where the NAR Maven plugin can't have a direct dependency on nifi-api, it can only assume that nifi-api is on the classpath of the NAR being built, but then the code for generating the manifest needs to be based on the API so it has to live in the API. \r\n\r\nSo we released a version of the manifest docs stuff in nifi-api 1.9.2, but then while continuing to work on registry 0.4.0 there were more changes needed, so we haven't yet released nifi-api 1.10.0 which would have the necessary changes.\r\n\r\nWhat you would have to do for now is build nifi-api from master using a 'mvn clean install', then change the dependencies in your custom NAR to use nifi-api 1.10.0-SNAPSHOT. Part of it will depend on whether your custom NAR has a parent of nifi-nar-bundles, if so then you might need your own dependencyManagement to force the version to 1.10.0-SNAPSHOT, if not then you can probably just add the version to the dependency. \r\n\r\nhttps://cwiki.apache.org/confluence/display/NIFI/Maven+Projects+for+Extensions#MavenProjectsforExtensions-Inheritance\r\n\r\nWe should document this somewhere though so that it is clear that the extension capabilities in registry are meant to be used with the next released version NiFi and nifi-api. I will try to think of where this makes sense to be documented.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501317455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501320400","html_url":"https://github.com/apache/nifi/pull/3526#issuecomment-501320400","issue_url":"https://api.github.com/repos/apache/nifi/issues/3526","id":501320400,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMyMDQwMA==","user":{"login":"matthew-formosa-gig","id":48676894,"node_id":"MDQ6VXNlcjQ4Njc2ODk0","avatar_url":"https://avatars.githubusercontent.com/u/48676894?v=4","gravatar_id":"","url":"https://api.github.com/users/matthew-formosa-gig","html_url":"https://github.com/matthew-formosa-gig","followers_url":"https://api.github.com/users/matthew-formosa-gig/followers","following_url":"https://api.github.com/users/matthew-formosa-gig/following{/other_user}","gists_url":"https://api.github.com/users/matthew-formosa-gig/gists{/gist_id}","starred_url":"https://api.github.com/users/matthew-formosa-gig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthew-formosa-gig/subscriptions","organizations_url":"https://api.github.com/users/matthew-formosa-gig/orgs","repos_url":"https://api.github.com/users/matthew-formosa-gig/repos","events_url":"https://api.github.com/users/matthew-formosa-gig/events{/privacy}","received_events_url":"https://api.github.com/users/matthew-formosa-gig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T15:15:41Z","updated_at":"2019-06-12T15:15:41Z","author_association":"CONTRIBUTOR","body":"Hi @bbende, thanks for bringing that PR to my attention. \r\n\r\nIndeed we are trying to achieve the same thing. I will close off this PR and leave my comments on #3343.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501320400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501322783","html_url":"https://github.com/apache/nifi/pull/3526#issuecomment-501322783","issue_url":"https://api.github.com/repos/apache/nifi/issues/3526","id":501322783,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMyMjc4Mw==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T15:20:56Z","updated_at":"2019-06-12T15:20:56Z","author_association":"CONTRIBUTOR","body":"Sounds good.  If your work is closer to ready then by all means feel free to leave your PR open, I just wanted to make sure you were aware of it.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501322783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501327800","html_url":"https://github.com/apache/nifi/pull/3529#issuecomment-501327800","issue_url":"https://api.github.com/repos/apache/nifi/issues/3529","id":501327800,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMyNzgwMA==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T15:32:18Z","updated_at":"2019-06-12T15:32:18Z","author_association":"CONTRIBUTOR","body":"Looks good, will merge","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501327800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501328668","html_url":"https://github.com/apache/nifi/pull/3526#issuecomment-501328668","issue_url":"https://api.github.com/repos/apache/nifi/issues/3526","id":501328668,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMyODY2OA==","user":{"login":"matthew-formosa-gig","id":48676894,"node_id":"MDQ6VXNlcjQ4Njc2ODk0","avatar_url":"https://avatars.githubusercontent.com/u/48676894?v=4","gravatar_id":"","url":"https://api.github.com/users/matthew-formosa-gig","html_url":"https://github.com/matthew-formosa-gig","followers_url":"https://api.github.com/users/matthew-formosa-gig/followers","following_url":"https://api.github.com/users/matthew-formosa-gig/following{/other_user}","gists_url":"https://api.github.com/users/matthew-formosa-gig/gists{/gist_id}","starred_url":"https://api.github.com/users/matthew-formosa-gig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthew-formosa-gig/subscriptions","organizations_url":"https://api.github.com/users/matthew-formosa-gig/orgs","repos_url":"https://api.github.com/users/matthew-formosa-gig/repos","events_url":"https://api.github.com/users/matthew-formosa-gig/events{/privacy}","received_events_url":"https://api.github.com/users/matthew-formosa-gig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T15:34:17Z","updated_at":"2019-06-12T15:34:17Z","author_association":"CONTRIBUTOR","body":"I believe the other PR is more comprehensive and still close to ready despite the feedback I just gave. I can still work with my custom NAR files until the PR is merged so I am not in a particular hurry.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501328668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501339847","html_url":"https://github.com/apache/nifi/pull/3503#issuecomment-501339847","issue_url":"https://api.github.com/repos/apache/nifi/issues/3503","id":501339847,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMzOTg0Nw==","user":{"login":"andrewmlim","id":18287533,"node_id":"MDQ6VXNlcjE4Mjg3NTMz","avatar_url":"https://avatars.githubusercontent.com/u/18287533?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewmlim","html_url":"https://github.com/andrewmlim","followers_url":"https://api.github.com/users/andrewmlim/followers","following_url":"https://api.github.com/users/andrewmlim/following{/other_user}","gists_url":"https://api.github.com/users/andrewmlim/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewmlim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewmlim/subscriptions","organizations_url":"https://api.github.com/users/andrewmlim/orgs","repos_url":"https://api.github.com/users/andrewmlim/repos","events_url":"https://api.github.com/users/andrewmlim/events{/privacy}","received_events_url":"https://api.github.com/users/andrewmlim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T15:59:29Z","updated_at":"2019-06-12T15:59:29Z","author_association":"CONTRIBUTOR","body":"Thanks @ijokarumawak !","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501339847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501397091","html_url":"https://github.com/apache/nifi/pull/3507#issuecomment-501397091","issue_url":"https://api.github.com/repos/apache/nifi/issues/3507","id":501397091,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTM5NzA5MQ==","user":{"login":"thenatog","id":38888042,"node_id":"MDQ6VXNlcjM4ODg4MDQy","avatar_url":"https://avatars.githubusercontent.com/u/38888042?v=4","gravatar_id":"","url":"https://api.github.com/users/thenatog","html_url":"https://github.com/thenatog","followers_url":"https://api.github.com/users/thenatog/followers","following_url":"https://api.github.com/users/thenatog/following{/other_user}","gists_url":"https://api.github.com/users/thenatog/gists{/gist_id}","starred_url":"https://api.github.com/users/thenatog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thenatog/subscriptions","organizations_url":"https://api.github.com/users/thenatog/orgs","repos_url":"https://api.github.com/users/thenatog/repos","events_url":"https://api.github.com/users/thenatog/events{/privacy}","received_events_url":"https://api.github.com/users/thenatog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T18:23:59Z","updated_at":"2019-06-12T18:23:59Z","author_association":"CONTRIBUTOR","body":"@alopresto I've verified the issue you had with the validator still running even after the controller service is deleted. It occurs for 'controller level' controller services, and not for process-group scoped controller services. It appears to occur for all validators, as I have tested it with another validator other than the XXE one I have added. I have opened a new Jira to track this issue: https://issues.apache.org/jira/browse/NIFI-6371\r\nGood find.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501397091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501414244","html_url":"https://github.com/apache/nifi/pull/3518#issuecomment-501414244","issue_url":"https://api.github.com/repos/apache/nifi/issues/3518","id":501414244,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQxNDI0NA==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T19:06:04Z","updated_at":"2019-06-12T19:06:04Z","author_association":"CONTRIBUTOR","body":"Hey @FrederikP thanks for submitting this! It always makes me very happy when someone digs into the deep end on the framework stuff :) This is definitely a different approach than in PR 3277. I think this has some big benefits over PR 3277, but I think it has a few 'cons' as well. \r\n\r\nBasically, I would say that the approaches boil down to:\r\nPR 3277: Try to avoid recreating Evaluators. But if there is an Evaluator that is stateless, recreate them.\r\nThis PR: Never recreate Evaluators. Work around the issue of state by externalizing it, so that the evaluator need not be recreated.\r\n\r\nThe nice thing about this PR is that it actually offers even better performance gain than 3277, especially as you noted around stateful Evaluators.\r\nThe main con, though, is that it separates the trivial state that is held by Evaluators from the Evaluators themselves, pushing it into an external HashMap. This leads to more garbage collection (definitely worth the trade-off) but also muddies the API a little bit, resulting in additional 'State' types of classes for the Evaluators, and requiring that the `EvaluationContext` be pushed down throughout the whole stack.\r\n\r\nSo it got me thinking - can we accomplish the main goal of this PR - to allow Evaluators never to be recreated, by ensuring that they have fresh 'state' each time, without the need to push down the `EvaluationContext` and delegate to a map?\r\nSo I tried something a little different, that I think takes the best parts of this PR and the best parts of PR 3277 and combines them into one, and posted that as PR 3531 (https://github.com/apache/nifi/pull/3531). Here, it just introduces a new `reset()` method on the Evaluator and calls that each time that the `Expression` is to be evaluated. It means that the Evaluator can keep its state as member variables, results in a very small PR that changes little code, is just as fast as this PR, and doesn't change the Evaluator API.\r\n\r\nDo you mind taking a look at that PR and see if you agree with it? I do believe it marries up both PR's well.\r\nAlso of note, you added some really great unit tests in this PR. I copied & pasted them in to verify that all of the tests pass, but then I removed them because I want to make sure that the code is attributed to you. So if you do agree that PR 3531 is the way to go, I'd appreciate it if you added in those Unit Tests on top, so that they are included and attributed to you.\r\n\r\nThanks again!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501414244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501422264","html_url":"https://github.com/apache/nifi/pull/3231#issuecomment-501422264","issue_url":"https://api.github.com/repos/apache/nifi/issues/3231","id":501422264,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQyMjI2NA==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T19:27:18Z","updated_at":"2019-06-12T19:27:18Z","author_association":"CONTRIBUTOR","body":"+1 LGTM, ran unit tests and tried various paths on a live NiFi instance, behavior is as expected and described. Thanks Mike for sticking with this!  Merging to master","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501422264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501435144","html_url":"https://github.com/apache/nifi/pull/3231#issuecomment-501435144","issue_url":"https://api.github.com/repos/apache/nifi/issues/3231","id":501435144,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQzNTE0NA==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T20:06:07Z","updated_at":"2019-06-12T20:06:07Z","author_association":"CONTRIBUTOR","body":"Thanks! I'd like to do the ISP one as well, but I'm going to have to find someone willing to buy me the database ;)","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501435144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501440899","html_url":"https://github.com/apache/nifi/pull/3532#issuecomment-501440899","issue_url":"https://api.github.com/repos/apache/nifi/issues/3532","id":501440899,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQ0MDg5OQ==","user":{"login":"thenatog","id":38888042,"node_id":"MDQ6VXNlcjM4ODg4MDQy","avatar_url":"https://avatars.githubusercontent.com/u/38888042?v=4","gravatar_id":"","url":"https://api.github.com/users/thenatog","html_url":"https://github.com/thenatog","followers_url":"https://api.github.com/users/thenatog/followers","following_url":"https://api.github.com/users/thenatog/following{/other_user}","gists_url":"https://api.github.com/users/thenatog/gists{/gist_id}","starred_url":"https://api.github.com/users/thenatog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thenatog/subscriptions","organizations_url":"https://api.github.com/users/thenatog/orgs","repos_url":"https://api.github.com/users/thenatog/repos","events_url":"https://api.github.com/users/thenatog/events{/privacy}","received_events_url":"https://api.github.com/users/thenatog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T20:22:45Z","updated_at":"2019-06-12T20:22:45Z","author_association":"CONTRIBUTOR","body":"Minor version incremental, did some smoke tests to verify functionality using jackson-databind works as expected. Cluster functionality appears working.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501440899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501494618","html_url":"https://github.com/apache/nifi/pull/3507#issuecomment-501494618","issue_url":"https://api.github.com/repos/apache/nifi/issues/3507","id":501494618,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQ5NDYxOA==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T23:45:53Z","updated_at":"2019-06-12T23:45:53Z","author_association":"CONTRIBUTOR","body":"Ran `contrib-check` and all tests pass. +1, merging. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501494618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501603608","html_url":"https://github.com/apache/nifi/pull/3518#issuecomment-501603608","issue_url":"https://api.github.com/repos/apache/nifi/issues/3518","id":501603608,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTYwMzYwOA==","user":{"login":"FrederikP","id":483596,"node_id":"MDQ6VXNlcjQ4MzU5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/483596?v=4","gravatar_id":"","url":"https://api.github.com/users/FrederikP","html_url":"https://github.com/FrederikP","followers_url":"https://api.github.com/users/FrederikP/followers","following_url":"https://api.github.com/users/FrederikP/following{/other_user}","gists_url":"https://api.github.com/users/FrederikP/gists{/gist_id}","starred_url":"https://api.github.com/users/FrederikP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrederikP/subscriptions","organizations_url":"https://api.github.com/users/FrederikP/orgs","repos_url":"https://api.github.com/users/FrederikP/repos","events_url":"https://api.github.com/users/FrederikP/events{/privacy}","received_events_url":"https://api.github.com/users/FrederikP/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T08:26:06Z","updated_at":"2019-06-13T08:31:01Z","author_association":"CONTRIBUTOR","body":"Hi @markap14 ,\r\nthanks for your in-depth answer. Actually the approach you are taking in #3531 is pretty similar to what I've done in PR #3500 that I decided to close in the end. I have commented in detail why I did so on that PR, but to summarize:\r\n- profiling showed that iterating over the `allEvaluators` `HashSet` to reset is pretty expensive, I fixed that later on it that PR\r\n- most importantly: this approach works quite well single threaded but it is not thread safe at all!\r\n\r\nThread safety is not covered (and probably cannot be caught deterministically) in test cases, but we found out by trying out in our test cluster with concurrency enabled.\r\nOne thread will call reset and removing the state, while another is in the midst of using the state and NPEs will be thrown or (even worse) logical errors will happen without any exception.\r\n\r\nI also think that, while the approach of this PR (#3518 ) is a little bit more complex, state should be separated from the evaluators. I also think that garbage collecting the state is not much worse than garbage collecting after the reset. Performance testing on our side supports that. And for either approach: The developer of a new stateful evaluator needs to be aware that he/she needs to (1) implement clean up or (2) use the `EvaluationContext`, so there is not much difference there.\r\n\r\nMy conclusion: I think the approach you take in #3531 is pretty much the same (without some optimizations) that I took in the final version of #3500. And that approach is not thread safe and will lead to NPEs and other issues when used concurrently. I still think this PR (#3518) is the best option of all those PRs.\r\n\r\nWe have been using a patched version (using this PR #3531) of the expression language bundle on our production cluster for 7 days now and don't have any issues.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501603608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501716185","html_url":"https://github.com/apache/nifi/pull/3531#issuecomment-501716185","issue_url":"https://api.github.com/repos/apache/nifi/issues/3531","id":501716185,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTcxNjE4NQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T14:02:42Z","updated_at":"2019-06-13T14:02:42Z","author_association":"CONTRIBUTOR","body":"I think this looks great.  It is always nice to find a more simple solution.\r\n\r\nOne note I would add, is that if this code is performance and memory critical, I wonder if it wouldn't be better to avoid the lambda syntactic sugar?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501716185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501716359","html_url":"https://github.com/apache/nifi/pull/3518#issuecomment-501716359","issue_url":"https://api.github.com/repos/apache/nifi/issues/3518","id":501716359,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTcxNjM1OQ==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T14:03:06Z","updated_at":"2019-06-13T14:03:06Z","author_association":"CONTRIBUTOR","body":"@FrederikP thanks for the follow-up! And now that I think about it, you are very correct - the thread safety will be an issue here. Evaluators never needed to be thread-safe, so I didn't think about it, but once we start reusing the Evaluators like this, thread safety will be a concern... and of course I'd have figured that out the first time that I tried to actually use it in a fairly complex flow :) Great catch there!\r\n\r\nOK, so given that, I am happy to go with this PR after I do some testing, etc. So I will likely have it merged today. The only thing that I would like to change is the name of `EvaluationContext`, if you are ok with it. I'd rather call it something like `EvaluatorState` for two reasons: a) The object is intended to store/retrieve state rather than provide a wholistic context around which the function is being applied, and b) I have been working on adding Parameters to NiFi, and in that branch I do actually introduce a new interface called `EvaluationContext` that replaces the current `Map<String, String> attributes` in the evaluator, and provides additional context. So when that is merged in, I want to have the `EvaluationContext` that you introduced renamed to something like `EvaluatorState` and then have the `EvaluationContext` wrap that, as well as the `Map<String, String> attributes` and other things. So if all goes well and I'm able to merge this in, if I've heard no objection from you, then I'll assume your'e ok with it and make that change before merging. Otherwise, please do object if that bothers you :)","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501716359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501718465","html_url":"https://github.com/apache/nifi/pull/3518#issuecomment-501718465","issue_url":"https://api.github.com/repos/apache/nifi/issues/3518","id":501718465,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTcxODQ2NQ==","user":{"login":"FrederikP","id":483596,"node_id":"MDQ6VXNlcjQ4MzU5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/483596?v=4","gravatar_id":"","url":"https://api.github.com/users/FrederikP","html_url":"https://github.com/FrederikP","followers_url":"https://api.github.com/users/FrederikP/followers","following_url":"https://api.github.com/users/FrederikP/following{/other_user}","gists_url":"https://api.github.com/users/FrederikP/gists{/gist_id}","starred_url":"https://api.github.com/users/FrederikP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrederikP/subscriptions","organizations_url":"https://api.github.com/users/FrederikP/orgs","repos_url":"https://api.github.com/users/FrederikP/repos","events_url":"https://api.github.com/users/FrederikP/events{/privacy}","received_events_url":"https://api.github.com/users/FrederikP/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T14:08:07Z","updated_at":"2019-06-13T14:08:07Z","author_association":"CONTRIBUTOR","body":"@markap14 thanks for the quick answer!\r\n\r\nI think renaming it makes sense especially because you are about to introduce a class where the name `EvaluationContext` is a better fit.\r\nSo if I understood you correctly, you are going to perform this change. Let me know if you need me to do something or if you have any more questions about my changes.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501718465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501721772","html_url":"https://github.com/apache/nifi/pull/3518#issuecomment-501721772","issue_url":"https://api.github.com/repos/apache/nifi/issues/3518","id":501721772,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTcyMTc3Mg==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T14:15:51Z","updated_at":"2019-06-13T14:15:51Z","author_association":"CONTRIBUTOR","body":"@FrederikP yes, I'll make the change and then merge to master, should be in today, I believe. Many thanks for the contribution! The code is great, very clean. Helpful unit tests, great analysis on the problem and the profiling - this will help a lot of users, so many thanks!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501721772/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501734932","html_url":"https://github.com/apache/nifi/pull/3499#issuecomment-501734932","issue_url":"https://api.github.com/repos/apache/nifi/issues/3499","id":501734932,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTczNDkzMg==","user":{"login":"mcgilman","id":123395,"node_id":"MDQ6VXNlcjEyMzM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/123395?v=4","gravatar_id":"","url":"https://api.github.com/users/mcgilman","html_url":"https://github.com/mcgilman","followers_url":"https://api.github.com/users/mcgilman/followers","following_url":"https://api.github.com/users/mcgilman/following{/other_user}","gists_url":"https://api.github.com/users/mcgilman/gists{/gist_id}","starred_url":"https://api.github.com/users/mcgilman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcgilman/subscriptions","organizations_url":"https://api.github.com/users/mcgilman/orgs","repos_url":"https://api.github.com/users/mcgilman/repos","events_url":"https://api.github.com/users/mcgilman/events{/privacy}","received_events_url":"https://api.github.com/users/mcgilman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T14:46:09Z","updated_at":"2019-06-13T14:46:09Z","author_association":"CONTRIBUTOR","body":"Thanks @bbende! This has been merged to master.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501734932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501736731","html_url":"https://github.com/apache/nifi/pull/3492#issuecomment-501736731","issue_url":"https://api.github.com/repos/apache/nifi/issues/3492","id":501736731,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTczNjczMQ==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T14:50:27Z","updated_at":"2019-06-13T14:50:27Z","author_association":"CONTRIBUTOR","body":"@kevdoran thanks for the review! Here are my thoughts on the comments...\r\n\r\n- I definitely agree that we may want to be consistent with the bucket id. In Registry's REST API there are basically two different ways to navigate the bundle stuff:\r\n\r\n    - The \"extension repository\" end points which were meant to act kind of like Nexus. These end points have the following paths:\r\n    ```\r\n    /extension-repository/ (returns buckets)\r\n    /extension-repository/{bucket-name} (returns groups)\r\n    /extension-repository/{bucket-name}/{group-id} (returns artifacts)\r\n    /extension-repository/{bucket-name}/{group-id}/{artifact-id} (returns versions)\r\n    /extension-repository/{bucket-name}/{group-id}/{artifact-id}/{version}/content \r\n    ```\r\n    -  The end points that use ids which are more similar to the flow end-points:\r\n    ```\r\n    /buckets/{bucketId}/bundles\r\n    /bundles\r\n    /bundles/{bundle-id}\r\n    /bundles/{bundle-id}/versions\r\n    /bundles/{bundle-id}/versions/{version}/content\r\n    ```\r\n    So right now the list commands are basically just following the extension repo end-points, so it    would be similar to navigating those links in your browser. We can switch to the others if we think it makes more sense, but not sure that both can easily be supported through the same command since the params are different.\r\n\r\n- Ironically I originally had a list end point exactly like you described, but then decided to change to the idea of navigating the extension repo end points above. The issue with the list end point is that if you don't know what to filter on, then it just returns this crazy long list of everything. For example, there are 103 NARs in NiFi currently, so you get rows = 103 * versions per NAR.  We could maybe add it back but require at least a group id?\r\n\r\n- I think the way the upload commands evolved I had implemented `upload-bundle` first which could be used for any type, then I just wanted an easy way to upload everything from NIFI without having to worry about understanding the bundleType parameter. So I figured we would just add another command for `upload-minifi-bundles`, but I see your point that really a single `upload-bundles` command could work for any type, so I can work on that change.\r\n\r\n- You are probably right that there is limited use for the tag commands from the CLI perspective, but I guess I was thinking that we might not have a UX on NiFi side for a while, so this is another way to search for extensions rather than using the Registry REST API. From an automation perspective, really only the upload and download commands actually make sense. The rest of the stuff is more for interactive use. I think the ideas you had about how to change the tag commands make sense, I'll work on that. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501736731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501756102","html_url":"https://github.com/apache/nifi/pull/3492#issuecomment-501756102","issue_url":"https://api.github.com/repos/apache/nifi/issues/3492","id":501756102,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTc1NjEwMg==","user":{"login":"kevdoran","id":5102332,"node_id":"MDQ6VXNlcjUxMDIzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/5102332?v=4","gravatar_id":"","url":"https://api.github.com/users/kevdoran","html_url":"https://github.com/kevdoran","followers_url":"https://api.github.com/users/kevdoran/followers","following_url":"https://api.github.com/users/kevdoran/following{/other_user}","gists_url":"https://api.github.com/users/kevdoran/gists{/gist_id}","starred_url":"https://api.github.com/users/kevdoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevdoran/subscriptions","organizations_url":"https://api.github.com/users/kevdoran/orgs","repos_url":"https://api.github.com/users/kevdoran/repos","events_url":"https://api.github.com/users/kevdoran/events{/privacy}","received_events_url":"https://api.github.com/users/kevdoran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T15:36:18Z","updated_at":"2019-06-13T15:36:46Z","author_association":"CONTRIBUTOR","body":"@bbende Thanks for the detailed explanation. This all makes a lot more sense now.\r\n\r\n- On the first point, Let's leave it as bucketName for now, but I would open up a Jira to make either command (flows or bundles) work with either name or id. For flows, if a name is given, we can make the client get buckets, find the matching id, and then call the existing endpoint with an ID param. For bundles, if an ID is given, we can do the same call to get buckets in order to lookup the name, and then continue as it works today. We could probably make this easier by adding some lookup methods to the NiFiRegistryClient that wraps the API to perform bucket lookup by name or id.\r\n\r\n- On the second point, I feel like the current implementation method (drilling into group, artifact, version) is optimized for interactive shell use, whereas the other method we are discussing (listing all bundles) would be optimized for scripting automation use. Just thinking that if I were scripting calls to the CLI and needed all bundles, it would be tedious to write three nested for loops that uses the results of each \"level\" to make another call. I see both sides though - a huge table of results in the interactive shell might not be as useable as the current way you have it.\r\n\r\n- I think we are on the same page with the last two points.\r\n\r\nThanks for all the hard work on this feature. From the backend through the REST API and client and now CLI, it's a very complete implementation!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501756102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501756565","html_url":"https://github.com/apache/nifi/pull/3518#issuecomment-501756565","issue_url":"https://api.github.com/repos/apache/nifi/issues/3518","id":501756565,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTc1NjU2NQ==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T15:37:29Z","updated_at":"2019-06-13T15:37:29Z","author_association":"CONTRIBUTOR","body":"All looks good, @FrederikP. I have merged to master. Thanks again!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501756565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501757569","html_url":"https://github.com/apache/nifi/pull/3531#issuecomment-501757569","issue_url":"https://api.github.com/repos/apache/nifi/issues/3531","id":501757569,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTc1NzU2OQ==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T15:39:57Z","updated_at":"2019-06-13T15:39:57Z","author_association":"CONTRIBUTOR","body":"I'm closing this PR in favor of #3518. Please see discussion on that PR for an explanation.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501757569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501877403","html_url":"https://github.com/apache/nifi/pull/3492#issuecomment-501877403","issue_url":"https://api.github.com/repos/apache/nifi/issues/3492","id":501877403,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTg3NzQwMw==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T21:01:32Z","updated_at":"2019-06-13T21:10:37Z","author_association":"CONTRIBUTOR","body":"Pushed two new commits...\r\n\r\n1) Make upload-nars generic and become upload-bundles\r\n2) Refactoring of the tag commands as we discussed\r\n\r\nNot sure if there was anything else we decided to change from the above discussion. I can add a command to list-bundles with some optional filters, or we can add that later.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501877403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501897372","html_url":"https://github.com/apache/nifi/pull/3535#issuecomment-501897372","issue_url":"https://api.github.com/repos/apache/nifi/issues/3535","id":501897372,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTg5NzM3Mg==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T22:11:21Z","updated_at":"2019-06-13T22:11:21Z","author_association":"CONTRIBUTOR","body":"I think we need to add a unit test around this to ensure there is no regression. The reason this was missed in the initial commit is because there wasn't a relevant unit test. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501897372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501916476","html_url":"https://github.com/apache/nifi/pull/3495#issuecomment-501916476","issue_url":"https://api.github.com/repos/apache/nifi/issues/3495","id":501916476,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTkxNjQ3Ng==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T23:39:34Z","updated_at":"2019-06-13T23:39:34Z","author_association":"CONTRIBUTOR","body":"When testing (again, Mac OS X 10.14), I enabled debug logging in the `nifi-user.log` and tried to log in with a known user and an unknown one. For both, the authentication worked (the user did exist in LDAP), but the authorization failed (\"Unknown user\"). It appears there is an error occurring when loading the groups for a specific user?\r\n\r\n```\r\n🔓 57s @ 16:36:42 $ tail -f logs/nifi-user.log\r\n2019-06-13 16:36:14,398 INFO [main] o.a.n.a.FileAccessPolicyProvider Populating authorizations for Initial Admin: alopresto\r\n2019-06-13 16:36:14,406 INFO [main] o.a.n.a.FileAccessPolicyProvider Authorizations file loaded at Thu Jun 13 16:36:14 PDT 2019\r\n2019-06-13 16:36:14,417 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Identity Mapping property nifi.security.identity.mapping.pattern.dn was found, but no transform was present. Using NONE.\r\n2019-06-13 16:36:14,417 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Found Identity Mapping with key = dn, pattern = (?i)^CN=([^,]*),.*$, value = $1, transform = NONE\r\n2019-06-13 16:36:14,471 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Identity Mapping property nifi.security.identity.mapping.pattern.dn was found, but no transform was present. Using NONE.\r\n2019-06-13 16:36:14,471 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Found Identity Mapping with key = dn, pattern = (?i)^CN=([^,]*),.*$, value = $1, transform = NONE\r\n2019-06-13 16:36:14,494 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Identity Mapping property nifi.security.identity.mapping.pattern.dn was found, but no transform was present. Using NONE.\r\n2019-06-13 16:36:14,494 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Found Identity Mapping with key = dn, pattern = (?i)^CN=([^,]*),.*$, value = $1, transform = NONE\r\n2019-06-13 16:36:14,552 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Identity Mapping property nifi.security.identity.mapping.pattern.dn was found, but no transform was present. Using NONE.\r\n2019-06-13 16:36:14,552 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Found Identity Mapping with key = dn, pattern = (?i)^CN=([^,]*),.*$, value = $1, transform = NONE\r\n2019-06-13 16:36:44,514 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:44,596 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:44,643 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:44,738 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:44,785 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:44,833 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:44,880 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:44,929 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:44,976 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,025 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,074 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,121 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,208 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,250 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,293 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,337 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,419 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,500 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,542 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,584 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,627 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,670 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:45,767 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:36:46,031 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:14,649 INFO [NiFi Web Server-84] o.a.n.w.s.NiFiAuthenticationFilter Attempting request for (<JWT token>) GET https://andy.nifi:9443/nifi-api/flow/current-user (source ip: 127.0.0.1)\r\n2019-06-13 16:37:14,653 INFO [NiFi Web Server-84] o.a.n.w.s.NiFiAuthenticationFilter Authentication success for alopresto\r\n2019-06-13 16:37:14,744 INFO [NiFi Web Server-84] o.a.n.w.a.c.AccessDeniedExceptionMapper identity[alopresto], groups[] does not have permission to access the requested resource. Unknown user with identity 'alopresto'. Returning Forbidden response.\r\n2019-06-13 16:37:16,262 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,350 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,394 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,481 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,525 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,571 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,615 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,660 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,704 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,749 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,793 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,837 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,922 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:16,964 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:17,007 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:17,050 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:17,137 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:17,226 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:17,274 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:17,319 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:17,362 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:17,405 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:17,491 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:17,733 ERROR [pool-8-thread-1] o.a.n.a.ShellUserGroupProvider refreshGroup list membership returned zero lines.\r\n2019-06-13 16:37:30,286 INFO [NiFi Web Server-33] o.a.n.w.s.NiFiAuthenticationFilter Attempting request for (<JWT token>) GET https://andy.nifi:9443/nifi-api/flow/current-user (source ip: 127.0.0.1)\r\n2019-06-13 16:37:30,288 INFO [NiFi Web Server-33] o.a.n.w.s.NiFiAuthenticationFilter Authentication success for admin\r\n2019-06-13 16:37:30,290 INFO [NiFi Web Server-33] o.a.n.w.a.c.AccessDeniedExceptionMapper identity[admin], groups[] does not have permission to access the requested resource. Unknown user with identity 'admin'. Returning Forbidden response.\r\n^C\r\n```","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501916476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501917084","html_url":"https://github.com/apache/nifi/pull/3495#issuecomment-501917084","issue_url":"https://api.github.com/repos/apache/nifi/issues/3495","id":501917084,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTkxNzA4NA==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T23:42:44Z","updated_at":"2019-06-13T23:42:44Z","author_association":"CONTRIBUTOR","body":"The relevant portions of my `authorizers.xml` file: \r\n\r\n```\r\n    <userGroupProvider>\r\n        <identifier>shell-user-group-provider</identifier>\r\n        <class>org.apache.nifi.authorization.ShellUserGroupProvider</class>\r\n        <property name=\"Initial Refresh Delay\">30</property>\r\n        <property name=\"Refresh Delay\">30</property>\r\n    </userGroupProvider>\r\n...\r\n    <accessPolicyProvider>\r\n        <identifier>file-access-policy-provider</identifier>\r\n        <class>org.apache.nifi.authorization.FileAccessPolicyProvider</class>\r\n        <property name=\"User Group Provider\">shell-user-group-provider</property>\r\n        <property name=\"Authorizations File\">./conf/authorizations.xml</property>\r\n        <property name=\"Initial Admin Identity\">alopresto</property>\r\n        <property name=\"Legacy Authorized Users File\"></property>\r\n        <property name=\"Node Identity 1\"></property>\r\n        <property name=\"Node Group\"></property>\r\n    </accessPolicyProvider>\r\n...\r\n    <authorizer>\r\n        <identifier>managed-authorizer</identifier>\r\n        <class>org.apache.nifi.authorization.StandardManagedAuthorizer</class>\r\n        <property name=\"Access Policy Provider\">file-access-policy-provider</property>\r\n    </authorizer>\r\n```\r\n\r\nAfter initial startup (these files did not exist and were created): \r\n\r\nNo `users.xml`.\r\n\r\n`authorizations.xml`:\r\n```\r\n🔓 0s @ 16:41:57 $ more conf/authorizations.xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<authorizations>\r\n    <policies>\r\n        <policy identifier=\"f99bccd1-a30e-3e4a-98a2-dbc708edc67f\" resource=\"/flow\" action=\"R\">\r\n            <user identifier=\"502\"/>\r\n        </policy>\r\n        <policy identifier=\"b8775bd4-704a-34c6-987b-84f2daf7a515\" resource=\"/restricted-components\" action=\"W\">\r\n            <user identifier=\"502\"/>\r\n        </policy>\r\n        <policy identifier=\"627410be-1717-35b4-a06f-e9362b89e0b7\" resource=\"/tenants\" action=\"R\">\r\n            <user identifier=\"502\"/>\r\n        </policy>\r\n        <policy identifier=\"15e4e0bd-cb28-34fd-8587-f8d15162cba5\" resource=\"/tenants\" action=\"W\">\r\n            <user identifier=\"502\"/>\r\n        </policy>\r\n        <policy identifier=\"ff96062a-fa99-36dc-9942-0f6442ae7212\" resource=\"/policies\" action=\"R\">\r\n            <user identifier=\"502\"/>\r\n        </policy>\r\n        <policy identifier=\"ad99ea98-3af6-3561-ae27-5bf09e1d969d\" resource=\"/policies\" action=\"W\">\r\n            <user identifier=\"502\"/>\r\n        </policy>\r\n        <policy identifier=\"2e1015cb-0fed-3005-8e0d-722311f21a03\" resource=\"/controller\" action=\"R\">\r\n            <user identifier=\"502\"/>\r\n        </policy>\r\n        <policy identifier=\"c6322e6c-4cc1-3bcc-91b3-2ed2111674cf\" resource=\"/controller\" action=\"W\">\r\n            <user identifier=\"502\"/>\r\n        </policy>\r\n    </policies>\r\n</authorizations>\r\n```\r\n\r\nWhere `502` is the `uid` of `alopresto` on this OS. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501917084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501919507","html_url":"https://github.com/apache/nifi/pull/3535#issuecomment-501919507","issue_url":"https://api.github.com/repos/apache/nifi/issues/3535","id":501919507,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTkxOTUwNw==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T23:56:17Z","updated_at":"2019-06-13T23:56:17Z","author_association":"CONTRIBUTOR","body":"@alopresto ok. I'll add one.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/501919507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502084040","html_url":"https://github.com/apache/nifi/pull/3535#issuecomment-502084040","issue_url":"https://api.github.com/repos/apache/nifi/issues/3535","id":502084040,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjA4NDA0MA==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T12:07:45Z","updated_at":"2019-06-14T12:07:45Z","author_association":"CONTRIBUTOR","body":"Added the unit test.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502084040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502164778","html_url":"https://github.com/apache/nifi/pull/3536#issuecomment-502164778","issue_url":"https://api.github.com/repos/apache/nifi/issues/3536","id":502164778,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjE2NDc3OA==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T15:58:37Z","updated_at":"2019-06-14T15:58:37Z","author_association":"CONTRIBUTOR","body":"Will review...","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502164778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502199558","html_url":"https://github.com/apache/nifi/pull/3536#issuecomment-502199558","issue_url":"https://api.github.com/repos/apache/nifi/issues/3536","id":502199558,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjE5OTU1OA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T17:36:59Z","updated_at":"2019-06-14T17:36:59Z","author_association":"CONTRIBUTOR","body":"That is a huge pr for having an empty jira created about 10 minutes before the pr","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502199558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502206361","html_url":"https://github.com/apache/nifi/pull/3536#issuecomment-502206361","issue_url":"https://api.github.com/repos/apache/nifi/issues/3536","id":502206361,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjIwNjM2MQ==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T17:57:59Z","updated_at":"2019-06-14T17:57:59Z","author_association":"CONTRIBUTOR","body":"I work fast :)","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502206361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502206762","html_url":"https://github.com/apache/nifi/pull/3536#issuecomment-502206762","issue_url":"https://api.github.com/repos/apache/nifi/issues/3536","id":502206762,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjIwNjc2Mg==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T17:59:14Z","updated_at":"2019-06-14T17:59:14Z","author_association":"CONTRIBUTOR","body":"are you on slack?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502206762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502208750","html_url":"https://github.com/apache/nifi/pull/3535#issuecomment-502208750","issue_url":"https://api.github.com/repos/apache/nifi/issues/3535","id":502208750,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjIwODc1MA==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T18:05:39Z","updated_at":"2019-06-14T18:05:39Z","author_association":"CONTRIBUTOR","body":"This LGTM, but I'd like to get @alopresto to comment as to whether the unit tests cover everything he's looking for. If he's +1 then so am I","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502208750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502212731","html_url":"https://github.com/apache/nifi/pull/3536#issuecomment-502212731","issue_url":"https://api.github.com/repos/apache/nifi/issues/3536","id":502212731,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjIxMjczMQ==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T18:18:06Z","updated_at":"2019-06-14T18:18:06Z","author_association":"CONTRIBUTOR","body":"The implication about the JIRA and PR speed is problematic.\r\n\r\nIf you look at the JIRA it is a child [1] of a parent [2] which links to a well written and detailed feature proposal laying out the full context [3].\r\n\r\n[1] https://issues.apache.org/jira/browse/NIFI-6380\r\n[2] https://issues.apache.org/jira/browse/NIFI-6276\r\n[3] https://cwiki.apache.org/confluence/display/NIFI/Better+Support+for+Parameterizing+Flows","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502212731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502216151","html_url":"https://github.com/apache/nifi/pull/3536#issuecomment-502216151","issue_url":"https://api.github.com/repos/apache/nifi/issues/3536","id":502216151,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjIxNjE1MQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T18:28:22Z","updated_at":"2019-06-14T18:28:22Z","author_association":"CONTRIBUTOR","body":"Thanks for pointing in the right direction @joewitt","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502216151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502226063","html_url":"https://github.com/apache/nifi/pull/3492#issuecomment-502226063","issue_url":"https://api.github.com/repos/apache/nifi/issues/3492","id":502226063,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjIyNjA2Mw==","user":{"login":"kevdoran","id":5102332,"node_id":"MDQ6VXNlcjUxMDIzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/5102332?v=4","gravatar_id":"","url":"https://api.github.com/users/kevdoran","html_url":"https://github.com/kevdoran","followers_url":"https://api.github.com/users/kevdoran/followers","following_url":"https://api.github.com/users/kevdoran/following{/other_user}","gists_url":"https://api.github.com/users/kevdoran/gists{/gist_id}","starred_url":"https://api.github.com/users/kevdoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevdoran/subscriptions","organizations_url":"https://api.github.com/users/kevdoran/orgs","repos_url":"https://api.github.com/users/kevdoran/repos","events_url":"https://api.github.com/users/kevdoran/events{/privacy}","received_events_url":"https://api.github.com/users/kevdoran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T18:59:13Z","updated_at":"2019-06-14T18:59:35Z","author_association":"CONTRIBUTOR","body":"I think these changes look good now @bbende. Let's leave the list-bundles-* commands as-is for now. Can always add list-bundles later.\r\n\r\nIn your most recent commit I saw this code comment:\r\n\r\n> NOTE: There is a bug in the nifi-registry-client that sends bundleType from filter params using the name() instead of toString(). When that is resolved we can update this command to have an optional argument for bundle type and set it in the filter params.\r\n\r\nI saw PR apache/nifi-registry#200 which fixes this, and I reviewed and merged that today. Given that, do you want to update this PR now, or address the extension type filter in a future PR? Just let me know, I'm holding off running to test the functionality for now.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502226063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502226689","html_url":"https://github.com/apache/nifi/pull/3492#issuecomment-502226689","issue_url":"https://api.github.com/repos/apache/nifi/issues/3492","id":502226689,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjIyNjY4OQ==","user":{"login":"kevdoran","id":5102332,"node_id":"MDQ6VXNlcjUxMDIzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/5102332?v=4","gravatar_id":"","url":"https://api.github.com/users/kevdoran","html_url":"https://github.com/kevdoran","followers_url":"https://api.github.com/users/kevdoran/followers","following_url":"https://api.github.com/users/kevdoran/following{/other_user}","gists_url":"https://api.github.com/users/kevdoran/gists{/gist_id}","starred_url":"https://api.github.com/users/kevdoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevdoran/subscriptions","organizations_url":"https://api.github.com/users/kevdoran/orgs","repos_url":"https://api.github.com/users/kevdoran/repos","events_url":"https://api.github.com/users/kevdoran/events{/privacy}","received_events_url":"https://api.github.com/users/kevdoran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T19:01:10Z","updated_at":"2019-06-14T19:01:51Z","author_association":"CONTRIBUTOR","body":"On second thought, I guess we need to wait for the next release of NiFi Registry to get the bugfix in the client. Nevermind - Friday afternoon brain haze over here. Will review and merge as-is barring finding anything else.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502226689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502228541","html_url":"https://github.com/apache/nifi/pull/3492#issuecomment-502228541","issue_url":"https://api.github.com/repos/apache/nifi/issues/3492","id":502228541,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjIyODU0MQ==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T19:07:15Z","updated_at":"2019-06-14T19:07:15Z","author_association":"CONTRIBUTOR","body":"Thanks for checking out the latest changes. Yea, we'll need to wait for next release to update that one, probably not a big deal since we are only really storing NARs for now anyway, but just wanted to leave a reminder. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502228541/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502230756","html_url":"https://github.com/apache/nifi/pull/3522#issuecomment-502230756","issue_url":"https://api.github.com/repos/apache/nifi/issues/3522","id":502230756,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjIzMDc1Ng==","user":{"login":"thenatog","id":38888042,"node_id":"MDQ6VXNlcjM4ODg4MDQy","avatar_url":"https://avatars.githubusercontent.com/u/38888042?v=4","gravatar_id":"","url":"https://api.github.com/users/thenatog","html_url":"https://github.com/thenatog","followers_url":"https://api.github.com/users/thenatog/followers","following_url":"https://api.github.com/users/thenatog/following{/other_user}","gists_url":"https://api.github.com/users/thenatog/gists{/gist_id}","starred_url":"https://api.github.com/users/thenatog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thenatog/subscriptions","organizations_url":"https://api.github.com/users/thenatog/orgs","repos_url":"https://api.github.com/users/thenatog/repos","events_url":"https://api.github.com/users/thenatog/events{/privacy}","received_events_url":"https://api.github.com/users/thenatog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T19:14:29Z","updated_at":"2019-06-14T19:14:29Z","author_association":"CONTRIBUTOR","body":"Submitted another commit which upgrades the maven-checkstyle-plugin and the puppycrawl tool. When this runs it will add a .checkstyleCache file at the root directory which caches the state of checked files.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502230756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502399301","html_url":"https://github.com/apache/nifi/pull/3495#issuecomment-502399301","issue_url":"https://api.github.com/repos/apache/nifi/issues/3495","id":502399301,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjM5OTMwMQ==","user":{"login":"seanorama","id":3738610,"node_id":"MDQ6VXNlcjM3Mzg2MTA=","avatar_url":"https://avatars.githubusercontent.com/u/3738610?v=4","gravatar_id":"","url":"https://api.github.com/users/seanorama","html_url":"https://github.com/seanorama","followers_url":"https://api.github.com/users/seanorama/followers","following_url":"https://api.github.com/users/seanorama/following{/other_user}","gists_url":"https://api.github.com/users/seanorama/gists{/gist_id}","starred_url":"https://api.github.com/users/seanorama/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanorama/subscriptions","organizations_url":"https://api.github.com/users/seanorama/orgs","repos_url":"https://api.github.com/users/seanorama/repos","events_url":"https://api.github.com/users/seanorama/events{/privacy}","received_events_url":"https://api.github.com/users/seanorama/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-15T21:03:37Z","updated_at":"2019-06-15T21:10:07Z","author_association":"NONE","body":"Under the Unix NSS implementation, will it identify groups for users who do not show in the `getent passwd` list?\r\n\r\nThe most common scenario for the use of the shell provider is when NSS is integrated with a companies LDAP directory (typically using SSSD).\r\n\r\nTo avoid performance issues with `getent` showing 1000s (or more users), it's often configured and often have configured with `enumerate=false` which means the users/groups will not show in `getent passwd/group`.\r\n\r\nHowever they will show when queried directly _(i.e. `getent passwd ${user}`, `getent group ${group}`, `id ${user}`)._ Ideally the NSS implementation would determine at the time they do something as it would be for other OS integrated applications.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502399301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502412264","html_url":"https://github.com/apache/nifi/pull/3495#issuecomment-502412264","issue_url":"https://api.github.com/repos/apache/nifi/issues/3495","id":502412264,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjQxMjI2NA==","user":{"login":"natural","id":146692,"node_id":"MDQ6VXNlcjE0NjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/146692?v=4","gravatar_id":"","url":"https://api.github.com/users/natural","html_url":"https://github.com/natural","followers_url":"https://api.github.com/users/natural/followers","following_url":"https://api.github.com/users/natural/following{/other_user}","gists_url":"https://api.github.com/users/natural/gists{/gist_id}","starred_url":"https://api.github.com/users/natural/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natural/subscriptions","organizations_url":"https://api.github.com/users/natural/orgs","repos_url":"https://api.github.com/users/natural/repos","events_url":"https://api.github.com/users/natural/events{/privacy}","received_events_url":"https://api.github.com/users/natural/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-16T01:46:33Z","updated_at":"2019-06-16T01:46:33Z","author_association":"CONTRIBUTOR","body":">Under the Unix NSS implementation, will it identify groups for users who do not show in the getent passwd list?\r\n\r\nYes!  As of bbbc8cf, the provider supports reading users and groups from the systems where `enumerate=false`.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502412264/reactions","total_count":3,"+1":1,"-1":0,"laugh":1,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502581415","html_url":"https://github.com/apache/nifi/pull/3522#issuecomment-502581415","issue_url":"https://api.github.com/repos/apache/nifi/issues/3522","id":502581415,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjU4MTQxNQ==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T08:15:18Z","updated_at":"2019-06-17T08:15:18Z","author_association":"MEMBER","body":"Confirmed build passes locally, LGMT +1. Merging. Thanks @thenatog !","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502581415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502659735","html_url":"https://github.com/apache/nifi/pull/3492#issuecomment-502659735","issue_url":"https://api.github.com/repos/apache/nifi/issues/3492","id":502659735,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjY1OTczNQ==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T12:21:03Z","updated_at":"2019-06-17T12:21:03Z","author_association":"CONTRIBUTOR","body":"@kevdoran thanks for the final review... I accepted your changed and going to squash and merge this","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502659735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502671525","html_url":"https://github.com/apache/nifi/pull/3536#issuecomment-502671525","issue_url":"https://api.github.com/repos/apache/nifi/issues/3536","id":502671525,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjY3MTUyNQ==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T12:57:34Z","updated_at":"2019-06-17T12:57:34Z","author_association":"CONTRIBUTOR","body":"@markap14 trying to run a full build I seem to consistently get these test failures:\r\n```\r\n[ERROR] Failures:\r\n[ERROR]   TestStandardParameterContext.testChangingParameterForEnabledControllerService:204 Was able to remove parameter being referenced by Controller Service that is DISABLING\r\n[ERROR]   TestStandardParameterContext.testChangingParameterForRunningProcessor:162 Was able to remove parameter while referencing processor was running\r\n[ERROR]   TestStandardParameterContext.testUpdatesApply:69\r\n```\r\nAlso some checkstyle violations in `nifi-expression-language` for unused imports.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/502671525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503187775","html_url":"https://github.com/apache/nifi/pull/3536#issuecomment-503187775","issue_url":"https://api.github.com/repos/apache/nifi/issues/3536","id":503187775,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzE4Nzc3NQ==","user":{"login":"scottyaslan","id":6797571,"node_id":"MDQ6VXNlcjY3OTc1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/6797571?v=4","gravatar_id":"","url":"https://api.github.com/users/scottyaslan","html_url":"https://github.com/scottyaslan","followers_url":"https://api.github.com/users/scottyaslan/followers","following_url":"https://api.github.com/users/scottyaslan/following{/other_user}","gists_url":"https://api.github.com/users/scottyaslan/gists{/gist_id}","starred_url":"https://api.github.com/users/scottyaslan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scottyaslan/subscriptions","organizations_url":"https://api.github.com/users/scottyaslan/orgs","repos_url":"https://api.github.com/users/scottyaslan/repos","events_url":"https://api.github.com/users/scottyaslan/events{/privacy}","received_events_url":"https://api.github.com/users/scottyaslan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T15:29:25Z","updated_at":"2019-06-18T15:29:25Z","author_association":"CONTRIBUTOR","body":"Can we add a description field to the parameter context?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503187775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503190858","html_url":"https://github.com/apache/nifi/pull/3536#issuecomment-503190858","issue_url":"https://api.github.com/repos/apache/nifi/issues/3536","id":503190858,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzE5MDg1OA==","user":{"login":"scottyaslan","id":6797571,"node_id":"MDQ6VXNlcjY3OTc1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/6797571?v=4","gravatar_id":"","url":"https://api.github.com/users/scottyaslan","html_url":"https://github.com/scottyaslan","followers_url":"https://api.github.com/users/scottyaslan/followers","following_url":"https://api.github.com/users/scottyaslan/following{/other_user}","gists_url":"https://api.github.com/users/scottyaslan/gists{/gist_id}","starred_url":"https://api.github.com/users/scottyaslan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scottyaslan/subscriptions","organizations_url":"https://api.github.com/users/scottyaslan/orgs","repos_url":"https://api.github.com/users/scottyaslan/repos","events_url":"https://api.github.com/users/scottyaslan/events{/privacy}","received_events_url":"https://api.github.com/users/scottyaslan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T15:36:19Z","updated_at":"2019-06-18T15:36:19Z","author_association":"CONTRIBUTOR","body":"Does it make sense to add auditing history to parameter contexts?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503190858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503229588","html_url":"https://github.com/apache/nifi/pull/3536#issuecomment-503229588","issue_url":"https://api.github.com/repos/apache/nifi/issues/3536","id":503229588,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzIyOTU4OA==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T17:17:55Z","updated_at":"2019-06-18T17:17:55Z","author_association":"CONTRIBUTOR","body":"@scottyaslan adding a description field to the parameter context makes sense to me. Will add that in. I created a new sub-task (NIFI-6384) to capture the auditing information. It's definitely a good call, but I feel like that should probably not hold up the PR.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503229588/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503287246","html_url":"https://github.com/apache/nifi/pull/3536#issuecomment-503287246","issue_url":"https://api.github.com/repos/apache/nifi/issues/3536","id":503287246,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzI4NzI0Ng==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T19:56:02Z","updated_at":"2019-06-18T19:56:02Z","author_association":"CONTRIBUTOR","body":"OK I rebased against master and pushed 2 new commits. The first addresses all of your feedback thus far, I believe, @bbende. The second addresses your comment about parameter context description field @scottyaslan. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503287246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503299922","html_url":"https://github.com/apache/nifi/pull/3520#issuecomment-503299922","issue_url":"https://api.github.com/repos/apache/nifi/issues/3520","id":503299922,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzI5OTkyMg==","user":{"login":"jtstorck","id":19271493,"node_id":"MDQ6VXNlcjE5MjcxNDkz","avatar_url":"https://avatars.githubusercontent.com/u/19271493?v=4","gravatar_id":"","url":"https://api.github.com/users/jtstorck","html_url":"https://github.com/jtstorck","followers_url":"https://api.github.com/users/jtstorck/followers","following_url":"https://api.github.com/users/jtstorck/following{/other_user}","gists_url":"https://api.github.com/users/jtstorck/gists{/gist_id}","starred_url":"https://api.github.com/users/jtstorck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtstorck/subscriptions","organizations_url":"https://api.github.com/users/jtstorck/orgs","repos_url":"https://api.github.com/users/jtstorck/repos","events_url":"https://api.github.com/users/jtstorck/events{/privacy}","received_events_url":"https://api.github.com/users/jtstorck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T20:31:34Z","updated_at":"2019-06-18T20:40:11Z","author_association":"CONTRIBUTOR","body":"As I understand it, all binary artifacts (NARs) from the NiFi build that include `Dropwizard Metrics` need to include `Dropwizard Metrics`' NOTICE in its NOTICE.  Since `nifi-metrics` has a dependency on `Dropwizard Metrics` and has some modified code from it, anything that uses `nifi-metrics` will also need to pull in `Dropwizard Metrics`' NOTICE along with the additional \"derived\" portion.\r\n\r\nI think the main reason we don't put NOTICEs in the JARs is because they aren't released individually and dependencies aren't included with the JAR.  When the `Extension Registry` is released, if we plan to make JARs like `nifi-metrics` available via the registry, then we can add the NOTICE to `nifi-metrics`.  I still think we'd need to specify the NOTICEs as they are in this PR, though.\r\n\r\nAdditionally, since `nifi-metrics` is packaged as a JAR but contains modified code from `Dropwizard Metrics`, it probably should have a NOTICE to at least state it contains derived work?\r\n\r\n@joewitt, does this match up with the licensing guidelines?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503299922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503362766","html_url":"https://github.com/apache/nifi/pull/3495#issuecomment-503362766","issue_url":"https://api.github.com/repos/apache/nifi/issues/3495","id":503362766,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzM2Mjc2Ng==","user":{"login":"natural","id":146692,"node_id":"MDQ6VXNlcjE0NjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/146692?v=4","gravatar_id":"","url":"https://api.github.com/users/natural","html_url":"https://github.com/natural","followers_url":"https://api.github.com/users/natural/followers","following_url":"https://api.github.com/users/natural/following{/other_user}","gists_url":"https://api.github.com/users/natural/gists{/gist_id}","starred_url":"https://api.github.com/users/natural/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natural/subscriptions","organizations_url":"https://api.github.com/users/natural/orgs","repos_url":"https://api.github.com/users/natural/repos","events_url":"https://api.github.com/users/natural/events{/privacy}","received_events_url":"https://api.github.com/users/natural/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T00:45:24Z","updated_at":"2019-06-19T00:45:24Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #3537.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503362766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503365789","html_url":"https://github.com/apache/nifi/pull/3537#issuecomment-503365789","issue_url":"https://api.github.com/repos/apache/nifi/issues/3537","id":503365789,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzM2NTc4OQ==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T01:03:26Z","updated_at":"2019-06-19T01:03:26Z","author_association":"CONTRIBUTOR","body":"Reviewing...","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503365789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503377730","html_url":"https://github.com/apache/nifi/pull/3537#issuecomment-503377730","issue_url":"https://api.github.com/repos/apache/nifi/issues/3537","id":503377730,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzM3NzczMA==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T02:11:03Z","updated_at":"2019-06-19T02:11:03Z","author_association":"CONTRIBUTOR","body":"Hi Troy. Reviewing this leads me to the same scenario I encountered on PR #3495 -- the authentication with LDAP works successfully, but the user with identity *alopresto* doesn't have any groups populated and despite being set as the Initial Admin Identity, it does not have the expected (or any) permissions. There are permissions defined in `authorizations.xml` but for a user with ID *502*, and I don't see them being correctly associated. \r\n\r\n```\r\n2019-06-18 19:06:21,025 INFO [main] org.eclipse.jetty.server.Server Started @28024ms\r\n2019-06-18 19:06:21,043 INFO [main] org.apache.nifi.nar.NarAutoLoader Starting NAR Auto-Loader for directory ./extensions ...\r\n2019-06-18 19:06:21,044 INFO [main] org.apache.nifi.nar.NarAutoLoader NAR Auto-Loader started\r\n2019-06-18 19:06:21,044 INFO [main] org.apache.nifi.web.server.JettyServer NiFi has started. The UI is available at the following URLs:\r\n2019-06-18 19:06:21,044 INFO [main] org.apache.nifi.web.server.JettyServer https://andy.nifi:9443/nifi\r\n2019-06-18 19:06:21,045 INFO [main] org.apache.nifi.BootstrapListener Successfully initiated communication with Bootstrap\r\n2019-06-18 19:06:21,045 INFO [main] org.apache.nifi.NiFi Controller initialization took 19686979297 nanoseconds (19 seconds).\r\n^C...1.10.0-SNAPSHOT-bin/nifi-1.10.0-SNAPSHOT (pr3537) 😉\r\n🔓 0s @ 19:07:09 $ bca\r\n───────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\r\n       │ File: conf/authorizations.xml\r\n───────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\r\n   1   │ <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n   2   │ <authorizations>\r\n   3   │     <policies>\r\n   4   │         <policy identifier=\"f99bccd1-a30e-3e4a-98a2-dbc708edc67f\" resource=\"/flow\" action=\"R\">\r\n   5   │             <user identifier=\"502\"/>\r\n   6   │         </policy>\r\n   7   │         <policy identifier=\"b8775bd4-704a-34c6-987b-84f2daf7a515\" resource=\"/restricted-components\" action=\"W\">\r\n   8   │             <user identifier=\"502\"/>\r\n   9   │         </policy>\r\n  10   │         <policy identifier=\"627410be-1717-35b4-a06f-e9362b89e0b7\" resource=\"/tenants\" action=\"R\">\r\n  11   │             <user identifier=\"502\"/>\r\n  12   │         </policy>\r\n  13   │         <policy identifier=\"15e4e0bd-cb28-34fd-8587-f8d15162cba5\" resource=\"/tenants\" action=\"W\">\r\n  14   │             <user identifier=\"502\"/>\r\n  15   │         </policy>\r\n  16   │         <policy identifier=\"ff96062a-fa99-36dc-9942-0f6442ae7212\" resource=\"/policies\" action=\"R\">\r\n  17   │             <user identifier=\"502\"/>\r\n  18   │         </policy>\r\n  19   │         <policy identifier=\"ad99ea98-3af6-3561-ae27-5bf09e1d969d\" resource=\"/policies\" action=\"W\">\r\n  20   │             <user identifier=\"502\"/>\r\n  21   │         </policy>\r\n  22   │         <policy identifier=\"2e1015cb-0fed-3005-8e0d-722311f21a03\" resource=\"/controller\" action=\"R\">\r\n  23   │             <user identifier=\"502\"/>\r\n  24   │         </policy>\r\n  25   │         <policy identifier=\"c6322e6c-4cc1-3bcc-91b3-2ed2111674cf\" resource=\"/controller\" action=\"W\">\r\n  26   │             <user identifier=\"502\"/>\r\n  27   │         </policy>\r\n  28   │     </policies>\r\n  29   │ </authorizations>\r\n───────┴───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\r\n...1.10.0-SNAPSHOT-bin/nifi-1.10.0-SNAPSHOT (pr3537) 😉\r\n🔓 4s @ 19:07:39 $ grc tail -f logs/nifi-user.log\r\n2019-06-18 19:06:16,744 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Identity Mapping property nifi.security.identity.mapping.pattern.dn was found, but no transform was present. Using NONE.\r\n2019-06-18 19:06:16,744 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Found Identity Mapping with key = dn, pattern = (?i)^CN=([^,]*),.*$, value = $1, transform = NONE\r\n2019-06-18 19:06:16,790 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Identity Mapping property nifi.security.identity.mapping.pattern.dn was found, but no transform was present. Using NONE.\r\n2019-06-18 19:06:16,790 DEBUG [main] o.a.n.a.util.IdentityMappingUtil Found Identity Mapping with key = dn, pattern = (?i)^CN=([^,]*),.*$, value = $1, transform = NONE\r\n2019-06-18 19:06:58,710 DEBUG [NiFi Web Server-32] o.a.nifi.authorization.util.ShellRunner Run Command 'Get Single User by Id': [sh, -c, id -P alopresto | cut -f 1,3,4 -d ':']\r\n2019-06-18 19:06:59,353 INFO [NiFi Web Server-27] o.a.n.w.s.NiFiAuthenticationFilter Attempting request for (<JWT token>) GET https://andy.nifi:9443/nifi-api/flow/current-user (source ip: 127.0.0.1)\r\n2019-06-18 19:06:59,354 DEBUG [NiFi Web Server-27] o.a.nifi.authorization.util.ShellRunner Run Command 'Get Single User by Id': [sh, -c, id -P alopresto | cut -f 1,3,4 -d ':']\r\n2019-06-18 19:06:59,376 INFO [NiFi Web Server-27] o.a.n.w.s.NiFiAuthenticationFilter Authentication success for alopresto\r\n2019-06-18 19:06:59,450 DEBUG [NiFi Web Server-27] o.a.nifi.authorization.util.ShellRunner Run Command 'Get Single User by Id': [sh, -c, id -P alopresto | cut -f 1,3,4 -d ':']\r\n2019-06-18 19:06:59,477 INFO [NiFi Web Server-27] o.a.n.w.a.c.AccessDeniedExceptionMapper identity[alopresto], groups[] does not have permission to access the requested resource. Unknown user with identity 'alopresto'. Returning Forbidden response.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503377730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503390545","html_url":"https://github.com/apache/nifi/pull/3537#issuecomment-503390545","issue_url":"https://api.github.com/repos/apache/nifi/issues/3537","id":503390545,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzM5MDU0NQ==","user":{"login":"natural","id":146692,"node_id":"MDQ6VXNlcjE0NjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/146692?v=4","gravatar_id":"","url":"https://api.github.com/users/natural","html_url":"https://github.com/natural","followers_url":"https://api.github.com/users/natural/followers","following_url":"https://api.github.com/users/natural/following{/other_user}","gists_url":"https://api.github.com/users/natural/gists{/gist_id}","starred_url":"https://api.github.com/users/natural/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natural/subscriptions","organizations_url":"https://api.github.com/users/natural/orgs","repos_url":"https://api.github.com/users/natural/repos","events_url":"https://api.github.com/users/natural/events{/privacy}","received_events_url":"https://api.github.com/users/natural/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T03:21:57Z","updated_at":"2019-06-19T03:21:57Z","author_association":"CONTRIBUTOR","body":"@alopresto \r\n\r\nThanks again for testing again.\r\n\r\nCan you review/post you ldap mapping, e.g., `nifi.security.identity.mapping.` and friends?  I've been testing with the defaults on Mac and Linux both.\r\n","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503390545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503392271","html_url":"https://github.com/apache/nifi/pull/3537#issuecomment-503392271","issue_url":"https://api.github.com/repos/apache/nifi/issues/3537","id":503392271,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzM5MjI3MQ==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T03:32:13Z","updated_at":"2019-06-19T03:34:43Z","author_association":"CONTRIBUTOR","body":"I'm hoping I just missed a configuration value (either failed to populate or copied a stale value from an old config). \r\n\r\n* [authorizers.xml](https://gist.github.com/alopresto/96d1b275e58eb98962335e5f1c004e80)\r\n* [login-identity-providers.xml](https://gist.github.com/alopresto/97b6a82c1122a5009ceb68dec492d3a8)\r\n* [nifi.properties](https://gist.github.com/alopresto/baaa17098956a0853b04c9ba0aff9b36)\r\n* [authorizations.xml](https://gist.github.com/alopresto/cb104831834d19c063cbf6400d308809)\r\n* [nifi-user.log](https://gist.github.com/alopresto/7ff3d455913e4f4fc4a930074158278e)\r\n\r\nPrerequisites: \r\n* LDAP server at specified host with `alopresto` and `tmelhase` users. \r\n* valid keystore and truststore with specified passwords\r\n","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503392271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503393281","html_url":"https://github.com/apache/nifi/pull/3537#issuecomment-503393281","issue_url":"https://api.github.com/repos/apache/nifi/issues/3537","id":503393281,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzM5MzI4MQ==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T03:38:24Z","updated_at":"2019-06-19T03:38:24Z","author_association":"CONTRIBUTOR","body":"Generic comment before I forget, I think there are more locations in the code when the shell runner runs a command without a description of what's happening and we can clean that up. Grep the DEBUG `nifi-user.log` for `<unknown>`. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503393281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503582902","html_url":"https://github.com/apache/nifi/pull/3538#issuecomment-503582902","issue_url":"https://api.github.com/repos/apache/nifi/issues/3538","id":503582902,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzU4MjkwMg==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T14:23:10Z","updated_at":"2019-06-19T14:23:10Z","author_association":"CONTRIBUTOR","body":"@ijokarumawak thanks for the patch! I wonder if it makes sense to always penalize the 'wait' relationship, though. Is there a use case in which we don't want to penalize it? If so, is the use case the most common? I feel like we could either avoid adding the property and always penalize - or at least make the default to penalize, so that out of the box it works as expected for what i imagine is a very common use case.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503582902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503649389","html_url":"https://github.com/apache/nifi/pull/3538#issuecomment-503649389","issue_url":"https://api.github.com/repos/apache/nifi/issues/3538","id":503649389,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY0OTM4OQ==","user":{"login":"aramatev","id":14179945,"node_id":"MDQ6VXNlcjE0MTc5OTQ1","avatar_url":"https://avatars.githubusercontent.com/u/14179945?v=4","gravatar_id":"","url":"https://api.github.com/users/aramatev","html_url":"https://github.com/aramatev","followers_url":"https://api.github.com/users/aramatev/followers","following_url":"https://api.github.com/users/aramatev/following{/other_user}","gists_url":"https://api.github.com/users/aramatev/gists{/gist_id}","starred_url":"https://api.github.com/users/aramatev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aramatev/subscriptions","organizations_url":"https://api.github.com/users/aramatev/orgs","repos_url":"https://api.github.com/users/aramatev/repos","events_url":"https://api.github.com/users/aramatev/events{/privacy}","received_events_url":"https://api.github.com/users/aramatev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T17:12:12Z","updated_at":"2019-06-19T17:12:12Z","author_association":"NONE","body":"@ijokarumawak , Are you sure this solves the Jira it refers to ? The title of the jira and description dont match the PR body description\r\nNIFI-6385\r\nWait processor ignores all FlowFiles except for the first one in the queue.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503649389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503655018","html_url":"https://github.com/apache/nifi/pull/3318#issuecomment-503655018","issue_url":"https://api.github.com/repos/apache/nifi/issues/3318","id":503655018,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY1NTAxOA==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T17:27:45Z","updated_at":"2019-06-19T17:27:45Z","author_association":"CONTRIBUTOR","body":"Overall this LGTM, I left one comment about the Mockito stuff, but the only functional comment I have left is that it is possible to have side effects on a query and have the flow file get routed to failure. For example, using GremlinClientService and your JanusGraph container, try this query: `g.addV('person').property('name','stephen')`. It routes the flow file to failure because it can't deserialize the \"result\", which I assume is because there's no real result at all. If you want to return the ID of the newly created vertex, you can use `g.addV('person').property('name','stephen').id()` and that gets routed to success.\r\n\r\nI'm not sure we can know whether side-effects occurred, I think we should just mention in the processor and/or controller service documentation that just because a flow file was routed to failure doesn't mean side effects didn't happen. Thoughts?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503655018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503662431","html_url":"https://github.com/apache/nifi/pull/3520#issuecomment-503662431","issue_url":"https://api.github.com/repos/apache/nifi/issues/3520","id":503662431,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY2MjQzMQ==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T17:48:02Z","updated_at":"2019-06-19T17:48:02Z","author_association":"CONTRIBUTOR","body":"For the source consideration the top level nar is sufficient.\r\nFor binary distribution the nars should be sufficient.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503662431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503667484","html_url":"https://github.com/apache/nifi/pull/3538#issuecomment-503667484","issue_url":"https://api.github.com/repos/apache/nifi/issues/3538","id":503667484,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY2NzQ4NA==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T18:01:58Z","updated_at":"2019-06-19T18:01:58Z","author_association":"MEMBER","body":"@markap14 I was wondering if we should penalize the 'wait' relationship, too. But ended up adding a property.\r\n\r\nThe main reason is to avoid unexpected negative performance impact to existing flows.\r\nWe haven't penalized 'wait' relationship, and I imagine users left 'Penalize Duration' as the default value, which is '30 secs'. And what if we start penalizing it automatically?\r\nWhen a FlowFile arrives at 10:30:30 and its signal is not notified yet, the FlowFile would be penalized. Then even if the signal is notified right after, like 10:30:31, the FlowFile won't be released until 10:31:00.\r\nWe could enable penalizing by default and write a migration guide to update 'Penalize Duration' to more adequate value, but I thought it will be a bad user experience.\r\n\r\nSimilar to that, not penalizing FlowFiles would provide the best latency to release a FlowFile when its signal arrive(processor works busier, though). And I think the current behavior may be expected in some context, that is, wait for the highest priority FlowFile to be released before any other FlowFiles even if their signal arrives.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503667484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503670843","html_url":"https://github.com/apache/nifi/pull/3538#issuecomment-503670843","issue_url":"https://api.github.com/repos/apache/nifi/issues/3538","id":503670843,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY3MDg0Mw==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T18:11:21Z","updated_at":"2019-06-19T18:11:21Z","author_association":"MEMBER","body":"@aramatev Yes, this PR addresses NIFI-6385. When a FlowFile is penalized, it won't be processed again until configured 'Penalized Duration' passes, 30 secs by default.\r\n\r\nSo, if there are two FlowFiles attributed with `signal=a, priority=1` and `signal=b, priority=2` queued at 'wait' relationship which has PriorityPrioritizer, and signal `b` is notified, Wait processor checks `signal=a, priority=1` FlowFile first because it's higher priority, but signal `a` is not notified, then the FlowFile is penalized. At the next Wait processor run, `signal=b, priority=2` FlowFile get processed by Wait processor, and be released. Because signal `b` is already notified.\r\n\r\nI believe that addresses the use-case described by the JIRA. Am I missing something?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503670843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503675574","html_url":"https://github.com/apache/nifi/pull/3538#issuecomment-503675574","issue_url":"https://api.github.com/repos/apache/nifi/issues/3538","id":503675574,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY3NTU3NA==","user":{"login":"aramatev","id":14179945,"node_id":"MDQ6VXNlcjE0MTc5OTQ1","avatar_url":"https://avatars.githubusercontent.com/u/14179945?v=4","gravatar_id":"","url":"https://api.github.com/users/aramatev","html_url":"https://github.com/aramatev","followers_url":"https://api.github.com/users/aramatev/followers","following_url":"https://api.github.com/users/aramatev/following{/other_user}","gists_url":"https://api.github.com/users/aramatev/gists{/gist_id}","starred_url":"https://api.github.com/users/aramatev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aramatev/subscriptions","organizations_url":"https://api.github.com/users/aramatev/orgs","repos_url":"https://api.github.com/users/aramatev/repos","events_url":"https://api.github.com/users/aramatev/events{/privacy}","received_events_url":"https://api.github.com/users/aramatev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T18:24:16Z","updated_at":"2019-06-19T18:25:21Z","author_association":"NONE","body":"![image](https://user-images.githubusercontent.com/14179945/59790146-3e0beb00-929d-11e9-8724-1ff9dc97444c.png)\r\n\r\nThe Jira should really state that some prioritizers incorrectly look at the front of the queue. \r\nWhen using FirstInFirstOutPrioritizer, the Wait processor is able to look at the entirety of the queue and process the signal. \r\nBut for all other prioritizers, for some reason only the first flowfile in the queue is evaluated against the current signal. \r\nSo its not that all prioritizers are broken, FIFO works fine, the others dont. And FIFO works w/o penalizing the flowfile in the front. \r\n\r\nThis solution actually seems a bit of a hack, since it doesnt match the signal and its sent to the back of the queue. \r\nI'd be interested to know why the entire queue is not available to all priortizers but only FIFO sees the entire queue and can process any signal that matches any flowfiles in its queue. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503675574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503684306","html_url":"https://github.com/apache/nifi/pull/3538#issuecomment-503684306","issue_url":"https://api.github.com/repos/apache/nifi/issues/3538","id":503684306,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY4NDMwNg==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T18:49:57Z","updated_at":"2019-06-19T18:51:04Z","author_association":"MEMBER","body":"Hi @aramatev let me try to explain.\r\n\r\nWait processor only processes one signal per run, regardless of what Prioritizer is used. FIFO passes the First-In FlowFile to Wait processor. PriorityPrioritizer passes the most priority FlowFile. It's not like 'With FIFO, entire queue can be processed by Wait processor', it's more like 'With FIFO, each queued FlowFile can be processed by Wait processor one by one at each scheduled run'. Wait processor runs at every configured 'Run Schedule' ('0 ms' by default, which means the processor keeps running if there's a thread available).\r\n\r\nThe reason why FIFO works is that when Wait processor route a FlowFile to 'wait' relationship, the FlowFile is re-queued at the end of the queue. Then the next FlowFile is processed at the next Wait processor run.\r\n\r\nWith PriorityPrioritizer, the same FlowFile is processed again and again, because that is the most priority one.\r\n\r\nActually all Prioritizer sees entire queue. I don't think this is an issue on Prioritizer implementations.\r\n\r\nIf you have alternative solutions, I'd be interested in hearing that. This PR is just one of many possible approaches. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503684306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503691279","html_url":"https://github.com/apache/nifi/pull/3538#issuecomment-503691279","issue_url":"https://api.github.com/repos/apache/nifi/issues/3538","id":503691279,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY5MTI3OQ==","user":{"login":"aramatev","id":14179945,"node_id":"MDQ6VXNlcjE0MTc5OTQ1","avatar_url":"https://avatars.githubusercontent.com/u/14179945?v=4","gravatar_id":"","url":"https://api.github.com/users/aramatev","html_url":"https://github.com/aramatev","followers_url":"https://api.github.com/users/aramatev/followers","following_url":"https://api.github.com/users/aramatev/following{/other_user}","gists_url":"https://api.github.com/users/aramatev/gists{/gist_id}","starred_url":"https://api.github.com/users/aramatev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aramatev/subscriptions","organizations_url":"https://api.github.com/users/aramatev/orgs","repos_url":"https://api.github.com/users/aramatev/repos","events_url":"https://api.github.com/users/aramatev/events{/privacy}","received_events_url":"https://api.github.com/users/aramatev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T19:09:58Z","updated_at":"2019-06-19T19:09:58Z","author_association":"NONE","body":"That actually makes sense. \r\n\r\nSo if one was to set 0 ms Penalty using the other prioritizers. Would we see the same behavior  as with FIFO ? \r\nMaybe 0ms wouldn't work, so 1 ms for Penalty with this Patch to get similar behavior as the '0 ms' run schedule using FIFO? ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503691279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503712829","html_url":"https://github.com/apache/nifi/pull/3538#issuecomment-503712829","issue_url":"https://api.github.com/repos/apache/nifi/issues/3538","id":503712829,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzcxMjgyOQ==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T19:23:24Z","updated_at":"2019-06-19T19:23:24Z","author_association":"MEMBER","body":"@aramatev Glad to know we are on the same page.\r\n\r\nIt will work with any Prioritizer as long as `Penalty Duration > Run Schedule` and a thread is available. One caveat hear, NiFi has a thread pool for running each Processors (Maximum Timer Driven Thread Count, 10 by default). Wait processor may have longer interval than configured 'Run Schedule' if it has to wait for acquiring a thread.\r\n\r\nI'm wondering what is the purpose of using Prioritizers other than FIFO for Wait processor in your use case. Would you elaborate some situations that FIFO alone won't work?\r\nYou could use FIFO at 'wait' relationship without penalizing if you'd like to release FlowFiles as fast as its signal is notified. Then use PriorityPrioritizer at the 'success' relationship to control processing order at the next processor.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503712829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503719932","html_url":"https://github.com/apache/nifi/pull/3538#issuecomment-503719932","issue_url":"https://api.github.com/repos/apache/nifi/issues/3538","id":503719932,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzcxOTkzMg==","user":{"login":"aramatev","id":14179945,"node_id":"MDQ6VXNlcjE0MTc5OTQ1","avatar_url":"https://avatars.githubusercontent.com/u/14179945?v=4","gravatar_id":"","url":"https://api.github.com/users/aramatev","html_url":"https://github.com/aramatev","followers_url":"https://api.github.com/users/aramatev/followers","following_url":"https://api.github.com/users/aramatev/following{/other_user}","gists_url":"https://api.github.com/users/aramatev/gists{/gist_id}","starred_url":"https://api.github.com/users/aramatev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aramatev/subscriptions","organizations_url":"https://api.github.com/users/aramatev/orgs","repos_url":"https://api.github.com/users/aramatev/repos","events_url":"https://api.github.com/users/aramatev/events{/privacy}","received_events_url":"https://api.github.com/users/aramatev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T19:45:50Z","updated_at":"2019-06-19T19:45:50Z","author_association":"NONE","body":"I suppose that Prioritizer at the success relationship level could work for some scenarios. \r\n\r\nBut if we're setting releasableFlowFileCount =1, then only 1 item would match our signal and fall and we're already consume it, its not like we request for signal =aa, twice and then we only use the flowfile with higher priority. \r\n\r\nThe situation that your solution doesnt solve is if we have several signals with same id with different priorities.\r\n\r\nSay you have these 2 in your queue, and you send a Notify for signal=a.\r\nsignal=a, priority=2 and signal=a, priority=1, \r\nYou'd incorrectly get the signal=a with priority=2 out, and youd already consume that, and it would be too late to have them wait in another success relationship to get sorted out. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503719932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503723087","html_url":"https://github.com/apache/nifi/pull/3520#issuecomment-503723087","issue_url":"https://api.github.com/repos/apache/nifi/issues/3520","id":503723087,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzcyMzA4Nw==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T19:55:24Z","updated_at":"2019-06-19T19:55:24Z","author_association":"CONTRIBUTOR","body":"+1 LGTM, ran unit tests and contrib-check on all modules with changed code, verified L&N (along with other reviewers), and ran a few tests on a live NiFi. Thanks for this improvement! Merging to master","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503723087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503729406","html_url":"https://github.com/apache/nifi/pull/3538#issuecomment-503729406","issue_url":"https://api.github.com/repos/apache/nifi/issues/3538","id":503729406,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzcyOTQwNg==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T20:14:16Z","updated_at":"2019-06-19T20:14:16Z","author_association":"MEMBER","body":"@aramatev Thanks for the explanation. That makes sense. You're right, Penalizing FlowFiles won't help in that case.\r\n\r\nSo, what needed is an ordering mechanism something like 'order by priority attribute grouped by signal id'.\r\nThat is actually difficult to address at NiFi framework layer such as Prioritizers or Penalization. We need more coding at Wait processor.\r\n\r\nMy idea is:\r\n- Add internal state at Wait to track when each signal.id is checked\r\n- Add a Wait processor property to specify signal.id re-check duration\r\n    - Similar to what 'Penalty Duration' does, but not for per FlowFile, but for signal.id unit. This is required because if there are multiple signal.ids, 'aa' and 'bb', then each signal.id has multiple FlowFiles with different priority. When Wait processor checks signal.id 'aa' and found 'aa' is not notified yet, it needs to check 'bb' at the next run\r\n    - `0 ms` by default\r\n- Add FlowFile filtering at Wait processor using above data to decide which signal.id to check\r\n\r\nI will implement that and update this PR later. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503729406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503795288","html_url":"https://github.com/apache/nifi/pull/3535#issuecomment-503795288","issue_url":"https://api.github.com/repos/apache/nifi/issues/3535","id":503795288,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzc5NTI4OA==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T00:35:20Z","updated_at":"2019-06-20T00:35:20Z","author_association":"CONTRIBUTOR","body":"Thanks Matt. The unit test is fine. Please merge. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503795288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503797146","html_url":"https://github.com/apache/nifi/pull/3318#issuecomment-503797146","issue_url":"https://api.github.com/repos/apache/nifi/issues/3318","id":503797146,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzc5NzE0Ng==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T00:45:31Z","updated_at":"2019-06-20T00:45:31Z","author_association":"CONTRIBUTOR","body":"> It routes the flow file to failure because it can't deserialize the \"result\", which I assume is because there's no real result at all.\r\n\r\nI don't think that's the case here. The Gremlin graph traversal object is a little tricky in that respect when combined with the rest of the scripting process there. AFAIK, it will create the objects on the current transaction until something triggers a rollback. In that case, I think the inability to serialize and send back to the client counts as such an event.\r\n\r\n`.property()` is a traversal step, and you have to use calls like `id()` and `label()` or maybe `valueMap().next()` to get something that can be reliably serialized and sent back to the client.\r\n\r\nI'll write some additional documentation to try to clarify things a little (caveat being I'm the near-sighted one eyed man in the kingdom of the blind on that front with our users!)","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503797146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503805361","html_url":"https://github.com/apache/nifi/pull/3318#issuecomment-503805361","issue_url":"https://api.github.com/repos/apache/nifi/issues/3318","id":503805361,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzgwNTM2MQ==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T01:31:53Z","updated_at":"2019-06-20T01:31:53Z","author_association":"CONTRIBUTOR","body":"I totally agree, I'm just saying as a Gremlin not-quite-n00b I was trying a side-effect that had no result. Certainly we can justify the \"can't serialize\" case, just saying it happened to me and I'm guessing it might happen to a few folks in the future, so without the docs we might be fielding such questions on the Slack team and/or mailing lists :) If we don't know enough from the exception (I think it's `CompletionException` which doesn't help lol) then I think all we can do is warn the users in doc and move on.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503805361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503808278","html_url":"https://github.com/apache/nifi/pull/3538#issuecomment-503808278","issue_url":"https://api.github.com/repos/apache/nifi/issues/3538","id":503808278,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzgwODI3OA==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T01:48:05Z","updated_at":"2019-06-20T01:48:05Z","author_association":"MEMBER","body":"Closing this PR as Penalization per FlowFile doesn't address the target issue.\r\nI've submit another PR with a different approach. #3540","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503808278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503984959","html_url":"https://github.com/apache/nifi/pull/3318#issuecomment-503984959","issue_url":"https://api.github.com/repos/apache/nifi/issues/3318","id":503984959,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzk4NDk1OQ==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T11:12:32Z","updated_at":"2019-06-20T11:12:32Z","author_association":"CONTRIBUTOR","body":"@mattyb149 Gremlin varies between implementation much like JDBC does. For example, it's my understanding that OrientDB doesn't implement IDs in a way that's simple like JanusGraph (just long integers) so hypothetically some things that might serialize cleanly with one implementation might not work with another. IMO we're not responsible for that unless there is some really easy way we can accommodate.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503984959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503995080","html_url":"https://github.com/apache/nifi/pull/3318#issuecomment-503995080","issue_url":"https://api.github.com/repos/apache/nifi/issues/3318","id":503995080,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzk5NTA4MA==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T11:50:45Z","updated_at":"2019-06-20T11:50:45Z","author_association":"CONTRIBUTOR","body":"@mattyb149 documentation pushed.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503995080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503995397","html_url":"https://github.com/apache/nifi/pull/3318#issuecomment-503995397","issue_url":"https://api.github.com/repos/apache/nifi/issues/3318","id":503995397,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzk5NTM5Nw==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T11:51:43Z","updated_at":"2019-06-20T11:51:43Z","author_association":"CONTRIBUTOR","body":"When you merge, can you do two commits instead of one?\r\n\r\n1. That squashes @mans2singh's commits together.\r\n2. One that squashes my refactor work on top of his.\r\n\r\nI'd like to keep a record of @mans2singh's contributions separate from mine if that's alright.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/503995397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504006890","html_url":"https://github.com/apache/nifi/pull/3318#issuecomment-504006890","issue_url":"https://api.github.com/repos/apache/nifi/issues/3318","id":504006890,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDAwNjg5MA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T12:30:07Z","updated_at":"2019-06-20T12:30:07Z","author_association":"CONTRIBUTOR","body":"Awesome job guys","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504006890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504033504","html_url":"https://github.com/apache/nifi/pull/3311#issuecomment-504033504","issue_url":"https://api.github.com/repos/apache/nifi/issues/3311","id":504033504,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDAzMzUwNA==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T13:50:25Z","updated_at":"2019-06-20T13:50:25Z","author_association":"CONTRIBUTOR","body":"@zenfenan could you review this?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504033504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504099744","html_url":"https://github.com/apache/nifi/pull/3535#issuecomment-504099744","issue_url":"https://api.github.com/repos/apache/nifi/issues/3535","id":504099744,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDA5OTc0NA==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T16:45:57Z","updated_at":"2019-06-20T16:45:57Z","author_association":"CONTRIBUTOR","body":"+1 LGTM, with Andy's concurrence this is good to go. Thanks for the fix! Merging to master","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504099744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504110516","html_url":"https://github.com/apache/nifi/pull/3311#issuecomment-504110516","issue_url":"https://api.github.com/repos/apache/nifi/issues/3311","id":504110516,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDExMDUxNg==","user":{"login":"zenfenan","id":23693101,"node_id":"MDQ6VXNlcjIzNjkzMTAx","avatar_url":"https://avatars.githubusercontent.com/u/23693101?v=4","gravatar_id":"","url":"https://api.github.com/users/zenfenan","html_url":"https://github.com/zenfenan","followers_url":"https://api.github.com/users/zenfenan/followers","following_url":"https://api.github.com/users/zenfenan/following{/other_user}","gists_url":"https://api.github.com/users/zenfenan/gists{/gist_id}","starred_url":"https://api.github.com/users/zenfenan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zenfenan/subscriptions","organizations_url":"https://api.github.com/users/zenfenan/orgs","repos_url":"https://api.github.com/users/zenfenan/repos","events_url":"https://api.github.com/users/zenfenan/events{/privacy}","received_events_url":"https://api.github.com/users/zenfenan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T17:19:20Z","updated_at":"2019-06-20T17:19:20Z","author_association":"CONTRIBUTOR","body":"@MikeThomsen I hope to take a look this weekend. Kinda occupied with few other things.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504110516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504116697","html_url":"https://github.com/apache/nifi/pull/3537#issuecomment-504116697","issue_url":"https://api.github.com/repos/apache/nifi/issues/3537","id":504116697,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDExNjY5Nw==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T17:38:01Z","updated_at":"2019-06-20T17:38:01Z","author_association":"CONTRIBUTOR","body":"Was able to fix a bug where the user and groups object query was expecting the `identifier` (i.e. \"502\"), but was being provided the `identity` (i.e. \"alopresto\"). Everything now works as expected. \r\n\r\nWhen using LDAP authentication and Shell UGP, if NiFi is started without an existing `flow.xml.gz`, the initial admin identity permissions do not include read/write for the root process group, but I verified this behavior is the same using LDAP UGP. \r\n\r\nRan `contrib-check` and all tests pass. +1, merging. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504116697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504118710","html_url":"https://github.com/apache/nifi/pull/3318#issuecomment-504118710","issue_url":"https://api.github.com/repos/apache/nifi/issues/3318","id":504118710,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDExODcxMA==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T17:44:20Z","updated_at":"2019-06-20T17:44:20Z","author_association":"CONTRIBUTOR","body":"+1 LGTM, ran tests and tried various paths with a live NiFi instance. Thanks for sticking with this, sorry it took so long to get through it, this is a great addition to NiFi's capabilities! Merging to master","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504118710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504119303","html_url":"https://github.com/apache/nifi/pull/3318#issuecomment-504119303","issue_url":"https://api.github.com/repos/apache/nifi/issues/3318","id":504119303,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDExOTMwMw==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T17:46:06Z","updated_at":"2019-06-20T17:46:06Z","author_association":"CONTRIBUTOR","body":"Oops I forgot to sign-off the commit and add the `This closes` line, closing this PR manually as it has been merged (as 2 commits, one from @mans2singh and one from @MikeThomsen )","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504119303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504142494","html_url":"https://github.com/apache/nifi/pull/3318#issuecomment-504142494","issue_url":"https://api.github.com/repos/apache/nifi/issues/3318","id":504142494,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE0MjQ5NA==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T18:55:58Z","updated_at":"2019-06-20T18:55:58Z","author_association":"CONTRIBUTOR","body":"Thanks @mattyb149. It was a hard one to get through and much appreciated!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504142494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504156835","html_url":"https://github.com/apache/nifi/pull/3540#issuecomment-504156835","issue_url":"https://api.github.com/repos/apache/nifi/issues/3540","id":504156835,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE1NjgzNQ==","user":{"login":"aramatev","id":14179945,"node_id":"MDQ6VXNlcjE0MTc5OTQ1","avatar_url":"https://avatars.githubusercontent.com/u/14179945?v=4","gravatar_id":"","url":"https://api.github.com/users/aramatev","html_url":"https://github.com/aramatev","followers_url":"https://api.github.com/users/aramatev/followers","following_url":"https://api.github.com/users/aramatev/following{/other_user}","gists_url":"https://api.github.com/users/aramatev/gists{/gist_id}","starred_url":"https://api.github.com/users/aramatev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aramatev/subscriptions","organizations_url":"https://api.github.com/users/aramatev/orgs","repos_url":"https://api.github.com/users/aramatev/repos","events_url":"https://api.github.com/users/aramatev/events{/privacy}","received_events_url":"https://api.github.com/users/aramatev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T19:42:54Z","updated_at":"2019-06-20T19:50:29Z","author_association":"NONE","body":"@ijokarumawak is there some kind of limit as to the number of flowfiles or signals that flow through? like 15? \r\n\r\nI have 17 items in the queue and cant pop off the last one off the queue. \r\nI enabled logging and looking at the logs I see all the UUIDs show up from position 1-15 in the logs , but never the one in position 16 or 17. So it seems like its not being evaluated and that is why its not getting popped off the queue. \r\n\r\nBut any amount less than 17 in the queue, i can use PriorityAttributeQueue, and pop off using any signal. so we're close..\r\n\r\nTo reproduce: Basically I used ${UUID()} to as my signal for 17 flowfiles in the Wait queue, and then trying to Notify with the last signal I see in the queue.\r\n\r\n```\r\n2019-06-20 15:39:39,450 DEBUG [Timer-Driven Process Thread-5] org.apache.nifi.processors.standard.Wait Wait[id=750f7f2c-016b-1000-907d-5bc1ca764b99] No release signal found for 80dc2e06-f305-4157-b8dc-d9605e416a1a on FlowFile StandardFlowFileRecord[uuid=18c03aed-cf2b-430f-95a4-231fd8cdda6a,claim=,offset=0,name=18c03aed-cf2b-430f-95a4-231fd8cdda6a,size=0] yet\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504156835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504174887","html_url":"https://github.com/apache/nifi/pull/3404#issuecomment-504174887","issue_url":"https://api.github.com/repos/apache/nifi/issues/3404","id":504174887,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE3NDg4Nw==","user":{"login":"jtstorck","id":19271493,"node_id":"MDQ6VXNlcjE5MjcxNDkz","avatar_url":"https://avatars.githubusercontent.com/u/19271493?v=4","gravatar_id":"","url":"https://api.github.com/users/jtstorck","html_url":"https://github.com/jtstorck","followers_url":"https://api.github.com/users/jtstorck/followers","following_url":"https://api.github.com/users/jtstorck/following{/other_user}","gists_url":"https://api.github.com/users/jtstorck/gists{/gist_id}","starred_url":"https://api.github.com/users/jtstorck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtstorck/subscriptions","organizations_url":"https://api.github.com/users/jtstorck/orgs","repos_url":"https://api.github.com/users/jtstorck/repos","events_url":"https://api.github.com/users/jtstorck/events{/privacy}","received_events_url":"https://api.github.com/users/jtstorck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T20:40:51Z","updated_at":"2019-06-20T20:40:51Z","author_association":"CONTRIBUTOR","body":"I'm rebasing this PR onto master since a few of the individual PRs to move NiFi towards Java 11 compatible build have been merged.  This will make it easier to determine the remaining changes from that PR, and if it's worth pulling out any change-sets into separate PRs.  I'm assuming it'll be a good idea to isolate the Groovy changes made in PR 3404 in a separate PR, along with the Groovy changes from @MikeThomsen's Groovy PR ([PR 3015](https://github.com/apache/nifi/pull/3015)).\r\n\r\nAfter another rebase of PR 3404 onto master after the Groovy upgrade is merged the remaining changes may be manageable as the \"final\" PR to enable building on Java 11.  Folllow-on PRs for bug fixes and stability can be created to address specific issues.\r\n","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504174887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504235105","html_url":"https://github.com/apache/nifi/pull/2956#issuecomment-504235105","issue_url":"https://api.github.com/repos/apache/nifi/issues/2956","id":504235105,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDIzNTEwNQ==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T23:31:27Z","updated_at":"2019-06-20T23:31:27Z","author_association":"CONTRIBUTOR","body":"@mans2singh NIFI-5537 has been merged. Please close this when you get a chance. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504235105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504235582","html_url":"https://github.com/apache/nifi/pull/2866#issuecomment-504235582","issue_url":"https://api.github.com/repos/apache/nifi/issues/2866","id":504235582,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDIzNTU4Mg==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-20T23:33:48Z","updated_at":"2019-06-20T23:33:48Z","author_association":"CONTRIBUTOR","body":"@pvillard31 if your approval still stands, I'll try to do the git work for @SarthakSahu to merge.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504235582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504265357","html_url":"https://github.com/apache/nifi/pull/3540#issuecomment-504265357","issue_url":"https://api.github.com/repos/apache/nifi/issues/3540","id":504265357,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDI2NTM1Nw==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T02:28:25Z","updated_at":"2019-06-21T02:28:25Z","author_association":"MEMBER","body":"@aramatev That's a very good test, thanks for hardening the processor!\r\n\r\nThere is a limitation of number of signals being processed at each Wait run.\r\nLet's say Wait is configured with:\r\n- Run Schedule = 1 sec\r\n- Wait Penalize Duration = 3 sec\r\n- Release Signal Identifier = `${uuid}`\r\n\r\nAnd there are 5 FlowFiles F1, F2 ... F5 in the 'wait' relationship.\r\nThen the signal for F5 is notified.\r\n\r\nWait will work as follows:\r\n1. At 00:00 Wait checks the signal for F1, not found, and penalize F1 (till 00:03)\r\n2. At 00:01 Wait checks the signal for F2, not found, and penalize F2 (till 00:04)\r\n3. At 00:02 Wait checks the signal for F3, not found, and penalize F3 (till 00:05)\r\n4. At 00:03 Wait checks the signal for F4, not found, and penalize F4 (till 00:06)\r\n5. At 00:04 Wait checks the signal for F1 again, because it's not penalized any longer\r\n6. Repeat above cycle, thus F5 will not be released until one of F1 ... F4 is released\r\n\r\nThere are limitation of number of signals can be checked based on the combination of 'Run Schedule' and 'Wait Penalize Duration'.\r\n\r\nTo mitigate such limitation, increasing 'Run Duration' is recommended. By increasing 'Run Duration', Wait processor can keep being scheduled for that duration. For example, with 'Run Duration' `500 ms`, Wait can be loop through all 5 queued FlowFiles easily at a single run.\r\n\r\nI think we need to document that, too. I'll add another commit.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504265357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504301338","html_url":"https://github.com/apache/nifi/pull/3523#issuecomment-504301338","issue_url":"https://api.github.com/repos/apache/nifi/issues/3523","id":504301338,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDMwMTMzOA==","user":{"login":"natural","id":146692,"node_id":"MDQ6VXNlcjE0NjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/146692?v=4","gravatar_id":"","url":"https://api.github.com/users/natural","html_url":"https://github.com/natural","followers_url":"https://api.github.com/users/natural/followers","following_url":"https://api.github.com/users/natural/following{/other_user}","gists_url":"https://api.github.com/users/natural/gists{/gist_id}","starred_url":"https://api.github.com/users/natural/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natural/subscriptions","organizations_url":"https://api.github.com/users/natural/orgs","repos_url":"https://api.github.com/users/natural/repos","events_url":"https://api.github.com/users/natural/events{/privacy}","received_events_url":"https://api.github.com/users/natural/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T06:01:20Z","updated_at":"2019-06-21T06:01:20Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #3542.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504301338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504343120","html_url":"https://github.com/apache/nifi/pull/3540#issuecomment-504343120","issue_url":"https://api.github.com/repos/apache/nifi/issues/3540","id":504343120,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDM0MzEyMA==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T08:36:42Z","updated_at":"2019-06-21T08:36:42Z","author_association":"MEMBER","body":"@aramatev I've added additional details documentation. Please check to find if that is helpful.\r\n\r\n@markap14 I've closed the previous PR, and addressed the issue with a different approach in this PR. Would you be able to review this one? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504343120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504428325","html_url":"https://github.com/apache/nifi/pull/3540#issuecomment-504428325","issue_url":"https://api.github.com/repos/apache/nifi/issues/3540","id":504428325,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDQyODMyNQ==","user":{"login":"aramatev","id":14179945,"node_id":"MDQ6VXNlcjE0MTc5OTQ1","avatar_url":"https://avatars.githubusercontent.com/u/14179945?v=4","gravatar_id":"","url":"https://api.github.com/users/aramatev","html_url":"https://github.com/aramatev","followers_url":"https://api.github.com/users/aramatev/followers","following_url":"https://api.github.com/users/aramatev/following{/other_user}","gists_url":"https://api.github.com/users/aramatev/gists{/gist_id}","starred_url":"https://api.github.com/users/aramatev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aramatev/subscriptions","organizations_url":"https://api.github.com/users/aramatev/orgs","repos_url":"https://api.github.com/users/aramatev/repos","events_url":"https://api.github.com/users/aramatev/events{/privacy}","received_events_url":"https://api.github.com/users/aramatev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T13:36:31Z","updated_at":"2019-06-21T13:36:31Z","author_association":"NONE","body":"@ijokarumawak thank you for explaining, with the following I am able to get the performance I desire.\r\n\r\nRun Schedule = 0 sec\r\nWait Penalize Duration = 1 sec\r\nRelease Signal Identifier = ${uuid}\r\n\r\nFrom logging I could see (even on my laptop), its able to loop through about 450+ flowfiles in a second, or rather. Before my wait penalty was too short - at 1ms, so onTrigger() was not able to see the rest of the flowfiles.\r\n\r\nThank you for your work!\r\n\r\n@markap14 The commit looks good, when can we expect this in the product? ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504428325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504548386","html_url":"https://github.com/apache/nifi/pull/3542#issuecomment-504548386","issue_url":"https://api.github.com/repos/apache/nifi/issues/3542","id":504548386,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDU0ODM4Ng==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T19:36:27Z","updated_at":"2019-06-21T19:36:27Z","author_association":"CONTRIBUTOR","body":"Reviewing...","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504548386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504560446","html_url":"https://github.com/apache/nifi/pull/3015#issuecomment-504560446","issue_url":"https://api.github.com/repos/apache/nifi/issues/3015","id":504560446,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDU2MDQ0Ng==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T20:20:15Z","updated_at":"2019-06-21T20:20:15Z","author_association":"CONTRIBUTOR","body":"@jtstorck I'm going to try to pare down the use of groovy-all.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504560446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504563475","html_url":"https://github.com/apache/nifi/pull/3015#issuecomment-504563475","issue_url":"https://api.github.com/repos/apache/nifi/issues/3015","id":504563475,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDU2MzQ3NQ==","user":{"login":"jtstorck","id":19271493,"node_id":"MDQ6VXNlcjE5MjcxNDkz","avatar_url":"https://avatars.githubusercontent.com/u/19271493?v=4","gravatar_id":"","url":"https://api.github.com/users/jtstorck","html_url":"https://github.com/jtstorck","followers_url":"https://api.github.com/users/jtstorck/followers","following_url":"https://api.github.com/users/jtstorck/following{/other_user}","gists_url":"https://api.github.com/users/jtstorck/gists{/gist_id}","starred_url":"https://api.github.com/users/jtstorck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtstorck/subscriptions","organizations_url":"https://api.github.com/users/jtstorck/orgs","repos_url":"https://api.github.com/users/jtstorck/repos","events_url":"https://api.github.com/users/jtstorck/events{/privacy}","received_events_url":"https://api.github.com/users/jtstorck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-21T20:31:33Z","updated_at":"2019-06-21T20:32:04Z","author_association":"CONTRIBUTOR","body":"@MikeThomsen I'll be pushing a rebased [PR 3404](https://github.com/apache/nifi/pull/3404) fairly soon, which already includes replacing `groovy-all` with all the individual modules, and adds the needed modules to each lowest-level POM.  It is that way on the current PR, if you want to take a look, though some of the changes are spread across a few commits, mainly [this one](https://github.com/apache/nifi/pull/3404/commits/4cd8de1f1753d460072e5ae94b5a50493e8beda6).\r\n\r\nRight now, I'm working on fixing some tests on my local rebase, and currently have the `groovy` dependency version set to 2.5.7.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504563475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504636451","html_url":"https://github.com/apache/nifi/pull/2956#issuecomment-504636451","issue_url":"https://api.github.com/repos/apache/nifi/issues/2956","id":504636451,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYzNjQ1MQ==","user":{"login":"mans2singh","id":8467404,"node_id":"MDQ6VXNlcjg0Njc0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/8467404?v=4","gravatar_id":"","url":"https://api.github.com/users/mans2singh","html_url":"https://github.com/mans2singh","followers_url":"https://api.github.com/users/mans2singh/followers","following_url":"https://api.github.com/users/mans2singh/following{/other_user}","gists_url":"https://api.github.com/users/mans2singh/gists{/gist_id}","starred_url":"https://api.github.com/users/mans2singh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mans2singh/subscriptions","organizations_url":"https://api.github.com/users/mans2singh/orgs","repos_url":"https://api.github.com/users/mans2singh/repos","events_url":"https://api.github.com/users/mans2singh/events{/privacy}","received_events_url":"https://api.github.com/users/mans2singh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T06:39:07Z","updated_at":"2019-06-22T06:39:07Z","author_association":"CONTRIBUTOR","body":"Closing this request","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504636451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504636656","html_url":"https://github.com/apache/nifi/pull/2956#issuecomment-504636656","issue_url":"https://api.github.com/repos/apache/nifi/issues/2956","id":504636656,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDYzNjY1Ng==","user":{"login":"mans2singh","id":8467404,"node_id":"MDQ6VXNlcjg0Njc0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/8467404?v=4","gravatar_id":"","url":"https://api.github.com/users/mans2singh","html_url":"https://github.com/mans2singh","followers_url":"https://api.github.com/users/mans2singh/followers","following_url":"https://api.github.com/users/mans2singh/following{/other_user}","gists_url":"https://api.github.com/users/mans2singh/gists{/gist_id}","starred_url":"https://api.github.com/users/mans2singh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mans2singh/subscriptions","organizations_url":"https://api.github.com/users/mans2singh/orgs","repos_url":"https://api.github.com/users/mans2singh/repos","events_url":"https://api.github.com/users/mans2singh/events{/privacy}","received_events_url":"https://api.github.com/users/mans2singh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T06:42:59Z","updated_at":"2019-06-22T06:42:59Z","author_association":"CONTRIBUTOR","body":"Thanks @MikeThomsen @ottobackwards @alopresto @mattyb149 @thenatog @joewitt and everyone for your advice/guidance.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504636656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504655607","html_url":"https://github.com/apache/nifi/pull/3015#issuecomment-504655607","issue_url":"https://api.github.com/repos/apache/nifi/issues/3015","id":504655607,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDY1NTYwNw==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-22T10:58:07Z","updated_at":"2019-06-22T10:58:07Z","author_association":"CONTRIBUTOR","body":"@jtstorck I spent a lot of time last night going down a rabbit hole with `nifi-toolkit` trying to break things up, upgrade Spock, etc. I'm leaving this one as-is for now.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/504655607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]