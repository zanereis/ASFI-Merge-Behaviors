[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600734519","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600734519","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600734519,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDczNDUxOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T16:34:02Z","updated_at":"2020-03-18T16:34:02Z","author_association":"CONTRIBUTOR","body":">  HiveStorageHandler only supports the mapred API\r\n\r\nSounds good then.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600734519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600737509","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600737509","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600737509,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDczNzUwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T16:39:24Z","updated_at":"2020-03-18T16:39:24Z","author_association":"CONTRIBUTOR","body":"> Three main things I need feedback on\r\n> 1. In Memory data model approach\r\n> 2. Logic for handling identity partition columns\r\n> 3. How we do address mapred inputformat as described above.\r\n\r\n1. I like how it works now.\r\n2. I commented above; I think we need to configure the readers with a map from ID to value and have them insert identity-partition values at the right place. This is a larger issue than just this `InputFormat` because it also affects Spark (#585).\r\n3. The `mapred` and `mapreduce` classes aren't all that different. I'd prefer to either wrap or make common utilities used by the two in Iceberg, rather than relying on a dependency that we have to worry about.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600737509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600749322","html_url":"https://github.com/apache/iceberg/pull/780#issuecomment-600749322","issue_url":"https://api.github.com/repos/apache/iceberg/issues/780","id":600749322,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDc0OTMyMg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T17:01:32Z","updated_at":"2020-03-18T17:01:32Z","author_association":"CONTRIBUTOR","body":"Since we want to build actions for things like cleaning up orphan files, we can use this utility class there.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600749322/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600759190","html_url":"https://github.com/apache/iceberg/pull/780#issuecomment-600759190","issue_url":"https://api.github.com/repos/apache/iceberg/issues/780","id":600759190,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDc1OTE5MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T17:19:28Z","updated_at":"2020-03-18T17:19:28Z","author_association":"CONTRIBUTOR","body":"@yathindranath, that sounds good to me. I'll close this one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600759190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600762285","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600762285","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600762285,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDc2MjI4NQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T17:25:36Z","updated_at":"2020-03-18T17:25:36Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue \r\nFor identity partitioning, I'll keep the current code and we can address it later through #585 \r\nFor mapred I think once the mapreduce API gets committed we can see how best to refactor to support mapred API","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600762285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600763644","html_url":"https://github.com/apache/iceberg/pull/819#issuecomment-600763644","issue_url":"https://api.github.com/repos/apache/iceberg/issues/819","id":600763644,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDc2MzY0NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T17:28:09Z","updated_at":"2020-03-18T17:28:09Z","author_association":"CONTRIBUTOR","body":"Thanks, @jun-he! It looks close, just need to combine the first version with this one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600763644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600874095","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-600874095","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":600874095,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDg3NDA5NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T21:44:15Z","updated_at":"2020-03-18T21:44:15Z","author_association":"CONTRIBUTOR","body":"> We now use ZoneId and ZonedDateTime instead of ZoneOffset and OffsetDateTime\r\n\r\nAvro and Parquet currently return OffsetDateTime and LocalDateTime for timestamptz and timestamp. The values returned for all 3 formats should match so that users can expect consistent classes. So we should either use OffsetDateTime, or change all 3 to use ZonedDateTime.\r\n\r\nI think we should continue to use OffsetDateTime, but I'm up for hearing why we should use ZonedDateTime. The rationale for OffsetDateTime is that we don't store zone information. All timestamps are converted to an instant that is the same across all zones. We pass that instant back as a UTC value for convenience, but Iceberg doesn't interpret that instant with respect to some zone. Conversions are the responsibility of processing engines, Iceberg just stores values and returns them unmodified.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600874095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600902410","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-600902410","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":600902410,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDkwMjQxMA==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T23:07:24Z","updated_at":"2020-03-18T23:11:40Z","author_association":"CONTRIBUTOR","body":"@rdblue The use case is a bit different here. The end user Java object is still LocalDateTime for timestamp and OffsetDateTime for timestamptz. The timestamptz implementation for ORC still uses OffsetDateTime internally and is consistent with Avro and Parquet. I perhaps should have made the comment more clearer.\r\n\r\nTL;DR\r\nFor timestamptz, its the same across all 3 formats\r\nFor timestamp,\r\n```\r\nAvro & Parquet: LocalDateTime -> OffsetDateTime -> File -> OffsetDateTime -> LocalDateTime\r\nORC:            LocalDateTime -> ZonedDateTime  -> File -> ZonedDateTime  -> LocalDateTime\r\n```\r\n\r\nDetails:\r\nThis is in relation to timestamp. In Avro and Parquet we model LocalDateTime as a UTC OffsetDateTime and store it as int64 then reverse it on the read side to get OffsetDateTime and strip out the UTC zone to get back LocalDateTime. ORC already has support for Timestamp; check \"timestamp with local time zone\" in https://orc.apache.org/docs/types.html at the end. You basically provide ORC time since UTC epoch in the current writer timezone, ORC will store the time and writer timezone. During reads, ORC will compare the reader and writer timezone and apply the necessary offset to return time since UTC epoch in the reader timezone which would be equivalent to the local time on the writers side.\r\n\r\nSo here, we use ZonedDateTime to convert LocalDateTime into the \"writer timezone specific time\" before passing to ORC. OffsetDateTime wont work here because the \"writer timezone specific time\" is sensitive to the DST rules within the timezone and so the offset may not be constant for all dates. On the read side we deserialize into a ZonedDateTime and then return LocalDateTime.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600902410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600909913","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-600909913","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":600909913,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDkwOTkxMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T23:35:55Z","updated_at":"2020-03-18T23:35:55Z","author_association":"CONTRIBUTOR","body":"Avro and Parquet use OffsetDateTime just to get the microseconds from epoch. It isn't changing the value at all. It looks like ZoneDateTime code here relies on the environment and modifies the value -- I don't think that is correct. If there is any situation where a combination of environment time zones modifies the value between write and read, it is incorrect.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600909913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600952633","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-600952633","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":600952633,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDk1MjYzMw==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T02:22:11Z","updated_at":"2020-03-19T02:30:22Z","author_association":"CONTRIBUTOR","body":"The code internally does modify the value between timezones, but it does it in such a way that the end result (LocalDateTime) is the same. It does depend the environment time zones though. If that is not acceptable, then we cannot use the Timestamp type from ORC. We can use TimestampInstant type from ORC and we can then store micros from epoch assuming UTC just like we do for Avro and Parquet. ORC will not perform any offset manipulation for TimestampInstant.\r\n\r\nLet me know if I should make the change to use TimestampInstant type Iceberg for timestamp. Should we also support reading from ORC Timestamp type into iceberg LocalDateTime for data written by non-Iceberg writers?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600952633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601217516","html_url":"https://github.com/apache/iceberg/pull/851#issuecomment-601217516","issue_url":"https://api.github.com/repos/apache/iceberg/issues/851","id":601217516,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTIxNzUxNg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T14:41:28Z","updated_at":"2020-03-19T14:41:28Z","author_association":"CONTRIBUTOR","body":"@leoluan2009 would it make sense to have tests for it.\r\nIceberg already has a few tests written for IcebergGenerics which work on Parquet and Avro. Maybe all we need to do it enable it for ORC as well?\r\n\r\nThe class I'm talking about is `org.apache.iceberg.data.TestLocalScan`. It currently supports Avro, and Parquet like so\r\n```\r\n @Parameterized.Parameters\r\n  public static Object[][] parameters() {\r\n    return new Object[][] {\r\n        new Object[] { \"parquet\" },\r\n        new Object[] { \"avro\" }\r\n    };\r\n  }\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601217516/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601277281","html_url":"https://github.com/apache/iceberg/pull/850#issuecomment-601277281","issue_url":"https://api.github.com/repos/apache/iceberg/issues/850","id":601277281,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTI3NzI4MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T16:27:03Z","updated_at":"2020-03-19T16:27:03Z","author_association":"CONTRIBUTOR","body":"@leoluan2009, we shouldn't change this until we also start testing with higher versions of Java. That's what #577 is adding, but tests currently fail because of transitive Spark 2.4.4 dependencies.\r\n\r\nI think this is blocked until that issue is resolved. Is it okay if I close this in favor of working on it under #577?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601277281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601330499","html_url":"https://github.com/apache/iceberg/pull/853#issuecomment-601330499","issue_url":"https://api.github.com/repos/apache/iceberg/issues/853","id":601330499,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTMzMDQ5OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T18:02:02Z","updated_at":"2020-03-19T18:02:02Z","author_association":"CONTRIBUTOR","body":"Looks like tests are failing because the vectorized readers are missing. What about removing the vectorized and batch classes and just making the read-side changes?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601330499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601337322","html_url":"https://github.com/apache/iceberg/pull/678#issuecomment-601337322","issue_url":"https://api.github.com/repos/apache/iceberg/issues/678","id":601337322,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTMzNzMyMg==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T18:16:31Z","updated_at":"2020-03-19T18:16:31Z","author_association":"CONTRIBUTOR","body":"I believe all the outstanding comments on this have been addressed. Is there anything else blocking it from being merged? I just worry the longer we leave it here the more stale it will go...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601337322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601341037","html_url":"https://github.com/apache/iceberg/pull/678#issuecomment-601341037","issue_url":"https://api.github.com/repos/apache/iceberg/issues/678","id":601341037,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTM0MTAzNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T18:24:14Z","updated_at":"2020-03-19T18:24:14Z","author_association":"CONTRIBUTOR","body":"I'll take another look at this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601341037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601342101","html_url":"https://github.com/apache/iceberg/pull/678#issuecomment-601342101","issue_url":"https://api.github.com/repos/apache/iceberg/issues/678","id":601342101,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTM0MjEwMQ==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T18:26:19Z","updated_at":"2020-03-19T18:26:19Z","author_association":"CONTRIBUTOR","body":"Thank you, if anything needs updating due to changes since it was first opened let us know and we'll sort it out.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601342101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601368080","html_url":"https://github.com/apache/iceberg/pull/853#issuecomment-601368080","issue_url":"https://api.github.com/repos/apache/iceberg/issues/853","id":601368080,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTM2ODA4MA==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T19:17:55Z","updated_at":"2020-03-19T19:17:55Z","author_association":"COLLABORATOR","body":"Updated the PR removing any vectorized read related changes. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601368080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601375442","html_url":"https://github.com/apache/iceberg/pull/839#issuecomment-601375442","issue_url":"https://api.github.com/repos/apache/iceberg/issues/839","id":601375442,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTM3NTQ0Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T19:28:41Z","updated_at":"2020-03-19T19:28:41Z","author_association":"CONTRIBUTOR","body":"@rdsr, good to commit this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601375442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601383995","html_url":"https://github.com/apache/iceberg/pull/839#issuecomment-601383995","issue_url":"https://api.github.com/repos/apache/iceberg/issues/839","id":601383995,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTM4Mzk5NQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T19:50:11Z","updated_at":"2020-03-19T19:50:11Z","author_association":"CONTRIBUTOR","body":"+1 . I'll commit this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601383995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601403812","html_url":"https://github.com/apache/iceberg/pull/839#issuecomment-601403812","issue_url":"https://api.github.com/repos/apache/iceberg/issues/839","id":601403812,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTQwMzgxMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T20:35:09Z","updated_at":"2020-03-19T20:35:09Z","author_association":"CONTRIBUTOR","body":"Thanks for merging and reviewing, @rdsr and @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601403812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601507745","html_url":"https://github.com/apache/iceberg/pull/850#issuecomment-601507745","issue_url":"https://api.github.com/repos/apache/iceberg/issues/850","id":601507745,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTUwNzc0NQ==","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T03:17:19Z","updated_at":"2020-03-20T03:17:19Z","author_association":"CONTRIBUTOR","body":"@rdblue  Thanks for your review, and I agree with your comment and will close this PR.\r\nThanks again!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601507745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601508097","html_url":"https://github.com/apache/iceberg/pull/851#issuecomment-601508097","issue_url":"https://api.github.com/repos/apache/iceberg/issues/851","id":601508097,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTUwODA5Nw==","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T03:19:24Z","updated_at":"2020-03-20T03:19:24Z","author_association":"CONTRIBUTOR","body":"@rdsr  Thanks for your review, and I will add some tests later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601508097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601809301","html_url":"https://github.com/apache/iceberg/issues/567#issuecomment-601809301","issue_url":"https://api.github.com/repos/apache/iceberg/issues/567","id":601809301,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTgwOTMwMQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T17:02:39Z","updated_at":"2020-03-20T17:03:34Z","author_association":"CONTRIBUTOR","body":"Here comes the WIP PR for Flink Iceberg sink: https://github.com/apache/incubator-iceberg/pull/856.\r\n@bowenli86 @openinx @aokolnychyi @chenjunjiedada @jerryshao @stevenzwu \r\n\r\nPlease note that It is only a workable version, and needs to be improved and polished.\r\nI will sum up a users' guide and the to-do list later. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/601809301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602183676","html_url":"https://github.com/apache/iceberg/issues/860#issuecomment-602183676","issue_url":"https://api.github.com/repos/apache/iceberg/issues/860","id":602183676,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjE4MzY3Ng==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T11:20:16Z","updated_at":"2020-03-22T11:20:16Z","author_association":"MEMBER","body":"@yiguolei , I think you may want to read this message :-)  https://lists.apache.org/thread.html/r9ad6fccf6bdeb48b5471ba079271163c7cdb2a9bda810bfa3fdb84a4%40%3Cdev.iceberg.apache.org%3E\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602183676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602292464","html_url":"https://github.com/apache/iceberg/pull/861#issuecomment-602292464","issue_url":"https://api.github.com/repos/apache/iceberg/issues/861","id":602292464,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjI5MjQ2NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T23:16:25Z","updated_at":"2020-03-22T23:16:25Z","author_association":"CONTRIBUTOR","body":"Thanks! Always great to remove unnecessary dependencies!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602292464/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602298100","html_url":"https://github.com/apache/iceberg/pull/851#issuecomment-602298100","issue_url":"https://api.github.com/repos/apache/iceberg/issues/851","id":602298100,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjI5ODEwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T23:36:11Z","updated_at":"2020-03-22T23:36:11Z","author_association":"CONTRIBUTOR","body":"Looks good to me, thanks @leoluan2009!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602298100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602299436","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-602299436","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":602299436,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjI5OTQzNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T23:45:41Z","updated_at":"2020-03-22T23:45:41Z","author_association":"CONTRIBUTOR","body":"> It does depend the environment time zones though. If that is not acceptable, then we cannot use the Timestamp type from ORC.\r\n\r\nYeah, that doesn't work. Storage (Iceberg and file formats) should not be responsible for modifying values and it should never be possible to get a different answer if the environment time zone changes between read and write time. Iceberg always returns the exact same value on read that was passed in on write, but it also keeps enough metadata that the engine can decide whether to transform the value to display to the user (adjust-to-utc settings in Parquet and Avro).\r\n\r\nFrom the [ORC docs](https://orc.apache.org/docs/types.html#timestamps), timestamp with local time zone \"does change based on the time zone of the reader\" so we should never use it. Instead, let's use regular timestamp with a UTC value for both Iceberg `timestamp` and `timestamptz`. We should also add metadata to the timestamp types to encode `adjust-to-utc` like Parquet and Avro. `timestamp` uses `adjust-to-utc=false` and `timestamptz` uses `adjust-to-utc=true`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602299436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602301304","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-602301304","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":602301304,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjMwMTMwNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T23:59:44Z","updated_at":"2020-03-22T23:59:44Z","author_association":"CONTRIBUTOR","body":"Thanks, @shardulm94! I did a more thorough check. Looks pretty good other than the timestamp issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602301304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602301741","html_url":"https://github.com/apache/iceberg/pull/819#issuecomment-602301741","issue_url":"https://api.github.com/repos/apache/iceberg/issues/819","id":602301741,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjMwMTc0MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T00:02:04Z","updated_at":"2020-03-23T00:02:04Z","author_association":"CONTRIBUTOR","body":"Looks good other than the property name. Thanks @jun-he!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602301741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602364427","html_url":"https://github.com/apache/iceberg/pull/856#issuecomment-602364427","issue_url":"https://api.github.com/repos/apache/iceberg/issues/856","id":602364427,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjM2NDQyNw==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T03:22:12Z","updated_at":"2020-03-23T03:22:36Z","author_association":"CONTRIBUTOR","body":"IMO, I think this PR is too big to review, we should break down into small tasks and submitted one by one. \r\n\r\nBesides, we should have a design doc about this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602364427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602364921","html_url":"https://github.com/apache/iceberg/pull/819#issuecomment-602364921","issue_url":"https://api.github.com/repos/apache/iceberg/issues/819","id":602364921,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjM2NDkyMQ==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T03:24:35Z","updated_at":"2020-03-23T03:24:35Z","author_association":"COLLABORATOR","body":"@rdblue Thanks for the review! Updated the PR accordingly.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602364921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602377013","html_url":"https://github.com/apache/iceberg/pull/845#issuecomment-602377013","issue_url":"https://api.github.com/repos/apache/iceberg/issues/845","id":602377013,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjM3NzAxMw==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T04:21:47Z","updated_at":"2020-03-23T04:21:47Z","author_association":"COLLABORATOR","body":"@rdblue can you please take a look? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602377013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602419397","html_url":"https://github.com/apache/iceberg/issues/825#issuecomment-602419397","issue_url":"https://api.github.com/repos/apache/iceberg/issues/825","id":602419397,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjQxOTM5Nw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T06:58:36Z","updated_at":"2020-03-23T06:58:36Z","author_association":"MEMBER","body":"@rdblue , from the perspective of flink, the iceberg update/delete feature should not depend on any spark-binded feature I think.  Any detail about the spark addition meta columns projection ?  I would see whether it work in flink, Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602419397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602495467","html_url":"https://github.com/apache/iceberg/issues/859#issuecomment-602495467","issue_url":"https://api.github.com/repos/apache/iceberg/issues/859","id":602495467,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjQ5NTQ2Nw==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T10:00:25Z","updated_at":"2020-03-23T10:00:25Z","author_association":"CONTRIBUTOR","body":"I like this idea. The features like snapshot isolation are quite useful in different areas.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602495467/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602495928","html_url":"https://github.com/apache/iceberg/issues/858#issuecomment-602495928","issue_url":"https://api.github.com/repos/apache/iceberg/issues/858","id":602495928,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjQ5NTkyOA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T10:01:13Z","updated_at":"2020-03-23T10:01:13Z","author_association":"CONTRIBUTOR","body":"We already support this in Gradle.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602495928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602669509","html_url":"https://github.com/apache/iceberg/pull/856#issuecomment-602669509","issue_url":"https://api.github.com/repos/apache/iceberg/issues/856","id":602669509,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjY2OTUwOQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T15:20:52Z","updated_at":"2020-03-23T15:20:52Z","author_association":"CONTRIBUTOR","body":"@jerryshao Thanks for the comments!\r\n\r\nYes, I will break it down into tasks/small pieces of code to contain separate functions which are more convenient for reviewers.\r\n\r\nFor the design doc, please take a look at [here](https://docs.google.com/document/d/19M-sP6FlTVm7BV7MM4Om1n_MVo1xCy7GyDl_9ZAjVNQ/edit?usp=sharing) that I just uploaded.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602669509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602677193","html_url":"https://github.com/apache/iceberg/issues/567#issuecomment-602677193","issue_url":"https://api.github.com/repos/apache/iceberg/issues/567","id":602677193,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjY3NzE5Mw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T15:32:54Z","updated_at":"2020-03-23T15:32:54Z","author_association":"CONTRIBUTOR","body":"The design doc extracted as well as future work (still being collected) and sample code is attached [here](https://docs.google.com/document/d/19M-sP6FlTVm7BV7MM4Om1n_MVo1xCy7GyDl_9ZAjVNQ/edit?usp=sharing), in case you are interested.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602677193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602899634","html_url":"https://github.com/apache/iceberg/issues/825#issuecomment-602899634","issue_url":"https://api.github.com/repos/apache/iceberg/issues/825","id":602899634,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjg5OTYzNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T22:51:38Z","updated_at":"2020-03-23T22:51:38Z","author_association":"CONTRIBUTOR","body":"@openinx, what I have working in Spark could be implemented in Flink as well. I've just updated Spark to be able to request additional columns, which I've currently named `_file` and `_pos`. The columns that can be requested are \"metadata columns\" so that `select *` doesn't show them.\r\n\r\nThe same code used to provide the metadata values to Spark could be used for Flink.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602899634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602958245","html_url":"https://github.com/apache/iceberg/issues/567#issuecomment-602958245","issue_url":"https://api.github.com/repos/apache/iceberg/issues/567","id":602958245,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjk1ODI0NQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T01:42:39Z","updated_at":"2020-03-24T01:46:16Z","author_association":"CONTRIBUTOR","body":"Updated the design doc authority to allow comments, thanks for the reminder! @rdblue\r\nHi all, really appreciate it if you have any comments or just leave any questions!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602958245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602989128","html_url":"https://github.com/apache/iceberg/issues/788#issuecomment-602989128","issue_url":"https://api.github.com/repos/apache/iceberg/issues/788","id":602989128,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjk4OTEyOA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T03:18:36Z","updated_at":"2020-03-24T03:18:36Z","author_association":"MEMBER","body":"All the process are tracked in issue #567 , let's close this issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602989128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602998707","html_url":"https://github.com/apache/iceberg/pull/688#issuecomment-602998707","issue_url":"https://api.github.com/repos/apache/iceberg/issues/688","id":602998707,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjk5ODcwNw==","user":{"login":"XiaokunDing","id":3050222,"node_id":"MDQ6VXNlcjMwNTAyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3050222?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaokunDing","html_url":"https://github.com/XiaokunDing","followers_url":"https://api.github.com/users/XiaokunDing/followers","following_url":"https://api.github.com/users/XiaokunDing/following{/other_user}","gists_url":"https://api.github.com/users/XiaokunDing/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaokunDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaokunDing/subscriptions","organizations_url":"https://api.github.com/users/XiaokunDing/orgs","repos_url":"https://api.github.com/users/XiaokunDing/repos","events_url":"https://api.github.com/users/XiaokunDing/events{/privacy}","received_events_url":"https://api.github.com/users/XiaokunDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T03:52:27Z","updated_at":"2020-03-24T04:30:50Z","author_association":"CONTRIBUTOR","body":"@rdblue HI Ryan would you mind to take another look or give some advices on next steps？ thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/602998707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603150605","html_url":"https://github.com/apache/iceberg/pull/851#issuecomment-603150605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/851","id":603150605,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzE1MDYwNQ==","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T10:15:56Z","updated_at":"2020-03-24T10:15:56Z","author_association":"CONTRIBUTOR","body":"Thank you to merge, @rdsr and @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603150605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603205253","html_url":"https://github.com/apache/iceberg/issues/858#issuecomment-603205253","issue_url":"https://api.github.com/repos/apache/iceberg/issues/858","id":603205253,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzIwNTI1Mw==","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T12:17:10Z","updated_at":"2020-03-24T12:17:10Z","author_association":"CONTRIBUTOR","body":"Thanks, @jerryshao, I close this issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603205253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603533198","html_url":"https://github.com/apache/iceberg/pull/863#issuecomment-603533198","issue_url":"https://api.github.com/repos/apache/iceberg/issues/863","id":603533198,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzUzMzE5OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T22:15:44Z","updated_at":"2020-03-24T22:15:44Z","author_association":"CONTRIBUTOR","body":"Thanks, @wangmiao1981! Looks great.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603533198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603600492","html_url":"https://github.com/apache/iceberg/issues/836#issuecomment-603600492","issue_url":"https://api.github.com/repos/apache/iceberg/issues/836","id":603600492,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzYwMDQ5Mg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T02:11:43Z","updated_at":"2020-03-25T02:11:43Z","author_association":"COLLABORATOR","body":"I found it is addressed by this PR: https://github.com/apache/incubator-iceberg/pull/845.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603600492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603752699","html_url":"https://github.com/apache/iceberg/pull/856#issuecomment-603752699","issue_url":"https://api.github.com/repos/apache/iceberg/issues/856","id":603752699,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzc1MjY5OQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T10:06:20Z","updated_at":"2020-03-25T10:06:20Z","author_association":"CONTRIBUTOR","body":"@rdblue @openinx Thanks very much for your time to review and comment!\r\n\r\nI am working on some of them and opened [a few issues](https://github.com/apache/incubator-iceberg/issues?q=is%3Aissue+is%3Aopen+flink+sink) to track other relative bigger ones. In the future, commits will be made in terms of issues, making it more convenient for reviewing and tracking.\r\n\r\n@rdblue mind creating a milestone for Flink Iceberg sink?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603752699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603990842","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-603990842","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":603990842,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzk5MDg0Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T17:53:26Z","updated_at":"2020-03-25T17:53:26Z","author_association":"CONTRIBUTOR","body":"@rdsr, the implementation looks good to me. Just need more tests, like @jerryshao pointed out.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/603990842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604003198","html_url":"https://github.com/apache/iceberg/issues/869#issuecomment-604003198","issue_url":"https://api.github.com/repos/apache/iceberg/issues/869","id":604003198,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDAwMzE5OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T18:16:05Z","updated_at":"2020-03-25T18:16:05Z","author_association":"CONTRIBUTOR","body":"It is valid-through timestamp.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604003198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604004463","html_url":"https://github.com/apache/iceberg/pull/856#issuecomment-604004463","issue_url":"https://api.github.com/repos/apache/iceberg/issues/856","id":604004463,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDAwNDQ2Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T18:18:42Z","updated_at":"2020-03-25T18:18:42Z","author_association":"CONTRIBUTOR","body":"I created the milestone for a Flink sink. Looks like most of the issues are to remove things from this PR, but we don't want to commit this before those are done. You might consider breaking up the work into issues that describe a reasonable order to add needed parts of this PR to Iceberg, instead of remove unnecessary parts of this PR from your branch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604004463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604128520","html_url":"https://github.com/apache/iceberg/issues/825#issuecomment-604128520","issue_url":"https://api.github.com/repos/apache/iceberg/issues/825","id":604128520,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDEyODUyMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T22:52:06Z","updated_at":"2020-03-25T22:52:06Z","author_association":"CONTRIBUTOR","body":"Here's the Spark PR that adds metadata columns: https://github.com/apache/spark/pull/28027\r\n\r\nI just ported that over from our internal branch, where we have it working and can project `_file` from Iceberg tables. I still need to add unit tests for it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604128520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604170213","html_url":"https://github.com/apache/iceberg/issues/855#issuecomment-604170213","issue_url":"https://api.github.com/repos/apache/iceberg/issues/855","id":604170213,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDE3MDIxMw==","user":{"login":"venkata91","id":8871522,"node_id":"MDQ6VXNlcjg4NzE1MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8871522?v=4","gravatar_id":"","url":"https://api.github.com/users/venkata91","html_url":"https://github.com/venkata91","followers_url":"https://api.github.com/users/venkata91/followers","following_url":"https://api.github.com/users/venkata91/following{/other_user}","gists_url":"https://api.github.com/users/venkata91/gists{/gist_id}","starred_url":"https://api.github.com/users/venkata91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/venkata91/subscriptions","organizations_url":"https://api.github.com/users/venkata91/orgs","repos_url":"https://api.github.com/users/venkata91/repos","events_url":"https://api.github.com/users/venkata91/events{/privacy}","received_events_url":"https://api.github.com/users/venkata91/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T01:08:41Z","updated_at":"2020-03-26T01:08:41Z","author_association":"CONTRIBUTOR","body":"@shawnding are you working on this issue?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604170213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604181907","html_url":"https://github.com/apache/iceberg/issues/855#issuecomment-604181907","issue_url":"https://api.github.com/repos/apache/iceberg/issues/855","id":604181907,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDE4MTkwNw==","user":{"login":"XiaokunDing","id":3050222,"node_id":"MDQ6VXNlcjMwNTAyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3050222?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaokunDing","html_url":"https://github.com/XiaokunDing","followers_url":"https://api.github.com/users/XiaokunDing/followers","following_url":"https://api.github.com/users/XiaokunDing/following{/other_user}","gists_url":"https://api.github.com/users/XiaokunDing/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaokunDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaokunDing/subscriptions","organizations_url":"https://api.github.com/users/XiaokunDing/orgs","repos_url":"https://api.github.com/users/XiaokunDing/repos","events_url":"https://api.github.com/users/XiaokunDing/events{/privacy}","received_events_url":"https://api.github.com/users/XiaokunDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T01:51:57Z","updated_at":"2020-03-26T01:51:57Z","author_association":"CONTRIBUTOR","body":"@venkata91 Yes I am working on this.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604181907/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604189382","html_url":"https://github.com/apache/iceberg/issues/359#issuecomment-604189382","issue_url":"https://api.github.com/repos/apache/iceberg/issues/359","id":604189382,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDE4OTM4Mg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T02:19:09Z","updated_at":"2020-03-26T02:19:09Z","author_association":"COLLABORATOR","body":"Just FYI, I did an early PoC based on file and position deletion files [here](https://github.com/chenjunjiedada/incubator-iceberg/tree/row-level-delete). Since the file name should be most same so I store it as parquet file for dictionary encoding.  I will submit a PR for this soon.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604189382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604207408","html_url":"https://github.com/apache/iceberg/issues/825#issuecomment-604207408","issue_url":"https://api.github.com/repos/apache/iceberg/issues/825","id":604207408,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDIwNzQwOA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T03:26:50Z","updated_at":"2020-03-26T03:26:50Z","author_association":"CONTRIBUTOR","body":"@rdblue I have a question about metadata columns defined in Spark. IIUC, if we want to merge base file and delete file, the file needs to be sorted by metadata column, this should be done by compute framework, shall we require metadata columns to be sorted? If not, how do we merge the base file and delete files?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604207408/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604674661","html_url":"https://github.com/apache/iceberg/issues/825#issuecomment-604674661","issue_url":"https://api.github.com/repos/apache/iceberg/issues/825","id":604674661,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDY3NDY2MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T20:42:38Z","updated_at":"2020-03-26T20:42:38Z","author_association":"CONTRIBUTOR","body":"Metadata columns are a way to project extra fields on read. That allows us to attach identifying information to each row: the data file and the row's position in that file. There is no need to sort this on read. But when writing out a set of rows to delete, we want Spark to cluster the data by file and order by position, ascending. This is where we would use Anton's proposal to request a sort order from a write exec node. That way, Spark would insert the necessary shuffles and sorts to cluster data by file and locally order by file and position.\r\n\r\nDoes that make sense?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604674661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604712729","html_url":"https://github.com/apache/iceberg/issues/359#issuecomment-604712729","issue_url":"https://api.github.com/repos/apache/iceberg/issues/359","id":604712729,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDcxMjcyOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T22:08:36Z","updated_at":"2020-03-26T22:08:36Z","author_association":"CONTRIBUTOR","body":"I think the delete file format (Avro, Parquet, ORC) should be up to the implementation. I would use the table's default format. That is normally Parquet, but ORC users would probably want both data and delete files to be ORC. Similarly, Avro doesn't require additional modules, so if a table sets its format to Avro then it makes sense to also use Avro for deletes.\r\n\r\nLooking forward to a read/writer PR for this. Thank you, @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604712729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604766974","html_url":"https://github.com/apache/iceberg/issues/859#issuecomment-604766974","issue_url":"https://api.github.com/repos/apache/iceberg/issues/859","id":604766974,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDc2Njk3NA==","user":{"login":"XiaokunDing","id":3050222,"node_id":"MDQ6VXNlcjMwNTAyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3050222?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaokunDing","html_url":"https://github.com/XiaokunDing","followers_url":"https://api.github.com/users/XiaokunDing/followers","following_url":"https://api.github.com/users/XiaokunDing/following{/other_user}","gists_url":"https://api.github.com/users/XiaokunDing/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaokunDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaokunDing/subscriptions","organizations_url":"https://api.github.com/users/XiaokunDing/orgs","repos_url":"https://api.github.com/users/XiaokunDing/repos","events_url":"https://api.github.com/users/XiaokunDing/events{/privacy}","received_events_url":"https://api.github.com/users/XiaokunDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T01:22:15Z","updated_at":"2020-03-27T01:22:15Z","author_association":"CONTRIBUTOR","body":"Awesome. In ML area, user could save the  multiple versions embedded data to Iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604766974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604773685","html_url":"https://github.com/apache/iceberg/issues/825#issuecomment-604773685","issue_url":"https://api.github.com/repos/apache/iceberg/issues/825","id":604773685,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDc3MzY4NQ==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T01:50:51Z","updated_at":"2020-03-27T01:50:51Z","author_association":"CONTRIBUTOR","body":"> But when writing out a set of rows to delete, we want Spark to cluster the data by file and order by position, ascending. This is where we would use Anton's proposal to request a sort order from a write exec node. That way, Spark would insert the necessary shuffles and sorts to cluster data by file and locally order by file and position.\r\n\r\nYes, that's actually what I asked. Adding metadata columns may not be enough for the readers to merge the base and diff files efficiently. I saw @aokolnychyi 's proposal about this, was thinking that proposal should be related to this thing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604773685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604780100","html_url":"https://github.com/apache/iceberg/pull/678#issuecomment-604780100","issue_url":"https://api.github.com/repos/apache/iceberg/issues/678","id":604780100,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDc4MDEwMA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T02:19:27Z","updated_at":"2020-03-27T02:30:35Z","author_association":"CONTRIBUTOR","body":"My two concerns about this example:\r\n\r\n1. Shall we have a common example module, or modules for each engine. My concern is that as we're adding support for different engines, we would add more examples codes for different engined, then including different dependencies could be a hard-to-solve problem.\r\n2. I'm not so sure about the advantages of using UTs to show the examples. It seems to me a little strange. Yes, this is easy to debug and modify, but not easy to run on a real cluster by `spark-submit`, which also gives the user the impression of UTs rather than real examples. I don't have a objection on this, just a little concern about the choice.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604780100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604783158","html_url":"https://github.com/apache/iceberg/issues/825#issuecomment-604783158","issue_url":"https://api.github.com/repos/apache/iceberg/issues/825","id":604783158,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDc4MzE1OA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T02:32:27Z","updated_at":"2020-03-27T02:32:27Z","author_association":"COLLABORATOR","body":"I was thinking to abstract the left join logic to handle both sorted case and unsorted case according to the column's sort property. In the case of unsorted one or small deletion files, we could do the hash join. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604783158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604820906","html_url":"https://github.com/apache/iceberg/issues/359#issuecomment-604820906","issue_url":"https://api.github.com/repos/apache/iceberg/issues/359","id":604820906,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDgyMDkwNg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T05:21:51Z","updated_at":"2020-03-27T05:21:51Z","author_association":"COLLABORATOR","body":"Make sense. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604820906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604825958","html_url":"https://github.com/apache/iceberg/issues/824#issuecomment-604825958","issue_url":"https://api.github.com/repos/apache/iceberg/issues/824","id":604825958,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDgyNTk1OA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T05:43:33Z","updated_at":"2020-03-27T06:54:59Z","author_association":"COLLABORATOR","body":"@openinx FYI, Just change the title for naming since the deletion file is a data file too, so using `file_type` would be more clear, I removed `data` prefix because the data structure is already data_file.  \r\n\r\nAnd it should be defined as optional since there may be existing data files in the table. The actual stored values of `file_type` could be:\r\n\r\n- null: normal data file that has the defined table schema, the default value\r\n- 0: normal data file that has the defined table schema\r\n- 1: file and position based deletion data file that has the schema (_file, _pos)\r\n- 2: column equality-based deletion data file that has the schema (_field_id, _value)\r\n\r\nThe read values should be (0, 1, 2), though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604825958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604867832","html_url":"https://github.com/apache/iceberg/issues/360#issuecomment-604867832","issue_url":"https://api.github.com/repos/apache/iceberg/issues/360","id":604867832,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDg2NzgzMg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T08:02:03Z","updated_at":"2020-03-27T08:02:03Z","author_association":"MEMBER","body":"Let me link this issue to the `file_type` [specification](https://github.com/apache/incubator-iceberg/issues/824).  Discussed with @chenjunjiedada , for a table with columns (a,b,c,d) (the field_ids of a,b,c,d are 0,1,2,3) , we may have the delete query: \r\n\r\n```sql\r\n1. delete from table where a=100 and b = 101;\r\n2. delete from table where b = 101 and c=102 and d=103;\r\n3. delete from table where d=104;\r\n```\r\n\r\nfor the delete differential file, we will have two columns : 1. field_ids ; 2. values.  so the row-delete operations can be encoded as following: \r\n\r\n```\r\n<list(0), list(100, 101)>\r\n<list(1,2,3), list(101, 102, 103)>\r\n<list(3), list(104)>\r\n```\r\nfor the field_ids, we can optimize it by bit map, say it will encode as following (the fields_ids will be a bit_map, the values would be a list\\<binary\\>): \r\n\r\n```\r\n<binary<1000>, list(100, 101)>\r\n<binary<0111> , list(101,102,103)>\r\n<binary<0001>, list(104)>\r\n```\r\nFYI @rdblue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604867832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604960377","html_url":"https://github.com/apache/iceberg/pull/678#issuecomment-604960377","issue_url":"https://api.github.com/repos/apache/iceberg/issues/678","id":604960377,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDk2MDM3Nw==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T11:56:33Z","updated_at":"2020-03-27T11:56:33Z","author_association":"CONTRIBUTOR","body":"> My two concerns about this example:\r\n> \r\n>     1. Shall we have a common example module, or modules for each engine. My concern is that as we're adding support for different engines, we would add more examples codes for different engined, then including different dependencies could be a hard-to-solve problem.\r\n> \r\n>     2. I'm not so sure about the advantages of using UTs to show the examples. It seems to me a little strange. Yes, this is easy to debug and modify, but not easy to run on a real cluster by `spark-submit`, which also gives the user the impression of UTs rather than real examples. I don't have a objection on this, just a little concern about the choice.\r\n\r\n1. We'd be happy to move the code into a module for each engine if the committers prefer that, just let us know.\r\n2. I find unit tests a good starting point as I can just spin them up in my IDE and try things out and then cut and paste code out into other systems as necessary. Our main use case is accessing Iceberg from systems other than Spark so we don't ever run any of this code on a Spark cluster. My suggestion would be to keep the unit test examples for now but of course if anyone wants to add examples that could be run on a Spark cluster that would be nice too, I guess it will just be harder to keep them in synch with the code as they won't run as part of building the project (another nice side effect of having these as test IMHO).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/604960377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605110520","html_url":"https://github.com/apache/iceberg/issues/859#issuecomment-605110520","issue_url":"https://api.github.com/repos/apache/iceberg/issues/859","id":605110520,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTExMDUyMA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T16:58:07Z","updated_at":"2020-03-27T16:58:07Z","author_association":"CONTRIBUTOR","body":"There was a similar proposal described in #118. \r\n\r\nI think it is reasonable to support unstructured data in Iceberg with some limitations (e.g. schema evolution). If we do so, I believe it should be a complete implementation so that people using Spark CSV/JSON sources can migrate to it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605110520/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605302382","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-605302382","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":605302382,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTMwMjM4Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T20:32:26Z","updated_at":"2020-03-27T20:32:26Z","author_association":"CONTRIBUTOR","body":"It is great to see progress on this! I will be taking a close look at the weekend. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605302382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605374888","html_url":"https://github.com/apache/iceberg/pull/857#issuecomment-605374888","issue_url":"https://api.github.com/repos/apache/iceberg/issues/857","id":605374888,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTM3NDg4OA==","user":{"login":"XiaokunDing","id":3050222,"node_id":"MDQ6VXNlcjMwNTAyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3050222?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaokunDing","html_url":"https://github.com/XiaokunDing","followers_url":"https://api.github.com/users/XiaokunDing/followers","following_url":"https://api.github.com/users/XiaokunDing/following{/other_user}","gists_url":"https://api.github.com/users/XiaokunDing/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaokunDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaokunDing/subscriptions","organizations_url":"https://api.github.com/users/XiaokunDing/orgs","repos_url":"https://api.github.com/users/XiaokunDing/repos","events_url":"https://api.github.com/users/XiaokunDing/events{/privacy}","received_events_url":"https://api.github.com/users/XiaokunDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-28T01:27:40Z","updated_at":"2020-03-28T01:27:40Z","author_association":"CONTRIBUTOR","body":"HI @rdsr , would you mind to take another look or give some advices on next steps？ thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605374888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605389161","html_url":"https://github.com/apache/iceberg/pull/819#issuecomment-605389161","issue_url":"https://api.github.com/repos/apache/iceberg/issues/819","id":605389161,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTM4OTE2MQ==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-28T03:41:51Z","updated_at":"2020-03-28T03:41:51Z","author_association":"COLLABORATOR","body":"@aokolnychyi  Thanks for the comments.\r\nI am not sure what's the original reason for hard coded default value. I didn't change it previously as different metadata tables might set different default values. By checking the code, actually they are all the same (32MB). So I moved them into `TableProperties`. \r\nAlso, I added additional tests in `TestDataSourceOptions`. Please take a look. Thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605389161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605522545","html_url":"https://github.com/apache/iceberg/pull/857#issuecomment-605522545","issue_url":"https://api.github.com/repos/apache/iceberg/issues/857","id":605522545,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTUyMjU0NQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-28T21:34:22Z","updated_at":"2020-03-28T21:34:22Z","author_association":"CONTRIBUTOR","body":"Thanks @shawnding . I'll try to review this today!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605522545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605700071","html_url":"https://github.com/apache/iceberg/pull/845#issuecomment-605700071","issue_url":"https://api.github.com/repos/apache/iceberg/issues/845","id":605700071,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTcwMDA3MQ==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-29T20:55:49Z","updated_at":"2020-03-29T20:55:49Z","author_association":"COLLABORATOR","body":"Hi @rdblue, can you please take a look? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605700071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605713446","html_url":"https://github.com/apache/iceberg/pull/877#issuecomment-605713446","issue_url":"https://api.github.com/repos/apache/iceberg/issues/877","id":605713446,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTcxMzQ0Ng==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-29T22:42:23Z","updated_at":"2020-03-29T22:42:23Z","author_association":"COLLABORATOR","body":"LGTM. Thanks for the fix.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/605713446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606104738","html_url":"https://github.com/apache/iceberg/pull/879#issuecomment-606104738","issue_url":"https://api.github.com/repos/apache/iceberg/issues/879","id":606104738,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjEwNDczOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-30T16:30:17Z","updated_at":"2020-03-30T16:30:17Z","author_association":"CONTRIBUTOR","body":"@rdsr, what do you think?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606104738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606105283","html_url":"https://github.com/apache/iceberg/pull/878#issuecomment-606105283","issue_url":"https://api.github.com/repos/apache/iceberg/issues/878","id":606105283,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjEwNTI4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-30T16:31:24Z","updated_at":"2020-03-30T16:31:24Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, could you add a test or two for this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606105283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606105603","html_url":"https://github.com/apache/iceberg/issues/359#issuecomment-606105603","issue_url":"https://api.github.com/repos/apache/iceberg/issues/359","id":606105603,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjEwNTYwMw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-30T16:32:01Z","updated_at":"2020-03-30T16:32:01Z","author_association":"COLLABORATOR","body":"Hi @rdblue , I 'd like to confirm a couple of things to continue:\r\n\r\n1. For the write path, before we have spark [interfaces ](https://docs.google.com/document/d/1X0NsQSryvNmXBY9kcvfINeYyKC-AahZarUqg3nS1GQs/edit#)and [SortOrder](https://github.com/apache/incubator-iceberg/issues/317), my idea is to build a filtered and sorted data frame and save it to staging table, append the added files and then drop staging table metadata.  What do you think?\r\n```java\r\n    dataFrame.select( s\"_file\", s\"_pos\").sort(s\"_file\")\r\n      .write\r\n      .format(\"iceberg\")\r\n      .option(DEFAULT_FILE_FORMAT, format)\r\n      .mode(\"append\")\r\n      .save(tablePath)\r\n```\r\n\r\n2. For the read path, my understanding is we don't want the deletion file filtering logic right now because that depends on the sequence number. So the read path here contains only the logic that extracts the deletion files from scan task and read them as Iterators for mergeInterator. Does this make sense to you?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606105603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606106986","html_url":"https://github.com/apache/iceberg/pull/876#issuecomment-606106986","issue_url":"https://api.github.com/repos/apache/iceberg/issues/876","id":606106986,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjEwNjk4Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-30T16:34:36Z","updated_at":"2020-03-30T16:34:36Z","author_association":"CONTRIBUTOR","body":"Thanks for catching this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606106986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606170653","html_url":"https://github.com/apache/iceberg/issues/881#issuecomment-606170653","issue_url":"https://api.github.com/repos/apache/iceberg/issues/881","id":606170653,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjE3MDY1Mw==","user":{"login":"sudssf","id":10800873,"node_id":"MDQ6VXNlcjEwODAwODcz","avatar_url":"https://avatars.githubusercontent.com/u/10800873?v=4","gravatar_id":"","url":"https://api.github.com/users/sudssf","html_url":"https://github.com/sudssf","followers_url":"https://api.github.com/users/sudssf/followers","following_url":"https://api.github.com/users/sudssf/following{/other_user}","gists_url":"https://api.github.com/users/sudssf/gists{/gist_id}","starred_url":"https://api.github.com/users/sudssf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudssf/subscriptions","organizations_url":"https://api.github.com/users/sudssf/orgs","repos_url":"https://api.github.com/users/sudssf/repos","events_url":"https://api.github.com/users/sudssf/events{/privacy}","received_events_url":"https://api.github.com/users/sudssf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-30T18:37:44Z","updated_at":"2020-03-30T18:37:44Z","author_association":"CONTRIBUTOR","body":"submitted https://github.com/apache/incubator-iceberg/pull/882","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606170653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606208438","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-606208438","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":606208438,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjIwODQzOA==","user":{"login":"omalley","id":206536,"node_id":"MDQ6VXNlcjIwNjUzNg==","avatar_url":"https://avatars.githubusercontent.com/u/206536?v=4","gravatar_id":"","url":"https://api.github.com/users/omalley","html_url":"https://github.com/omalley","followers_url":"https://api.github.com/users/omalley/followers","following_url":"https://api.github.com/users/omalley/following{/other_user}","gists_url":"https://api.github.com/users/omalley/gists{/gist_id}","starred_url":"https://api.github.com/users/omalley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omalley/subscriptions","organizations_url":"https://api.github.com/users/omalley/orgs","repos_url":"https://api.github.com/users/omalley/repos","events_url":"https://api.github.com/users/omalley/events{/privacy}","received_events_url":"https://api.github.com/users/omalley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-30T19:48:35Z","updated_at":"2020-03-30T19:48:35Z","author_association":"CONTRIBUTOR","body":"I think the current usage of the java types is misleading. I think it should be:\r\n- timestamp = LocalDateTime\r\n- timestampz = Instant\r\n\r\nI also find the difference between fixed & unfixed binary to be unexpected. I would use ByteBuffer for both of them, instead of byte[] for fixed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606208438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606239889","html_url":"https://github.com/apache/iceberg/pull/879#issuecomment-606239889","issue_url":"https://api.github.com/repos/apache/iceberg/issues/879","id":606239889,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjIzOTg4OQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-30T20:45:06Z","updated_at":"2020-03-30T20:45:06Z","author_association":"CONTRIBUTOR","body":"+1 LGTM!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606239889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606258968","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-606258968","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":606258968,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjI1ODk2OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-30T21:23:05Z","updated_at":"2020-03-30T21:23:05Z","author_association":"CONTRIBUTOR","body":"For Avro and Parquet, `timestamp` is returned as `LocalDateTime`, so I agree that is what ORC should do.\r\n\r\nAvro and Parquet use `OffsetDateTime` for `timestamptz` with offset +00:00. That makes it easy to work with the value, but ensures it is always equivalent to an `Instant`. I'd be fine with either one, but since we already produce `OffsetDateTime` I'd prefer to start with what the other formats already do rather than changing all 3 and the expected type produced by the generics API.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606258968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606259407","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-606259407","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":606259407,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjI1OTQwNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-30T21:24:01Z","updated_at":"2020-03-30T21:24:01Z","author_association":"CONTRIBUTOR","body":"Forgot to add: I agree it would make more sense to use `ByteBuffer` for fixed, at least in the read path. Maybe we can add an option as a follow-up to configure that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606259407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606272951","html_url":"https://github.com/apache/iceberg/issues/359#issuecomment-606272951","issue_url":"https://api.github.com/repos/apache/iceberg/issues/359","id":606272951,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjI3Mjk1MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-30T21:57:33Z","updated_at":"2020-03-30T21:57:33Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, I'm not sure I understand.\r\n\r\nThis issue tracks updates to the spec that detail how to write file/position delete files. That boils down to things like this:\r\n\r\n* The files must be a supported Iceberg format and are valid Iceberg data files, just like all Iceberg metadata files\r\n* The schema of the file/position files; probably string file path and long position in a file. Maybe that should be int instead of long?\r\n* Rows in the delete file must be sorted by position. Should we also sort by path?\r\n\r\nWe also need a reader and writer implementation for these.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606272951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606325513","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-606325513","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":606325513,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjMyNTUxMw==","user":{"login":"omalley","id":206536,"node_id":"MDQ6VXNlcjIwNjUzNg==","avatar_url":"https://avatars.githubusercontent.com/u/206536?v=4","gravatar_id":"","url":"https://api.github.com/users/omalley","html_url":"https://github.com/omalley","followers_url":"https://api.github.com/users/omalley/followers","following_url":"https://api.github.com/users/omalley/following{/other_user}","gists_url":"https://api.github.com/users/omalley/gists{/gist_id}","starred_url":"https://api.github.com/users/omalley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omalley/subscriptions","organizations_url":"https://api.github.com/users/omalley/orgs","repos_url":"https://api.github.com/users/omalley/repos","events_url":"https://api.github.com/users/omalley/events{/privacy}","received_events_url":"https://api.github.com/users/omalley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T00:34:04Z","updated_at":"2020-03-31T00:34:04Z","author_association":"CONTRIBUTOR","body":"Ok, I have some suggestions for the timestamp stuff. Most of it boils down to using the useUtc flag, which makes life much easier. I've put my changes into https://github.com/omalley/iceberg/commit/d6b785413ac4f3c93a280229c28f147821b45168. Let me know if I should open a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606325513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606405600","html_url":"https://github.com/apache/iceberg/issues/817#issuecomment-606405600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/817","id":606405600,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjQwNTYwMA==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T05:18:16Z","updated_at":"2020-03-31T05:18:16Z","author_association":"COLLABORATOR","body":"Can we close this issue?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606405600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606410485","html_url":"https://github.com/apache/iceberg/pull/819#issuecomment-606410485","issue_url":"https://api.github.com/repos/apache/iceberg/issues/819","id":606410485,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjQxMDQ4NQ==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T05:35:44Z","updated_at":"2020-03-31T05:35:44Z","author_association":"COLLABORATOR","body":"@aokolnychyi  Thanks for the review. Updated the doc accordingly in #883.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606410485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606631867","html_url":"https://github.com/apache/iceberg/issues/359#issuecomment-606631867","issue_url":"https://api.github.com/repos/apache/iceberg/issues/359","id":606631867,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjYzMTg2Nw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T13:36:16Z","updated_at":"2020-03-31T13:36:16Z","author_association":"COLLABORATOR","body":"I put an early [PR](https://github.com/apache/incubator-iceberg/pull/885) for the spec.\r\n\r\nIt uses integer for the position, that should be enough for most cases unless we have files that larger than 8G (roughly 2^31 rows of integer). But there may exist very special cases like files with most same rows and that could be dictionary and RLE encoded.\r\n\r\nFor the sorting requirement, I prefer to sort with both path and position(I assume the records already cluster by path, so sort with path should be easy) so that the merge sort could take advantage of it.\r\n\r\nFor the reader and writer, I will create a separate PR later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606631867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606658429","html_url":"https://github.com/apache/iceberg/issues/817#issuecomment-606658429","issue_url":"https://api.github.com/repos/apache/iceberg/issues/817","id":606658429,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjY1ODQyOQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T14:20:44Z","updated_at":"2020-03-31T14:20:44Z","author_association":"CONTRIBUTOR","body":"Yep, thanks @jun-he!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606658429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606660092","html_url":"https://github.com/apache/iceberg/pull/883#issuecomment-606660092","issue_url":"https://api.github.com/repos/apache/iceberg/issues/883","id":606660092,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjY2MDA5Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T14:23:36Z","updated_at":"2020-03-31T14:23:36Z","author_association":"CONTRIBUTOR","body":"Thanks, @jun-he!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606660092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606747108","html_url":"https://github.com/apache/iceberg/issues/359#issuecomment-606747108","issue_url":"https://api.github.com/repos/apache/iceberg/issues/359","id":606747108,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjc0NzEwOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T16:51:48Z","updated_at":"2020-03-31T16:51:48Z","author_association":"CONTRIBUTOR","body":"I don't understand what #885 has to do with the spec. That updates `DataFile`. The spec is [this document](http://iceberg.apache.org/spec) that details the Iceberg at-rest format. Maybe you used the wrong branch?\r\n\r\nFor position, I think we should use a long after all. That's what `DataFile` uses to encode the number of rows, and I've seen Parquet files with more than 2 billion rows before.\r\n\r\nI agree that we should sort by both path and position, but this will require support from the processing engine because the file contents could be large.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606747108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606897538","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-606897538","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":606897538,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjg5NzUzOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T21:54:42Z","updated_at":"2020-03-31T21:54:42Z","author_association":"CONTRIBUTOR","body":"Thanks @shardulm94, I merged this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606897538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606900506","html_url":"https://github.com/apache/iceberg/pull/857#issuecomment-606900506","issue_url":"https://api.github.com/repos/apache/iceberg/issues/857","id":606900506,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjkwMDUwNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T22:02:12Z","updated_at":"2020-03-31T22:20:10Z","author_association":"CONTRIBUTOR","body":"This looks good to me, except for two things:\r\n1. Map keys are always required if the map is projected, so I'm not sure the map change is correct.\r\n2. I think it would make more sense to add nested tests later. The majority of these changes are test changes to add a map. I don't think the amount of change here is worth such a narrow set of cases: one string map with the same key/values each time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606900506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606909895","html_url":"https://github.com/apache/iceberg/pull/857#issuecomment-606909895","issue_url":"https://api.github.com/repos/apache/iceberg/issues/857","id":606909895,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjkwOTg5NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T22:21:07Z","updated_at":"2020-03-31T22:21:07Z","author_association":"CONTRIBUTOR","body":"One more thing that I thought of: if this is adding the ability to write ORC files, then we should make sure all of the parameterized Spark tests that currently test Parquet and Avro are also applied to ORC.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606909895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606999754","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-606999754","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":606999754,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjk5OTc1NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T03:01:20Z","updated_at":"2020-04-01T19:23:58Z","author_association":"CONTRIBUTOR","body":"@jerryshao @rdblue I've spent some time prototyping the idea I described earlier to avoid loading all snapshot metadata at once. It seems to be pretty straightforward. Naming/logic is preliminary and might contain bugs.\r\n\r\nI defined the following bean to represent a micro-batch:\r\n\r\n```\r\npublic class MicroBatch {\r\n  private long snapshotId;\r\n  private int startFileIndex;\r\n  private int endFileIndex;\r\n  private long sizeInBytes;\r\n  private List<DataFile> files;\r\n\r\n  // ...\r\n} \r\n```\r\n\r\nIn addition, I've built a utility class like this:\r\n\r\n```\r\npublic class MicroBatchGenerator {\r\n\r\n  private FileIO io;\r\n  private Map<Integer, PartitionSpec> specs;\r\n  private long snapshotId;\r\n  private List<ManifestFile> manifests;\r\n  // TODO: both vars below can have ManifestFiles as keys\r\n  private Map<Integer, Integer> manifestStartFileIndexMap;\r\n  private LoadingCache<Integer, List<DataFile>> manifestCache;\r\n\r\n  public MicroBatchGenerator(Table table, long snapshotId, int manifestCacheSize) {\r\n    this.io = table.io();\r\n    this.specs = table.specs();\r\n    this.snapshotId = snapshotId;\r\n    // TODO: we might want to reverse the list as recent manifests are at the beginning\r\n    this.manifests = table.snapshot(snapshotId).manifests();\r\n    this.manifestStartFileIndexMap = initManifestStartFileIndexMap();\r\n    this.manifestCache = Caffeine.newBuilder()\r\n        .weakValues()\r\n        .expireAfterAccess(10, TimeUnit.MINUTES)\r\n        .maximumSize(manifestCacheSize)\r\n        .build(manifestIndex -> {\r\n          ManifestFile manifest = manifests.get(manifestIndex);\r\n          List<DataFile> files = Lists.newArrayList();\r\n          try (ManifestReader reader = ManifestReader.read(manifest, io, specs)) {\r\n            reader.forEach(file -> files.add(file.copyWithoutStats()));\r\n          }\r\n          return files;\r\n        });\r\n  }\r\n\r\n  public MicroBatch newMicroBatch(int startFileIndex, int targetBatchSizeBytes) {\r\n    List<DataFile> batchFiles = Lists.newArrayList();\r\n\r\n    int startManifestIndex = manifestIndex(startFileIndex);\r\n    int currentFileIndex = manifestStartFileIndexMap.get(startManifestIndex);\r\n    long currentBatchSizeBytes = 0L;\r\n\r\n    for (int manifestIndex = startManifestIndex; manifestIndex < manifests.size(); manifestIndex++) {\r\n      List<DataFile> files = manifestCache.get(manifestIndex);\r\n      for (DataFile file : files) {\r\n        if (currentFileIndex < startFileIndex) {\r\n          currentFileIndex++;\r\n          continue;\r\n        }\r\n\r\n        if (batchFiles.isEmpty() || currentBatchSizeBytes + file.fileSizeInBytes() <= targetBatchSizeBytes) {\r\n          batchFiles.add(file);\r\n          currentBatchSizeBytes += file.fileSizeInBytes();\r\n        } else {\r\n          return new MicroBatch(snapshotId, startFileIndex, currentFileIndex, currentBatchSizeBytes, batchFiles);\r\n        }\r\n\r\n        currentFileIndex++;\r\n      }\r\n    }\r\n\r\n    return new MicroBatch(snapshotId, startFileIndex, currentFileIndex, currentBatchSizeBytes, batchFiles);\r\n  }\r\n\r\n  // builds a map from manifest index to starting file index\r\n  private Map<Integer, Integer> initManifestStartFileIndexMap() {\r\n    ImmutableMap.Builder<Integer, Integer> builder = ImmutableMap.builder();\r\n    int currentFileIndex = 0;\r\n\r\n    for (int manifestIndex = 0; manifestIndex < manifests.size(); manifestIndex++) {\r\n      ManifestFile manifest = manifests.get(manifestIndex);\r\n      int liveFilesCount = manifest.addedFilesCount() + manifest.existingFilesCount();\r\n      builder.put(manifestIndex, currentFileIndex);\r\n      currentFileIndex += liveFilesCount;\r\n    }\r\n\r\n    return builder.build();\r\n  }\r\n\r\n  // determines the index of the manifest that will contain the given file index\r\n  private int manifestIndex(int fileIndex) {\r\n    if (fileIndex == 0) {\r\n      return 0;\r\n    }\r\n\r\n    int currentFileIndex = 0;\r\n    for (int manifestIndex = 0; manifestIndex < manifests.size(); manifestIndex++) {\r\n      ManifestFile manifest = manifests.get(manifestIndex);\r\n      int manifestLiveFilesCount = manifest.addedFilesCount() + manifest.existingFilesCount();\r\n      if (currentFileIndex + manifestLiveFilesCount > fileIndex) {\r\n        return manifestIndex;\r\n      } else {\r\n        currentFileIndex += manifestLiveFilesCount;\r\n      }\r\n    }\r\n\r\n    throw new ValidationException(\"Snapshot %d does not have a file with index %d\", snapshotId, fileIndex);\r\n  }\r\n}\r\n```\r\n\r\nThen I did some stress testing trying to load batches with around 10000 files on a table with a couple of million files and around 455 manifests. The logic above worked fine and was really quick while I could not load all metadata at the same time due to OOM (I had only 500 MB memory allocated to the program). See the chart below where the bump in memory and GC is when the job planning for the complete table started.\r\n\r\n![image](https://user-images.githubusercontent.com/6235869/78094692-02ed2b00-738a-11ea-97f0-667db57ada34.png)\r\n\r\nIf we think this might help, I can clean up the utility class and contribute it. Note that `newMicroBatch` is determined in terms of data size. The created `MicroBatch` also contains `endFileIndex` that can be used to construct an end offset.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/606999754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607006650","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-607006650","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":607006650,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzAwNjY1MA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T03:30:15Z","updated_at":"2020-04-01T03:30:15Z","author_association":"CONTRIBUTOR","body":"Hi @rdblue @aokolnychyi thanks a lot for your suggestion, sorry for my late response. I'm a bit busy these days, I will take a deep look at all the comments late today.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607006650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607093820","html_url":"https://github.com/apache/iceberg/issues/871#issuecomment-607093820","issue_url":"https://api.github.com/repos/apache/iceberg/issues/871","id":607093820,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzA5MzgyMA==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T07:55:20Z","updated_at":"2020-04-01T07:55:20Z","author_association":"CONTRIBUTOR","body":"Addressed by [this commit](https://github.com/apache/incubator-iceberg/pull/856/commits/10e49357ee2f93a3abcf6ec262570692fe11eecc)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607093820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607093933","html_url":"https://github.com/apache/iceberg/issues/871#issuecomment-607093933","issue_url":"https://api.github.com/repos/apache/iceberg/issues/871","id":607093933,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzA5MzkzMw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T07:55:34Z","updated_at":"2020-04-01T07:55:34Z","author_association":"CONTRIBUTOR","body":"Ready to close this issue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607093933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607103543","html_url":"https://github.com/apache/iceberg/pull/857#issuecomment-607103543","issue_url":"https://api.github.com/repos/apache/iceberg/issues/857","id":607103543,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzEwMzU0Mw==","user":{"login":"XiaokunDing","id":3050222,"node_id":"MDQ6VXNlcjMwNTAyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3050222?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaokunDing","html_url":"https://github.com/XiaokunDing","followers_url":"https://api.github.com/users/XiaokunDing/followers","following_url":"https://api.github.com/users/XiaokunDing/following{/other_user}","gists_url":"https://api.github.com/users/XiaokunDing/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaokunDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaokunDing/subscriptions","organizations_url":"https://api.github.com/users/XiaokunDing/orgs","repos_url":"https://api.github.com/users/XiaokunDing/repos","events_url":"https://api.github.com/users/XiaokunDing/events{/privacy}","received_events_url":"https://api.github.com/users/XiaokunDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T08:16:31Z","updated_at":"2020-04-01T08:16:31Z","author_association":"CONTRIBUTOR","body":"Thanks for your suggestion @rdblue . I will append same complicated nested type to this test。And now if  all of the parameter test applied to ORC file should after https://github.com/apache/incubator-iceberg/pull/199 have merged","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607103543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607330184","html_url":"https://github.com/apache/iceberg/issues/359#issuecomment-607330184","issue_url":"https://api.github.com/repos/apache/iceberg/issues/359","id":607330184,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzMzMDE4NA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T15:48:30Z","updated_at":"2020-04-01T15:51:37Z","author_association":"COLLABORATOR","body":"Sorry for the confusion,  I just open https://github.com/apache/incubator-iceberg/pull/887. \r\n\r\nNo matter what column it sort with, we all need a processing engine to handle it, don't we? I 'm thinking of the case of the Spark `SupportsDelete` interface, with the given filter we have to call the spark to build the dataframe for deletion file. But Iceberg may have APIs to support deleting rows in file scope or partition scope in the future. That may not need the processing engine. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607330184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607360513","html_url":"https://github.com/apache/iceberg/pull/887#issuecomment-607360513","issue_url":"https://api.github.com/repos/apache/iceberg/issues/887","id":607360513,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzM2MDUxMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T16:40:28Z","updated_at":"2020-04-01T16:40:28Z","author_association":"CONTRIBUTOR","body":"Thanks, @chenjunjiedada! This looks like a good start. I've added a few comments where I'd like to make the spec more clear.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607360513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607418276","html_url":"https://github.com/apache/iceberg/pull/857#issuecomment-607418276","issue_url":"https://api.github.com/repos/apache/iceberg/issues/857","id":607418276,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzQxODI3Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T18:29:27Z","updated_at":"2020-04-01T18:29:27Z","author_association":"CONTRIBUTOR","body":"> I will append same complicated nested type to this test\r\n\r\nSorry for the miscommunication: I'm asking you to remove the more complicated nested type from this PR. Let's get the existing tests running on ORC for this PR and then we can add more test cases in a separate one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607418276/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607422812","html_url":"https://github.com/apache/iceberg/issues/359#issuecomment-607422812","issue_url":"https://api.github.com/repos/apache/iceberg/issues/359","id":607422812,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzQyMjgxMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T18:37:49Z","updated_at":"2020-04-01T18:37:49Z","author_association":"CONTRIBUTOR","body":"`SupportsDelete` won't be used to create delete files because Iceberg should not call into Spark's API as you describe. Instead, Spark should attempt the metadata-level delete and fall back to a merge-based delete.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607422812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]