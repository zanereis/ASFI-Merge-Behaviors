[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168816936","html_url":"https://github.com/apache/accumulo/pull/2786#issuecomment-1168816936","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2786","id":1168816936,"node_id":"IC_kwDOACaFSM5Fqrso","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-28T14:42:14Z","updated_at":"2022-06-28T14:42:14Z","author_association":"CONTRIBUTOR","body":"Looking at the output from the current code - I'm not sure this PR reduces any logging.  The merge info is repeated in the log each time the MergeStat computed the next merge state:\r\n\r\nThe current code logs:\r\n```2022-06-28T14:36:42,513 [accumulo.audit] INFO : operation: permitted; user: root; client: 10.113.15.42:35878; action: mergeTable; targetTable: 3; targetNamespace: 1;\r\n2022-06-28T14:36:42,513 [manager.Manager] DEBUG: Creating merge op: 3 from startRow: -inf to endRow: +inf\r\n2022-06-28T14:36:42,661 [manager.Manager] DEBUG: mergeInfo overlaps: 3;g< true\r\n2022-06-28T14:36:42,662 [manager.Manager] DEBUG: mergeInfo overlaps: 3;k;g true\r\n2022-06-28T14:36:42,664 [manager.Manager] DEBUG: mergeInfo overlaps: 3;m;k true\r\n2022-06-28T14:36:42,665 [manager.Manager] DEBUG: mergeInfo overlaps: 3<;m true\r\n2022-06-28T14:36:42,665 [state.MergeStats] INFO : Computing next merge state for 3<< which is presently STARTED isDelete : false\r\n2022-06-28T14:36:42,776 [manager.Manager] DEBUG: mergeInfo overlaps: 3;g< true\r\n2022-06-28T14:36:42,778 [manager.Manager] DEBUG: mergeInfo overlaps: 3;k;g true\r\n2022-06-28T14:36:42,779 [manager.Manager] DEBUG: mergeInfo overlaps: 3;m;k true\r\n2022-06-28T14:36:42,780 [manager.Manager] DEBUG: mergeInfo overlaps: 3<;m true\r\n2022-06-28T14:36:42,781 [state.MergeStats] INFO : Computing next merge state for 3<< which is presently WAITING_FOR_CHOPPED isDelete : false\r\n2022-06-28T14:36:43,425 [manager.Manager] DEBUG: mergeInfo overlaps: 3;g< true\r\n2022-06-28T14:36:43,427 [manager.Manager] DEBUG: mergeInfo overlaps: 3;k;g true\r\n2022-06-28T14:36:43,428 [manager.Manager] DEBUG: mergeInfo overlaps: 3;m;k true\r\n2022-06-28T14:36:43,428 [manager.Manager] DEBUG: mergeInfo overlaps: 3<;m true\r\n2022-06-28T14:36:43,429 [state.MergeStats] INFO : Computing next merge state for 3<< which is presently WAITING_FOR_CHOPPED isDelete : false\r\n2022-06-28T14:36:43,538 [manager.Manager] DEBUG: mergeInfo overlaps: 3;g< true\r\n2022-06-28T14:36:43,538 [manager.Manager] DEBUG: mergeInfo overlaps: 3;k;g true\r\n2022-06-28T14:36:43,538 [manager.Manager] DEBUG: mergeInfo overlaps: 3;m;k true\r\n2022-06-28T14:36:43,539 [manager.Manager] DEBUG: mergeInfo overlaps: 3<;m true\r\n2022-06-28T14:36:43,539 [state.MergeStats] INFO : Computing next merge state for 3<< which is presently WAITING_FOR_OFFLINE isDelete : false\r\n2022-06-28T14:36:43,680 [manager.Manager] DEBUG: mergeInfo overlaps: 3<< true\r\n2022-06-28T14:36:43,683 [state.MergeStats] INFO : Computing next merge state for 3<< which is presently COMPLETE isDelete : false\r\n2022-06-28T14:36:43,706 [merge.TableRangeOpWait] INFO : removing merge information No Merge in progress\r\n\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168816936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168844906","html_url":"https://github.com/apache/accumulo/issues/1138#issuecomment-1168844906","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1138","id":1168844906,"node_id":"IC_kwDOACaFSM5Fqyhq","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-28T15:04:58Z","updated_at":"2022-06-28T15:04:58Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #2787 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168844906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168846849","html_url":"https://github.com/apache/accumulo/issues/2210#issuecomment-1168846849","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2210","id":1168846849,"node_id":"IC_kwDOACaFSM5FqzAB","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-28T15:06:33Z","updated_at":"2022-06-28T15:06:33Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of #2787 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168846849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168858569","html_url":"https://github.com/apache/accumulo/issues/2509#issuecomment-1168858569","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2509","id":1168858569,"node_id":"IC_kwDOACaFSM5Fq13J","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-28T15:16:27Z","updated_at":"2022-06-28T15:16:27Z","author_association":"CONTRIBUTOR","body":"I think this has been fixed in #2531 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168858569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168897312","html_url":"https://github.com/apache/accumulo/pull/2786#issuecomment-1168897312","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2786","id":1168897312,"node_id":"IC_kwDOACaFSM5Fq_Ug","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-28T15:49:55Z","updated_at":"2022-06-28T15:49:55Z","author_association":"CONTRIBUTOR","body":"Is this output from a test, if so, which one?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168897312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168905777","html_url":"https://github.com/apache/accumulo/pull/2786#issuecomment-1168905777","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2786","id":1168905777,"node_id":"IC_kwDOACaFSM5FrBYx","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-28T15:56:34Z","updated_at":"2022-06-28T15:56:34Z","author_association":"CONTRIBUTOR","body":"It is from my dev environment - I happen to be trying to get the FATE stack for a merge operation.  So I have a hacked ShellServerIT test readily available - but no something ready to merge.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168905777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168923104","html_url":"https://github.com/apache/accumulo/pull/2786#issuecomment-1168923104","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2786","id":1168923104,"node_id":"IC_kwDOACaFSM5FrFng","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-28T16:11:51Z","updated_at":"2022-06-28T16:11:51Z","author_association":"CONTRIBUTOR","body":"I don't see a clear, easy path to reduce the amount of logging. I think it will take a bunch of refactoring of merge-related code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168923104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168990330","html_url":"https://github.com/apache/accumulo/pull/2786#issuecomment-1168990330","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2786","id":1168990330,"node_id":"IC_kwDOACaFSM5FrWB6","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-28T16:59:43Z","updated_at":"2022-06-28T16:59:43Z","author_association":"CONTRIBUTOR","body":"Related to #2788, closing as this PR won't fix this issue","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1168990330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1169210579","html_url":"https://github.com/apache/accumulo/pull/2790#issuecomment-1169210579","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2790","id":1169210579,"node_id":"IC_kwDOACaFSM5FsLzT","user":{"login":"billoley","id":5595587,"node_id":"MDQ6VXNlcjU1OTU1ODc=","avatar_url":"https://avatars.githubusercontent.com/u/5595587?v=4","gravatar_id":"","url":"https://api.github.com/users/billoley","html_url":"https://github.com/billoley","followers_url":"https://api.github.com/users/billoley/followers","following_url":"https://api.github.com/users/billoley/following{/other_user}","gists_url":"https://api.github.com/users/billoley/gists{/gist_id}","starred_url":"https://api.github.com/users/billoley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billoley/subscriptions","organizations_url":"https://api.github.com/users/billoley/orgs","repos_url":"https://api.github.com/users/billoley/repos","events_url":"https://api.github.com/users/billoley/events{/privacy}","received_events_url":"https://api.github.com/users/billoley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-28T20:36:59Z","updated_at":"2022-06-28T20:36:59Z","author_association":"CONTRIBUTOR","body":"The fix for the results container and for resetting partScan, etc when the range completes successfully seem pretty straightforward.\r\n\r\nWrt the handling of session.queries, does re-adding the unfinishedRange make sense?  Should we be re-trying the same range immediately or should we be using some sort of FIFO queue and adding the unfinished range to the back.  Or are unfinished ranges supposed to be taken care of in the TabletServerBatchReaderIterator?  What is the design to get the benefit of yielding?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1169210579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1169300901","html_url":"https://github.com/apache/accumulo/pull/2791#issuecomment-1169300901","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2791","id":1169300901,"node_id":"IC_kwDOACaFSM5Fsh2l","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-28T21:42:14Z","updated_at":"2022-06-28T21:42:14Z","author_association":"CONTRIBUTOR","body":"Created this a prerequisite to https://github.com/dlmarion/accumulo/pull/32","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1169300901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1169360761","html_url":"https://github.com/apache/accumulo/issues/2749#issuecomment-1169360761","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2749","id":1169360761,"node_id":"IC_kwDOACaFSM5Fswd5","user":{"login":"nosewings","id":24929858,"node_id":"MDQ6VXNlcjI0OTI5ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24929858?v=4","gravatar_id":"","url":"https://api.github.com/users/nosewings","html_url":"https://github.com/nosewings","followers_url":"https://api.github.com/users/nosewings/followers","following_url":"https://api.github.com/users/nosewings/following{/other_user}","gists_url":"https://api.github.com/users/nosewings/gists{/gist_id}","starred_url":"https://api.github.com/users/nosewings/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nosewings/subscriptions","organizations_url":"https://api.github.com/users/nosewings/orgs","repos_url":"https://api.github.com/users/nosewings/repos","events_url":"https://api.github.com/users/nosewings/events{/privacy}","received_events_url":"https://api.github.com/users/nosewings/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-28T22:42:26Z","updated_at":"2022-06-28T22:42:26Z","author_association":"CONTRIBUTOR","body":"I have this in an ugly-but-working state at [this branch](https://github.com/nosewings/accumulo/tree/bootstrap).\r\n\r\nSome things work thinking about:\r\n- Bootstrap v5 no longer comes with the Glyphicon Halflings set, which we use in at least one place. There are some alternative sets out there.\r\n- The styling is significantly different in some places (generally for the worse). This is due both to conflicts with `screen.css` (fixable) and changes in the way Boostrap does things by default (harder to fix). It's also worth noting that the `bootstrap-style.css` file is gone; I don't know whether we were doing custom styling with that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1169360761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1170045020","html_url":"https://github.com/apache/accumulo/pull/2792#issuecomment-1170045020","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2792","id":1170045020,"node_id":"IC_kwDOACaFSM5FvXhc","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-29T14:20:23Z","updated_at":"2022-06-29T14:20:23Z","author_association":"CONTRIBUTOR","body":"This is a cherry-pick of @mjwall 's GC fix on the 1.10 branch applied to 2.1","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1170045020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1170110888","html_url":"https://github.com/apache/accumulo/pull/2752#issuecomment-1170110888","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2752","id":1170110888,"node_id":"IC_kwDOACaFSM5Fvnmo","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-29T15:17:13Z","updated_at":"2022-06-29T15:17:13Z","author_association":"CONTRIBUTOR","body":"> A full build including IT's passed. @keith-turner - is there anything else for this PR or can we merge it?\r\n\r\nI think it's good to merge.  This is a very nice PR.  When I looked I asked myself two questions, is the new code correct and is the existing functionality preserved.  For both questions I concluded yes.  It does those two things with new code that easier to understand and has a unit test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1170110888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1170367923","html_url":"https://github.com/apache/accumulo/pull/2752#issuecomment-1170367923","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2752","id":1170367923,"node_id":"IC_kwDOACaFSM5FwmWz","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-29T18:49:47Z","updated_at":"2022-06-29T18:49:47Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @nosewings and welcome to the Apache Accumulo community. If you would like to be listed as a contributor on Accumulo's people page please make a website PR for [people.md](https://github.com/apache/accumulo-website/edit/main/pages/people.md).\r\nIf you intend to make more contributions, please consider subscribing to the dev list and introducing yourself. Also, you can use the dev list or slack to reach out if you have questions about anything. See https://accumulo.apache.org/contact-us/","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1170367923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1170375303","html_url":"https://github.com/apache/accumulo/pull/2794#issuecomment-1170375303","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2794","id":1170375303,"node_id":"IC_kwDOACaFSM5FwoKH","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-29T18:58:07Z","updated_at":"2022-06-29T18:58:07Z","author_association":"CONTRIBUTOR","body":"lol - same test failure after change\r\n```\r\n[ERROR] Tests run: 6, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 25.258 s <<< FAILURE! - in org.apache.accumulo.minicluster.MiniAccumuloClusterTest\r\n[ERROR] org.apache.accumulo.minicluster.MiniAccumuloClusterTest.testPerTableClasspath  Time elapsed: 8.501 s  <<< ERROR!\r\norg.apache.accumulo.core.client.MutationsRejectedException: # constraint violations : 1  security codes: {}  # server errors 0 # exceptions 0\r\n\tat org.apache.accumulo.core.clientImpl.TabletServerBatchWriter.checkForFailures(TabletServerBatchWriter.java:563)\r\n\tat org.apache.accumulo.core.clientImpl.TabletServerBatchWriter.close(TabletServerBatchWriter.java:362)\r\n\tat org.apache.accumulo.core.clientImpl.BatchWriterImpl.close(BatchWriterImpl.java:57)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1170375303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1171370953","html_url":"https://github.com/apache/accumulo/issues/2502#issuecomment-1171370953","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2502","id":1171370953,"node_id":"IC_kwDOACaFSM5F0bPJ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-30T15:36:19Z","updated_at":"2022-06-30T15:36:19Z","author_association":"CONTRIBUTOR","body":"I'm thinking we might be able to close this as OBE.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1171370953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1171440586","html_url":"https://github.com/apache/accumulo/pull/2790#issuecomment-1171440586","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2790","id":1171440586,"node_id":"IC_kwDOACaFSM5F0sPK","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-30T16:37:47Z","updated_at":"2022-06-30T18:39:19Z","author_association":"CONTRIBUTOR","body":"> Wrt the handling of session.queries, does re-adding the unfinishedRange make sense? Should we be re-trying the same range immediately or should we be using some sort of FIFO queue and adding the unfinished range to the back.\r\n\r\nI think you need to add the unfinishedRange to the top of the queue or else the check that you have [here](https://github.com/apache/accumulo/pull/2790/files#diff-df2b4a76126e09d824ca0ac903abd6563c72db9793844b59e58d82c8a206d695R139) won't work I think. I don't believe there is a down-side to immediately retrying where you left off, the yield gives the tablet server an ability to run a different scan on the scan thread as a means of time-sharing.\r\n\r\n> Or are unfinished ranges supposed to be taken care of in the TabletServerBatchReaderIterator?\r\n\r\nNo, it does not look like the client scan code knows anything about yielding iterators. The client continues to look for results while the scan result `more` flag is `true`.\r\n\r\n>What is the design to get the benefit of yielding?\r\n\r\nIt's been a while. I would point you to https://issues.apache.org/jira/browse/ACCUMULO-4643 and its related pull requests. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1171440586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1171510867","html_url":"https://github.com/apache/accumulo/issues/1606#issuecomment-1171510867","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1606","id":1171510867,"node_id":"IC_kwDOACaFSM5F09ZT","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-30T17:51:06Z","updated_at":"2022-06-30T17:51:06Z","author_association":"CONTRIBUTOR","body":"I talked with @FineAndDandy today, this is still an issue. They are still having to increase `tserver.scan.files.open.max` when they run into this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1171510867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1171648774","html_url":"https://github.com/apache/accumulo/pull/2793#issuecomment-1171648774","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2793","id":1171648774,"node_id":"IC_kwDOACaFSM5F1fEG","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-30T20:32:14Z","updated_at":"2022-06-30T20:32:14Z","author_association":"MEMBER","body":"Any suggestions for column spacing for this table? The columns can each be assigned a percentage of the total width of the table ([DataTables docs](https://datatables.net/reference/option/columns.width)). I'm not too sure what the best split would be for this table but it definitely seem like the `Files Needing Replication` column should be smaller.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1171648774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1171677307","html_url":"https://github.com/apache/accumulo/pull/2796#issuecomment-1171677307","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2796","id":1171677307,"node_id":"IC_kwDOACaFSM5F1mB7","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-30T21:05:47Z","updated_at":"2022-06-30T21:05:47Z","author_association":"CONTRIBUTOR","body":"With the concrete methods now in the parent (PropUtil) taking abstract ids, are the methods even needed in the NamespaeUtil and TableUtil classes?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1171677307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172332024","html_url":"https://github.com/apache/accumulo/pull/2796#issuecomment-1172332024","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2796","id":1172332024,"node_id":"IC_kwDOACaFSM5F4F34","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-01T13:10:26Z","updated_at":"2022-07-01T13:10:26Z","author_association":"MEMBER","body":"> With the concrete methods now in the parent (PropUtil) taking abstract ids, are the methods even needed in the NamespaeUtil and TableUtil classes?\r\n\r\nIm not sure that they are needed. I might be possible to get rid of the two child classes entirely and just use the methods from PropUtil. I'll try that out and see how it works.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172332024/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172456873","html_url":"https://github.com/apache/accumulo/issues/2689#issuecomment-1172456873","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2689","id":1172456873,"node_id":"IC_kwDOACaFSM5F4kWp","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-01T15:19:06Z","updated_at":"2022-07-01T15:19:06Z","author_association":"CONTRIBUTOR","body":"I wrote a test that closes the connection on the ZooKeeper server-side using the client sessionId. If what I did is correct, then I don't believe that the ZooPropStore is getting connection events. I'm going to push a branch and draft PR for this shortly.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172456873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172476426","html_url":"https://github.com/apache/accumulo/pull/2797#issuecomment-1172476426","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2797","id":1172476426,"node_id":"IC_kwDOACaFSM5F4pIK","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-01T15:43:31Z","updated_at":"2022-07-01T18:47:16Z","author_association":"CONTRIBUTOR","body":"@EdColeman @keith-turner - if you run the two ZooPropStoreIT tests, you will see that the client session gets closed on the server side, but the ZooPropStore does not notice it.\r\n\r\nEdit: This comment is incorrect, the code was wrong and has been fixed in 1bf5798. See latest comments on #2689 for results of this test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172476426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172523642","html_url":"https://github.com/apache/accumulo/pull/2796#issuecomment-1172523642","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2796","id":1172523642,"node_id":"IC_kwDOACaFSM5F40p6","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-01T16:37:43Z","updated_at":"2022-07-01T16:37:43Z","author_association":"MEMBER","body":"> > With the concrete methods now in the parent (PropUtil) taking abstract ids, are the methods even needed in the NamespaeUtil and TableUtil classes?\r\n> \r\n> Im not sure that they are needed. I might be possible to get rid of the two child classes entirely and just use the methods from PropUtil. I'll try that out and see how it works.\r\n\r\nIt turned out to require more changes than I initially thought, but I made these changes in [f547bfb](https://github.com/apache/accumulo/pull/2796/commits/f547bfbe11e82e0ee86fdecdb08be2cf482a19de), @EdColeman ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172523642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172596252","html_url":"https://github.com/apache/accumulo/pull/2796#issuecomment-1172596252","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2796","id":1172596252,"node_id":"IC_kwDOACaFSM5F5GYc","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-01T18:10:03Z","updated_at":"2022-07-01T18:10:03Z","author_association":"MEMBER","body":"I realized that the `AbstractId` parameter in `PropUtil.setProperties` was only being used in the exception message. I found that using the `PropStoreKey` in its place is even more descriptive so I removed  `AbstractId` from the method in [922ca4d](https://github.com/apache/accumulo/pull/2796/commits/922ca4d6b738e16eed182ef0c7815928d0cbe166).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172596252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172619799","html_url":"https://github.com/apache/accumulo/issues/2689#issuecomment-1172619799","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2689","id":1172619799,"node_id":"IC_kwDOACaFSM5F5MIX","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-01T18:41:59Z","updated_at":"2022-07-01T18:41:59Z","author_association":"CONTRIBUTOR","body":"> If what I did is correct,\r\n\r\nIt wasn't. I was closing a different client ZK session. I believe that I have a test now that implements the order of operations from the original description. I had to move one line of code in `ZooPropStore.get` so that the watcher is registered *before* the call to `checkZKConnection`. Here is the test output:\r\n\r\n```\r\n2022-07-01T18:38:54,281 [impl.PropStoreMetrics] DEBUG: Creating PropStore metrics\r\n2022-07-01T18:38:54,317 [metrics.MetricsUtil] INFO : Metric producer PropStoreMetrics initialize\r\n2022-07-01T18:38:54,319 [impl.ZooPropStore] DEBUG: Have a ZooKeeper connection and found instance node: 2a0af30d-5918-425d-b94e-78b66a466ccd\r\n2022-07-01T18:38:54,326 [impl.TestZooPropStore] INFO : super.checkZkConnection() called, calling runCloseConnectionTask\r\n2022-07-01T18:38:54,329 [server.ZooKeeperServer] INFO : Closing session 0x10001954cc20002\r\n2022-07-01T18:38:54,433 [impl.PropStoreWatcher] DEBUG: ZooKeeper disconnected event received\r\n2022-07-01T18:38:54,435 [impl.ZooPropStore] TRACE: connectionEvent, clearing cache\r\n2022-07-01T18:38:55,945 [server.ZooKeeperServer] INFO : Invalid session 0x10001954cc20002 for client /127.0.0.1:56280, probably expired\r\n2022-07-01T18:38:55,946 [zookeeper.ZooSession] DEBUG: Session expired; WatchedEvent state:Expired type:None path:null\r\n2022-07-01T18:38:55,947 [impl.PropStoreWatcher] INFO : ZooKeeper connection closed event received\r\n2022-07-01T18:38:55,947 [impl.ZooPropStore] TRACE: connectionEvent, clearing cache\r\n2022-07-01T18:38:56,327 [impl.TestZooPropStore] INFO : runCloseConnectionTask called, waiting for connection event to release latch\r\n2022-07-01T18:38:56,327 [impl.TestZooPropStore] INFO : latch released\r\n2022-07-01T18:38:56,327 [impl.PropCacheCaffeineImpl] TRACE: Called get() for SystemPropKey{InstanceId=2a0af30d-5918-425d-b94e-78b66a466ccd'}\r\n2022-07-01T18:38:56,335 [impl.ZooPropLoader] TRACE: load called for SystemPropKey{InstanceId=2a0af30d-5918-425d-b94e-78b66a466ccd'}\r\n2022-07-01T18:38:56,335 [zookeeper.ZooSession] DEBUG: Removing closed ZooKeeper session to 127.0.0.1:39327\r\n2022-07-01T18:38:56,335 [zookeeper.ZooSession] DEBUG: Connecting to 127.0.0.1:39327 with timeout 5000 with auth\r\n2022-07-01T18:38:56,437 [server.ZooKeeperServer] INFO : got auth packet /127.0.0.1:56282\r\n2022-07-01T18:38:56,437 [server.ZooKeeperServer] INFO : Session 0x10001954cc20003: auth success for scheme digest and address /127.0.0.1:56282\r\n2022-07-01T18:38:56,441 [impl.PropStoreMetrics] TRACE: Load time: 106\r\n2022-07-01T18:38:56,441 [impl.PropStoreMetrics] TRACE: Load count: 0 time:0.0\r\n```\r\n\r\nNote that the connection event is received twice, once for `disconnect` and once for `close`, thus the cache is cleared twice. The connection to ZooKeeper is re-established so that the ZooPropLoader can load the properties.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172619799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172621933","html_url":"https://github.com/apache/accumulo/issues/2689#issuecomment-1172621933","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2689","id":1172621933,"node_id":"IC_kwDOACaFSM5F5Mpt","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-01T18:45:36Z","updated_at":"2022-07-01T18:45:36Z","author_association":"CONTRIBUTOR","body":"> I am not sure exactly what happens in step 5 above, does the load from ZK retrty when it sees a connection lost exception? \r\n\r\nIt appears that the ZooKeeper client will re-establish the connection\r\n\r\n> If it does then the checkZkConnection() is redundant.\r\n\r\nThat may be. Could easily modify this test to comment out that method call and see if the result is the same.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172621933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172623900","html_url":"https://github.com/apache/accumulo/pull/2797#issuecomment-1172623900","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2797","id":1172623900,"node_id":"IC_kwDOACaFSM5F5NIc","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-01T18:48:53Z","updated_at":"2022-07-01T18:48:53Z","author_association":"CONTRIBUTOR","body":"I'm not sure that this should ever be merged based on some of the changes that it makes to existing code. But the test itself shows the behavior of the ZooPropStore when the connection to ZK is lost. There are some changes from this PR that we may want to apply.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172623900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172897241","html_url":"https://github.com/apache/accumulo/issues/2787#issuecomment-1172897241","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2787","id":1172897241,"node_id":"IC_kwDOACaFSM5F6P3Z","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-02T13:17:22Z","updated_at":"2022-07-02T13:17:22Z","author_association":"CONTRIBUTOR","body":"It looks like the scan interpreter stuff was already deprecated in #1140, should it just be removed now?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172897241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172945021","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1172945021","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1172945021,"node_id":"IC_kwDOACaFSM5F6bh9","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-02T18:56:31Z","updated_at":"2022-07-02T18:56:31Z","author_association":"CONTRIBUTOR","body":"@ctubbsii and @EdColeman  - What do you think of the current state of this? It looks like this is almost done but needs some clean up and some tests, etc. I can take this over and wrap it up.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172945021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172946760","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1172946760","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1172946760,"node_id":"IC_kwDOACaFSM5F6b9I","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-02T19:08:19Z","updated_at":"2022-07-02T19:08:19Z","author_association":"MEMBER","body":"@cshannon thanks for the offer. You're welcome to pick it up where it was left off, if you wish.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172946760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172948070","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1172948070","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1172948070,"node_id":"IC_kwDOACaFSM5F6cRm","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-02T19:19:14Z","updated_at":"2022-07-02T19:19:14Z","author_association":"CONTRIBUTOR","body":"> @cshannon thanks for the offer. You're welcome to pick it up where it was left off, if you wish.\r\n\r\nSounds good, I'll start working on an updated PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172948070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172959006","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1172959006","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1172959006,"node_id":"IC_kwDOACaFSM5F6e8e","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-02T20:54:47Z","updated_at":"2022-07-02T20:54:47Z","author_association":"CONTRIBUTOR","body":"Looks like this actually still needs some more work as it only address `InstanceOperations` and not `NamespaceOperations` and `TableOperations` so I'm working on cleaning up the code and then adding those implementations and tests.\r\n\r\n@ctubbsii - I'm going through the history of the PR and just wanted to get one clarification and make sure I'm on the same page. It seems like based on the comments the intent here of the modifyProperties(mapMutator) is to also delete and not just modify/add to the existing properties.  This would imply any properties that currently exist in the config (for the given PropStoreKey) but are no longer included in the mutated map after the mapMutator handles the properties map should be deleted which makes sense to me. Correct?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172959006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172960754","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1172960754","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1172960754,"node_id":"IC_kwDOACaFSM5F6fXy","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-02T21:06:25Z","updated_at":"2022-07-02T21:06:25Z","author_association":"MEMBER","body":"Yes","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1172960754/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175114948","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1175114948","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1175114948,"node_id":"IC_kwDOACaFSM5GCtTE","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-05T14:16:54Z","updated_at":"2022-07-05T14:16:54Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - I am going to open a new pull request when I am finished with my changes. How do you want me to handle the history here? Should I keep the original commits from @tchaie or just squash her commits into 1 and then add my new commit after, or just do 1 commit etc? I'm currently working off a rebased version of this branch.\r\n\r\nAlso looks like I will want to make sure to rebase and fix things after #2796 is merged","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175114948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175118629","html_url":"https://github.com/apache/accumulo/pull/2717#issuecomment-1175118629","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2717","id":1175118629,"node_id":"IC_kwDOACaFSM5GCuMl","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-05T14:20:10Z","updated_at":"2022-07-05T14:20:10Z","author_association":"MEMBER","body":"> @ctubbsii - I am going to open a new pull request when I am finished with my changes. How do you want me to handle the history here? Should I keep the original commits from @tchaie or just squash her commits into 1 and then add my new commit after, or just do 1 commit etc? I'm currently working off a rebased version of this branch.\r\n> \r\n> Also looks like I will want to make sure to rebase and fix things after #2796 is merged\r\n\r\nSquashing the original commits to 1, and having your commits after will be best. It'll be the easiest to work with, for any rebasing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175118629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175179031","html_url":"https://github.com/apache/accumulo/issues/2689#issuecomment-1175179031","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2689","id":1175179031,"node_id":"IC_kwDOACaFSM5GC88X","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-05T15:14:28Z","updated_at":"2022-07-05T15:14:28Z","author_association":"CONTRIBUTOR","body":"The `PropStoreWatcher` will clear the cache when the connection is disconnected or closed (fires twice) and then the `ZooPropLoader` calls `ZooReaderWriter.getData` which is in a retry loop. The retry loop may return null after exhausting its retries, so I think the `ReadyMonitor` is an attempt to prevent that (although there is a race condition) by not calling `ZooReaderWriter.getData` until the `PropStoreWatcher` gets an event that says the connection is re-established.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175179031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175310464","html_url":"https://github.com/apache/accumulo/pull/2796#issuecomment-1175310464","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2796","id":1175310464,"node_id":"IC_kwDOACaFSM5GDdCA","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-05T17:19:50Z","updated_at":"2022-07-05T17:19:50Z","author_association":"MEMBER","body":"There have been a few approved reviews on this PR but a bit has changed since the reviews. I wanted to see if anyone wanted to take another quick look and approve this PR again before I merge it. I left a few comments explaining the commits to make things easier to review.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175310464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175345108","html_url":"https://github.com/apache/accumulo/issues/2689#issuecomment-1175345108","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2689","id":1175345108,"node_id":"IC_kwDOACaFSM5GDlfU","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-05T18:04:10Z","updated_at":"2022-07-05T18:04:10Z","author_association":"CONTRIBUTOR","body":"I am not sure that clearing twice is an issue.  The state transitions of ZooKeeper seemed to indicate that you can get a disconnect and then reconnect without a close.  Close is a terminal state.\r\n\r\nAs far a ready monitor itself - it is meant to block without hold locks - it functions as a barrier so that when known disconnected everyone is not banging on ZooKeeper with retries.  There is an issue that code could get past the barrier, and then ZooKeeper connection is lost and I don't think that it can ever be prevented.  Is should be a small window, but it will always be there.  The issue would then be if it gets past the barrier and connection is lost is it handling it correctly.\r\n\r\nIf the code proceeds past the barrier and calls get() and the connection fails , the retry will eventually return null.  On the null, then that should trigger an error / exception.  \r\n\r\nCurrently I think that we do not handle connection loss as cleanly as we could - if a cluster tries to do a rolling ZK restart, there are a lot of tservers that drop offline.  This does not fully fix that, but should get things closer and then the other problem areas can be addressed separately.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175345108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175356965","html_url":"https://github.com/apache/accumulo/pull/2796#issuecomment-1175356965","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2796","id":1175356965,"node_id":"IC_kwDOACaFSM5GDoYl","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-05T18:19:12Z","updated_at":"2022-07-05T18:19:12Z","author_association":"CONTRIBUTOR","body":"Going even further - is PropUtil necessary? - it looks like the functions could be moved into ZooBasedConfiguration.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175356965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175358689","html_url":"https://github.com/apache/accumulo/issues/2689#issuecomment-1175358689","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2689","id":1175358689,"node_id":"IC_kwDOACaFSM5GDozh","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-05T18:21:00Z","updated_at":"2022-07-05T18:21:00Z","author_association":"CONTRIBUTOR","body":"> There is an issue that code could get past the barrier, and then ZooKeeper connection is lost and I don't think that it can ever be prevented. Is should be a small window, but it will always be there. The issue would then be if it gets past the barrier and connection is lost is it handling it correctly. If the code proceeds past the barrier and calls get() and the connection fails , the retry will eventually return null. On the null, then that should trigger an error / exception.\r\n\r\nIf we used a different RetryFactory, one that used infiniteRetries, instead of the default one in ZooReader, then in this case it would not return null and trigger an exception.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175358689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175371533","html_url":"https://github.com/apache/accumulo/issues/2689#issuecomment-1175371533","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2689","id":1175371533,"node_id":"IC_kwDOACaFSM5GDr8N","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-05T18:36:27Z","updated_at":"2022-07-05T18:36:27Z","author_association":"CONTRIBUTOR","body":"With infinite retries we'd need to handle a closed state and just quit. Not an issue, just something that needs to be addressed","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175371533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175452872","html_url":"https://github.com/apache/accumulo/pull/2799#issuecomment-1175452872","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2799","id":1175452872,"node_id":"IC_kwDOACaFSM5GD_zI","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-05T20:06:52Z","updated_at":"2022-07-05T20:06:52Z","author_association":"CONTRIBUTOR","body":"@ctubbsii and @dlmarion - here is my draft PR, it's still a work in progress as I state in the description but there's quite a bit here so feel free to give feedback.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175452872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175454788","html_url":"https://github.com/apache/accumulo/issues/2787#issuecomment-1175454788","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2787","id":1175454788,"node_id":"IC_kwDOACaFSM5GEARE","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-05T20:09:30Z","updated_at":"2022-07-05T20:24:11Z","author_association":"CONTRIBUTOR","body":"@dlmarion mentioned to me that this should be just deprecating the public API for now and updating the code (based on the api here https://accumulo.apache.org/api/) so I can take a look at updating the code and javadocs for that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175454788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175479731","html_url":"https://github.com/apache/accumulo/pull/2796#issuecomment-1175479731","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2796","id":1175479731,"node_id":"IC_kwDOACaFSM5GEGWz","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-05T20:43:10Z","updated_at":"2022-07-05T20:44:05Z","author_association":"MEMBER","body":"> Going even further - is PropUtil necessary? - it looks like the functions could be moved into ZooBasedConfiguration.\r\n\r\nPossibly? It looks like in the places that the functions are used there is usually not a `ZooBasedConfiguration` object available, so one would need to be created in order to use these functions unless I am misinterpreting something. It looks like it might be possible to more easily more these functions into `ServerContext` if that seems like it would be an improvement?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1175479731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1176262891","html_url":"https://github.com/apache/accumulo/issues/2416#issuecomment-1176262891","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2416","id":1176262891,"node_id":"IC_kwDOACaFSM5GHFjr","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T14:03:21Z","updated_at":"2022-07-06T14:03:21Z","author_association":"CONTRIBUTOR","body":"The compression code was re-factored after #2417 was submitted. I have applied the changes from #2417 and its feedback in a new PR (#2800). @trietopsoft - could you take a look at that\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1176262891/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1176263641","html_url":"https://github.com/apache/accumulo/pull/2417#issuecomment-1176263641","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2417","id":1176263641,"node_id":"IC_kwDOACaFSM5GHFvZ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T14:03:56Z","updated_at":"2022-07-06T14:03:56Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #2800 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1176263641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1176607613","html_url":"https://github.com/apache/accumulo/issues/2760#issuecomment-1176607613","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2760","id":1176607613,"node_id":"IC_kwDOACaFSM5GIZt9","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T19:34:30Z","updated_at":"2022-07-06T19:34:30Z","author_association":"MEMBER","body":"The only tables left to convert are tables displaying trace information. As of https://github.com/apache/accumulo/pull/2259, it looks like the information that is returned for the table to display will always be empty. This portion of the code essentially creates an empty list to send when requested by these tables: https://github.com/apache/accumulo/blob/2e74f4d05031e6aa224292dfea89fa553be0cf3d/server/monitor/src/main/java/org/apache/accumulo/monitor/rest/trace/TracesResource.java#L63\r\n\r\nFrom what I can tell the monitor in its current state cannot display anything in the trace tables. I'm not sure if that is the intention, in which case I suppose these tables can be removed from the code? Or if this was supposed to be a follow on task from #2259. Does anyone know how we should move forward with this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1176607613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1177327407","html_url":"https://github.com/apache/accumulo/pull/2799#issuecomment-1177327407","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2799","id":1177327407,"node_id":"IC_kwDOACaFSM5GLJcv","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T09:46:03Z","updated_at":"2022-07-07T09:46:03Z","author_association":"CONTRIBUTOR","body":"Looks like #2796 was merged so I will rebase and refactor this PR based on that when I get back to this. I'm planning to continue working on this PR again this weekend. I'll continue on with updating the tests, docs, and shell code. If we determine to change how the getConfiguration() stuff works I can fix that too.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1177327407/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1177473976","html_url":"https://github.com/apache/accumulo/issues/2760#issuecomment-1177473976","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2760","id":1177473976,"node_id":"IC_kwDOACaFSM5GLtO4","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T11:41:41Z","updated_at":"2022-07-07T11:41:41Z","author_association":"CONTRIBUTOR","body":"I think there was an argument for leaving the trace tables as client code might be populating them somehow. Or, I could be mis-remembering that. I'm a proponent for removing the trace table.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1177473976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1177816574","html_url":"https://github.com/apache/accumulo/pull/2801#issuecomment-1177816574","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2801","id":1177816574,"node_id":"IC_kwDOACaFSM5GNA3-","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T15:41:59Z","updated_at":"2022-07-07T15:41:59Z","author_association":"CONTRIBUTOR","body":"I see the example in https://github.com/apache/accumulo-website/pull/327, that's good enough for me.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1177816574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1178034868","html_url":"https://github.com/apache/accumulo/pull/2801#issuecomment-1178034868","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2801","id":1178034868,"node_id":"IC_kwDOACaFSM5GN2K0","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T18:20:00Z","updated_at":"2022-07-07T18:20:00Z","author_association":"CONTRIBUTOR","body":"Sample command outputs\r\n\r\nOutput for: `> fate -summary -np`\r\n\r\n<details>\r\n  <summary>Sample FATE summary text report: Click to expand</summary>\r\n\r\n```\r\nReport Time: 2022-07-07T18:08:23Z\r\nStatus counts:\r\n  IN_PROGRESS: 2\r\n\r\nCommand counts:\r\n  CompactRange: 2\r\n\r\nStep counts:\r\n  CompactionDriver: 2\r\n\r\nFate transactions (oldest first):\r\nStatus Filters: [NONE]\r\n\r\nRunning\ttxn_id\t\t\t\tStatus\t\tCommand\t\tStep (top)\t\tlocks held:(table id, name)\tlocks waiting:(table id, name)\r\n0:00:04\t0a2aad53b1003a09\tIN_PROGRESS\tCompactRange\tCompactionDriver\theld:[R:(1,ns:ns1), R:(2,t:ns1.ShellServerIT_testFateSummaryCommandWithSlowCompaction0)]\twaiting:[]\r\n0:00:03\t5faa992f7db93cf8\tIN_PROGRESS\tCompactRange\tCompactionDriver\theld:[R:(1,ns:ns1), R:(2,t:ns1.ShellServerIT_testFateSummaryCommandWithSlowCompaction0)]\twaiting:[]\r\n```\r\n</details>\r\n\r\nSample output for `> fate -summary -np json`\r\n\r\n<details>\r\n  <summary>Sample FATE summary json output - Click to expand</summary>\r\n  \r\n```\r\n{\r\n  \"statusCounts\": {\r\n    \"IN_PROGRESS\": 2\r\n  },\r\n  \"cmdCounts\": {\r\n    \"CompactRange\": 2\r\n  },\r\n  \"stepCounts\": {\r\n    \"CompactionDriver\": 2\r\n  },\r\n  \"fateDetails\": [\r\n    {\r\n      \"running\": 4148,\r\n      \"status\": \"IN_PROGRESS\",\r\n      \"command\": \"CompactRange\",\r\n      \"step\": \"CompactionDriver\",\r\n      \"txnId\": \"0a2aad53b1003a09\",\r\n      \"locksHeld\": [\r\n        \"R:(1,ns:ns1)\",\r\n        \"R:(2,t:ns1.ShellServerIT_testFateSummaryCommandWithSlowCompaction0)\"\r\n      ],\r\n      \"locksWaiting\": []\r\n    },\r\n    {\r\n      \"running\": 3057,\r\n      \"status\": \"IN_PROGRESS\",\r\n      \"command\": \"CompactRange\",\r\n      \"step\": \"CompactionDriver\",\r\n      \"txnId\": \"5faa992f7db93cf8\",\r\n      \"locksHeld\": [\r\n        \"R:(1,ns:ns1)\",\r\n        \"R:(2,t:ns1.ShellServerIT_testFateSummaryCommandWithSlowCompaction0)\"\r\n      ],\r\n      \"locksWaiting\": []\r\n    }\r\n  ],\r\n  \"reportTime\": 1657217303363,\r\n  \"statusFilterNames\": []\r\n}\r\n```\r\n</details>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1178034868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1178174301","html_url":"https://github.com/apache/accumulo/issues/1099#issuecomment-1178174301","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1099","id":1178174301,"node_id":"IC_kwDOACaFSM5GOYNd","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T20:15:29Z","updated_at":"2022-07-07T20:15:29Z","author_association":"CONTRIBUTOR","body":"I just re-ran this using `cingest ingest`, `cingest verify` and `cingest scan`\r\n\r\n```\r\ngrep accumulo *.out | grep \"hot method too big\" | awk '{ print $(NF-6) }' | sort | uniq -c\r\n      1 org.apache.accumulo.core.clientImpl.TabletServerBatchWriter$MutationWriter::sendMutationsToTabletServer\r\n      4 org.apache.accumulo.core.dataImpl.thrift.TMutation$TMutationStandardScheme::read\r\n     29 org.apache.accumulo.core.data.Key::equals\r\n     10 org.apache.accumulo.core.file.rfile.bcfile.BCFile$Reader::<init>\r\n     22 org.apache.accumulo.core.file.rfile.bcfile.Utils::writeVLong\r\n      8 org.apache.accumulo.core.file.rfile.RelativeKey::fastSkip\r\n      5 org.apache.accumulo.core.file.rfile.RelativeKey::<init>\r\n     14 org.apache.accumulo.core.file.rfile.RelativeKey::readFields\r\n      4 org.apache.accumulo.core.file.rfile.RFile$LocalityGroupReader::_seek\r\n      1 org.apache.accumulo.core.file.rfile.RFile$Reader::<init>\r\n      1 org.apache.accumulo.core.iteratorsImpl.system.LocalityGroupIterator::_seek\r\n     12 org.apache.accumulo.core.iteratorsImpl.system.SourceSwitchingIterator::readNext\r\n      1 org.apache.accumulo.core.spi.compaction.DefaultCompactionPlanner::makePlan\r\n      1 org.apache.accumulo.server.constraints.MetadataConstraints::check\r\n      2 org.apache.accumulo.server.fs.FileManager::reserveReaders\r\n      3 org.apache.accumulo.server.fs.FileManager$ScanFileManager::openFiles\r\n      1 org.apache.accumulo.tserver.compactions.CompactionService::submitCompactionJob\r\n      1 org.apache.accumulo.tserver.scan.LookupTask::run\r\n      2 org.apache.accumulo.tserver.scan.NextBatchTask::run\r\n      1 org.apache.accumulo.tserver.ScanServer::reserveFiles\r\n      1 org.apache.accumulo.tserver.tablet.CompactableImpl$FileManager::getCandidates\r\n      2 org.apache.accumulo.tserver.tablet.ScanDataSource::createIterator\r\n      2 org.apache.accumulo.tserver.tablet.Scanner::read\r\n      4 org.apache.accumulo.tserver.tablet.TabletBase::nextBatch\r\n      1 org.apache.accumulo.tserver.tablet.Tablet::findSplitRow\r\n      3 org.apache.accumulo.tserver.ThriftScanClientHandler::continueScan\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1178174301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1178192590","html_url":"https://github.com/apache/accumulo/pull/2802#issuecomment-1178192590","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2802","id":1178192590,"node_id":"IC_kwDOACaFSM5GOcrO","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T20:32:29Z","updated_at":"2022-07-07T20:32:29Z","author_association":"CONTRIBUTOR","body":"Successfully ran sunny tests with updated version (2.8.0)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1178192590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1178256774","html_url":"https://github.com/apache/accumulo/issues/1423#issuecomment-1178256774","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1423","id":1178256774,"node_id":"IC_kwDOACaFSM5GOsWG","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T21:39:37Z","updated_at":"2022-07-07T21:39:37Z","author_association":"CONTRIBUTOR","body":"With the prop store changes complete, properties are no longer stored in ZooCache - I'll take a look at this now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1178256774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179048415","html_url":"https://github.com/apache/accumulo/pull/2800#issuecomment-1179048415","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2800","id":1179048415,"node_id":"IC_kwDOACaFSM5GRtnf","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T14:23:55Z","updated_at":"2022-07-08T14:23:55Z","author_association":"CONTRIBUTOR","body":"I was able to test this locally.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179048415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179048760","html_url":"https://github.com/apache/accumulo/issues/1099#issuecomment-1179048760","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1099","id":1179048760,"node_id":"IC_kwDOACaFSM5GRts4","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T14:24:17Z","updated_at":"2022-07-08T14:24:17Z","author_association":"MEMBER","body":"@milleruntime @dlmarion, do either of you have a link to a branch/repo/gist that you used to produce this output? I could try looking into some of these, but I'm not exactly sure how to verify my changes fixed anything without first being able to reproduce the report.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179048760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179056325","html_url":"https://github.com/apache/accumulo/issues/1099#issuecomment-1179056325","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1099","id":1179056325,"node_id":"IC_kwDOACaFSM5GRvjF","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T14:31:29Z","updated_at":"2022-07-08T14:31:29Z","author_association":"CONTRIBUTOR","body":"I just:\r\n  1. created a small cluster from the `main` branch\r\n  2. added the following to `JAVA_OPTS` in `accumulo-env.sh`\r\n```\r\n-XX:+PrintCompilation \r\n-XX:+UnlockDiagnosticVMOptions \r\n-XX:+PrintInlining\r\n```\r\n  3. ran `cingest` commands\r\n  4. `grep accumulo *.out | grep \"hot method too big\" | awk '{ print $(NF-6) }' | sort | uniq -c` in the log files directory","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179056325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179060490","html_url":"https://github.com/apache/accumulo/issues/1099#issuecomment-1179060490","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1099","id":1179060490,"node_id":"IC_kwDOACaFSM5GRwkK","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T14:35:31Z","updated_at":"2022-07-08T14:35:31Z","author_association":"CONTRIBUTOR","body":"Also, some, or all, of these methods might not meet the criteria for inlining unless they are refactored. If you are not familiar with it, [here](https://www.baeldung.com/jvm-method-inlining) is a good explanation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179060490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179261948","html_url":"https://github.com/apache/accumulo/issues/1099#issuecomment-1179261948","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1099","id":1179261948,"node_id":"IC_kwDOACaFSM5GShv8","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T18:32:52Z","updated_at":"2022-07-08T18:32:52Z","author_association":"MEMBER","body":"> 2\\. added the following to `JAVA_OPTS` in `accumulo-env.sh`\r\n> \r\n> ```\r\n> -XX:+PrintCompilation \r\n> -XX:+UnlockDiagnosticVMOptions \r\n> -XX:+PrintInlining\r\n> ```\r\n\r\nI was able to get this working only after adding these to all of the cases in the switch stmt:\r\n```\r\ncase \"$cmd\" in\r\n  manager | master) JAVA_OPTS=('-Xmx512m' '-Xms512m' '-XX:+PrintCompilation' '-XX:+UnlockDiagnosticVMOptions' '-XX:+PrintInlining' \"${JAVA_OPTS[@]}\") ;;\r\n  monitor) JAVA_OPTS=('-Xmx256m' '-Xms256m' '-XX:+PrintCompilation' '-XX:+UnlockDiagnosticVMOptions' '-XX:+PrintInlining' \"${JAVA_OPTS[@]}\") ;;\r\n  gc) JAVA_OPTS=('-Xmx256m' '-Xms256m' '-XX:+PrintCompilation' '-XX:+UnlockDiagnosticVMOptions' '-XX:+PrintInlining' \"${JAVA_OPTS[@]}\") ;;\r\n  tserver) JAVA_OPTS=(\"${JAVA_OPTS[@]}\" '-Xmx6G' '-Xms6G' '-XX:+PrintCompilation' '-XX:+UnlockDiagnosticVMOptions' '-XX:+PrintInlining') ;;\r\n  compaction-coordinator) JAVA_OPTS=('-Xmx512m' '-Xms512m' '-XX:+PrintCompilation' '-XX:+UnlockDiagnosticVMOptions' '-XX:+PrintInlining' \"${JAVA_OPTS[@]}\") ;;\r\n  compactor) JAVA_OPTS=('-Xmx256m' '-Xms256m' '-XX:+PrintCompilation' '-XX:+UnlockDiagnosticVMOptions' '-XX:+PrintInlining' \"${JAVA_OPTS[@]}\") ;;\r\n  *) JAVA_OPTS=('-Xmx256m' '-Xms64m' \"${JAVA_OPTS[@]}\") ;;\r\nesac\r\n```\r\n\r\nI also got a different list of hot methods:\r\n```\r\n      9 org.apache.accumulo.core.dataImpl.thrift.TMutation$TMutationStandardScheme::read\r\n     53 org.apache.accumulo.core.data.Key::equals\r\n     12 org.apache.accumulo.core.file.rfile.bcfile.BCFile$Reader::<init>\r\n     30 org.apache.accumulo.core.file.rfile.bcfile.Utils::writeVLong\r\n     15 org.apache.accumulo.core.file.rfile.RelativeKey::<init>\r\n      5 org.apache.accumulo.core.file.rfile.RelativeKey::readFields\r\n      3 org.apache.accumulo.core.file.rfile.RFile$LocalityGroupReader::_seek\r\n     19 org.apache.accumulo.core.iteratorsImpl.system.SourceSwitchingIterator::readNext\r\n      2 org.apache.accumulo.server.constraints.MetadataConstraints::check\r\n      3 org.apache.accumulo.server.fs.FileManager$ScanFileManager::openFiles\r\n      3 org.apache.accumulo.server.fs.FileManager::reserveReaders\r\n      1 org.apache.accumulo.tserver.scan.LookupTask::run\r\n      3 org.apache.accumulo.tserver.scan.NextBatchTask::run\r\n      5 org.apache.accumulo.tserver.tablet.ScanDataSource::createIterator\r\n      3 org.apache.accumulo.tserver.tablet.Scanner::read\r\n      3 org.apache.accumulo.tserver.tablet.TabletBase::nextBatch\r\n      3 org.apache.accumulo.tserver.ThriftScanClientHandler::continueScan\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179261948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179584479","html_url":"https://github.com/apache/accumulo/pull/2799#issuecomment-1179584479","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2799","id":1179584479,"node_id":"IC_kwDOACaFSM5GTwff","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-09T18:14:10Z","updated_at":"2022-07-09T18:14:10Z","author_association":"CONTRIBUTOR","body":"@EdColeman  and @dlmarion -\r\n\r\nOk I have updated my PR with a few changes to address the comments/discussion made as well as added/changed some tests. I rebased my PR off main and cherry-picked the commit from #2803 so that it will be easy to rebase when #2803 is merged. I then fixed up my PR to incorporate the changes made in https://github.com/EdColeman/accumulo/tree/prop_atomic_update . I also ran through the Sunny day test profile and everything passed.\r\n\r\n**To address Ed's comments:**\r\n\r\n- I renamed everything to be consistent so getSystemProperties(), getTableProperties(), getNamespaceProperties(), etc as we are only returning properties and not the full config.\r\n- For system properties I updated the PR to be handled the same was as table properties and namespace properties. Same naming convention and new method on instanceOperations() etc. There may be work to do for here in another PR as stated if we want to deduplicate things\r\n- For the exception handling I think it makes sense to fail fast on the first invalid property and throw an exception. It looks like the same IllegalStateException is thrown already on setting an invalid property as things get validated so the behavior is the same.\r\n- For the tests I went and updated/added some more. I tried to do a search and add some tests in various areas to cover functionality (adding, removing, etc) and I also tried to add some tests for permissions. My guess is the tests may not be complete and I may need to review it and write some more edge cases tests but at least what is there should demonstrate the basic functionality.\r\n\r\n**Other notes:**\r\n\r\n- I reverted the changes Emily did to the Config command. It doesn't really make sense to try and mutate multiple properties at once with a command since it would blow stuff away. If we do want to have a command I would think we would need an entirely new command (not mess with the current one) and that is probably best with a follow on PR. Maybe we just have a way to script or upload a set of properties.\r\n- The javadocs probably need some work and review for accuracy. I figured I would go back and fix up the Javadocs after the next review and when things look good before the final merge to make sure I'm not spending a lot of time on Javadocs for things that will be removed/deleted anyways.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1179584479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1180352031","html_url":"https://github.com/apache/accumulo/issues/1610#issuecomment-1180352031","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1610","id":1180352031,"node_id":"IC_kwDOACaFSM5GWr4f","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-11T12:31:22Z","updated_at":"2022-07-11T12:31:22Z","author_association":"CONTRIBUTOR","body":"According to the `Suppliers.memoizeWithExpiration()` javadoc and source, the return value of the supplier is cached for the specified duration. So, the code in `CompactableImpl.CompactionCheck.memoizedCheck` is invoked every 100ms. In the case of a compaction that is running this seems better than the suggestion above. However, in the case of a compaction thread that is slow (e.g. user iterators, waiting on I/O or CPU), 100ms might be too low of a value.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1180352031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1183095105","html_url":"https://github.com/apache/accumulo/pull/2799#issuecomment-1183095105","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2799","id":1183095105,"node_id":"IC_kwDOACaFSM5GhJlB","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-13T11:18:29Z","updated_at":"2022-07-13T11:18:29Z","author_association":"CONTRIBUTOR","body":"@EdColeman - I just rebased off main since I saw you merged in your PropUtil changes and pushed up the latest","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1183095105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1183328258","html_url":"https://github.com/apache/accumulo/issues/2787#issuecomment-1183328258","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2787","id":1183328258,"node_id":"IC_kwDOACaFSM5GiCgC","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-13T14:54:38Z","updated_at":"2022-07-13T14:54:38Z","author_association":"CONTRIBUTOR","body":"I submitted a PR for this: #2806","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1183328258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1183614377","html_url":"https://github.com/apache/accumulo/issues/2807#issuecomment-1183614377","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2807","id":1183614377,"node_id":"IC_kwDOACaFSM5GjIWp","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-13T19:49:47Z","updated_at":"2022-07-13T19:49:47Z","author_association":"CONTRIBUTOR","body":"I submitted PRs for a couple of these so far, I will continue with more this weekend. Not sure if there are any existing tests that need to be updated besides the one keyword I test but I can do a search as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1183614377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1183799552","html_url":"https://github.com/apache/accumulo/pull/2810#issuecomment-1183799552","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2810","id":1183799552,"node_id":"IC_kwDOACaFSM5Gj1kA","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-14T00:08:32Z","updated_at":"2022-07-14T00:08:32Z","author_association":"CONTRIBUTOR","body":"Reviewing the FATE api proposal I noticed that FateMetrics could use ReadOnlyStore.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1183799552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1184874508","html_url":"https://github.com/apache/accumulo/pull/2811#issuecomment-1184874508","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2811","id":1184874508,"node_id":"IC_kwDOACaFSM5Gn8AM","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-14T20:37:04Z","updated_at":"2022-07-14T20:37:04Z","author_association":"MEMBER","body":"I have marked this as WIP since there is still work to be done here:\r\n* Look into refactoring more methods appearing in the list of methods in #1099 \r\n* Rename new methods. I am not sure what to name the new methods so suggestions are very welcome.\r\n  *  Namely, the new methods in `RelativeKey`: `extracted()` and `getBytes()`. Both of which I have left as thier IDE generated names","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1184874508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1186221447","html_url":"https://github.com/apache/accumulo/issues/2807#issuecomment-1186221447","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2807","id":1186221447,"node_id":"IC_kwDOACaFSM5GtE2H","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-16T15:39:40Z","updated_at":"2022-07-16T15:39:40Z","author_association":"CONTRIBUTOR","body":"@dlmarion and @EdColeman - Ok this is ready for review, I went ahead and tackled 8 utilities for now, each with their own PR to review in isolation. I verified everything works using Uno and the accumulo command for each utility.\r\n\r\nFor the [UsageGroup](https://github.com/apache/accumulo/blob/main/start/src/main/java/org/apache/accumulo/start/spi/KeywordExecutable.java#L46) all the commands are just added under the default `OTHER` but this can be changed easily. Also some of these may be a candidate to be encapsulated under the [Admin](https://github.com/apache/accumulo/blob/main/server/base/src/main/java/org/apache/accumulo/server/util/Admin.java) command but for now I just made them their own commands.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1186221447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187528970","html_url":"https://github.com/apache/accumulo/issues/2807#issuecomment-1187528970","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2807","id":1187528970,"node_id":"IC_kwDOACaFSM5GyEEK","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T14:08:42Z","updated_at":"2022-07-18T14:08:42Z","author_association":"CONTRIBUTOR","body":"Where you able to test each of these utilities? Some may be in an unknown working condition. Adding the Keywords to the commands will make them show up under the main `accumulo` command, making them more visible to the user. I think this is good for some, `DumpZookeeper` and `TableDiskUsage` for example, are more general purpose utilities. Other commands such as `ChangeSecret` and the Delete and Restore ZK, might be better served under the `Admin` command since these should only be used on a rare occasion.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187528970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187567084","html_url":"https://github.com/apache/accumulo/issues/2807#issuecomment-1187567084","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2807","id":1187567084,"node_id":"IC_kwDOACaFSM5GyNXs","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T14:25:50Z","updated_at":"2022-07-18T14:26:53Z","author_association":"CONTRIBUTOR","body":"@milleruntime -\r\n\r\n1. Testing - I ran all the commands against Uno and they _seemed_ to work but since I'm pretty new I wasn't sure how to verify the output on all of them. I looked around and didn't really see any existing unit tests for the utilities themselves to verify they work or functionality. Maybe another task should be to actually write some unit tests for these commands to verify they work (using mini accumulo, etc). I could create a new issue and PRs to add tests (if you agree they should be a separate issue)\r\n2. I agree about moving some commands as I figured some of them would make more sense as part of the Admin command as I mentioned but wasn't sure which ones. I worked on 8 so far, I can update my PRs and move ChangeSecret, Delete and Restore ZK to the Admin command. Any others you think?\r\n3. I am also going to search around the code now and take a look now to see if there's anymore commands to fix but if you know of any others let me know.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187567084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187661961","html_url":"https://github.com/apache/accumulo/pull/2809#issuecomment-1187661961","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2809","id":1187661961,"node_id":"IC_kwDOACaFSM5GykiJ","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T15:44:52Z","updated_at":"2022-07-18T15:44:52Z","author_association":"CONTRIBUTOR","body":"After looking at this change, I think this makes more sense for this Utility to _not_ be a keyword executable. It is currently called from the Shell as part of the `du` command. This makes more sense to me as it can be run from a table context and requires a table as an argument.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187661961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187684744","html_url":"https://github.com/apache/accumulo/pull/2806#issuecomment-1187684744","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2806","id":1187684744,"node_id":"IC_kwDOACaFSM5GyqGI","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T16:05:23Z","updated_at":"2022-07-18T16:05:23Z","author_association":"CONTRIBUTOR","body":"> Do we want to specify when it will be removed? \r\n\r\nI think stating that it will be removed in the future is fine.\r\n\r\n> Is there anything else to do here?\r\n\r\nSince this does touch the Shell, you may be able to print a warning if the user uses a `ScanInterpreter`. We usually try to do this as a courtesy to the user when deprecating things in the Shell. For example:\r\nhttps://github.com/apache/accumulo/blob/cf57e343de77f416de10c22e0ed05ef37f433b36/shell/src/main/java/org/apache/accumulo/shell/commands/ImportDirectoryCommand.java#L71-L73","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187684744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187691138","html_url":"https://github.com/apache/accumulo/pull/2809#issuecomment-1187691138","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2809","id":1187691138,"node_id":"IC_kwDOACaFSM5GyrqC","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T16:10:54Z","updated_at":"2022-07-18T16:10:54Z","author_association":"CONTRIBUTOR","body":"Ah ok, I tried to search and find commands that were not already exposed but must have missed this one. I can go ahead and just close this one out. That's why I created these all as separate PRs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187691138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187715715","html_url":"https://github.com/apache/accumulo/pull/2809#issuecomment-1187715715","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2809","id":1187715715,"node_id":"IC_kwDOACaFSM5GyxqD","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T16:33:16Z","updated_at":"2022-07-18T16:33:16Z","author_association":"CONTRIBUTOR","body":"The du command (and I assume this one) can perform poorly with tables that have large number of files.  There are a subtleties involved with trying to determine \"size\"\r\n\r\n- This command and the shell du command both seem to require an Accumulo instance (at least a metadata table). Theoretically the information could be read directly from ZooKeeper - sort of a virtual metadata table, but not sure it is worth it. @milleruntime comment that this is redundant holds if both require an active instance.\r\n\r\nFor the du command in general:\r\n\r\n- The metadata stores estimated entity counts and files size that is updated on a compaction. For bulk imports, the information may not be available.\r\n- These commands are trying to account for shared files - if a table is cloned, it is a metadata operation and the file references in the metadata are \"copied\" - so you cannot use the file size in hdfs under the table directory because the table *could be* sharing files that are in a different directory.\r\n- When files are *NOT* shared, could something like the hdfs -dus option be used?\r\n- There may be a conflict between how much space an Accumulo table needs - vs. how much space is it occupying on disk. Compactions in progress can increase the hdfs usage because they are created stored on disk, but not yet part of the table \"used\" files.  Files that are eligible for gc, but not deleted also inflate the hdfs space.  For a large table, does it matter - you have a big number vs another bigger number.  In most cases, the physically hdfs usage seems the most relevant.  If the Accumulo size is a driving factor and a accurate number is needed - then you probably should run a compaction so that old data can be aged off, shared files consolidated,...\r\n\r\nThe may be some optimizations for the du command in general (likely a separate issue as a follow on to https://github.com/apache/accumulo/pull/1259) \r\n\r\n- if no files are shared, just use the hdfs directory size of the table.\r\n- Maybe use the file entity / size estimates and then add the files size of bulk import files?\r\n- provide options to just get the entity / size estimates from the metadata or just the hdfs directory size.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187715715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187741541","html_url":"https://github.com/apache/accumulo/pull/2809#issuecomment-1187741541","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2809","id":1187741541,"node_id":"IC_kwDOACaFSM5Gy39l","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T16:50:02Z","updated_at":"2022-07-18T16:50:02Z","author_association":"CONTRIBUTOR","body":"Created https://github.com/apache/accumulo/issues/2820 for possible follow on to capture my comments after the issue closed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187741541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187911027","html_url":"https://github.com/apache/accumulo/issues/2807#issuecomment-1187911027","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2807","id":1187911027,"node_id":"IC_kwDOACaFSM5GzhVz","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T17:42:25Z","updated_at":"2022-07-18T17:42:25Z","author_association":"CONTRIBUTOR","body":"@milleruntime - I updated the PRs for DeleteZooInstance, RestoreZooInstance and ChangeSecret to now be included as part of the `admin` command.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187911027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187918885","html_url":"https://github.com/apache/accumulo/issues/2812#issuecomment-1187918885","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2812","id":1187918885,"node_id":"IC_kwDOACaFSM5GzjQl","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T17:45:42Z","updated_at":"2022-07-18T17:45:42Z","author_association":"MEMBER","body":"I've run an updated version of [the benchmark](https://issues.apache.org/jira/secure/attachment/12829691/benchmark.tar.gz) from [the original jira ticket](https://issues.apache.org/jira/browse/ACCUMULO-4468) and the results I received seem significant\r\n```\r\nBenchmark                    Mode  Cnt   Score   Error  Units\r\nMyBenchmark.customDom       thrpt   25  56.241 ± 0.458  ops/s\r\nMyBenchmark.customVanilla   thrpt   25  53.248 ± 0.475  ops/s\r\nMyBenchmark.customWill      thrpt   25  92.400 ± 0.935  ops/s\r\nMyBenchmark.standardEquals  thrpt   25  51.610 ± 0.470  ops/s\r\n```\r\nThe `MyBenchmark.customWill` is the relevant `equals()` method with its comparison reversed. This looks like this:\r\n```java\r\n  public boolean willEquals(WillKey other, PartialKey part) {\r\n    switch (part) {\r\n      case ROW_COLFAM_COLQUAL_COLVIS_TIME_DEL:\r\n        if (deleted != other.deleted)\r\n          return false;\r\n      case ROW_COLFAM_COLQUAL_COLVIS_TIME:\r\n        if (timestamp != other.timestamp)\r\n          return false;\r\n      case ROW_COLFAM_COLQUAL_COLVIS:\r\n        if (!isEqual(colVisibility, other.colVisibility))\r\n          return false;\r\n      case ROW_COLFAM_COLQUAL:\r\n        if (!isEqual(colQualifier, other.colQualifier))\r\n          return false;\r\n      case ROW_COLFAM:\r\n        if (!isEqual(colFamily, other.colFamily))\r\n          return false;\r\n      case ROW:\r\n        return isEqual(row, other.row);\r\n      default:\r\n        throw new IllegalArgumentException(\"Unrecognized partial key specification \" + part);\r\n    }\r\n  }\r\n```\r\nCompared to the current code:\r\nhttps://github.com/apache/accumulo/blob/36dd78ce6bbc2aae8db72014b8703f94b9b92ded/core/src/main/java/org/apache/accumulo/core/data/Key.java#L977-L1002\r\nI did add another equals method to the benchmark for testing in relation to #2811 represented by `MyBenchmark.customDom` in the benchmark printout. For those interested that method can be found [here](https://gist.github.com/480e5ed9fdaadd0813ca7647f8acabbe).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187918885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187935665","html_url":"https://github.com/apache/accumulo/issues/2820#issuecomment-1187935665","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2820","id":1187935665,"node_id":"IC_kwDOACaFSM5GznWx","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T17:51:41Z","updated_at":"2022-07-18T17:51:41Z","author_association":"CONTRIBUTOR","body":"@EdColeman - I agree that making some changes here makes a lot of sense to improve performance. I have a background in Apache Kafka and it's similar there when trying to compute the message count and disk usage/size of a Topic and partitions (similar to tablets in Accumulo). It's an intensive process to have to walk to the partitions and figure out the number of messages/disk usage so estimating and caching sizes/metadata is usually sufficient because it doesn't much matter the exact count/bytes when talking about large enough numbers as long as it's close.\r\n\r\nI am happy to work on this issue and make the changes once we get some feedback from everyone and come to a consensus about what changes should be done here.\r\n\r\n@milleruntime, @ctubbsii , @dlmarion - Thoughts on this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1187935665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188047795","html_url":"https://github.com/apache/accumulo/pull/2806#issuecomment-1188047795","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2806","id":1188047795,"node_id":"IC_kwDOACaFSM5G0Cuz","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T18:20:30Z","updated_at":"2022-07-18T18:23:09Z","author_association":"CONTRIBUTOR","body":"I did a search and it looked like a deprecation message was already being printed if using a `ScanInterpreter`\r\n\r\nhttps://github.com/apache/accumulo/blob/36dd78ce6bbc2aae8db72014b8703f94b9b92ded/shell/src/main/java/org/apache/accumulo/shell/commands/ScanCommand.java#L224-L225","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188047795/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188103322","html_url":"https://github.com/apache/accumulo/issues/2820#issuecomment-1188103322","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2820","id":1188103322,"node_id":"IC_kwDOACaFSM5G0QSa","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T18:43:21Z","updated_at":"2022-07-18T18:43:21Z","author_association":"CONTRIBUTOR","body":"If no one has any objects I am volunteering to go ahead and start with the 3rd suggestion listed and work on an option to scan the Metadata for the size information as that seems like a logical thing to try. I can provide a PR for that and see what people think. I may have a little bit of time later this week to get started but I am out next week so I probably won't have something to submit to be reviewed until at least the first week of August.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188103322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188111321","html_url":"https://github.com/apache/accumulo/issues/2812#issuecomment-1188111321","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2812","id":1188111321,"node_id":"IC_kwDOACaFSM5G0SPZ","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T18:46:49Z","updated_at":"2022-07-18T18:46:49Z","author_association":"CONTRIBUTOR","body":"Maybe I am reading you code wrong, but I don't see where your code is functionally equivalent to the current code that you posted here.\r\n\r\nThe current code seems to be performing partial key comparisons - so for example, if the case is `ROW` only the row data is compared.  If it was `ROW_COLFAM_COLQUAL` the fields ROW, COL_FAM and COL_QUAL are all checked - it looks like you code only checks the last value as specified by the depth.\r\n\r\nWith your code, if the timestamps are equal, would it consider the rows equal?\r\n\r\nWhat I thought you were going for would use boolean operation short-circuiting so that comparing \"long\" rows would be \r\ndeferred until later.\r\n\r\n```\r\noriginal: \r\n...\r\ncase ROW_COLFAM_COLQUAL_COLVIS_TIME_DEL: \r\n return isEqual(row, other.row) && isEqual(colFamily, other.colFamily) \r\n           && isEqual(colQualifier, other.colQualifier) \r\n           && isEqual(colVisibility, other.colVisibility) && timestamp == other.timestamp \r\n           && deleted == other.deleted; \r\n\r\npossible change:\r\n...\r\ncase ROW_COLFAM_COLQUAL_COLVIS_TIME_DEL: \r\n return deleted == other.deleted &&\r\n           && timestamp == other.timestamp \r\n           && isEqual(colVisibility, other.colVisibility)\r\n           && isEqual(colQualifier, other.colQualifier) \r\n           && isEqual(colFamily, other.colFamily) \r\n           && isEqual(row, other.row) \r\n```\r\n\r\nHowever, even this may end up with additional comparisons and would depend on the distribution of values within the table.\r\n\r\nWhen comparing full depth, checking isDeleted and timestamp upfront seem to be a good optimization.\r\n\r\nWhen comparing a partial key, things are not so clear cut.  \r\n\r\n- Visibilities may or may not change frequently.\r\n- If locality groups are used, then column family / column qualifiers will be grouped together and then less likely to change from row to row.\r\n- for changes between row(s), the last bytes are more likely to change the fastest. if the rows are `AAAA` and `AAAB` starting from the end (when lengths are equal) requires one comparison. Starting from the head it takes four comparisons (assuming checking one character at a time, but holds for longer values when greater than a long or an integer if grabbing multiple bytes at a time) \r\n\r\nSorry if I misunderstand what you are showing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188111321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188145174","html_url":"https://github.com/apache/accumulo/pull/2806#issuecomment-1188145174","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2806","id":1188145174,"node_id":"IC_kwDOACaFSM5G0agW","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T19:02:00Z","updated_at":"2022-07-18T19:02:00Z","author_association":"CONTRIBUTOR","body":"> I did a search and it looked like a deprecation message was already being printed if using a `ScanInterpreter`\r\n> \r\n> https://github.com/apache/accumulo/blob/36dd78ce6bbc2aae8db72014b8703f94b9b92ded/shell/src/main/java/org/apache/accumulo/shell/commands/ScanCommand.java#L224-L225\r\n\r\nIt looks like I already did that 3 years ago!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188145174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188149762","html_url":"https://github.com/apache/accumulo/pull/2806#issuecomment-1188149762","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2806","id":1188149762,"node_id":"IC_kwDOACaFSM5G0boC","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T19:04:10Z","updated_at":"2022-07-18T19:04:10Z","author_association":"CONTRIBUTOR","body":"> > I did a search and it looked like a deprecation message was already being printed if using a `ScanInterpreter`\r\n> > https://github.com/apache/accumulo/blob/36dd78ce6bbc2aae8db72014b8703f94b9b92ded/shell/src/main/java/org/apache/accumulo/shell/commands/ScanCommand.java#L224-L225\r\n> \r\n> It looks like I already did that 3 years ago!\r\n\r\nRight, I noticed that initially when I started work on this (that you had already done some of the deprecation work). So that's why I just added the deprecation markers to the API itself and I think it's good now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188149762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188990372","html_url":"https://github.com/apache/accumulo/pull/2806#issuecomment-1188990372","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2806","id":1188990372,"node_id":"IC_kwDOACaFSM5G3o2k","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T12:27:37Z","updated_at":"2022-07-19T12:27:37Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @cshannon and welcome to the Apache Accumulo community. If you would like to be listed as a contributor on Accumulo's people page please make a website PR for people.md. https://github.com/apache/accumulo-website/edit/main/pages/people.md\r\n\r\nIf you intend to make more contributions, please consider subscribing to the dev list and introducing yourself. Also, you can use the dev list or slack to reach out if you have questions about anything. https://accumulo.apache.org/contact-us/","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1188990372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189002860","html_url":"https://github.com/apache/accumulo/issues/2787#issuecomment-1189002860","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2787","id":1189002860,"node_id":"IC_kwDOACaFSM5G3r5s","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T12:39:28Z","updated_at":"2022-07-19T12:39:28Z","author_association":"CONTRIBUTOR","body":"Fixed in #2806 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189002860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189009521","html_url":"https://github.com/apache/accumulo/pull/2818#issuecomment-1189009521","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2818","id":1189009521,"node_id":"IC_kwDOACaFSM5G3thx","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T12:46:19Z","updated_at":"2022-07-19T12:46:19Z","author_association":"CONTRIBUTOR","body":"We have a `checkTablets` command under Admin that may be similar to this utility. I am going to look at it more closely but I think this could go under Admin as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189009521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189030286","html_url":"https://github.com/apache/accumulo/pull/2818#issuecomment-1189030286","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2818","id":1189030286,"node_id":"IC_kwDOACaFSM5G3ymO","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T13:06:32Z","updated_at":"2022-07-19T13:06:32Z","author_association":"CONTRIBUTOR","body":"> We have a `checkTablets` command under Admin that may be similar to this utility. I am going to look at it more closely but I think this could go under Admin as well.\r\n\r\nOk sounds good, I can move this to Admin when I get some time later this week.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189030286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189031683","html_url":"https://github.com/apache/accumulo/issues/2807#issuecomment-1189031683","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2807","id":1189031683,"node_id":"IC_kwDOACaFSM5G3y8D","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T13:07:46Z","updated_at":"2022-07-19T13:07:46Z","author_association":"CONTRIBUTOR","body":"@milleruntime - I just went through and rebased all the PRs off the latest off main and fixed the descriptions and commit messages for them all.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189031683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189044853","html_url":"https://github.com/apache/accumulo/pull/2817#issuecomment-1189044853","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2817","id":1189044853,"node_id":"IC_kwDOACaFSM5G32J1","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T13:19:44Z","updated_at":"2022-07-19T13:19:44Z","author_association":"CONTRIBUTOR","body":"I think this one should go under Admin command as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189044853/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189177573","html_url":"https://github.com/apache/accumulo/issues/2812#issuecomment-1189177573","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2812","id":1189177573,"node_id":"IC_kwDOACaFSM5G4Wjl","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T15:11:53Z","updated_at":"2022-07-19T15:11:53Z","author_association":"MEMBER","body":"@EdColeman, I think you are understanding things correctly. The code I posted above was from the original ticket and I had overlooked the points you have made. I'll work on some changes to try to address these things.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189177573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189357953","html_url":"https://github.com/apache/accumulo/pull/2811#issuecomment-1189357953","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2811","id":1189357953,"node_id":"IC_kwDOACaFSM5G5CmB","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T17:22:14Z","updated_at":"2022-07-19T17:36:20Z","author_association":"CONTRIBUTOR","body":"Sorry - this comment applies to #2812 \r\n\r\nLooking at the method in 'Key' the method that performs the equality check on a byte array  `private static boolean isEqual(byte[] a1, byte[] a2)` is already optimized for Accumulo row comparisons, checking the last few bytes first and does not seem to need additional optimization.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189357953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189367631","html_url":"https://github.com/apache/accumulo/pull/2811#issuecomment-1189367631","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2811","id":1189367631,"node_id":"IC_kwDOACaFSM5G5E9P","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T17:32:42Z","updated_at":"2022-07-19T17:32:42Z","author_association":"MEMBER","body":"> Looking at the method in 'Key' the method that performs the equality check on a byte array `private static boolean isEqual(byte[] a1, byte[] a2)` is already optimized for Accumulo row comparisons, checking the last few bytes first and does not seem to need additional optimization.\r\n\r\nIs this in relation to #2812? If so, do you think its worth investigating rearranging some of the comparisons made as mentioned in your comments [here](https://github.com/apache/accumulo/issues/2812#issuecomment-1188111321), or do you think #2812 should be closed?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189367631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189370315","html_url":"https://github.com/apache/accumulo/issues/2812#issuecomment-1189370315","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2812","id":1189370315,"node_id":"IC_kwDOACaFSM5G5FnL","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T17:35:37Z","updated_at":"2022-07-19T17:35:37Z","author_association":"CONTRIBUTOR","body":"Looking at the method in 'Key' the method that performs the equality check on a byte array private static boolean isEqual(byte[] a1, byte[] a2) is already optimized for Accumulo row comparisons, checking the last few bytes first and does not seem to need additional optimization.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189370315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189399190","html_url":"https://github.com/apache/accumulo/issues/2812#issuecomment-1189399190","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2812","id":1189399190,"node_id":"IC_kwDOACaFSM5G5MqW","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T18:08:09Z","updated_at":"2022-07-19T18:08:09Z","author_association":"MEMBER","body":"> Looking at the method in 'Key' the method that performs the equality check on a byte array private static boolean isEqual(byte[] a1, byte[] a2) is already optimized for Accumulo row comparisons, checking the last few bytes first and does not seem to need additional optimization.\r\n\r\nSo then maybe the only thing that might be worth looking into further is your suggestion about the full depth check:\r\n> When comparing full depth, checking isDeleted and timestamp upfront seem to be a good optimization.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189399190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189457694","html_url":"https://github.com/apache/accumulo/issues/2812#issuecomment-1189457694","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2812","id":1189457694,"node_id":"IC_kwDOACaFSM5G5a8e","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T19:12:54Z","updated_at":"2022-07-19T19:12:54Z","author_association":"CONTRIBUTOR","body":"I am confused with the in the context of #2811 are any changes needed?\r\n\r\nIf not, changing the full depth equals to deleted, timestamp, row, col fam, col qual and then col visibility might be a minor improvement. deleted and timestamp should be easy checks, keeping the rest of the order (row, col fam,...) minimizes behavior changes - in some cases having vis, col fam, col qual checked before large row values would help, but in other cases it would be worse - so without evidence of a general improvement without negative impacts it seems safest to leave that part of the current order in place.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1189457694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1190243963","html_url":"https://github.com/apache/accumulo/pull/2751#issuecomment-1190243963","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2751","id":1190243963,"node_id":"IC_kwDOACaFSM5G8a57","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T12:47:02Z","updated_at":"2022-07-20T12:48:47Z","author_association":"CONTRIBUTOR","body":"I believe all issues have been addressed.  The requested change does not alter the functionality but  how information is displayed in the logs and can be addressed later.\r\n\r\nI am going to merge as is so that documentation updated can be merged before other command changes can potentially cause merge conflicts.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1190243963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1190575897","html_url":"https://github.com/apache/accumulo/issues/2760#issuecomment-1190575897","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2760","id":1190575897,"node_id":"IC_kwDOACaFSM5G9r8Z","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T17:47:45Z","updated_at":"2022-07-20T17:47:45Z","author_association":"MEMBER","body":"There was discussion regarding the trace tables issue (mentioned above) and it seems like its best to just remove them and their supporting code from the project. I'll go ahead and work on a PR for that now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1190575897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1191718967","html_url":"https://github.com/apache/accumulo/pull/2778#issuecomment-1191718967","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2778","id":1191718967,"node_id":"IC_kwDOACaFSM5HCDA3","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-21T16:50:45Z","updated_at":"2022-07-21T16:50:45Z","author_association":"CONTRIBUTOR","body":"I have addressed @ctubbsii comments (one's left unresolved are to allow him to concur) - but this is ready for general review.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1191718967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1191727218","html_url":"https://github.com/apache/accumulo/pull/2808#issuecomment-1191727218","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2808","id":1191727218,"node_id":"IC_kwDOACaFSM5HCFBy","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-21T16:59:47Z","updated_at":"2022-07-21T16:59:47Z","author_association":"CONTRIBUTOR","body":"Is this a valid utility to expose to general use?  It seems to address a narrow use-case that might have significant performance issues if arbitrarily run on a large table.  And, other than a developer - does it provide information that someone in general could use?  If someone is worried about file locality, then running a compaction is the only \"fix\" that I am aware of - and that's just good for a point in time as migrations / splits / ingest occur.  And with external compactions, do they even consider locality?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1191727218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1191733689","html_url":"https://github.com/apache/accumulo/pull/2808#issuecomment-1191733689","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2808","id":1191733689,"node_id":"IC_kwDOACaFSM5HCGm5","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-21T17:06:51Z","updated_at":"2022-07-21T17:08:59Z","author_association":"CONTRIBUTOR","body":"I don't think that this PR makes this utility more or less available for general use. It just brings the execution of this utility in line with the others. If you are asking whether or not this utility is useful - maybe it's not.\r\n\r\nEdit: With HDFS supporting erasure coding, where a block is striped across N physical disks, locality of the server to the block is even less likely.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1191733689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]