[{"url":"https://api.github.com/repos/apache/druid/issues/comments/274780407","html_url":"https://github.com/apache/druid/pull/3848#issuecomment-274780407","issue_url":"https://api.github.com/repos/apache/druid/issues/3848","id":274780407,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDc4MDQwNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T11:35:24Z","updated_at":"2017-01-24T11:35:24Z","author_association":"CONTRIBUTOR","body":"@leventov, thanks for your review. I addressed comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274780407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274897970","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274897970","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274897970,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDg5Nzk3MA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T18:48:39Z","updated_at":"2017-01-24T18:48:39Z","author_association":"CONTRIBUTOR","body":"@pjain1 sorry I missed this one (my github notifications were messed up), will review this and #3842 shortly","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274897970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274901866","html_url":"https://github.com/apache/druid/pull/3818#issuecomment-274901866","issue_url":"https://api.github.com/repos/apache/druid/issues/3818","id":274901866,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDkwMTg2Ng==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T19:02:09Z","updated_at":"2017-01-24T19:02:09Z","author_association":"CONTRIBUTOR","body":"so, we discussed both options in the dev sync and concluded that it should be secure by default and by making users explicitly enable it, they will know the risks versus current default where users have it enabled inadvertently and not even using the JS features.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274901866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274933320","html_url":"https://github.com/apache/druid/pull/3858#issuecomment-274933320","issue_url":"https://api.github.com/repos/apache/druid/issues/3858","id":274933320,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDkzMzMyMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T20:46:40Z","updated_at":"2017-01-24T20:46:40Z","author_association":"CONTRIBUTOR","body":"Taking a look now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274933320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274950702","html_url":"https://github.com/apache/druid/pull/3874#issuecomment-274950702","issue_url":"https://api.github.com/repos/apache/druid/issues/3874","id":274950702,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk1MDcwMg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T21:52:29Z","updated_at":"2017-01-24T21:52:29Z","author_association":"CONTRIBUTOR","body":"@leventov  thanks\r\n\r\n:+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274950702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274963539","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274963539","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274963539,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk2MzUzOQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T22:43:56Z","updated_at":"2017-01-24T22:43:56Z","author_association":"CONTRIBUTOR","body":"@gianm ah hmm hard to say - the exception could be thrown because of a transient issue like a Kafka connection, in which case continuing to process notices would be fine; it could be that the internal state got into a weird situation where a restart would help; or it could be that some external state (e.g. tasks giving unexpected responses, overlord returning unexpected data) isn't being handled right in which case no amount of supervisor restarts would be that helpful.. \r\n\r\nHaving said that, I don't see any issues with killing and restarting the supervisor if an exception is thrown and doing so would likely have a higher recovery rate, so I'm good with that. I'll open an issue for it and if @pjain1 wants to take it he can, but in the meantime I'm okay accepting this PR as a stopgap.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274963539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274964518","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274964518","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274964518,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk2NDUxOA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T22:48:15Z","updated_at":"2017-01-24T22:48:15Z","author_association":"CONTRIBUTOR","body":"Created issue #3881","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274964518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274965122","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274965122","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274965122,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk2NTEyMg==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T22:51:01Z","updated_at":"2017-01-24T22:51:01Z","author_association":"CONTRIBUTOR","body":"@pjain1 did you actually see a non-exception Throwable or is this preventative?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274965122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274968394","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274968394","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274968394,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk2ODM5NA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T23:05:50Z","updated_at":"2017-01-24T23:05:50Z","author_association":"MEMBER","body":"@dclim Yes we ran into a situation where there were some missing jars or some incompatible jars (don't exactly remember) so an `Error` was being thrown. However, nothing would show up in the logs as the supervisor thread will die silently and new thread will be spawned waiting to handle new notice.\r\n\r\nSo, I guess we can just reset the supervisor when any exception is thrown ? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274968394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274969657","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274969657","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274969657,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk2OTY1Nw==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T23:12:00Z","updated_at":"2017-01-24T23:12:00Z","author_association":"MEMBER","body":"or may be alert in case of exceptions and `reset` in case of non-exception Throwables ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274969657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274970443","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274970443","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274970443,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk3MDQ0Mw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T23:16:09Z","updated_at":"2017-01-24T23:16:09Z","author_association":"CONTRIBUTOR","body":"@pjain1 I think it's okay to just alert and restart in case of any unhandled throwable, whether it's an Exception or an Error. Were you thinking to do that in this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274970443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274970653","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274970653","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274970653,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk3MDY1Mw==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T23:17:07Z","updated_at":"2017-01-24T23:17:07Z","author_association":"MEMBER","body":"Yes I can do that","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274970653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274971094","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274971094","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274971094,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk3MTA5NA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T23:19:18Z","updated_at":"2017-01-24T23:19:18Z","author_association":"MEMBER","body":"I added `reset` call after making alert. Is this enough ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274971094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274973029","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274973029","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274973029,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk3MzAyOQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T23:28:59Z","updated_at":"2017-01-24T23:28:59Z","author_association":"CONTRIBUTOR","body":"Hmm no, actually we don't want to call `reset()` - calling `reset()` clears the offset data from the metadata storage and is for when ingestion gets stuck because some offsets may no longer be available, but it breaks exactly-once ingestion. What we want to do is shutdown this KafkaSupervisor and then have `SupervisorManager` create and start a new supervisor from the same spec. It might be a little more involved to figure out a good way to signal `SupervisorManager` to do this which is why I was suggesting taking that in a different PR so this can get in immediately.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274973029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274974494","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274974494","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274974494,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk3NDQ5NA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T23:37:07Z","updated_at":"2017-01-24T23:37:07Z","author_association":"MEMBER","body":"@dclim Yes you are correct `reset` will not do what is required here, reverted the last commit. Lets get this in first. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274974494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274982369","html_url":"https://github.com/apache/druid/issues/3882#issuecomment-274982369","issue_url":"https://api.github.com/repos/apache/druid/issues/3882","id":274982369,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk4MjM2OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T00:21:13Z","updated_at":"2017-01-25T00:21:13Z","author_association":"CONTRIBUTOR","body":"One thing to be careful of here is that 4 bytes per bitmap can add up quickly for high cardinality dimensions. Still a useful idea though.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274982369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274988971","html_url":"https://github.com/apache/druid/pull/3844#issuecomment-274988971","issue_url":"https://api.github.com/repos/apache/druid/issues/3844","id":274988971,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk4ODk3MQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T01:01:18Z","updated_at":"2017-01-25T01:01:18Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274988971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/274999216","html_url":"https://github.com/apache/druid/issues/3882#issuecomment-274999216","issue_url":"https://api.github.com/repos/apache/druid/issues/3882","id":274999216,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk5OTIxNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T02:06:47Z","updated_at":"2017-01-25T02:07:04Z","author_association":"MEMBER","body":"@gianm we can use condensed integer encodings, where the highest bit of each byte is a continuation flag. Numbers 0-127 take just 1 byte.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/274999216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275011248","html_url":"https://github.com/apache/druid/pull/3838#issuecomment-275011248","issue_url":"https://api.github.com/repos/apache/druid/issues/3838","id":275011248,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTAxMTI0OA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T03:43:16Z","updated_at":"2017-01-26T02:43:16Z","author_association":"CONTRIBUTOR","body":"Updated the patch, still waiting on benchmark results comparing performance of a groupBy on a String column with numeric data vs. its equivalent long and float versions\r\n\r\nI've left the filter predicate locking/lazy initialization for now since we haven't reached a consensus on that yet, addressed the other comments in that area though\r\n\r\nI'm in favor of getting #3858 merged before this PR, so I'll revisit the FloatWrapping/LongWrapping selectors after that\r\n\r\nThe latest update on this PR also changes the hash function used in GroupByV2, since benchmarks showed very poor hashing behavior (leading to ~50 seconds running time on the `multiQueryableIndex` benchmarks) on floats using the existing XOR and shift function. The benchmarks used are included.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275011248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275059194","html_url":"https://github.com/apache/druid/pull/3848#issuecomment-275059194","issue_url":"https://api.github.com/repos/apache/druid/issues/3848","id":275059194,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTA1OTE5NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T09:27:16Z","updated_at":"2017-01-25T09:27:16Z","author_association":"CONTRIBUTOR","body":"@leventov thanks for your detailed review. I addressed comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275059194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275104603","html_url":"https://github.com/apache/druid/pull/3868#issuecomment-275104603","issue_url":"https://api.github.com/repos/apache/druid/issues/3868","id":275104603,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEwNDYwMw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T13:13:54Z","updated_at":"2017-01-25T13:13:54Z","author_association":"CONTRIBUTOR","body":"@gianm, I left a minor comment. In addition to that, I met the below errors.\r\n\r\n```\r\n$ curl -XPOST -H'Content-Type: application/json' http://localhost:8082/druid/v2/sql/ -d '{\"query\":\"SELECT APPROX_QUANTILE(added, 0.9), APPROX_QUANTILE(deleted, 0.999) FILTER(WHERE cityName <> 'abc') from druid.wikiticker\"}'\r\n{\"error\":\"Unknown exception\",\"errorMessage\":\"org.apache.calcite.runtime.CalciteContextException: From line 1, column 94 to line 1, column 96: Column 'abc' not found in any table\",\"errorClass\":\"org.apache.calcite.tools.ValidationException\",\"host\":null}\r\n```\r\n\r\nIt looks ```'abc'``` is recognized as a column name. Would you check this please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275104603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275106029","html_url":"https://github.com/apache/druid/pull/3880#issuecomment-275106029","issue_url":"https://api.github.com/repos/apache/druid/issues/3880","id":275106029,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEwNjAyOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T13:21:17Z","updated_at":"2017-01-25T13:21:17Z","author_association":"CONTRIBUTOR","body":"LGTM!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275106029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275106501","html_url":"https://github.com/apache/druid/pull/3848#issuecomment-275106501","issue_url":"https://api.github.com/repos/apache/druid/issues/3848","id":275106501,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEwNjUwMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T13:23:39Z","updated_at":"2017-01-25T13:23:39Z","author_association":"CONTRIBUTOR","body":"The Travis failure is due to Kafka connection timeout and looks not related to this issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275106501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275130165","html_url":"https://github.com/apache/druid/pull/3853#issuecomment-275130165","issue_url":"https://api.github.com/repos/apache/druid/issues/3853","id":275130165,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEzMDE2NQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T15:00:22Z","updated_at":"2017-01-25T15:00:22Z","author_association":"CONTRIBUTOR","body":"Have you seen the lock used ?\nhttps://github.com/prongs/apache-hive/blob/master/jdbc/src/java/org/apache/hive/jdbc/HttpKerberosRequestInterceptor.java#L61\n-- \n\nB-Slim\n_______/\\/\\/\\_______/\\/\\/\\_______/\\/\\/\\_______/\\/\\/\\_______/\\/\\/\\_______\n\n> On Jan 25, 2017, at 2:21 AM, Nishant Bangarwa <notifications@github.com> wrote:\n> \n> @nishantmonu51 commented on this pull request.\n> \n> In extensions-core/druid-kerberos/src/main/java/io/druid/kerberos/KerberosHttpClient.java <https://github.com/druid-io/druid/pull/3853>:\n> \n> > +\n> +  @Override\n> +  public <Intermediate, Final> ListenableFuture<Final> go(\n> +    Request request, HttpResponseHandler<Intermediate, Final> httpResponseHandler, Duration duration\n> +  )\n> +  {\n> +    try {\n> +      final String host = request.getUrl().getHost();\n> +      authenticateIfRequired();\n> +      UserGroupInformation currentUser = UserGroupInformation.getCurrentUser();\n> +      String challenge = currentUser.doAs(new PrivilegedExceptionAction<String>()\n> +      {\n> +        @Override\n> +        public String run() throws Exception\n> +        {\n> +          return kerberosChallenge(host);\n> this should not be blocking as user is already logged in using this realm.\n> Also checked how other projects implement this e.g -\n> https://github.com/prongs/apache-hive/blob/master/jdbc/src/java/org/apache/hive/jdbc/HttpKerberosRequestInterceptor.java <https://github.com/prongs/apache-hive/blob/master/jdbc/src/java/org/apache/hive/jdbc/HttpKerberosRequestInterceptor.java>\n> which has similar logic underneath.\n> as far as multi threading goes, Since the credentials are read from the Subject which is initiating the context. it should be safe to call this concurrently from multiple threads.\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub <https://github.com/druid-io/druid/pull/3853>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AHCODK5Jh5w1whPHnn-GRxbgbAAUBLz8ks5rVyITgaJpZM4Lllrf>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275130165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275137213","html_url":"https://github.com/apache/druid/pull/3853#issuecomment-275137213","issue_url":"https://api.github.com/repos/apache/druid/issues/3853","id":275137213,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEzNzIxMw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T15:24:58Z","updated_at":"2017-01-25T15:24:58Z","author_association":"MEMBER","body":"@b-slim: Nice catch, fixed the locking. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275137213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275152065","html_url":"https://github.com/apache/druid/pull/3868#issuecomment-275152065","issue_url":"https://api.github.com/repos/apache/druid/issues/3868","id":275152065,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTE1MjA2NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T16:13:40Z","updated_at":"2017-01-25T16:13:50Z","author_association":"CONTRIBUTOR","body":"This is just the shell being the shell. It treats 'xx'abc'xx' as 'xx' + 'abc' + 'xx' so you get 'xxabcxx'. You can see this happen with echo.\r\n\r\n```\r\n$ echo '{\"query\":\"SELECT APPROX_QUANTILE(added, 0.9), APPROX_QUANTILE(deleted, 0.999) FILTER(WHERE cityName <> 'abc') from druid.wikiticker\"}'\r\n{\"query\":\"SELECT APPROX_QUANTILE(added, 0.9), APPROX_QUANTILE(deleted, 0.999) FILTER(WHERE cityName <> abc) from druid.wikiticker\"}\r\n```\r\n\r\nYou can fix it with some escaping.\r\n\r\n```\r\n$ echo '{\"query\":\"SELECT APPROX_QUANTILE(added, 0.9), APPROX_QUANTILE(deleted, 0.999) FILTER(WHERE cityName <> '\"'\"'abc'\"'\"') from druid.wikiticker\"}'\r\n{\"query\":\"SELECT APPROX_QUANTILE(added, 0.9), APPROX_QUANTILE(deleted, 0.999) FILTER(WHERE cityName <> 'abc') from druid.wikiticker\"}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275152065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275154011","html_url":"https://github.com/apache/druid/pull/3877#issuecomment-275154011","issue_url":"https://api.github.com/repos/apache/druid/issues/3877","id":275154011,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTE1NDAxMQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T16:20:38Z","updated_at":"2017-01-25T16:20:38Z","author_association":"MEMBER","body":"does the insert segment tool still works after this changes ? there are various references to \"index.zip\" and \"descriptor.json\" file name in the documentation and unit tests. Is there any change required there ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275154011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275160357","html_url":"https://github.com/apache/druid/pull/3877#issuecomment-275160357","issue_url":"https://api.github.com/repos/apache/druid/issues/3877","id":275160357,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTE2MDM1Nw==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T16:41:49Z","updated_at":"2017-01-26T03:37:34Z","author_association":"CONTRIBUTOR","body":"~~~This will break all current hdfs segments that people have. If someone for example issues an index task with current segments as input it will fail because it won't be able to find these segments as it looks for them in the new path while they are in the old path.~~~","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275160357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275171263","html_url":"https://github.com/apache/druid/pull/3877#issuecomment-275171263","issue_url":"https://api.github.com/repos/apache/druid/issues/3877","id":275171263,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTE3MTI2Mw==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T17:18:06Z","updated_at":"2017-01-25T17:18:06Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer I don't think index task will look for segments in the new path. Old segments metadata(`loadSpec.path`) still be pointing to old path and any indexing for those segments can still be done. This PR only changes the directory structure for newly **created** segments and setting the loadSpec with new directory structure.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275171263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275204947","html_url":"https://github.com/apache/druid/pull/3858#issuecomment-275204947","issue_url":"https://api.github.com/repos/apache/druid/issues/3858","id":275204947,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTIwNDk0Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T19:18:37Z","updated_at":"2017-01-25T19:18:37Z","author_association":"MEMBER","body":"Thanks @gianm, addressed comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275204947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275236739","html_url":"https://github.com/apache/druid/pull/3880#issuecomment-275236739","issue_url":"https://api.github.com/repos/apache/druid/issues/3880","id":275236739,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTIzNjczOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T21:21:55Z","updated_at":"2017-01-25T21:21:55Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275236739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275242568","html_url":"https://github.com/apache/druid/pull/3838#issuecomment-275242568","issue_url":"https://api.github.com/repos/apache/druid/issues/3838","id":275242568,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI0MjU2OA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T21:45:43Z","updated_at":"2017-01-25T21:45:43Z","author_association":"CONTRIBUTOR","body":"Added benchmark results for a simple one column group by, showing difference between using Strings vs. numeric types for numeric data\r\n\r\nhttps://gist.github.com/jon-wei/44a2b8ab97678710a9ef5b24aa107dec","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275242568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275265312","html_url":"https://github.com/apache/druid/pull/3868#issuecomment-275265312","issue_url":"https://api.github.com/repos/apache/druid/issues/3868","id":275265312,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI2NTMxMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T23:26:50Z","updated_at":"2017-01-25T23:26:50Z","author_association":"CONTRIBUTOR","body":"Ah, right. Thanks. It works well. \r\nThis patch looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275265312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275265602","html_url":"https://github.com/apache/druid/pull/3858#issuecomment-275265602","issue_url":"https://api.github.com/repos/apache/druid/issues/3858","id":275265602,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI2NTYwMg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T23:28:21Z","updated_at":"2017-01-25T23:28:21Z","author_association":"CONTRIBUTOR","body":"Reviewed the latest updates since my previous comment, still LGTM","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275265602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275271168","html_url":"https://github.com/apache/druid/issues/3840#issuecomment-275271168","issue_url":"https://api.github.com/repos/apache/druid/issues/3840","id":275271168,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI3MTE2OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T23:59:26Z","updated_at":"2017-01-25T23:59:26Z","author_association":"CONTRIBUTOR","body":"That sounds reasonable; may also be useful to allow an `extractionFns` where they positionally apply to each of the dimensions.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275271168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275271519","html_url":"https://github.com/apache/druid/pull/3838#issuecomment-275271519","issue_url":"https://api.github.com/repos/apache/druid/issues/3838","id":275271519,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI3MTUxOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T00:01:26Z","updated_at":"2017-01-26T00:01:26Z","author_association":"CONTRIBUTOR","body":"Adjusting this now that #3858 is merged","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275271519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275294916","html_url":"https://github.com/apache/druid/pull/3868#issuecomment-275294916","issue_url":"https://api.github.com/repos/apache/druid/issues/3868","id":275294916,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI5NDkxNg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T02:39:21Z","updated_at":"2017-01-26T02:39:21Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275294916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275297639","html_url":"https://github.com/apache/druid/pull/3838#issuecomment-275297639","issue_url":"https://api.github.com/repos/apache/druid/issues/3838","id":275297639,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI5NzYzOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T03:02:45Z","updated_at":"2017-01-26T03:02:45Z","author_association":"CONTRIBUTOR","body":"I've rebased on top of #3858, moved the dictionary management out of `Float/LongWrappingDimensionSelector` into a String strategy variant in `GroupByEngineV2`. \r\n\r\nIt doesn't have memory management currently, let's have that be a follow-on PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275297639/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275297840","html_url":"https://github.com/apache/druid/pull/3838#issuecomment-275297840","issue_url":"https://api.github.com/repos/apache/druid/issues/3838","id":275297840,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI5Nzg0MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T03:04:42Z","updated_at":"2017-01-26T03:04:42Z","author_association":"MEMBER","body":"@jon-wei could we also merge #3823 before this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275297840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275298286","html_url":"https://github.com/apache/druid/pull/3823#issuecomment-275298286","issue_url":"https://api.github.com/repos/apache/druid/issues/3823","id":275298286,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI5ODI4Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T03:08:52Z","updated_at":"2017-01-26T03:08:52Z","author_association":"CONTRIBUTOR","body":"Fixed conflicts with master.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275298286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275301010","html_url":"https://github.com/apache/druid/pull/3877#issuecomment-275301010","issue_url":"https://api.github.com/repos/apache/druid/issues/3877","id":275301010,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTMwMTAxMA==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T03:37:25Z","updated_at":"2017-01-26T03:37:25Z","author_association":"CONTRIBUTOR","body":"@akashdw You are right, my mistake, I was reading the changes in JobHelper wrongly.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275301010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275304446","html_url":"https://github.com/apache/druid/pull/3848#issuecomment-275304446","issue_url":"https://api.github.com/repos/apache/druid/issues/3848","id":275304446,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTMwNDQ0Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T04:18:12Z","updated_at":"2017-01-26T04:18:12Z","author_association":"CONTRIBUTOR","body":"I'm investigating test failures.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275304446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275377223","html_url":"https://github.com/apache/druid/issues/3885#issuecomment-275377223","issue_url":"https://api.github.com/repos/apache/druid/issues/3885","id":275377223,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTM3NzIyMw==","user":{"login":"valenpo","id":1099203,"node_id":"MDQ6VXNlcjEwOTkyMDM=","avatar_url":"https://avatars.githubusercontent.com/u/1099203?v=4","gravatar_id":"","url":"https://api.github.com/users/valenpo","html_url":"https://github.com/valenpo","followers_url":"https://api.github.com/users/valenpo/followers","following_url":"https://api.github.com/users/valenpo/following{/other_user}","gists_url":"https://api.github.com/users/valenpo/gists{/gist_id}","starred_url":"https://api.github.com/users/valenpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/valenpo/subscriptions","organizations_url":"https://api.github.com/users/valenpo/orgs","repos_url":"https://api.github.com/users/valenpo/repos","events_url":"https://api.github.com/users/valenpo/events{/privacy}","received_events_url":"https://api.github.com/users/valenpo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T12:29:14Z","updated_at":"2017-01-26T12:29:14Z","author_association":"NONE","body":"Same story for io.druid.segment.realtime.firehose.ReplayableFirehoseFactory. \r\n\r\n> public void deleteOnExit()\r\n> Requests that the file or directory denoted by this abstract pathname be deleted when the virtual machine terminates. Files (or directories) are deleted in the reverse order that they are registered. Invoking this method to delete a file or directory that is already registered for deletion has no effect. Deletion will be attempted only for normal termination of the virtual machine, as defined by the Java Language Specification.\r\n> Once deletion has been requested, it is not possible to cancel the request. This method should therefore be used with care.\r\n> \r\n> Note: this method should not be used for file-locking, as the resulting protocol cannot be made to work reliably. The FileLock facility should be used instead.\r\n> \r\n> Throws:\r\n> SecurityException - If a security manager exists and its SecurityManager.checkDelete(java.lang.String) method denies delete access to the file\r\n> Since:\r\n> 1.2\r\n> See Also:\r\n> delete()","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275377223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275423598","html_url":"https://github.com/apache/druid/issues/3885#issuecomment-275423598","issue_url":"https://api.github.com/repos/apache/druid/issues/3885","id":275423598,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQyMzU5OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T15:49:35Z","updated_at":"2017-01-26T15:49:35Z","author_association":"CONTRIBUTOR","body":"Thanks for the report @valenpo.\r\n\r\nI think this is probably fine for ReplayableFirehoseFactory, since it's only meant to be used from short-lived indexing tasks.\r\n\r\nTmpFileIOPeon, not so sure, I don't recall where it's used exactly. But it does have its own \"cleanup\" method that, if always called, would make the deleteOnExit redundant.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275423598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275426167","html_url":"https://github.com/apache/druid/issues/3885#issuecomment-275426167","issue_url":"https://api.github.com/repos/apache/druid/issues/3885","id":275426167,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQyNjE2Nw==","user":{"login":"valenpo","id":1099203,"node_id":"MDQ6VXNlcjEwOTkyMDM=","avatar_url":"https://avatars.githubusercontent.com/u/1099203?v=4","gravatar_id":"","url":"https://api.github.com/users/valenpo","html_url":"https://github.com/valenpo","followers_url":"https://api.github.com/users/valenpo/followers","following_url":"https://api.github.com/users/valenpo/following{/other_user}","gists_url":"https://api.github.com/users/valenpo/gists{/gist_id}","starred_url":"https://api.github.com/users/valenpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/valenpo/subscriptions","organizations_url":"https://api.github.com/users/valenpo/orgs","repos_url":"https://api.github.com/users/valenpo/repos","events_url":"https://api.github.com/users/valenpo/events{/privacy}","received_events_url":"https://api.github.com/users/valenpo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T15:57:55Z","updated_at":"2017-01-26T15:57:55Z","author_association":"NONE","body":"@gianm it is used on IndexMerger. deleteOnExit not should be used on long running application. If it is necessary I think better use DELETE_ON_CLOSE on NIO2","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275426167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275428150","html_url":"https://github.com/apache/druid/issues/3862#issuecomment-275428150","issue_url":"https://api.github.com/repos/apache/druid/issues/3862","id":275428150,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQyODE1MA==","user":{"login":"valenpo","id":1099203,"node_id":"MDQ6VXNlcjEwOTkyMDM=","avatar_url":"https://avatars.githubusercontent.com/u/1099203?v=4","gravatar_id":"","url":"https://api.github.com/users/valenpo","html_url":"https://github.com/valenpo","followers_url":"https://api.github.com/users/valenpo/followers","following_url":"https://api.github.com/users/valenpo/following{/other_user}","gists_url":"https://api.github.com/users/valenpo/gists{/gist_id}","starred_url":"https://api.github.com/users/valenpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/valenpo/subscriptions","organizations_url":"https://api.github.com/users/valenpo/orgs","repos_url":"https://api.github.com/users/valenpo/repos","events_url":"https://api.github.com/users/valenpo/events{/privacy}","received_events_url":"https://api.github.com/users/valenpo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T16:04:42Z","updated_at":"2017-01-26T16:04:42Z","author_association":"NONE","body":"Just need to use FireHorse to load old one index and convert it to new one with new Scheme.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275428150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275467327","html_url":"https://github.com/apache/druid/issues/3882#issuecomment-275467327","issue_url":"https://api.github.com/repos/apache/druid/issues/3882","id":275467327,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQ2NzMyNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T18:20:03Z","updated_at":"2017-01-26T18:20:03Z","author_association":"CONTRIBUTOR","body":"yes, for sure that is a valid approach. Just wanting to make sure that this issue is considered. It may also be worth while to skip the size field for small bitmaps where computing size is fast. Odds are, high cardinality dimensions will generally have small bitmaps. I'm not sure though since I'm not sure of the speed difference between reading a vsize int and computing size for a small bitmap.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275467327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275495914","html_url":"https://github.com/apache/druid/pull/3884#issuecomment-275495914","issue_url":"https://api.github.com/repos/apache/druid/issues/3884","id":275495914,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQ5NTkxNA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T19:57:56Z","updated_at":"2017-01-26T19:57:56Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275495914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275497330","html_url":"https://github.com/apache/druid/pull/3877#issuecomment-275497330","issue_url":"https://api.github.com/repos/apache/druid/issues/3877","id":275497330,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQ5NzMzMA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T20:02:50Z","updated_at":"2017-01-26T20:02:50Z","author_association":"CONTRIBUTOR","body":"also, HdfsDataSegmentKiller assumes that directory structure and will need to be updated to work with both old and new directory structure.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275497330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275498459","html_url":"https://github.com/apache/druid/pull/3838#issuecomment-275498459","issue_url":"https://api.github.com/repos/apache/druid/issues/3838","id":275498459,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQ5ODQ1OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T20:06:54Z","updated_at":"2017-01-26T20:06:54Z","author_association":"CONTRIBUTOR","body":"@leventov sure, sounds good, I'll be reviewing #3823 today","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275498459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275501388","html_url":"https://github.com/apache/druid/pull/3823#issuecomment-275501388","issue_url":"https://api.github.com/repos/apache/druid/issues/3823","id":275501388,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTUwMTM4OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T20:17:56Z","updated_at":"2017-01-26T20:18:13Z","author_association":"CONTRIBUTOR","body":"Pushed fixes to tests that were failing due to that last merge with master.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275501388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275527539","html_url":"https://github.com/apache/druid/issues/3886#issuecomment-275527539","issue_url":"https://api.github.com/repos/apache/druid/issues/3886","id":275527539,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTUyNzUzOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T22:00:03Z","updated_at":"2017-01-26T22:00:03Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nWould also be nice to upgrade our hadoop version to one that supports s3a, which uses aws-java-sdk instead of jets3t.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275527539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275555990","html_url":"https://github.com/apache/druid/pull/3848#issuecomment-275555990","issue_url":"https://api.github.com/repos/apache/druid/issues/3848","id":275555990,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTU1NTk5MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T00:22:11Z","updated_at":"2017-01-27T00:22:17Z","author_association":"CONTRIBUTOR","body":"Fixed test failures.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275555990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275573218","html_url":"https://github.com/apache/druid/pull/3823#issuecomment-275573218","issue_url":"https://api.github.com/repos/apache/druid/issues/3823","id":275573218,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTU3MzIxOA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T02:15:47Z","updated_at":"2017-01-27T02:15:47Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275573218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275591290","html_url":"https://github.com/apache/druid/pull/3838#issuecomment-275591290","issue_url":"https://api.github.com/repos/apache/druid/issues/3838","id":275591290,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTU5MTI5MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T05:20:28Z","updated_at":"2017-01-27T05:20:28Z","author_association":"MEMBER","body":"@jon-wei let us know when this is ready for review","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275591290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275647675","html_url":"https://github.com/apache/druid/issues/3840#issuecomment-275647675","issue_url":"https://api.github.com/repos/apache/druid/issues/3840","id":275647675,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTY0NzY3NQ==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T11:42:25Z","updated_at":"2017-01-27T11:42:25Z","author_association":"CONTRIBUTOR","body":"I'm already working on a pull request: https://github.com/erikdubbelboer/druid/commit/85c4e82e112a32a36cba52c259c4c7cf52c5cd21#diff-9c0344041e595e113f03e0d783939f88\r\nSo far I only wrote the code and got it to pass all current tests. No idea yet if it actually works. Will write tests for it next.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275647675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275692835","html_url":"https://github.com/apache/druid/pull/3888#issuecomment-275692835","issue_url":"https://api.github.com/repos/apache/druid/issues/3888","id":275692835,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTY5MjgzNQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T15:32:13Z","updated_at":"2017-01-27T15:32:13Z","author_association":"MEMBER","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275692835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275693512","html_url":"https://github.com/apache/druid/issues/3851#issuecomment-275693512","issue_url":"https://api.github.com/repos/apache/druid/issues/3851","id":275693512,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTY5MzUxMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T15:34:51Z","updated_at":"2017-01-27T15:34:51Z","author_association":"CONTRIBUTOR","body":"Original report in https://groups.google.com/d/topic/druid-user/5qKGnXsmqMw/discussion. I believe this is harmless, but annoying.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275693512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275693633","html_url":"https://github.com/apache/druid/issues/3887#issuecomment-275693633","issue_url":"https://api.github.com/repos/apache/druid/issues/3887","id":275693633,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTY5MzYzMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T15:35:17Z","updated_at":"2017-01-27T15:35:17Z","author_association":"CONTRIBUTOR","body":"Looks like the same issue as #3851; please watch that one.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275693633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275702678","html_url":"https://github.com/apache/druid/issues/3851#issuecomment-275702678","issue_url":"https://api.github.com/repos/apache/druid/issues/3851","id":275702678,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTcwMjY3OA==","user":{"login":"NirajaM","id":15151939,"node_id":"MDQ6VXNlcjE1MTUxOTM5","avatar_url":"https://avatars.githubusercontent.com/u/15151939?v=4","gravatar_id":"","url":"https://api.github.com/users/NirajaM","html_url":"https://github.com/NirajaM","followers_url":"https://api.github.com/users/NirajaM/followers","following_url":"https://api.github.com/users/NirajaM/following{/other_user}","gists_url":"https://api.github.com/users/NirajaM/gists{/gist_id}","starred_url":"https://api.github.com/users/NirajaM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NirajaM/subscriptions","organizations_url":"https://api.github.com/users/NirajaM/orgs","repos_url":"https://api.github.com/users/NirajaM/repos","events_url":"https://api.github.com/users/NirajaM/events{/privacy}","received_events_url":"https://api.github.com/users/NirajaM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T16:08:38Z","updated_at":"2017-01-27T16:08:38Z","author_association":"CONTRIBUTOR","body":"In my case job is failing. No other error is there in the log. Could you please confirm if is failing not because of this issue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275702678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275770093","html_url":"https://github.com/apache/druid/pull/3838#issuecomment-275770093","issue_url":"https://api.github.com/repos/apache/druid/issues/3838","id":275770093,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTc3MDA5Mw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T20:45:41Z","updated_at":"2017-01-27T20:45:41Z","author_association":"CONTRIBUTOR","body":"@leventov @gianm @jihoonson \r\n\r\nmerged master, PR is ready for review again","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275770093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275771262","html_url":"https://github.com/apache/druid/pull/3838#issuecomment-275771262","issue_url":"https://api.github.com/repos/apache/druid/issues/3838","id":275771262,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTc3MTI2Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T20:51:04Z","updated_at":"2017-01-27T20:51:04Z","author_association":"CONTRIBUTOR","body":"added another commit that changes FloatWrappingDimensionSelector and LongWrappingDimensionSelector to extend BaseSingleValueDimensionSelector from #3823 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275771262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275782222","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-275782222","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":275782222,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTc4MjIyMg==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T21:41:46Z","updated_at":"2017-01-27T21:41:46Z","author_association":"CONTRIBUTOR","body":" @leventov Thanks for reviewing this PR. I updated the PR for code formatting related changes.\r\nMemory changes are not ready yet and can be introduced into GenericIndexed with a new version.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275782222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275820113","html_url":"https://github.com/apache/druid/pull/3863#issuecomment-275820113","issue_url":"https://api.github.com/repos/apache/druid/issues/3863","id":275820113,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTgyMDExMw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-28T02:14:44Z","updated_at":"2017-01-28T02:14:44Z","author_association":"CONTRIBUTOR","body":"I've reviewed the core changes in `GroupByRowProcessor` so far, the delayed buffer initialization looks okay to me, I'll take a deeper look at the sequence changes in other files\r\n\r\nCan you add a description to the PR that this changes the order of nested group by buffer acquisition such that the inner queries acquire buffers first as they are being processed, and also limits the number of merge buffers needed for nested queries to 2, regardless of the nesting depth?\r\n\r\n#3806 added a doc comment in `docs/content/querying/groupbyquery.md` about the nested group by buffer usage, can you also update that?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275820113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275826194","html_url":"https://github.com/apache/druid/pull/3863#issuecomment-275826194","issue_url":"https://api.github.com/repos/apache/druid/issues/3863","id":275826194,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTgyNjE5NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-28T04:17:00Z","updated_at":"2017-01-28T04:17:00Z","author_association":"CONTRIBUTOR","body":"@jon-wei, thanks for your review. I updated the PR description.\r\nI'll also update the group-by query document soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275826194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275870172","html_url":"https://github.com/apache/druid/pull/3664#issuecomment-275870172","issue_url":"https://api.github.com/repos/apache/druid/issues/3664","id":275870172,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTg3MDE3Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-28T19:47:50Z","updated_at":"2017-01-28T19:47:50Z","author_association":"CONTRIBUTOR","body":"FYI, https://issues.apache.org/jira/browse/CURATOR-382","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275870172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/275977619","html_url":"https://github.com/apache/druid/issues/3719#issuecomment-275977619","issue_url":"https://api.github.com/repos/apache/druid/issues/3719","id":275977619,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTk3NzYxOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T04:24:20Z","updated_at":"2017-01-30T23:42:51Z","author_association":"CONTRIBUTOR","body":"Thanks @gianm and @nishantmonu51 for the guide. I'm working on this. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/275977619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276048099","html_url":"https://github.com/apache/druid/pull/3716#issuecomment-276048099","issue_url":"https://api.github.com/repos/apache/druid/issues/3716","id":276048099,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjA0ODA5OQ==","user":{"login":"weijietong","id":728692,"node_id":"MDQ6VXNlcjcyODY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/728692?v=4","gravatar_id":"","url":"https://api.github.com/users/weijietong","html_url":"https://github.com/weijietong","followers_url":"https://api.github.com/users/weijietong/followers","following_url":"https://api.github.com/users/weijietong/following{/other_user}","gists_url":"https://api.github.com/users/weijietong/gists{/gist_id}","starred_url":"https://api.github.com/users/weijietong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weijietong/subscriptions","organizations_url":"https://api.github.com/users/weijietong/orgs","repos_url":"https://api.github.com/users/weijietong/repos","events_url":"https://api.github.com/users/weijietong/events{/privacy}","received_events_url":"https://api.github.com/users/weijietong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T12:13:20Z","updated_at":"2017-01-30T12:13:20Z","author_association":"NONE","body":"@leventov I also want to know the plan of ```Memory``` ,If ```Memory``` is able to highly abstract the file system ,I will doubt whether the apache project ```Arrow``` is better , which is column oriented ,of course ,with off heap memory allocation.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276048099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276082597","html_url":"https://github.com/apache/druid/pull/3853#issuecomment-276082597","issue_url":"https://api.github.com/repos/apache/druid/issues/3853","id":276082597,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjA4MjU5Nw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T14:53:51Z","updated_at":"2017-01-30T14:53:51Z","author_association":"MEMBER","body":"@b-slim: Have added cookie handling and added more detailed docs to include curl commands and browser configs required to access coordinator and overlord console. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276082597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276091652","html_url":"https://github.com/apache/druid/issues/3891#issuecomment-276091652","issue_url":"https://api.github.com/repos/apache/druid/issues/3891","id":276091652,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjA5MTY1Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T15:25:42Z","updated_at":"2017-01-30T15:25:42Z","author_association":"CONTRIBUTOR","body":"@weijietong, thanks for your proposal. \r\n\r\nA binary protocol might be helpful for some users, but the http protocol will be still useful for others who don't want such a high performance interface. For example, some users don't want it because their results are always small. In this case, they will prefer to use a simple http protocol rather than a complex binary protocol.\r\n\r\nI'm also not sure about substituting JSON with Arrow. Apache Arrow is an in-memory columnar data format optimized for efficient data processing and exchanging between data analytics systems. This columnar format will be helpful for other analytics systems if they need to read data from Druid, but not for users because humans and well-known BI tools are familiar with row-oriented formats. In the later case, the columnar output format needs an additional unnecessary conversion to a row-oriented format.\r\n\r\nSo, IMO, it would be better to support a binary protocol and the Arrow format as one of Druid's interfaces and output formats, respectively, rather than replacing the original ones. Actually, I believe it would be great if Druid supports various output formats.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276091652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276102222","html_url":"https://github.com/apache/druid/issues/3891#issuecomment-276102222","issue_url":"https://api.github.com/repos/apache/druid/issues/3891","id":276102222,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjEwMjIyMg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T16:01:05Z","updated_at":"2017-01-30T16:01:05Z","author_association":"CONTRIBUTOR","body":"@weijietong have you tried using the Smile format ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276102222/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276110414","html_url":"https://github.com/apache/druid/issues/3891#issuecomment-276110414","issue_url":"https://api.github.com/repos/apache/druid/issues/3891","id":276110414,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjExMDQxNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T16:27:56Z","updated_at":"2017-01-30T16:27:56Z","author_association":"CONTRIBUTOR","body":"@jihoonson agree. I think we've known for awhile that for larger result sets, serde time can be the bottleneck. It'd be nice if we had a binary format, especially given recent changes to support larger result sets, but we have to look more into Arrow.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276110414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276120846","html_url":"https://github.com/apache/druid/issues/3891#issuecomment-276120846","issue_url":"https://api.github.com/repos/apache/druid/issues/3891","id":276120846,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjEyMDg0Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T17:02:40Z","updated_at":"2017-01-30T17:03:18Z","author_association":"CONTRIBUTOR","body":"Note that druid does support [SMILE](https://en.wikipedia.org/wiki/Smile_\\(data_interchange_format\\)) for most http endpoints.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276120846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276121193","html_url":"https://github.com/apache/druid/issues/3891#issuecomment-276121193","issue_url":"https://api.github.com/repos/apache/druid/issues/3891","id":276121193,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjEyMTE5Mw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T17:03:50Z","updated_at":"2017-01-30T17:03:50Z","author_association":"CONTRIBUTOR","body":"Another large bottleneck is serialization for cache. (just FYI)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276121193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276132485","html_url":"https://github.com/apache/druid/issues/3891#issuecomment-276132485","issue_url":"https://api.github.com/repos/apache/druid/issues/3891","id":276132485,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjEzMjQ4NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T17:42:51Z","updated_at":"2017-01-30T17:42:51Z","author_association":"CONTRIBUTOR","body":"I don't think yet that HTTP is a problem and RPC is necessary. With HTTP you can totally transfer binary data , connections are persistent and there is great tooling available to work with HTTP. \r\nMore interestingly with HTTP 2.0 , it is gonna be even better and would allow parallel requests on same connection.\r\n\r\nI can understand the sentiment around Json though and if Smile is also not good enough then adding another format is OK.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276132485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276134345","html_url":"https://github.com/apache/druid/issues/3719#issuecomment-276134345","issue_url":"https://api.github.com/repos/apache/druid/issues/3719","id":276134345,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjEzNDM0NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T17:48:32Z","updated_at":"2017-01-30T17:48:32Z","author_association":"CONTRIBUTOR","body":"@jihoonson since 0.10.0 allows incompatible changes, imo the best way to address this is just adding a getCacheKey method to the PostAggregator interface.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276134345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276144265","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-276144265","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":276144265,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjE0NDI2NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T18:16:38Z","updated_at":"2017-01-30T18:16:38Z","author_association":"CONTRIBUTOR","body":"@leventov yes, it is to introduce larger columns with existing ByteBuffer based GenericIndexed. Replacing ByteBuffer with Memory would achieve same but that would take some time before getting materialized.\r\nAlso, this work internally predates the discussions on replacing ByteBuffer with Memory.\r\n\r\n@cheddar any other thoughts?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276144265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276184212","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-276184212","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":276184212,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjE4NDIxMg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T20:42:33Z","updated_at":"2017-01-30T20:42:33Z","author_association":"MEMBER","body":"@akashdw @himanshug If we add a more complex format now, we have to support it for very long or forever, despite this complexity could be avoided if we replace `ByteBuffer` with `Memory`. I suggest to not merge this PR and push \"`ByteBuffer` -> `Memory`\" project more actively. See #3892","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276184212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276184444","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-276184444","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":276184444,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjE4NDQ0NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T20:43:27Z","updated_at":"2017-01-30T20:43:27Z","author_association":"MEMBER","body":"**Unresolved problems**\r\n - Big-endian format that is currently used in Druid and ByteBuffers?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276184444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276185704","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-276185704","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":276185704,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjE4NTcwNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T20:48:24Z","updated_at":"2017-01-30T20:49:23Z","author_association":"MEMBER","body":"**+ Design**\r\n * \"Global\" (immutable)`Memory`'s bounds are checked optionally via assertions/guarded by static final boolean flag, \"local\" position and limit are check explicitly manually, with helper methods or versions of read and write methods of `Memory`, which accept read/write position and \"local\" limits. \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276185704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276196392","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-276196392","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":276196392,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjE5NjM5Mg==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T21:28:36Z","updated_at":"2017-01-30T21:50:33Z","author_association":"CONTRIBUTOR","body":"@leventov I am already working on migrating from ByteBuffer to Memory with @leerho and @cheddar . It is going to take sometime before this task is completed. Also we need to arrive at a consensus on a few things. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276196392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276198184","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-276198184","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":276198184,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjE5ODE4NA==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T21:34:20Z","updated_at":"2017-01-30T21:37:08Z","author_association":"CONTRIBUTOR","body":"@leventov I understand replacing ByteBuffer with memory would achieve the same but memory changes are not ready yet. @niketh and @leerho are working on the memory changes and might take some time to replace ByteBuffer with memory. I think these changes are completely independent of memory changes and allow us to create large columns using ByteBuffer. As I mentioned earlier memory changes can be introduced later with a new GenericIndexed version `3`. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276198184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276201829","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-276201829","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":276201829,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIwMTgyOQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T21:46:58Z","updated_at":"2017-01-30T21:46:58Z","author_association":"MEMBER","body":"@niketh thanks for letting know.\r\n\r\n@akashdw IMO being able to go beyond 2 GB limit one or two public Druid releases earlier doesn't worth introducing complexity, that should then be supported for years. At Yahoo you need it and you are the author of the patch, so you can apply it and use private builds (if you don't do this already)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276201829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276216123","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-276216123","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":276216123,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIxNjEyMw==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T22:44:12Z","updated_at":"2017-01-30T22:57:49Z","author_association":"CONTRIBUTOR","body":"@leventov I'm not sure I understand the complexity here.  There is an explicit need to support large columns, we have users who are actually running into this problem and you are asking us to not merge it because of a PR that isn't even ready yet?\r\n\r\nWe chose to do these even though we knew that the `Memory` interface would eventually come because we do not believe the `Memory` interface to be a simple and quick change.  It will introduce API instability, will have performance implications and will require a good amount of back and forth.  \r\n\r\nI don't think it's a good idea to set a precedent of not accepting patches simply because you, personally, don't need the fix.  And the argument about support can be used to say that we should not accept any PR whatsoever.  This change is incremental, opt-in only and can clearly and cleanly be migrated forward.  I don't think there is any reason to block the PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276216123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276216444","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-276216444","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":276216444,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIxNjQ0NA==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T22:45:34Z","updated_at":"2017-01-30T22:58:09Z","author_association":"CONTRIBUTOR","body":"@leventov if you are volunteering to complete the move to the `Memory` interface as your highest priority project and believe you can get it implemented within the next week or two, then I would reconsider and would be happy to let you \r\n\r\n> push \"ByteBuffer -> Memory\" project more actively","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276216444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276218946","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-276218946","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":276218946,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIxODk0Ng==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T22:56:26Z","updated_at":"2017-01-30T22:56:26Z","author_association":"CONTRIBUTOR","body":"@leventov there's a problem with moving Memory to the Druid source tree, which is that it would then make the current implementations of Sketches not work.  They would have to either be re-implemented depending on Druid (which is a huge dependency for them to take) or we would have to have some sort of compatibility layer between the two.\r\n\r\nI *do* think that it is likely for Druid to have some classes that make it easier to use `Memory` for various operations, which would definitely live in Druid.  The \"read-only\" version seems like something we should get the `Memory` library to support.\r\n\r\nThe non-native-endian problem basically means that our initial version of the integration will have to do non-native-endian reads (i.e. convert after reading non-native-endian value).  Then, in a subsequent version, we will have to create a new serialization version that is only native endian.\r\n\r\nThe close/free stuff is already done.\r\n\r\nThe `MagicAccessImpl` thing looks cool.  Is that basically a thing where we can put any arbitrary address and length in and it gives back a `DirectByteBuffer` that uses that?  If so, that could be useful, yeah.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276218946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276228088","html_url":"https://github.com/apache/druid/pull/3848#issuecomment-276228088","issue_url":"https://api.github.com/repos/apache/druid/issues/3848","id":276228088,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIyODA4OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T23:41:39Z","updated_at":"2017-01-30T23:41:39Z","author_association":"CONTRIBUTOR","body":"@leventov, thank you for your detailed review.\r\n@gianm, any comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276228088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276228655","html_url":"https://github.com/apache/druid/issues/3719#issuecomment-276228655","issue_url":"https://api.github.com/repos/apache/druid/issues/3719","id":276228655,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIyODY1NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T23:44:46Z","updated_at":"2017-01-30T23:44:46Z","author_association":"CONTRIBUTOR","body":"@gianm, thanks. I'll focus on that point. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276228655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276228903","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-276228903","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":276228903,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIyODkwMw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T23:46:09Z","updated_at":"2017-01-30T23:52:43Z","author_association":"MEMBER","body":"@cheddar I think sooner or later the proposed `Memory` should anyway become a part of Druid source, because it is a critical dependency and it's not good to depend on PR review/release cycle done by Yahoo exclusively, not Druid community. This is the same story as with java-util/bytebuffer-collections/extendedset and Metamarkets. Sooner, i. e. from the very beginning, is better.\r\n\r\nAnother solution is to move DataSketches lib to github.com/druid-io.\r\n\r\nWe could also add DataSketches's `Memory` <-> Druid's `Memory` conversion. Since Druid's `Memory` is supposed to be based on the DataSketches's one, it should be easy.\r\n\r\nWhat do people from Imply (@gianm, @fjy) think on this question?\r\n\r\n> The `MagicAccessImpl` thing looks cool. Is that basically a thing where we can put any arbitrary address and length in and it gives back a DirectByteBuffer that uses that? If so, that could be useful, yeah.\r\n\r\nI think it is needed for being able to make a refactoring gradually, not all-or-nothing. But it is super-ugly, likely won't work on any JDK except OpenJDK/Oracle JDK, likely won't work on Java 9 at all. So better it to be a temporary hack. If there are huge libraries which Druid depends on and they require `ByteBuffer`, it could also be a problem, because it means that the hack couldn't be removed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276228903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276232340","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-276232340","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":276232340,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIzMjM0MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-31T00:04:05Z","updated_at":"2017-01-31T00:04:05Z","author_association":"MEMBER","body":"@cheddar the fact that other people need this, besides Yahoo, changes the picture. I'm not blocking it, if any other committer not from Yahoo is OK with it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276232340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276235357","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-276235357","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":276235357,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIzNTM1Nw==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-31T00:20:40Z","updated_at":"2017-01-31T00:21:20Z","author_association":"CONTRIBUTOR","body":"@leventov @cheddar ,  \r\n\r\n**+ Goal**\r\n\r\n- Eliminate current Endian craziness in Druid by standardizing on native-endian.  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276235357/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276237430","html_url":"https://github.com/apache/druid/pull/3863#issuecomment-276237430","issue_url":"https://api.github.com/repos/apache/druid/issues/3863","id":276237430,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIzNzQzMA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-31T00:33:06Z","updated_at":"2017-01-31T00:33:06Z","author_association":"CONTRIBUTOR","body":"Also, can you point me to the change related to the setting a blocking pool timeout? I wasn't able to find that while reviewing","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276237430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276238686","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-276238686","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":276238686,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIzODY4Ng==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-31T00:41:06Z","updated_at":"2017-01-31T00:41:06Z","author_association":"CONTRIBUTOR","body":"@leventov even if it is only Yahoo at this point in time, I don't see why that's a reason to block it.  Btw, as I've calmed down a little bit.  Let me add that this PR introduces an interface change to `ComplexMetricSerde` interface that is actually very important and good.  It provides the ability for a `ComplexMetricSerde` to control its own serialization, opening the door to many optimizations.  Without doing the work to make this PR happen, we wouldn't have realized how to actually adjust that interface to make things work.  Throwing away this PR essentially throws that away and pulls us backwards in that regard.\r\n\r\nIn general, Druid has and continues to maintain versioned binary storage to enable us to iterate and make changes as needed.  This has served us well and is the mechanism by which we handle complexity and support for features that might initially seem orthogonal to what others also need out of the project.  But, in the end, we are running into this problem because we are pushing the limits of Druid and need to resolve those issues.  The changes are all within the normal mechanisms that Druid uses to make incremental changes and they are purely opt-in.\r\n\r\nIf there is some technical reason that you think we are making changes to the code that will have long-lasting, negative implications, please bring them up and we can try to address them.  But if the push back is merely \"it's more code and more code increases the maintenance burden,\" I do not believe that argument is valid.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276238686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276239398","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-276239398","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":276239398,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjIzOTM5OA==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-31T00:45:36Z","updated_at":"2017-01-31T00:45:36Z","author_association":"CONTRIBUTOR","body":"Fwiw, I think it is better to try to do an all-or-nothing swap of the libraries and just make sure that we support the same persisted data.  It's a much larger PR and will be a significant QA/code review risk, but this is also something that I think we either want to take whole-hog or not at all.\r\n\r\nI propose we bring this up at the dev sync tomorrow, I'll make sure to mention it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276239398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276241673","html_url":"https://github.com/apache/druid/pull/3877#issuecomment-276241673","issue_url":"https://api.github.com/repos/apache/druid/issues/3877","id":276241673,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjI0MTY3Mw==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-31T00:59:29Z","updated_at":"2017-01-31T00:59:29Z","author_association":"CONTRIBUTOR","body":"@pjain1 @himanshug @gianm Thanks for reviewing this PR. I made changes in HdfsDataSegmentFinder, HdfsDataSegmentFKiller to understand new storage path as well as old path and updated the doc. Some of the tests in `druid-indexing-hadoop` project are still using old path format because those tests uses `file` scheme to store data segments and this PR does not change the current behavior for `file` scheme.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276241673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276242024","html_url":"https://github.com/apache/druid/pull/3860#issuecomment-276242024","issue_url":"https://api.github.com/repos/apache/druid/issues/3860","id":276242024,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjI0MjAyNA==","user":{"login":"dkhwangbo","id":13585249,"node_id":"MDQ6VXNlcjEzNTg1MjQ5","avatar_url":"https://avatars.githubusercontent.com/u/13585249?v=4","gravatar_id":"","url":"https://api.github.com/users/dkhwangbo","html_url":"https://github.com/dkhwangbo","followers_url":"https://api.github.com/users/dkhwangbo/followers","following_url":"https://api.github.com/users/dkhwangbo/following{/other_user}","gists_url":"https://api.github.com/users/dkhwangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/dkhwangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkhwangbo/subscriptions","organizations_url":"https://api.github.com/users/dkhwangbo/orgs","repos_url":"https://api.github.com/users/dkhwangbo/repos","events_url":"https://api.github.com/users/dkhwangbo/events{/privacy}","received_events_url":"https://api.github.com/users/dkhwangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-31T01:01:27Z","updated_at":"2017-01-31T01:01:27Z","author_association":"CONTRIBUTOR","body":"@fjy Hi. Any update is in there?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276242024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276249626","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-276249626","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":276249626,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjI0OTYyNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-31T01:47:43Z","updated_at":"2017-01-31T01:48:53Z","author_association":"MEMBER","body":"@cheddar \r\n\r\n> If there is some technical reason that you think we are making changes to the code that will have long-lasting, negative implications, please bring them up and we can try to address them. But if the push back is merely \"it's more code and more code increases the maintenance burden,\" I do not believe that argument is valid.\r\n\r\nMy argument was \"it's more code and more code increases the maintenance burden\" _and_ \"it could be avoided by waiting some time for another refactoring\" _and_ \"only Yahoo needs it and could live with this patch applied in private builds\". As the last part is false, the argument is invalid. However I still want somebody else outside Yahoo to review this PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276249626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276252667","html_url":"https://github.com/apache/druid/pull/3863#issuecomment-276252667","issue_url":"https://api.github.com/repos/apache/druid/issues/3863","id":276252667,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjI1MjY2Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-31T02:06:28Z","updated_at":"2017-01-31T02:06:28Z","author_association":"CONTRIBUTOR","body":"@jon-wei and I had a talk via a messenger, and we concluded this patch isn't enough to #3819. I'll make another PR for it.\r\n\r\nRegarding the change for setting a blocking pool timeout, I was little confused. Sorry for your confusion. I'll address your comments soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276252667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276257702","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-276257702","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":276257702,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjI1NzcwMg==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-31T02:35:45Z","updated_at":"2017-01-31T02:35:45Z","author_association":"CONTRIBUTOR","body":"@leventov @cheddar Interesting discussion.   I just have a few comments\r\n\r\n-  \"Don't make a lot of Object copies when a `Memory` object has to be \"sliced\", ...\".  The `MemoryRegion(R)` is a view of its parent as \"slice\" is for ByteBuffer; no data is copied. \r\n\r\nIf the concern is the over-creation of these shell objects, with `Memory` you could create a read-only view of the parent once, and then just pass the offset and permitted length to the downstream users of some sub-chunk; no object creation at all.  This is a little messy for the downstream users but safe.  With BB this is not possible, because the position, limit, etc are always writable, which could screw up the parent.\r\n\r\n- `MagicAccessorImpl`.  I've been looking at this and it concerns me.  \r\n\r\n1. It brings in yet another hierarchy of dependencies (org.objectweb.asm), which could make maintenance & debugging rather challenging.\r\n2. Creating a `DirectByteBuffer` requires calling the internal `Bits.reserveMemory()` and `unreserveMemory()`, which call the `sun.misc.SharedSecrets()` that keeps track of all created instances of `DirectByteBuffer` so that they can be properly freed.  I don't see any mechanisms in the `MagicAccessorImpl` that does this.  Of course, I may not fully grok how it works :).\r\n\r\n- Using the JVM `Cleaner`. Although this might be possible, the Java gurus that I have spoken with, who work on the internals of the JVM, advise me to never use `Cleaner` as it can be quite dangerous (and hazardous to your mental health :) ).  This and the above point are why I don't recommend trying to create a `DirectByteBuffer` from a `Memory`.  Creating a `HeapByteBuffer` from `Memory` is trivial and can be done with the current code.\r\n\r\n- `Memory` already has read-only implementations of `NativeMemory` and `MemoryRegion`.\r\n\r\n- `Memory` has no dependencies outside Java, and you can think of it as a wrapper around `Unsafe`.   This being the case, it would be possible to create classes in `Memory` that leverage the same `UnsafeUtil` and include position, limit, rewind, etc.  But, is this really necessary? Being able to read old data should not be a problem, but using `Memory` is a different programming paradigm that new downstream applications would need to get used to. \r\n\r\n- `Memory` was designed as a fast mechanism for random access of different primitive types sharing the same backing memory, similar to a C `struct` and `union` combined.  `ByteBuffer` was designed for fast stream-based IO buffer operations, for which it does a splendid job.   Reading a TCP/IP packet stream cannot be read with a random access paradigm so there is no choice.  Reading data from RAM can be read either in a random access paradigm or sequentially, which depends on the application. But it seems to me to be overly restrictive for Druid to require that downstream processes **must** use a sequential paradigm in order to process their data out of RAM.  Processing sketch data structures is a good example that requires random access, but I'm sure there will be many others.\r\n\r\nConverting Druid away from `ByteBuffers` will be a lot of work no matter what path is chosen.\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276257702/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/276306597","html_url":"https://github.com/apache/druid/pull/3863#issuecomment-276306597","issue_url":"https://api.github.com/repos/apache/druid/issues/3863","id":276306597,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjMwNjU5Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-31T08:46:17Z","updated_at":"2017-01-31T08:46:17Z","author_association":"CONTRIBUTOR","body":"@jon-wei, thanks. I addressed your comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/276306597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]