[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927137018","html_url":"https://github.com/apache/hudi/pull/3413#issuecomment-927137018","issue_url":"https://api.github.com/repos/apache/hudi/issues/3413","id":927137018,"node_id":"IC_kwDOBI7nWM43Qvz6","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-25T15:28:17Z","updated_at":"2021-09-25T15:28:17Z","author_association":"CONTRIBUTOR","body":"@zhangyue19921010 : do ping me here once you have addressed all comments. I can take a look.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927137018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927148664","html_url":"https://github.com/apache/hudi/pull/3715#issuecomment-927148664","issue_url":"https://api.github.com/repos/apache/hudi/issues/3715","id":927148664,"node_id":"IC_kwDOBI7nWM43Qyp4","user":{"login":"qianchutao","id":72595723,"node_id":"MDQ6VXNlcjcyNTk1NzIz","avatar_url":"https://avatars.githubusercontent.com/u/72595723?v=4","gravatar_id":"","url":"https://api.github.com/users/qianchutao","html_url":"https://github.com/qianchutao","followers_url":"https://api.github.com/users/qianchutao/followers","following_url":"https://api.github.com/users/qianchutao/following{/other_user}","gists_url":"https://api.github.com/users/qianchutao/gists{/gist_id}","starred_url":"https://api.github.com/users/qianchutao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianchutao/subscriptions","organizations_url":"https://api.github.com/users/qianchutao/orgs","repos_url":"https://api.github.com/users/qianchutao/repos","events_url":"https://api.github.com/users/qianchutao/events{/privacy}","received_events_url":"https://api.github.com/users/qianchutao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-25T16:35:43Z","updated_at":"2021-09-25T16:35:43Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927148664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927175448","html_url":"https://github.com/apache/hudi/pull/3715#issuecomment-927175448","issue_url":"https://api.github.com/repos/apache/hudi/issues/3715","id":927175448,"node_id":"IC_kwDOBI7nWM43Q5MY","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-25T19:55:19Z","updated_at":"2021-09-25T19:55:19Z","author_association":"CONTRIBUTOR","body":"@yihua : Can you take up reviewing this patch please. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927175448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927175557","html_url":"https://github.com/apache/hudi/pull/3715#issuecomment-927175557","issue_url":"https://api.github.com/repos/apache/hudi/issues/3715","id":927175557,"node_id":"IC_kwDOBI7nWM43Q5OF","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-25T19:56:28Z","updated_at":"2021-09-25T19:56:28Z","author_association":"CONTRIBUTOR","body":"@qianchutao : can you add a unit test please. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927175557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927176837","html_url":"https://github.com/apache/hudi/pull/3716#issuecomment-927176837","issue_url":"https://api.github.com/repos/apache/hudi/issues/3716","id":927176837,"node_id":"IC_kwDOBI7nWM43Q5iF","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-25T20:08:15Z","updated_at":"2021-09-25T20:08:15Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927176837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927184033","html_url":"https://github.com/apache/hudi/pull/3716#issuecomment-927184033","issue_url":"https://api.github.com/repos/apache/hudi/issues/3716","id":927184033,"node_id":"IC_kwDOBI7nWM43Q7Sh","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-25T21:17:19Z","updated_at":"2021-09-25T21:17:19Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927184033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927191342","html_url":"https://github.com/apache/hudi/pull/3698#issuecomment-927191342","issue_url":"https://api.github.com/repos/apache/hudi/issues/3698","id":927191342,"node_id":"IC_kwDOBI7nWM43Q9Eu","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-25T22:27:00Z","updated_at":"2021-09-25T22:27:00Z","author_association":"CONTRIBUTOR","body":"@nbalajee @n3nash @bvaradar : can you folks review the patch. addressed all comments.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927191342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927198979","html_url":"https://github.com/apache/hudi/pull/3715#issuecomment-927198979","issue_url":"https://api.github.com/repos/apache/hudi/issues/3715","id":927198979,"node_id":"IC_kwDOBI7nWM43Q-8D","user":{"login":"qianchutao","id":72595723,"node_id":"MDQ6VXNlcjcyNTk1NzIz","avatar_url":"https://avatars.githubusercontent.com/u/72595723?v=4","gravatar_id":"","url":"https://api.github.com/users/qianchutao","html_url":"https://github.com/qianchutao","followers_url":"https://api.github.com/users/qianchutao/followers","following_url":"https://api.github.com/users/qianchutao/following{/other_user}","gists_url":"https://api.github.com/users/qianchutao/gists{/gist_id}","starred_url":"https://api.github.com/users/qianchutao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianchutao/subscriptions","organizations_url":"https://api.github.com/users/qianchutao/orgs","repos_url":"https://api.github.com/users/qianchutao/repos","events_url":"https://api.github.com/users/qianchutao/events{/privacy}","received_events_url":"https://api.github.com/users/qianchutao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-25T23:44:19Z","updated_at":"2021-09-25T23:44:19Z","author_association":"CONTRIBUTOR","body":"> @qianchutao : can you add a unit test please.\r\n\r\nThanks for your reply, this method is covered by unit tests in the project, the unit test code is:\r\norg.apache.hudi.utilities.functional.TestHoodieDeltaStreamer#testDistributedTestDataSource.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927198979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927199444","html_url":"https://github.com/apache/hudi/pull/3715#issuecomment-927199444","issue_url":"https://api.github.com/repos/apache/hudi/issues/3715","id":927199444,"node_id":"IC_kwDOBI7nWM43Q_DU","user":{"login":"qianchutao","id":72595723,"node_id":"MDQ6VXNlcjcyNTk1NzIz","avatar_url":"https://avatars.githubusercontent.com/u/72595723?v=4","gravatar_id":"","url":"https://api.github.com/users/qianchutao","html_url":"https://github.com/qianchutao","followers_url":"https://api.github.com/users/qianchutao/followers","following_url":"https://api.github.com/users/qianchutao/following{/other_user}","gists_url":"https://api.github.com/users/qianchutao/gists{/gist_id}","starred_url":"https://api.github.com/users/qianchutao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianchutao/subscriptions","organizations_url":"https://api.github.com/users/qianchutao/orgs","repos_url":"https://api.github.com/users/qianchutao/repos","events_url":"https://api.github.com/users/qianchutao/events{/privacy}","received_events_url":"https://api.github.com/users/qianchutao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-25T23:50:22Z","updated_at":"2021-09-25T23:50:22Z","author_association":"CONTRIBUTOR","body":"@yihua \r\nAn error occurred during azure deployment in the test case. Please help to check the cause. The following is the error message:\r\n---------------------------------------------------------------------------------------------------------------------------------------------\r\nFormatting using clusterid: testClusterID\r\n3399 [main] WARN  org.apache.hadoop.metrics2.impl.MetricsConfig  - Cannot locate configuration: tried hadoop-metrics2-namenode.properties,hadoop-metrics2.properties\r\n5918 [DataStreamer for file /user/vsts/t3.props] WARN  org.apache.hadoop.hdfs.DFSClient  - Caught exception \r\njava.lang.InterruptedException\r\n\tat java.lang.Object.wait(Native Method)\r\n\tat java.lang.Thread.join(Thread.java:1252)\r\n\tat java.lang.Thread.join(Thread.java:1326)\r\n\tat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:609)\r\n\tat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:370)\r\n\tat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:546)\r\n6398 [main] WARN  org.apache.hadoop.hdfs.server.datanode.DirectoryScanner  - DirectoryScanner: shutdown has been called\r\n---------------------------------------------------------------------------------------------------------------------------------------------","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927199444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927215399","html_url":"https://github.com/apache/hudi/pull/3715#issuecomment-927215399","issue_url":"https://api.github.com/repos/apache/hudi/issues/3715","id":927215399,"node_id":"IC_kwDOBI7nWM43RC8n","user":{"login":"qianchutao","id":72595723,"node_id":"MDQ6VXNlcjcyNTk1NzIz","avatar_url":"https://avatars.githubusercontent.com/u/72595723?v=4","gravatar_id":"","url":"https://api.github.com/users/qianchutao","html_url":"https://github.com/qianchutao","followers_url":"https://api.github.com/users/qianchutao/followers","following_url":"https://api.github.com/users/qianchutao/following{/other_user}","gists_url":"https://api.github.com/users/qianchutao/gists{/gist_id}","starred_url":"https://api.github.com/users/qianchutao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianchutao/subscriptions","organizations_url":"https://api.github.com/users/qianchutao/orgs","repos_url":"https://api.github.com/users/qianchutao/repos","events_url":"https://api.github.com/users/qianchutao/events{/privacy}","received_events_url":"https://api.github.com/users/qianchutao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T02:14:41Z","updated_at":"2021-09-26T02:14:41Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927215399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927215842","html_url":"https://github.com/apache/hudi/pull/3693#issuecomment-927215842","issue_url":"https://api.github.com/repos/apache/hudi/issues/3693","id":927215842,"node_id":"IC_kwDOBI7nWM43RDDi","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T02:19:15Z","updated_at":"2021-09-26T02:19:15Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @leesf did i make myself clear for `PartitionPathEncodeUtils` and `HoodieSparkFunSuite`?\r\nI'll continue to amend other codes if these are accepted.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927215842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927222084","html_url":"https://github.com/apache/hudi/pull/3687#issuecomment-927222084","issue_url":"https://api.github.com/repos/apache/hudi/issues/3687","id":927222084,"node_id":"IC_kwDOBI7nWM43RElE","user":{"login":"Carl-Zhou-CN","id":67902676,"node_id":"MDQ6VXNlcjY3OTAyNjc2","avatar_url":"https://avatars.githubusercontent.com/u/67902676?v=4","gravatar_id":"","url":"https://api.github.com/users/Carl-Zhou-CN","html_url":"https://github.com/Carl-Zhou-CN","followers_url":"https://api.github.com/users/Carl-Zhou-CN/followers","following_url":"https://api.github.com/users/Carl-Zhou-CN/following{/other_user}","gists_url":"https://api.github.com/users/Carl-Zhou-CN/gists{/gist_id}","starred_url":"https://api.github.com/users/Carl-Zhou-CN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Carl-Zhou-CN/subscriptions","organizations_url":"https://api.github.com/users/Carl-Zhou-CN/orgs","repos_url":"https://api.github.com/users/Carl-Zhou-CN/repos","events_url":"https://api.github.com/users/Carl-Zhou-CN/events{/privacy}","received_events_url":"https://api.github.com/users/Carl-Zhou-CN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T03:21:25Z","updated_at":"2021-09-26T03:21:25Z","author_association":"MEMBER","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927222084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927230026","html_url":"https://github.com/apache/hudi/issues/3699#issuecomment-927230026","issue_url":"https://api.github.com/repos/apache/hudi/issues/3699","id":927230026,"node_id":"IC_kwDOBI7nWM43RGhK","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T04:39:12Z","updated_at":"2021-09-26T04:39:12Z","author_association":"MEMBER","body":"Ok @ZeMirella so basically it's about bulk insert a chunk of data. Was `bulk_insert_shuffle_parallelism` set to 2000 in this case? given the data size, you may want to try partitioning the output dataset. Say you choose a field `foo` from the schema as the partition field, and roughly it gives 200 partitions. A few configs you may try changing accordingly\r\n- hoodie.bulkinsert.shuffle.parallelism = 200\r\n- hoodie.datasource.write.row.writer.enable = true // why disabled it explicitly?\r\n- Use a proper class for hoodie.datasource.write.keygenerator.class and hoodie.datasource.hive_sync.partition_extractor_class. It should fit the partitioning strategy you chose. Check out [this blog](https://hudi.incubator.apache.org/blog/2021/02/13/hudi-key-generators/).\r\n- the code for spark write should be sth like\r\n  ```python\r\n  spark_df.repartition(200, spark_df.col(\"foo\")).write.format(\"hudi\").options(**hudi_options).mode(\"overwrite\").partitionBy(\"foo\").save(self.table_path)\r\n  ```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927230026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927234056","html_url":"https://github.com/apache/hudi/issues/3617#issuecomment-927234056","issue_url":"https://api.github.com/repos/apache/hudi/issues/3617","id":927234056,"node_id":"IC_kwDOBI7nWM43RHgI","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T05:18:42Z","updated_at":"2021-09-26T05:18:42Z","author_association":"MEMBER","body":"@novakov-alexey the problem is caused by 20210907094837.commit having `\"schema\" : null`. Schema reader is reading from commit file. when it's null it's gonna look for basefile (parquet) to get the schema. But in this case your data is empty. \r\n\r\nI think this is current behavior when data is empty, commit metadata are all null or empty. You could try manually set a json serialized schema string to the commit file. Something like this\r\n\r\n```json\r\n  \"extraMetadata\" : {\r\n    \"schema\" : \"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"FullName\\\",\\\"fields\\\": []}\"\r\n  },\r\n```\r\n\r\nBut I do think it makes sense to make the schema available in commit file even when it's empty data. We may make a fix for this. Meanwhile, let us know if manually setting the schema string works for you.\r\n\r\nBTW you don't need to set       \"hoodie.consistency.check.enabled\" -> \"true\", as S3 has become strongly consistent some time back.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927234056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927240469","html_url":"https://github.com/apache/hudi/pull/3717#issuecomment-927240469","issue_url":"https://api.github.com/repos/apache/hudi/issues/3717","id":927240469,"node_id":"IC_kwDOBI7nWM43RJEV","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T06:06:19Z","updated_at":"2021-09-26T06:50:14Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"d74846a834baee91fe8051011e28bb16c1ca299b\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2398\",\n    \"triggerID\" : \"d74846a834baee91fe8051011e28bb16c1ca299b\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* d74846a834baee91fe8051011e28bb16c1ca299b Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2398) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927240469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927248813","html_url":"https://github.com/apache/hudi/issues/3697#issuecomment-927248813","issue_url":"https://api.github.com/repos/apache/hudi/issues/3697","id":927248813,"node_id":"IC_kwDOBI7nWM43RLGt","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T07:19:17Z","updated_at":"2021-09-26T07:19:57Z","author_association":"MEMBER","body":"@Rap70r From the parameters you show, i see the problem is mostly caused by not utilizing the machines' resources efficiently. Let's do some math:\r\nSay you use 4 m5.4xlarge machines each has 16 cores and 64g memory. \r\n\r\nset the below confs should allow you to run 19 executors with 1 driver for the spark job. double check spark UI to confirm the executors you're getting\r\n\r\n```\r\nspark.driver.cores=3\r\nspark.driver.memory=6g\r\nspark.driver.memoryOverhead=2g\r\nspark.executor.cores=3\r\nspark.executor.memory=6g\r\nspark.executor.memoryOverhead=2g\r\nspark.executor.instances=19\r\nspark.sql.shuffle.partitions=200\r\nspark.default.parallelism=200\r\nspark.task.cpus=1\r\n```\r\n\r\nalso set these hudi props in your spark writer options\r\n\r\n```\r\n  \"hoodie.upsert.shuffle.parallelism\" = 200,\r\n  \"hoodie.insert.shuffle.parallelism\" = 200,\r\n  \"hoodie.finalize.write.parallelism\" = 200,\r\n  \"hoodie.bulkinsert.shuffle.parallelism\" = 200,\r\n```\r\n\r\nalso you don't need to construct hoodie_key and hoodie_partition yourself, please set the hoodie key generator class options properly in Spark options. Refer to [this blog](https://hudi.incubator.apache.org/blog/2021/02/13/hudi-key-generators/). ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927248813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927251709","html_url":"https://github.com/apache/hudi/issues/3571#issuecomment-927251709","issue_url":"https://api.github.com/repos/apache/hudi/issues/3571","id":927251709,"node_id":"IC_kwDOBI7nWM43RLz9","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T07:42:56Z","updated_at":"2021-09-26T07:47:24Z","author_association":"MEMBER","body":"this looks like a jar mismatch issue. it's complaining about \"java.lang.NoSuchFieldError: NULL_VALUE\"\r\n\r\nhttps://github.com/apache/hudi/blob/178767948e906f673d6d4a357c65c11bc574f619/hudi-common/src/main/java/org/apache/hudi/avro/HoodieAvroUtils.java#L245-L246\r\n\r\n@yuangjiang hudi-spark-bundle_2.11 should give you avro-1.8.2.jar, which is the right one. But in your environment i wonder if there is any different avro dependencies being supplied? can you double check on the jar/classpath aspect?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927251709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927255399","html_url":"https://github.com/apache/hudi/pull/3413#issuecomment-927255399","issue_url":"https://api.github.com/repos/apache/hudi/issues/3413","id":927255399,"node_id":"IC_kwDOBI7nWM43RMtn","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T08:08:07Z","updated_at":"2021-09-26T08:08:07Z","author_association":"CONTRIBUTOR","body":"> @zhangyue19921010 : do ping me here once you have addressed all comments. I can take a look.\r\n\r\nHi @nsivabalan Thanks a lot for your review. I finished all the changes. PTAL :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927255399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927256877","html_url":"https://github.com/apache/hudi/issues/3607#issuecomment-927256877","issue_url":"https://api.github.com/repos/apache/hudi/issues/3607","id":927256877,"node_id":"IC_kwDOBI7nWM43RNEt","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T08:15:15Z","updated_at":"2021-09-26T08:15:44Z","author_association":"CONTRIBUTOR","body":"Hi @codope Thanks a lot for your attention. I just tried but failed again :(\r\nSincerely ask :\r\n1. What's the version of pesto you used?\r\n2. `in docker setup with metadata enabled` => how did you enable metadata table on presto side? I have to modify presto source code to enable presto query using metadata table.\r\n3. Did you just put hudi-presto-bundle into hive-hadoop plugin or did some changing in presto-source pom?\r\n\r\nLooking forward to your replay. Thanks a lot!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927256877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927270024","html_url":"https://github.com/apache/hudi/pull/3719#issuecomment-927270024","issue_url":"https://api.github.com/repos/apache/hudi/issues/3719","id":927270024,"node_id":"IC_kwDOBI7nWM43RQSI","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T09:35:20Z","updated_at":"2021-10-08T04:28:18Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f4d2fc3d664279975d143494274b787c6a6d5db1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2401\",\n    \"triggerID\" : \"f4d2fc3d664279975d143494274b787c6a6d5db1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"82b6fa38d0f2e8fca6a7804a550b89a4328644f2\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2537\",\n    \"triggerID\" : \"82b6fa38d0f2e8fca6a7804a550b89a4328644f2\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 82b6fa38d0f2e8fca6a7804a550b89a4328644f2 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2537) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927270024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927279173","html_url":"https://github.com/apache/hudi/pull/3720#issuecomment-927279173","issue_url":"https://api.github.com/repos/apache/hudi/issues/3720","id":927279173,"node_id":"IC_kwDOBI7nWM43RShF","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T10:26:08Z","updated_at":"2021-09-26T10:29:19Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"d3ef044902e78b2df0a7a342644c11c759e8c623\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2402\",\n    \"triggerID\" : \"d3ef044902e78b2df0a7a342644c11c759e8c623\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* d3ef044902e78b2df0a7a342644c11c759e8c623 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2402) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927279173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927281327","html_url":"https://github.com/apache/hudi/pull/3721#issuecomment-927281327","issue_url":"https://api.github.com/repos/apache/hudi/issues/3721","id":927281327,"node_id":"IC_kwDOBI7nWM43RTCv","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T10:38:52Z","updated_at":"2021-09-26T12:58:41Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"770893514e66ee0c6460679419cf4aa5a76efd88\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2403\",\n    \"triggerID\" : \"770893514e66ee0c6460679419cf4aa5a76efd88\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"770893514e66ee0c6460679419cf4aa5a76efd88\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2405\",\n    \"triggerID\" : \"927290203\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0607353c39791ba79af14696a5d89d9dae49a15c\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2406\",\n    \"triggerID\" : \"0607353c39791ba79af14696a5d89d9dae49a15c\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 0607353c39791ba79af14696a5d89d9dae49a15c Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2406) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927281327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927286542","html_url":"https://github.com/apache/hudi/pull/3671#issuecomment-927286542","issue_url":"https://api.github.com/repos/apache/hudi/issues/3671","id":927286542,"node_id":"IC_kwDOBI7nWM43RUUO","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T11:11:33Z","updated_at":"2021-09-26T11:11:33Z","author_association":"CONTRIBUTOR","body":"@fengjian428 Thanks for addressing my concerns. But, the Azure CI still failed. Please check it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927286542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927290203","html_url":"https://github.com/apache/hudi/pull/3721#issuecomment-927290203","issue_url":"https://api.github.com/repos/apache/hudi/issues/3721","id":927290203,"node_id":"IC_kwDOBI7nWM43RVNb","user":{"login":"qianchutao","id":72595723,"node_id":"MDQ6VXNlcjcyNTk1NzIz","avatar_url":"https://avatars.githubusercontent.com/u/72595723?v=4","gravatar_id":"","url":"https://api.github.com/users/qianchutao","html_url":"https://github.com/qianchutao","followers_url":"https://api.github.com/users/qianchutao/followers","following_url":"https://api.github.com/users/qianchutao/following{/other_user}","gists_url":"https://api.github.com/users/qianchutao/gists{/gist_id}","starred_url":"https://api.github.com/users/qianchutao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianchutao/subscriptions","organizations_url":"https://api.github.com/users/qianchutao/orgs","repos_url":"https://api.github.com/users/qianchutao/repos","events_url":"https://api.github.com/users/qianchutao/events{/privacy}","received_events_url":"https://api.github.com/users/qianchutao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T11:37:08Z","updated_at":"2021-09-26T11:37:08Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927290203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927304519","html_url":"https://github.com/apache/hudi/pull/3722#issuecomment-927304519","issue_url":"https://api.github.com/repos/apache/hudi/issues/3722","id":927304519,"node_id":"IC_kwDOBI7nWM43RYtH","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T13:11:36Z","updated_at":"2021-10-13T12:50:39Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"edc24addc4d4a201491f70116f5a23d6117131e6\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2407\",\n    \"triggerID\" : \"edc24addc4d4a201491f70116f5a23d6117131e6\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"edc24addc4d4a201491f70116f5a23d6117131e6\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2423\",\n    \"triggerID\" : \"927608827\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"b6c620dd0de916136c8791dbe4492c8984f95901\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2617\",\n    \"triggerID\" : \"b6c620dd0de916136c8791dbe4492c8984f95901\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* b6c620dd0de916136c8791dbe4492c8984f95901 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2617) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927304519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927311933","html_url":"https://github.com/apache/hudi/pull/3719#issuecomment-927311933","issue_url":"https://api.github.com/repos/apache/hudi/issues/3719","id":927311933,"node_id":"IC_kwDOBI7nWM43Rag9","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T14:04:46Z","updated_at":"2021-09-26T14:04:46Z","author_association":"CONTRIBUTOR","body":"I am a little curious about why the requests in `Enable metadata table` is larger than `Disable metadata table`, and also what the query response time difference between enable/disable metadata table?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927311933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927317516","html_url":"https://github.com/apache/hudi/issues/3617#issuecomment-927317516","issue_url":"https://api.github.com/repos/apache/hudi/issues/3617","id":927317516,"node_id":"IC_kwDOBI7nWM43Rb4M","user":{"login":"novakov-alexey-zz","id":11204284,"node_id":"MDQ6VXNlcjExMjA0Mjg0","avatar_url":"https://avatars.githubusercontent.com/u/11204284?v=4","gravatar_id":"","url":"https://api.github.com/users/novakov-alexey-zz","html_url":"https://github.com/novakov-alexey-zz","followers_url":"https://api.github.com/users/novakov-alexey-zz/followers","following_url":"https://api.github.com/users/novakov-alexey-zz/following{/other_user}","gists_url":"https://api.github.com/users/novakov-alexey-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/novakov-alexey-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/novakov-alexey-zz/subscriptions","organizations_url":"https://api.github.com/users/novakov-alexey-zz/orgs","repos_url":"https://api.github.com/users/novakov-alexey-zz/repos","events_url":"https://api.github.com/users/novakov-alexey-zz/events{/privacy}","received_events_url":"https://api.github.com/users/novakov-alexey-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T14:44:45Z","updated_at":"2021-09-26T14:44:45Z","author_association":"NONE","body":"@xushiyan can you advice how to set a json schema string to the commit file?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927317516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927331354","html_url":"https://github.com/apache/hudi/pull/3648#issuecomment-927331354","issue_url":"https://api.github.com/repos/apache/hudi/issues/3648","id":927331354,"node_id":"IC_kwDOBI7nWM43RfQa","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T16:18:19Z","updated_at":"2021-09-26T16:18:19Z","author_association":"CONTRIBUTOR","body":"\r\n> I think the nicer way would be not have deltastreamer error out (or at-least control this behavior) if there is no checkpoint, but to provide an empty one? This PR adds source specific checks to the `DeltaSync` class which I'd like to avoid.\r\n\r\nI remove the exception throw part, instead of add a warning. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927331354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927345014","html_url":"https://github.com/apache/hudi/issues/3617#issuecomment-927345014","issue_url":"https://api.github.com/repos/apache/hudi/issues/3617","id":927345014,"node_id":"IC_kwDOBI7nWM43Ril2","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T17:55:29Z","updated_at":"2021-09-26T17:55:44Z","author_association":"MEMBER","body":"@novakov-alexey what is the schema for this dataset? the snippet in the previous comment is the example.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927345014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927439267","html_url":"https://github.com/apache/hudi/issues/3709#issuecomment-927439267","issue_url":"https://api.github.com/repos/apache/hudi/issues/3709","id":927439267,"node_id":"IC_kwDOBI7nWM43R5mj","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T01:41:22Z","updated_at":"2021-09-27T01:41:22Z","author_association":"MEMBER","body":"@helanto I can reproduce this and I agree with you that the dedup behaviors should be consistent across the same options. Also `PARQUET_SMALL_FILE_LIMIT` should just be a workaround at the moment. I'll check further for a fix. Thanks for raising this! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927439267/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927446085","html_url":"https://github.com/apache/hudi/pull/3723#issuecomment-927446085","issue_url":"https://api.github.com/repos/apache/hudi/issues/3723","id":927446085,"node_id":"IC_kwDOBI7nWM43R7RF","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T02:00:59Z","updated_at":"2021-09-27T02:14:06Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"e6e4220e3199fccb871ed0ba3711deabeeda1daa\",\n    \"status\" : \"CANCELED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2417\",\n    \"triggerID\" : \"e6e4220e3199fccb871ed0ba3711deabeeda1daa\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* e6e4220e3199fccb871ed0ba3711deabeeda1daa Azure: [CANCELED](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2417) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927446085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927459881","html_url":"https://github.com/apache/hudi/pull/3674#issuecomment-927459881","issue_url":"https://api.github.com/repos/apache/hudi/issues/3674","id":927459881,"node_id":"IC_kwDOBI7nWM43R-op","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T02:32:55Z","updated_at":"2021-09-27T02:33:29Z","author_association":"CONTRIBUTOR","body":"@xushiyan Thanks for sharing your thoughts. Let's discuss some points.\r\n\r\n> i see the point here is to allow PR reviewer easily identify dep changes.\r\n\r\nYes, that's one of the purposes. Another one is to let the contributors or developers/users have a way to know and view the dependencies of those bundles if that way(meet conflict problems). So I output them into the codebase. Just like the Kyuubi has [done.](https://github.com/apache/incubator-kyuubi/pull/1162/files) \r\n\r\n> it turns out to have quite some logic and not friendly to maintainers who are not familiar with bash\r\n\r\nIMO, It's a tool just like other tools in the codebase. We do not need to spend much time to change or maintain it. And we can add more comments and a better usage guide. It's the first version in order to receive other inputs from you guys.\r\n\r\n> why dependency:build-classpath not dependency:tree?\r\n\r\nBecause it's easier and more readable. \r\n\r\n`build-classpath` looks like `ls` behavior and flatted to a dependencies list. However, `tree` contains nested `| \\ + -` right? It's harder to deal with.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927459881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927503142","html_url":"https://github.com/apache/hudi/issues/3605#issuecomment-927503142","issue_url":"https://api.github.com/repos/apache/hudi/issues/3605","id":927503142,"node_id":"IC_kwDOBI7nWM43SJMm","user":{"login":"Ambarish-Giri","id":85560823,"node_id":"MDQ6VXNlcjg1NTYwODIz","avatar_url":"https://avatars.githubusercontent.com/u/85560823?v=4","gravatar_id":"","url":"https://api.github.com/users/Ambarish-Giri","html_url":"https://github.com/Ambarish-Giri","followers_url":"https://api.github.com/users/Ambarish-Giri/followers","following_url":"https://api.github.com/users/Ambarish-Giri/following{/other_user}","gists_url":"https://api.github.com/users/Ambarish-Giri/gists{/gist_id}","starred_url":"https://api.github.com/users/Ambarish-Giri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ambarish-Giri/subscriptions","organizations_url":"https://api.github.com/users/Ambarish-Giri/orgs","repos_url":"https://api.github.com/users/Ambarish-Giri/repos","events_url":"https://api.github.com/users/Ambarish-Giri/events{/privacy}","received_events_url":"https://api.github.com/users/Ambarish-Giri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T03:43:49Z","updated_at":"2021-09-27T03:43:49Z","author_association":"NONE","body":"Hi @nsivabalan let me know in case you need any further details?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927503142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927513816","html_url":"https://github.com/apache/hudi/issues/3676#issuecomment-927513816","issue_url":"https://api.github.com/repos/apache/hudi/issues/3676","id":927513816,"node_id":"IC_kwDOBI7nWM43SLzY","user":{"login":"zhihuihong","id":58018688,"node_id":"MDQ6VXNlcjU4MDE4Njg4","avatar_url":"https://avatars.githubusercontent.com/u/58018688?v=4","gravatar_id":"","url":"https://api.github.com/users/zhihuihong","html_url":"https://github.com/zhihuihong","followers_url":"https://api.github.com/users/zhihuihong/followers","following_url":"https://api.github.com/users/zhihuihong/following{/other_user}","gists_url":"https://api.github.com/users/zhihuihong/gists{/gist_id}","starred_url":"https://api.github.com/users/zhihuihong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhihuihong/subscriptions","organizations_url":"https://api.github.com/users/zhihuihong/orgs","repos_url":"https://api.github.com/users/zhihuihong/repos","events_url":"https://api.github.com/users/zhihuihong/events{/privacy}","received_events_url":"https://api.github.com/users/zhihuihong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T04:12:26Z","updated_at":"2021-09-27T04:13:32Z","author_association":"NONE","body":"have you tried using clustering after inserting data?\r\nmy job created many  7mb files as well, and i used clustering to reorganize data layout.  I don't know how to change 7mb settings as well, but clustering works. (maybe 7mb depends on some specific ratio of hoodie.parquet.max.file.size?)\r\n\r\nBelow are some posts found in hudi website for your reference:\r\nhttps://hudi.apache.org/blog/2021/01/27/hudi-clustering-intro\r\nhttps://hudi.apache.org/blog/2021/08/23/async-clustering","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927513816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927522620","html_url":"https://github.com/apache/hudi/issues/3617#issuecomment-927522620","issue_url":"https://api.github.com/repos/apache/hudi/issues/3617","id":927522620,"node_id":"IC_kwDOBI7nWM43SN88","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T04:33:08Z","updated_at":"2021-09-27T04:34:21Z","author_association":"MEMBER","body":"@novakov-alexey I checked the behavior is fixed in 0.9.0. Please give release-0.9.0 a try. You can find some guide here to override EMR hudi jars. https://hudi.apache.org/learn/faq#how-to-override-hudi-jars-in-emr\r\n\r\nI used this snippet to reproduce your scenario with 0.9.0. After the bulk insert commit, I can see schema value is populated in the commit file. This should allow you to sync with Glue Catalog.\r\n\r\n```scala\r\n    val opts = Map(\r\n      DataSourceWriteOptions.TABLE_NAME.key() -> \"language\",\r\n      DataSourceWriteOptions.TABLE_TYPE.key() -> DataSourceWriteOptions.COW_TABLE_TYPE_OPT_VAL,\r\n      DataSourceWriteOptions.OPERATION.key() -> DataSourceWriteOptions.BULK_INSERT_OPERATION_OPT_VAL,\r\n      DataSourceWriteOptions.RECORDKEY_FIELD.key() -> \"lang\",\r\n      DataSourceWriteOptions.PRECOMBINE_FIELD.key() -> \"score\",\r\n      DataSourceWriteOptions.KEYGENERATOR_CLASS_NAME.key() -> classOf[NonpartitionedKeyGenerator].getCanonicalName,\r\n      DataSourceWriteOptions.HIVE_PARTITION_EXTRACTOR_CLASS.key() -> classOf[NonPartitionedExtractor].getCanonicalName,\r\n      DataSourceWriteOptions.HIVE_STYLE_PARTITIONING.key() -> \"true\",\r\n      HoodieWriteConfig.TBL_NAME.key() -> \"language\",\r\n      HoodieWriteConfig.INSERT_PARALLELISM_VALUE.key() -> \"1\",\r\n      HoodieWriteConfig.UPSERT_PARALLELISM_VALUE.key() -> \"1\",\r\n      HoodieWriteConfig.BULKINSERT_PARALLELISM_VALUE.key() -> \"1\",\r\n      HoodieWriteConfig.FINALIZE_WRITE_PARALLELISM_VALUE.key() -> \"1\",\r\n      \"spark.default.parallelism\" -> \"1\",\r\n      \"spark.sql.shuffle.partitions\" -> \"1\"\r\n    )\r\n\r\n    val simpleSchema = StructType(Array(\r\n      StructField(\"lang\", StringType, nullable = false),\r\n      StructField(\"score\", IntegerType, nullable = false)\r\n    ))\r\n    val emptyDF = spark.createDataFrame(spark.sparkContext.emptyRDD[Row], simpleSchema)\r\n    emptyDF.write.format(\"hudi\").options(opts).mode(Overwrite).save(basePath)\r\n    val data = spark.read.format(\"hudi\").load(basePath)\r\n    data.show()\r\n```\r\n\r\n```json\r\n cat .hoodie/20210926212533.commit\r\n{\r\n  \"partitionToWriteStats\" : { },\r\n  \"compacted\" : false,\r\n  \"extraMetadata\" : {\r\n    \"schema\" : \"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"language_record\\\",\\\"namespace\\\":\\\"hoodie.language\\\",\\\"fields\\\":[{\\\"name\\\":\\\"lang\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"score\\\",\\\"type\\\":\\\"int\\\"}]}\"\r\n  },\r\n  \"operationType\" : \"BULK_INSERT\",\r\n  \"fileIdAndRelativePaths\" : { },\r\n  \"totalRecordsDeleted\" : 0,\r\n  \"totalLogRecordsCompacted\" : 0,\r\n  \"totalLogFilesCompacted\" : 0,\r\n  \"totalCompactedRecordsUpdated\" : 0,\r\n  \"totalLogFilesSize\" : 0,\r\n  \"totalScanTime\" : 0,\r\n  \"totalCreateTime\" : 0,\r\n  \"totalUpsertTime\" : 0,\r\n  \"minAndMaxEventTime\" : {\r\n    \"Optional.empty\" : {\r\n      \"val\" : null,\r\n      \"present\" : false\r\n    }\r\n  },\r\n  \"writePartitionPaths\" : [ ]\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927522620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927529180","html_url":"https://github.com/apache/hudi/issues/3714#issuecomment-927529180","issue_url":"https://api.github.com/repos/apache/hudi/issues/3714","id":927529180,"node_id":"IC_kwDOBI7nWM43SPjc","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T04:53:36Z","updated_at":"2021-09-27T04:53:36Z","author_association":"MEMBER","body":"@jainpriyansh786 though dedup read paths can help reduce risk of re-reading, it is a design choice where a platform product like Hudi may not want to interfere with users input, i.e., to leave the responsibility to users to ensure the intended input paths, and Hudi just load data as instructed. What if users sometimes want to load the same data multiple times and try specifying duplicate paths for testing purpose? Doing extra dedup logic behind the scene may give surprises.\r\n\r\nClosing this for now. Feel free to leave follow-up comments. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927529180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927534419","html_url":"https://github.com/apache/hudi/pull/3359#issuecomment-927534419","issue_url":"https://api.github.com/repos/apache/hudi/issues/3359","id":927534419,"node_id":"IC_kwDOBI7nWM43SQ1T","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T05:07:09Z","updated_at":"2021-09-27T05:07:09Z","author_association":"MEMBER","body":"@zhedoubushishi kindly rebase and resolve the conflicts. thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927534419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927578493","html_url":"https://github.com/apache/hudi/pull/3719#issuecomment-927578493","issue_url":"https://api.github.com/repos/apache/hudi/issues/3719","id":927578493,"node_id":"IC_kwDOBI7nWM43Sbl9","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T06:45:19Z","updated_at":"2021-09-27T06:46:09Z","author_association":"CONTRIBUTOR","body":"> I am a little curious about why the requests in `Enable metadata table` is larger than `Disable metadata table`, and also what the query response time difference between enable/disable metadata table?\r\n\r\nI think metadata table feature let hudi query internal hudi MOR table to do file list instead of listing the files in partitions so that can improve list performance. But as we know a query-hudi-table-action need more requests compared a single list action. Maybe this can explain `why the requests in Enable metadata table is larger than Disable metadata table`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927578493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927579959","html_url":"https://github.com/apache/hudi/pull/3719#issuecomment-927579959","issue_url":"https://api.github.com/repos/apache/hudi/issues/3719","id":927579959,"node_id":"IC_kwDOBI7nWM43Sb83","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T06:48:21Z","updated_at":"2021-09-27T06:48:21Z","author_association":"CONTRIBUTOR","body":"As for performance improved because of hudi metadata table, I got the follow answers:\r\n\r\n\r\nCondition | Processing Time\r\n-- | --\r\nDisable metadata table | 143s\r\nEnable metadata table | 120s\r\n\r\n\r\nbased on S3 hudi table 240 partitions and 2400 data files.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927579959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927580221","html_url":"https://github.com/apache/hudi/pull/3719#issuecomment-927580221","issue_url":"https://api.github.com/repos/apache/hudi/issues/3719","id":927580221,"node_id":"IC_kwDOBI7nWM43ScA9","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T06:48:49Z","updated_at":"2021-09-27T06:48:49Z","author_association":"CONTRIBUTOR","body":"By the way, thanks for your attention @leesf :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927580221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927644242","html_url":"https://github.com/apache/hudi/issues/3617#issuecomment-927644242","issue_url":"https://api.github.com/repos/apache/hudi/issues/3617","id":927644242,"node_id":"IC_kwDOBI7nWM43SrpS","user":{"login":"novakov-alexey-zz","id":11204284,"node_id":"MDQ6VXNlcjExMjA0Mjg0","avatar_url":"https://avatars.githubusercontent.com/u/11204284?v=4","gravatar_id":"","url":"https://api.github.com/users/novakov-alexey-zz","html_url":"https://github.com/novakov-alexey-zz","followers_url":"https://api.github.com/users/novakov-alexey-zz/followers","following_url":"https://api.github.com/users/novakov-alexey-zz/following{/other_user}","gists_url":"https://api.github.com/users/novakov-alexey-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/novakov-alexey-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/novakov-alexey-zz/subscriptions","organizations_url":"https://api.github.com/users/novakov-alexey-zz/orgs","repos_url":"https://api.github.com/users/novakov-alexey-zz/repos","events_url":"https://api.github.com/users/novakov-alexey-zz/events{/privacy}","received_events_url":"https://api.github.com/users/novakov-alexey-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T08:24:37Z","updated_at":"2021-09-27T08:24:37Z","author_association":"NONE","body":"@xushiyan thank you, it is indeed fixed in Hudi 0.9.\r\n\r\nIf someone needs an example of building EMR job with own Hudi in SBT, there is one: \r\nhttps://github.com/novakov-alexey/spark-elt-jobs/blob/main/build.sbt#L207","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927644242/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927656921","html_url":"https://github.com/apache/hudi/pull/3715#issuecomment-927656921","issue_url":"https://api.github.com/repos/apache/hudi/issues/3715","id":927656921,"node_id":"IC_kwDOBI7nWM43SuvZ","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T08:43:30Z","updated_at":"2021-09-27T08:43:30Z","author_association":"CONTRIBUTOR","body":"> > @qianchutao : can you add a unit test please.\r\n> \r\n> Thanks for your reply, this method is covered by unit tests in the project, the unit test code is:\r\n> org.apache.hudi.utilities.functional.TestHoodieDeltaStreamer#testDistributedTestDataSource.\r\n\r\n@qianchutao , @nsivabalan means that you can add a test to see if the null record can be filtered or not.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927656921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927743362","html_url":"https://github.com/apache/hudi/issues/3572#issuecomment-927743362","issue_url":"https://api.github.com/repos/apache/hudi/issues/3572","id":927743362,"node_id":"IC_kwDOBI7nWM43TD2C","user":{"login":"borasy","id":25339946,"node_id":"MDQ6VXNlcjI1MzM5OTQ2","avatar_url":"https://avatars.githubusercontent.com/u/25339946?v=4","gravatar_id":"","url":"https://api.github.com/users/borasy","html_url":"https://github.com/borasy","followers_url":"https://api.github.com/users/borasy/followers","following_url":"https://api.github.com/users/borasy/following{/other_user}","gists_url":"https://api.github.com/users/borasy/gists{/gist_id}","starred_url":"https://api.github.com/users/borasy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/borasy/subscriptions","organizations_url":"https://api.github.com/users/borasy/orgs","repos_url":"https://api.github.com/users/borasy/repos","events_url":"https://api.github.com/users/borasy/events{/privacy}","received_events_url":"https://api.github.com/users/borasy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T10:42:54Z","updated_at":"2021-09-27T10:43:09Z","author_association":"NONE","body":"`hudi-spark` is different frmm hudi-spark-bundle? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927743362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927749497","html_url":"https://github.com/apache/hudi/pull/3203#issuecomment-927749497","issue_url":"https://api.github.com/repos/apache/hudi/issues/3203","id":927749497,"node_id":"IC_kwDOBI7nWM43TFV5","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T10:53:56Z","updated_at":"2021-09-27T10:53:56Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927749497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927751655","html_url":"https://github.com/apache/hudi/pull/3715#issuecomment-927751655","issue_url":"https://api.github.com/repos/apache/hudi/issues/3715","id":927751655,"node_id":"IC_kwDOBI7nWM43TF3n","user":{"login":"qianchutao","id":72595723,"node_id":"MDQ6VXNlcjcyNTk1NzIz","avatar_url":"https://avatars.githubusercontent.com/u/72595723?v=4","gravatar_id":"","url":"https://api.github.com/users/qianchutao","html_url":"https://github.com/qianchutao","followers_url":"https://api.github.com/users/qianchutao/followers","following_url":"https://api.github.com/users/qianchutao/following{/other_user}","gists_url":"https://api.github.com/users/qianchutao/gists{/gist_id}","starred_url":"https://api.github.com/users/qianchutao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianchutao/subscriptions","organizations_url":"https://api.github.com/users/qianchutao/orgs","repos_url":"https://api.github.com/users/qianchutao/repos","events_url":"https://api.github.com/users/qianchutao/events{/privacy}","received_events_url":"https://api.github.com/users/qianchutao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T10:57:50Z","updated_at":"2021-09-27T10:57:50Z","author_association":"CONTRIBUTOR","body":"> > > @qianchutao : can you add a unit test please.\r\n> > \r\n> > \r\n> > Thanks for your reply, this method is covered by unit tests in the project, the unit test code is:\r\n> > org.apache.hudi.utilities.functional.TestHoodieDeltaStreamer#testDistributedTestDataSource.\r\n> \r\n> @qianchutao , @nsivabalan means that you can add a test to see if the null record can be filtered or not.\r\n\r\nok,thanks.I will add unit tests to verify, give me some time","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927751655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927768631","html_url":"https://github.com/apache/hudi/pull/3330#issuecomment-927768631","issue_url":"https://api.github.com/repos/apache/hudi/issues/3330","id":927768631,"node_id":"IC_kwDOBI7nWM43TKA3","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T11:15:21Z","updated_at":"2021-09-27T11:15:21Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927768631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927820027","html_url":"https://github.com/apache/hudi/pull/3203#issuecomment-927820027","issue_url":"https://api.github.com/repos/apache/hudi/issues/3203","id":927820027,"node_id":"IC_kwDOBI7nWM43TWj7","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T12:20:46Z","updated_at":"2021-10-11T02:08:25Z","author_association":"CONTRIBUTOR","body":"@danny0405  i revert this pr: [HUDI-1969] Support reading logs for MOR Hive rt table (#3033), since this pr introduce a critical bug which may cause the query result repeat \r\ngive a example:  now we have a base file(file1) which contains two record:  key1, p1\r\n                                                                                                               key2, p2\r\nthen we update key2,  the log file(logfile1) produced and contains record: key2, p3\r\nwhen hive/presto query the table:   file1 has been split into two file parts, one is file1_part1, which contains all the record; the other is file2_part2 wich contains no record.       notice those two file parts  will be bound to logfile1 and produce two realtimesplit  then the log file will be read twice repeat result produced\r\nThe above is a very simple example in fact query engine split one parquet file into small parts is very common\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927820027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927820836","html_url":"https://github.com/apache/hudi/pull/3203#issuecomment-927820836","issue_url":"https://api.github.com/repos/apache/hudi/issues/3203","id":927820836,"node_id":"IC_kwDOBI7nWM43TWwk","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T12:21:49Z","updated_at":"2021-09-27T12:21:49Z","author_association":"CONTRIBUTOR","body":"@danny0405 @nsivabalan @leesf  could you  pls help me reivew this pr. thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927820836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927895465","html_url":"https://github.com/apache/hudi/pull/3725#issuecomment-927895465","issue_url":"https://api.github.com/repos/apache/hudi/issues/3725","id":927895465,"node_id":"IC_kwDOBI7nWM43To-p","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T13:51:20Z","updated_at":"2021-09-27T13:51:20Z","author_association":"MEMBER","body":"![image](https://user-images.githubusercontent.com/1179324/134921847-d92d6f1c-cdc9-4c29-b258-68eccd064fe1.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927895465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927926020","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-927926020","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":927926020,"node_id":"IC_kwDOBI7nWM43TwcE","user":{"login":"bgt-cdedels","id":31484223,"node_id":"MDQ6VXNlcjMxNDg0MjIz","avatar_url":"https://avatars.githubusercontent.com/u/31484223?v=4","gravatar_id":"","url":"https://api.github.com/users/bgt-cdedels","html_url":"https://github.com/bgt-cdedels","followers_url":"https://api.github.com/users/bgt-cdedels/followers","following_url":"https://api.github.com/users/bgt-cdedels/following{/other_user}","gists_url":"https://api.github.com/users/bgt-cdedels/gists{/gist_id}","starred_url":"https://api.github.com/users/bgt-cdedels/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bgt-cdedels/subscriptions","organizations_url":"https://api.github.com/users/bgt-cdedels/orgs","repos_url":"https://api.github.com/users/bgt-cdedels/repos","events_url":"https://api.github.com/users/bgt-cdedels/events{/privacy}","received_events_url":"https://api.github.com/users/bgt-cdedels/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T14:24:31Z","updated_at":"2021-09-27T14:24:31Z","author_association":"NONE","body":"@vinothchandar  Yes please!  If you can recommend a next step, @mauropelucchi will provide whatever assistance we can.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927926020/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927943161","html_url":"https://github.com/apache/hudi/pull/3726#issuecomment-927943161","issue_url":"https://api.github.com/repos/apache/hudi/issues/3726","id":927943161,"node_id":"IC_kwDOBI7nWM43T0n5","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T14:42:52Z","updated_at":"2021-09-27T14:42:52Z","author_association":"MEMBER","body":"templates for #3725 \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927943161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927945227","html_url":"https://github.com/apache/hudi/pull/3726#issuecomment-927945227","issue_url":"https://api.github.com/repos/apache/hudi/issues/3726","id":927945227,"node_id":"IC_kwDOBI7nWM43T1IL","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T14:45:05Z","updated_at":"2021-09-27T15:31:15Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f1b58045603fec113b12eba78884f6e9ad98d929\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2433\",\n    \"triggerID\" : \"f1b58045603fec113b12eba78884f6e9ad98d929\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* f1b58045603fec113b12eba78884f6e9ad98d929 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2433) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/927945227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928063194","html_url":"https://github.com/apache/hudi/issues/2934#issuecomment-928063194","issue_url":"https://api.github.com/repos/apache/hudi/issues/2934","id":928063194,"node_id":"IC_kwDOBI7nWM43UR7a","user":{"login":"vingov","id":1142498,"node_id":"MDQ6VXNlcjExNDI0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1142498?v=4","gravatar_id":"","url":"https://api.github.com/users/vingov","html_url":"https://github.com/vingov","followers_url":"https://api.github.com/users/vingov/followers","following_url":"https://api.github.com/users/vingov/following{/other_user}","gists_url":"https://api.github.com/users/vingov/gists{/gist_id}","starred_url":"https://api.github.com/users/vingov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vingov/subscriptions","organizations_url":"https://api.github.com/users/vingov/orgs","repos_url":"https://api.github.com/users/vingov/repos","events_url":"https://api.github.com/users/vingov/events{/privacy}","received_events_url":"https://api.github.com/users/vingov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T16:46:51Z","updated_at":"2021-09-27T16:46:51Z","author_association":"CONTRIBUTOR","body":"@jsbali is working on a fix when we hit this edge case, the delta streamer will do a snapshot query and update the `deltastreamer.checkpoint.key` to the latest commit so that the next run will be incremental based on the latest commit time.\r\n\r\n@jsbali - Can you please upstream your changes to OSS? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928063194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928184950","html_url":"https://github.com/apache/hudi/pull/3726#issuecomment-928184950","issue_url":"https://api.github.com/repos/apache/hudi/issues/3726","id":928184950,"node_id":"IC_kwDOBI7nWM43Uvp2","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T19:03:27Z","updated_at":"2021-09-28T04:30:26Z","author_association":"MEMBER","body":"@vinothchandar ~RFCs should be kept in asf-site?~ ok just read the process PR and understood the idea. Yes looks easier to keep PRs and RFC docs updated altogether. And RFCs may not be appropriate to be published on website.\r\n\r\nJust as suggested in the other PR, the template MD file can be moved to `rfc/rfc-<number>/README.md` for segregating files and easy browsing.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928184950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928195283","html_url":"https://github.com/apache/hudi/pull/3590#issuecomment-928195283","issue_url":"https://api.github.com/repos/apache/hudi/issues/3590","id":928195283,"node_id":"IC_kwDOBI7nWM43UyLT","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T19:16:14Z","updated_at":"2021-09-27T19:16:14Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928195283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928235206","html_url":"https://github.com/apache/hudi/pull/3698#issuecomment-928235206","issue_url":"https://api.github.com/repos/apache/hudi/issues/3698","id":928235206,"node_id":"IC_kwDOBI7nWM43U77G","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T20:14:43Z","updated_at":"2021-09-27T20:14:43Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928235206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928269532","html_url":"https://github.com/apache/hudi/issues/3533#issuecomment-928269532","issue_url":"https://api.github.com/repos/apache/hudi/issues/3533","id":928269532,"node_id":"IC_kwDOBI7nWM43VETc","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T20:54:28Z","updated_at":"2021-09-27T20:54:28Z","author_association":"CONTRIBUTOR","body":"@aresa7796 : if we dig in more if you can provide us w/ more info like file sizes, etc. As of now, we can't debug much without that info. appreciate if you can respond w/ details. \r\nRecently I got to help and explain how small file handling works w/ MOR tables. there is a slight difference between COW and MOR in that aspect. Its covered [here](https://github.com/apache/hudi/issues/3676). please check it out, might help your case too. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928269532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928290740","html_url":"https://github.com/apache/hudi/issues/3313#issuecomment-928290740","issue_url":"https://api.github.com/repos/apache/hudi/issues/3313","id":928290740,"node_id":"IC_kwDOBI7nWM43VJe0","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T21:19:42Z","updated_at":"2021-09-27T21:19:42Z","author_association":"CONTRIBUTOR","body":"@mkk1490 : sorry the issue got lengthy and I have got a couple of clarifications. \r\nIs your issue is with record key fields having one component as timestamp or is it about partition path fields having one component as timestamp. bcoz, for partition path field, hudi has something called CustomKeyGenerator which pretty much in line with your use-case. (1st field can be simple/string and 2nd field can be timestamp). \r\n\r\nFrom what I understand, its record key that you are facing the issue. In the mean time, you respond, I will keep looking in that direction. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928290740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928330326","html_url":"https://github.com/apache/hudi/issues/3313#issuecomment-928330326","issue_url":"https://api.github.com/repos/apache/hudi/issues/3313","id":928330326,"node_id":"IC_kwDOBI7nWM43VTJW","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T21:57:01Z","updated_at":"2021-09-27T21:57:01Z","author_association":"CONTRIBUTOR","body":"I can confirm there is a bug here. GenericRecord based keygen converts the timestamp value, where as Row based one does not convert. \r\n\r\nHave filed a bug https://issues.apache.org/jira/browse/HUDI-2495 We will follow up on this. Will close out this issue as we have a tracking jira. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928330326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928605496","html_url":"https://github.com/apache/hudi/pull/3715#issuecomment-928605496","issue_url":"https://api.github.com/repos/apache/hudi/issues/3715","id":928605496,"node_id":"IC_kwDOBI7nWM43WWU4","user":{"login":"qianchutao","id":72595723,"node_id":"MDQ6VXNlcjcyNTk1NzIz","avatar_url":"https://avatars.githubusercontent.com/u/72595723?v=4","gravatar_id":"","url":"https://api.github.com/users/qianchutao","html_url":"https://github.com/qianchutao","followers_url":"https://api.github.com/users/qianchutao/followers","following_url":"https://api.github.com/users/qianchutao/following{/other_user}","gists_url":"https://api.github.com/users/qianchutao/gists{/gist_id}","starred_url":"https://api.github.com/users/qianchutao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianchutao/subscriptions","organizations_url":"https://api.github.com/users/qianchutao/orgs","repos_url":"https://api.github.com/users/qianchutao/repos","events_url":"https://api.github.com/users/qianchutao/events{/privacy}","received_events_url":"https://api.github.com/users/qianchutao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T01:55:20Z","updated_at":"2021-09-28T01:55:20Z","author_association":"CONTRIBUTOR","body":"@yanghua Mr. Yang, I have made corresponding modifications and added the unit test part. Please help me review it again  thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928605496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928632193","html_url":"https://github.com/apache/hudi/pull/3715#issuecomment-928632193","issue_url":"https://api.github.com/repos/apache/hudi/issues/3715","id":928632193,"node_id":"IC_kwDOBI7nWM43Wc2B","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T02:18:34Z","updated_at":"2021-09-28T02:19:59Z","author_association":"CONTRIBUTOR","body":"LGTM. will let @yanghua land this in.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928632193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928636419","html_url":"https://github.com/apache/hudi/pull/2691#issuecomment-928636419","issue_url":"https://api.github.com/repos/apache/hudi/issues/2691","id":928636419,"node_id":"IC_kwDOBI7nWM43Wd4D","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T02:22:21Z","updated_at":"2021-09-28T02:22:21Z","author_association":"CONTRIBUTOR","body":"@YannByron : yes. it was a oversight that we landed this. later this got fixed. so with 090, you can use \"auto.offset.reset\". ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928636419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928732681","html_url":"https://github.com/apache/hudi/issues/3709#issuecomment-928732681","issue_url":"https://api.github.com/repos/apache/hudi/issues/3709","id":928732681,"node_id":"IC_kwDOBI7nWM43W1YJ","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T03:45:34Z","updated_at":"2021-09-28T03:45:34Z","author_association":"MEMBER","body":"JIRA filed https://issues.apache.org/jira/browse/HUDI-2496 and we'll prioritize a fix. Thanks again @helanto ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928732681/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928786962","html_url":"https://github.com/apache/hudi/pull/3203#issuecomment-928786962","issue_url":"https://api.github.com/repos/apache/hudi/issues/3203","id":928786962,"node_id":"IC_kwDOBI7nWM43XCoS","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T04:35:42Z","updated_at":"2021-09-28T04:35:42Z","author_association":"CONTRIBUTOR","body":"Thanks, i will take a look tomorrow :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928786962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928824868","html_url":"https://github.com/apache/hudi/pull/3668#issuecomment-928824868","issue_url":"https://api.github.com/repos/apache/hudi/issues/3668","id":928824868,"node_id":"IC_kwDOBI7nWM43XL4k","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T05:08:51Z","updated_at":"2021-09-28T05:08:51Z","author_association":"CONTRIBUTOR","body":"@xiarixiaoyao : Can you add commits to this PR instead of squashing. It makes things easy for us to find the delta changes. We can do final squash before landing the PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928824868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928837505","html_url":"https://github.com/apache/hudi/issues/3624#issuecomment-928837505","issue_url":"https://api.github.com/repos/apache/hudi/issues/3624","id":928837505,"node_id":"IC_kwDOBI7nWM43XO-B","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T05:19:54Z","updated_at":"2021-09-28T05:19:54Z","author_association":"MEMBER","body":"@melin could you provide more version info like Hudi, Spark versions. also if it's on cloud or other environment?\r\n\r\n> The reason for this error is because a partition was deleted.If you insert data into the delete partition again, there is no problem executing delele\r\n\r\nThis sounds odd... from the example you provided, the partition dropped is `2021-05-05` not `2021-05-06`. But the error came from deleting a record in `2021-05-06` ? let me know if i get this right. thanks.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928837505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928853775","html_url":"https://github.com/apache/hudi/issues/3313#issuecomment-928853775","issue_url":"https://api.github.com/repos/apache/hudi/issues/3313","id":928853775,"node_id":"IC_kwDOBI7nWM43XS8P","user":{"login":"mkk1490","id":16716227,"node_id":"MDQ6VXNlcjE2NzE2MjI3","avatar_url":"https://avatars.githubusercontent.com/u/16716227?v=4","gravatar_id":"","url":"https://api.github.com/users/mkk1490","html_url":"https://github.com/mkk1490","followers_url":"https://api.github.com/users/mkk1490/followers","following_url":"https://api.github.com/users/mkk1490/following{/other_user}","gists_url":"https://api.github.com/users/mkk1490/gists{/gist_id}","starred_url":"https://api.github.com/users/mkk1490/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkk1490/subscriptions","organizations_url":"https://api.github.com/users/mkk1490/orgs","repos_url":"https://api.github.com/users/mkk1490/repos","events_url":"https://api.github.com/users/mkk1490/events{/privacy}","received_events_url":"https://api.github.com/users/mkk1490/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T05:34:06Z","updated_at":"2021-09-28T05:34:06Z","author_association":"NONE","body":"\r\n\r\n> @mkk1490 : sorry the issue got lengthy and I have got a couple of clarifications.\r\n> Is your issue is with record key fields having one component as timestamp or is it about partition path fields having one component as timestamp. bcoz, for partition path field, hudi has something called CustomKeyGenerator which pretty much in line with your use-case. (1st field can be simple/string and 2nd field can be timestamp).\r\n> \r\n> From what I understand, its record key that you are facing the issue. In the mean time, you respond, I will keep looking in that direction.\r\n\r\n@nsivabalan that's right.. timestamp in record_key is where I'm facing this issue","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928853775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928866105","html_url":"https://github.com/apache/hudi/issues/2934#issuecomment-928866105","issue_url":"https://api.github.com/repos/apache/hudi/issues/2934","id":928866105,"node_id":"IC_kwDOBI7nWM43XV85","user":{"login":"low-on-mana","id":8509512,"node_id":"MDQ6VXNlcjg1MDk1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/8509512?v=4","gravatar_id":"","url":"https://api.github.com/users/low-on-mana","html_url":"https://github.com/low-on-mana","followers_url":"https://api.github.com/users/low-on-mana/followers","following_url":"https://api.github.com/users/low-on-mana/following{/other_user}","gists_url":"https://api.github.com/users/low-on-mana/gists{/gist_id}","starred_url":"https://api.github.com/users/low-on-mana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/low-on-mana/subscriptions","organizations_url":"https://api.github.com/users/low-on-mana/orgs","repos_url":"https://api.github.com/users/low-on-mana/repos","events_url":"https://api.github.com/users/low-on-mana/events{/privacy}","received_events_url":"https://api.github.com/users/low-on-mana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T05:45:59Z","updated_at":"2021-09-28T05:46:24Z","author_association":"CONTRIBUTOR","body":"I have also worked on the same changes already. @vingov, @jsbali Let me know, if you have not yet started then I can raise a pr for this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928866105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928877634","html_url":"https://github.com/apache/hudi/issues/2934#issuecomment-928877634","issue_url":"https://api.github.com/repos/apache/hudi/issues/2934","id":928877634,"node_id":"IC_kwDOBI7nWM43XYxC","user":{"login":"jsbali","id":1778470,"node_id":"MDQ6VXNlcjE3Nzg0NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1778470?v=4","gravatar_id":"","url":"https://api.github.com/users/jsbali","html_url":"https://github.com/jsbali","followers_url":"https://api.github.com/users/jsbali/followers","following_url":"https://api.github.com/users/jsbali/following{/other_user}","gists_url":"https://api.github.com/users/jsbali/gists{/gist_id}","starred_url":"https://api.github.com/users/jsbali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsbali/subscriptions","organizations_url":"https://api.github.com/users/jsbali/orgs","repos_url":"https://api.github.com/users/jsbali/repos","events_url":"https://api.github.com/users/jsbali/events{/privacy}","received_events_url":"https://api.github.com/users/jsbali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T05:58:55Z","updated_at":"2021-09-28T05:58:55Z","author_association":"CONTRIBUTOR","body":"@t0il3ts0ap Do raise the PR for the same if it is not too much work and we can let the Hudi folks decide what makes sense for Hudi. My changes are mostly in IncrementalRelation. Will also try to wrap my PR within a day or two. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928877634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928881572","html_url":"https://github.com/apache/hudi/pull/3413#issuecomment-928881572","issue_url":"https://api.github.com/repos/apache/hudi/issues/3413","id":928881572,"node_id":"IC_kwDOBI7nWM43XZuk","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T06:04:32Z","updated_at":"2021-09-28T06:04:32Z","author_association":"CONTRIBUTOR","body":"Hi @nsivabalan @vinothchandar. Thanks a lot for your attention, review and approve! Could we land it or what else do I need to do?  :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928881572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928882260","html_url":"https://github.com/apache/hudi/pull/3666#issuecomment-928882260","issue_url":"https://api.github.com/repos/apache/hudi/issues/3666","id":928882260,"node_id":"IC_kwDOBI7nWM43XZ5U","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T06:05:28Z","updated_at":"2021-09-28T06:05:28Z","author_association":"CONTRIBUTOR","body":"Hi @satishkotha.  Thanks a lot for your attention, review and approve! Could we land it or what else do I need to do? :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928882260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928890183","html_url":"https://github.com/apache/hudi/pull/3203#issuecomment-928890183","issue_url":"https://api.github.com/repos/apache/hudi/issues/3203","id":928890183,"node_id":"IC_kwDOBI7nWM43Xb1H","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T06:19:24Z","updated_at":"2021-09-28T06:19:24Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928890183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928903882","html_url":"https://github.com/apache/hudi/issues/3572#issuecomment-928903882","issue_url":"https://api.github.com/repos/apache/hudi/issues/3572","id":928903882,"node_id":"IC_kwDOBI7nWM43XfLK","user":{"login":"niloo-sh","id":15998136,"node_id":"MDQ6VXNlcjE1OTk4MTM2","avatar_url":"https://avatars.githubusercontent.com/u/15998136?v=4","gravatar_id":"","url":"https://api.github.com/users/niloo-sh","html_url":"https://github.com/niloo-sh","followers_url":"https://api.github.com/users/niloo-sh/followers","following_url":"https://api.github.com/users/niloo-sh/following{/other_user}","gists_url":"https://api.github.com/users/niloo-sh/gists{/gist_id}","starred_url":"https://api.github.com/users/niloo-sh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niloo-sh/subscriptions","organizations_url":"https://api.github.com/users/niloo-sh/orgs","repos_url":"https://api.github.com/users/niloo-sh/repos","events_url":"https://api.github.com/users/niloo-sh/events{/privacy}","received_events_url":"https://api.github.com/users/niloo-sh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T06:47:03Z","updated_at":"2021-09-28T06:47:03Z","author_association":"NONE","body":"@vinothchandar thank you, I added dependency to build.sbt file and I created fat jar and run it with spark-submit. now I get exception:\"org/json/jsonexception\", its correct, I use hudi-spark-bundle-0.9.0 and it does not have json. I download json-20210307.jar and add it to \"spark.driver.extraClassPath\" and \"spark.executor.extraclasspath\", but it does not work. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928903882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928920877","html_url":"https://github.com/apache/hudi/pull/3727#issuecomment-928920877","issue_url":"https://api.github.com/repos/apache/hudi/issues/3727","id":928920877,"node_id":"IC_kwDOBI7nWM43XjUt","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T07:14:49Z","updated_at":"2021-09-28T17:56:29Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"8f37aaed5a8a14fcad20eb2e761f05c0e1dfa4b0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2448\",\n    \"triggerID\" : \"8f37aaed5a8a14fcad20eb2e761f05c0e1dfa4b0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"10081946cf12f3c7116ee5192ef0a44709b19021\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2454\",\n    \"triggerID\" : \"10081946cf12f3c7116ee5192ef0a44709b19021\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 10081946cf12f3c7116ee5192ef0a44709b19021 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2454) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928920877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928965831","html_url":"https://github.com/apache/hudi/issues/3662#issuecomment-928965831","issue_url":"https://api.github.com/repos/apache/hudi/issues/3662","id":928965831,"node_id":"IC_kwDOBI7nWM43XuTH","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T08:19:12Z","updated_at":"2021-09-28T08:19:12Z","author_association":"MEMBER","body":"@kelvin-qin i can't reproduce this. CTAS from this UT gave the correct info.\r\n `org.apache.spark.sql.hudi.TestHoodieSqlBase#test(\"Test Create Table As Select\")`\r\n\r\n```scala\r\nspark.sql(\r\n        s\"\"\"describe table extended $tableName1\"\"\"\r\n      ).show(100)\r\n```\r\n\r\n```\r\n|          Created By|         Spark 2.4.4|       |\r\n|                Type|            EXTERNAL|       |\r\n|            Provider|                hudi|       |\r\n```\r\n\r\ncan you post your sql and also print `spark.version` in your spark shell to double check?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928965831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928978500","html_url":"https://github.com/apache/hudi/issues/3647#issuecomment-928978500","issue_url":"https://api.github.com/repos/apache/hudi/issues/3647","id":928978500,"node_id":"IC_kwDOBI7nWM43XxZE","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T08:36:44Z","updated_at":"2021-09-28T08:36:44Z","author_association":"MEMBER","body":"> In my case, this issue can be workaround to use insert operation instead of bulk-insert.\r\n> Should not Hudi bulk-insert and insert operations be consistent in what they use and how they write Parquet data under the hood?\r\n\r\n@JoshuaZhuCN @novakov-alexey this behavior sounds like an issue with Hudi row writer, which implemented for bulk insert. To double confirm, would you check by disabling row writer and run bulk insert again? given that insert works, bulk insert should also work if disable row writer. You can set this option `hoodie.datasource.write.row.writer.enable=false`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/928978500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929111244","html_url":"https://github.com/apache/hudi/issues/3607#issuecomment-929111244","issue_url":"https://api.github.com/repos/apache/hudi/issues/3607","id":929111244,"node_id":"IC_kwDOBI7nWM43YRzM","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T11:44:25Z","updated_at":"2021-09-28T11:44:25Z","author_association":"MEMBER","body":"> Hi @codope Thanks a lot for your attention. I just tried but failed again :( Sincerely ask :\r\n> \r\n> 1. What's the version of pesto you used?\r\n> 2. `in docker setup with metadata enabled` => how did you enable metadata table on presto side? I have to modify presto source code to enable presto query using metadata table.\r\n> 3. Did you just put hudi-presto-bundle into hive-hadoop plugin or did some changing in presto-source pom?\r\n> \r\n> Looking forward to your replay. Thanks a lot!\r\n\r\n1. Docker uses Presto 0.217. But I also built the latest Presto snapshot and tested. However, from Hudi perspective, there should be no change since the Presto version 0.240.\r\n2. I enabled metadata in Hudi, not Presto. Hudi metadata tabled was not synced to Hive.\r\n3. No I did not have to place the bundle or change presto pom. Since Presto 0.240, Hudi is a compile-time dependency already.\r\n\r\nAre you able to query normal Hudi data tables using Presto? Are you getting the NoClassDefFoundError only when you query Hudi metadata table? Asking because I did not enable metadata on Presto side. That will require code changes in Presto. Also, youwill need to add hudi-common dependency in Presto pom for that.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929111244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929234706","html_url":"https://github.com/apache/hudi/pull/3726#issuecomment-929234706","issue_url":"https://api.github.com/repos/apache/hudi/issues/3726","id":929234706,"node_id":"IC_kwDOBI7nWM43Yv8S","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T13:50:58Z","updated_at":"2021-09-28T13:50:58Z","author_association":"MEMBER","body":"Readme is common for all PRS right. Why would We need a copy per PR? Sorry, not following fully. let me also read the other PR comments fully.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929234706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929246892","html_url":"https://github.com/apache/hudi/pull/3725#issuecomment-929246892","issue_url":"https://api.github.com/repos/apache/hudi/issues/3725","id":929246892,"node_id":"IC_kwDOBI7nWM43Yy6s","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T13:57:12Z","updated_at":"2021-09-28T13:57:12Z","author_association":"MEMBER","body":"I will fix the other comments and repush.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929246892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929251190","html_url":"https://github.com/apache/hudi/pull/3726#issuecomment-929251190","issue_url":"https://api.github.com/repos/apache/hudi/issues/3726","id":929251190,"node_id":"IC_kwDOBI7nWM43Yz92","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T13:59:45Z","updated_at":"2021-09-28T13:59:45Z","author_association":"MEMBER","body":"Ok I think I understood. rfc-number is a substitution of the new rfc number","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929251190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929262475","html_url":"https://github.com/apache/hudi/issues/3641#issuecomment-929262475","issue_url":"https://api.github.com/repos/apache/hudi/issues/3641","id":929262475,"node_id":"IC_kwDOBI7nWM43Y2uL","user":{"login":"bryanburke","id":1231924,"node_id":"MDQ6VXNlcjEyMzE5MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1231924?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanburke","html_url":"https://github.com/bryanburke","followers_url":"https://api.github.com/users/bryanburke/followers","following_url":"https://api.github.com/users/bryanburke/following{/other_user}","gists_url":"https://api.github.com/users/bryanburke/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanburke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanburke/subscriptions","organizations_url":"https://api.github.com/users/bryanburke/orgs","repos_url":"https://api.github.com/users/bryanburke/repos","events_url":"https://api.github.com/users/bryanburke/events{/privacy}","received_events_url":"https://api.github.com/users/bryanburke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T14:05:21Z","updated_at":"2021-09-28T14:05:21Z","author_association":"NONE","body":"@xushiyan Thank you for your response! I had no idea Hudi provides event-driven features, so your suggestions are helping me learn quite a bit more about the framework. While I do not believe we have a use case currently for `SourceCommitCallback` and `S3EventsSource` (see below), we may in the future if we start processing streaming data or require a long-running Spark cluster.\r\n\r\n> Please check out org.apache.hudi.utilities.callback.SourceCommitCallback and its implementing classes. This would allow you to trigger downstream jobs or logic to run.\r\n\r\nReading over my original post above, I believe I did a somewhat poor job defining our exact use case. I can provide some more details for context:\r\n\r\n- We process data in batches on a schedule.\r\n- We do not have a long-running Spark cluster.\r\n- ETL jobs run on transient Spark clusters (e.g., Amazon EMR/AWS Glue).\r\n- By the time a downstream job runs, the cluster that ran the prerequisite job does not necessarily exist anymore.\r\n\r\nGiven the above, I do not believe `SourceCommitCallback` meets our use case, as the downstream job that reads the Hudi table in S3 runs on a separate schedule and (most likely) a completely different transient Spark cluster. However, please feel free to provide additional insight if I am missing something.\r\n\r\n> what Hudi APIs you referring to? you can do all the actions through PySpark\r\n\r\nRegarding my other question about exposing Hudi APIs via Python, I am referring to `HoodieTableMetaClient` itself and associated timeline classes (for example, as requested in [HUDI-1998](https://issues.apache.org/jira/browse/HUDI-1998)). However, I suppose the question could also extend to the configuration classes like `HoodieWriteConfig` and `DataSourceWriteOptions` that the 0.9.0 release notes indicate are now preferable over string variables.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929262475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929271177","html_url":"https://github.com/apache/hudi/pull/3726#issuecomment-929271177","issue_url":"https://api.github.com/repos/apache/hudi/issues/3726","id":929271177,"node_id":"IC_kwDOBI7nWM43Y42J","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T14:13:29Z","updated_at":"2021-09-28T14:13:29Z","author_association":"MEMBER","body":"Addressed all feedback on other PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929271177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929282472","html_url":"https://github.com/apache/hudi/issues/3676#issuecomment-929282472","issue_url":"https://api.github.com/repos/apache/hudi/issues/3676","id":929282472,"node_id":"IC_kwDOBI7nWM43Y7mo","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T14:25:33Z","updated_at":"2021-09-28T14:25:33Z","author_association":"CONTRIBUTOR","body":"@FelixKJose : what I meant is, you are good w/ your configs in general. just that for every commit only one small file will be packed w/ more inserts. rest of incoming records will go into new files. So, every commit will try to make a small file into bigger one. when this progresses w/ 20 to 30 commits, your small file count should go down eventually. I mean, older ones will go down. may be new ones could pop up, but newer commits will take care of it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929282472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929284948","html_url":"https://github.com/apache/hudi/issues/3713#issuecomment-929284948","issue_url":"https://api.github.com/repos/apache/hudi/issues/3713","id":929284948,"node_id":"IC_kwDOBI7nWM43Y8NU","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T14:28:17Z","updated_at":"2021-09-28T14:28:17Z","author_association":"MEMBER","body":"@calleo The hive sync tool does not lock. I mean, internallt HoodiHiveClient does initiate the connection but that gets closed as soon as sync completes. I think in docker setup, derby for metastore is running in emebedded mode which won't allow to read and write within the same process. Can you try to setup MariaDB for metastore in a separate container?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929284948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929754237","html_url":"https://github.com/apache/hudi/issues/3728#issuecomment-929754237","issue_url":"https://api.github.com/repos/apache/hudi/issues/3728","id":929754237,"node_id":"IC_kwDOBI7nWM43aux9","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T01:47:18Z","updated_at":"2021-09-29T01:47:18Z","author_association":"CONTRIBUTOR","body":"What version of Hudi do you plan to use, there are some SQL examples here: https://github.com/apache/hudi/blob/master/hudi-flink/src/test/java/org/apache/hudi/table/HoodieDataSourceITCase.java\r\n\r\nIf you use master, Flink 1.13.1 is suggested, if you use release-0.9, Flink 1.12.2 is suggested.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929754237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929775609","html_url":"https://github.com/apache/hudi/pull/3203#issuecomment-929775609","issue_url":"https://api.github.com/repos/apache/hudi/issues/3203","id":929775609,"node_id":"IC_kwDOBI7nWM43az_5","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T02:37:57Z","updated_at":"2021-09-29T02:37:57Z","author_association":"CONTRIBUTOR","body":"Changes the title and commit message to \"[HUDI-2086] Redo the logic of mor incremental view for hive\"","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929775609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929787041","html_url":"https://github.com/apache/hudi/pull/3671#issuecomment-929787041","issue_url":"https://api.github.com/repos/apache/hudi/issues/3671","id":929787041,"node_id":"IC_kwDOBI7nWM43a2yh","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T03:04:51Z","updated_at":"2021-09-29T03:04:51Z","author_association":"CONTRIBUTOR","body":"@fengjian428 Check CI again?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929787041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929788240","html_url":"https://github.com/apache/hudi/pull/3729#issuecomment-929788240","issue_url":"https://api.github.com/repos/apache/hudi/issues/3729","id":929788240,"node_id":"IC_kwDOBI7nWM43a3FQ","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T03:07:11Z","updated_at":"2021-09-29T03:50:34Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"c66e724bfa44a5147aaaac8965bb585d07ac3b36\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2455\",\n    \"triggerID\" : \"c66e724bfa44a5147aaaac8965bb585d07ac3b36\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* c66e724bfa44a5147aaaac8965bb585d07ac3b36 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2455) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929788240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929816532","html_url":"https://github.com/apache/hudi/pull/3671#issuecomment-929816532","issue_url":"https://api.github.com/repos/apache/hudi/issues/3671","id":929816532,"node_id":"IC_kwDOBI7nWM43a9_U","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T04:09:04Z","updated_at":"2021-09-29T04:09:04Z","author_association":"CONTRIBUTOR","body":"> @fengjian428 Check CI again?\r\n\r\nwhat you mean?  the checks below all passed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929816532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929828308","html_url":"https://github.com/apache/hudi/issues/2688#issuecomment-929828308","issue_url":"https://api.github.com/repos/apache/hudi/issues/2688","id":929828308,"node_id":"IC_kwDOBI7nWM43bA3U","user":{"login":"stym06","id":20970728,"node_id":"MDQ6VXNlcjIwOTcwNzI4","avatar_url":"https://avatars.githubusercontent.com/u/20970728?v=4","gravatar_id":"","url":"https://api.github.com/users/stym06","html_url":"https://github.com/stym06","followers_url":"https://api.github.com/users/stym06/followers","following_url":"https://api.github.com/users/stym06/following{/other_user}","gists_url":"https://api.github.com/users/stym06/gists{/gist_id}","starred_url":"https://api.github.com/users/stym06/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stym06/subscriptions","organizations_url":"https://api.github.com/users/stym06/orgs","repos_url":"https://api.github.com/users/stym06/repos","events_url":"https://api.github.com/users/stym06/events{/privacy}","received_events_url":"https://api.github.com/users/stym06/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T04:34:53Z","updated_at":"2021-09-29T04:34:53Z","author_association":"CONTRIBUTOR","body":"hi, i made it to work with Hive 3.1.2 after importing some jars into the classpath after finding out the classes not found (majorly calcite, datanucleus)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929828308/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929873306","html_url":"https://github.com/apache/hudi/pull/3203#issuecomment-929873306","issue_url":"https://api.github.com/repos/apache/hudi/issues/3203","id":929873306,"node_id":"IC_kwDOBI7nWM43bL2a","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T06:23:09Z","updated_at":"2021-09-29T06:23:09Z","author_association":"CONTRIBUTOR","body":"@danny0405 @leesf  thanks for your review i will update the code","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929873306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929883637","html_url":"https://github.com/apache/hudi/issues/3728#issuecomment-929883637","issue_url":"https://api.github.com/repos/apache/hudi/issues/3728","id":929883637,"node_id":"IC_kwDOBI7nWM43bOX1","user":{"login":"ibuda","id":42291858,"node_id":"MDQ6VXNlcjQyMjkxODU4","avatar_url":"https://avatars.githubusercontent.com/u/42291858?v=4","gravatar_id":"","url":"https://api.github.com/users/ibuda","html_url":"https://github.com/ibuda","followers_url":"https://api.github.com/users/ibuda/followers","following_url":"https://api.github.com/users/ibuda/following{/other_user}","gists_url":"https://api.github.com/users/ibuda/gists{/gist_id}","starred_url":"https://api.github.com/users/ibuda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibuda/subscriptions","organizations_url":"https://api.github.com/users/ibuda/orgs","repos_url":"https://api.github.com/users/ibuda/repos","events_url":"https://api.github.com/users/ibuda/events{/privacy}","received_events_url":"https://api.github.com/users/ibuda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T06:44:08Z","updated_at":"2021-09-29T06:44:08Z","author_association":"NONE","body":"Thank you @danny0405 for the link.\r\n\r\nI am trying to set up an AWS Kinesis Application project, and as a start, I used the code provided by you in the link.\r\nAlthough I used the code below,  Kinesis complains about the hudi connector, error is supplied below. Is it because the Flink version conflict? Kinesis uses Apache Flink 1.11, and a follow-up question is whether because of this version conflict, I wont be able to use Hudi on AWS within Kinesis Application? \r\n\r\nKinesis Application Error log:\r\n```\r\norg.apache.flink.table.api.internal.TableEnvironmentImpl.executeOperation(TableEnvironmentImpl.java:787)\r\norg.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:690)\r\ncom.amazonaws.services.kinesisanalytics.S3StreamingSinkJob.execInsertSql(S3StreamingSinkJob.java:63)\r\ncom.amazonaws.services.kinesisanalytics.S3StreamingSinkJob.main(S3StreamingSinkJob.java:59)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) \r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:294)\r\n... 12 more\\nCaused by: org.apache.flink.table.api.ValidationException: Cannot discover a connector using option ''connector'='hudi''.\r\n```\r\n\r\nHere is the code I use (you will find below the pom.xml file as well):\r\n```\r\nstatic TableEnvironment streamTableEnv;\r\n    public static void main(String[] args) throws Exception {\r\n        EnvironmentSettings settings = EnvironmentSettings.newInstance().build();\r\n        streamTableEnv = TableEnvironmentImpl.create(settings);\r\n        streamTableEnv.getConfig().getConfiguration()\r\n                .setInteger(ExecutionConfigOptions.TABLE_EXEC_RESOURCE_DEFAULT_PARALLELISM, 1);\r\n        streamTableEnv.getConfig().getConfiguration().setString(\"execution.checkpointing.interval\", \"2s\");\r\n        String hoodieTableDDL = \"create table t1(\\n\"\r\n                + \"  uuid varchar(20),\\n\"\r\n                + \"  name varchar(10),\\n\"\r\n                + \"  age int,\\n\"\r\n                + \"  `partition` varchar(20),\\n\" // test streaming read with partition field in the middle\r\n                + \"  ts timestamp(3),\\n\"\r\n                + \"  PRIMARY KEY(uuid) NOT ENFORCED\\n\"\r\n                + \")\\n\"\r\n                + \"PARTITIONED BY (`partition`)\\n\"\r\n                + \"with (\\n\"\r\n                + \"  'connector' = 'hudi',\\n\"\r\n                + \"  'path' = 's3://bucket-name/hudi/sql-api/',\\n\"\r\n                + \"  'read.streaming.enabled' = 'true'\\n\"\r\n                + \")\";\r\n\r\n        streamTableEnv.executeSql(hoodieTableDDL);\r\n        String insertInto = \"insert into t1 values\\n\"\r\n                + \"('id1','Danny',23,'par1',TIMESTAMP '1970-01-01 00:00:01'),\\n\"\r\n                + \"('id2','Stephen',33,'par1',TIMESTAMP '1970-01-01 00:00:02'),\\n\"\r\n                + \"('id3','Julian',53,'par2',TIMESTAMP '1970-01-01 00:00:03'),\\n\"\r\n                + \"('id4','Fabian',31,'par2',TIMESTAMP '1970-01-01 00:00:04'),\\n\"\r\n                + \"('id5','Sophia',18,'par3',TIMESTAMP '1970-01-01 00:00:05'),\\n\"\r\n                + \"('id6','Emma',20,'par3',TIMESTAMP '1970-01-01 00:00:06'),\\n\"\r\n                + \"('id7','Bob',44,'par4',TIMESTAMP '1970-01-01 00:00:07'),\\n\"\r\n                + \"('id8','Han',56,'par4',TIMESTAMP '1970-01-01 00:00:08')\";\r\n        execInsertSql(streamTableEnv, insertInto);\r\n    }\r\n\r\n    static void execInsertSql(TableEnvironment tEnv, String insert) {\r\n        TableResult tableResult = tEnv.executeSql(insert);\r\n        // wait to finish\r\n        try {\r\n            tableResult.getJobClient().get().getJobExecutionResult().get();\r\n        } catch (InterruptedException | ExecutionException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n```\r\n\r\nHere is the pom I used to build the project with maven:\r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\r\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n    <modelVersion>4.0.0</modelVersion>\r\n\r\n    <groupId>com.amazonaws</groupId>\r\n    <artifactId>aws-kinesis-analytics-java-apps</artifactId>\r\n    <version>1.0</version>\r\n    <packaging>jar</packaging>\r\n\r\n    <properties>\r\n        <java.version>1.11</java.version>\r\n        <scala.binary.version>2.11</scala.binary.version>\r\n        <flink.version>1.12.2</flink.version>\r\n        <hudi.version>0.9.0</hudi.version>\r\n        <kda.version>2.0.0</kda.version>\r\n        <kda.runtime.version>1.2.0</kda.runtime.version>\r\n    </properties>\r\n\r\n    <dependencyManagement>\r\n        <dependencies>\r\n            <dependency>\r\n                <groupId>com.amazonaws</groupId>\r\n                <artifactId>aws-java-sdk-bom</artifactId>\r\n                <!-- Get the latest SDK version from https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-bom -->\r\n                <version>1.11.903</version>\r\n                <type>pom</type>\r\n                <scope>import</scope>\r\n            </dependency>\r\n        </dependencies>\r\n    </dependencyManagement>\r\n\r\n    <dependencies>\r\n        <dependency>\r\n            <groupId>com.amazonaws</groupId>\r\n            <artifactId>aws-kinesisanalytics-runtime</artifactId>\r\n            <version>${kda.runtime.version}</version>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.flink</groupId>\r\n            <artifactId>flink-streaming-java_${scala.binary.version}</artifactId>\r\n            <version>${flink.version}</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>com.amazonaws</groupId>\r\n            <artifactId>aws-kinesisanalytics-flink</artifactId>\r\n            <version>${kda.version}</version>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>com.amazonaws</groupId>\r\n            <artifactId>aws-java-sdk-logs</artifactId>\r\n            <!-- scope>compile</scope -->\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.flink</groupId>\r\n            <artifactId>flink-table-planner_${scala.binary.version}</artifactId>\r\n            <version>${flink.version}</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.flink</groupId>\r\n            <artifactId>flink-streaming-scala_${scala.binary.version}</artifactId>\r\n            <version>${flink.version}</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.flink</groupId>\r\n            <artifactId>flink-table-common</artifactId>\r\n            <version>${flink.version}</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.flink</groupId>\r\n            <artifactId>flink-csv</artifactId>\r\n            <version>${flink.version}</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.flink</groupId>\r\n            <artifactId>flink-connector-kinesis_${scala.binary.version}</artifactId>\r\n            <version>${flink.version}</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.flink</groupId>\r\n            <artifactId>flink-table-api-java-bridge_${scala.binary.version}</artifactId>\r\n            <version>${flink.version}</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.hudi</groupId>\r\n            <artifactId>hudi-common</artifactId>\r\n            <version>${hudi.version}</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.hudi</groupId>\r\n            <artifactId>hudi-client-common</artifactId>\r\n            <version>${hudi.version}</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.hudi</groupId>\r\n            <artifactId>hudi-flink-client</artifactId>\r\n            <version>${hudi.version}</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.apache.hudi</groupId>\r\n            <artifactId>hudi-sync-common</artifactId>\r\n            <version>${hudi.version}</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n    </dependencies>\r\n\r\n    <build>\r\n\r\n        <plugins>\r\n\r\n            <!-- Java Compiler -->\r\n            <plugin>\r\n                <groupId>org.apache.maven.plugins</groupId>\r\n                <artifactId>maven-compiler-plugin</artifactId>\r\n                <version>3.8.1</version>\r\n                <configuration>\r\n\t\t\t\t\t\t\t\t    <release>11</release>\r\n                    <source>${java.version}</source>\r\n                    <target>${java.version}</target>\r\n                </configuration>\r\n            </plugin>\r\n            <!-- We use the maven-shade plugin to create a fat jar that contains all necessary dependencies. -->\r\n            <!-- Change the value of <mainClass>...</mainClass> if your program entry point changes. -->\r\n            <plugin>\r\n                <groupId>org.apache.maven.plugins</groupId>\r\n                <artifactId>maven-shade-plugin</artifactId>\r\n                <version>3.2.1</version>\r\n                <executions>\r\n                    <!-- Run shade goal on package phase -->\r\n                    <execution>\r\n                        <phase>package</phase>\r\n                        <goals>\r\n                            <goal>shade</goal>\r\n                        </goals>\r\n                        <configuration>\r\n                            <artifactSet>\r\n                                <excludes>\r\n                                    <exclude>org.apache.flink:force-shading</exclude>\r\n                                    <exclude>com.google.code.findbugs:jsr305</exclude>\r\n                                    <exclude>org.slf4j:*</exclude>\r\n                                    <exclude>log4j:*</exclude>\r\n                                </excludes>\r\n                            </artifactSet>\r\n                            <filters>\r\n                                <filter>\r\n                                    <!-- Do not copy the signatures in the META-INF folder.\r\n                                    Otherwise, this might cause SecurityExceptions when using the JAR. -->\r\n                                    <artifact>*:*</artifact>\r\n                                    <excludes>\r\n                                        <exclude>META-INF/*.SF</exclude>\r\n                                        <exclude>META-INF/*.DSA</exclude>\r\n                                        <exclude>META-INF/*.RSA</exclude>\r\n                                    </excludes>\r\n                                </filter>\r\n                            </filters>\r\n                            <transformers combine.children=\"append\">\r\n                                <transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\">\r\n                                    <mainClass>com.amazonaws.services.kinesisanalytics.S3StreamingSinkJob</mainClass>\r\n                                </transformer>\r\n                                <transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/>\r\n                            </transformers>\r\n                        </configuration>\r\n                    </execution>\r\n                </executions>\r\n            </plugin>\r\n        </plugins>\r\n    </build>\r\n</project>\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929883637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929891629","html_url":"https://github.com/apache/hudi/issues/2688#issuecomment-929891629","issue_url":"https://api.github.com/repos/apache/hudi/issues/2688","id":929891629,"node_id":"IC_kwDOBI7nWM43bQUt","user":{"login":"sebastiantruj","id":73652142,"node_id":"MDQ6VXNlcjczNjUyMTQy","avatar_url":"https://avatars.githubusercontent.com/u/73652142?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastiantruj","html_url":"https://github.com/sebastiantruj","followers_url":"https://api.github.com/users/sebastiantruj/followers","following_url":"https://api.github.com/users/sebastiantruj/following{/other_user}","gists_url":"https://api.github.com/users/sebastiantruj/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastiantruj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastiantruj/subscriptions","organizations_url":"https://api.github.com/users/sebastiantruj/orgs","repos_url":"https://api.github.com/users/sebastiantruj/repos","events_url":"https://api.github.com/users/sebastiantruj/events{/privacy}","received_events_url":"https://api.github.com/users/sebastiantruj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T06:58:02Z","updated_at":"2021-09-29T06:58:02Z","author_association":"NONE","body":"Hi @stym06, could you post a spark-submit/spark-shell example of your workaround?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929891629/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929910378","html_url":"https://github.com/apache/hudi/issues/3728#issuecomment-929910378","issue_url":"https://api.github.com/repos/apache/hudi/issues/3728","id":929910378,"node_id":"IC_kwDOBI7nWM43bU5q","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T07:23:18Z","updated_at":"2021-09-29T07:23:18Z","author_association":"CONTRIBUTOR","body":"Hmm, i am sorry to say that you must use the right Flink version.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929910378/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929916500","html_url":"https://github.com/apache/hudi/issues/3641#issuecomment-929916500","issue_url":"https://api.github.com/repos/apache/hudi/issues/3641","id":929916500,"node_id":"IC_kwDOBI7nWM43bWZU","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T07:33:22Z","updated_at":"2021-09-29T07:33:22Z","author_association":"MEMBER","body":"Ok @bryanburke i think your approach is valid. metaclient APIs should be quite stable and even if in case of change, there should be a deprecation period to allow transition. You may also consider this example to get the latest commit\r\n\r\nhttps://hudi.apache.org/docs/quick-start-guide#incremental-query\r\n\r\n```python\r\ncommits = list(map(lambda row: row[0], spark.sql(\"select distinct(_hoodie_commit_time) as commitTime from  hudi_trips_snapshot order by commitTime\").limit(50).collect()))\r\n```\r\n\r\nAs for more python API support, we don't have this ranked up high in the roadmap. If you're keen, please feel free to drive this feature. You could start by sending a [DISCUSS] email in the dev email list to gather more inputs. Thanks for illustrating your ideas. Closing this now. Feel free to follow up here or through email list.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929916500/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929947925","html_url":"https://github.com/apache/hudi/pull/3730#issuecomment-929947925","issue_url":"https://api.github.com/repos/apache/hudi/issues/3730","id":929947925,"node_id":"IC_kwDOBI7nWM43beEV","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T08:17:15Z","updated_at":"2021-09-29T09:02:36Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f7f969d842ed6181f8c4cf1094ed9fff383d7d60\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2457\",\n    \"triggerID\" : \"f7f969d842ed6181f8c4cf1094ed9fff383d7d60\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* f7f969d842ed6181f8c4cf1094ed9fff383d7d60 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2457) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929947925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929987870","html_url":"https://github.com/apache/hudi/pull/3413#issuecomment-929987870","issue_url":"https://api.github.com/repos/apache/hudi/issues/3413","id":929987870,"node_id":"IC_kwDOBI7nWM43bn0e","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T09:07:53Z","updated_at":"2021-09-29T09:07:53Z","author_association":"CONTRIBUTOR","body":"Hi @xushiyan Thanks a lot for your attention and review. My bad for misunderstanding :) code changed and waiting for ci/cd green.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/929987870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/930001505","html_url":"https://github.com/apache/hudi/pull/3668#issuecomment-930001505","issue_url":"https://api.github.com/repos/apache/hudi/issues/3668","id":930001505,"node_id":"IC_kwDOBI7nWM43brJh","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T09:21:14Z","updated_at":"2021-09-29T09:21:14Z","author_association":"CONTRIBUTOR","body":"@bvaradar @codope @leesf .  could you pls help me review this pr again, thanks\r\ncode changes\r\n1) support mor(incremental/realtime/optimize) read/write\r\n2) support cow (incremental/realtime) read/write\r\n3) support spark3 DDL. include:\r\n   alter statement:\r\n    *   ALTER TABLE table1 ALTER COLUMN a.b.c TYPE bigint\r\n    *   ALTER TABLE table1 ALTER COLUMN a.b.c SET NOT NULL\r\n    *   ALTER TABLE table1 ALTER COLUMN a.b.c DROP NOT NULL\r\n    *   ALTER TABLE table1 ALTER COLUMN a.b.c COMMENT 'new comment'\r\n    *   ALTER TABLE table1 ALTER COLUMN a.b.c FIRST\r\n    *   ALTER TABLE table1 ALTER COLUMN a.b.c AFTER x\r\n   add statement:\r\n    *  ALTER TABLE table1 ADD COLUMNS (col_name data_type [COMMENT col_comment], ...);\r\n   rename:\r\n    *  ALTER TABLE table1 RENAME COLUMN a.b.c TO x\r\n   drop:\r\n    *  ALTER TABLE table1 DROP COLUMN a.b.c\r\n\t*  ALTER TABLE table1 DROP COLUMNS a.b.c, x, y\r\n   set/unset Properties:\r\n    * ALTER TABLE table SET TBLPROPERTIES ('table_property' = 'property_value');\r\n    * ALTER TABLE table UNSET TBLPROPERTIES [IF EXISTS] ('comment', 'key');\r\n4) support spark2 DDL.\r\n5) add FileBaseInternalSchemasManager to manger history schemas,  and save historySchemas in  \"./hoodie/.schema\" . now we no need to save historySchemas into commit file.\r\n6) add segment lock to TableInternalSchemaUtils to support concurrent read and write cache.\r\n7) rename mergeSchemaAction to SchemaMerger; remove helper methods from TableChanges to a helper class, now TableChanges is ok; use visitor mode to produce nameToId for internalSchema; and other samll fixed.\r\n\r\n\r\nRemaining problem: add more UT for this pr, add support for bootstrap table.\r\n\r\n@bvaradar forgive me this change is too large, i still use squahsing.  Subsequent modifications will be in the form of add commit.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/930001505/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/930004681","html_url":"https://github.com/apache/hudi/pull/3330#issuecomment-930004681","issue_url":"https://api.github.com/repos/apache/hudi/issues/3330","id":930004681,"node_id":"IC_kwDOBI7nWM43br7J","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T09:25:19Z","updated_at":"2021-09-29T09:25:19Z","author_association":"CONTRIBUTOR","body":"kindly ping @vinothchandar .  already rebase the code.  could you help me review  this code again, thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/930004681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/930028288","html_url":"https://github.com/apache/hudi/issues/3607#issuecomment-930028288","issue_url":"https://api.github.com/repos/apache/hudi/issues/3607","id":930028288,"node_id":"IC_kwDOBI7nWM43bxsA","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T09:57:43Z","updated_at":"2021-09-29T09:57:43Z","author_association":"CONTRIBUTOR","body":"Are you able to query normal Hudi data tables using Presto?  => Yes, normal hudi table works.\r\nAre you getting the NoClassDefFoundError only when you query Hudi metadata table? => Yes\r\n\r\nSeems there is dependency conflicts between hudi metadata table(HBase) and presto, I am trying to fix it.\r\nThanks for your attention :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/930028288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]