[{"url":"https://api.github.com/repos/apache/drill/issues/comments/511118769","html_url":"https://github.com/apache/drill/pull/1809#issuecomment-511118769","issue_url":"https://api.github.com/repos/apache/drill/issues/1809","id":511118769,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExODc2OQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T12:35:13Z","updated_at":"2019-07-13T12:35:13Z","author_association":"MEMBER","body":"@paul-rogers please resolve the conflicts.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/511118769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/511118791","html_url":"https://github.com/apache/drill/pull/1807#issuecomment-511118791","issue_url":"https://api.github.com/repos/apache/drill/issues/1807","id":511118791,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExODc5MQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T12:35:37Z","updated_at":"2019-07-13T12:35:37Z","author_association":"MEMBER","body":"@paul-rogers please resolve the conflicts.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/511118791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/511230901","html_url":"https://github.com/apache/drill/pull/1809#issuecomment-511230901","issue_url":"https://api.github.com/repos/apache/drill/issues/1809","id":511230901,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTIzMDkwMQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T19:59:19Z","updated_at":"2019-07-14T19:59:19Z","author_association":"CONTRIBUTOR","body":"Rebased on master. Tests fail with two unrelated failures (these failures occur about half the time I've run full tests over the last few months):\r\n\r\n```\r\n[ERROR] Failures: \r\n[ERROR]   TestDynamicUDFSupport.testDropFunction:555 Binary should exist in local udf directory\r\n[ERROR] Errors: \r\n[ERROR]   TestDynamicUDFSupport.testReRegisterTheSameJarWithDifferentContent:600->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n```","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/511230901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/511243796","html_url":"https://github.com/apache/drill/pull/1807#issuecomment-511243796","issue_url":"https://api.github.com/repos/apache/drill/issues/1807","id":511243796,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI0Mzc5Ng==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T23:24:52Z","updated_at":"2019-07-14T23:24:52Z","author_association":"CONTRIBUTOR","body":"Rebased on master. Addressed review comments. Squashed commits.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/511243796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/511349056","html_url":"https://github.com/apache/drill/pull/1807#issuecomment-511349056","issue_url":"https://api.github.com/repos/apache/drill/issues/1807","id":511349056,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTM0OTA1Ng==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T10:25:13Z","updated_at":"2019-07-15T10:25:13Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/511349056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/511349622","html_url":"https://github.com/apache/drill/pull/1809#issuecomment-511349622","issue_url":"https://api.github.com/repos/apache/drill/issues/1809","id":511349622,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTM0OTYyMg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T10:27:24Z","updated_at":"2019-07-15T10:27:24Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/511349622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/511731164","html_url":"https://github.com/apache/drill/pull/1817#issuecomment-511731164","issue_url":"https://api.github.com/repos/apache/drill/issues/1817","id":511731164,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTczMTE2NA==","user":{"login":"debraj92","id":10151782,"node_id":"MDQ6VXNlcjEwMTUxNzgy","avatar_url":"https://avatars.githubusercontent.com/u/10151782?v=4","gravatar_id":"","url":"https://api.github.com/users/debraj92","html_url":"https://github.com/debraj92","followers_url":"https://api.github.com/users/debraj92/followers","following_url":"https://api.github.com/users/debraj92/following{/other_user}","gists_url":"https://api.github.com/users/debraj92/gists{/gist_id}","starred_url":"https://api.github.com/users/debraj92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debraj92/subscriptions","organizations_url":"https://api.github.com/users/debraj92/orgs","repos_url":"https://api.github.com/users/debraj92/repos","events_url":"https://api.github.com/users/debraj92/events{/privacy}","received_events_url":"https://api.github.com/users/debraj92/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T09:02:30Z","updated_at":"2019-07-16T09:02:30Z","author_association":"NONE","body":"Hi ,\r\nI am closing this PR now because it looks like upgrading boost at this point is not feasible. I will leave the JIRA open and keep the patch locally so that we can apply it in the future.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/511731164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/512150233","html_url":"https://github.com/apache/drill/pull/297#issuecomment-512150233","issue_url":"https://api.github.com/repos/apache/drill/issues/297","id":512150233,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjE1MDIzMw==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T08:09:27Z","updated_at":"2019-07-17T08:09:27Z","author_association":"MEMBER","body":"Fixed in e529df46054b685d72ff424c58e38a5dcdbc381a & 34bf45f13c1fd23628ef39fb510df2b4f5750b3b &  717adcbb8bd076224efb564feb3ac932a6b79fd9.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/512150233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/512172637","html_url":"https://github.com/apache/drill/pull/480#issuecomment-512172637","issue_url":"https://api.github.com/repos/apache/drill/issues/480","id":512172637,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjE3MjYzNw==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T09:14:35Z","updated_at":"2019-07-17T09:14:35Z","author_association":"MEMBER","body":"Looks like these changes were added to https://github.com/apache/drill/pull/565, so closing this PR.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/512172637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/512174314","html_url":"https://github.com/apache/drill/pull/565#issuecomment-512174314","issue_url":"https://api.github.com/repos/apache/drill/issues/565","id":512174314,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjE3NDMxNA==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T09:19:04Z","updated_at":"2019-07-17T09:19:04Z","author_association":"MEMBER","body":"@sudheeshkatkam, did you have a chance to address Pauls CR comments?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/512174314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/512182057","html_url":"https://github.com/apache/drill/pull/135#issuecomment-512182057","issue_url":"https://api.github.com/repos/apache/drill/issues/135","id":512182057,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjE4MjA1Nw==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T09:40:58Z","updated_at":"2019-07-17T09:40:58Z","author_association":"MEMBER","body":"@aleph-zero, currently, we use `ClusterTest` and `BaseTestQuery` is deprecated. Could you please rework your changes to integrate randomizedtesting into `ClusterTest`. Also, are there any plans for extending its usage except randomizing drillbits count and some drill option values?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/512182057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/512188743","html_url":"https://github.com/apache/drill/pull/136#issuecomment-512188743","issue_url":"https://api.github.com/repos/apache/drill/issues/136","id":512188743,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjE4ODc0Mw==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T10:00:19Z","updated_at":"2019-07-17T10:00:19Z","author_association":"MEMBER","body":"@amithadke, did you have a chance to rework test in the way @jaltekruse proposed?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/512188743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/512196241","html_url":"https://github.com/apache/drill/pull/237#issuecomment-512196241","issue_url":"https://api.github.com/repos/apache/drill/issues/237","id":512196241,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjE5NjI0MQ==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T10:24:04Z","updated_at":"2019-07-17T10:24:04Z","author_association":"MEMBER","body":"@hsuanyi, what about the case when a new column appears during reading the table in one of the consequent batches. Will it be handled correctly with the changes in this PR? ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/512196241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/512201647","html_url":"https://github.com/apache/drill/pull/248#issuecomment-512201647","issue_url":"https://api.github.com/repos/apache/drill/issues/248","id":512201647,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjIwMTY0Nw==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T10:42:12Z","updated_at":"2019-07-17T10:42:12Z","author_association":"MEMBER","body":"@hsuanyi, could you please rework your PR as it was discussed in https://lists.apache.org/thread.html/9e5b2e02453e14d69bd34977ef7f4ae232d56d55d61fae663a0b2b25@1446835382@%3Cdev.drill.apache.org%3E?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/512201647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/512208605","html_url":"https://github.com/apache/drill/pull/293#issuecomment-512208605","issue_url":"https://api.github.com/repos/apache/drill/issues/293","id":512208605,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjIwODYwNQ==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T11:06:55Z","updated_at":"2019-07-17T11:06:55Z","author_association":"MEMBER","body":"Problem with code gen was fixed in #391.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/512208605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/512222311","html_url":"https://github.com/apache/drill/pull/1826#issuecomment-512222311","issue_url":"https://api.github.com/repos/apache/drill/issues/1826","id":512222311,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjIyMjMxMQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T11:55:34Z","updated_at":"2019-07-17T11:55:34Z","author_association":"MEMBER","body":"@vvysotskyi please review.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/512222311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/513229466","html_url":"https://github.com/apache/drill/pull/1826#issuecomment-513229466","issue_url":"https://api.github.com/repos/apache/drill/issues/1826","id":513229466,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzIyOTQ2Ng==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T13:31:07Z","updated_at":"2019-07-19T13:31:07Z","author_association":"MEMBER","body":"@vvysotskyi thanks for the code review, addressed code review comments and added Metastore components functionality. Please review.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/513229466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/513583502","html_url":"https://github.com/apache/drill/pull/1500#issuecomment-513583502","issue_url":"https://api.github.com/repos/apache/drill/issues/1500","id":513583502,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzU4MzUwMg==","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T20:06:06Z","updated_at":"2019-07-21T20:06:37Z","author_association":"CONTRIBUTOR","body":"Hi @jcmcote \r\nAre you still interested in completing this PR?  Recently, the enhanced vector format PRs were committed and could make this better and easier. \r\n\r\nIf you haven't seen this, here's a link to the tutorial by @paul-rogers https://github.com/paul-rogers/drill/wiki/EVF-Tutorial-Row-Batch-Reader.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/513583502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/514662510","html_url":"https://github.com/apache/drill/pull/1827#issuecomment-514662510","issue_url":"https://api.github.com/repos/apache/drill/issues/1827","id":514662510,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDY2MjUxMA==","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T14:44:26Z","updated_at":"2019-07-24T14:44:26Z","author_association":"CONTRIBUTOR","body":"I built this branch and manually tested it. This fixes the issue.  @paul-rogers can you remove the banned dependency so we can commit?\r\nThanks for fixing this!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/514662510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515716199","html_url":"https://github.com/apache/drill/pull/1829#issuecomment-515716199","issue_url":"https://api.github.com/repos/apache/drill/issues/1829","id":515716199,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTcxNjE5OQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-27T21:54:23Z","updated_at":"2019-07-27T21:54:23Z","author_association":"CONTRIBUTOR","body":"@KazydubB, when last this was discussed on the Drill dev mail list, there was a suggestion for the type name from Ted (can't recall the suggested name.) That name did seem a bit better than \"true map\". \"True map\" suggests that the other \"map\" is a \"false map.\"","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515716199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515716369","html_url":"https://github.com/apache/drill/pull/1829#issuecomment-515716369","issue_url":"https://api.github.com/repos/apache/drill/issues/1829","id":515716369,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTcxNjM2OQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-27T21:57:08Z","updated_at":"2019-07-27T23:06:04Z","author_association":"CONTRIBUTOR","body":"Looks like lots of work went into adapting the old-school complex readers and writers for this new type, but the newer column readers and writers don't have support. As a result, folks who want to use this feature need to use the old-style readers; the newer style \"EVF\" won't be usable for true maps.\r\n\r\nAlso, there is no \"RowSet\" support. So, tests that want to include a true map must, it seems, use our older test framework. If so, then that framework should not longer be deprecated, but may in fact be the preferred framework for any query that might include a true map. Not sure that this is helpful longer term (there was a reason we moved to the new framework), but it is worth calling out that this PR pushes us in that direction.\r\n\r\nWhile undoubtedly this implementation is exactly what one particular use case needs; I do wonder at the wisdom of creating pools of partially supported features that reflect which sponsor pays for the work.\r\n\r\nSaid another way, it would be very helpful, to encourage folks to create new readers, if the true map PR included EVF support.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515716369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515716535","html_url":"https://github.com/apache/drill/pull/1829#issuecomment-515716535","issue_url":"https://api.github.com/repos/apache/drill/issues/1829","id":515716535,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTcxNjUzNQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-27T22:00:43Z","updated_at":"2019-07-27T22:08:37Z","author_association":"CONTRIBUTOR","body":"here seems to be little documentation of the design or implementation: I find myself having to reverse engineer a design from the code. Would it be helpful for other reviewers if we included a bit of explanation?\r\n\r\nIn particular, what is the structure of the new vector? The true map vector seems to have a user-defined key and value type. Does this mean keys can be integers or maps? Do the proposed map functions handle non-Varchar keys? Do they handle repeated or map keys? If not, should the implementation restrict key types?\r\n\r\nHow do we handle varying value types? (I have a map with, say, {name: \"Fred\", balance: 123}. Would the user specify a Union? Have we fixed the many existing problems with the Union type? Or, is the true map meant to be like a Java map: Map<K,V>, and not a Python or JSON map with string keys and values of any type?\r\n\r\nGiven the title of this PR, \"Develop vector for canonical Map<K,V>\", the intent seems to be to create a Java-like map. In this case, the name \"true\" map, means \"true Java map\", not \"true JSON map.\" This may seem like an unimportant distinction, but I do point you to [Drill's JSON data model](https://drill.apache.org/docs/json-data-model/).\r\n\r\nI suppose the the \"V\" type could be Union to implement a JSON map. Would the various functions that work with this map handle union?\r\n\r\nGiven that this whole exercise simply creates two correlated lists, \"key\" and \"value\", I do wonder at the need for all the new complexity. Can't we simply add functions that work with an existing repeated map where the user tells us which column is the key and which is the value? Or, infer the key and value if the user uses the names \"key\" and \"value\"?\r\n\r\nA bit of documentation (a README file, a package-info file or just a Javadoc explanation in the vector class) would help answer these questions.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515716535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515716607","html_url":"https://github.com/apache/drill/pull/1827#issuecomment-515716607","issue_url":"https://api.github.com/repos/apache/drill/issues/1827","id":515716607,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTcxNjYwNw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-27T22:02:31Z","updated_at":"2019-07-27T22:02:31Z","author_association":"CONTRIBUTOR","body":"@cgivre, fixed the incorrect import.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515716607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515719706","html_url":"https://github.com/apache/drill/pull/1829#issuecomment-515719706","issue_url":"https://api.github.com/repos/apache/drill/issues/1829","id":515719706,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTcxOTcwNg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-27T23:10:03Z","updated_at":"2019-07-28T05:27:08Z","author_association":"CONTRIBUTOR","body":"This PR has no unit tests. While I am sure that this particular developer got everything 100% correct, I do wonder if future developers might accidentally introduce bugs that will only be caught by users in production. Without unit tests, we are performing without a safety net. Reviews must execute tests in our heads since there is no code to do it for us.\r\n\r\nI realize that the consumer of this code really wants this commit in, and will worry about tests later. But, as an open source project, it is a good practice to require unit tests for all new and changed code.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515719706/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515725625","html_url":"https://github.com/apache/drill/pull/1830#issuecomment-515725625","issue_url":"https://api.github.com/repos/apache/drill/issues/1830","id":515725625,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTcyNTYyNQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-28T01:36:55Z","updated_at":"2019-07-28T01:38:07Z","author_association":"CONTRIBUTOR","body":"Several tests fail due a race condition in Drillbit shutdown:\r\n\r\n```\r\n[ERROR]  TestUnionAll.testUnionAllEmptySides:348->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n[ERROR] TestUnionDistinct.testUnionDistinctEmptySides:347->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n[ERROR]  TestFastComplexSchema.test5:96->BaseTestQuery.testRunAndReturn:340 Â» Rpc org.a...\r\n[ERROR] TestFlatten.testFlattenAfterJoin1:526->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n[ERROR] TestFlatten.testFlattenAfterJoin2:537->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n[ERROR]  TestFlatten.testFlattenAfterSort:514->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n```\r\n\r\nA typical error stack:\r\n\r\n```\r\n[INFO] Running org.apache.drill.exec.store.parquet.ParquetInternalsTest\r\n16:45:18.456 [BitClient-1] ERROR o.a.d.exec.rpc.RpcExceptionHandler - Exception in RPC communication.  Connection: /172.16.10.3:35130 <--> paul-linux/172.16.10.3:31075 (data client).  Closing connection.\r\njava.lang.IllegalStateException: Attempting operation on allocator when allocator is closed.\r\nAllocator(rpc:bit-data) 0/0/8256/9223372036854775807 (res/actual/peak/limit)\r\n  child allocators: 0\r\n  ledgers: 0\r\n  reservations: 0\r\n\r\n        at org.apache.drill.exec.memory.BaseAllocator.assertOpen(BaseAllocator.java:130) ~[drill-memory-base-1.17.0-SNAPSHOT.jar:1.17.0-SNAPSHOT]\r\n        at org.apache.drill.exec.memory.BaseAllocator.buffer(BaseAllocator.java:209) ~[drill-memory-base-1.17.0-SNAPSHOT.jar:1.17.0-SNAPSHOT]\r\n        at org.apache.drill.exec.memory.DrillByteBufAllocator.buffer(DrillByteBufAllocator.java:49) ~[drill-memory-base-1.17.0-SNAPSHOT.jar:1.17.0-SNAPSHOT]\r\n        at org.apache.drill.exec.memory.DrillByteBufAllocator.ioBuffer(DrillByteBufAllocator.java:64) ~[drill-memory-base-1.17.0-SNAPSHOT.jar:1.17.0-SNAPSHOT]\r\n        at io.netty.channel.AdaptiveRecvByteBufAllocator$HandleImpl.allocate(AdaptiveRecvByteBufAllocator.java:104) ~[netty-transport-4.0.48.Final.jar:4.0.48.Final]\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:117) ~[netty-transport-4.0.48.Final.jar:4.0.48.Final]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) [netty-transport-4.0.48.Final.jar:4.0.48.Final]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:580) [netty-transport-4.0.48.Final.jar:4.0.48.Final]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:497) [netty-transport-4.0.48.Final.jar:4.0.48.Final]\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) [netty-transport-4.0.48.Final.jar:4.0.48.Final]\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:131) [netty-common-4.0.48.Final.jar:4.0.48.Final]\r\n        at java.lang.Thread.run(Thread.java:748) [na:1.8.0_212]\r\n```\r\n\r\nThis error is similar to the one that causes a UDF test to randomly fail. I've tracked it down to a race condition on Drillbit shutdown in unit tests. Somehow, some worker threads are still running as the Drillbit itself tries to shut down. I'll try to track it down, but since the error is pre-existing, I'll not hold up this PR for that fix.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515725625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515760892","html_url":"https://github.com/apache/drill/pull/1830#issuecomment-515760892","issue_url":"https://api.github.com/repos/apache/drill/issues/1830","id":515760892,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTc2MDg5Mg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-28T12:59:15Z","updated_at":"2019-07-28T12:59:15Z","author_association":"MEMBER","body":"@paul-rogers \r\n1. travis job fail because there are some unused imports, could you please them and address code review comment so I can run full test suit for you branch.\r\n2. \r\n> This commit fixes a large number of operators.\r\n\r\nAre operators that are not fixed?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515760892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515761557","html_url":"https://github.com/apache/drill/pull/1829#issuecomment-515761557","issue_url":"https://api.github.com/repos/apache/drill/issues/1829","id":515761557,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTc2MTU1Nw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-28T13:08:54Z","updated_at":"2019-07-28T20:21:04Z","author_association":"MEMBER","body":"@paul-rogers \r\n1. agree regarding naming  (it a least must have underscore `true_map`) but I agree that we need some better naming. canonical_map? Any other suggestions?\r\n2. Support was added for older framework but I agree that for EVF it should be added as well. Since you knowledge keeper for EVF could you please provide some guidelines where changes need to be done? Its' still crucial to add support for old framework since currently only two readers use new (EVF) (text and log format) and none of them support maps. This work was done primary for parquet reader (I am not sure when it will migrate to EVF). So to have maps in both is reasonable.\r\n3. I see there are unit tests in this PR, maybe not the ones are expected, could you please expand and give examples which tests do you expect.\r\n4. I believe there are some documentation in the Jira but I agree that better java-doc or readme.md should have been provided.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515761557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515794219","html_url":"https://github.com/apache/drill/pull/1830#issuecomment-515794219","issue_url":"https://api.github.com/repos/apache/drill/issues/1830","id":515794219,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTc5NDIxOQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-28T20:51:49Z","updated_at":"2019-07-28T20:51:49Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, thank your for your review on a weekend! Addressed the minor comments.\r\n\r\nThis PR tackles only missing container and record count values.\r\n\r\nThese errors were found by enabling the \"batch validator\" and adding many rigorous consistency checks. The validator also checks vectors: there are hundreds of errors in which counts are wrong, offset vectors are invalid and so on. Those will be done as a separate PR to avoid overwhelming the reviewer (or myself.) This is also why the batch validator itself is not part of this PR: it would complain about the invalid vectors.\r\n\r\nIn starting on the vector fixes, many of these same operators are fixed again, along with a few others.\r\n\r\nAn earlier comment mentioned that I saw a number of RPC errors due to what seems like a race condition in closing allocators. Oddly, it turns out that Travis did not see those errors, but instead found an out-of-bounds error.\r\n\r\nWhen tests run under Maven, we turn on checking of vector bounds. I discovered that bounds checks are turned off in the IDE, which is why I didn't catch the issue. I'll follow up with another commit for that fix. (That commit will also turn on bounds checking if assertions are enabled so that bounds checking occurs in IDE test runs.)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515794219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515823117","html_url":"https://github.com/apache/drill/pull/1830#issuecomment-515823117","issue_url":"https://api.github.com/repos/apache/drill/issues/1830","id":515823117,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTgyMzExNw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T02:31:38Z","updated_at":"2019-07-29T02:31:38Z","author_association":"CONTRIBUTOR","body":"Addressed review comments. Still getting failures when running tests in Maven, but not Eclipse. I guess we should hold off committing this until I track down the issues:\r\n\r\n```\r\n[ERROR]   TestUnionAll.testUnionAllEmptySides:348->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n[ERROR]   TestUnionDistinct.testUnionDistinctEmptySides:347->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n[ERROR]   TestFastComplexSchema.test5:96->BaseTestQuery.testRunAndReturn:340 Â» Rpc org.a...\r\n[ERROR]   TestFlatten.testFlattenAfterJoin1:526->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n[ERROR]   TestFlatten.testFlattenAfterJoin2:537->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n[ERROR]   TestFlatten.testFlattenAfterSort:514->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n[ERROR]   TestDynamicUDFSupport.testReRegisterTheSameJarWithDifferentContent:600->BaseTestQuery.testRunAndReturn:340 Â» Rpc\r\n```","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515823117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515828830","html_url":"https://github.com/apache/drill/pull/1829#issuecomment-515828830","issue_url":"https://api.github.com/repos/apache/drill/issues/1829","id":515828830,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTgyODgzMA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T03:10:04Z","updated_at":"2019-07-29T03:10:04Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, checked the dev archives: looks the previously suggested name was DICT. We could also allow DICTIONARY (similar to how we allow both VARCHAR and CHARACTER VARYING). The DICT name might be better since a MAP<K,V> is not like a generalized Python or JSON map (as we discussed.) We are actually defining a dictionary of keys and values in which the values must all be of the same type. I don't feel strongly about the name, but I did think it was a good idea when Ted suggested it.\r\n\r\nAs we can see, a huge amount of work went into this feature. (@KazydubB clearly did a fantastic job understanding all the bits and pieces.) I was kind of hoping we could handle the DICT type as just a bit of metadata sugar on top of the existing REPEATED MAP vector. This PR does do that, of course. Can we make the change with less impact?\r\n\r\nThe rough idea might be to create a new base class for both `RepeatedMap` and DICT. (Maybe we call it `AbstractRepeatedMap`). The structure would be identical for both, only the metadata bits would vary. A repeated map would allow adding any number of vectors, the DICT would take a `MaterializedField` that has the required key and value children in place, then create those two child vectors.\r\n\r\nWith this, any code that currently references `RepeatedMapVector` could change to reference `AbstractRepeatedMap` instead. Immediately, all existing code that works with repeated maps (including EVF) would work with `DICT`, especially when reading the vector. That is, if code does not really care about the meaning of the children, then it should not care if the vector is a `RepeatedMap`, or the more restricted form, a `DICT`. Flatten, for example, should work just as well for either case.\r\n\r\n The one part we'd want to add is the step to create the `DICT` vector and its `MaterializedField`. Presumably that code is in this PR for some cases.  For the RowSet and EVF stuff, we'd want to specify the `DICT<K,V>` info in metadata. We'd prohibit adding new children to a `DICT`. `RepeatedMap` would continue to allow adding new children. It may be that this is really the only difference.\r\n\r\nSuppose we used the old-style complex writer or the newer column writer. The client should not care if it is writing a MAP or DICT: it will just work with fields. Here's the RowSet version treating a `DICT` as a repeated `MAP`:\r\n\r\n```\r\nTupleMetadata schema = ...\r\n   // Convenience short-hand to assume the key is a VARCHAR, we specify the value type.\r\n   .addDict(\"contacts\", MinorType.VARCHAR) ...\r\n// Create row set and writer here...\r\nArrayWriter dictWriter = rowSetWriter.array(\"contacts\");\r\nTupleWriter kvWriter = dictWriter.tuple();\r\nkvWriter.scalar(\"key\").setString(\"fred\");\r\nkvWriter.scalar(\"value\").setString(\"555-1212\");\r\ndictWriter.save()\r\n```\r\n\r\nSimilarly, for read:\r\n\r\n```\r\nRowSetReader reader = rowSetWithDict.reader();\r\nArrayReader dictReader = reader.array(\"contacts\");\r\nTupleReader kvReader = dictReader.tuple();\r\n...\r\n// On each row\r\nwhile (dictReader.next()) {\r\n  System.println(dictReader.scalar(\"key\").getString() + \", \" +\r\n   dictReader.scalar(\"value\").getString());\r\n```\r\n\r\nThe above cleanly handles the case where the key and value types can be anything. The above works for values that are unions, maps, etc.\r\n\r\nAlso, the `RowSetBuilder` should just work to build a dictionary, and the verifier should also work to compare two row sets.\r\n\r\nLet's compare the above idea with the current PR. In this PR, we do create a new vector, but we add a bit too much specialized semantics. Doing so then forces us to create new complex readers and writers. For the RowSet framework, we'd have to add new column readers and writers. And, since we are creating all this new code, we need unit tests for it.\r\n\r\nThat is, we are not exploiting the fact that a DICT really is a repeated MAP, just one with some restrictions. If, instead, we could add DICT as just a new way to create a kind of repeated MAP, and treat it as a repeated map for reads and writes, then we can leverage all the existing repeated map tests; we'd just add tests to ensure that the DICT creation code works.\r\n\r\nTo summarize, can we implement a DICT as mostly new metadata, and new mechanisms for vector creation, but leave vector writing and reading pretty much the same as a generic repeated map?\r\n\r\nThese are all just suggestions and brainstorming; perhaps @KazydubB already looked into this approach and found issues. Would be helpful to know what issue came up.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515828830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515863945","html_url":"https://github.com/apache/drill/pull/1830#issuecomment-515863945","issue_url":"https://api.github.com/repos/apache/drill/issues/1830","id":515863945,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTg2Mzk0NQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T06:35:07Z","updated_at":"2019-07-29T06:41:16Z","author_association":"MEMBER","body":"@paul-rogers mostly rpc errors are caused by other tests failures or lack of resources.\r\nCurrently if we look in travis there are still IOB exceptions (https://travis-ci.org/apache/drill/jobs/564781376).","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515863945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/515993881","html_url":"https://github.com/apache/drill/pull/1825#issuecomment-515993881","issue_url":"https://api.github.com/repos/apache/drill/issues/1825","id":515993881,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTk5Mzg4MQ==","user":{"login":"agozhiy","id":31588230,"node_id":"MDQ6VXNlcjMxNTg4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/31588230?v=4","gravatar_id":"","url":"https://api.github.com/users/agozhiy","html_url":"https://github.com/agozhiy","followers_url":"https://api.github.com/users/agozhiy/followers","following_url":"https://api.github.com/users/agozhiy/following{/other_user}","gists_url":"https://api.github.com/users/agozhiy/gists{/gist_id}","starred_url":"https://api.github.com/users/agozhiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agozhiy/subscriptions","organizations_url":"https://api.github.com/users/agozhiy/orgs","repos_url":"https://api.github.com/users/agozhiy/repos","events_url":"https://api.github.com/users/agozhiy/events{/privacy}","received_events_url":"https://api.github.com/users/agozhiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T13:35:40Z","updated_at":"2019-07-29T13:35:40Z","author_association":"MEMBER","body":"@KazydubB, I addressed your comments, could you please review?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/515993881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/516003913","html_url":"https://github.com/apache/drill/pull/1829#issuecomment-516003913","issue_url":"https://api.github.com/repos/apache/drill/issues/1829","id":516003913,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjAwMzkxMw==","user":{"login":"KazydubB","id":38408110,"node_id":"MDQ6VXNlcjM4NDA4MTEw","avatar_url":"https://avatars.githubusercontent.com/u/38408110?v=4","gravatar_id":"","url":"https://api.github.com/users/KazydubB","html_url":"https://github.com/KazydubB","followers_url":"https://api.github.com/users/KazydubB/followers","following_url":"https://api.github.com/users/KazydubB/following{/other_user}","gists_url":"https://api.github.com/users/KazydubB/gists{/gist_id}","starred_url":"https://api.github.com/users/KazydubB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KazydubB/subscriptions","organizations_url":"https://api.github.com/users/KazydubB/orgs","repos_url":"https://api.github.com/users/KazydubB/repos","events_url":"https://api.github.com/users/KazydubB/events{/privacy}","received_events_url":"https://api.github.com/users/KazydubB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-29T14:00:31Z","updated_at":"2019-07-29T14:51:57Z","author_association":"MEMBER","body":"Hi @paul-rogers, thank you for your elaborate comment.\r\nThis map is intended to be a map in Java's sense, with strict key and map types. The key type was indeed planned to be primitive only while the value could have been of any type either primitive or complex, but I accidentally removed the check when finalizing the changes :(. Just to be clear, key type is not limited to `VARCHAR`, but can be of any other, like `INT`, `BIGINT`, `FLOAT4` etc.\r\n\r\nThis new type is intended to be used for sources which support this type of maps, i.e. Parquet files, Hive tables etc.\r\nSupport for EVF was not considered because I thought it was not supporting readers which support such map type, but thank you for guidance, I'll look into it. Of course, it should be added.\r\n\r\nThe vector `extends` `RepeatedMapVector` and is essentially a repeated map vector (as you've noted) with constraints regarding its children and type of one of the child, 'key' (it `@Override`s `RepeatedMapVector.Accessor#getObject(int)` as well). This constraint is implemented in `TrueMapVector#putChild(String, ValueVector)` which dissalows the vector to have other children fields. Additionally, new reader and writer was introduced which also `extend` (inherit from) repeated map's reader and writer respectively. The new writer differs from its parent by how it handles children's offsets and introduces two essential methods, `startKeyValuePair()` and `endKeyValuePair()`, to separate entries. And new type's reader adds methods to find index for a given key and read a value for a given key into passed `ValueHolder`.\r\nWith this approach for writer, writing data into new map vector is not any different than writing data into repeated map (of course, if user (developer) is not trying to access \"unknown\" field, other than defined `\"key\"` and `\"value\"` on the writer for the new type). Flatten, for example, does behave the same for the two vectors. In places these two vectors (`TrueMapVector` and `RepeatedMapVector`) have different behavior, this is done in code; in other case the common behavior (logic) is used.\r\nThat being said, I do not see a reason to create another `AbstractRepeatedMap` as I think extending `RepeatedMapVector` suffices (unless we really need to separate these two vectors).\r\n\r\nI am going to add documentation to code to avoid reverse engineering for developers (sorry for making you go through this!) and add unit tests for the new `ValueVector` and its writer and slightly refactor the code to implement aforementioned constraints. Also, I'll rename the type to `DICT`.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/516003913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/516246460","html_url":"https://github.com/apache/drill/pull/1829#issuecomment-516246460","issue_url":"https://api.github.com/repos/apache/drill/issues/1829","id":516246460,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI0NjQ2MA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T03:33:20Z","updated_at":"2019-07-30T03:33:20Z","author_association":"CONTRIBUTOR","body":"@KazydubB, thanks for the explanations. Probably not productive for us to continue to debate the design now that the code is done. Probably best to get this in so folks can use it; leaving refinements for later.\r\n\r\nYou correctly point out that EVF is used by only two readers, neither of which support a TRUEMAP. The remaining EVF reader, JSON, uses true maps (not a TRUEMAP) that can map string keys to any kind of value, so it will continue to need to use the (non-true) MAP type. So, we won't need EVF TRUEMAP support for that reader either. Instead, we can let a volunteer can add EVF support later when it might be needed.\r\n\r\nThe thought about a new base class simply recognized that a TRUEMAP does not have the same creation semantics as a Repeated MAP, so having TRUEMAP inherit from the leaf Repeated MAP type introduces very odd code hacks. (Like saying a Dog is a subclass of Cat, but without the purr and much more social.) But, again, I suppose we can fix that later if we have the need.\r\n\r\nStill, I would suggest that, if you can spare a bit of time, that we add tests so we're not using the Parquet reader as our primary testing mechanism. The Parquet reader is quite complex and debugging this code in the context of the Parquet reader will be difficult.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/516246460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/516247510","html_url":"https://github.com/apache/drill/pull/1830#issuecomment-516247510","issue_url":"https://api.github.com/repos/apache/drill/issues/1830","id":516247510,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI0NzUxMA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T03:38:58Z","updated_at":"2019-07-30T03:38:58Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, thanks much for the reviews and the suggestions. I would tend to doubt that the RPC errors I'm seeing are due to either lack of resources or other test failures. For example, the UDF tests fail about half the time when I do builds, even clean builds on master. Maven controls resources, the Dynamic UDF tests are the only ones that fail, and my machine has 32 GB of memory; far more than needed. Something odd is going on; I just don't know what.\r\n\r\nIn any event, I'll take another crack at tracking down the issue. If that does not work, I'll back out the Flatten and selected other changes until I get a clean build. I'll add Flatten to a later commit once I figure out what's what. Will try to complete this work by next Monday. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/516247510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/516877664","html_url":"https://github.com/apache/drill/pull/1831#issuecomment-516877664","issue_url":"https://api.github.com/repos/apache/drill/issues/1831","id":516877664,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjg3NzY2NA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T14:37:49Z","updated_at":"2019-07-31T14:37:49Z","author_association":"MEMBER","body":"@ihuzenko thanks for the code review, addressed code review comments.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/516877664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/517385513","html_url":"https://github.com/apache/drill/pull/1834#issuecomment-517385513","issue_url":"https://api.github.com/repos/apache/drill/issues/1834","id":517385513,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzM4NTUxMw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T17:33:51Z","updated_at":"2019-08-01T17:33:51Z","author_association":"MEMBER","body":"@paul-rogers could you please review?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/517385513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/517852783","html_url":"https://github.com/apache/drill/pull/1787#issuecomment-517852783","issue_url":"https://api.github.com/repos/apache/drill/issues/1787","id":517852783,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzg1Mjc4Mw==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T21:43:13Z","updated_at":"2019-08-02T21:43:13Z","author_association":"CONTRIBUTOR","body":"@sohami \r\nThe issue is not so much with a new FTL page as much as it is with populating the (previous) submitting page's fields with the values just prior to submission. Since the results are loaded into the DOM without a change in the address, there is no way to mimic the `[back]` button's behaviour without this.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/517852783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/517852920","html_url":"https://github.com/apache/drill/pull/1779#issuecomment-517852920","issue_url":"https://api.github.com/repos/apache/drill/issues/1779","id":517852920,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzg1MjkyMA==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T21:44:01Z","updated_at":"2019-08-02T21:44:01Z","author_association":"CONTRIBUTOR","body":"@agozhiy \r\nCould you take a look at this PR?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/517852920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/517966762","html_url":"https://github.com/apache/drill/pull/1835#issuecomment-517966762","issue_url":"https://api.github.com/repos/apache/drill/issues/1835","id":517966762,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk2Njc2Mg==","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T01:39:12Z","updated_at":"2019-08-04T01:39:12Z","author_association":"CONTRIBUTOR","body":"This is a really useful feature! ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/517966762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/517974512","html_url":"https://github.com/apache/drill/pull/1830#issuecomment-517974512","issue_url":"https://api.github.com/repos/apache/drill/issues/1830","id":517974512,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk3NDUxMg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T05:15:18Z","updated_at":"2019-08-04T05:15:18Z","author_association":"CONTRIBUTOR","body":"Going to abandon this. Turns out that Drill has many, many interlocking vector count and size errors. I've not found a good way to work on them in chunks, and the problem is too large to do in one go. (I now understand what Jinfeng was facing a couple of years ago in his \"empty batches\" project!) Since I'm running out of time to work on this, we'll just leave well enough alone.\r\n\r\nStarted down this route because the revised JSON reader hit a number of these problems as it used the \"right\" values which broke code that expected the wrong values. Since there is no time to work on fixing this, it means that the JSON reader can't be offered. Will revisit later if time becomes available.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/517974512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/517998861","html_url":"https://github.com/apache/drill/pull/1835#issuecomment-517998861","issue_url":"https://api.github.com/repos/apache/drill/issues/1835","id":517998861,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk5ODg2MQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T12:21:15Z","updated_at":"2019-08-04T13:41:47Z","author_association":"MEMBER","body":"Also could you please show how varargs functions will be described in `sys.functions` table.\r\nExample:\r\n```\r\napache drill (sys)> select * from sys.functions limit 2;\r\n+------+---------------------------------+------------+----------+----------+\r\n| name |            signature            | returnType |  source  | internal |\r\n+------+---------------------------------+------------+----------+----------+\r\n| !=   | BIGINT-REQUIRED,BIGINT-REQUIRED | BIT        | built-in | false    |\r\n| !=   | BIT-REQUIRED,BIT-REQUIRED       | BIT        | built-in | false    |\r\n+------+---------------------------------+------------+----------+----------+\r\n```","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/517998861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/518161785","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-518161785","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":518161785,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODE2MTc4NQ==","user":{"login":"oleg-zinovev","id":17238766,"node_id":"MDQ6VXNlcjE3MjM4NzY2","avatar_url":"https://avatars.githubusercontent.com/u/17238766?v=4","gravatar_id":"","url":"https://api.github.com/users/oleg-zinovev","html_url":"https://github.com/oleg-zinovev","followers_url":"https://api.github.com/users/oleg-zinovev/followers","following_url":"https://api.github.com/users/oleg-zinovev/following{/other_user}","gists_url":"https://api.github.com/users/oleg-zinovev/gists{/gist_id}","starred_url":"https://api.github.com/users/oleg-zinovev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleg-zinovev/subscriptions","organizations_url":"https://api.github.com/users/oleg-zinovev/orgs","repos_url":"https://api.github.com/users/oleg-zinovev/repos","events_url":"https://api.github.com/users/oleg-zinovev/events{/privacy}","received_events_url":"https://api.github.com/users/oleg-zinovev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T09:36:30Z","updated_at":"2019-08-05T09:36:30Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, could you please review?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/518161785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/518183790","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-518183790","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":518183790,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODE4Mzc5MA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T10:42:32Z","updated_at":"2019-08-05T10:42:32Z","author_association":"MEMBER","body":"@oleg-zinovev thanks for making the changes, though the situation is little bit awkward, since I was working on similar changes and did not know you intend to do them as well (https://issues.apache.org/jira/browse/DRILL-4517). Though I was working on reading empty parquet files but not writing them. I suggest you separate out writing empty parquet files into separate PR as for reading it might be better if my changes will be used instead: first you change metadata cache files and this would affect backward compatibility as well as will have to store more information than needed, secondly your changes does not seem to optimize reading complex types. What do you think?\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/518183790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/518186190","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-518186190","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":518186190,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODE4NjE5MA==","user":{"login":"oleg-zinovev","id":17238766,"node_id":"MDQ6VXNlcjE3MjM4NzY2","avatar_url":"https://avatars.githubusercontent.com/u/17238766?v=4","gravatar_id":"","url":"https://api.github.com/users/oleg-zinovev","html_url":"https://github.com/oleg-zinovev","followers_url":"https://api.github.com/users/oleg-zinovev/followers","following_url":"https://api.github.com/users/oleg-zinovev/following{/other_user}","gists_url":"https://api.github.com/users/oleg-zinovev/gists{/gist_id}","starred_url":"https://api.github.com/users/oleg-zinovev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleg-zinovev/subscriptions","organizations_url":"https://api.github.com/users/oleg-zinovev/orgs","repos_url":"https://api.github.com/users/oleg-zinovev/repos","events_url":"https://api.github.com/users/oleg-zinovev/events{/privacy}","received_events_url":"https://api.github.com/users/oleg-zinovev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T10:50:54Z","updated_at":"2019-08-05T10:50:54Z","author_association":"CONTRIBUTOR","body":"Ok, I'll try to rewrite the commit within a week.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/518186190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/518187400","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-518187400","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":518187400,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODE4NzQwMA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T10:55:14Z","updated_at":"2019-08-05T10:55:14Z","author_association":"MEMBER","body":"@oleg-zinovev thanks, I have assigned https://issues.apache.org/jira/browse/DRILL-7156 to you.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/518187400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/518187686","html_url":"https://github.com/apache/drill/pull/1835#issuecomment-518187686","issue_url":"https://api.github.com/repos/apache/drill/issues/1835","id":518187686,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODE4NzY4Ng==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T10:56:13Z","updated_at":"2019-08-05T10:56:13Z","author_association":"MEMBER","body":"+1, please squash the commits.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/518187686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/518638743","html_url":"https://github.com/apache/drill/pull/1833#issuecomment-518638743","issue_url":"https://api.github.com/repos/apache/drill/issues/1833","id":518638743,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODYzODc0Mw==","user":{"login":"agozhiy","id":31588230,"node_id":"MDQ6VXNlcjMxNTg4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/31588230?v=4","gravatar_id":"","url":"https://api.github.com/users/agozhiy","html_url":"https://github.com/agozhiy","followers_url":"https://api.github.com/users/agozhiy/followers","following_url":"https://api.github.com/users/agozhiy/following{/other_user}","gists_url":"https://api.github.com/users/agozhiy/gists{/gist_id}","starred_url":"https://api.github.com/users/agozhiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agozhiy/subscriptions","organizations_url":"https://api.github.com/users/agozhiy/orgs","repos_url":"https://api.github.com/users/agozhiy/repos","events_url":"https://api.github.com/users/agozhiy/events{/privacy}","received_events_url":"https://api.github.com/users/agozhiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T11:58:52Z","updated_at":"2019-08-06T11:58:52Z","author_association":"MEMBER","body":"Done.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/518638743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/519141613","html_url":"https://github.com/apache/drill/pull/1749#issuecomment-519141613","issue_url":"https://api.github.com/repos/apache/drill/issues/1749","id":519141613,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE0MTYxMw==","user":{"login":"oleg-zinovev","id":17238766,"node_id":"MDQ6VXNlcjE3MjM4NzY2","avatar_url":"https://avatars.githubusercontent.com/u/17238766?v=4","gravatar_id":"","url":"https://api.github.com/users/oleg-zinovev","html_url":"https://github.com/oleg-zinovev","followers_url":"https://api.github.com/users/oleg-zinovev/followers","following_url":"https://api.github.com/users/oleg-zinovev/following{/other_user}","gists_url":"https://api.github.com/users/oleg-zinovev/gists{/gist_id}","starred_url":"https://api.github.com/users/oleg-zinovev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleg-zinovev/subscriptions","organizations_url":"https://api.github.com/users/oleg-zinovev/orgs","repos_url":"https://api.github.com/users/oleg-zinovev/repos","events_url":"https://api.github.com/users/oleg-zinovev/events{/privacy}","received_events_url":"https://api.github.com/users/oleg-zinovev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:13:08Z","updated_at":"2019-08-07T15:17:13Z","author_association":"CONTRIBUTOR","body":"Since I have same plugin for internal use (https://github.com/idvp-project/drill-storage-excel):\r\n1) XSSFWorkbook has a awful memory usage. http://apache-poi.1045710.n5.nabble.com/HSSF-and-XSSF-memory-usage-some-numbers-td4312784.html. Reading a 10-15 mb Xlsx file can easily lead to OutOfMemory. So we used com.monitorjbl:xlsx-streamer project. (No support for a formula evaluation)\r\n2) Excel does not guarantee that the column value type remains static. IMHO, it is better to read everything as VARCHAR.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/519141613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/519256074","html_url":"https://github.com/apache/drill/pull/1837#issuecomment-519256074","issue_url":"https://api.github.com/repos/apache/drill/issues/1837","id":519256074,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTI1NjA3NA==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T20:27:04Z","updated_at":"2019-08-07T20:27:23Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva thanks for the review. I've applied the recommendations.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/519256074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/519365759","html_url":"https://github.com/apache/drill/pull/1779#issuecomment-519365759","issue_url":"https://api.github.com/repos/apache/drill/issues/1779","id":519365759,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTM2NTc1OQ==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T05:08:01Z","updated_at":"2019-08-08T05:08:01Z","author_association":"CONTRIBUTOR","body":"@agozhiy done most of the changes you've suggested and commented on the rest.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/519365759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/519458040","html_url":"https://github.com/apache/drill/pull/1837#issuecomment-519458040","issue_url":"https://api.github.com/repos/apache/drill/issues/1837","id":519458040,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTQ1ODA0MA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T10:13:19Z","updated_at":"2019-08-08T10:13:19Z","author_association":"MEMBER","body":"+1, please squash the commits.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/519458040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/519473200","html_url":"https://github.com/apache/drill/pull/1779#issuecomment-519473200","issue_url":"https://api.github.com/repos/apache/drill/issues/1779","id":519473200,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTQ3MzIwMA==","user":{"login":"agozhiy","id":31588230,"node_id":"MDQ6VXNlcjMxNTg4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/31588230?v=4","gravatar_id":"","url":"https://api.github.com/users/agozhiy","html_url":"https://github.com/agozhiy","followers_url":"https://api.github.com/users/agozhiy/followers","following_url":"https://api.github.com/users/agozhiy/following{/other_user}","gists_url":"https://api.github.com/users/agozhiy/gists{/gist_id}","starred_url":"https://api.github.com/users/agozhiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agozhiy/subscriptions","organizations_url":"https://api.github.com/users/agozhiy/orgs","repos_url":"https://api.github.com/users/agozhiy/repos","events_url":"https://api.github.com/users/agozhiy/events{/privacy}","received_events_url":"https://api.github.com/users/agozhiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T11:05:23Z","updated_at":"2019-08-08T11:05:23Z","author_association":"MEMBER","body":"@kkhatua, thank you for the changes, please answer just a few more comments I left in conversations.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/519473200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/519762685","html_url":"https://github.com/apache/drill/pull/1838#issuecomment-519762685","issue_url":"https://api.github.com/repos/apache/drill/issues/1838","id":519762685,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc2MjY4NQ==","user":{"login":"weijietong","id":728692,"node_id":"MDQ6VXNlcjcyODY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/728692?v=4","gravatar_id":"","url":"https://api.github.com/users/weijietong","html_url":"https://github.com/weijietong","followers_url":"https://api.github.com/users/weijietong/followers","following_url":"https://api.github.com/users/weijietong/following{/other_user}","gists_url":"https://api.github.com/users/weijietong/gists{/gist_id}","starred_url":"https://api.github.com/users/weijietong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weijietong/subscriptions","organizations_url":"https://api.github.com/users/weijietong/orgs","repos_url":"https://api.github.com/users/weijietong/repos","events_url":"https://api.github.com/users/weijietong/events{/privacy}","received_events_url":"https://api.github.com/users/weijietong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T03:23:14Z","updated_at":"2019-08-09T03:23:14Z","author_association":"NONE","body":"LGTM +1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/519762685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520323682","html_url":"https://github.com/apache/drill/pull/1839#issuecomment-520323682","issue_url":"https://api.github.com/repos/apache/drill/issues/1839","id":520323682,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDMyMzY4Mg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-12T07:31:57Z","updated_at":"2019-08-12T07:31:57Z","author_association":"MEMBER","body":"@vvysotskyi thanks for the code review, addressed code review comments.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520323682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520774175","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-520774175","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":520774175,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDc3NDE3NQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T10:07:19Z","updated_at":"2019-08-13T10:07:19Z","author_association":"MEMBER","body":"@oleg-zinovev support empty parquet files reading is already merged into master (https://github.com/apache/drill/commit/4f4e1af53c9abccd1996f3b6841731e68768b48e). Do you plan on working on adding support for writing empty parquet files? We plan to include it in next Drill release (end of August / beginning of September). If yes, please factor out writing empty parquet and update the PR.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520774175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520776279","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-520776279","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":520776279,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDc3NjI3OQ==","user":{"login":"oleg-zinovev","id":17238766,"node_id":"MDQ6VXNlcjE3MjM4NzY2","avatar_url":"https://avatars.githubusercontent.com/u/17238766?v=4","gravatar_id":"","url":"https://api.github.com/users/oleg-zinovev","html_url":"https://github.com/oleg-zinovev","followers_url":"https://api.github.com/users/oleg-zinovev/followers","following_url":"https://api.github.com/users/oleg-zinovev/following{/other_user}","gists_url":"https://api.github.com/users/oleg-zinovev/gists{/gist_id}","starred_url":"https://api.github.com/users/oleg-zinovev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleg-zinovev/subscriptions","organizations_url":"https://api.github.com/users/oleg-zinovev/orgs","repos_url":"https://api.github.com/users/oleg-zinovev/repos","events_url":"https://api.github.com/users/oleg-zinovev/events{/privacy}","received_events_url":"https://api.github.com/users/oleg-zinovev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T10:14:29Z","updated_at":"2019-08-13T10:14:29Z","author_association":"CONTRIBUTOR","body":"> @oleg-zinovev support empty parquet files reading is already merged into master ([4f4e1af](https://github.com/apache/drill/commit/4f4e1af53c9abccd1996f3b6841731e68768b48e)). Do you plan on working on adding support for writing empty parquet files? We plan to include it in next Drill release (end of August / beginning of September). If yes, please factor out writing empty parquet and update the PR.\r\n\r\nYes, I think Iâll do it today.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520776279/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520781600","html_url":"https://github.com/apache/drill/pull/1841#issuecomment-520781600","issue_url":"https://api.github.com/repos/apache/drill/issues/1841","id":520781600,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDc4MTYwMA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T10:32:52Z","updated_at":"2019-08-13T10:33:52Z","author_association":"MEMBER","body":"@cgivre if you want to include PR #1840 and #1841 into the upcoming release, please rework these PRs to have proper error handling, to comply with Drill coding style etc. There were similar PRs which undergo the review and have been merged, you can take a look at the code and make appropriate changes. I think it's more reasonable than making code reviewers pointing at the same issues over and over again :(","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520781600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520794009","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-520794009","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":520794009,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDc5NDAwOQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T11:17:52Z","updated_at":"2019-08-13T11:17:52Z","author_association":"MEMBER","body":"Regarding this comment\r\n\r\n> Questions:\r\nTestParquetWriterEmptyFiles#testMultipleWriters now creates several empty files, but not fails, since reading of empty parquet is supported. Should I rewrite comment or remove the test?\r\n\r\nI guess you can remove these tests and add new tests into `org.apache.drill.exec.store.parquet.TestEmptyParquet`.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520794009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520794418","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-520794418","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":520794418,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDc5NDQxOA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T11:19:27Z","updated_at":"2019-08-13T11:19:38Z","author_association":"MEMBER","body":"> Ignores all schemas except last while writing empty parquet file\r\n\r\nPlease provide example...\r\n> Not support empty schemas (e.g. create table .. as select * from empty.json, e.g. {})\r\n\r\nWhat behavior will be in this case? Failure? No-op?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520794418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520795098","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-520795098","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":520795098,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDc5NTA5OA==","user":{"login":"oleg-zinovev","id":17238766,"node_id":"MDQ6VXNlcjE3MjM4NzY2","avatar_url":"https://avatars.githubusercontent.com/u/17238766?v=4","gravatar_id":"","url":"https://api.github.com/users/oleg-zinovev","html_url":"https://github.com/oleg-zinovev","followers_url":"https://api.github.com/users/oleg-zinovev/followers","following_url":"https://api.github.com/users/oleg-zinovev/following{/other_user}","gists_url":"https://api.github.com/users/oleg-zinovev/gists{/gist_id}","starred_url":"https://api.github.com/users/oleg-zinovev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleg-zinovev/subscriptions","organizations_url":"https://api.github.com/users/oleg-zinovev/orgs","repos_url":"https://api.github.com/users/oleg-zinovev/repos","events_url":"https://api.github.com/users/oleg-zinovev/events{/privacy}","received_events_url":"https://api.github.com/users/oleg-zinovev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T11:21:52Z","updated_at":"2019-08-13T11:22:04Z","author_association":"CONTRIBUTOR","body":"> What behavior will be in this case? Failure? No-op?\r\n\r\nRemained unchanged (No-op)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520795098/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520807005","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-520807005","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":520807005,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDgwNzAwNQ==","user":{"login":"oleg-zinovev","id":17238766,"node_id":"MDQ6VXNlcjE3MjM4NzY2","avatar_url":"https://avatars.githubusercontent.com/u/17238766?v=4","gravatar_id":"","url":"https://api.github.com/users/oleg-zinovev","html_url":"https://github.com/oleg-zinovev","followers_url":"https://api.github.com/users/oleg-zinovev/followers","following_url":"https://api.github.com/users/oleg-zinovev/following{/other_user}","gists_url":"https://api.github.com/users/oleg-zinovev/gists{/gist_id}","starred_url":"https://api.github.com/users/oleg-zinovev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleg-zinovev/subscriptions","organizations_url":"https://api.github.com/users/oleg-zinovev/orgs","repos_url":"https://api.github.com/users/oleg-zinovev/repos","events_url":"https://api.github.com/users/oleg-zinovev/events{/privacy}","received_events_url":"https://api.github.com/users/oleg-zinovev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T12:04:54Z","updated_at":"2019-08-13T12:04:54Z","author_association":"CONTRIBUTOR","body":"> Please provide example...\r\n\r\nI added a test TestParquetWriterEmptyFiles#testWriteEmptySchemaChange. As you can see, there is no \"a\" field in the written schema. \r\n\r\nProbably, it would be correct to write schema for all empty scans, but it will lead to writing \"garbage\" empty parquet files, if the scan with data is at the end of batch.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520807005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520807379","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-520807379","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":520807379,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDgwNzM3OQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T12:06:16Z","updated_at":"2019-08-13T12:06:16Z","author_association":"MEMBER","body":"Is there a way to write combined schema in this case?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520807379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520812579","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-520812579","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":520812579,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDgxMjU3OQ==","user":{"login":"oleg-zinovev","id":17238766,"node_id":"MDQ6VXNlcjE3MjM4NzY2","avatar_url":"https://avatars.githubusercontent.com/u/17238766?v=4","gravatar_id":"","url":"https://api.github.com/users/oleg-zinovev","html_url":"https://github.com/oleg-zinovev","followers_url":"https://api.github.com/users/oleg-zinovev/followers","following_url":"https://api.github.com/users/oleg-zinovev/following{/other_user}","gists_url":"https://api.github.com/users/oleg-zinovev/gists{/gist_id}","starred_url":"https://api.github.com/users/oleg-zinovev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleg-zinovev/subscriptions","organizations_url":"https://api.github.com/users/oleg-zinovev/orgs","repos_url":"https://api.github.com/users/oleg-zinovev/repos","events_url":"https://api.github.com/users/oleg-zinovev/events{/privacy}","received_events_url":"https://api.github.com/users/oleg-zinovev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T12:24:08Z","updated_at":"2019-08-13T12:24:21Z","author_association":"CONTRIBUTOR","body":"> Is there a way to write combined schema in this case?\r\n\r\n@arina-ielchiieva , thank you for your comment. \r\n\r\nI can try to make a combined scheme, but:\r\n- What type of field should be written if the first BatchSchema contains field \"A\" with type \"bigint\", and the second - field \"A\" with type \"varchar\"? The last one wins?\r\n- What about union vectors?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520812579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520813625","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-520813625","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":520813625,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDgxMzYyNQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T12:27:28Z","updated_at":"2019-08-13T14:05:10Z","author_association":"MEMBER","body":"Good questions, you can investigate how now union types are handled when there are data. Regarding who wins, maybe you can look into `org.apache.drill.exec.physical.impl.union.UnionAllRecordBatch` to see how it creates combined schema using precedence rules.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520813625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520819862","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-520819862","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":520819862,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDgxOTg2Mg==","user":{"login":"oleg-zinovev","id":17238766,"node_id":"MDQ6VXNlcjE3MjM4NzY2","avatar_url":"https://avatars.githubusercontent.com/u/17238766?v=4","gravatar_id":"","url":"https://api.github.com/users/oleg-zinovev","html_url":"https://github.com/oleg-zinovev","followers_url":"https://api.github.com/users/oleg-zinovev/followers","following_url":"https://api.github.com/users/oleg-zinovev/following{/other_user}","gists_url":"https://api.github.com/users/oleg-zinovev/gists{/gist_id}","starred_url":"https://api.github.com/users/oleg-zinovev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleg-zinovev/subscriptions","organizations_url":"https://api.github.com/users/oleg-zinovev/orgs","repos_url":"https://api.github.com/users/oleg-zinovev/repos","events_url":"https://api.github.com/users/oleg-zinovev/events{/privacy}","received_events_url":"https://api.github.com/users/oleg-zinovev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T12:46:47Z","updated_at":"2019-08-13T12:46:47Z","author_association":"CONTRIBUTOR","body":"> Good questions, you can investigate how now union types are handled. Regarding who wins, maybe you can look into `org.apache.drill.exec.physical.impl.union.UnionAllRecordBatch` to see how it Cretes combined schema using precedence rules.\r\n\r\n@arina-ielchiieva , thanks for your advice. \r\nI will try to make a combined scheme by the end of the week.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520819862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520870667","html_url":"https://github.com/apache/drill/pull/1841#issuecomment-520870667","issue_url":"https://api.github.com/repos/apache/drill/issues/1841","id":520870667,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDg3MDY2Nw==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T14:56:40Z","updated_at":"2019-08-13T14:56:40Z","author_association":"MEMBER","body":"@cgivre, please avoid adding large files to the project resources. One of the files you have added has a size of 57.5 MB (!) (GeoLite2-City.mmdb), other files have a size of several MB.\r\nAlso, since these files are binary, could you please provide information, how they were generated and which information they have, since ASF has some restrictions regarding binary files: https://www.apache.org/legal/release-policy.html","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520870667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520879157","html_url":"https://github.com/apache/drill/pull/1841#issuecomment-520879157","issue_url":"https://api.github.com/repos/apache/drill/issues/1841","id":520879157,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDg3OTE1Nw==","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T15:16:18Z","updated_at":"2019-08-13T15:16:18Z","author_association":"CONTRIBUTOR","body":"@vvysotskyi \r\nRegarding the large files, they are the open version of the  MaxMind geo-locational database for IP addresses.  (https://dev.maxmind.com/geoip/geoip2/geolite2/)  I put a note about this in the `README` but these files are in widespread use in open source security tools, including, I believe some Apache projects such as Metron. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520879157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520891448","html_url":"https://github.com/apache/drill/pull/1841#issuecomment-520891448","issue_url":"https://api.github.com/repos/apache/drill/issues/1841","id":520891448,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDg5MTQ0OA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T15:46:09Z","updated_at":"2019-08-13T15:46:09Z","author_association":"MEMBER","body":"@cgivre taking into account that these files are needed for a couple of functions and their large size, I think we should not allow them into Apache Drill. If these will lead to not adding Geo-IP functions, I think it's much better than enlarging project size. If user needs such functions, he can add them in the classpath.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520891448/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520892090","html_url":"https://github.com/apache/drill/pull/1841#issuecomment-520892090","issue_url":"https://api.github.com/repos/apache/drill/issues/1841","id":520892090,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDg5MjA5MA==","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T15:47:40Z","updated_at":"2019-08-13T15:47:40Z","author_association":"CONTRIBUTOR","body":"Hi Arina, \nWhat if we just require that the files are in the classpath, don't ship them with Drill and if the user wants to use these functions, they can put the files in their classpath.  Would that work?\n\n> On Aug 13, 2019, at 11:46 AM, Arina Ielchiieva <notifications@github.com> wrote:\n> \n> @cgivre <https://github.com/cgivre> taking into account that these files are needed for a couple of functions and their large size, I think we should not allow them into Apache Drill. If these will lead to not adding Geo-IP functions, I think it's much better than enlarging project size. If user needs such functions, he can add them in the classpath.\n> \n> â\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/drill/pull/1841?email_source=notifications&email_token=ABKB7PUVY4IZRU4NZIL2X5LQELJMRA5CNFSM4IK5LY7KYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD4GCYOA#issuecomment-520891448>, or mute the thread <https://github.com/notifications/unsubscribe-auth/ABKB7PSPOSO2BY2E6SUWM3TQELJMRANCNFSM4IK5LY7A>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520892090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520892833","html_url":"https://github.com/apache/drill/pull/1841#issuecomment-520892833","issue_url":"https://api.github.com/repos/apache/drill/issues/1841","id":520892833,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDg5MjgzMw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T15:49:32Z","updated_at":"2019-08-13T15:50:23Z","author_association":"MEMBER","body":"I think this brings too much overhead, if user needs these functions he can include jar with functions and files in the classpath. Having functions that require some special data in the classpath to be working is odd.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520892833/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520893562","html_url":"https://github.com/apache/drill/pull/1841#issuecomment-520893562","issue_url":"https://api.github.com/repos/apache/drill/issues/1841","id":520893562,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDg5MzU2Mg==","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T15:51:14Z","updated_at":"2019-08-13T15:51:14Z","author_association":"CONTRIBUTOR","body":"The reason I'd suggest this is that there are free functions, which are in widespread use, and there are also paid versions with the same functionality.  If we moved it to the classpath, a user could choose whether they want to use the free or paid versions of these repositories. \n-- C\n\n> On Aug 13, 2019, at 11:49 AM, Arina Ielchiieva <notifications@github.com> wrote:\n> \n> I think brings too much overhead, if user needs these functions he can include jar with functions and files in the classpath. Having functions that require some special data in the classpath to be working is odd.\n> \n> â\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/drill/pull/1841?email_source=notifications&email_token=ABKB7PQTEP34VOBGMVWG5XDQELJZJA5CNFSM4IK5LY7KYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD4GDDII#issuecomment-520892833>, or mute the thread <https://github.com/notifications/unsubscribe-auth/ABKB7PQAL7UD7CZV5SV6XF3QELJZJANCNFSM4IK5LY7A>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520893562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/520894758","html_url":"https://github.com/apache/drill/pull/1841#issuecomment-520894758","issue_url":"https://api.github.com/repos/apache/drill/issues/1841","id":520894758,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDg5NDc1OA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T15:54:01Z","updated_at":"2019-08-13T15:54:19Z","author_association":"MEMBER","body":"My point is that it is strange and not common to have functions that do not work out of box. As I said before, you can share these functions in you repo and user can build them from source and add into Drill classpath if needed.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/520894758/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/521174404","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-521174404","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":521174404,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTE3NDQwNA==","user":{"login":"oleg-zinovev","id":17238766,"node_id":"MDQ6VXNlcjE3MjM4NzY2","avatar_url":"https://avatars.githubusercontent.com/u/17238766?v=4","gravatar_id":"","url":"https://api.github.com/users/oleg-zinovev","html_url":"https://github.com/oleg-zinovev","followers_url":"https://api.github.com/users/oleg-zinovev/followers","following_url":"https://api.github.com/users/oleg-zinovev/following{/other_user}","gists_url":"https://api.github.com/users/oleg-zinovev/gists{/gist_id}","starred_url":"https://api.github.com/users/oleg-zinovev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleg-zinovev/subscriptions","organizations_url":"https://api.github.com/users/oleg-zinovev/orgs","repos_url":"https://api.github.com/users/oleg-zinovev/repos","events_url":"https://api.github.com/users/oleg-zinovev/events{/privacy}","received_events_url":"https://api.github.com/users/oleg-zinovev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T09:32:08Z","updated_at":"2019-08-14T09:32:08Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva \r\nSome time spent debugging the test showed that the last schema contains all fields. The field is added in ProjectRecordBatch#setupNewSchemaFromInput. \r\nIn the original version of the test, field A was not added due to plan optimization - condition `1=0` was replaced by` limit 0`\r\n\r\nI can still provide a solution with combining schema if required.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/521174404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/521191646","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-521191646","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":521191646,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTE5MTY0Ng==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T10:28:27Z","updated_at":"2019-08-14T10:28:27Z","author_association":"MEMBER","body":"> @arina-ielchiieva\r\n> Some time spent debugging the test showed that the last schema contains all fields. The field is added in ProjectRecordBatch#setupNewSchemaFromInput.\r\n> In the original version of the test, field A was not added due to plan optimization - condition `1=0` was replaced by` limit 0`\r\n> \r\n> I can still provide a solution with combining schema if required.\r\n\r\nThis case we don't need schema merge,","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/521191646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/521208818","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-521208818","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":521208818,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTIwODgxOA==","user":{"login":"oleg-zinovev","id":17238766,"node_id":"MDQ6VXNlcjE3MjM4NzY2","avatar_url":"https://avatars.githubusercontent.com/u/17238766?v=4","gravatar_id":"","url":"https://api.github.com/users/oleg-zinovev","html_url":"https://github.com/oleg-zinovev","followers_url":"https://api.github.com/users/oleg-zinovev/followers","following_url":"https://api.github.com/users/oleg-zinovev/following{/other_user}","gists_url":"https://api.github.com/users/oleg-zinovev/gists{/gist_id}","starred_url":"https://api.github.com/users/oleg-zinovev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleg-zinovev/subscriptions","organizations_url":"https://api.github.com/users/oleg-zinovev/orgs","repos_url":"https://api.github.com/users/oleg-zinovev/repos","events_url":"https://api.github.com/users/oleg-zinovev/events{/privacy}","received_events_url":"https://api.github.com/users/oleg-zinovev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T11:31:28Z","updated_at":"2019-08-14T11:31:28Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva , thanks for review. Fixed.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/521208818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/521263751","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-521263751","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":521263751,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTI2Mzc1MQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T14:14:22Z","updated_at":"2019-08-14T14:14:22Z","author_association":"MEMBER","body":"@oleg-zinovev thanks for making the changes, a couple of minor comments are left...","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/521263751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/521408383","html_url":"https://github.com/apache/drill/pull/1779#issuecomment-521408383","issue_url":"https://api.github.com/repos/apache/drill/issues/1779","id":521408383,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTQwODM4Mw==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T20:35:37Z","updated_at":"2019-08-14T20:35:37Z","author_association":"CONTRIBUTOR","body":"@agozhiy I've done the changes requested. Please review.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/521408383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/521581932","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-521581932","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":521581932,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTU4MTkzMg==","user":{"login":"oleg-zinovev","id":17238766,"node_id":"MDQ6VXNlcjE3MjM4NzY2","avatar_url":"https://avatars.githubusercontent.com/u/17238766?v=4","gravatar_id":"","url":"https://api.github.com/users/oleg-zinovev","html_url":"https://github.com/oleg-zinovev","followers_url":"https://api.github.com/users/oleg-zinovev/followers","following_url":"https://api.github.com/users/oleg-zinovev/following{/other_user}","gists_url":"https://api.github.com/users/oleg-zinovev/gists{/gist_id}","starred_url":"https://api.github.com/users/oleg-zinovev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oleg-zinovev/subscriptions","organizations_url":"https://api.github.com/users/oleg-zinovev/orgs","repos_url":"https://api.github.com/users/oleg-zinovev/repos","events_url":"https://api.github.com/users/oleg-zinovev/events{/privacy}","received_events_url":"https://api.github.com/users/oleg-zinovev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T09:37:04Z","updated_at":"2019-08-15T09:37:04Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva , thanks for review. Done","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/521581932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/521618404","html_url":"https://github.com/apache/drill/pull/1836#issuecomment-521618404","issue_url":"https://api.github.com/repos/apache/drill/issues/1836","id":521618404,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTYxODQwNA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T12:05:57Z","updated_at":"2019-08-15T12:05:57Z","author_association":"MEMBER","body":"Ran all tests on the test cluster, all passed. LGTM, +1\r\n@oleg-zinovev thanks for making the changes.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/521618404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/521708575","html_url":"https://github.com/apache/drill/pull/1843#issuecomment-521708575","issue_url":"https://api.github.com/repos/apache/drill/issues/1843","id":521708575,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTcwODU3NQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T16:36:13Z","updated_at":"2019-08-15T18:00:18Z","author_association":"CONTRIBUTOR","body":"@vvysotskyi, thanks for making this change. It will allow certain other tasks to be much easier.\r\n\r\nThe first observation is that it would be best not to put the RowSet and ResultSetLoader stuff in the same package: they represent two independent systems and our package naming should make that clear.\r\n\r\nPerhaps\r\n\r\n1) Rename the existing physical.rowSet to physical.resultSet.\r\n2) Move the RowSet classes to a new physical.rowSet.\r\n\r\nThe difference, so we're clear, is that RowSet works on a single batch, while the ResultSet works across a stream of batches. If operators, say, want to use the row set stuff to read batches, then we need a ResultSetReader that automagically handles things like schema changes across batches, etc.\r\n\r\nTo be very clear:\r\n\r\n\"row set\" -- A collection of rows. Typically called a \"batch\" in Drill.\r\n\"result set\" -- A collection of rows for an entire query. Typically consists of multiple (related) batches.\r\n\r\nI used the term \"row set\" only because the classes would otherwise get lost with all the existing \"Batch\" classes. And, we don't have a good name for the result set. I borrowed this name from SQL.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/521708575/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/521715916","html_url":"https://github.com/apache/drill/pull/1843#issuecomment-521715916","issue_url":"https://api.github.com/repos/apache/drill/issues/1843","id":521715916,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTcxNTkxNg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T16:58:13Z","updated_at":"2019-08-15T16:58:13Z","author_association":"CONTRIBUTOR","body":"Two general comments. First, not sure why we needed to convert compact single-line methods (a long-time Drill standard) into four-line methods. Perhaps this is the result of an overly-helpful code formatter?\r\n\r\nSecond, looks like a bunch of nested helper classes were moved elsewhere. Not sure this is helpful as it clutters the code with small files used in exactly one place. The nested classes (a perfectly normal Java practice) makes clear that these are, in fact, helpers.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/521715916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/521967080","html_url":"https://github.com/apache/drill/pull/1843#issuecomment-521967080","issue_url":"https://api.github.com/repos/apache/drill/issues/1843","id":521967080,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTk2NzA4MA==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-16T10:39:23Z","updated_at":"2019-08-16T10:39:23Z","author_association":"MEMBER","body":"@paul-rogers, I have reverted debatable formatting changes. Let's postpone this discussion until we decide to add some additional checkstyle rules.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/521967080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/521974104","html_url":"https://github.com/apache/drill/pull/1843#issuecomment-521974104","issue_url":"https://api.github.com/repos/apache/drill/issues/1843","id":521974104,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTk3NDEwNA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-16T11:10:29Z","updated_at":"2019-08-16T11:10:29Z","author_association":"MEMBER","body":"Overall, LGTM. Let's wait for @paul-rogers approval.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/521974104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/522068340","html_url":"https://github.com/apache/drill/pull/1843#issuecomment-522068340","issue_url":"https://api.github.com/repos/apache/drill/issues/1843","id":522068340,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjA2ODM0MA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-16T16:23:39Z","updated_at":"2019-08-16T16:23:39Z","author_association":"MEMBER","body":"@paul-rogers \r\n\r\n> I also recall that Arina once suggested removing an anonymous inner class in favor of a declared class. \r\n\r\nI doubt this is true :) Maybe thrown out of the context though...","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/522068340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/522085882","html_url":"https://github.com/apache/drill/pull/1843#issuecomment-522085882","issue_url":"https://api.github.com/repos/apache/drill/issues/1843","id":522085882,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjA4NTg4Mg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-16T17:20:30Z","updated_at":"2019-08-16T17:20:30Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, could be my misunderstanding, though I do recall making the change... Point is, both forms are perfectly valid Java; it is just a preference. To avoid misunderstandings we might want to add to our formatting rules.\r\n\r\nAgain, just to be clear, I have no issue with whatever rules we decide on; but let's decide on a common set to avoid ping-pong format changes as each of us touches the code.\r\n\r\nAs it turns out, Charles started a discussion on the dev list. Perhaps you can offer there the format rules you've found to work, such as `int[] foo;` instead of `int foo[];`, classes-at-bottom, no single-line method declarations, preferred import sort order and so on. Might also include preferences for Java over Guava methods for common operations. That way, we can all follow the best practices you've discovered.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/522085882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/522131852","html_url":"https://github.com/apache/drill/pull/1843#issuecomment-522131852","issue_url":"https://api.github.com/repos/apache/drill/issues/1843","id":522131852,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjEzMTg1Mg==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-16T19:54:14Z","updated_at":"2019-08-16T19:54:14Z","author_association":"MEMBER","body":"The latest change caused tests failures. It is appeared because with new BatchSchemaBuilder TupleMetadata was used more frequently and some code does not set zero scale and precision, but PrimitiveColumnMetadata does. I'll let you know when this issue is fixed.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/522131852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/522241693","html_url":"https://github.com/apache/drill/pull/1843#issuecomment-522241693","issue_url":"https://api.github.com/repos/apache/drill/issues/1843","id":522241693,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI0MTY5Mw==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T14:25:14Z","updated_at":"2019-08-17T14:25:14Z","author_association":"MEMBER","body":"I have reverted breaking change, so for now, all tests passed.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/522241693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/522497695","html_url":"https://github.com/apache/drill/pull/1793#issuecomment-522497695","issue_url":"https://api.github.com/repos/apache/drill/issues/1793","id":522497695,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjQ5NzY5NQ==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T09:52:03Z","updated_at":"2019-08-19T09:52:03Z","author_association":"MEMBER","body":"@cgivre, could you please resolve corresponding Jira ticket after the PR is merged?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/522497695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/522649134","html_url":"https://github.com/apache/drill/pull/1793#issuecomment-522649134","issue_url":"https://api.github.com/repos/apache/drill/issues/1793","id":522649134,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjY0OTEzNA==","user":{"login":"coderfender","id":11091419,"node_id":"MDQ6VXNlcjExMDkxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/11091419?v=4","gravatar_id":"","url":"https://api.github.com/users/coderfender","html_url":"https://github.com/coderfender","followers_url":"https://api.github.com/users/coderfender/followers","following_url":"https://api.github.com/users/coderfender/following{/other_user}","gists_url":"https://api.github.com/users/coderfender/gists{/gist_id}","starred_url":"https://api.github.com/users/coderfender/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coderfender/subscriptions","organizations_url":"https://api.github.com/users/coderfender/orgs","repos_url":"https://api.github.com/users/coderfender/repos","events_url":"https://api.github.com/users/coderfender/events{/privacy}","received_events_url":"https://api.github.com/users/coderfender/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T16:18:41Z","updated_at":"2019-08-19T16:18:41Z","author_association":"NONE","body":"@vvysotskyi , I resolved the issue. Thank you ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/522649134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/522968730","html_url":"https://github.com/apache/drill/pull/1845#issuecomment-522968730","issue_url":"https://api.github.com/repos/apache/drill/issues/1845","id":522968730,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjk2ODczMA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T11:19:36Z","updated_at":"2019-08-20T11:20:32Z","author_association":"MEMBER","body":"@agozhiy could you provide more context to this issue. Why this approach was chosen?\r\nWhy calcite `java.sql.Driver` is chosen over Drill's one? What if other `java.sql.Driver` will be present in other lib? Which one will be chosen? From the first glance, current approach looks brittle, taking into account that some other file might be chosen over Drill's one. Is there a way to merge all `java.sql.Driver` into one or excluding all unnecessary? Since there are no unit tests to ensure the proper `java.sql.Driver` is chosen, we need to make sure such issue won't pop up again.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/522968730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/523006847","html_url":"https://github.com/apache/drill/pull/1844#issuecomment-523006847","issue_url":"https://api.github.com/repos/apache/drill/issues/1844","id":523006847,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzAwNjg0Nw==","user":{"login":"ihuzenko","id":4282630,"node_id":"MDQ6VXNlcjQyODI2MzA=","avatar_url":"https://avatars.githubusercontent.com/u/4282630?v=4","gravatar_id":"","url":"https://api.github.com/users/ihuzenko","html_url":"https://github.com/ihuzenko","followers_url":"https://api.github.com/users/ihuzenko/followers","following_url":"https://api.github.com/users/ihuzenko/following{/other_user}","gists_url":"https://api.github.com/users/ihuzenko/gists{/gist_id}","starred_url":"https://api.github.com/users/ihuzenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ihuzenko/subscriptions","organizations_url":"https://api.github.com/users/ihuzenko/orgs","repos_url":"https://api.github.com/users/ihuzenko/repos","events_url":"https://api.github.com/users/ihuzenko/events{/privacy}","received_events_url":"https://api.github.com/users/ihuzenko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T13:09:40Z","updated_at":"2019-08-20T13:09:40Z","author_association":"MEMBER","body":"@arina-ielchiieva , I've updated the PR. Please take a look again. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/523006847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/523029588","html_url":"https://github.com/apache/drill/pull/1845#issuecomment-523029588","issue_url":"https://api.github.com/repos/apache/drill/issues/1845","id":523029588,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzAyOTU4OA==","user":{"login":"agozhiy","id":31588230,"node_id":"MDQ6VXNlcjMxNTg4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/31588230?v=4","gravatar_id":"","url":"https://api.github.com/users/agozhiy","html_url":"https://github.com/agozhiy","followers_url":"https://api.github.com/users/agozhiy/followers","following_url":"https://api.github.com/users/agozhiy/following{/other_user}","gists_url":"https://api.github.com/users/agozhiy/gists{/gist_id}","starred_url":"https://api.github.com/users/agozhiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agozhiy/subscriptions","organizations_url":"https://api.github.com/users/agozhiy/orgs","repos_url":"https://api.github.com/users/agozhiy/repos","events_url":"https://api.github.com/users/agozhiy/events{/privacy}","received_events_url":"https://api.github.com/users/agozhiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T14:02:41Z","updated_at":"2019-08-20T14:02:41Z","author_association":"MEMBER","body":"@arina-ielchiieva, There are two artifacts that provide java.sql.Driver to the jar. Apparently the wrong one overwrites the right. So I excluded the file from Avatica to resolve the conflict.\r\nInitially I tried to combine the files into one so both Avatica and Drill jdbc drivers were contained in java.sql.Driver. But as Avatica driver itself is not present in the final jar, error occurred during initialization and so no drivers were registered automatically at all. It can be fixed if swap driver names in java.sql.Driver, but this is unacceptable.\r\nThe best solution would be to include the file from a specific artifact and exclude all the others but I couldn't find a way to do so. But I agree that the current approach is not safe. I'll need to look into it a bit more.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/523029588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/523075544","html_url":"https://github.com/apache/drill/pull/1845#issuecomment-523075544","issue_url":"https://api.github.com/repos/apache/drill/issues/1845","id":523075544,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzA3NTU0NA==","user":{"login":"agozhiy","id":31588230,"node_id":"MDQ6VXNlcjMxNTg4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/31588230?v=4","gravatar_id":"","url":"https://api.github.com/users/agozhiy","html_url":"https://github.com/agozhiy","followers_url":"https://api.github.com/users/agozhiy/followers","following_url":"https://api.github.com/users/agozhiy/following{/other_user}","gists_url":"https://api.github.com/users/agozhiy/gists{/gist_id}","starred_url":"https://api.github.com/users/agozhiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agozhiy/subscriptions","organizations_url":"https://api.github.com/users/agozhiy/orgs","repos_url":"https://api.github.com/users/agozhiy/repos","events_url":"https://api.github.com/users/agozhiy/events{/privacy}","received_events_url":"https://api.github.com/users/agozhiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T15:47:24Z","updated_at":"2019-08-20T15:47:24Z","author_association":"MEMBER","body":"From the [shade plugin documentation:](http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html)\r\n> From a logical perspective, includes are processed before excludes, thus it's possible to use an include to collect a set of files from the archive then use excludes to further reduce the set.\r\n\r\nSo we cannot just exclude everything and then include a specific resource. Instead, we should exclude all interfering ones, that is the approach used in the PR.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/523075544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/523434030","html_url":"https://github.com/apache/drill/pull/1844#issuecomment-523434030","issue_url":"https://api.github.com/repos/apache/drill/issues/1844","id":523434030,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzQzNDAzMA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T12:27:29Z","updated_at":"2019-08-21T12:27:29Z","author_association":"MEMBER","body":"+1, thanks for making the changes.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/523434030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/523450039","html_url":"https://github.com/apache/drill/pull/1844#issuecomment-523450039","issue_url":"https://api.github.com/repos/apache/drill/issues/1844","id":523450039,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzQ1MDAzOQ==","user":{"login":"ihuzenko","id":4282630,"node_id":"MDQ6VXNlcjQyODI2MzA=","avatar_url":"https://avatars.githubusercontent.com/u/4282630?v=4","gravatar_id":"","url":"https://api.github.com/users/ihuzenko","html_url":"https://github.com/ihuzenko","followers_url":"https://api.github.com/users/ihuzenko/followers","following_url":"https://api.github.com/users/ihuzenko/following{/other_user}","gists_url":"https://api.github.com/users/ihuzenko/gists{/gist_id}","starred_url":"https://api.github.com/users/ihuzenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ihuzenko/subscriptions","organizations_url":"https://api.github.com/users/ihuzenko/orgs","repos_url":"https://api.github.com/users/ihuzenko/repos","events_url":"https://api.github.com/users/ihuzenko/events{/privacy}","received_events_url":"https://api.github.com/users/ihuzenko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T13:11:13Z","updated_at":"2019-08-21T13:11:13Z","author_association":"MEMBER","body":"@vvysotskyi , @arina-ielchiieva thanks for review :) ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/523450039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/523468026","html_url":"https://github.com/apache/drill/pull/1845#issuecomment-523468026","issue_url":"https://api.github.com/repos/apache/drill/issues/1845","id":523468026,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzQ2ODAyNg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T13:55:33Z","updated_at":"2019-08-21T13:55:33Z","author_association":"MEMBER","body":"+1, please squash the commits.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/523468026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/523866520","html_url":"https://github.com/apache/drill/pull/1779#issuecomment-523866520","issue_url":"https://api.github.com/repos/apache/drill/issues/1779","id":523866520,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzg2NjUyMA==","user":{"login":"agozhiy","id":31588230,"node_id":"MDQ6VXNlcjMxNTg4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/31588230?v=4","gravatar_id":"","url":"https://api.github.com/users/agozhiy","html_url":"https://github.com/agozhiy","followers_url":"https://api.github.com/users/agozhiy/followers","following_url":"https://api.github.com/users/agozhiy/following{/other_user}","gists_url":"https://api.github.com/users/agozhiy/gists{/gist_id}","starred_url":"https://api.github.com/users/agozhiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agozhiy/subscriptions","organizations_url":"https://api.github.com/users/agozhiy/orgs","repos_url":"https://api.github.com/users/agozhiy/repos","events_url":"https://api.github.com/users/agozhiy/events{/privacy}","received_events_url":"https://api.github.com/users/agozhiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T11:33:01Z","updated_at":"2019-08-22T11:33:01Z","author_association":"MEMBER","body":"@kkhatua, please address one more comment and squash the commits.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/523866520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/523979827","html_url":"https://github.com/apache/drill/pull/1846#issuecomment-523979827","issue_url":"https://api.github.com/repos/apache/drill/issues/1846","id":523979827,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzk3OTgyNw==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T16:30:58Z","updated_at":"2019-08-22T16:30:58Z","author_association":"MEMBER","body":"@arina-ielchiieva, thanks for the review, I have addressed CR comments. Please take a look again.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/523979827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/523982382","html_url":"https://github.com/apache/drill/pull/1846#issuecomment-523982382","issue_url":"https://api.github.com/repos/apache/drill/issues/1846","id":523982382,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzk4MjM4Mg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T16:38:13Z","updated_at":"2019-08-22T16:38:13Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/523982382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]