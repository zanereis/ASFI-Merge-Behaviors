[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057240621","html_url":"https://github.com/apache/iceberg/pull/4218#issuecomment-1057240621","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4218","id":1057240621,"node_id":"IC_kwDOCW7NX84_BDYt","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T18:22:45Z","updated_at":"2022-03-02T18:22:45Z","author_association":"NONE","body":"https://github.com/apache/iceberg/blob/c45b8b4c6e4d3e0ff5e7ce8ea4ed7296d6e1b12d/core/src/main/java/org/apache/iceberg/data/GenericRecord.java#L36-L46\r\n\r\nNote that this uses identity (`==`) equality for key lookup. If you are using equivalent (`.equals(o)`) instances instead then this will be a cache miss and the cache won't be providing much value. Since it is weak keys this seems like a likely mistake and of course lets the GC collect aggressively, so you might not get a lot of reuse. It is often a helpful feature for cases like caching request-scoped data, and I'm not familiar enough with the code base to assess if this is a problematic usage. Typically a bounded cache is better and more explicit, but does require some mental effort to decide on a decent maximum size.\r\n\r\nOtherwise if should perform similarly to a ConcurrentHashMap from the caller's perspective.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057240621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057409102","html_url":"https://github.com/apache/iceberg/issues/2456#issuecomment-1057409102","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2456","id":1057409102,"node_id":"IC_kwDOCW7NX84_BshO","user":{"login":"vikrambohra","id":24703997,"node_id":"MDQ6VXNlcjI0NzAzOTk3","avatar_url":"https://avatars.githubusercontent.com/u/24703997?v=4","gravatar_id":"","url":"https://api.github.com/users/vikrambohra","html_url":"https://github.com/vikrambohra","followers_url":"https://api.github.com/users/vikrambohra/followers","following_url":"https://api.github.com/users/vikrambohra/following{/other_user}","gists_url":"https://api.github.com/users/vikrambohra/gists{/gist_id}","starred_url":"https://api.github.com/users/vikrambohra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vikrambohra/subscriptions","organizations_url":"https://api.github.com/users/vikrambohra/orgs","repos_url":"https://api.github.com/users/vikrambohra/repos","events_url":"https://api.github.com/users/vikrambohra/events{/privacy}","received_events_url":"https://api.github.com/users/vikrambohra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T21:27:18Z","updated_at":"2022-03-02T21:27:18Z","author_association":"NONE","body":"any ideas @rdblue ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057409102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057456261","html_url":"https://github.com/apache/iceberg/pull/4208#issuecomment-1057456261","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4208","id":1057456261,"node_id":"IC_kwDOCW7NX84_B4CF","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T22:25:46Z","updated_at":"2022-03-02T22:25:46Z","author_association":"CONTRIBUTOR","body":"It's out of date again...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057456261/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057476165","html_url":"https://github.com/apache/iceberg/pull/4211#issuecomment-1057476165","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4211","id":1057476165,"node_id":"IC_kwDOCW7NX84_B85F","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T22:57:57Z","updated_at":"2022-03-02T22:57:57Z","author_association":"MEMBER","body":"Thanks @szehon-ho ! This is some great coverage to have!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057476165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057563888","html_url":"https://github.com/apache/iceberg/pull/4254#issuecomment-1057563888","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4254","id":1057563888,"node_id":"IC_kwDOCW7NX84_CSTw","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T01:17:29Z","updated_at":"2022-03-03T01:17:29Z","author_association":"CONTRIBUTOR","body":"@danielcweeks as we discussed in the community sync, this is the first step to add the metrics context support in other FileIOs, just move things to `CatalogProperties` to initialize the metrics context like other dynamically loaded classes, any comments?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057563888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057570924","html_url":"https://github.com/apache/iceberg/pull/3973#issuecomment-1057570924","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3973","id":1057570924,"node_id":"IC_kwDOCW7NX84_CUBs","user":{"login":"kingeasternsun","id":5291739,"node_id":"MDQ6VXNlcjUyOTE3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5291739?v=4","gravatar_id":"","url":"https://api.github.com/users/kingeasternsun","html_url":"https://github.com/kingeasternsun","followers_url":"https://api.github.com/users/kingeasternsun/followers","following_url":"https://api.github.com/users/kingeasternsun/following{/other_user}","gists_url":"https://api.github.com/users/kingeasternsun/gists{/gist_id}","starred_url":"https://api.github.com/users/kingeasternsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingeasternsun/subscriptions","organizations_url":"https://api.github.com/users/kingeasternsun/orgs","repos_url":"https://api.github.com/users/kingeasternsun/repos","events_url":"https://api.github.com/users/kingeasternsun/events{/privacy}","received_events_url":"https://api.github.com/users/kingeasternsun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T01:31:58Z","updated_at":"2022-03-03T01:32:40Z","author_association":"CONTRIBUTOR","body":"> I think most of my main concerns are wrapped up, just some formatting fixes left. I think as a follow up we should deprecate all the public methods not using \"parallelism\", not important to do it right int his PR though.\r\n\r\n\r\nI thinks the sentence ` int hist PR` should be `in this PR` ?  @RussellSpitzer  .  And did you mean  `deprecate all the public methods not using \"parallelism\" ` in another PR ?  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057570924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057574865","html_url":"https://github.com/apache/iceberg/pull/3973#issuecomment-1057574865","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3973","id":1057574865,"node_id":"IC_kwDOCW7NX84_CU_R","user":{"login":"kingeasternsun","id":5291739,"node_id":"MDQ6VXNlcjUyOTE3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5291739?v=4","gravatar_id":"","url":"https://api.github.com/users/kingeasternsun","html_url":"https://github.com/kingeasternsun","followers_url":"https://api.github.com/users/kingeasternsun/followers","following_url":"https://api.github.com/users/kingeasternsun/following{/other_user}","gists_url":"https://api.github.com/users/kingeasternsun/gists{/gist_id}","starred_url":"https://api.github.com/users/kingeasternsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingeasternsun/subscriptions","organizations_url":"https://api.github.com/users/kingeasternsun/orgs","repos_url":"https://api.github.com/users/kingeasternsun/repos","events_url":"https://api.github.com/users/kingeasternsun/events{/privacy}","received_events_url":"https://api.github.com/users/kingeasternsun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T01:40:28Z","updated_at":"2022-03-03T01:40:28Z","author_association":"CONTRIBUTOR","body":"could you please help review this PR  too? @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057574865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057577620","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1057577620","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1057577620,"node_id":"IC_kwDOCW7NX84_CVqU","user":{"login":"zhengchar","id":58673451,"node_id":"MDQ6VXNlcjU4NjczNDUx","avatar_url":"https://avatars.githubusercontent.com/u/58673451?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengchar","html_url":"https://github.com/zhengchar","followers_url":"https://api.github.com/users/zhengchar/followers","following_url":"https://api.github.com/users/zhengchar/following{/other_user}","gists_url":"https://api.github.com/users/zhengchar/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengchar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengchar/subscriptions","organizations_url":"https://api.github.com/users/zhengchar/orgs","repos_url":"https://api.github.com/users/zhengchar/repos","events_url":"https://api.github.com/users/zhengchar/events{/privacy}","received_events_url":"https://api.github.com/users/zhengchar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T01:46:49Z","updated_at":"2022-03-03T01:46:49Z","author_association":"NONE","body":"> I just copied the solution from Slack here for further searching:\r\n> \r\n> https://apache-iceberg.slack.com/archives/C025PH0G1D4/p1646033885013799?thread_ts=1645676203.340179&cid=C025PH0G1D4\r\n> \r\n> > hi [@Steven Wu](https://apache-iceberg.slack.com/team/U02CNF23RTL) [@Kyle Bendickson](https://apache-iceberg.slack.com/team/U0260PLFVBM), thanks for your help .\r\n> > it really help me a lot .\r\n> > i custom a partitioner that is consistent with iceberg's bucketing algorithm.\r\n> > so disable the shuffling (DistributionMode.HASH , It can still handle small files.\r\n> \r\n> ```scala\r\n> val kafkaStream.partitionCustom(new Partitioner[String]() {\r\n>               val hash = Hashing.murmur3_32()\r\n>               override def partition(key: String, numPartitions: Int): Int = {\r\n>                 val res = hash.hashString(key, StandardCharsets.UTF_8).asInt()\r\n>                 (Integer.MAX_VALUE & res) % numPartitions\r\n>               }\r\n>             },value=>value.getField(0).toString)\r\n> FlinkSink.forRow(finalStream.javaStream,tableSchema)\r\n>           .tableLoader(loader)\r\n>           .writeParallelism(sinkParallelism)\r\n>           .distributionMode(DistributionMode.NONE)\r\n>           .build()\r\n> ```\r\n\r\nHi @openinx,\r\n\r\nThanks for your explanation. \r\n\r\nI have tried the solution above. I found the  data skew problem still here on IcebergWriter stage.\r\n\r\nIn my opinion,  there are two points:\r\n- we need a method to distribute data to different task evenly, but I think the HASH method is not very fit. So I tried to calculate a weight value for every partition, then mod to different task to  execute. \r\n- If mode 'NONE' is used, I think a task will handle multi-partition data, on pos/eq deletion procedure will cause OOM and may occur little file problem. This is also a resource distribution problem. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057577620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057589261","html_url":"https://github.com/apache/iceberg/issues/4257#issuecomment-1057589261","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4257","id":1057589261,"node_id":"IC_kwDOCW7NX84_CYgN","user":{"login":"sumeetgajjar","id":7351922,"node_id":"MDQ6VXNlcjczNTE5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7351922?v=4","gravatar_id":"","url":"https://api.github.com/users/sumeetgajjar","html_url":"https://github.com/sumeetgajjar","followers_url":"https://api.github.com/users/sumeetgajjar/followers","following_url":"https://api.github.com/users/sumeetgajjar/following{/other_user}","gists_url":"https://api.github.com/users/sumeetgajjar/gists{/gist_id}","starred_url":"https://api.github.com/users/sumeetgajjar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumeetgajjar/subscriptions","organizations_url":"https://api.github.com/users/sumeetgajjar/orgs","repos_url":"https://api.github.com/users/sumeetgajjar/repos","events_url":"https://api.github.com/users/sumeetgajjar/events{/privacy}","received_events_url":"https://api.github.com/users/sumeetgajjar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T02:10:40Z","updated_at":"2022-03-03T02:10:40Z","author_association":"CONTRIBUTOR","body":"I am working on this, will publish a PR soon :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057589261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057641009","html_url":"https://github.com/apache/iceberg/pull/2925#issuecomment-1057641009","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2925","id":1057641009,"node_id":"IC_kwDOCW7NX84_ClIx","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T03:58:14Z","updated_at":"2022-03-03T03:58:14Z","author_association":"COLLABORATOR","body":"@aokolnychyi thanks for the review, addressed the comments and implemented snapshot isolation + tests based on the general agreement.  Will also change the name of the pr to reflect","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057641009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057663216","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1057663216","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1057663216,"node_id":"IC_kwDOCW7NX84_Cqjw","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T04:47:01Z","updated_at":"2022-03-03T04:47:01Z","author_association":"CONTRIBUTOR","body":"Thanks, @ConeyLiu. Let's wait for test results.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057663216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057676050","html_url":"https://github.com/apache/iceberg/pull/4248#issuecomment-1057676050","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4248","id":1057676050,"node_id":"IC_kwDOCW7NX84_CtsS","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T05:18:47Z","updated_at":"2022-03-03T05:18:47Z","author_association":"CONTRIBUTOR","body":"thanks, mostly look good to me! There is also a test in integration tests related to this, could you update that as well?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057676050/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057695975","html_url":"https://github.com/apache/iceberg/pull/2925#issuecomment-1057695975","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2925","id":1057695975,"node_id":"IC_kwDOCW7NX84_Cyjn","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T05:44:08Z","updated_at":"2022-03-03T05:44:08Z","author_association":"CONTRIBUTOR","body":"Thanks, @szehon-ho! This is awesome work! Thanks others for reviewing too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057695975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057698463","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1057698463","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1057698463,"node_id":"IC_kwDOCW7NX84_CzKf","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T05:46:51Z","updated_at":"2022-03-03T05:46:51Z","author_association":"CONTRIBUTOR","body":"Great work, @ConeyLiu! This has been an open issue for quite some time. We still have some remaining work that we will continue to discuss in #4159.\r\n\r\nThanks everyone for reviews!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057698463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057728180","html_url":"https://github.com/apache/iceberg/pull/3810#issuecomment-1057728180","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3810","id":1057728180,"node_id":"IC_kwDOCW7NX84_C6a0","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T06:45:14Z","updated_at":"2022-03-03T06:45:14Z","author_association":"CONTRIBUTOR","body":"Thank you all for reviewing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057728180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057732451","html_url":"https://github.com/apache/iceberg/pull/3681#issuecomment-1057732451","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3681","id":1057732451,"node_id":"IC_kwDOCW7NX84_C7dj","user":{"login":"yittg","id":4429171,"node_id":"MDQ6VXNlcjQ0MjkxNzE=","avatar_url":"https://avatars.githubusercontent.com/u/4429171?v=4","gravatar_id":"","url":"https://api.github.com/users/yittg","html_url":"https://github.com/yittg","followers_url":"https://api.github.com/users/yittg/followers","following_url":"https://api.github.com/users/yittg/following{/other_user}","gists_url":"https://api.github.com/users/yittg/gists{/gist_id}","starred_url":"https://api.github.com/users/yittg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yittg/subscriptions","organizations_url":"https://api.github.com/users/yittg/orgs","repos_url":"https://api.github.com/users/yittg/repos","events_url":"https://api.github.com/users/yittg/events{/privacy}","received_events_url":"https://api.github.com/users/yittg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T06:52:59Z","updated_at":"2022-03-03T06:52:59Z","author_association":"CONTRIBUTOR","body":"I have another concern about this change: should we bind the watermark strategy within the table metadata? I prefer  binding it with the job instead of the table.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057732451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057868941","html_url":"https://github.com/apache/iceberg/pull/4252#issuecomment-1057868941","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4252","id":1057868941,"node_id":"IC_kwDOCW7NX84_DcyN","user":{"login":"0xffmeta","id":98149057,"node_id":"U_kgDOBdmiwQ","avatar_url":"https://avatars.githubusercontent.com/u/98149057?v=4","gravatar_id":"","url":"https://api.github.com/users/0xffmeta","html_url":"https://github.com/0xffmeta","followers_url":"https://api.github.com/users/0xffmeta/followers","following_url":"https://api.github.com/users/0xffmeta/following{/other_user}","gists_url":"https://api.github.com/users/0xffmeta/gists{/gist_id}","starred_url":"https://api.github.com/users/0xffmeta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0xffmeta/subscriptions","organizations_url":"https://api.github.com/users/0xffmeta/orgs","repos_url":"https://api.github.com/users/0xffmeta/repos","events_url":"https://api.github.com/users/0xffmeta/events{/privacy}","received_events_url":"https://api.github.com/users/0xffmeta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T09:52:37Z","updated_at":"2022-03-03T09:52:37Z","author_association":"CONTRIBUTOR","body":"Hello @aokolnychyi @RussellSpitzer , this is the PR to backport the change in [PR](https://github.com/apache/iceberg/pull/4152). Could you help to review this PR when you have some time? ðŸ˜„ ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057868941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057879315","html_url":"https://github.com/apache/iceberg/pull/4218#issuecomment-1057879315","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4218","id":1057879315,"node_id":"IC_kwDOCW7NX84_DfUT","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T10:04:04Z","updated_at":"2022-03-03T10:04:04Z","author_association":"CONTRIBUTOR","body":"@ben-manes:\r\n> Note that this uses identity (`==`) equality for key lookup.\r\n\r\nWe are reusing the `struct` objects, so `==` should be fine. @rbalamohan checked and he wrote:\r\n> Probed further:   It doesn't look like a cache miss, but the computation of \"get\" in \"Caffeine\" cache itself is expensive with operations like lookups, afterreads, stats updates, fork-join for purging etc.  \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057879315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057976891","html_url":"https://github.com/apache/iceberg/pull/4248#issuecomment-1057976891","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4248","id":1057976891,"node_id":"IC_kwDOCW7NX84_D3I7","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T12:06:09Z","updated_at":"2022-03-03T17:35:27Z","author_association":"CONTRIBUTOR","body":"Thanks @jackye1995 !! \r\n\r\nupdated the integration Test for the same and verified it by running locally","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1057976891/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058010195","html_url":"https://github.com/apache/iceberg/pull/4050#issuecomment-1058010195","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4050","id":1058010195,"node_id":"IC_kwDOCW7NX84_D_RT","user":{"login":"steveloughran","id":162090,"node_id":"MDQ6VXNlcjE2MjA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/162090?v=4","gravatar_id":"","url":"https://api.github.com/users/steveloughran","html_url":"https://github.com/steveloughran","followers_url":"https://api.github.com/users/steveloughran/followers","following_url":"https://api.github.com/users/steveloughran/following{/other_user}","gists_url":"https://api.github.com/users/steveloughran/gists{/gist_id}","starred_url":"https://api.github.com/users/steveloughran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveloughran/subscriptions","organizations_url":"https://api.github.com/users/steveloughran/orgs","repos_url":"https://api.github.com/users/steveloughran/repos","events_url":"https://api.github.com/users/steveloughran/events{/privacy}","received_events_url":"https://api.github.com/users/steveloughran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T12:50:40Z","updated_at":"2022-03-03T12:50:40Z","author_association":"CONTRIBUTOR","body":"FWIIW hadoop 3.3.1 has a new IOStatistics API where anything can be a stats source (input stream, output stream, remote iterator, job committer), and the stats can be aggregated and serialized as java or json.\r\nexamples of stats collected during manifest committer job where time to perform stages in task commits are aggregated into final report\r\nhttps://github.com/apache/hadoop/pull/2971#issuecomment-1057227746\r\n\r\nwhat i next want to do here is have thread level stats with s3a, abfs, gcs, input and output streams updating these, and then the task committer collecting these, including in intermediate manifests, and have these pulled into the job reports (which are saved to _SUCCESS and to an optional report dir). that way we can measure full cost of a query, including store throttling....","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058010195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058112588","html_url":"https://github.com/apache/iceberg/pull/3784#issuecomment-1058112588","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3784","id":1058112588,"node_id":"IC_kwDOCW7NX84_EYRM","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T14:44:03Z","updated_at":"2022-03-03T14:44:03Z","author_association":"CONTRIBUTOR","body":"@openinx I've opened the ORC rolling writer related test cases, please take a look, thx.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058112588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058279055","html_url":"https://github.com/apache/iceberg/pull/4240#issuecomment-1058279055","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4240","id":1058279055,"node_id":"IC_kwDOCW7NX84_FA6P","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T17:13:58Z","updated_at":"2022-03-03T17:13:58Z","author_association":"CONTRIBUTOR","body":"Thanks @marton-bod! I'm closing this as it was added in the other repo: https://github.com/apache/iceberg-docs/pull/60","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058279055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058335202","html_url":"https://github.com/apache/iceberg/pull/4255#issuecomment-1058335202","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4255","id":1058335202,"node_id":"IC_kwDOCW7NX84_FOni","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T18:06:38Z","updated_at":"2022-03-03T18:06:38Z","author_association":"CONTRIBUTOR","body":"@kbendick @RussellSpitzer @jackye1995 mind reviewing this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058335202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058395386","html_url":"https://github.com/apache/iceberg/pull/4258#issuecomment-1058395386","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4258","id":1058395386,"node_id":"IC_kwDOCW7NX84_FdT6","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T19:11:49Z","updated_at":"2022-03-03T19:11:49Z","author_association":"COLLABORATOR","body":"Not sure if we should put developer-facing comments here, as this is a user-facing Javadoc..   Maybe a better place is the Contribution guide?  https://iceberg.apache.org/contribute/","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058395386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058401733","html_url":"https://github.com/apache/iceberg/pull/4210#issuecomment-1058401733","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4210","id":1058401733,"node_id":"IC_kwDOCW7NX84_Fe3F","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T19:19:27Z","updated_at":"2022-03-03T19:19:27Z","author_association":"CONTRIBUTOR","body":"> > My only concern with this is that I think presently, tests get run in your fork any time you push to any branch. Do we think it's possible to do `apache/**` or something?\r\n> \r\n> Ah, right. Forks would run CI on every branch then as well. (Why doesn't GH disable actions on forks automatically (anymore)...). Fair enough, let's stick to `master` + tags for now and consider using a common prefix for release-branches w/ CI later / in a follow-up.\r\n\r\nThat works for me. Realistically, the tags thing shouldn't come up until the next release cycle anyway.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058401733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058445666","html_url":"https://github.com/apache/iceberg/pull/4261#issuecomment-1058445666","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4261","id":1058445666,"node_id":"IC_kwDOCW7NX84_Fpli","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T20:18:10Z","updated_at":"2022-03-03T20:18:10Z","author_association":"COLLABORATOR","body":"fyi @RussellSpitzer @rdblue @pvary  when you have a chance, can you see if this makes sense?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058445666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058457986","html_url":"https://github.com/apache/iceberg/pull/4262#issuecomment-1058457986","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4262","id":1058457986,"node_id":"IC_kwDOCW7NX84_FsmC","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T20:30:24Z","updated_at":"2022-03-03T21:34:58Z","author_association":"CONTRIBUTOR","body":"@jun-he , @rdblue , @samredai Appreciate the feedbacks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058457986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058477171","html_url":"https://github.com/apache/iceberg/pull/4261#issuecomment-1058477171","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4261","id":1058477171,"node_id":"IC_kwDOCW7NX84_FxRz","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T20:42:00Z","updated_at":"2022-03-03T20:42:00Z","author_association":"MEMBER","body":"I'm only worried about the Invalid Object Exception, everything else looks good to me\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058477171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058512326","html_url":"https://github.com/apache/iceberg/pull/4252#issuecomment-1058512326","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4252","id":1058512326,"node_id":"IC_kwDOCW7NX84_F53G","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T21:29:48Z","updated_at":"2022-03-03T21:29:48Z","author_association":"MEMBER","body":"Thanks @0xffmeta !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058512326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058515570","html_url":"https://github.com/apache/iceberg/pull/3973#issuecomment-1058515570","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3973","id":1058515570,"node_id":"IC_kwDOCW7NX84_F6py","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T21:33:46Z","updated_at":"2022-03-03T21:33:46Z","author_association":"MEMBER","body":"> > I think most of my main concerns are wrapped up, just some formatting fixes left. I think as a follow up we should deprecate all the public methods not using \"parallelism\", not important to do it right int his PR though.\r\n> \r\n> I thinks the sentence ` int hist PR` should be `in this PR` ? @RussellSpitzer . And did you mean `deprecate all the public methods not using \"parallelism\" ` in another PR ?\r\n\r\nThere are a bunch of public utility methods now that have a version which takes parallelism and a version which does not. I think with this PR we have finished changing all internal usages to always specify parallelism so we are probably good with removing the non-parallel arg versions in a future release.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058515570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058663247","html_url":"https://github.com/apache/iceberg/pull/4208#issuecomment-1058663247","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4208","id":1058663247,"node_id":"IC_kwDOCW7NX84_GetP","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T23:30:49Z","updated_at":"2022-03-03T23:30:49Z","author_association":"CONTRIBUTOR","body":"@rdblue thanks again, rebased :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058663247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058686843","html_url":"https://github.com/apache/iceberg/pull/4258#issuecomment-1058686843","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4258","id":1058686843,"node_id":"IC_kwDOCW7NX84_Gkd7","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T00:09:34Z","updated_at":"2022-03-04T00:09:34Z","author_association":"COLLABORATOR","body":"Sorry I just read the original issue as it wasnt linked (#3895 ) , I get it now and think would be great to have a Javadoc on this class.\r\n\r\nI think the problem is that this proposed Javadoc is developer-facing, and should be user-facing.  Specifically, the 'we' here seems like its meant for developer to know what exception to throw... but it should be instead describing to user what situations to expect it from.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058686843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058687396","html_url":"https://github.com/apache/iceberg/issues/4139#issuecomment-1058687396","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4139","id":1058687396,"node_id":"IC_kwDOCW7NX84_Gkmk","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T00:10:06Z","updated_at":"2022-03-04T00:10:06Z","author_association":"CONTRIBUTOR","body":"Okay, it seems we are in agreement to add these two tables:\r\n- DELETE_FILES\r\n- ALL_DELETE_FILES\r\n\r\nI also think we need to do something about `files`. Right now, it is inconsistent. I see two options:\r\n- Option 1: Add an alias `data_files` and treat `data_files` as `files`.\r\n- Option 2: Show both data and delete files in `files` and add a separate `data_files` table.\r\n\r\nWhile Option 2 seems more consistent with what we have today, I am not sure there is a lot of value in it. Users can simply do a union of `data_files` and `delete_files`.\r\n\r\nAny thoughts? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058687396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058713030","html_url":"https://github.com/apache/iceberg/issues/4139#issuecomment-1058713030","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4139","id":1058713030,"node_id":"IC_kwDOCW7NX84_Gq3G","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T00:43:50Z","updated_at":"2022-03-04T00:43:50Z","author_association":"CONTRIBUTOR","body":"I would expect that `files` produces all data and delete files. I would go with option 2 since it makes the most sense. That said, if we can think of a case where adding delete files to `files` may cause a problem then we should probably not do it. But I think it is more likely that there is confusion that it does _not_ include delete files currently.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058713030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058722605","html_url":"https://github.com/apache/iceberg/issues/4139#issuecomment-1058722605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4139","id":1058722605,"node_id":"IC_kwDOCW7NX84_GtMt","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T01:02:18Z","updated_at":"2022-03-04T01:02:18Z","author_association":"CONTRIBUTOR","body":"I believe only Flink heavily uses v2 tables at this point. Since we just added proper support for writing delete files in Spark and still have some gaps in maintenance, I think it should be safe. Let me know if anyone has any concerns.\r\n\r\ncc @RussellSpitzer @flyrain @szehon-ho @pvary @rymurr @openinx @stevenzwu  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058722605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058723101","html_url":"https://github.com/apache/iceberg/issues/4139#issuecomment-1058723101","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4139","id":1058723101,"node_id":"IC_kwDOCW7NX84_GtUd","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T01:03:30Z","updated_at":"2022-03-04T01:03:30Z","author_association":"CONTRIBUTOR","body":"The current plan:\r\n- Add DELETE_FILES\r\n- Add ALL_DELETE_FILES\r\n- Make FILES report both data and delete files\r\n- Add DATA_FILES","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058723101/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058730372","html_url":"https://github.com/apache/iceberg/issues/4217#issuecomment-1058730372","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4217","id":1058730372,"node_id":"IC_kwDOCW7NX84_GvGE","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T01:18:55Z","updated_at":"2022-03-04T01:18:55Z","author_association":"CONTRIBUTOR","body":"I have done some experiments along this line too. The way I created the Iceberg tables from the TPD-DS Hive tables is using the snapshot procedure to create them in a different database:\r\n```\r\nspark.sql(\"create database tpcds_iceberg\")\r\nspark.sql(\"use tpcds\")\r\nval tables = spark.sql(\"show tables\")\r\ntables.collect().map(r => r(1).toString).foreach(t =>\r\n  spark.sql(s\"call spark_catalog.system.snapshot('tpcds.$t', 'tpcds_iceberg.$t')\")\r\n)\r\n```\r\nThis creates Iceberg tables backed by the same underlying data. As we're not writing to the tables, this does not create any problems.\r\nFor the same value of `spark.sql.autoBroadcastJoinThreshold` Spark will use a broadcast join in some of the TPC-DS queries on Hive tables but use a SortMergeJoin on the Iceberg tables. This is because the way Spark estimates the size of the relation for the native table case is different from the way Iceberg estimates the size. For the native table case, Spark uses file size in its estimation. File size can be a significant underestimate as in your case, where you are using Snappy-compressed Parquet files, as most folks don't even set `spark.sql.sources.fileCompressionFactor` (which defaults to 1.0). Iceberg estimates the size of the relation by multiplying the estimated width of the requested columns by the number of rows. In my original commit for https://github.com/apache/iceberg/pull/3038, I used the same approach to estimating the size of the relation that Spark uses for `FileScan`s, but @rdblue suggested to use the approach actually adopted.\r\nTo get Spark to use broadcast joins for the Iceberg tables, you can set a higher value for `spark.sql.autoBroadcastJoinThreshold`. The problem is that it is hard to compare apples with apples in this case.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058730372/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058741293","html_url":"https://github.com/apache/iceberg/issues/4144#issuecomment-1058741293","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4144","id":1058741293,"node_id":"IC_kwDOCW7NX84_Gxwt","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T01:40:57Z","updated_at":"2022-03-04T18:16:05Z","author_association":"CONTRIBUTOR","body":"If you are getting that error, it means that your table's history contains snapshots with timestamps that are out of order. Iceberg has built in a large tolerance for what is \"out of order\", a one-minute tolerance. That means if you have timestamps that are out of order by sub-second or even seconds, Iceberg will not complain. (I think it is the opposite of what you were thinking, that snapshots occurring very close to each other will be problematic. Those will not cause this error even if the timestamps are out of order by sub-minute.)\r\n\r\nThere is a bug introduced in 0.13.0, where if you write a sequence of snapshots more than a minute apart, and then rollback to one of the earlier snapshots, an incorrect timestamp is written for the rollback snapshot, resulting in this error (because the rollback snapshot is now out of order by more than a minute). This bug is fixed by https://github.com/apache/iceberg/pull/4135 in the 0.13.x branch, and if we release a 0.13.2, the fix will be there. In master, it is fixed by https://github.com/apache/iceberg/pull/4089.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058741293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058745363","html_url":"https://github.com/apache/iceberg/pull/4263#issuecomment-1058745363","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4263","id":1058745363,"node_id":"IC_kwDOCW7NX84_GywT","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T01:49:37Z","updated_at":"2022-03-04T01:49:37Z","author_association":"CONTRIBUTOR","body":"cc: @cccs-eric @dramaticlly @CircArgs @rdblue @jun-he @cabhishek @TGooch44 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058745363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058746869","html_url":"https://github.com/apache/iceberg/pull/3973#issuecomment-1058746869","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3973","id":1058746869,"node_id":"IC_kwDOCW7NX84_GzH1","user":{"login":"kingeasternsun","id":5291739,"node_id":"MDQ6VXNlcjUyOTE3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5291739?v=4","gravatar_id":"","url":"https://api.github.com/users/kingeasternsun","html_url":"https://github.com/kingeasternsun","followers_url":"https://api.github.com/users/kingeasternsun/followers","following_url":"https://api.github.com/users/kingeasternsun/following{/other_user}","gists_url":"https://api.github.com/users/kingeasternsun/gists{/gist_id}","starred_url":"https://api.github.com/users/kingeasternsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingeasternsun/subscriptions","organizations_url":"https://api.github.com/users/kingeasternsun/orgs","repos_url":"https://api.github.com/users/kingeasternsun/repos","events_url":"https://api.github.com/users/kingeasternsun/events{/privacy}","received_events_url":"https://api.github.com/users/kingeasternsun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T01:53:05Z","updated_at":"2022-03-04T01:53:05Z","author_association":"CONTRIBUTOR","body":"> > > I think most of my main concerns are wrapped up, just some formatting fixes left. I think as a follow up we should deprecate all the public methods not using \"parallelism\", not important to do it right int his PR though.\r\n> > \r\n> > \r\n> > I thinks the sentence ` int hist PR` should be `in this PR` ? @RussellSpitzer . And did you mean `deprecate all the public methods not using \"parallelism\" ` in another PR ?\r\n> \r\n> There are a bunch of public utility methods now that have a version which takes parallelism and a version which does not. I think with this PR we have finished changing all internal usages to always specify parallelism so we are probably good with removing the non-parallel arg versions in a future release.\r\n\r\nThanks, I got It.  So I just need to  keep the code now as it is  , And waiting for it to be merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058746869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058748283","html_url":"https://github.com/apache/iceberg/pull/4258#issuecomment-1058748283","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4258","id":1058748283,"node_id":"IC_kwDOCW7NX84_Gzd7","user":{"login":"hzluting","id":5558252,"node_id":"MDQ6VXNlcjU1NTgyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/5558252?v=4","gravatar_id":"","url":"https://api.github.com/users/hzluting","html_url":"https://github.com/hzluting","followers_url":"https://api.github.com/users/hzluting/followers","following_url":"https://api.github.com/users/hzluting/following{/other_user}","gists_url":"https://api.github.com/users/hzluting/gists{/gist_id}","starred_url":"https://api.github.com/users/hzluting/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzluting/subscriptions","organizations_url":"https://api.github.com/users/hzluting/orgs","repos_url":"https://api.github.com/users/hzluting/repos","events_url":"https://api.github.com/users/hzluting/events{/privacy}","received_events_url":"https://api.github.com/users/hzluting/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T01:56:04Z","updated_at":"2022-03-04T01:56:04Z","author_association":"CONTRIBUTOR","body":"> Sorry I just read the original issue as it wasnt linked (#3895 ) , I get it now and think would be great to have a Javadoc on this class.\r\n> \r\n> I think the problem is that this proposed Javadoc is developer-facing, and should be user-facing. Specifically, the 'we' here seems like its meant for developer to know what exception to throw... but it should be instead describing to user what situations to expect it from.\r\n\r\nOh, thanks for your suggestion. You mean the Javadoc is used to tell user  arguments inconsistencies when they catch the ValidationException, rather than tell developer how to use it(because this is developer rule)?Is my understanding right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058748283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058757307","html_url":"https://github.com/apache/iceberg/pull/4162#issuecomment-1058757307","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4162","id":1058757307,"node_id":"IC_kwDOCW7NX84_G1q7","user":{"login":"wuwenchi","id":19755729,"node_id":"MDQ6VXNlcjE5NzU1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/19755729?v=4","gravatar_id":"","url":"https://api.github.com/users/wuwenchi","html_url":"https://github.com/wuwenchi","followers_url":"https://api.github.com/users/wuwenchi/followers","following_url":"https://api.github.com/users/wuwenchi/following{/other_user}","gists_url":"https://api.github.com/users/wuwenchi/gists{/gist_id}","starred_url":"https://api.github.com/users/wuwenchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuwenchi/subscriptions","organizations_url":"https://api.github.com/users/wuwenchi/orgs","repos_url":"https://api.github.com/users/wuwenchi/repos","events_url":"https://api.github.com/users/wuwenchi/events{/privacy}","received_events_url":"https://api.github.com/users/wuwenchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T02:13:21Z","updated_at":"2022-03-04T02:13:21Z","author_association":"CONTRIBUTOR","body":"@kbendick  Is there anything else that needs to be modified? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058757307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058784872","html_url":"https://github.com/apache/iceberg/pull/4258#issuecomment-1058784872","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4258","id":1058784872,"node_id":"IC_kwDOCW7NX84_G8Zo","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T03:14:15Z","updated_at":"2022-03-04T03:14:15Z","author_association":"COLLABORATOR","body":"Yea, that's what I am thinking, because this will be on Iceberg's user-facing Javadocs.  Also in general we try to keep documentation free from personal pronouns (like we, I..) and just state what the class does.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058784872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058793833","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1058793833","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1058793833,"node_id":"IC_kwDOCW7NX84_G-lp","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T03:35:08Z","updated_at":"2022-03-04T03:35:08Z","author_association":"CONTRIBUTOR","body":"@zhengchar We all agree that HASH distribution is not a good fit for bucketing tables. In the sample code from the Slack thread, hash distribution is disabled and a custom partitioner is used to shuffle the data matching the bucketing function in Iceberg.\r\n\r\nhow is the output/destination table partitioned? Trying to understand why the custom partitioner doesn't work for your scenario.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058793833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058822726","html_url":"https://github.com/apache/iceberg/pull/3784#issuecomment-1058822726","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3784","id":1058822726,"node_id":"IC_kwDOCW7NX84_HFpG","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T04:42:27Z","updated_at":"2022-03-04T17:41:50Z","author_association":"CONTRIBUTOR","body":"cc @dongjoon-hyun \r\n\r\nThis is a proposed PR for estimating file size with ORC files, to support rolling file writers using ORC in Iceberg.\r\n\r\nRight now, the feature is disabled entirely because of inability to estimate the file size for an open ORC file thatâ€™s still being written to. Adding this in would add alot of parity between ORC and Parquet from Iceberg.\r\n\r\n@openinx has summarized their thoughts and the current situation pretty well here: https://lists.apache.org/thread/g6yo7m46mr86ov1vkm9wnmshgw7hcl6b\r\n\r\nIf you have time, could you or somebody from the ORC community provide any feedback for the better approach to estimating file size, so that ORC might have equivalent support to Parquet in this regard?\r\n\r\nI was hoping you or somebody else from the ORC community might chime in, given @openinxâ€™s summary of the situation (on the dev list here https://lists.apache.org/thread/g6yo7m46mr86ov1vkm9wnmshgw7hcl6b).\r\n\r\nThanks in advance for any guidance you might be able to provide ðŸ™‚ \r\n\r\nAlso cc @marton-bod and other ORC developers.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058822726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058824654","html_url":"https://github.com/apache/iceberg/issues/4225#issuecomment-1058824654","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4225","id":1058824654,"node_id":"IC_kwDOCW7NX84_HGHO","user":{"login":"AlexLY123","id":100395047,"node_id":"U_kgDOBfvoJw","avatar_url":"https://avatars.githubusercontent.com/u/100395047?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexLY123","html_url":"https://github.com/AlexLY123","followers_url":"https://api.github.com/users/AlexLY123/followers","following_url":"https://api.github.com/users/AlexLY123/following{/other_user}","gists_url":"https://api.github.com/users/AlexLY123/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexLY123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexLY123/subscriptions","organizations_url":"https://api.github.com/users/AlexLY123/orgs","repos_url":"https://api.github.com/users/AlexLY123/repos","events_url":"https://api.github.com/users/AlexLY123/events{/privacy}","received_events_url":"https://api.github.com/users/AlexLY123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T04:47:32Z","updated_at":"2022-03-04T04:47:32Z","author_association":"NONE","body":"Now we user the iceberg with 0.12.0. In this release of 0.12.0, there isn't the compaction function to merge the delete files.\r\nWe think we should add the action to merge the delete file as major compact.  After compacting we can merge the data files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058824654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058869849","html_url":"https://github.com/apache/iceberg/pull/4258#issuecomment-1058869849","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4258","id":1058869849,"node_id":"IC_kwDOCW7NX84_HRJZ","user":{"login":"hzluting","id":5558252,"node_id":"MDQ6VXNlcjU1NTgyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/5558252?v=4","gravatar_id":"","url":"https://api.github.com/users/hzluting","html_url":"https://github.com/hzluting","followers_url":"https://api.github.com/users/hzluting/followers","following_url":"https://api.github.com/users/hzluting/following{/other_user}","gists_url":"https://api.github.com/users/hzluting/gists{/gist_id}","starred_url":"https://api.github.com/users/hzluting/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzluting/subscriptions","organizations_url":"https://api.github.com/users/hzluting/orgs","repos_url":"https://api.github.com/users/hzluting/repos","events_url":"https://api.github.com/users/hzluting/events{/privacy}","received_events_url":"https://api.github.com/users/hzluting/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T06:18:32Z","updated_at":"2022-03-04T06:18:32Z","author_association":"CONTRIBUTOR","body":"> Yea, that's what I am thinking, because this will be on Iceberg's user-facing Javadocs. Also in general we try to keep documentation free from personal pronouns (like we, I..) and just state what the class does.\r\n\r\nThank you very much for your explanation, I modify the doc, please take another look for meï¼Œthanksï¼","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1058869849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059132065","html_url":"https://github.com/apache/iceberg/issues/4139#issuecomment-1059132065","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4139","id":1059132065,"node_id":"IC_kwDOCW7NX84_IRKh","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T12:45:52Z","updated_at":"2022-03-04T12:46:00Z","author_association":"CONTRIBUTOR","body":"I am fine with having the new metadata tables.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059132065/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059132469","html_url":"https://github.com/apache/iceberg/pull/4218#issuecomment-1059132469","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4218","id":1059132469,"node_id":"IC_kwDOCW7NX84_IRQ1","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T12:46:30Z","updated_at":"2022-03-04T12:46:30Z","author_association":"CONTRIBUTOR","body":"Thanks everyone for the review and the merge!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059132469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059280706","html_url":"https://github.com/apache/iceberg/pull/4262#issuecomment-1059280706","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4262","id":1059280706,"node_id":"IC_kwDOCW7NX84_I1dC","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T15:50:21Z","updated_at":"2022-03-04T15:50:21Z","author_association":"CONTRIBUTOR","body":"cc: @CircArgs ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059280706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059340560","html_url":"https://github.com/apache/iceberg/pull/4267#issuecomment-1059340560","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4267","id":1059340560,"node_id":"IC_kwDOCW7NX84_JEEQ","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T16:59:36Z","updated_at":"2022-03-04T16:59:36Z","author_association":"CONTRIBUTOR","body":"@danielcweeks Can you please review when you get time. If the implementation looks okay then I can go ahead with the other FileIOs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059340560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059345235","html_url":"https://github.com/apache/iceberg/pull/4255#issuecomment-1059345235","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4255","id":1059345235,"node_id":"IC_kwDOCW7NX84_JFNT","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T17:05:15Z","updated_at":"2022-03-04T17:05:15Z","author_association":"CONTRIBUTOR","body":"I have updated the text. @RussellSpitzer I tweaked your suggested text slightly, and dropped the reference to the SPARK JIRA.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059345235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059358727","html_url":"https://github.com/apache/iceberg/pull/3784#issuecomment-1059358727","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3784","id":1059358727,"node_id":"IC_kwDOCW7NX84_JIgH","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T17:18:11Z","updated_at":"2022-03-04T17:18:11Z","author_association":"MEMBER","body":"Thank you for pinging me, @openinx and @kbendick . The following is the ORC PR for this request.\r\n- https://github.com/apache/orc/pull/1057\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059358727/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059367787","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1059367787","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1059367787,"node_id":"IC_kwDOCW7NX84_JKtr","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T17:25:28Z","updated_at":"2022-03-04T17:25:28Z","author_association":"CONTRIBUTOR","body":"After talking with Steven, I think we should go ahead and detect the case where we can use bucket values for distribution directly. There should be no need to add a mode to the table property for that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059367787/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059382284","html_url":"https://github.com/apache/iceberg/pull/3784#issuecomment-1059382284","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3784","id":1059382284,"node_id":"IC_kwDOCW7NX84_JOQM","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T17:45:11Z","updated_at":"2022-03-04T17:45:11Z","author_association":"CONTRIBUTOR","body":"> Thank you for pinging me, @openinx and @kbendick . The following is the ORC PR for this request.\r\n> \r\n> * [ORC-1123: Add `estimationMemory` method for writerÂ orc#1057](https://github.com/apache/orc/pull/1057)\r\n\r\nThank you for the prompt response! ðŸ™‚ ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059382284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059394394","html_url":"https://github.com/apache/iceberg/issues/4265#issuecomment-1059394394","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4265","id":1059394394,"node_id":"IC_kwDOCW7NX84_JRNa","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T18:02:15Z","updated_at":"2022-03-04T18:02:15Z","author_association":"COLLABORATOR","body":"There seems to be related discussion on this topic at : https://github.com/apache/iceberg/issues/4159","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059394394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059409098","html_url":"https://github.com/apache/iceberg/issues/4159#issuecomment-1059409098","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4159","id":1059409098,"node_id":"IC_kwDOCW7NX84_JUzK","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T18:21:57Z","updated_at":"2022-03-04T18:21:57Z","author_association":"COLLABORATOR","body":"> I think the correct way to run remove orphan files is to do it for the entire warehouse.\r\n\r\n> I hear your point and I think both use cases are valid. You are right, if a single prefix is shared by many tables and object store locations are enabled, the only way to remove orphans is by getting a list of all files under that prefix and querying systems tables for all Iceberg tables. However, I am not sure that's always possible. You have to assume no extra jobs use that location, you know all metastores/catalogs, etc. I'd say having a short per-table prefix or a set of prefixes would be also quite common. I can be convinced otherwise.\r\n\r\nThis is an interesting idea I also considered at one point, having the option to provide the whole listing for S3-based storage bucket, filter out for all locations owned by known tables, and run remove orphans on those locations?  If you know ahead of time your 'bucket' is majority files iceberg tables, might be less expensive overall (though this sounds like a single monster job if we are bottlenecked at the speed of physically deleting the files).  Another consideration is that system like S3 inventory will be stale in order of hours or days.\r\n\r\nThough it still seems to go back to the the main question, how to define the \"owned locations\" of a table?  (Sorry, please let me know if there is discussion on it already I missed).  That would be great to have, one thing I struggled in the past is \"alter table location\", if the previous locations can somehow be saved in a growing list it could allow to run more complete orphan removal jobs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059409098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059416924","html_url":"https://github.com/apache/iceberg/pull/4258#issuecomment-1059416924","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4258","id":1059416924,"node_id":"IC_kwDOCW7NX84_JWtc","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T18:33:23Z","updated_at":"2022-03-04T18:59:52Z","author_association":"COLLABORATOR","body":"I think it needs a bit more context, how about something like:\r\n\r\n\r\n\"Exception raised when validation checks fail.  A ValidationException occurs from inconsistent state that causes an operation to abort, as opposed to an {@link IllegalArgumentException}, which occurs from invalid arguments.\"\r\n\r\n\r\nI would also love to add another example here:\r\n\r\n\r\n\r\n\"For example, this is thrown when attempting to create a table with a {@link PartitionSpec} that is not compatible with the table {@link Schema}, or attempting to add or remove files to a table that would violate the configured {@link IsolationLevel}  due to concurrent commits.\"\r\n\r\n\r\n\r\nThat being said, I did not raise the original issue , so maybe @rdblue @jackye1995 have more thoughts, or @aokolnychyi @RussellSpitzer @kbendick  as well :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059416924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059430887","html_url":"https://github.com/apache/iceberg/issues/4139#issuecomment-1059430887","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4139","id":1059430887,"node_id":"IC_kwDOCW7NX84_JaHn","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T18:55:09Z","updated_at":"2022-03-04T18:55:09Z","author_association":"COLLABORATOR","body":"Makes sense to me, thanks guys.  (or welcome to more opinions).  \r\n\r\nFor completeness, I think we could also have ALL_FILES at some point (for user to conveniently see total reachability graph of Iceberg)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059430887/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059443093","html_url":"https://github.com/apache/iceberg/pull/4234#issuecomment-1059443093","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4234","id":1059443093,"node_id":"IC_kwDOCW7NX84_JdGV","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T19:14:05Z","updated_at":"2022-03-04T19:14:05Z","author_association":"CONTRIBUTOR","body":"Thanks, @stevenzwu!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059443093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059445257","html_url":"https://github.com/apache/iceberg/issues/4139#issuecomment-1059445257","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4139","id":1059445257,"node_id":"IC_kwDOCW7NX84_JdoJ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T19:17:24Z","updated_at":"2022-03-04T19:17:24Z","author_association":"CONTRIBUTOR","body":"I think `all_files` makes sense.\r\n\r\nUnrelated but similar is that we should think about how to manage the reachability set as we add new structures. I think that we may want to have TableMetadata report a reachable set of files that are referenced there. Then we'd only need to union that with all_manifests and all_files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059445257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059467872","html_url":"https://github.com/apache/iceberg/pull/4261#issuecomment-1059467872","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4261","id":1059467872,"node_id":"IC_kwDOCW7NX84_JjJg","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T19:50:12Z","updated_at":"2022-03-04T19:50:12Z","author_association":"COLLABORATOR","body":"Changed the messages, thanks all for diligence and discussion ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059467872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059529216","html_url":"https://github.com/apache/iceberg/pull/3983#issuecomment-1059529216","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3983","id":1059529216,"node_id":"IC_kwDOCW7NX84_JyIA","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T21:04:21Z","updated_at":"2022-03-04T21:14:04Z","author_association":"MEMBER","body":"Summarizing some of the perf tests I ran with the 4 Column Sort (String, Int, Date, Double)\r\n\r\nSorting just on already existing values, no Zorder\r\nIteration   1: 234.163 s/op\r\nIteration   2: 226.640 s/op\r\nIteration   3: 418.113 s/op\r\n\r\nZOrder: 128 bytes per String, All bytes interleaved, Sort on a binary column\r\nIteration   1:952.127 s/op\r\nIteration   2: 873.557 s/op\r\nIteration   3: 915.652 s/op\r\n\r\nZOrder: 8 Bytes per String, All bytes intereleaved, Sort on Binary Column\r\nIteration   1: 298.384 s/op\r\nIteration   2: 316.174 s/op\r\nIteration   3: 312.037 s/op\r\n\r\nZOrder: 8 Bytes per string, Interleave up to 8 bytes, Sort on Binary Column\r\nIteration   1: 284.234 s/op\r\nIteration   2: 274.458 s/op\r\nIteration   3: 278.901 s/op\r\n\r\nZOrder: 8 Bytes per sting, Interleave up to 8 Bytes, Sort on Long representation of 8 Bytes\r\nhttps://github.com/RussellSpitzer/iceberg/pull/3\r\nIteration   1: 317.637 s/op\r\nIteration   2: 311.544 s/op\r\nIteration   3: 303.514 s/op\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059529216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059538230","html_url":"https://github.com/apache/iceberg/pull/4269#issuecomment-1059538230","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4269","id":1059538230,"node_id":"IC_kwDOCW7NX84_J0U2","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T21:16:50Z","updated_at":"2022-03-04T21:16:50Z","author_association":"CONTRIBUTOR","body":"This PR has no unit test as it mainly contains the plumbing classes for Iceberg source. We will have full test with Iceberg source.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059538230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059545904","html_url":"https://github.com/apache/iceberg/issues/4139#issuecomment-1059545904","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4139","id":1059545904,"node_id":"IC_kwDOCW7NX84_J2Mw","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T21:30:22Z","updated_at":"2022-03-04T21:30:22Z","author_association":"MEMBER","body":"Do we have to do a deprecation warning for FILES? or is it ok to just switch the behavior in 0.14","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059545904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059608310","html_url":"https://github.com/apache/iceberg/pull/4270#issuecomment-1059608310","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4270","id":1059608310,"node_id":"IC_kwDOCW7NX84_KFb2","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T23:44:35Z","updated_at":"2022-03-05T03:21:09Z","author_association":"CONTRIBUTOR","body":"Current assigner interface design incorporated the requirements from the event time /watermark aligned assigner (for a single source or across sources).\r\n\r\nWe may revisit the watermark alignment assigner. If that changed, we can come back and revisit the assigner interface. For now, I think we can move ahead because we aren't going to public advertise the FLIP-27 source yet. Even if update assigner interface, it should be source compatible with users code. Users don't use assigner directly. They just need to create/supply an assigner factory object.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059608310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059621966","html_url":"https://github.com/apache/iceberg/issues/4139#issuecomment-1059621966","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4139","id":1059621966,"node_id":"IC_kwDOCW7NX84_KIxO","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-05T00:24:29Z","updated_at":"2022-03-05T00:24:29Z","author_association":"CONTRIBUTOR","body":"Adding `ALL_FILES` makes sense to me too.\r\n\r\n> I think that we may want to have TableMetadata report a reachable set of files that are referenced there.\r\n\r\n@rdblue, do you mean other json files reported by `previousFiles` in `TableMetadata`?\r\n\r\n> Do we have to do a deprecation warning for FILES? or is it ok to just switch the behavior in 0.14\r\n\r\nI don't think we will mark FILES as deprecated. I'd just add delete files to it, which I consider rather a fix than a behavior change. We should give a warning in the release notes, though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059621966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059630853","html_url":"https://github.com/apache/iceberg/pull/4267#issuecomment-1059630853","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4267","id":1059630853,"node_id":"IC_kwDOCW7NX84_KK8F","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-05T00:52:32Z","updated_at":"2022-03-05T00:52:32Z","author_association":"CONTRIBUTOR","body":"Hey @rajarshisarkar This is great.  I'd actually point out there is some parallel work to make the initialization dynamic in #4254 and that looks like it's about to go in.  You might want to take a quick peek and see if we can align with that approach. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059630853/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059634289","html_url":"https://github.com/apache/iceberg/pull/3411#issuecomment-1059634289","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3411","id":1059634289,"node_id":"IC_kwDOCW7NX84_KLxx","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-05T01:04:25Z","updated_at":"2022-03-05T01:04:25Z","author_association":"CONTRIBUTOR","body":"Sorry for the delay on my side. This PR is the next one I'll look into. I took a quick look and I think I remember the context.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059634289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059640267","html_url":"https://github.com/apache/iceberg/pull/3411#issuecomment-1059640267","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3411","id":1059640267,"node_id":"IC_kwDOCW7NX84_KNPL","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-05T01:24:57Z","updated_at":"2022-03-05T01:24:57Z","author_association":"CONTRIBUTOR","body":"Okay, I think I got the issue. Essentially, we don't know the correct type produced by Void transforms that we assign in v1 tables when a partition field is dropped. We assume the output type matches the source field type but it is not always the case. Let me take a look at the solution on Monday.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059640267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059888376","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1059888376","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1059888376,"node_id":"IC_kwDOCW7NX84_LJz4","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-06T03:40:00Z","updated_at":"2022-03-06T03:40:00Z","author_association":"CONTRIBUTOR","body":"Thanks @aokolnychyi for merging this and also thanks to everyone for the review. I will submit a pr to spark 3.1.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059888376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059889465","html_url":"https://github.com/apache/iceberg/issues/4159#issuecomment-1059889465","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4159","id":1059889465,"node_id":"IC_kwDOCW7NX84_LKE5","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-06T03:51:45Z","updated_at":"2022-03-06T03:51:45Z","author_association":"CONTRIBUTOR","body":"> Well, I'd also love to see consistent behavior. However, path-based tables are quite special: there is no table pointer in the catalog. Any thoughts on what drop without purge may mean for them? Maybe we should only allow drop with purge = true for path-based tables? That way, we will have consistent behavior across catalogs but path-based tables won't support some functionality?\r\n\r\ndrop or purge thinks should be the same mean for the path-based tables. In traditional database, the drop will move the table into the recycle bin and could restore the table with some command. However, purge will clean all data and cannot restore it. Maybe we should refer to such a design?   ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059889465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059908942","html_url":"https://github.com/apache/iceberg/pull/4274#issuecomment-1059908942","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4274","id":1059908942,"node_id":"IC_kwDOCW7NX84_LO1O","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-06T07:09:45Z","updated_at":"2022-03-06T07:09:45Z","author_association":"CONTRIBUTOR","body":"@rdblue @openinx @stevenzwu @kbendick Could you please take a look of this when you are free?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059908942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059908960","html_url":"https://github.com/apache/iceberg/pull/4275#issuecomment-1059908960","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4275","id":1059908960,"node_id":"IC_kwDOCW7NX84_LO1g","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-06T07:09:55Z","updated_at":"2022-03-06T07:09:55Z","author_association":"CONTRIBUTOR","body":"@rdblue @openinx @stevenzwu @kbendick Could you please take a look of this when you are free?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059908960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059911242","html_url":"https://github.com/apache/iceberg/pull/3450#issuecomment-1059911242","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3450","id":1059911242,"node_id":"IC_kwDOCW7NX84_LPZK","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-06T07:30:31Z","updated_at":"2022-03-06T07:30:31Z","author_association":"COLLABORATOR","body":"@rdblue @samredai  I have rebased and updated the PR. Can you please take a look? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1059911242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060154089","html_url":"https://github.com/apache/iceberg/pull/4258#issuecomment-1060154089","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4258","id":1060154089,"node_id":"IC_kwDOCW7NX84_MKrp","user":{"login":"hzluting","id":5558252,"node_id":"MDQ6VXNlcjU1NTgyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/5558252?v=4","gravatar_id":"","url":"https://api.github.com/users/hzluting","html_url":"https://github.com/hzluting","followers_url":"https://api.github.com/users/hzluting/followers","following_url":"https://api.github.com/users/hzluting/following{/other_user}","gists_url":"https://api.github.com/users/hzluting/gists{/gist_id}","starred_url":"https://api.github.com/users/hzluting/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzluting/subscriptions","organizations_url":"https://api.github.com/users/hzluting/orgs","repos_url":"https://api.github.com/users/hzluting/repos","events_url":"https://api.github.com/users/hzluting/events{/privacy}","received_events_url":"https://api.github.com/users/hzluting/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T03:29:30Z","updated_at":"2022-03-07T03:29:30Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nOK, I agree that the description is better! \r\nBut there is a problem that the IsolationLevel is in iceberg-core module rather than api(the link is invalid), so remove the link will be better?\r\nthe example is here:\r\nâ€œFor example, this is thrown when attempting to create a table with a {@link PartitionSpec} that is not compatible with the table {@link Schema}, or attempting to add or remove files to a table that would violate the configured IsolationLevel due to concurrent commits.â€","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060154089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060208983","html_url":"https://github.com/apache/iceberg/pull/4267#issuecomment-1060208983","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4267","id":1060208983,"node_id":"IC_kwDOCW7NX84_MYFX","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T05:27:11Z","updated_at":"2022-03-07T05:27:11Z","author_association":"CONTRIBUTOR","body":"Thanks for having a look, @danielcweeks. Sure, I shall rebase once https://github.com/apache/iceberg/pull/4254 is merged to master.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060208983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060321377","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1060321377","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1060321377,"node_id":"IC_kwDOCW7NX84_Mzhh","user":{"login":"zhengchar","id":58673451,"node_id":"MDQ6VXNlcjU4NjczNDUx","avatar_url":"https://avatars.githubusercontent.com/u/58673451?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengchar","html_url":"https://github.com/zhengchar","followers_url":"https://api.github.com/users/zhengchar/followers","following_url":"https://api.github.com/users/zhengchar/following{/other_user}","gists_url":"https://api.github.com/users/zhengchar/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengchar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengchar/subscriptions","organizations_url":"https://api.github.com/users/zhengchar/orgs","repos_url":"https://api.github.com/users/zhengchar/repos","events_url":"https://api.github.com/users/zhengchar/events{/privacy}","received_events_url":"https://api.github.com/users/zhengchar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T08:26:23Z","updated_at":"2022-03-07T08:26:23Z","author_association":"NONE","body":"> @zhengchar We all agree that HASH distribution is not a good fit for bucketing tables. In the sample code from the Slack thread, hash distribution is disabled and a custom partitioner is used to shuffle the data matching the bucketing function in Iceberg.\r\n> \r\n> how is the output/destination table partitioned? Trying to understand why the custom partitioner doesn't work for your scenario.\r\n\r\nHi Steven,\r\n\r\nAccording to my description above, my dest-table just a bucket[64] table.   ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060321377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060541258","html_url":"https://github.com/apache/iceberg/pull/4277#issuecomment-1060541258","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4277","id":1060541258,"node_id":"IC_kwDOCW7NX84_NpNK","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T11:11:44Z","updated_at":"2022-03-07T11:14:45Z","author_association":"CONTRIBUTOR","body":"Hi, @rdblue @aokolnychyi @RussellSpitzer @szehon-ho, could you help to review this when you have time? Thanks a lot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060541258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060886230","html_url":"https://github.com/apache/iceberg/pull/4279#issuecomment-1060886230","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4279","id":1060886230,"node_id":"IC_kwDOCW7NX84_O9bW","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T16:34:21Z","updated_at":"2022-03-07T16:34:21Z","author_association":"MEMBER","body":"@aokolnychyi this is the PR we were discussing earlier. My big question here is whether I should just skip the test refactor and only test identity transforms. The options are basically\r\n\r\n1. Test only identity transforms, very small PR\r\n2. Test bucket transforms, requires refactor so we can run the test in a context where the session extensions exist","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060886230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060934197","html_url":"https://github.com/apache/iceberg/pull/4258#issuecomment-1060934197","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4258","id":1060934197,"node_id":"IC_kwDOCW7NX84_PJI1","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T17:22:39Z","updated_at":"2022-03-07T17:27:23Z","author_association":"COLLABORATOR","body":"> But there is a problem that the IsolationLevel is in iceberg-core module rather than api(the link is invalid)\r\n\r\nYea I think you can fully-qualify the class name?  Or else removing it is also fine with me, as it's not a big deal.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060934197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060969090","html_url":"https://github.com/apache/iceberg/pull/4280#issuecomment-1060969090","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4280","id":1060969090,"node_id":"IC_kwDOCW7NX84_PRqC","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T17:59:52Z","updated_at":"2022-03-07T17:59:52Z","author_association":"CONTRIBUTOR","body":"Thanks for putting this up! cc: @arminnajafi @rajarshisarkar @singhpk234 @amogh-jahagirdar @yyanyy @natsukawa-kanou ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1060969090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061018121","html_url":"https://github.com/apache/iceberg/pull/4277#issuecomment-1061018121","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4277","id":1061018121,"node_id":"IC_kwDOCW7NX84_PdoJ","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T18:52:59Z","updated_at":"2022-03-07T18:52:59Z","author_association":"MEMBER","body":"Just to confirm the api isn't available in Spark 3.0 correct?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061018121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061019479","html_url":"https://github.com/apache/iceberg/pull/4261#issuecomment-1061019479","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4261","id":1061019479,"node_id":"IC_kwDOCW7NX84_Pd9X","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T18:54:33Z","updated_at":"2022-03-07T18:54:33Z","author_association":"MEMBER","body":"Thanks @szehon-ho for the pr and @pvary for the review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061019479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061026606","html_url":"https://github.com/apache/iceberg/pull/4228#issuecomment-1061026606","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4228","id":1061026606,"node_id":"IC_kwDOCW7NX84_Pfsu","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T19:02:21Z","updated_at":"2022-03-07T19:02:21Z","author_association":"CONTRIBUTOR","body":"@zhengchar can you share you code snippet? thought the customer partitioner (with NONE distribution mode) should work for your case as well. not saying it is the general solution. trying to understand why it doesn't work for you or any other unique conditions from your use case that we missed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061026606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061066326","html_url":"https://github.com/apache/iceberg/pull/4277#issuecomment-1061066326","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4277","id":1061066326,"node_id":"IC_kwDOCW7NX84_PpZW","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T19:44:03Z","updated_at":"2022-03-07T19:44:03Z","author_association":"CONTRIBUTOR","body":"Yeah, it isn't in 3.0.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061066326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061153554","html_url":"https://github.com/apache/iceberg/issues/3941#issuecomment-1061153554","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3941","id":1061153554,"node_id":"IC_kwDOCW7NX84_P-sS","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T21:27:11Z","updated_at":"2022-03-07T21:27:11Z","author_association":"CONTRIBUTOR","body":"Based on Yufeiâ€™s design doc and what we discussed during the sync, Iâ€™d like to share my thoughts on what can be efficiently supported right now.\r\n\r\n### Assumptions\r\n\r\n- Changes are consumed per snapshot, rows that are added and removed in the same snapshot can be skipped\r\n\r\nIceberg does not distinguish the order of records within a snapshot. Users may manually deduce this using a data column. However, there is nothing in the metadata to support this at the moment. I believe it is sufficient to have a summary of what changed per snapshot for most use cases (except the audit use case). Specifically, if we add a record and immediately delete it in the same snapshot (Flink CDC), it is okay to skip this record and not report it in the CDC log.\r\n\r\n- Output only delete and insert record types\r\n\r\nFrom what I see, just knowing what records to remove and to add should be enough to support most use cases. I have an example below even if the target system is not Iceberg. In the future, we can add pre/post images but computing that with the current table metadata would require a join and would be expensive.\r\n\r\n- Table must have identity columns defined\r\n\r\nWhenever we apply a delta log to a target table, most CDC use cases rely on a primary key or a set of identity columns. I think it is reasonable to assume Iceberg tables should have identity columns defined to support generation of CDC records.\r\n\r\n- Delete records may only include values for identity columns\r\n \r\nIt is not required to output the entire deleted record if other columns are not stored in equality delete files. If values for other columns are not persisted, this would require an expensive join to reconstruct the entire row.\r\n\r\n### Unsupported\r\n\r\n- Audit use cases as they require a seq number per row\r\n- Pre/post update image (can be added in the future)\r\n\r\nThe CDC record can include: \r\n```\r\n_record_type, _commit_snapshot_id, _commit_timestamp, _commit_order, _identity_columns, col1, col2, ...\r\n```\r\n### Algorithm (per snapshot)\r\n\r\n- Build insert records\r\n\t- Read all data files written in this snapshot, applying any matching position delete files produced in the same snapshot. Equality deletes produced in this snapshot cannot apply.\r\n- Build delete records\r\n\t- Read all data files marked as deleted in this snapshot (they always contain values for identity columns).\r\n\t- Read all equality deletes (they always contain values for identity columns)\r\n\t- Read position deletes, find the list of affected data files from previous snapshots, read those data files, join on `_file`, `_pos` with deletes, project identity columns.\r\n- Append metadata such as `_commit_snapshot_id` or `_record_type`\r\n- Union insert and delete records \r\n\r\nThe algorithm would only require one join to find identity columns for position deletes. However, it should be fairly efficient as position deletes are scoped to partitions and we know the exact file names to read. We donâ€™t have to read any other files or do a full table scan.\r\n\r\nI think it should be sufficient to have only delete/insert record types in most cases. A generic MERGE statement can be used to apply changes for a single snapshot to both Iceberg and non-Iceberg tables.\r\n\r\n```\r\nMERGE INTO target t USING source s\r\nON t.id_col = s.id_col AND s._record_type = 'DELETE'\r\nWHEN MATCHED\r\n  DELETE\r\nWHEN NOT MATCHED\r\n  INSERT â€¦\r\n```\r\n\r\nIf the destination table is another Iceberg table, we may skip the MERGE statement and write equality deletes and data files directly without querying the destination table.\r\n\r\nHere are a few examples (inspired by what Yufei has put together) I went through to see if this approach is going to work (double check it, please).\r\n\r\n![image](https://user-images.githubusercontent.com/6235869/157117118-446f7ecd-77ca-48ae-b250-3254c1dbf529.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061153554/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061187372","html_url":"https://github.com/apache/iceberg/pull/4280#issuecomment-1061187372","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4280","id":1061187372,"node_id":"IC_kwDOCW7NX84_QG8s","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T22:08:31Z","updated_at":"2022-03-07T22:08:31Z","author_association":"CONTRIBUTOR","body":"@xiaoxuandev can you add details? What does it mean to support LakeFormation?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061187372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061197742","html_url":"https://github.com/apache/iceberg/pull/3810#issuecomment-1061197742","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3810","id":1061197742,"node_id":"IC_kwDOCW7NX84_QJeu","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T22:20:18Z","updated_at":"2022-03-07T22:20:18Z","author_association":"CONTRIBUTOR","body":"@openinx, @hililiwei, I think we need to revert this. It looks like the `dataContext` and `deleteContext` methods accept Hadoop Configuration objects rather than property maps.\r\n\r\nIceberg doesn't use Hadoop Configuration. We can either directly fix this to work like the Parquet contexts with another PR, or I think we should revert and open a replacement PR. What do you think is the right way forward?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061197742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061198500","html_url":"https://github.com/apache/iceberg/pull/4273#issuecomment-1061198500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4273","id":1061198500,"node_id":"IC_kwDOCW7NX84_QJqk","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T22:21:12Z","updated_at":"2022-03-07T22:21:12Z","author_association":"CONTRIBUTOR","body":"I don't think that we can merge this until we fix the ORC configuration PR that recently went in. See https://github.com/apache/iceberg/pull/3810#issuecomment-1061197742 for more details. The configuration context should not use Hadoop Configuration.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061198500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061218506","html_url":"https://github.com/apache/iceberg/pull/4279#issuecomment-1061218506","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4279","id":1061218506,"node_id":"IC_kwDOCW7NX84_QOjK","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T22:46:34Z","updated_at":"2022-03-07T22:46:34Z","author_association":"MEMBER","body":"Ok I think i'm gonna remove the refactor here, just keep only the identity test for now. I think the right thing to do for bucketing (and other functions) is probably to add more tests to extensions itself but no need to mix them up here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061218506/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061269616","html_url":"https://github.com/apache/iceberg/pull/4280#issuecomment-1061269616","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4280","id":1061269616,"node_id":"IC_kwDOCW7NX84_QbBw","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-08T00:09:26Z","updated_at":"2022-03-08T00:09:26Z","author_association":"CONTRIBUTOR","body":"@rdblue for more details, AWS Glue and LakeFormation recently released the public APIs for third-party integration of using AWS LakeFormation to manage database, table and column level access control. \r\n\r\nFor database and table level access control, the integration is mostly through configuring the correct AWS credential provider to access Glue and S3. See https://docs.aws.amazon.com/lake-formation/latest/dg/api-overview.html for more details.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061269616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061275734","html_url":"https://github.com/apache/iceberg/pull/4280#issuecomment-1061275734","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4280","id":1061275734,"node_id":"IC_kwDOCW7NX84_QchW","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-08T00:20:32Z","updated_at":"2022-03-08T00:20:32Z","author_association":"CONTRIBUTOR","body":"@jackye1995 thanks for the additional detail. Adding a way to configure the credential provider seems reasonable to me.\r\n\r\nMore broadly though, Iceberg's purpose so far has been to standardize storage and provide tools for reading and writing that storage. Access control is orthogonal to that, so I've not thought there was a good use case for mixing access control enforcement into the Iceberg library. Plus enforcement can't really be done client side. So it's good to hear that the integration is just configuring the client properly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061275734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061283733","html_url":"https://github.com/apache/iceberg/pull/4267#issuecomment-1061283733","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4267","id":1061283733,"node_id":"IC_kwDOCW7NX84_QeeV","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-08T00:34:18Z","updated_at":"2022-03-08T00:34:18Z","author_association":"CONTRIBUTOR","body":"Most of this looks good. Thanks, @rajarshisarkar!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061283733/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061291885","html_url":"https://github.com/apache/iceberg/pull/4254#issuecomment-1061291885","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4254","id":1061291885,"node_id":"IC_kwDOCW7NX84_Qgdt","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-08T00:47:15Z","updated_at":"2022-03-08T00:47:15Z","author_association":"CONTRIBUTOR","body":"@danielcweeks and @jackye1995, are we sure that dynamic loading is appropriate here?\r\n\r\nI don't think that this fits with where we've used dynamic loading in the past. Dynamic loading is used where we want to be able to customize the implementation from the catalog. For example, a catalog may dynamically choose GCS or S3 or another FileIO implementation based on the catalog settings and table details (like root location). But the metrics reporting that this affects are being passed back to a processing engine, which is determined by the environment.\r\n\r\nWhat we've been discussing for Flink is to have some way to connect FileIO metrics to Flink jobs and tasks, which likely means passing in a MetricsContext from Flink. This conflicts with the idea of passing down configuration that defines it. It doesn't make sense to me that we might allow a catalog or table to override something that is engine-specific.\r\n\r\nOne thing that Iceberg has been fairly successful at so far is trying to put configuration in the right place. I think this is really similar: we should not use table or catalog configuration for engine concerns.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061291885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061293862","html_url":"https://github.com/apache/iceberg/pull/4208#issuecomment-1061293862","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4208","id":1061293862,"node_id":"IC_kwDOCW7NX84_Qg8m","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-08T00:50:53Z","updated_at":"2022-03-08T00:50:53Z","author_association":"CONTRIBUTOR","body":"Looks like we need to turn off CI for `docs/` paths. @kbendick, can you open a PR?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061293862/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061295082","html_url":"https://github.com/apache/iceberg/pull/4208#issuecomment-1061295082","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4208","id":1061295082,"node_id":"IC_kwDOCW7NX84_QhPq","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-08T00:53:30Z","updated_at":"2022-03-08T00:53:30Z","author_association":"CONTRIBUTOR","body":"> Looks like we need to turn off CI for `docs/` paths. @kbendick, can you open a PR?\r\n\r\nYeah will do so now. There are a few other CI related  PRs in the pipeline I can help rebase etc if need be.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061295082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061295305","html_url":"https://github.com/apache/iceberg/pull/4244#issuecomment-1061295305","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4244","id":1061295305,"node_id":"IC_kwDOCW7NX84_QhTJ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-08T00:53:58Z","updated_at":"2022-03-08T00:53:58Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061295305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061296053","html_url":"https://github.com/apache/iceberg/pull/4207#issuecomment-1061296053","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4207","id":1061296053,"node_id":"IC_kwDOCW7NX84_Qhe1","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-08T00:55:28Z","updated_at":"2022-03-08T00:55:28Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @snazy!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061296053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061297512","html_url":"https://github.com/apache/iceberg/pull/4210#issuecomment-1061297512","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4210","id":1061297512,"node_id":"IC_kwDOCW7NX84_Qh1o","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-08T00:58:25Z","updated_at":"2022-03-08T00:58:25Z","author_association":"CONTRIBUTOR","body":"Thanks! Is it possible to pattern match on branches like this does for tags? All of the release candidates start with `apache-iceberg-*`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1061297512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]