[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705957506","html_url":"https://github.com/apache/hudi/pull/2152#issuecomment-705957506","issue_url":"https://api.github.com/repos/apache/hudi/issues/2152","id":705957506,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTk1NzUwNg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T04:14:06Z","updated_at":"2020-10-09T04:14:06Z","author_association":"CONTRIBUTOR","body":"@bvaradar Have you tested out if the metrics reporting works for Spark Structured Streaming ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705957506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705969068","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-705969068","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":705969068,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTk2OTA2OA==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T05:02:14Z","updated_at":"2020-10-09T05:02:14Z","author_association":"NONE","body":"@bvaradar My bad...Im attaching the logs \r\n[yarn-logs.txt](https://github.com/apache/hudi/files/5352619/logs.txt)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705969068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705980977","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-705980977","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":705980977,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTk4MDk3Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T05:45:30Z","updated_at":"2020-10-09T05:45:30Z","author_association":"CONTRIBUTOR","body":"@ashishmgofficial : This looks like schema mismatch issue. There might be a bug in the schema provider implementation that I pasted. Can you also attach the schema from schema registry to help debug (I guess you are using http://xxxxx:8081/subjects/airflow.public.motor_crash_violation_incidents-value/versions/latest) ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705980977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705990567","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-705990567","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":705990567,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTk5MDU2Nw==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T06:13:47Z","updated_at":"2020-10-09T06:54:29Z","author_association":"NONE","body":"@bvaradar Yes Im using the above mentioned url for schema\n\n```\r\n\r\n{\r\n  \"connect.name\": \"airflow.public.motor_crash_violation_incidents.Envelope\",\r\n  \"fields\": [\r\n    {\r\n      \"default\": null,\r\n      \"name\": \"before\",\r\n      \"type\": [\r\n        \"null\",\r\n        {\r\n          \"connect.name\": \"airflow.public.motor_crash_violation_incidents.Value\",\r\n          \"fields\": [\r\n            {\r\n              \"name\": \"inc_id\",\r\n              \"type\": \"int\"\r\n            },\r\n            {\r\n              \"default\": null,\r\n              \"name\": \"year\",\r\n              \"type\": [\r\n                \"null\",\r\n                \"int\"\r\n              ]\r\n            },\r\n            {\r\n              \"default\": null,\r\n              \"name\": \"violation_desc\",\r\n              \"type\": [\r\n                \"null\",\r\n                \"string\"\r\n              ]\r\n            },\r\n            {\r\n              \"default\": null,\r\n              \"name\": \"violation_code\",\r\n              \"type\": [\r\n                \"null\",\r\n                \"string\"\r\n              ]\r\n            },\r\n            {\r\n              \"default\": null,\r\n              \"name\": \"case_individual_id\",\r\n              \"type\": [\r\n                \"null\",\r\n                \"int\"\r\n              ]\r\n            },\r\n            {\r\n              \"default\": null,\r\n              \"name\": \"flag\",\r\n              \"type\": [\r\n                \"null\",\r\n                \"string\"\r\n              ]\r\n            },\r\n            {\r\n              \"name\": \"last_modified_ts\",\r\n              \"type\": {\r\n                \"connect.name\": \"io.debezium.time.MicroTimestamp\",\r\n                \"connect.version\": 1,\r\n                \"type\": \"long\"\r\n              }\r\n            }\r\n          ],\r\n          \"name\": \"Value\",\r\n          \"type\": \"record\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"default\": null,\r\n      \"name\": \"after\",\r\n      \"type\": [\r\n        \"null\",\r\n        \"Value\"\r\n      ]\r\n    },\r\n    {\r\n      \"name\": \"source\",\r\n      \"type\": {\r\n        \"connect.name\": \"io.debezium.connector.postgresql.Source\",\r\n        \"fields\": [\r\n          {\r\n            \"name\": \"version\",\r\n            \"type\": \"string\"\r\n          },\r\n          {\r\n            \"name\": \"connector\",\r\n            \"type\": \"string\"\r\n          },\r\n          {\r\n            \"name\": \"name\",\r\n            \"type\": \"string\"\r\n          },\r\n          {\r\n            \"name\": \"ts_ms\",\r\n            \"type\": \"long\"\r\n          },\r\n          {\r\n            \"default\": \"false\",\r\n            \"name\": \"snapshot\",\r\n            \"type\": [\r\n              {\r\n                \"connect.default\": \"false\",\r\n                \"connect.name\": \"io.debezium.data.Enum\",\r\n                \"connect.parameters\": {\r\n                  \"allowed\": \"true,last,false\"\r\n                },\r\n                \"connect.version\": 1,\r\n                \"type\": \"string\"\r\n              },\r\n              \"null\"\r\n            ]\r\n          },\r\n          {\r\n            \"name\": \"db\",\r\n            \"type\": \"string\"\r\n          },\r\n          {\r\n            \"name\": \"schema\",\r\n            \"type\": \"string\"\r\n          },\r\n          {\r\n            \"name\": \"table\",\r\n            \"type\": \"string\"\r\n          },\r\n          {\r\n            \"default\": null,\r\n            \"name\": \"txId\",\r\n            \"type\": [\r\n              \"null\",\r\n              \"long\"\r\n            ]\r\n          },\r\n          {\r\n            \"default\": null,\r\n            \"name\": \"lsn\",\r\n            \"type\": [\r\n              \"null\",\r\n              \"long\"\r\n            ]\r\n          },\r\n          {\r\n            \"default\": null,\r\n            \"name\": \"xmin\",\r\n            \"type\": [\r\n              \"null\",\r\n              \"long\"\r\n            ]\r\n          }\r\n        ],\r\n        \"name\": \"Source\",\r\n        \"namespace\": \"io.debezium.connector.postgresql\",\r\n        \"type\": \"record\"\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"op\",\r\n      \"type\": \"string\"\r\n    },\r\n    {\r\n      \"default\": null,\r\n      \"name\": \"ts_ms\",\r\n      \"type\": [\r\n        \"null\",\r\n        \"long\"\r\n      ]\r\n    },\r\n    {\r\n      \"default\": null,\r\n      \"name\": \"transaction\",\r\n      \"type\": [\r\n        \"null\",\r\n        {\r\n          \"fields\": [\r\n            {\r\n              \"name\": \"id\",\r\n              \"type\": \"string\"\r\n            },\r\n            {\r\n              \"name\": \"total_order\",\r\n              \"type\": \"long\"\r\n            },\r\n            {\r\n              \"name\": \"data_collection_order\",\r\n              \"type\": \"long\"\r\n            }\r\n          ],\r\n          \"name\": \"ConnectDefault\",\r\n          \"namespace\": \"io.confluent.connect.avro\",\r\n          \"type\": \"record\"\r\n        }\r\n      ]\r\n    }\r\n  ],\r\n  \"name\": \"Envelope\",\r\n  \"namespace\": \"airflow.public.motor_crash_violation_incidents\",\r\n  \"type\": \"record\"\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705990567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706003688","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706003688","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706003688,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjAwMzY4OA==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T06:46:45Z","updated_at":"2020-10-09T06:48:01Z","author_association":"NONE","body":"@bvaradar Thanks for the answer. \r\nBelow is how our set up looks like-\r\n\r\n- We have Client Level Mongo collections. Write various client Mongo oplogs into one topic.\r\n- Write into one Topic in Json Format.\r\n- Read from this topic (groupBy clients) and then apply Schema at client Level for each batch read. There can be a mixed of Client json while reading from the Topic but every client will have a specific schema.\r\n\r\n- Transform and Apply schema for every client before saving into Hudi table.\r\n\r\nAgain, I want to say we save via Spark Dataframe. Do not want to Compact inline due to the volume of records.\r\nBut we are compacting via HoodieClient in a different Spark job for multiple tables every X min. As, I am not able to find a way using spark DF to run only Compaction.\r\n\r\n**Do you see any issue in saving via DF and concurrently running Compaction via HoodieClient?**\r\n\r\nVery soon, we will be doing the perf for our setup with Hudi. Will keep you posted.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706003688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706016369","html_url":"https://github.com/apache/hudi/pull/2156#issuecomment-706016369","issue_url":"https://api.github.com/repos/apache/hudi/issues/2156","id":706016369,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjAxNjM2OQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T07:18:52Z","updated_at":"2020-10-09T07:18:52Z","author_association":"CONTRIBUTOR","body":"@wangxianghu Can you help to review this PR?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706016369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706018729","html_url":"https://github.com/apache/hudi/issues/2100#issuecomment-706018729","issue_url":"https://api.github.com/repos/apache/hudi/issues/2100","id":706018729,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjAxODcyOQ==","user":{"login":"cdmikechen","id":12069428,"node_id":"MDQ6VXNlcjEyMDY5NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12069428?v=4","gravatar_id":"","url":"https://api.github.com/users/cdmikechen","html_url":"https://github.com/cdmikechen","followers_url":"https://api.github.com/users/cdmikechen/followers","following_url":"https://api.github.com/users/cdmikechen/following{/other_user}","gists_url":"https://api.github.com/users/cdmikechen/gists{/gist_id}","starred_url":"https://api.github.com/users/cdmikechen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdmikechen/subscriptions","organizations_url":"https://api.github.com/users/cdmikechen/orgs","repos_url":"https://api.github.com/users/cdmikechen/repos","events_url":"https://api.github.com/users/cdmikechen/events{/privacy}","received_events_url":"https://api.github.com/users/cdmikechen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T07:24:40Z","updated_at":"2020-10-10T01:51:03Z","author_association":"CONTRIBUTOR","body":"@eigakow \r\nI've seen this before. If you use a kerberized hdfs environment, you need to add `hbase-client` jar to your spark lib.\r\nEven if you don't use hBase as hudi index, hadoop also need to check whether this class exists. I feel that this may be a bug in Hadoop.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706018729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706023889","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-706023889","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":706023889,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjAyMzg4OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T07:37:36Z","updated_at":"2020-10-09T07:37:36Z","author_association":"CONTRIBUTOR","body":"@ashishmgofficial : I tried to repro with the schema you have sent but am unable to. I guess the correct schema-provider may not have been set correctly. Can you paste the entire spark-submit command here along with all hoodie configs (the one in the ticket description is old without the new changes that was proposed).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706023889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706029681","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706029681","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706029681,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjAyOTY4MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T07:51:22Z","updated_at":"2020-10-09T08:03:20Z","author_association":"CONTRIBUTOR","body":"@tandonraghav : It should work as is with 0.6.0. you should be able to run spark.write() with inline compaction off. Based on compaction schedule, this write will schedule compactions. You can then use your writeClient code to run async compactions.\r\n\r\nJust so that you are made aware of all things : Note that inline compaction does not need to run every single time you are ingesting data. You can set it to run every N commits but it will be inline when it runs (blocks writing)\r\n\r\nWe usually have folks running async compaction in delta-streamer continuous mode and in structured streaming (recently).  Async compaction in spark DF write or in deltastreamer run-once mode is generally not done as users need to setup separate compaction job. Let me open a jira to run compaction alone using spark.write() to make it easier...\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706029681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706035494","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706035494","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706035494,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjAzNTQ5NA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T08:04:18Z","updated_at":"2020-10-09T08:04:18Z","author_association":"CONTRIBUTOR","body":"@tandonraghav : I just edited the comment above after reviewing 0.6.0 code. Please re-read the above comment to avoid any confusion","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706035494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706036095","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706036095","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706036095,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjAzNjA5NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T08:05:35Z","updated_at":"2020-10-09T08:05:35Z","author_association":"CONTRIBUTOR","body":"FYI : https://issues.apache.org/jira/browse/HUDI-1329","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706036095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706036553","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706036553","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706036553,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjAzNjU1Mw==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T08:06:36Z","updated_at":"2020-10-09T08:06:36Z","author_association":"NONE","body":"@bvaradar Yes, i am aware that Compaction need not run everytime and can run after X delta commits. \r\n\r\nBut Lets say I have done X-Y Delta commits and then there are no writes on the table for few minutes. Then how will you get Fresh Data from _ro (we are using Presto, so *_rt is not the option)\r\n\r\nDeltaStreamer is not an option as we have multiple tables in same topic? I believe Streamer will not work for such a setup.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706036553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706038782","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706038782","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706038782,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjAzODc4Mg==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T08:11:22Z","updated_at":"2020-10-09T08:12:02Z","author_association":"NONE","body":"@bvaradar And you are saying in 0.6.0, if  I have given `hoodie.compact.inline=false` and `hoodie.compact.inline.max.delta.commits=2` then the moment there are 2 delta commits it will schedule a Compaction timeline.\r\nAnd then we can query compaction timeline and do all the compactions? Is this understanding correct?\r\n\r\nAnd what about situation where we have only 1 delta commit for few minutes but we want fresh data in _ro after X minutes? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706038782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706050798","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706050798","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706050798,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjA1MDc5OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T08:37:36Z","updated_at":"2020-10-09T08:37:36Z","author_association":"CONTRIBUTOR","body":"@tandonraghav : Can you elaborate on your expected event rate and what is your data-freshness SLA expectations ? Its possible that Copy-On-Write table would be good enough. \r\n\r\nTo your other question on data-freshness: Yes your understanding is correct. If you have sporadic incoming changes and have tighter data-freshness SLA, you can set hoodie.compact.inline.max.delta.commits=1 and run compactions at interval corresponding to your data-freshness req.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706050798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706057675","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-706057675","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":706057675,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjA1NzY3NQ==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T08:52:03Z","updated_at":"2020-10-09T08:52:58Z","author_association":"NONE","body":"@bvaradar  Please find the details : \r\n\r\n```\r\nspark-submit --class org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer --jars s3://xxxx/hudi/jars/hudi-spark-bundle_2.11-0.6.1-SNAPSHOT.jar --packages org.apache.spark:spark-avro_2.11:2.4.4,org.apache.hadoop:hadoop-aws:2.7.3 --master yarn --deploy-mode client s3://xxxx/hudi/jars/hudi-utilities-bundle_2.11-0.6.1-SNAPSHOT.jar --table-type COPY_ON_WRITE --source-ordering-field last_modified_ts --source-class org.apache.hudi.utilities.sources.AvroKafkaSource --target-base-path s3a://xxxx/warehouse/hudi_dms_acc_kafka --target-table hudi_dms_acc_kafka --props s3://xxxx/hudi/conf/hudi-kafka.properties --schemaprovider-class org.apache.hudi.utilities.schema.DebeziumRegistryProvider --payload-class org.apache.hudi.common.model.DebeziumAvroPayload --transformer-class org.apache.hudi.utilities.transform.DebeziumCustomTransformer\r\n```\r\n\r\nhudi-kafka.properties\r\n\r\n```\r\nhoodie.upsert.shuffle.parallelism=10\r\nhoodie.insert.shuffle.parallelism=10\r\nhoodie.delete.shuffle.parallelism=10\r\nhoodie.bulkinsert.shuffle.parallelism=10\r\nhoodie.embed.timeline.server=true\r\nhoodie.filesystem.view.type=EMBEDDED_KV_STORE\r\nhoodie.compact.inline=false\r\n# Key fields, for kafka example\r\nhoodie.datasource.write.recordkey.field=inc_id\r\nhoodie.datasource.write.precombine.field=last_modified_ts\r\nhoodie.datasource.write.partitionpath.field=violation_code\r\nhoodie.datasource.write.keygenerator.class=org.apache.hudi.keygen.NonpartitionedKeyGenerator\r\n# Schema provider props (change to absolute path based on your installation)\r\n#hoodie.deltastreamer.schemaprovider.source.schema.file=/var/demo/config/schema.avsc\r\n#hoodie.deltastreamer.schemaprovider.target.schema.file=/var/demo/config/schema.avsc\r\n# Kafka Source\r\nhoodie.deltastreamer.source.kafka.topic=airflow.public.motor_crash_violation_incidents\r\n#Kafka props\r\nbootstrap.servers=http://xxxx:29092\r\nauto.offset.reset=earliest\r\nhoodie.deltastreamer.schemaprovider.registry.url=http://xxxx:8081/subjects/airflow.public.motor_crash_violation_incidents-value/versions/latest\r\n#hoodie.deltastreamer.schemaprovider.registry.targetUrl=http://xxxx:8081/subjects/airflow.public.motor_crash_violation_incidents-value/versions/latest\r\nschema.registry.url=http://xxxx:8081\r\nvalidate.non.null = false\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706057675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706063643","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-706063643","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":706063643,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjA2MzY0Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T09:04:29Z","updated_at":"2020-10-09T09:04:29Z","author_association":"CONTRIBUTOR","body":"From your earlier link : https://github.com/apache/hudi/issues/2149#issuecomment-704918685\r\n\r\nI do see in the SchemaProvider,  hodieDeleteField is set wrongly.\r\n\r\n Field hoodieDeleteField = registrySchema.getField(\"op\"); \r\n\r\nHave you removed hoodieDeleteField from both SchemaProvider and Transformer ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706063643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706067650","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706067650","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706067650,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjA2NzY1MA==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T09:13:09Z","updated_at":"2020-10-09T09:13:09Z","author_association":"NONE","body":"@bvaradar SLA ~ 15m for fresh data... and we can have around 10-30M updates/client..But this varies from client to client.\r\nBut we want to test for 50M/client and there can be X clients like that...\r\n\r\nSo,COW is not an option.\r\n\r\nAlso, i just tried with this config on HUDI 0.6.0\r\n````\r\nds\r\n                .write().format(\"org.apache.hudi\").\r\n                options(QuickstartUtils.getQuickstartWriteConfigs()).\r\n                //option(\"hoodie.avro.schema\",SchemaUtils.schemaMapper.get(dbName)).\r\n                option(DataSourceWriteOptions.OPERATION_OPT_KEY(),DataSourceWriteOptions.UPSERT_OPERATION_OPT_VAL()).\r\n                option(DataSourceWriteOptions.TABLE_TYPE_OPT_KEY(),DataSourceWriteOptions.MOR_TABLE_TYPE_OPT_VAL()).\r\n                option(DataSourceWriteOptions.PRECOMBINE_FIELD_OPT_KEY(), \"ts_ms\").\r\n                //option(\"hoodie.combine.before.upsert\",false).\r\n                option(DataSourceWriteOptions.RECORDKEY_FIELD_OPT_KEY(), \"_id\").\r\n                option(DataSourceWriteOptions.PAYLOAD_CLASS_OPT_KEY(), MergeHudiPayload.class.getName()).\r\n                option(DataSourceWriteOptions.PARTITIONPATH_FIELD_OPT_KEY(), \"db_name\").\r\n                option(HoodieWriteConfig.TABLE_NAME, dbName).\r\n                **option(HoodieCompactionConfig.INLINE_COMPACT_PROP,false).**\r\n                option(DataSourceWriteOptions.HIVE_SYNC_ENABLED_OPT_KEY(),\"true\").\r\n                option(DataSourceWriteOptions.HIVE_TABLE_OPT_KEY(), dbName).\r\n                option(DataSourceWriteOptions.HIVE_PARTITION_FIELDS_OPT_KEY(),\"db_name\").\r\n                option(DataSourceWriteOptions.DEFAULT_HIVE_ASSUME_DATE_PARTITION_OPT_VAL(),\"false\").\r\n                **option(HoodieCompactionConfig.INLINE_COMPACT_NUM_DELTA_COMMITS_PROP,1).**\r\n                option(DataSourceWriteOptions.ASYNC_COMPACT_ENABLE_OPT_KEY(),false).\r\n                option(DataSourceWriteOptions.HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY(), MultiPartKeysValueExtractor.class.getName()).\r\n                mode(SaveMode.Append).\r\n                save(tablePath);\r\n````\r\n\r\nAnd i dont see any compactionTimeline requested (I checked inside folders). Am i missing something?\r\n````\r\n-rw-r--r--  1 raghav  wheel     0B Oct  9 14:33 20201009143322.deltacommit.requested\r\n-rw-r--r--  1 raghav  wheel   1.6K Oct  9 14:33 20201009143322.deltacommit.inflight\r\n-rw-r--r--  1 raghav  wheel   1.9K Oct  9 14:33 20201009143322.deltacommit\r\n-rw-r--r--  1 raghav  wheel     0B Oct  9 14:34 20201009143417.deltacommit.requested\r\n-rw-r--r--  1 raghav  wheel   1.6K Oct  9 14:34 20201009143417.deltacommit.inflight\r\n-rw-r--r--  1 raghav  wheel   1.9K Oct  9 14:34 20201009143417.deltacommit\r\n````","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706067650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706072160","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706072160","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706072160,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjA3MjE2MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T09:22:10Z","updated_at":"2020-10-09T09:22:10Z","author_association":"CONTRIBUTOR","body":"Can you cat the contents of 20201009143322.deltacommit and 20201009143417.deltacommit ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706072160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706072486","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-706072486","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":706072486,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjA3MjQ4Ng==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T09:22:52Z","updated_at":"2020-10-09T09:22:52Z","author_association":"NONE","body":"@bvaradar I have changed all the code to as how you had send earlier\r\n\r\nSo the HoodieDeleateField is not present now","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706072486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706072809","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706072809","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706072809,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjA3MjgwOQ==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T09:23:32Z","updated_at":"2020-10-09T09:23:32Z","author_association":"NONE","body":"@bvaradar I think the issue was -> option(DataSourceWriteOptions.ASYNC_COMPACT_ENABLE_OPT_KEY(),false). If i set this also to true. It is creating the `compaction.requested`. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706072809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706075094","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-706075094","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":706075094,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjA3NTA5NA==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T09:28:34Z","updated_at":"2020-10-09T09:28:34Z","author_association":"NONE","body":"Avro Payload : \r\n\r\n```\r\npackage org.apache.hudi.common.model;\r\n\r\nimport org.apache.hudi.common.util.Option;\r\nimport org.apache.avro.generic.GenericRecord;\r\n\r\npublic class DebeziumAvroPayload extends OverwriteWithLatestAvroPayload {\r\n\r\n  // Field is prefixed with a underscore by transformer to indicate metadata field\r\n  public static final String OP_FIELD = \"_op\";\r\n  public static final String DELETE_OP = \"d\";\r\n\r\n  public DebeziumAvroPayload(GenericRecord record, Comparable orderingVal) {\r\n    super(record, orderingVal);\r\n  }\r\n\r\n  public DebeziumAvroPayload(Option<GenericRecord> record) {\r\n    this(record.isPresent() ? record.get() : null, 0); // natural order\r\n  }\r\n\r\n  @Override\r\n  protected boolean isDeleteRecord(GenericRecord genericRecord) {\r\n    return (genericRecord.get(OP_FIELD) != null && genericRecord.get(OP_FIELD).toString().equalsIgnoreCase(\r\n        DELETE_OP));\r\n  }\r\n}\r\n```\r\n\r\nSchemaProvider : \r\n\r\n```\r\npackage org.apache.hudi.utilities.schema;\r\n\r\nimport org.apache.hudi.common.config.TypedProperties;\r\nimport org.apache.avro.Schema;\r\nimport org.apache.avro.Schema.Field;\r\nimport org.apache.avro.SchemaBuilder;\r\nimport org.apache.avro.SchemaBuilder.FieldAssembler;\r\nimport org.apache.spark.api.java.JavaSparkContext;\r\n\r\npublic class DebeziumSchemaRegistryProvider extends SchemaRegistryProvider {  \r\n  public DebeziumSchemaRegistryProvider(TypedProperties props,\r\n      JavaSparkContext jssc) {\r\n    super(props, jssc);\r\n  }\r\n\r\n  /**\r\n   * Debezium target schema is a nested structure with many metadata fields. This will\r\n   * flatten the schema structure and only require necessary metadata information\r\n   * @return\r\n   */\r\n  @Override\r\n  public Schema getTargetSchema() {\r\n    Schema registrySchema = super.getTargetSchema();\r\n\r\n    Field dataField = registrySchema.getField(\"after\");\r\n    Field tsField = registrySchema.getField(\"ts_ms\");\r\n    Field opField = registrySchema.getField(\"op\");\r\n\r\n    // Initialize with metadata columns\r\n    FieldAssembler<Schema> payloadFieldAssembler = SchemaBuilder.builder()\r\n        .record(\"formatted_debezium_payload\")\r\n        .fields()\r\n        .name(\"_\" + tsField.name()).type(tsField.schema()).withDefault(null)\r\n        .name(\"_\" + opField.name()).type(tsField.schema()).withDefault(null);\r\n\r\n    // Add data columns to schema\r\n    dataField.schema()\r\n        .getTypes()\r\n        // \"after\" field is a union with data schema and null schema, so we need to extract only the data schema portion\r\n        .get(dataField.schema().getIndexNamed(registrySchema.getNamespace() + \".Value\"))\r\n        .getFields()\r\n        .forEach(field -> {\r\n          payloadFieldAssembler.name(field.name()).type(field.schema()).withDefault(null);\r\n        });\r\n\r\n    return payloadFieldAssembler.endRecord();\r\n  }\r\n}\r\n```\r\n\r\nTransformer : \r\n\r\n```\r\npackage org.apache.hudi.utilities.transform;\r\n\r\nimport org.apache.hudi.common.config.TypedProperties;\r\nimport org.apache.spark.api.java.JavaSparkContext;\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\npublic class DebeziumTransformer implements Transformer {\r\n\r\n  @Override\r\n  public Dataset apply(JavaSparkContext jsc, SparkSession sparkSession, Dataset<Row> rowDataset,\r\n      TypedProperties properties) {\r\n\r\n    Dataset<Row> insertedOrUpdatedData = rowDataset\r\n        .select(\"op\", \"ts_ms\", \"after.*\")\r\n        .withColumnRenamed(\"op\", \"_op\")\r\n        .withColumnRenamed(\"ts_ms\", \"_ts_ms\")\r\n        .filter(rowDataset.col(\"op\").notEqual(\"d\"));\r\n\r\n    Dataset<Row> deletedData = rowDataset\r\n        .select(\"op\", \"ts_ms\", \"before.*\")\r\n        .withColumnRenamed(\"op\", \"_op\")\r\n        .withColumnRenamed(\"ts_ms\", \"_ts_ms\")\r\n        .filter(rowDataset.col(\"op\").equalTo(\"d\"));\r\n\r\n    Dataset<Row> transformedData = insertedOrUpdatedData.union(deletedData);\r\n    System.out.println(transformedData.showString(20, 50, false));\r\n    return transformedData;\r\n  }\r\n}\r\n```\r\n\r\nI have added these three classes to hudi-utilities and hudi-common and build the jar.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706075094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706080399","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-706080399","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":706080399,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjA4MDM5OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T09:40:04Z","updated_at":"2020-10-09T09:40:19Z","author_association":"CONTRIBUTOR","body":"@ashishmgofficial : I think there is a bug in the Schema provider implementation:\r\n\r\n    FieldAssembler<Schema> payloadFieldAssembler = SchemaBuilder.builder()\r\n        .record(\"formatted_debezium_payload\")\r\n        .fields()\r\n        .name(\"_\" + tsField.name()).type(tsField.schema()).withDefault(null)\r\n        .name(\"_\" + opField.name()).type(tsField.schema()).withDefault(null);\r\n\r\n\r\nshould have been\r\n\r\n    FieldAssembler<Schema> payloadFieldAssembler = SchemaBuilder.builder()\r\n        .record(\"formatted_debezium_payload\")\r\n        .fields()\r\n        .name(\"_\" + tsField.name()).type(tsField.schema()).withDefault(null)\r\n        .name(\"_\" + opField.name()).type(opField.schema()).withDefault(null);\r\n\r\nCan you try with that change ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706080399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706100867","html_url":"https://github.com/apache/hudi/pull/2122#issuecomment-706100867","issue_url":"https://api.github.com/repos/apache/hudi/issues/2122","id":706100867,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjEwMDg2Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T10:24:20Z","updated_at":"2020-10-09T10:24:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2122?src=pr&el=h1) Report\n> Merging [#2122](https://codecov.io/gh/apache/hudi/pull/2122?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/3a578d740234db9c44e6b9f8d27d21713eb5f386?el=desc) will **decrease** coverage by `7.85%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2122/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2122?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2122      +/-   ##\n============================================\n- Coverage     61.59%   53.74%   -7.86%     \n+ Complexity     4016      568    -3448     \n============================================\n  Files           508       94     -414     \n  Lines         20757     4196   -16561     \n  Branches       2032      471    -1561     \n============================================\n- Hits          12786     2255   -10531     \n+ Misses         7057     1736    -5321     \n+ Partials        914      205     -709     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> (-26.19%)` | `193.00 <> (-1498.00)` | |\n| #hudiclient | `?` | `?` | |\n| #hudicommon | `?` | `?` | |\n| #hudispark | `?` | `?` | |\n| #huditimelineservice | `62.29% <> (-1.19%)` | `50.00 <> (+3.00)` | :arrow_down: |\n| #hudiutilities | `69.98% <> (+0.84%)` | `325.00 <> (+30.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2122?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...udi/utilities/schema/DelegatingSchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/2122/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9EZWxlZ2F0aW5nU2NoZW1hUHJvdmlkZXIuamF2YQ==) | `75.00% <0.00%> (-25.00%)` | `3.00% <0.00%> (%)` | |\n| [.../apache/hudi/timeline/service/TimelineService.java](https://codecov.io/gh/apache/hudi/pull/2122/diff?src=pr&el=tree#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvVGltZWxpbmVTZXJ2aWNlLmphdmE=) | `25.00% <0.00%> (-2.54%)` | `6.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...udi/utilities/sources/helpers/DFSPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2122/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9ERlNQYXRoU2VsZWN0b3IuamF2YQ==) | `82.05% <0.00%> (-2.16%)` | `12.00% <0.00%> (%)` | |\n| [...a/org/apache/hudi/cli/commands/RepairsCommand.java](https://codecov.io/gh/apache/hudi/pull/2122/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1JlcGFpcnNDb21tYW5kLmphdmE=) | `69.33% <0.00%> (-1.90%)` | `10.00% <0.00%> (%)` | |\n| [...i/utilities/deltastreamer/SourceFormatAdapter.java](https://codecov.io/gh/apache/hudi/pull/2122/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvU291cmNlRm9ybWF0QWRhcHRlci5qYXZh) | `86.48% <0.00%> (-0.70%)` | `11.00% <0.00%> (%)` | |\n| [...hudi/utilities/sources/helpers/KafkaOffsetGen.java](https://codecov.io/gh/apache/hudi/pull/2122/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9LYWZrYU9mZnNldEdlbi5qYXZh) | `88.77% <0.00%> (-0.64%)` | `16.00% <0.00%> (+4.00%)` | :arrow_down: |\n| [...ties/deltastreamer/HoodieDeltaStreamerMetrics.java](https://codecov.io/gh/apache/hudi/pull/2122/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lck1ldHJpY3MuamF2YQ==) | `36.11% <0.00%> (-0.26%)` | `6.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...ain/scala/org/apache/hudi/cli/DedupeSparkJob.scala](https://codecov.io/gh/apache/hudi/pull/2122/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL2NsaS9EZWR1cGVTcGFya0pvYi5zY2FsYQ==) | `0.00% <0.00%> ()` | `0.00% <0.00%> (%)` | |\n| [...rg/apache/hudi/cli/commands/SavepointsCommand.java](https://codecov.io/gh/apache/hudi/pull/2122/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1NhdmVwb2ludHNDb21tYW5kLmphdmE=) | `14.28% <0.00%> ()` | `3.00% <0.00%> (%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2122/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `100.00% <0.00%> ()` | `4.00% <0.00%> (%)` | |\n| ... and [435 more](https://codecov.io/gh/apache/hudi/pull/2122/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706100867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706110206","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-706110206","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":706110206,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjExMDIwNg==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T10:46:45Z","updated_at":"2020-10-09T10:48:31Z","author_association":"NONE","body":"@bvaradar Thanks for noticing it. I think that solved the previous error but producing following error now : \r\n\r\n```\r\n20/10/09 10:32:09 INFO AppInfoParser: Kafka version : 2.0.0\r\n20/10/09 10:32:09 INFO AppInfoParser: Kafka commitId : 3402a8361b734732\r\n20/10/09 10:32:09 INFO InternalKafkaConsumer: Initial fetch for spark-executor-null airflow.public.motor_crash_violation_incidents-0 0\r\n20/10/09 10:32:09 INFO Metadata: Cluster ID: cA3sXVaIR-qlM1MPNNYnCw\r\n20/10/09 10:32:09 ERROR Executor: Exception in task 0.3 in stage 2.0 (TID 5)\r\njava.lang.RuntimeException: Error while decoding: java.lang.NegativeArraySizeException\r\ncreateexternalrow(input[0, bigint, true], input[1, string, false].toString, input[2, int, false], input[3, int, true], input[4, string, true].toString, input[5, string, true].toString, input[6, int, true], input[7, string, true].toString, input[8, bigint, false], StructField(_ts_ms,LongType,true), StructField(_op,StringType,false), StructField(inc_id,IntegerType,false), StructField(year,IntegerType,true), StructField(violation_desc,StringType,true), StructField(violation_code,StringType,true), StructField(case_individual_id,IntegerType,true), StructField(flag,StringType,true), StructField(last_modified_ts,LongType,false))\r\n\tat org.apache.spark.sql.catalyst.encoders.ExpressionEncoder.fromRow(ExpressionEncoder.scala:305)\r\n\tat org.apache.hudi.AvroConversionUtils$$anonfun$1.apply(AvroConversionUtils.scala:44)\r\n\tat org.apache.hudi.AvroConversionUtils$$anonfun$1.apply(AvroConversionUtils.scala:44)\r\n\tat scala.collection.Iterator$$anon$11.next(Iterator.scala:410)\r\n\tat scala.collection.Iterator$$anon$11.next(Iterator.scala:410)\r\n\tat scala.collection.Iterator$$anon$10.next(Iterator.scala:394)\r\n\tat scala.collection.Iterator$class.foreach(Iterator.scala:891)\r\n\tat scala.collection.AbstractIterator.foreach(Iterator.scala:1334)\r\n\tat scala.collection.generic.Growable$class.$plus$plus$eq(Growable.scala:59)\r\n\tat scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:104)\r\n\tat scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:48)\r\n\tat scala.collection.TraversableOnce$class.to(TraversableOnce.scala:310)\r\n\tat scala.collection.AbstractIterator.to(Iterator.scala:1334)\r\n\tat scala.collection.TraversableOnce$class.toBuffer(TraversableOnce.scala:302)\r\n\tat scala.collection.AbstractIterator.toBuffer(Iterator.scala:1334)\r\n\tat scala.collection.TraversableOnce$class.toArray(TraversableOnce.scala:289)\r\n\tat scala.collection.AbstractIterator.toArray(Iterator.scala:1334)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$take$1$$anonfun$31.apply(RDD.scala:1409)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$take$1$$anonfun$31.apply(RDD.scala:1409)\r\n\tat org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2101)\r\n\tat org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2101)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n\tat org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1405)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NegativeArraySizeException\r\n\tat org.apache.spark.unsafe.types.UTF8String.getBytes(UTF8String.java:297)\r\n\tat org.apache.spark.unsafe.types.UTF8String.toString(UTF8String.java:1226)\r\n\tat org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificSafeProjection.createExternalRow_0_0$(Unknown Source)\r\n\tat org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificSafeProjection.apply(Unknown Source)\r\n\tat org.apache.spark.sql.catalyst.encoders.ExpressionEncoder.fromRow(ExpressionEncoder.scala:302)\r\n\t... 28 more\r\n \r\n```\r\n\r\nI think this error earlier also in the same thread when i was trying to add _hoodie_is_deleted field","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706110206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706123886","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-706123886","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":706123886,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjEyMzg4Ng==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T11:20:25Z","updated_at":"2020-10-09T11:20:25Z","author_association":"NONE","body":"Following the Kafka data as consumed using Kafkacat\r\n```\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 1, \"year\": {\"int\": 2016}, \"violation_desc\": {\"string\": \"DRIVING WHILE INTOXICATED\"}, \"violation_code\": {\"string\": \"11923\"}, \"case_individual_id\": {\"int\": 17475366}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1600945380000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771650, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771650}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 3, \"year\": {\"int\": 2016}, \"violation_desc\": {\"string\": \"AGGRAVATED UNLIC OPER 2ND/PREV CONV\"}, \"violation_code\": {\"string\": \"5112A1\"}, \"case_individual_id\": {\"int\": 17475367}, \"flag\": {\"string\": \"U\"}, \"last_modified_ts\": 1600959600000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771650, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771650}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 4, \"year\": {\"int\": 2019}, \"violation_desc\": {\"string\": \"AGGRAVATED UNLIC OPER 2ND/PREV\"}, \"violation_code\": {\"string\": \"5112A2\"}, \"case_individual_id\": {\"int\": 17475368}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1569337200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771650, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771650}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 5, \"year\": {\"int\": 2018}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475569}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601374200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771651, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771651}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 7, \"year\": {\"int\": 2018}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475571}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601375400000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771651, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771651}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 2, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"2180F\"}, \"case_individual_id\": {\"int\": 17475569}, \"flag\": {\"string\": \"U\"}, \"last_modified_ts\": 1601377200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771651, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771651}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 6, \"year\": {\"int\": 2018}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"2180F\"}, \"case_individual_id\": {\"int\": 17475570}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601374800000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771651, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771651}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 8, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475572}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601376600000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771651, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771651}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 9, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475573}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601377200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771652, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771652}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 10, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180D\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601377800000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771652, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771652}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 11, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180D\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601381400000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771652, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771652}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 12, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601385000000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771652, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771652}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 13, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601388600000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771652, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771652}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 34, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601392200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531771652, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8853671}, \"lsn\": {\"long\": 135217816}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601531771653}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 35, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601395800000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601531913118, \"snapshot\": {\"string\": \"false\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8854199}, \"lsn\": {\"long\": 135339584}, \"xmin\": null}, \"op\": \"c\", \"ts_ms\": {\"long\": 1601531913459}, \"transaction\": {\"ConnectDefault\": {\"id\": \"8854199\", \"total_order\": 1, \"data_collection_order\": 1}}}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 1, \"year\": {\"int\": 2016}, \"violation_desc\": {\"string\": \"DRIVING WHILE INTOXICATED\"}, \"violation_code\": {\"string\": \"11923\"}, \"case_individual_id\": {\"int\": 17475366}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1600945380000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941011, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941011}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 3, \"year\": {\"int\": 2016}, \"violation_desc\": {\"string\": \"AGGRAVATED UNLIC OPER 2ND/PREV CONV\"}, \"violation_code\": {\"string\": \"5112A1\"}, \"case_individual_id\": {\"int\": 17475367}, \"flag\": {\"string\": \"U\"}, \"last_modified_ts\": 1600959600000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941011, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941011}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 4, \"year\": {\"int\": 2019}, \"violation_desc\": {\"string\": \"AGGRAVATED UNLIC OPER 2ND/PREV\"}, \"violation_code\": {\"string\": \"5112A2\"}, \"case_individual_id\": {\"int\": 17475368}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1569337200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941011, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941012}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 5, \"year\": {\"int\": 2018}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475569}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601374200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941012, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941012}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 7, \"year\": {\"int\": 2018}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475571}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601375400000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941012, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941012}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 2, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"2180F\"}, \"case_individual_id\": {\"int\": 17475569}, \"flag\": {\"string\": \"U\"}, \"last_modified_ts\": 1601377200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941012, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941012}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 6, \"year\": {\"int\": 2018}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"2180F\"}, \"case_individual_id\": {\"int\": 17475570}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601374800000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941012, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941012}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 8, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475572}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601376600000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941012, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941012}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 9, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475573}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601377200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941013, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941013}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 10, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180D\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601377800000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941013, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941013}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 11, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180D\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601381400000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941013, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941013}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 12, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601385000000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941013, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941013}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 13, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601388600000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941013, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941013}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 34, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601392200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941013, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941013}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 35, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601395800000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601532941013, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858001}, \"lsn\": {\"long\": 136229808}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601532941013}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 36, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601398800000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601533208794, \"snapshot\": {\"string\": \"false\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 8858996}, \"lsn\": {\"long\": 136463936}, \"xmin\": null}, \"op\": \"c\", \"ts_ms\": {\"long\": 1601533208915}, \"transaction\": {\"ConnectDefault\": {\"id\": \"8858996\", \"total_order\": 1, \"data_collection_order\": 1}}}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 1, \"year\": {\"int\": 2016}, \"violation_desc\": {\"string\": \"DRIVING WHILE INTOXICATED\"}, \"violation_code\": {\"string\": \"11923\"}, \"case_individual_id\": {\"int\": 17475366}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1600945380000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963857, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963857}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 3, \"year\": {\"int\": 2016}, \"violation_desc\": {\"string\": \"AGGRAVATED UNLIC OPER 2ND/PREV CONV\"}, \"violation_code\": {\"string\": \"5112A1\"}, \"case_individual_id\": {\"int\": 17475367}, \"flag\": {\"string\": \"U\"}, \"last_modified_ts\": 1600959600000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963857, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963857}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 4, \"year\": {\"int\": 2019}, \"violation_desc\": {\"string\": \"AGGRAVATED UNLIC OPER 2ND/PREV\"}, \"violation_code\": {\"string\": \"5112A2\"}, \"case_individual_id\": {\"int\": 17475368}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1569337200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963857, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963857}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 5, \"year\": {\"int\": 2018}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475569}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601374200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963857, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963857}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 7, \"year\": {\"int\": 2018}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475571}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601375400000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963857, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963857}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 2, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"2180F\"}, \"case_individual_id\": {\"int\": 17475569}, \"flag\": {\"string\": \"U\"}, \"last_modified_ts\": 1601377200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963857, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963857}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 6, \"year\": {\"int\": 2018}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"2180F\"}, \"case_individual_id\": {\"int\": 17475570}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601374800000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963857, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963857}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 8, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475572}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601376600000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963857, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963857}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 9, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475573}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601377200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963857, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963857}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 10, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180D\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601377800000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963858, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963858}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 11, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180D\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601381400000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963858, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963858}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 12, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601385000000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963858, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963858}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 13, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601388600000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963858, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963858}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 34, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601392200000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963858, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963858}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 35, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601395800000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963858, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963858}, \"transaction\": null}\r\n{\"before\": null, \"after\": {\"Value\": {\"inc_id\": 36, \"year\": {\"int\": 2020}, \"violation_desc\": {\"string\": \"UNREASONABLE SPEED/SPECIAL HAZARDS\"}, \"violation_code\": {\"string\": \"1180E\"}, \"case_individual_id\": {\"int\": 17475574}, \"flag\": {\"string\": \"I\"}, \"last_modified_ts\": 1601398800000000}}, \"source\": {\"version\": \"1.2.2.Final\", \"connector\": \"postgresql\", \"name\": \"airflow\", \"ts_ms\": 1601985963858, \"snapshot\": {\"string\": \"true\"}, \"db\": \"airflow\", \"schema\": \"public\", \"table\": \"motor_crash_violation_incidents\", \"txId\": {\"long\": 10537240}, \"lsn\": {\"long\": 529139832}, \"xmin\": null}, \"op\": \"r\", \"ts_ms\": {\"long\": 1601985963858}, \"transaction\": null}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706123886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706184443","html_url":"https://github.com/apache/hudi/pull/2157#issuecomment-706184443","issue_url":"https://api.github.com/repos/apache/hudi/issues/2157","id":706184443,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjE4NDQ0Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T13:35:36Z","updated_at":"2020-10-11T06:25:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2157?src=pr&el=h1) Report\n> Merging [#2157](https://codecov.io/gh/apache/hudi/pull/2157?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/788d236c443eb4ced819f9305ed8e0460b5984b7?el=desc) will **decrease** coverage by `0.00%`.\n> The diff coverage is `85.71%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2157/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2157?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2157      +/-   ##\n============================================\n- Coverage     53.61%   53.61%   -0.01%     \n- Complexity     2845     2847       +2     \n============================================\n  Files           359      359              \n  Lines         16535    16547      +12     \n  Branches       1777     1780       +3     \n============================================\n+ Hits           8866     8871       +5     \n- Misses         6912     6919       +7     \n  Partials        757      757              \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.70% <> (-0.04%)` | `1793.00 <> ()` | |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.48% <> (-0.03%)` | `304.00 <> (+1.00)` | :arrow_down: |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `70.07% <85.71%> (+0.09%)` | `326.00 <5.00> (+1.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2157?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...udi/utilities/sources/helpers/DFSPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2157/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9ERlNQYXRoU2VsZWN0b3IuamF2YQ==) | `86.84% <85.71%> (+4.79%)` | `13.00 <5.00> (+1.00)` | |\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/2157/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `76.19% <0.00%> (-2.30%)` | `20.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [.../org/apache/hudi/common/model/HoodieTableType.java](https://codecov.io/gh/apache/hudi/pull/2157/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVRhYmxlVHlwZS5qYXZh) | `100.00% <0.00%> ()` | `1.00% <0.00%> (%)` | |\n| [.../apache/hudi/common/table/TableSchemaResolver.java](https://codecov.io/gh/apache/hudi/pull/2157/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL1RhYmxlU2NoZW1hUmVzb2x2ZXIuamF2YQ==) | `0.00% <0.00%> ()` | `0.00% <0.00%> (%)` | |\n| [...i/common/model/OverwriteWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2157/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZVdpdGhMYXRlc3RBdnJvUGF5bG9hZC5qYXZh) | `64.70% <0.00%> ()` | `10.00% <0.00%> (%)` | |\n| [...del/OverwriteNonDefaultsWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2157/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZU5vbkRlZmF1bHRzV2l0aExhdGVzdEF2cm9QYXlsb2FkLmphdmE=) | `78.94% <0.00%> ()` | `5.00% <0.00%> (%)` | |\n| [...main/scala/org/apache/hudi/DataSourceOptions.scala](https://codecov.io/gh/apache/hudi/pull/2157/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvRGF0YVNvdXJjZU9wdGlvbnMuc2NhbGE=) | `94.82% <0.00%> (+0.09%)` | `0.00% <0.00%> (%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706184443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706289720","html_url":"https://github.com/apache/hudi/pull/2161#issuecomment-706289720","issue_url":"https://api.github.com/repos/apache/hudi/issues/2161","id":706289720,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjI4OTcyMA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T16:50:18Z","updated_at":"2020-10-09T16:50:18Z","author_association":"CONTRIBUTOR","body":"@yanghua @leesf please take a look when free","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706289720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706340613","html_url":"https://github.com/apache/hudi/pull/2161#issuecomment-706340613","issue_url":"https://api.github.com/repos/apache/hudi/issues/2161","id":706340613,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjM0MDYxMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T18:35:20Z","updated_at":"2020-10-10T04:52:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2161?src=pr&el=h1) Report\n> Merging [#2161](https://codecov.io/gh/apache/hudi/pull/2161?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/1d1d91d444b6af2b24b17d94068512a930877a98?el=desc) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2161/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2161?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #2161   +/-   ##\n=========================================\n  Coverage     53.61%   53.61%           \n  Complexity     2845     2845           \n=========================================\n  Files           359      359           \n  Lines         16535    16535           \n  Branches       1777     1777           \n=========================================\n  Hits           8866     8866           \n  Misses         6912     6912           \n  Partials        757      757           \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.74% <> ()` | `1793.00 <> ()` | |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.51% <> ()` | `303.00 <> ()` | |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `69.98% <> ()` | `325.00 <> ()` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2161?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [.../org/apache/hudi/common/model/HoodieTableType.java](https://codecov.io/gh/apache/hudi/pull/2161/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVRhYmxlVHlwZS5qYXZh) | `100.00% <0.00%> ()` | `1.00% <0.00%> (%)` | |\n| [...i/common/model/OverwriteWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2161/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZVdpdGhMYXRlc3RBdnJvUGF5bG9hZC5qYXZh) | `64.70% <0.00%> ()` | `10.00% <0.00%> (%)` | |\n| [...del/OverwriteNonDefaultsWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2161/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZU5vbkRlZmF1bHRzV2l0aExhdGVzdEF2cm9QYXlsb2FkLmphdmE=) | `78.94% <0.00%> ()` | `5.00% <0.00%> (%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706340613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706341395","html_url":"https://github.com/apache/hudi/pull/2129#issuecomment-706341395","issue_url":"https://api.github.com/repos/apache/hudi/issues/2129","id":706341395,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjM0MTM5NQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T18:37:08Z","updated_at":"2020-10-09T18:37:08Z","author_association":"MEMBER","body":"@n3nash @pratyakshsharma @bschell can any of you review this?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706341395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706352107","html_url":"https://github.com/apache/hudi/issues/1977#issuecomment-706352107","issue_url":"https://api.github.com/repos/apache/hudi/issues/1977","id":706352107,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjM1MjEwNw==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T19:00:40Z","updated_at":"2020-10-09T19:00:40Z","author_association":"NONE","body":"By any chance, does anyone have a working example I can follow to get Hudi to work with AWS glue? I have added the jars to a S3 path and am adding as extra jars parameter to the glue job. However, I am still getting ClassNotFoundException when running a simple job to write a hudi dataset.\r\n\r\nPy4JJavaError: An error occurred while calling o298.save. : java.lang.ClassNotFoundException: Failed to find data source: hoodie. Please find packages at http://spark.apache.org/third-party-projects.html at org.apache.spark.sql.execution.datasources.DataSource$.lookupDataSource(DataSource.scala:657) at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:245) at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:229) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244) at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357) at py4j.Gateway.invoke(Gateway.java:282) at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132) at py4j.commands.CallCommand.execute(CallCommand.java:79) at py4j.GatewayConnection.run(GatewayConnection.java:238) at java.lang.Thread.run(Thread.java:748) Caused by: java.lang.ClassNotFoundException: hoodie.DefaultSource at java.net.URLClassLoader.findClass(URLClassLoader.java:382) at java.lang.ClassLoader.loadClass(ClassLoader.java:418) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) at java.lang.ClassLoader.loadClass(ClassLoader.java:351) at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$20$$anonfun$apply$12.apply(DataSource.scala:634) at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$20$$anonfun$apply$12.apply(DataSource.scala:634) at scala.util.Try$.apply(Try.scala:192) at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$20.apply(DataSource.scala:634) at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$20.apply(DataSource.scala:634) at scala.util.Try.orElse(Try.scala:84) at org.apache.spark.sql.execution.datasources.DataSource$.lookupDataSource(DataSource.scala:634) ... 13 more","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706352107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706393811","html_url":"https://github.com/apache/hudi/issues/1977#issuecomment-706393811","issue_url":"https://api.github.com/repos/apache/hudi/issues/1977","id":706393811,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjM5MzgxMQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T20:42:59Z","updated_at":"2020-10-09T20:42:59Z","author_association":"CONTRIBUTOR","body":"Can you try \"hudi\" or \"org.apache.hudi\" as data-source name ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706393811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706397212","html_url":"https://github.com/apache/hudi/issues/1977#issuecomment-706397212","issue_url":"https://api.github.com/repos/apache/hudi/issues/1977","id":706397212,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjM5NzIxMg==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T20:51:54Z","updated_at":"2020-10-09T20:51:54Z","author_association":"NONE","body":"I have tried both and both give me the same classnotfound error.\r\nI'm trying to write out a data frame and am not passing any extra options\r\n\r\ndf.write\\\r\n    .format(\"hudi\")\\\r\n    .mode(\"overwrite\")\\\r\n    .save(s3_path)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706397212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706400445","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706400445","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706400445,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQwMDQ0NQ==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T21:00:54Z","updated_at":"2020-10-09T21:00:54Z","author_association":"NONE","body":"@bvaradar Thanks for helping here. But still issue is not solved.\r\n\r\nThe Freshness of data is coming as a big concern. Probably i am missing something here.\r\n\r\n- If I run Compaction after every X min, we should get fresh data till X min. (irrespective of number of delta commits)\r\n\r\n- Putting `Inline.compact=false and delta.commits=1 and async.compact=true`, is not helping out this is generating Compaction request only for 1 delta commit.\r\nIf a compaction request exists then it is not generating compaction request after every df.write().\r\n\r\n- Also, as suggested we cannot run df.write() and  `Option<String> instantTime=client.scheduleCompaction(Option.empty());` concurrently.\r\n\r\nThe problem still remains same tht if I have delta.commits=5 and i have only 3 delta commits and I run compaction then i would not get fresh data and compaction request would not even kick in.\r\n\r\nHow do i solve this problem?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706400445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706400565","html_url":"https://github.com/apache/hudi/issues/1977#issuecomment-706400565","issue_url":"https://api.github.com/repos/apache/hudi/issues/1977","id":706400565,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQwMDU2NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T21:01:14Z","updated_at":"2020-10-09T21:01:14Z","author_association":"CONTRIBUTOR","body":"cc @umehrot2 : Any ideas ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706400565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706401462","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-706401462","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":706401462,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQwMTQ2Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T21:03:36Z","updated_at":"2020-10-09T21:03:36Z","author_association":"CONTRIBUTOR","body":"Let me try with the sample data you provided and get back over the weekend.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706401462/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706402272","html_url":"https://github.com/apache/hudi/issues/1977#issuecomment-706402272","issue_url":"https://api.github.com/repos/apache/hudi/issues/1977","id":706402272,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQwMjI3Mg==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T21:05:44Z","updated_at":"2020-10-09T21:06:46Z","author_association":"NONE","body":"To give some more info, in my glue job, i add the following parameters:\r\n\r\n--extra-jars\": s3://my_s3_bucket/hudi_jars/\r\n--conf: \"spark.serializer=org.apache.spark.serializer.KryoSerializer --conf spark.sql.hive.convertMetastoreParquet=false\"\r\n\r\nI have also tested with --user-jars-first: true but that did not help\r\n\r\nbelow is how i build my test data. \r\n\r\ntest_json = [\r\n {\r\n   \"key\": \"test1\"\r\n },\r\n {\r\n   \"key\": \"test2\"\r\n }\r\n]\r\n\r\nrdd = sc.parallelize(test_json)\r\ndf = spark.read.json(rdd)\r\n\r\nBelow are the jars in my s3 location\r\n  spark-avro_2.11-2.4.4.jar\r\n  hudi-spark-bundle_2.11-0.6.1-SNAPSHOT.jar\r\n  httpclient-4.5.13.jar","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706402272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706419658","html_url":"https://github.com/apache/hudi/pull/2157#issuecomment-706419658","issue_url":"https://api.github.com/repos/apache/hudi/issues/2157","id":706419658,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQxOTY1OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T22:10:31Z","updated_at":"2020-10-09T22:10:31Z","author_association":"MEMBER","body":"@hotienvu do you mind creating a JIRA for this please?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706419658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706419726","html_url":"https://github.com/apache/hudi/issues/1977#issuecomment-706419726","issue_url":"https://api.github.com/repos/apache/hudi/issues/1977","id":706419726,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQxOTcyNg==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T22:10:52Z","updated_at":"2020-10-09T22:10:52Z","author_association":"CONTRIBUTOR","body":"Can you try the following:\r\n\r\n```\r\n--jars s3://my_s3_bucket/hudi_jars/hudi-spark-bundle_2.11-0.6.1-SNAPSHOT.jar,s3://my_s3_bucket/hudi_jars/spark-avro_2.11-2.4.4.jar,s3://my_s3_bucket/hudi_jars/httpclient-4.5.13.jar\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706419726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706423177","html_url":"https://github.com/apache/hudi/issues/2153#issuecomment-706423177","issue_url":"https://api.github.com/repos/apache/hudi/issues/2153","id":706423177,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQyMzE3Nw==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T22:21:07Z","updated_at":"2020-10-09T22:21:07Z","author_association":"CONTRIBUTOR","body":"I think this is a manifestation of a bug with EmrFS that has been fixed in future EMR releases. Is it possible for you to give any release >= `emr-5.30.0` a shot ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706423177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706425352","html_url":"https://github.com/apache/hudi/issues/2089#issuecomment-706425352","issue_url":"https://api.github.com/repos/apache/hudi/issues/2089","id":706425352,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQyNTM1Mg==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T22:26:23Z","updated_at":"2020-10-09T22:26:23Z","author_association":"CONTRIBUTOR","body":"Thanks for opening the AWS support ticket. Hope they are able to help out. I will close this issue as it is no longer in Hudi scope.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706425352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706440017","html_url":"https://github.com/apache/hudi/issues/1977#issuecomment-706440017","issue_url":"https://api.github.com/repos/apache/hudi/issues/1977","id":706440017,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQ0MDAxNw==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T23:16:16Z","updated_at":"2020-10-09T23:16:16Z","author_association":"NONE","body":"Hello umehrot2, I added your suggestion to the glue job parameters and still get an error:\r\n\r\nTraceback (most recent call last): File \"/tmp/test_hudi.py\", line 86, in <module> .save(s3_path) File \"/opt/amazon/spark/python/lib/pyspark.zip/pyspark/sql/readwriter.py\", line 734, in save self._jwrite.save(path) File \"/opt/amazon/spark/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py\", line 1257, in __call__ answer, self.gateway_client, self.target_id, self.name) File \"/opt/amazon/spark/python/lib/pyspark.zip/pyspark/sql/utils.py\", line 63, in deco return f(*a, **kw) File \"/opt/amazon/spark/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py\", line 328, in get_return_value format(target_id, \".\", name), value) py4j.protocol.Py4JJavaError: An error occurred while calling o304.save. : java.lang.ClassNotFoundException: Failed to find data source: hudi. Please find packages at http://spark.apache.org/third-party-projects.html at org.apache.spark.sql.execution.datasources.DataSource$.lookupDataSource(DataSource.scala:657) at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:245) at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:229) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244) at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357) at py4j.Gateway.invoke(Gateway.java:282) at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132) at py4j.commands.CallCommand.execute(CallCommand.java:79) at py4j.GatewayConnection.run(GatewayConnection.java:238) at java.lang.Thread.run(Thread.java:748) Caused by: java.lang.ClassNotFoundException: hudi.DefaultSource at java.net.URLClassLoader.findClass(URLClassLoader.java:382) at java.lang.ClassLoader.loadClass(ClassLoader.java:418) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) at java.lang.ClassLoader.loadClass(ClassLoader.java:351) at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$20$$anonfun$apply$12.apply(DataSource.scala:634) at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$20$$anonfun$apply$12.apply(DataSource.scala:634) at scala.util.Try$.apply(Try.scala:192) at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$20.apply(DataSource.scala:634) at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$20.apply(DataSource.scala:634) at scala.util.Try.orElse(Try.scala:84) at org.apache.spark.sql.execution.datasources.DataSource$.lookupDataSource(DataSource.scala:634) ... 13 more","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706440017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706445482","html_url":"https://github.com/apache/hudi/issues/1977#issuecomment-706445482","issue_url":"https://api.github.com/repos/apache/hudi/issues/1977","id":706445482,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQ0NTQ4Mg==","user":{"login":"rchamarthi","id":3937055,"node_id":"MDQ6VXNlcjM5MzcwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/3937055?v=4","gravatar_id":"","url":"https://api.github.com/users/rchamarthi","html_url":"https://github.com/rchamarthi","followers_url":"https://api.github.com/users/rchamarthi/followers","following_url":"https://api.github.com/users/rchamarthi/following{/other_user}","gists_url":"https://api.github.com/users/rchamarthi/gists{/gist_id}","starred_url":"https://api.github.com/users/rchamarthi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rchamarthi/subscriptions","organizations_url":"https://api.github.com/users/rchamarthi/orgs","repos_url":"https://api.github.com/users/rchamarthi/repos","events_url":"https://api.github.com/users/rchamarthi/events{/privacy}","received_events_url":"https://api.github.com/users/rchamarthi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T23:42:58Z","updated_at":"2020-10-09T23:46:53Z","author_association":"NONE","body":"@kimberlyamandalu I have a version of this working, but with GlueDevEndpoints, which has pretty similar behavior. Here are the settings I have.\r\n\r\n* Extra jars should have the *full path* of the jar file\r\n\r\n```\r\n--extra-jars \"s3://mybucket/jars//hudi-spark-bundle_2.11-0.5.2-incubating.jar, s3://mybucket/jars/spark-avro_2.11-2.4.4.jar\"\r\n```\r\n\r\nJob configuration should include the following config paramters\r\n\r\n```\r\n--conf \"spark.serializer=org.apache.spark.serializer.KryoSerializer\" --conf \"spark.sql.hive.convertMetastoreParquet=false\"\r\n```\r\n\r\nHere's the sample pyspark command that I ran and the format I used is just \"hudi\"\r\n\r\n```\r\n(inputDF1.write\r\n .format(\"hudi\")\r\n .options(**hudi_options)\r\n .mode(\"overwrite\")\r\n .save(args['target_s3_path']))\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706445482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706450360","html_url":"https://github.com/apache/hudi/issues/2153#issuecomment-706450360","issue_url":"https://api.github.com/repos/apache/hudi/issues/2153","id":706450360,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQ1MDM2MA==","user":{"login":"prashanthvg89","id":8704802,"node_id":"MDQ6VXNlcjg3MDQ4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/8704802?v=4","gravatar_id":"","url":"https://api.github.com/users/prashanthvg89","html_url":"https://github.com/prashanthvg89","followers_url":"https://api.github.com/users/prashanthvg89/followers","following_url":"https://api.github.com/users/prashanthvg89/following{/other_user}","gists_url":"https://api.github.com/users/prashanthvg89/gists{/gist_id}","starred_url":"https://api.github.com/users/prashanthvg89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashanthvg89/subscriptions","organizations_url":"https://api.github.com/users/prashanthvg89/orgs","repos_url":"https://api.github.com/users/prashanthvg89/repos","events_url":"https://api.github.com/users/prashanthvg89/events{/privacy}","received_events_url":"https://api.github.com/users/prashanthvg89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T00:08:12Z","updated_at":"2020-10-10T00:08:12Z","author_association":"NONE","body":"Sure, will try emr-5.30.0 and hudi-0.6.0. The issue appears intermittently. Since the upgrade is the only option right now, may be we can close the issue. I'll reopen if I see it again even after upgrades. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706450360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706452616","html_url":"https://github.com/apache/hudi/issues/1977#issuecomment-706452616","issue_url":"https://api.github.com/repos/apache/hudi/issues/1977","id":706452616,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQ1MjYxNg==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T00:18:52Z","updated_at":"2020-10-10T00:18:52Z","author_association":"NONE","body":"@rchamarthi thank you.\r\nI will try using individual paths to the jar files tomorrow and let this group lnow if it works","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706452616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706466997","html_url":"https://github.com/apache/hudi/pull/2129#issuecomment-706466997","issue_url":"https://api.github.com/repos/apache/hudi/issues/2129","id":706466997,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQ2Njk5Nw==","user":{"login":"cdmikechen","id":12069428,"node_id":"MDQ6VXNlcjEyMDY5NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12069428?v=4","gravatar_id":"","url":"https://api.github.com/users/cdmikechen","html_url":"https://github.com/cdmikechen","followers_url":"https://api.github.com/users/cdmikechen/followers","following_url":"https://api.github.com/users/cdmikechen/following{/other_user}","gists_url":"https://api.github.com/users/cdmikechen/gists{/gist_id}","starred_url":"https://api.github.com/users/cdmikechen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdmikechen/subscriptions","organizations_url":"https://api.github.com/users/cdmikechen/orgs","repos_url":"https://api.github.com/users/cdmikechen/repos","events_url":"https://api.github.com/users/cdmikechen/events{/privacy}","received_events_url":"https://api.github.com/users/cdmikechen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T01:55:07Z","updated_at":"2020-10-10T01:55:07Z","author_association":"CONTRIBUTOR","body":"@satishkotha \r\nIt may have some duplicate parts with [HUDI-83](https://issues.apache.org/jira/projects/HUDI/issues/HUDI-83). So I added some comments in JIRA.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706466997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706495289","html_url":"https://github.com/apache/hudi/pull/2158#issuecomment-706495289","issue_url":"https://api.github.com/repos/apache/hudi/issues/2158","id":706495289,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjQ5NTI4OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T06:10:51Z","updated_at":"2020-10-10T06:38:48Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2158?src=pr&el=h1) Report\n> Merging [#2158](https://codecov.io/gh/apache/hudi/pull/2158?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/a86f5574ed68333f03165ae560a4d88812ba7478?el=desc) will **decrease** coverage by `6.25%`.\n> The diff coverage is `33.33%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2158/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2158?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2158      +/-   ##\n============================================\n- Coverage     59.86%   53.61%   -6.26%     \n+ Complexity     4322     2846    -1476     \n============================================\n  Files           552      359     -193     \n  Lines         22930    16537    -6393     \n  Branches       2314     1778     -536     \n============================================\n- Hits          13727     8866    -4861     \n+ Misses         8195     6913    -1282     \n+ Partials       1008      758     -250     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> (-27.65%)` | `193.00 <> (-1579.00)` | |\n| #hudiclient | `100.00% <> (+25.59%)` | `0.00 <> (-1579.00)` | :arrow_up: |\n| #hudicommon | `54.73% <33.33%> (-0.07%)` | `1794.00 <4.00> (+89.00)` | :arrow_down: |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.51% <> (-1.66%)` | `303.00 <> (-7.00)` | |\n| #huditimelineservice | `62.29% <> (-1.19%)` | `50.00 <> (+3.00)` | :arrow_down: |\n| #hudiutilities | `69.98% <> (+0.66%)` | `325.00 <> (+18.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2158?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [.../main/java/org/apache/hudi/common/util/Option.java](https://codecov.io/gh/apache/hudi/pull/2158/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvT3B0aW9uLmphdmE=) | `66.66% <33.33%> (-3.61%)` | `23.00 <4.00> (+1.00)` | :arrow_down: |\n| [...n/java/org/apache/hudi/internal/DefaultSource.java](https://codecov.io/gh/apache/hudi/pull/2158/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9pbnRlcm5hbC9EZWZhdWx0U291cmNlLmphdmE=) | `0.00% <0.00%> (-80.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/internal/HoodieWriterCommitMessage.java](https://codecov.io/gh/apache/hudi/pull/2158/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9pbnRlcm5hbC9Ib29kaWVXcml0ZXJDb21taXRNZXNzYWdlLmphdmE=) | `83.33% <0.00%> (-16.67%)` | `2.00% <0.00%> (-1.00%)` | |\n| [...a/org/apache/hudi/common/util/CollectionUtils.java](https://codecov.io/gh/apache/hudi/pull/2158/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvQ29sbGVjdGlvblV0aWxzLmphdmE=) | `11.53% <0.00%> (-15.39%)` | `3.00% <0.00%> (-2.00%)` | |\n| [.../hudi/internal/HoodieDataSourceInternalWriter.java](https://codecov.io/gh/apache/hudi/pull/2158/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9pbnRlcm5hbC9Ib29kaWVEYXRhU291cmNlSW50ZXJuYWxXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-8.98%)` | `6.00% <0.00%> (-2.00%)` | |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/2158/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllU3BhcmtTcWxXcml0ZXIuc2NhbGE=) | `51.14% <0.00%> (-3.76%)` | `0.00% <0.00%> (%)` | |\n| [...common/table/view/AbstractTableFileSystemView.java](https://codecov.io/gh/apache/hudi/pull/2158/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvQWJzdHJhY3RUYWJsZUZpbGVTeXN0ZW1WaWV3LmphdmE=) | `83.33% <0.00%> (-2.72%)` | `133.00% <0.00%> (+28.00%)` | :arrow_down: |\n| [.../apache/hudi/timeline/service/TimelineService.java](https://codecov.io/gh/apache/hudi/pull/2158/diff?src=pr&el=tree#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvVGltZWxpbmVTZXJ2aWNlLmphdmE=) | `25.00% <0.00%> (-2.54%)` | `6.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...udi/utilities/sources/helpers/DFSPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2158/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9ERlNQYXRoU2VsZWN0b3IuamF2YQ==) | `82.05% <0.00%> (-2.16%)` | `12.00% <0.00%> (%)` | |\n| [...di/common/table/timeline/HoodieActiveTimeline.java](https://codecov.io/gh/apache/hudi/pull/2158/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZUFjdGl2ZVRpbWVsaW5lLmphdmE=) | `73.73% <0.00%> (-1.92%)` | `40.00% <0.00%> (%)` | |\n| ... and [240 more](https://codecov.io/gh/apache/hudi/pull/2158/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706495289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706519293","html_url":"https://github.com/apache/hudi/pull/2157#issuecomment-706519293","issue_url":"https://api.github.com/repos/apache/hudi/issues/2157","id":706519293,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjUxOTI5Mw==","user":{"login":"hotienvu","id":1747423,"node_id":"MDQ6VXNlcjE3NDc0MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1747423?v=4","gravatar_id":"","url":"https://api.github.com/users/hotienvu","html_url":"https://github.com/hotienvu","followers_url":"https://api.github.com/users/hotienvu/followers","following_url":"https://api.github.com/users/hotienvu/following{/other_user}","gists_url":"https://api.github.com/users/hotienvu/gists{/gist_id}","starred_url":"https://api.github.com/users/hotienvu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hotienvu/subscriptions","organizations_url":"https://api.github.com/users/hotienvu/orgs","repos_url":"https://api.github.com/users/hotienvu/repos","events_url":"https://api.github.com/users/hotienvu/events{/privacy}","received_events_url":"https://api.github.com/users/hotienvu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T09:28:12Z","updated_at":"2020-10-10T09:28:12Z","author_association":"CONTRIBUTOR","body":"@vinothchandar sure, https://issues.apache.org/jira/browse/HUDI-1330 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706519293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706535432","html_url":"https://github.com/apache/hudi/pull/2106#issuecomment-706535432","issue_url":"https://api.github.com/repos/apache/hudi/issues/2106","id":706535432,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjUzNTQzMg==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T11:38:55Z","updated_at":"2020-10-10T11:38:55Z","author_association":"CONTRIBUTOR","body":"@Karl-WangSK Can you fix the conflicts? thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706535432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706555322","html_url":"https://github.com/apache/hudi/pull/2163#issuecomment-706555322","issue_url":"https://api.github.com/repos/apache/hudi/issues/2163","id":706555322,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjU1NTMyMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T14:13:36Z","updated_at":"2020-10-10T14:43:35Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2163?src=pr&el=h1) Report\n> Merging [#2163](https://codecov.io/gh/apache/hudi/pull/2163?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/1d1d91d444b6af2b24b17d94068512a930877a98?el=desc) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2163/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2163?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2163      +/-   ##\n============================================\n- Coverage     53.61%   53.60%   -0.02%     \n- Complexity     2845     2846       +1     \n============================================\n  Files           359      359              \n  Lines         16535    16548      +13     \n  Branches       1777     1780       +3     \n============================================\n+ Hits           8866     8870       +4     \n- Misses         6912     6920       +8     \n- Partials        757      758       +1     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.70% <> (-0.04%)` | `1793.00 <> ()` | |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.48% <> (-0.03%)` | `304.00 <> (+1.00)` | :arrow_down: |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `69.98% <> ()` | `325.00 <> ()` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2163?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...pache/hudi/io/storage/HoodieFileReaderFactory.java](https://codecov.io/gh/apache/hudi/pull/2163/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vc3RvcmFnZS9Ib29kaWVGaWxlUmVhZGVyRmFjdG9yeS5qYXZh) | `50.00% <> ()` | `3.00 <0.00> ()` | |\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/2163/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `76.19% <0.00%> (-2.30%)` | `20.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [.../org/apache/hudi/common/model/HoodieTableType.java](https://codecov.io/gh/apache/hudi/pull/2163/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVRhYmxlVHlwZS5qYXZh) | `100.00% <0.00%> ()` | `1.00% <0.00%> (%)` | |\n| [.../apache/hudi/common/table/TableSchemaResolver.java](https://codecov.io/gh/apache/hudi/pull/2163/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL1RhYmxlU2NoZW1hUmVzb2x2ZXIuamF2YQ==) | `0.00% <0.00%> ()` | `0.00% <0.00%> (%)` | |\n| [...i/common/model/OverwriteWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2163/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZVdpdGhMYXRlc3RBdnJvUGF5bG9hZC5qYXZh) | `64.70% <0.00%> ()` | `10.00% <0.00%> (%)` | |\n| [...del/OverwriteNonDefaultsWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2163/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZU5vbkRlZmF1bHRzV2l0aExhdGVzdEF2cm9QYXlsb2FkLmphdmE=) | `78.94% <0.00%> ()` | `5.00% <0.00%> (%)` | |\n| [...main/scala/org/apache/hudi/DataSourceOptions.scala](https://codecov.io/gh/apache/hudi/pull/2163/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvRGF0YVNvdXJjZU9wdGlvbnMuc2NhbGE=) | `94.82% <0.00%> (+0.09%)` | `0.00% <0.00%> (%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706555322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706560812","html_url":"https://github.com/apache/hudi/pull/2164#issuecomment-706560812","issue_url":"https://api.github.com/repos/apache/hudi/issues/2164","id":706560812,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjU2MDgxMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T14:48:01Z","updated_at":"2020-10-10T15:18:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2164?src=pr&el=h1) Report\n> Merging [#2164](https://codecov.io/gh/apache/hudi/pull/2164?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/1d1d91d444b6af2b24b17d94068512a930877a98?el=desc) will **decrease** coverage by `0.00%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2164/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2164?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2164      +/-   ##\n============================================\n- Coverage     53.61%   53.61%   -0.01%     \n- Complexity     2845     2846       +1     \n============================================\n  Files           359      359              \n  Lines         16535    16544       +9     \n  Branches       1777     1779       +2     \n============================================\n+ Hits           8866     8870       +4     \n- Misses         6912     6916       +4     \n- Partials        757      758       +1     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.73% <100.00%> (-0.02%)` | `1793.00 <0.00> ()` | |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.48% <> (-0.03%)` | `304.00 <> (+1.00)` | :arrow_down: |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `69.98% <> ()` | `325.00 <> ()` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2164?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...che/hudi/common/table/log/HoodieLogFileReader.java](https://codecov.io/gh/apache/hudi/pull/2164/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGaWxlUmVhZGVyLmphdmE=) | `73.54% <> ()` | `25.00 <0.00> ()` | |\n| [...rg/apache/hudi/common/util/SerializationUtils.java](https://codecov.io/gh/apache/hudi/pull/2164/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvU2VyaWFsaXphdGlvblV0aWxzLmphdmE=) | `88.00% <> ()` | `3.00 <0.00> ()` | |\n| [...ava/org/apache/hudi/exception/HoodieException.java](https://codecov.io/gh/apache/hudi/pull/2164/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0hvb2RpZUV4Y2VwdGlvbi5qYXZh) | `50.00% <> (+16.66%)` | `2.00 <0.00> ()` | |\n| [...e/hudi/exception/SchemaCompatibilityException.java](https://codecov.io/gh/apache/hudi/pull/2164/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL1NjaGVtYUNvbXBhdGliaWxpdHlFeGNlcHRpb24uamF2YQ==) | `33.33% <> ()` | `1.00 <0.00> (?)` | |\n| [...ain/java/org/apache/hudi/avro/HoodieAvroUtils.java](https://codecov.io/gh/apache/hudi/pull/2164/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYXZyby9Ib29kaWVBdnJvVXRpbHMuamF2YQ==) | `45.81% <100.00%> ()` | `31.00 <0.00> ()` | |\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/2164/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `76.19% <0.00%> (-2.30%)` | `20.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [.../org/apache/hudi/common/model/HoodieTableType.java](https://codecov.io/gh/apache/hudi/pull/2164/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVRhYmxlVHlwZS5qYXZh) | `100.00% <0.00%> ()` | `1.00% <0.00%> (%)` | |\n| [.../apache/hudi/common/table/TableSchemaResolver.java](https://codecov.io/gh/apache/hudi/pull/2164/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL1RhYmxlU2NoZW1hUmVzb2x2ZXIuamF2YQ==) | `0.00% <0.00%> ()` | `0.00% <0.00%> (%)` | |\n| [...i/common/model/OverwriteWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2164/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZVdpdGhMYXRlc3RBdnJvUGF5bG9hZC5qYXZh) | `64.70% <0.00%> ()` | `10.00% <0.00%> (%)` | |\n| [...del/OverwriteNonDefaultsWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2164/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZU5vbkRlZmF1bHRzV2l0aExhdGVzdEF2cm9QYXlsb2FkLmphdmE=) | `78.94% <0.00%> ()` | `5.00% <0.00%> (%)` | |\n| ... and [1 more](https://codecov.io/gh/apache/hudi/pull/2164/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706560812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706562456","html_url":"https://github.com/apache/hudi/pull/2106#issuecomment-706562456","issue_url":"https://api.github.com/repos/apache/hudi/issues/2106","id":706562456,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjU2MjQ1Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T14:59:47Z","updated_at":"2020-10-14T03:13:10Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2106?src=pr&el=h1) Report\n> Merging [#2106](https://codecov.io/gh/apache/hudi/pull/2106?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/585ce0094d6527bab988f7657b4e84d12274ee28?el=desc) will **decrease** coverage by `0.09%`.\n> The diff coverage is `25.86%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2106/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2106?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2106      +/-   ##\n============================================\n- Coverage     53.60%   53.51%   -0.10%     \n- Complexity     2846     2853       +7     \n============================================\n  Files           359      361       +2     \n  Lines         16548    16606      +58     \n  Branches       1780     1787       +7     \n============================================\n+ Hits           8870     8886      +16     \n- Misses         6920     6960      +40     \n- Partials        758      760       +2     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.50% <25.86%> (-0.21%)` | `1800.00 <6.00> (+7.00)` | :arrow_down: |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.48% <> ()` | `304.00 <> ()` | |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `70.07% <> (+0.09%)` | `325.00 <> ()` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2106?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [.../org/apache/hudi/common/model/BaseAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2106/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0Jhc2VBdnJvUGF5bG9hZC5qYXZh) | `50.00% <> ()` | `1.00 <0.00> ()` | |\n| [.../apache/hudi/common/model/HoodieRecordPayload.java](https://codecov.io/gh/apache/hudi/pull/2106/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVJlY29yZFBheWxvYWQuamF2YQ==) | `0.00% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [...g/apache/hudi/common/model/PartialAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2106/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL1BhcnRpYWxBdnJvUGF5bG9hZC5qYXZh) | `0.00% <0.00%> ()` | `0.00 <0.00> (?)` | |\n| [...i/common/model/OverwritePrecombineAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2106/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZVByZWNvbWJpbmVBdnJvUGF5bG9hZC5qYXZh) | `71.42% <71.42%> ()` | `6.00 <6.00> (?)` | |\n| [.../main/java/org/apache/hudi/common/util/Option.java](https://codecov.io/gh/apache/hudi/pull/2106/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvT3B0aW9uLmphdmE=) | `66.66% <0.00%> (-3.61%)` | `23.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...mmon/table/log/AbstractHoodieLogRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/2106/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9BYnN0cmFjdEhvb2RpZUxvZ1JlY29yZFNjYW5uZXIuamF2YQ==) | `79.68% <0.00%> (-1.92%)` | `29.00% <0.00%> (%)` | |\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/2106/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `76.19% <0.00%> ()` | `20.00% <0.00%> (%)` | |\n| [...rg/apache/hudi/common/util/SerializationUtils.java](https://codecov.io/gh/apache/hudi/pull/2106/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvU2VyaWFsaXphdGlvblV0aWxzLmphdmE=) | `88.00% <0.00%> ()` | `3.00% <0.00%> (%)` | |\n| [...pache/hudi/io/storage/HoodieFileReaderFactory.java](https://codecov.io/gh/apache/hudi/pull/2106/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vc3RvcmFnZS9Ib29kaWVGaWxlUmVhZGVyRmFjdG9yeS5qYXZh) | `50.00% <0.00%> ()` | `3.00% <0.00%> (%)` | |\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2106/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <0.00%> ()` | `18.00% <0.00%> (%)` | |\n| ... and [6 more](https://codecov.io/gh/apache/hudi/pull/2106/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706562456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706562819","html_url":"https://github.com/apache/hudi/pull/2106#issuecomment-706562819","issue_url":"https://api.github.com/repos/apache/hudi/issues/2106","id":706562819,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjU2MjgxOQ==","user":{"login":"Karl-WangSK","id":53078090,"node_id":"MDQ6VXNlcjUzMDc4MDkw","avatar_url":"https://avatars.githubusercontent.com/u/53078090?v=4","gravatar_id":"","url":"https://api.github.com/users/Karl-WangSK","html_url":"https://github.com/Karl-WangSK","followers_url":"https://api.github.com/users/Karl-WangSK/followers","following_url":"https://api.github.com/users/Karl-WangSK/following{/other_user}","gists_url":"https://api.github.com/users/Karl-WangSK/gists{/gist_id}","starred_url":"https://api.github.com/users/Karl-WangSK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Karl-WangSK/subscriptions","organizations_url":"https://api.github.com/users/Karl-WangSK/orgs","repos_url":"https://api.github.com/users/Karl-WangSK/repos","events_url":"https://api.github.com/users/Karl-WangSK/events{/privacy}","received_events_url":"https://api.github.com/users/Karl-WangSK/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T15:02:27Z","updated_at":"2020-10-10T15:02:27Z","author_association":"CONTRIBUTOR","body":"> @Karl-WangSK Can you fix the conflicts? thanks.\r\n\r\ndone","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706562819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706589829","html_url":"https://github.com/apache/hudi/issues/1977#issuecomment-706589829","issue_url":"https://api.github.com/repos/apache/hudi/issues/1977","id":706589829,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjU4OTgyOQ==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T18:12:40Z","updated_at":"2020-10-10T18:12:40Z","author_association":"NONE","body":"@rchamarthi specifying the individual jar files in the --extra-jars parameter did the trick!!\r\ni have successfully read and wrote hudi data sets!\r\n\r\nThank you very much to everyone for your very prompt responses!\r\n@rchamarthi @umehrot2 @bvaradar @KarthickAN \r\n\r\nReally appreciate your guys' help!!!! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706589829/reactions","total_count":3,"+1":1,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706603463","html_url":"https://github.com/apache/hudi/pull/2129#issuecomment-706603463","issue_url":"https://api.github.com/repos/apache/hudi/issues/2129","id":706603463,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjYwMzQ2Mw==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T19:59:55Z","updated_at":"2020-10-10T19:59:55Z","author_association":"CONTRIBUTOR","body":"Changes look good to me. @n3nash Do you have any concerns here?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706603463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706604964","html_url":"https://github.com/apache/hudi/pull/2085#issuecomment-706604964","issue_url":"https://api.github.com/repos/apache/hudi/issues/2085","id":706604964,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjYwNDk2NA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T20:11:48Z","updated_at":"2020-10-10T20:11:48Z","author_association":"CONTRIBUTOR","body":"LGTM. @vinothchandar do you have any more concerns here?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706604964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706605381","html_url":"https://github.com/apache/hudi/pull/2164#issuecomment-706605381","issue_url":"https://api.github.com/repos/apache/hudi/issues/2164","id":706605381,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjYwNTM4MQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T20:15:44Z","updated_at":"2020-10-10T20:15:44Z","author_association":"CONTRIBUTOR","body":"LGTM. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706605381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706608951","html_url":"https://github.com/apache/hudi/pull/2127#issuecomment-706608951","issue_url":"https://api.github.com/repos/apache/hudi/issues/2127","id":706608951,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjYwODk1MQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-10T20:44:09Z","updated_at":"2020-10-10T20:44:09Z","author_association":"CONTRIBUTOR","body":"lagging a bit. Will take a pass today and circle back. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706608951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706628702","html_url":"https://github.com/apache/hudi/pull/2091#issuecomment-706628702","issue_url":"https://api.github.com/repos/apache/hudi/issues/2091","id":706628702,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjYyODcwMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T00:10:26Z","updated_at":"2020-12-02T04:26:00Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2091?src=pr&el=h1) Report\n> Merging [#2091](https://codecov.io/gh/apache/hudi/pull/2091?src=pr&el=desc) (1ba5f9c) into [master](https://codecov.io/gh/apache/hudi/commit/78fd12259404cad8117862fdf0b948cbe115e453?el=desc) (78fd122) will **increase** coverage by `0.07%`.\n> The diff coverage is `81.48%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2091/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2091?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2091      +/-   ##\n============================================\n+ Coverage     53.45%   53.52%   +0.07%     \n- Complexity     2781     2782       +1     \n============================================\n  Files           354      354              \n  Lines         16158    16180      +22     \n  Branches       1648     1653       +5     \n============================================\n+ Hits           8637     8661      +24     \n+ Misses         6821     6817       -4     \n- Partials        700      702       +2     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| hudicli | `38.50% <> ()` | `0.00 <> ()` | |\n| hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| hudicommon | `55.13% <> (+0.05%)` | `0.00 <> ()` | |\n| hudihadoopmr | `32.94% <> ()` | `0.00 <> ()` | |\n| hudispark | `66.04% <81.48%> (+0.31%)` | `0.00 <0.00> ()` | |\n| huditimelineservice | `65.30% <> ()` | `0.00 <> ()` | |\n| hudiutilities | `70.06% <> ()` | `0.00 <> ()` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2091?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/2091/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllU3BhcmtTcWxXcml0ZXIuc2NhbGE=) | `53.97% <81.48%> (+2.66%)` | `0.00 <0.00> ()` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2091/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.81% <0.00%> (+1.69%)` | `23.00% <0.00%> (%)` | |\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/2091/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `89.65% <0.00%> (+10.34%)` | `16.00% <0.00%> (+1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706628702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706637405","html_url":"https://github.com/apache/hudi/pull/2167#issuecomment-706637405","issue_url":"https://api.github.com/repos/apache/hudi/issues/2167","id":706637405,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjYzNzQwNQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T01:55:11Z","updated_at":"2020-10-11T01:55:11Z","author_association":"MEMBER","body":"@yanghua this shall be the last migration PR of its kind. :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706637405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706639968","html_url":"https://github.com/apache/hudi/pull/2167#issuecomment-706639968","issue_url":"https://api.github.com/repos/apache/hudi/issues/2167","id":706639968,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjYzOTk2OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T02:30:32Z","updated_at":"2020-10-11T02:33:18Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2167?src=pr&el=h1) Report\n> Merging [#2167](https://codecov.io/gh/apache/hudi/pull/2167?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/585ce0094d6527bab988f7657b4e84d12274ee28?el=desc) will **increase** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2167/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2167?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2167      +/-   ##\n============================================\n+ Coverage     53.60%   53.61%   +0.01%     \n- Complexity     2846     2847       +1     \n============================================\n  Files           359      359              \n  Lines         16548    16548              \n  Branches       1780     1780              \n============================================\n+ Hits           8870     8873       +3     \n+ Misses         6920     6917       -3     \n  Partials        758      758              \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.73% <> (+0.03%)` | `1794.00 <> (+1.00)` | |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.48% <> ()` | `304.00 <> ()` | |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `69.98% <> ()` | `325.00 <> ()` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2167?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/2167/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `89.65% <0.00%> (+10.34%)` | `16.00% <0.00%> (+1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706639968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706649760","html_url":"https://github.com/apache/hudi/pull/2168#issuecomment-706649760","issue_url":"https://api.github.com/repos/apache/hudi/issues/2168","id":706649760,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjY0OTc2MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T04:51:19Z","updated_at":"2020-12-18T10:20:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2168?src=pr&el=h1) Report\n> Merging [#2168](https://codecov.io/gh/apache/hudi/pull/2168?src=pr&el=desc) (bc2ff51) into [master](https://codecov.io/gh/apache/hudi/commit/5f5c15b0d9f807dc7f9112a5220c3daeb01f0cb8?el=desc) (5f5c15b) will **decrease** coverage by `43.12%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2168/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2168?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2168       +/-   ##\n=============================================\n- Coverage     53.17%   10.05%   -43.13%     \n+ Complexity     2711       48     -2663     \n=============================================\n  Files           346       52      -294     \n  Lines         15928     1850    -14078     \n  Branches       1636      223     -1413     \n=============================================\n- Hits           8470      186     -8284     \n+ Misses         6769     1651     -5118     \n+ Partials        689       13      -676     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudispark | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.05% <> (-60.05%)` | `0.00 <> ()` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2168?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...hudi/utilities/schema/FilebasedSchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/2168/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9GaWxlYmFzZWRTY2hlbWFQcm92aWRlci5qYXZh) | `0.00% <> (-82.36%)` | `0.00 <0.00> (-5.00)` | |\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2168/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2168/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2168/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2168/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2168/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2168/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2168/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2168/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2168/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| ... and [326 more](https://codecov.io/gh/apache/hudi/pull/2168/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706649760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706699194","html_url":"https://github.com/apache/hudi/pull/2170#issuecomment-706699194","issue_url":"https://api.github.com/repos/apache/hudi/issues/2170","id":706699194,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjY5OTE5NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T12:41:29Z","updated_at":"2020-10-11T13:08:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2170?src=pr&el=h1) Report\n> Merging [#2170](https://codecov.io/gh/apache/hudi/pull/2170?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/1d1d91d444b6af2b24b17d94068512a930877a98?el=desc) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2170/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2170?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2170      +/-   ##\n============================================\n- Coverage     53.61%   53.60%   -0.02%     \n- Complexity     2845     2846       +1     \n============================================\n  Files           359      359              \n  Lines         16535    16548      +13     \n  Branches       1777     1780       +3     \n============================================\n+ Hits           8866     8870       +4     \n- Misses         6912     6920       +8     \n- Partials        757      758       +1     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.70% <> (-0.04%)` | `1793.00 <> ()` | |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.48% <> (-0.03%)` | `304.00 <> (+1.00)` | :arrow_down: |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `69.98% <> ()` | `325.00 <> ()` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2170?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/2170/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `76.19% <0.00%> (-2.30%)` | `20.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [.../org/apache/hudi/common/model/HoodieTableType.java](https://codecov.io/gh/apache/hudi/pull/2170/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVRhYmxlVHlwZS5qYXZh) | `100.00% <0.00%> ()` | `1.00% <0.00%> (%)` | |\n| [.../apache/hudi/common/table/TableSchemaResolver.java](https://codecov.io/gh/apache/hudi/pull/2170/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL1RhYmxlU2NoZW1hUmVzb2x2ZXIuamF2YQ==) | `0.00% <0.00%> ()` | `0.00% <0.00%> (%)` | |\n| [...i/common/model/OverwriteWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2170/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZVdpdGhMYXRlc3RBdnJvUGF5bG9hZC5qYXZh) | `64.70% <0.00%> ()` | `10.00% <0.00%> (%)` | |\n| [...del/OverwriteNonDefaultsWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2170/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZU5vbkRlZmF1bHRzV2l0aExhdGVzdEF2cm9QYXlsb2FkLmphdmE=) | `78.94% <0.00%> ()` | `5.00% <0.00%> (%)` | |\n| [...main/scala/org/apache/hudi/DataSourceOptions.scala](https://codecov.io/gh/apache/hudi/pull/2170/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvRGF0YVNvdXJjZU9wdGlvbnMuc2NhbGE=) | `94.82% <0.00%> (+0.09%)` | `0.00% <0.00%> (%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706699194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706720825","html_url":"https://github.com/apache/hudi/pull/2172#issuecomment-706720825","issue_url":"https://api.github.com/repos/apache/hudi/issues/2172","id":706720825,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjcyMDgyNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T15:21:29Z","updated_at":"2020-10-29T05:23:28Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2172?src=pr&el=h1) Report\n> Merging [#2172](https://codecov.io/gh/apache/hudi/pull/2172?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/736a9408549f66014bfdfdc72832be11aa9fd39b?el=desc) will **increase** coverage by `43.28%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2172/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2172?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2172       +/-   ##\n=============================================\n+ Coverage     10.39%   53.68%   +43.28%     \n- Complexity       48     2849     +2801     \n=============================================\n  Files            50      359      +309     \n  Lines          1779    16565    +14786     \n  Branches        211     1782     +1571     \n=============================================\n+ Hits            185     8893     +8708     \n- Misses         1581     6915     +5334     \n- Partials         13      757      +744     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> (?)` | `193.00 <> (?)` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.70% <> (?)` | `1794.00 <> (?)` | |\n| #hudihadoopmr | `33.05% <> (?)` | `181.00 <> (?)` | |\n| #hudispark | `65.95% <> (?)` | `304.00 <> (?)` | |\n| #huditimelineservice | `62.29% <> (?)` | `50.00 <> (?)` | |\n| #hudiutilities | `70.09% <> (+59.69%)` | `327.00 <> (+279.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2172?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...udi/common/util/queue/BoundedInMemoryExecutor.java](https://codecov.io/gh/apache/hudi/pull/2172/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvcXVldWUvQm91bmRlZEluTWVtb3J5RXhlY3V0b3IuamF2YQ==) | `0.00% <0.00%> ()` | `0.00% <0.00%> (?%)` | |\n| [...e/hudi/exception/HoodieCorruptedDataException.java](https://codecov.io/gh/apache/hudi/pull/2172/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0hvb2RpZUNvcnJ1cHRlZERhdGFFeGNlcHRpb24uamF2YQ==) | `0.00% <0.00%> ()` | `0.00% <0.00%> (?%)` | |\n| [...rg/apache/hudi/common/bloom/SimpleBloomFilter.java](https://codecov.io/gh/apache/hudi/pull/2172/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2Jsb29tL1NpbXBsZUJsb29tRmlsdGVyLmphdmE=) | `56.09% <0.00%> ()` | `6.00% <0.00%> (?%)` | |\n| [...rg/apache/hudi/common/fs/NoOpConsistencyGuard.java](https://codecov.io/gh/apache/hudi/pull/2172/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL05vT3BDb25zaXN0ZW5jeUd1YXJkLmphdmE=) | `60.00% <0.00%> ()` | `3.00% <0.00%> (?%)` | |\n| [...he/hudi/common/util/HoodieRecordSizeEstimator.java](https://codecov.io/gh/apache/hudi/pull/2172/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvSG9vZGllUmVjb3JkU2l6ZUVzdGltYXRvci5qYXZh) | `87.50% <0.00%> ()` | `3.00% <0.00%> (?%)` | |\n| [...va/org/apache/hudi/keygen/BuiltinKeyGenerator.java](https://codecov.io/gh/apache/hudi/pull/2172/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9rZXlnZW4vQnVpbHRpbktleUdlbmVyYXRvci5qYXZh) | `90.24% <0.00%> ()` | `21.00% <0.00%> (?%)` | |\n| [.../apache/hudi/common/bloom/BloomFilterTypeCode.java](https://codecov.io/gh/apache/hudi/pull/2172/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2Jsb29tL0Jsb29tRmlsdGVyVHlwZUNvZGUuamF2YQ==) | `100.00% <0.00%> ()` | `1.00% <0.00%> (?%)` | |\n| [...che/hudi/common/util/BufferedRandomAccessFile.java](https://codecov.io/gh/apache/hudi/pull/2172/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvQnVmZmVyZWRSYW5kb21BY2Nlc3NGaWxlLmphdmE=) | `51.75% <0.00%> ()` | `22.00% <0.00%> (?%)` | |\n| [...n/java/org/apache/hudi/common/metrics/Counter.java](https://codecov.io/gh/apache/hudi/pull/2172/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21ldHJpY3MvQ291bnRlci5qYXZh) | `100.00% <0.00%> ()` | `4.00% <0.00%> (?%)` | |\n| [...ache/hudi/exception/MetadataNotFoundException.java](https://codecov.io/gh/apache/hudi/pull/2172/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL01ldGFkYXRhTm90Rm91bmRFeGNlcHRpb24uamF2YQ==) | `0.00% <0.00%> ()` | `0.00% <0.00%> (?%)` | |\n| ... and [336 more](https://codecov.io/gh/apache/hudi/pull/2172/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706720825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706733081","html_url":"https://github.com/apache/hudi/issues/2153#issuecomment-706733081","issue_url":"https://api.github.com/repos/apache/hudi/issues/2153","id":706733081,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjczMzA4MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T16:46:15Z","updated_at":"2020-10-11T16:46:15Z","author_association":"CONTRIBUTOR","body":"Thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706733081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706733188","html_url":"https://github.com/apache/hudi/pull/2171#issuecomment-706733188","issue_url":"https://api.github.com/repos/apache/hudi/issues/2171","id":706733188,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjczMzE4OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T16:46:54Z","updated_at":"2020-10-11T17:18:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2171?src=pr&el=h1) Report\n> Merging [#2171](https://codecov.io/gh/apache/hudi/pull/2171?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/585ce0094d6527bab988f7657b4e84d12274ee28?el=desc) will **increase** coverage by `0.00%`.\n> The diff coverage is `91.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2171/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2171?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #2171   +/-   ##\n=========================================\n  Coverage     53.60%   53.60%           \n  Complexity     2846     2846           \n=========================================\n  Files           359      359           \n  Lines         16548    16547    -1     \n  Branches       1780     1780           \n=========================================\n  Hits           8870     8870           \n+ Misses         6920     6919    -1     \n  Partials        758      758           \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.69% <> (-0.02%)` | `1793.00 <> ()` | |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.48% <> ()` | `304.00 <> ()` | |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `70.07% <91.66%> (+0.09%)` | `325.00 <6.00> ()` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2171?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2171/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `69.54% <91.30%> (+0.69%)` | `18.00 <6.00> ()` | |\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2171/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <100.00%> ()` | `18.00 <0.00> ()` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2171/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `77.67% <0.00%> (-0.90%)` | `22.00% <0.00%> (%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706733188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706736204","html_url":"https://github.com/apache/hudi/pull/2173#issuecomment-706736204","issue_url":"https://api.github.com/repos/apache/hudi/issues/2173","id":706736204,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjczNjIwNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T17:09:51Z","updated_at":"2020-10-11T17:13:45Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2173?src=pr&el=h1) Report\n> Merging [#2173](https://codecov.io/gh/apache/hudi/pull/2173?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/585ce0094d6527bab988f7657b4e84d12274ee28?el=desc) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2173/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2173?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #2173   +/-   ##\n=========================================\n  Coverage     53.60%   53.60%           \n  Complexity     2846     2846           \n=========================================\n  Files           359      359           \n  Lines         16548    16548           \n  Branches       1780     1780           \n=========================================\n  Hits           8870     8870           \n  Misses         6920     6920           \n  Partials        758      758           \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.70% <> ()` | `1793.00 <> ()` | |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.48% <> ()` | `304.00 <> ()` | |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `69.98% <> ()` | `325.00 <> ()` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2173?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [...n/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala](https://codecov.io/gh/apache/hudi/pull/2173/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllTWVyZ2VPblJlYWRSREQuc2NhbGE=) | `82.19% <> ()` | `10.00 <0.00> ()` | |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/2173/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllU3BhcmtTcWxXcml0ZXIuc2NhbGE=) | `51.14% <> ()` | `0.00 <0.00> ()` | |\n| [...in/scala/org/apache/hudi/HoodieStreamingSink.scala](https://codecov.io/gh/apache/hudi/pull/2173/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllU3RyZWFtaW5nU2luay5zY2FsYQ==) | `24.00% <> ()` | `10.00 <0.00> ()` | |\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/2173/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `76.19% <> ()` | `20.00 <0.00> ()` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706736204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706764303","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-706764303","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":706764303,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjc2NDMwMw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-11T20:32:05Z","updated_at":"2020-10-11T20:32:05Z","author_association":"CONTRIBUTOR","body":"@ashishmgofficial : It looks like the json data and the avro schema are not matching correctly.  When I read the file through spark directly (please see below), I am getting an different schema than the one you provided. This is because debezium is configured to write in \"JSON_SCHEMA\" mode which I think is the default. This has both data and schema inlined and is inefficient in space.\r\n\r\nSince you are actually managing avro schemas, can you configure Debezium to write avro records directly rather than json. In my experiments (with a custom schema), I saw 8x speeded in Debezium by changing the format from json_schema to avro. If you still want to write as json, disable inline schema by setting the below debezium configs to false: \r\n    key.converter.schemas.enable\r\n   value.converter.schemas.enable\r\n\r\n\r\n==========\r\n\r\nscala> val df = spark.read.json(\"file:///var/hoodie/ws/docker/inp.json\")\r\ndf: org.apache.spark.sql.DataFrame = [after: struct<Value: struct<case_individual_id: struct<int: bigint>, flag: struct<string: string> ... 5 more fields>>, before: string ... 4 more fields]\r\n\r\nscala> df.printSchema()\r\nroot\r\n |-- after: struct (nullable = true)\r\n |    |-- Value: struct (nullable = true)\r\n |    |    |-- case_individual_id: struct (nullable = true)\r\n |    |    |    |-- int: long (nullable = true)\r\n |    |    |-- flag: struct (nullable = true)\r\n |    |    |    |-- string: string (nullable = true)\r\n |    |    |-- inc_id: long (nullable = true)\r\n |    |    |-- last_modified_ts: long (nullable = true)\r\n |    |    |-- violation_code: struct (nullable = true)\r\n |    |    |    |-- string: string (nullable = true)\r\n |    |    |-- violation_desc: struct (nullable = true)\r\n |    |    |    |-- string: string (nullable = true)\r\n |    |    |-- year: struct (nullable = true)\r\n |    |    |    |-- int: long (nullable = true)\r\n |-- before: string (nullable = true)\r\n |-- op: string (nullable = true)\r\n |-- source: struct (nullable = true)\r\n |    |-- connector: string (nullable = true)\r\n |    |-- db: string (nullable = true)\r\n |    |-- lsn: struct (nullable = true)\r\n |    |    |-- long: long (nullable = true)\r\n |    |-- name: string (nullable = true)\r\n |    |-- schema: string (nullable = true)\r\n |    |-- snapshot: struct (nullable = true)\r\n |    |    |-- string: string (nullable = true)\r\n |    |-- table: string (nullable = true)\r\n |    |-- ts_ms: long (nullable = true)\r\n |    |-- txId: struct (nullable = true)\r\n |    |    |-- long: long (nullable = true)\r\n |    |-- version: string (nullable = true)\r\n |    |-- xmin: string (nullable = true)\r\n |-- transaction: string (nullable = true)\r\n |-- ts_ms: struct (nullable = true)\r\n |    |-- long: long (nullable = true)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706764303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706791396","html_url":"https://github.com/apache/hudi/pull/1760#issuecomment-706791396","issue_url":"https://api.github.com/repos/apache/hudi/issues/1760","id":706791396,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjc5MTM5Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T00:13:10Z","updated_at":"2020-10-12T00:13:10Z","author_association":"MEMBER","body":"@aniejo there are some known issues since some spark APIs have changed in 3. \r\n\r\n@bschell any updates for us? This is being requested heavily, love to do this sooner if possible. are we blocked on something? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706791396/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706792241","html_url":"https://github.com/apache/hudi/pull/1946#issuecomment-706792241","issue_url":"https://api.github.com/repos/apache/hudi/issues/1946","id":706792241,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjc5MjI0MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T00:17:59Z","updated_at":"2020-10-12T00:17:59Z","author_association":"MEMBER","body":"I am bit confused about this PR. \r\nChecked out log4j 2, seems like it has some nice advantages. Should we just move to log4j 2? \r\nhttps://logging.apache.org/log4j/2.x/\r\nhttps://logging.apache.org/log4j/2.x/manual/messages.html \r\nhttps://logging.apache.org/log4j/2.x/manual/api.html#LambdaSupport\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706792241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706799665","html_url":"https://github.com/apache/hudi/pull/2147#issuecomment-706799665","issue_url":"https://api.github.com/repos/apache/hudi/issues/2147","id":706799665,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjc5OTY2NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T00:53:36Z","updated_at":"2020-10-12T00:53:36Z","author_association":"MEMBER","body":"@rmpifer if you can confirm the above, we can land this. otherwise LGTM ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706799665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706806558","html_url":"https://github.com/apache/hudi/pull/1978#issuecomment-706806558","issue_url":"https://api.github.com/repos/apache/hudi/issues/1978","id":706806558,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjgwNjU1OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T01:24:23Z","updated_at":"2020-10-12T01:24:23Z","author_association":"MEMBER","body":"@hj2016 @n3nash just rebased this myself. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706806558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706806568","html_url":"https://github.com/apache/hudi/pull/1978#issuecomment-706806568","issue_url":"https://api.github.com/repos/apache/hudi/issues/1978","id":706806568,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjgwNjU2OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T01:24:27Z","updated_at":"2020-10-12T01:24:27Z","author_association":"MEMBER","body":"@hj2016 please take a pass to see if I have not missed something :) . other wise will merge soon after CI is happy","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706806568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706813674","html_url":"https://github.com/apache/hudi/pull/2127#issuecomment-706813674","issue_url":"https://api.github.com/repos/apache/hudi/issues/2127","id":706813674,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjgxMzY3NA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T01:58:24Z","updated_at":"2020-10-13T01:39:24Z","author_association":"CONTRIBUTOR","body":"> lagging a bit. Will take a pass today and circle back.\r\n\r\n@pratyakshsharma thanksplease help to review","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706813674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706814593","html_url":"https://github.com/apache/hudi/pull/1978#issuecomment-706814593","issue_url":"https://api.github.com/repos/apache/hudi/issues/1978","id":706814593,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjgxNDU5Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T02:02:52Z","updated_at":"2020-10-12T02:02:59Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/1978?src=pr&el=h1) Report\n> Merging [#1978](https://codecov.io/gh/apache/hudi/pull/1978?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/585ce0094d6527bab988f7657b4e84d12274ee28?el=desc) will **increase** coverage by `0.00%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/1978/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/1978?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #1978   +/-   ##\n=========================================\n  Coverage     53.60%   53.60%           \n- Complexity     2846     2847    +1     \n=========================================\n  Files           359      359           \n  Lines         16548    16546    -2     \n  Branches       1780     1780           \n=========================================\n  Hits           8870     8870           \n+ Misses         6920     6917    -3     \n- Partials        758      759    +1     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.71% <> (+0.01%)` | `1794.00 <> (+1.00)` | |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.48% <> ()` | `304.00 <> ()` | |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `69.98% <> ()` | `325.00 <> ()` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/1978?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [.../main/java/org/apache/hudi/common/util/Option.java](https://codecov.io/gh/apache/hudi/pull/1978/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvT3B0aW9uLmphdmE=) | `66.66% <0.00%> (-3.61%)` | `23.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/1978/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `76.19% <0.00%> ()` | `20.00% <0.00%> (%)` | |\n| [...rg/apache/hudi/common/util/SerializationUtils.java](https://codecov.io/gh/apache/hudi/pull/1978/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvU2VyaWFsaXphdGlvblV0aWxzLmphdmE=) | `88.00% <0.00%> ()` | `3.00% <0.00%> (%)` | |\n| [...e/hudi/exception/SchemaCompatabilityException.java](https://codecov.io/gh/apache/hudi/pull/1978/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL1NjaGVtYUNvbXBhdGFiaWxpdHlFeGNlcHRpb24uamF2YQ==) | | | |\n| [...e/hudi/exception/SchemaCompatibilityException.java](https://codecov.io/gh/apache/hudi/pull/1978/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL1NjaGVtYUNvbXBhdGliaWxpdHlFeGNlcHRpb24uamF2YQ==) | `33.33% <0.00%> ()` | `1.00% <0.00%> (?%)` | |\n| [...ava/org/apache/hudi/exception/HoodieException.java](https://codecov.io/gh/apache/hudi/pull/1978/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0hvb2RpZUV4Y2VwdGlvbi5qYXZh) | `50.00% <0.00%> (+16.66%)` | `2.00% <0.00%> (%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706814593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706861733","html_url":"https://github.com/apache/hudi/issues/2154#issuecomment-706861733","issue_url":"https://api.github.com/repos/apache/hudi/issues/2154","id":706861733,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjg2MTczMw==","user":{"login":"KarthickAN","id":7994981,"node_id":"MDQ6VXNlcjc5OTQ5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/7994981?v=4","gravatar_id":"","url":"https://api.github.com/users/KarthickAN","html_url":"https://github.com/KarthickAN","followers_url":"https://api.github.com/users/KarthickAN/followers","following_url":"https://api.github.com/users/KarthickAN/following{/other_user}","gists_url":"https://api.github.com/users/KarthickAN/gists{/gist_id}","starred_url":"https://api.github.com/users/KarthickAN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KarthickAN/subscriptions","organizations_url":"https://api.github.com/users/KarthickAN/orgs","repos_url":"https://api.github.com/users/KarthickAN/repos","events_url":"https://api.github.com/users/KarthickAN/events{/privacy}","received_events_url":"https://api.github.com/users/KarthickAN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T05:03:47Z","updated_at":"2020-10-12T05:03:47Z","author_association":"NONE","body":"@vinothchandar Thanks vinoth. Yes, with the increased memory it had no issues. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706861733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706890444","html_url":"https://github.com/apache/hudi/pull/2173#issuecomment-706890444","issue_url":"https://api.github.com/repos/apache/hudi/issues/2173","id":706890444,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjg5MDQ0NA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T06:12:22Z","updated_at":"2020-10-12T07:15:32Z","author_association":"CONTRIBUTOR","body":"> LGTM. looks like we should prioritize checkstyle for scala.\r\n\r\ncheck useless import  isn't generally possible in Scalastyle. It doesn't know about types.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706890444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706900383","html_url":"https://github.com/apache/hudi/pull/1760#issuecomment-706900383","issue_url":"https://api.github.com/repos/apache/hudi/issues/1760","id":706900383,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjkwMDM4Mw==","user":{"login":"aniejo","id":70744651,"node_id":"MDQ6VXNlcjcwNzQ0NjUx","avatar_url":"https://avatars.githubusercontent.com/u/70744651?v=4","gravatar_id":"","url":"https://api.github.com/users/aniejo","html_url":"https://github.com/aniejo","followers_url":"https://api.github.com/users/aniejo/followers","following_url":"https://api.github.com/users/aniejo/following{/other_user}","gists_url":"https://api.github.com/users/aniejo/gists{/gist_id}","starred_url":"https://api.github.com/users/aniejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aniejo/subscriptions","organizations_url":"https://api.github.com/users/aniejo/orgs","repos_url":"https://api.github.com/users/aniejo/repos","events_url":"https://api.github.com/users/aniejo/events{/privacy}","received_events_url":"https://api.github.com/users/aniejo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T06:31:55Z","updated_at":"2020-10-12T06:31:55Z","author_association":"NONE","body":"@vinothchandar @bschell  appreciate any guidance regarding this error, I am using COW hudi options on Spark 3.0\r\npyspark --packages org.apache.hudi:hudi-spark-bundle_2.12:0.6.1-SNAPSHOT,org.apache.spark:spark-avro_2.12:3.0.1 \r\n\r\ndf.write.format(\"hudi\"). \\\r\n  options(**hudi_options). \\\r\n  mode(\"overwrite\"). \\\r\n  save(basePath)\r\n  \r\nOn writing df as hudi parquet , it throws the below error : \r\n\r\nto stage failure: Task 0 in stage 3.0 failed 1 times, most recent failure: Lost task 0.0 in stage 3.0 (TID 3, 6049cd42243a, executor driver): java.lang.NoSuchMethodError: scala.Predef$.refArrayOps([Ljava/lang/Object;)Lscala/collection/mutable/ArrayOps;\r\n        at org.apache.hudi.AvroConversionHelper$.createConverterToAvro(AvroConversionHelper.scala:344)\r\n        at org.apache.hudi.AvroConversionUtils$$anonfun$2.apply(AvroConversionUtils.scala:50)\r\n        at org.apache.hudi.AvroConversionUtils$$anonfun$2.apply(AvroConversionUtils.scala:47)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2(RDD.scala:837)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2$adapted(RDD.scala:837)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:349)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:313)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:349)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:313)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:127)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:446)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:449)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\nDriver stacktrace:\r\n        at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2059)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2008)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2007)\r\n        at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n        at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n        at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n        at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2007)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:973)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:973)\r\n        at scala.Option.foreach(Option.scala:407)\r\n        at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:973)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2239)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2188)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2177)\r\n        at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n        at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:775)\r\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2099)\r\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2120)\r\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2139)\r\n        at org.apache.spark.rdd.RDD.$anonfun$take$1(RDD.scala:1423)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n        at org.apache.spark.rdd.RDD.withScope(RDD.scala:388)\r\n        at org.apache.spark.rdd.RDD.take(RDD.scala:1396)\r\n        at org.apache.spark.rdd.RDD.$anonfun$isEmpty$1(RDD.scala:1531)\r\n        at scala.runtime.java8.JFunction0$mcZ$sp.apply(JFunction0$mcZ$sp.java:23)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n        at org.apache.spark.rdd.RDD.withScope(RDD.scala:388)\r\n        at org.apache.spark.rdd.RDD.isEmpty(RDD.scala:1531)\r\n        at org.apache.spark.api.java.JavaRDDLike.isEmpty(JavaRDDLike.scala:544)\r\n        at org.apache.spark.api.java.JavaRDDLike.isEmpty$(JavaRDDLike.scala:544)\r\n        at org.apache.spark.api.java.AbstractJavaRDDLike.isEmpty(JavaRDDLike.scala:45)\r\n        at org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:162)\r\n        at org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:125)\r\n        at org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\r\n        at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n        at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n        at org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:175)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:213)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n        at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:210)\r\n        at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:171)\r\n        at org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:122)\r\n        at org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:121)\r\n        at org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:963)\r\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:100)\r\n        at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:160)\r\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:87)\r\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\r\n        at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n        at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:963)\r\n        at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:415)\r\n        at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:399)\r\n        at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:288)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n        at py4j.Gateway.invoke(Gateway.java:282)\r\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n        at py4j.GatewayConnection.run(GatewayConnection.java:238)\r\n        at java.lang.Thread.run(Thread.java:748)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706900383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706904989","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-706904989","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":706904989,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjkwNDk4OQ==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T06:40:23Z","updated_at":"2020-10-12T06:40:23Z","author_association":"NONE","body":"@bvaradar The json I had provided is the output of kafkacat utility which outputs as json. In our process we have Key = String and Value as AVRO for Kafka. Now the different schema is due to the inline data types in the json output of kafkacat which is read as is by spark","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706904989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706911463","html_url":"https://github.com/apache/hudi/issues/2162#issuecomment-706911463","issue_url":"https://api.github.com/repos/apache/hudi/issues/2162","id":706911463,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjkxMTQ2Mw==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T06:52:17Z","updated_at":"2020-10-12T06:52:17Z","author_association":"CONTRIBUTOR","body":"@bhasudha   can you help me   thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706911463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706965836","html_url":"https://github.com/apache/hudi/issues/2166#issuecomment-706965836","issue_url":"https://api.github.com/repos/apache/hudi/issues/2166","id":706965836,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk2NTgzNg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T08:26:27Z","updated_at":"2020-10-12T08:26:27Z","author_association":"CONTRIBUTOR","body":"@somebol : Its hard to figure out if all 4 rows you are seeing in \"Query in hue/hive\" have the same record key due to masking. But assuming that is the case, you should not be seeing duplicate record keys ? \r\n\r\nAre you writing using \"upsert\" operation and deduping the incoming batch using hoodie.combine.before.upsert=true (which is the default) ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706965836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706971139","html_url":"https://github.com/apache/hudi/pull/2082#issuecomment-706971139","issue_url":"https://api.github.com/repos/apache/hudi/issues/2082","id":706971139,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk3MTEzOQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T08:36:24Z","updated_at":"2020-10-12T08:43:11Z","author_association":"CONTRIBUTOR","body":"> > @leesf #2048 is landed. is it possible to merge this and address Balaji's comments? (I can help if needed)\r\n> \r\n> Sure, considering I am a little busy these days, it is wonderful if you @satishkotha would take over the PR and land it. Thanks\r\n\r\n@leesf @satishkotha what is your process? i am intrested to take this and land it. Thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706971139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706977420","html_url":"https://github.com/apache/hudi/issues/2162#issuecomment-706977420","issue_url":"https://api.github.com/repos/apache/hudi/issues/2162","id":706977420,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk3NzQyMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T08:47:37Z","updated_at":"2020-10-12T08:47:37Z","author_association":"CONTRIBUTOR","body":"@liujinhui1994 : I see that the new column column is added to the middle of the schema (not at the end). Are you doing the same thing with transformer ?  You need to make sure the field offsets is consistent between the Rows generated and the avro schema.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706977420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706981577","html_url":"https://github.com/apache/hudi/issues/2162#issuecomment-706981577","issue_url":"https://api.github.com/repos/apache/hudi/issues/2162","id":706981577,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk4MTU3Nw==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T08:55:10Z","updated_at":"2020-10-12T08:55:10Z","author_association":"CONTRIBUTOR","body":"source.avsc\r\n{\r\n\t\"type\": \"record\",\r\n\t\"name\": \"t3_app_td_ad_info\",\r\n\t\"fields\": [{\r\n\t\t\t\"name\": \"dataId\",\r\n\t\t\t\"type\": \"string\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"collectTime\",\r\n\t\t\t\"type\": \"string\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"clickTime\",\r\n\t\t\t\"type\": \"string\"\r\n\t\t},\r\n        {\r\n\t\t\t\"name\": \"spreadUrl\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n             \"default\": null\r\n\t\t},{\r\n\t\t\t\"name\": \"spreadName\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n            \"default\": null\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"ua\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n            \"default\": null\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"uid\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n            \"default\": null\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"adnetName\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n            \"default\": null\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"adnetDesc\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n            \"default\": null\r\n\t\t}\r\n\t]\r\n}\r\n\r\ntarget.avsc\r\n{\r\n\t\"type\": \"record\",\r\n\t\"name\": \"t3_app_td_ad_info\",\r\n\t\"fields\": [{\r\n\t\t\t\"name\": \"dataId\",\r\n\t\t\t\"type\": \"string\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"collectTime\",\r\n\t\t\t\"type\": \"string\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"clickTime\",\r\n\t\t\t\"type\": \"string\"\r\n\t\t},\r\n        {\r\n\t\t\t\"name\": \"spreadUrl\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n             \"default\": null\r\n\t\t},{\r\n\t\t\t\"name\": \"spreadName\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n            \"default\": null\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"ua\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n            \"default\": null\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"uid\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n            \"default\": null\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"adnetName\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n            \"default\": null\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"adnetDesc\",\r\n\t\t\t\"type\": [\"null\", \"string\"],\r\n            \"default\": null\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\": \"ds\",\r\n\t\t\t\"type\": \"string\"\r\n\t\t}\r\n\t]\r\n}\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706981577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706983352","html_url":"https://github.com/apache/hudi/issues/2162#issuecomment-706983352","issue_url":"https://api.github.com/repos/apache/hudi/issues/2162","id":706983352,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk4MzM1Mg==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T08:58:14Z","updated_at":"2020-10-12T08:58:14Z","author_association":"CONTRIBUTOR","body":"![1602492991(1)](https://user-images.githubusercontent.com/25769285/95726929-1b7cbd00-0cac-11eb-9c81-0be6a178b9b0.jpg)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706983352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706984549","html_url":"https://github.com/apache/hudi/issues/2162#issuecomment-706984549","issue_url":"https://api.github.com/repos/apache/hudi/issues/2162","id":706984549,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk4NDU0OQ==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T09:00:08Z","updated_at":"2020-10-12T09:00:08Z","author_association":"CONTRIBUTOR","body":"@bvaradar  I am using transform and want to add a new ds field. I now re-create a new hudi table, and add the ds field to the end of target.avsc according to your suggestion, but the same error is still reported.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706984549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706986244","html_url":"https://github.com/apache/hudi/issues/2162#issuecomment-706986244","issue_url":"https://api.github.com/repos/apache/hudi/issues/2162","id":706986244,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk4NjI0NA==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T09:03:02Z","updated_at":"2020-10-12T09:03:02Z","author_association":"CONTRIBUTOR","body":"![1602493307(1)](https://user-images.githubusercontent.com/25769285/95727483-c7260d00-0cac-11eb-8c37-49787001f511.jpg)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706986244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706987817","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-706987817","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":706987817,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk4NzgxNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T09:05:33Z","updated_at":"2020-10-12T09:05:33Z","author_association":"CONTRIBUTOR","body":"@tandonraghav : It is by design that a \"file\" which is pending compaction is not scheduled for compaction till the compaction is done. \r\n\r\nOne another knob is the strategy for selecting files for compaction Scheduling which is also pluggable.  For example :  You can implement your own CompactionStrategy to prioritize files belonging to \"hot\" partitions and keeping the number of files per compaction to be less.  \r\n\r\nBasically, You need to run compactions at higher frequencies and keeping  delta.commits=1 if you are trying to optimize for data-freshness but want to use Read-Optimized queries. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706987817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706989196","html_url":"https://github.com/apache/hudi/issues/2162#issuecomment-706989196","issue_url":"https://api.github.com/repos/apache/hudi/issues/2162","id":706989196,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk4OTE5Ng==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T09:07:58Z","updated_at":"2020-10-12T09:07:58Z","author_association":"CONTRIBUTOR","body":"Please help me to find out what went wrong, it has troubled me for a long time. Thank you very much for your help  @bvaradar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706989196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706999132","html_url":"https://github.com/apache/hudi/issues/2165#issuecomment-706999132","issue_url":"https://api.github.com/repos/apache/hudi/issues/2165","id":706999132,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk5OTEzMg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T09:24:30Z","updated_at":"2020-10-12T09:24:30Z","author_association":"CONTRIBUTOR","body":"It looks like there are more than 1 fat bundles in the class path (hudi-hadoop-mr-bundle) and hudi-spark-bundle ? \r\n\r\nIf this is the case, You need to just use hudi-spark-bundle. \r\n\r\nAlso, try passing your custom jar with --jars  option ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/706999132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707016010","html_url":"https://github.com/apache/hudi/pull/1946#issuecomment-707016010","issue_url":"https://api.github.com/repos/apache/hudi/issues/1946","id":707016010,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzAxNjAxMA==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T09:54:53Z","updated_at":"2020-10-12T09:54:53Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : yes, +1 for move to log4j2. I will do it if necessary.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707016010/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707016759","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-707016759","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":707016759,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzAxNjc1OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T09:56:19Z","updated_at":"2020-10-12T09:56:19Z","author_association":"CONTRIBUTOR","body":"@ashishmgofficial : Would it be possible to dump the avro records (value) as-is in a file and attach ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707016759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707058873","html_url":"https://github.com/apache/hudi/issues/2165#issuecomment-707058873","issue_url":"https://api.github.com/repos/apache/hudi/issues/2165","id":707058873,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzA1ODg3Mw==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T11:21:01Z","updated_at":"2020-10-12T11:21:01Z","author_association":"NONE","body":"@bvaradar I tested with AWS EMR and the same exception is happening.\r\n\r\nAlso, my custom jar is picked up (/usr/lib/hudi/) as it is not giving `ClassNotFoundException` which it was giving me previously.\r\n\r\nInside `hudi-hadoop-mr-bundle.jar` I can see this- \r\n\r\n`public abstract org.apache.hudi.common.util.Option<org.apache.hudi.org.apache.avro.generic.IndexedRecord> combineAndGetUpdateValue(org.apache.hudi.org.apache.avro.generic.IndexedRecord, org.apache.hudi.org.apache.avro.Schema) throws java.io.IOException;`\r\n\r\nI am trying to get Presto work with *_rt tables. \r\n\r\nDo I need to code against `org.apache.hudi.org.apache.avro.generic.GenericRecord` , for my custom Merge Logic?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707058873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707061282","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-707061282","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":707061282,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzA2MTI4Mg==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T11:26:16Z","updated_at":"2020-10-12T11:26:16Z","author_association":"NONE","body":"@bvaradar  PFA below the files \r\n[Downloads.zip](https://github.com/apache/hudi/files/5364821/Downloads.zip)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707061282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707068148","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-707068148","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":707068148,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzA2ODE0OA==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T11:41:19Z","updated_at":"2020-10-12T11:41:19Z","author_association":"NONE","body":"@bvaradar Thanks for the update.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707068148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707077681","html_url":"https://github.com/apache/hudi/issues/2165#issuecomment-707077681","issue_url":"https://api.github.com/repos/apache/hudi/issues/2165","id":707077681,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzA3NzY4MQ==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T12:02:15Z","updated_at":"2020-10-12T12:02:15Z","author_association":"NONE","body":"@bvaradar There is a clear issue between hudi-hadoop-mr-bundle jar and hudi-spark-bundle_2.11.jar\r\nCan you please check and clarify once. I dont think it is related to any classpath issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707077681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707163257","html_url":"https://github.com/apache/hudi/issues/2165#issuecomment-707163257","issue_url":"https://api.github.com/repos/apache/hudi/issues/2165","id":707163257,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzE2MzI1Nw==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T14:42:49Z","updated_at":"2020-10-12T14:43:20Z","author_association":"NONE","body":"Attaching the presto logs-\r\n\r\n````\r\n2020-10-12T14:41:49.229Z\tINFO\t20201012_144143_00011_zymbu.1.0.0-0-44\torg.apache.hudi.common.table.log.AbstractHoodieLogRecordScanner\tMerging the final data blocks\r\n2020-10-12T14:41:49.229Z\tINFO\t20201012_144143_00011_zymbu.1.0.0-0-44\torg.apache.hudi.common.table.log.AbstractHoodieLogRecordScanner\tNumber of remaining logblocks to merge 1\r\n2020-10-12T14:41:49.283Z\tERROR\t20201012_144143_00011_zymbu.1.0.0-0-44\torg.apache.hudi.common.table.log.AbstractHoodieLogRecordScanner\tGot exception when reading log file\r\norg.apache.hudi.exception.HoodieException: Unable to instantiate payload class \r\n\tat org.apache.hudi.common.util.ReflectionUtils.loadPayload(ReflectionUtils.java:69)\r\n\tat org.apache.hudi.common.util.SpillableMapUtils.convertToHoodieRecordPayload(SpillableMapUtils.java:116)\r\n\tat org.apache.hudi.common.table.log.AbstractHoodieLogRecordScanner.processAvroDataBlock(AbstractHoodieLogRecordScanner.java:276)\r\n\tat org.apache.hudi.common.table.log.AbstractHoodieLogRecordScanner.processQueuedBlocksForInstant(AbstractHoodieLogRecordScanner.java:305)\r\n\tat org.apache.hudi.common.table.log.AbstractHoodieLogRecordScanner.scan(AbstractHoodieLogRecordScanner.java:238)\r\n\tat org.apache.hudi.common.table.log.HoodieMergedLogRecordScanner.<init>(HoodieMergedLogRecordScanner.java:81)\r\n\tat org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.getMergedLogRecordScanner(RealtimeCompactedRecordReader.java:69)\r\n\tat org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.<init>(RealtimeCompactedRecordReader.java:52)\r\n\tat org.apache.hudi.hadoop.realtime.HoodieRealtimeRecordReader.constructRecordReader(HoodieRealtimeRecordReader.java:69)\r\n\tat org.apache.hudi.hadoop.realtime.HoodieRealtimeRecordReader.<init>(HoodieRealtimeRecordReader.java:47)\r\n\tat org.apache.hudi.hadoop.realtime.HoodieParquetRealtimeInputFormat.getRecordReader(HoodieParquetRealtimeInputFormat.java:253)\r\n\tat com.facebook.presto.hive.HiveUtil.createRecordReader(HiveUtil.java:251)\r\n\tat com.facebook.presto.hive.GenericHiveRecordCursorProvider.lambda$createRecordCursor$0(GenericHiveRecordCursorProvider.java:74)\r\n\tat com.facebook.presto.hive.authentication.UserGroupInformationUtils.lambda$executeActionInDoAs$0(UserGroupInformationUtils.java:29)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:360)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1824)\r\n\tat com.facebook.presto.hive.authentication.UserGroupInformationUtils.executeActionInDoAs(UserGroupInformationUtils.java:27)\r\n\tat com.facebook.presto.hive.authentication.ImpersonatingHdfsAuthentication.doAs(ImpersonatingHdfsAuthentication.java:39)\r\n\tat com.facebook.presto.hive.HdfsEnvironment.doAs(HdfsEnvironment.java:82)\r\n\tat com.facebook.presto.hive.GenericHiveRecordCursorProvider.createRecordCursor(GenericHiveRecordCursorProvider.java:73)\r\n\tat com.facebook.presto.hive.HivePageSourceProvider.createHivePageSource(HivePageSourceProvider.java:370)\r\n\tat com.facebook.presto.hive.HivePageSourceProvider.createPageSource(HivePageSourceProvider.java:137)\r\n\tat com.facebook.presto.hive.HivePageSourceProvider.createPageSource(HivePageSourceProvider.java:113)\r\n\tat com.facebook.presto.spi.connector.classloader.ClassLoaderSafeConnectorPageSourceProvider.createPageSource(ClassLoaderSafeConnectorPageSourceProvider.java:52)\r\n\tat com.facebook.presto.split.PageSourceManager.createPageSource(PageSourceManager.java:69)\r\n\tat com.facebook.presto.operator.TableScanOperator.getOutput(TableScanOperator.java:259)\r\n\tat com.facebook.presto.operator.Driver.processInternal(Driver.java:379)\r\n\tat com.facebook.presto.operator.Driver.lambda$processFor$8(Driver.java:283)\r\n\tat com.facebook.presto.operator.Driver.tryWithLock(Driver.java:675)\r\n\tat com.facebook.presto.operator.Driver.processFor(Driver.java:276)\r\n\tat com.facebook.presto.execution.SqlTaskExecution$DriverSplitRunner.processFor(SqlTaskExecution.java:1077)\r\n\tat com.facebook.presto.execution.executor.PrioritizedSplitRunner.process(PrioritizedSplitRunner.java:162)\r\n\tat com.facebook.presto.execution.executor.TaskExecutor$TaskRunner.run(TaskExecutor.java:545)\r\n\tat com.facebook.presto.$gen.Presto_0_232____20201012_144123_1.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.apache.hudi.common.util.ReflectionUtils.loadPayload(ReflectionUtils.java:67)\r\n\t... 37 more\r\nCaused by: java.lang.ClassCastException: org.apache.hudi.org.apache.avro.generic.GenericData$Record cannot be cast to org.apache.avro.generic.GenericRecord\r\n\tat xxx.MergeHudiPayload.<init>(MergeHudiPayload.java:41)\r\n\t... 42 more\r\n````","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707163257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707226897","html_url":"https://github.com/apache/hudi/issues/2165#issuecomment-707226897","issue_url":"https://api.github.com/repos/apache/hudi/issues/2165","id":707226897,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzIyNjg5Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T16:38:56Z","updated_at":"2020-10-12T16:38:56Z","author_association":"CONTRIBUTOR","body":"@tandonraghav :  It was not clear from your original description of the issue whether you are making a spark or presto query.  Looking at the previous comments, it looks like you are making Presto queries ? Have you included presto-bundle which is the only bundle you should have in the runtime for presto ?\r\n\r\n@bhasudha : Any other things that we need to be aware of  ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707226897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707231701","html_url":"https://github.com/apache/hudi/issues/2165#issuecomment-707231701","issue_url":"https://api.github.com/repos/apache/hudi/issues/2165","id":707231701,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzIzMTcwMQ==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T16:48:45Z","updated_at":"2020-10-12T16:48:45Z","author_association":"NONE","body":"@bvaradar I was trying on Presto with Glue on AWS EMR. presto-bundle is present inside <presto-inst>/plugins/hive-hadoop2/.\r\n\r\nBut my problem is why this error - `Caused by: java.lang.ClassCastException: org.apache.hudi.org.apache.avro.generic.GenericData$Record cannot be cast to org.apache.avro.generic.GenericRecord` \r\n\r\nWhy there is a difference in Generic Record class (HudiRecordPayload.class) in spark_bundle and presto/hudi-hadoop-mr-bundle?\r\n\r\nI am also aware that specific versions of presto only supports Snapshot queries. But as the Stacktrace says it is not able to cast properly.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707231701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707334174","html_url":"https://github.com/apache/hudi/pull/2147#issuecomment-707334174","issue_url":"https://api.github.com/repos/apache/hudi/issues/2147","id":707334174,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzMzNDE3NA==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T20:38:06Z","updated_at":"2020-10-12T20:38:06Z","author_association":"CONTRIBUTOR","body":"@rmpifer A couple of points:\r\n- As @vinothchandar mentioned, it would be worth exploring if by just removing the dependency relocation and still continuing to shade, helps avoid the issues with Hbase index, and at the same time not break bootstrap code.\r\n- If we do go ahead with removing relocation for Hbase, we may want to remove the relocation in `hudi-hadoop-mr-bundle` and `hudi-presto-bundle` to avoid any other issues this might cause. One such issue we ran into with bootstrap was that Hbase was writing the KeyValue Comparator class name in HFile footer. At read time it would expect to see the exact same class. However this was resolved by creating our own comparator class for Hbase. https://github.com/apache/hudi/blob/master/hudi-common/src/main/java/org/apache/hudi/common/bootstrap/index/HFileBootstrapIndex.java#L584\r\n- Lets fix the commit message. We are not removing shading, but avoiding relocation as part of shading process.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707334174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707475775","html_url":"https://github.com/apache/hudi/issues/2165#issuecomment-707475775","issue_url":"https://api.github.com/repos/apache/hudi/issues/2165","id":707475775,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzQ3NTc3NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-13T04:19:01Z","updated_at":"2020-10-13T04:19:01Z","author_association":"CONTRIBUTOR","body":"@tandonraghav : Yes, you need to shade the jar containing the custom record payload. Here is some context  http://hudi.apache.org/releases.html#release-highlights-1  \r\n\r\nLook for section starting with...\r\n```\r\nWith 0.5.1, hudi-hadoop-mr-bundle which is used by query engines such as presto and hive includes shaded avro package to support hudi real time queries through these\r\n\r\n```\r\n\r\nMore Context: https://issues.apache.org/jira/browse/HUDI-519\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/707475775/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]