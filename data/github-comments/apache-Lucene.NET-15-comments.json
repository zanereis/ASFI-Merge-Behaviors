[{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1036565262","html_url":"https://github.com/apache/lucenenet/pull/619#issuecomment-1036565262","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/619","id":1036565262,"node_id":"IC_kwDOAAJ06c49yLsO","user":{"login":"eladmarg","id":3823205,"node_id":"MDQ6VXNlcjM4MjMyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/3823205?v=4","gravatar_id":"","url":"https://api.github.com/users/eladmarg","html_url":"https://github.com/eladmarg","followers_url":"https://api.github.com/users/eladmarg/followers","following_url":"https://api.github.com/users/eladmarg/following{/other_user}","gists_url":"https://api.github.com/users/eladmarg/gists{/gist_id}","starred_url":"https://api.github.com/users/eladmarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eladmarg/subscriptions","organizations_url":"https://api.github.com/users/eladmarg/orgs","repos_url":"https://api.github.com/users/eladmarg/repos","events_url":"https://api.github.com/users/eladmarg/events{/privacy}","received_events_url":"https://api.github.com/users/eladmarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T19:52:06Z","updated_at":"2022-02-11T19:52:06Z","author_association":"CONTRIBUTOR","body":"Awesome! thank you so much!\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1036565262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1038697979","html_url":"https://github.com/apache/lucenenet/issues/616#issuecomment-1038697979","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/616","id":1038697979,"node_id":"IC_kwDOAAJ06c496UX7","user":{"login":"hamzashoukat94","id":50887243,"node_id":"MDQ6VXNlcjUwODg3MjQz","avatar_url":"https://avatars.githubusercontent.com/u/50887243?v=4","gravatar_id":"","url":"https://api.github.com/users/hamzashoukat94","html_url":"https://github.com/hamzashoukat94","followers_url":"https://api.github.com/users/hamzashoukat94/followers","following_url":"https://api.github.com/users/hamzashoukat94/following{/other_user}","gists_url":"https://api.github.com/users/hamzashoukat94/gists{/gist_id}","starred_url":"https://api.github.com/users/hamzashoukat94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamzashoukat94/subscriptions","organizations_url":"https://api.github.com/users/hamzashoukat94/orgs","repos_url":"https://api.github.com/users/hamzashoukat94/repos","events_url":"https://api.github.com/users/hamzashoukat94/events{/privacy}","received_events_url":"https://api.github.com/users/hamzashoukat94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T06:28:21Z","updated_at":"2022-02-14T06:28:21Z","author_association":"NONE","body":"I debugged my application code before sending it to you people. I found out that IndexWriter releases access on these files but if any reader is opened on that directory. The reader will not allow me to delete the file.  Unfortunately, I don't know the way to close the reader on a specific directory from multiReader (Leaves).  If there is a quick way through which I can close or dispose of the reader. \r\n\r\n\r\nThanks for the support. \r\n\r\n@NightOwl888  @rclabo  I Appreciate your quick responses.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1038697979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1039242251","html_url":"https://github.com/apache/lucenenet/issues/616#issuecomment-1039242251","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/616","id":1039242251,"node_id":"IC_kwDOAAJ06c498ZQL","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T15:46:10Z","updated_at":"2022-02-14T15:46:10Z","author_association":"CONTRIBUTOR","body":"@hamzashoukat94 \r\n\r\nAs an experiment, does the file remain locked if you use `NIOFSDirectory`? It is [using `FileShare.Delete`](https://github.com/apache/lucenenet/blob/f4280e61a89e1e55365b46e89b1778e37f6273d1/src/Lucene.Net/Store/NIOFSDirectory.cs#L105) which should allow deletion of the file even if the file handle is still open.\r\n\r\nHowever, as for why the file handle remains open, that is something that will require a working example to determine.\r\n\r\nAlthough, a quick search indicates that it is probably the underlying OS that has control over this and there isn't much that can be done except to retry after a certain interval.\r\n\r\n- https://stackoverflow.com/a/30506866\r\n- https://social.msdn.microsoft.com/Forums/office/en-US/3737fef5-b7b7-434f-b7a7-794b3d4aaa07/is-there-a-delay-between-calling-dispose-on-a-filestream-and-the-file-handle-actually-being?forum=netfxbcl\r\n\r\nThat said, it would be helpful to know whether the OS eventually releases the file handle, or if it holds it open indefinitely.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1039242251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1039505389","html_url":"https://github.com/apache/lucenenet/pull/620#issuecomment-1039505389","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/620","id":1039505389,"node_id":"IC_kwDOAAJ06c499Zft","user":{"login":"eladmarg","id":3823205,"node_id":"MDQ6VXNlcjM4MjMyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/3823205?v=4","gravatar_id":"","url":"https://api.github.com/users/eladmarg","html_url":"https://github.com/eladmarg","followers_url":"https://api.github.com/users/eladmarg/followers","following_url":"https://api.github.com/users/eladmarg/following{/other_user}","gists_url":"https://api.github.com/users/eladmarg/gists{/gist_id}","starred_url":"https://api.github.com/users/eladmarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eladmarg/subscriptions","organizations_url":"https://api.github.com/users/eladmarg/orgs","repos_url":"https://api.github.com/users/eladmarg/repos","events_url":"https://api.github.com/users/eladmarg/events{/privacy}","received_events_url":"https://api.github.com/users/eladmarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T20:08:41Z","updated_at":"2022-02-14T20:08:41Z","author_association":"CONTRIBUTOR","body":"Great catch! \nAny chance to push this to the upcoming release?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1039505389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1039538930","html_url":"https://github.com/apache/lucenenet/issues/616#issuecomment-1039538930","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/616","id":1039538930,"node_id":"IC_kwDOAAJ06c499hry","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T20:44:20Z","updated_at":"2022-02-14T20:44:20Z","author_association":"CONTRIBUTOR","body":"If you have a `MultiReader` in order for it to close the  Indexes (ie their files) that it has open you need to make sure it decrements the reference counts of all it's SubReaders to 0.  Once those reference counts go to 0 it will automatically close the underlying files.  Now how exactly to do that is a little less clear to me.  As Shad pointed out, trying to answer questions in the abstract is challenging with a system the size of LuceneNET.  It's much easier to provide help if you provide a toy chunk of runnable code that demonstrates the issue you are having. This allows us to among other things run the code in the debugger and see the underlying types that are in play.  Without that, it's pretty hard to provide concrete specifics to solve an issue.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1039538930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1040135685","html_url":"https://github.com/apache/lucenenet/pull/620#issuecomment-1040135685","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/620","id":1040135685,"node_id":"IC_kwDOAAJ06c49_zYF","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T11:00:34Z","updated_at":"2022-02-15T11:00:34Z","author_association":"CONTRIBUTOR","body":"> Great catch! Any chance to push this to the upcoming release?\r\n\r\nUnfortunately, not. The binaries have already been built. But then, like any release there is always one more feature that would be nice to have. :point_up:","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1040135685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1040547581","html_url":"https://github.com/apache/lucenenet/issues/616#issuecomment-1040547581","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/616","id":1040547581,"node_id":"IC_kwDOAAJ06c4-BX79","user":{"login":"hamzashoukat94","id":50887243,"node_id":"MDQ6VXNlcjUwODg3MjQz","avatar_url":"https://avatars.githubusercontent.com/u/50887243?v=4","gravatar_id":"","url":"https://api.github.com/users/hamzashoukat94","html_url":"https://github.com/hamzashoukat94","followers_url":"https://api.github.com/users/hamzashoukat94/followers","following_url":"https://api.github.com/users/hamzashoukat94/following{/other_user}","gists_url":"https://api.github.com/users/hamzashoukat94/gists{/gist_id}","starred_url":"https://api.github.com/users/hamzashoukat94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamzashoukat94/subscriptions","organizations_url":"https://api.github.com/users/hamzashoukat94/orgs","repos_url":"https://api.github.com/users/hamzashoukat94/repos","events_url":"https://api.github.com/users/hamzashoukat94/events{/privacy}","received_events_url":"https://api.github.com/users/hamzashoukat94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T17:12:07Z","updated_at":"2022-02-15T17:12:07Z","author_association":"NONE","body":"Unfortunately, I cannot share the code with you guys. \r\n\r\nBut @NightOwl888  is right about delaying disposing of the file stream. I'm using MMapDirectory, and I have experienced the latency in disposing of the file stream.  Unfortunately, In dotnet, there is no way to find out which process our object is accessing the particular file.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1040547581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1040549791","html_url":"https://github.com/apache/lucenenet/issues/262#issuecomment-1040549791","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/262","id":1040549791,"node_id":"IC_kwDOAAJ06c4-BYef","user":{"login":"hamzashoukat94","id":50887243,"node_id":"MDQ6VXNlcjUwODg3MjQz","avatar_url":"https://avatars.githubusercontent.com/u/50887243?v=4","gravatar_id":"","url":"https://api.github.com/users/hamzashoukat94","html_url":"https://github.com/hamzashoukat94","followers_url":"https://api.github.com/users/hamzashoukat94/followers","following_url":"https://api.github.com/users/hamzashoukat94/following{/other_user}","gists_url":"https://api.github.com/users/hamzashoukat94/gists{/gist_id}","starred_url":"https://api.github.com/users/hamzashoukat94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamzashoukat94/subscriptions","organizations_url":"https://api.github.com/users/hamzashoukat94/orgs","repos_url":"https://api.github.com/users/hamzashoukat94/repos","events_url":"https://api.github.com/users/hamzashoukat94/events{/privacy}","received_events_url":"https://api.github.com/users/hamzashoukat94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T17:14:09Z","updated_at":"2022-02-15T17:14:09Z","author_association":"NONE","body":"@clambertus\r\n\r\nhttps://github.com/dotnet/runtime/pull/63790\r\n\r\nPlease check the resolved issue of DotNet related to your issue.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1040549791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1040634847","html_url":"https://github.com/apache/lucenenet/issues/262#issuecomment-1040634847","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/262","id":1040634847,"node_id":"IC_kwDOAAJ06c4-BtPf","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T18:35:54Z","updated_at":"2022-02-15T18:35:54Z","author_association":"CONTRIBUTOR","body":"@hamzashoukat94\r\n\r\nActually, it was @vvdb that [first reported this](https://lists.apache.org/thread/dwnk27cjppjc12pnwq4w4jlzg08rqlrr) on the [dev mailing list](https://lucenenet.apache.org/contributing/mailing-lists.html#developers-dev). He was instrumental in helping to bridge the gap on many components in the Lucene.Net.Store namespace, however hasn't contributed in a couple of years. To track the progress of the issue, I posted it on [JIRA as LUCENENET-629](https://issues.apache.org/jira/browse/LUCENENET-629) and then we eventually migrated from JIRA to GitHub issues.\r\n\r\nA lot has changed since this was first reported.\r\n\r\n1. The `MemoryMappedFileByteBuffer` was refactored and moved to J2N as 4 classes in the [J2N.IO.MemoryMappedFiles namespace](https://github.com/NightOwl888/J2N/tree/ceaa3d17f3866a5ec4865f9be600b76c5303764c/src/J2N/IO/MemoryMappedFiles).\r\n2. A test was done on the changes, and they functioned, but did not pass all of the tests as-is.\r\n\r\nAs of now, we don't consider this to be an issue blocking the 4.8.0 release, but an optional performance enhancement that we might be able to look into after the release. Thanks for the link, though. It does seem related, and it may be that we don't need to fix anything on our end.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1040634847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1051898390","html_url":"https://github.com/apache/lucenenet/issues/616#issuecomment-1051898390","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/616","id":1051898390,"node_id":"IC_kwDOAAJ06c4-srIW","user":{"login":"hamzashoukat94","id":50887243,"node_id":"MDQ6VXNlcjUwODg3MjQz","avatar_url":"https://avatars.githubusercontent.com/u/50887243?v=4","gravatar_id":"","url":"https://api.github.com/users/hamzashoukat94","html_url":"https://github.com/hamzashoukat94","followers_url":"https://api.github.com/users/hamzashoukat94/followers","following_url":"https://api.github.com/users/hamzashoukat94/following{/other_user}","gists_url":"https://api.github.com/users/hamzashoukat94/gists{/gist_id}","starred_url":"https://api.github.com/users/hamzashoukat94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamzashoukat94/subscriptions","organizations_url":"https://api.github.com/users/hamzashoukat94/orgs","repos_url":"https://api.github.com/users/hamzashoukat94/repos","events_url":"https://api.github.com/users/hamzashoukat94/events{/privacy}","received_events_url":"https://api.github.com/users/hamzashoukat94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-26T09:28:30Z","updated_at":"2022-02-26T09:28:30Z","author_association":"NONE","body":"![image](https://user-images.githubusercontent.com/50887243/155837645-1522a08c-7643-4f98-af24-82d43e54f885.png)\r\n\r\nI have attached the image in which you can see that after disposal there is a subReader Exist that is holding the handle of the file in cfsReader. \r\n```\r\n\r\n protected internal override void DoClose()\r\n        {\r\n            lock (this)\r\n            {\r\n                IOException ioe = null;\r\n                foreach (IndexReader r in GetSequentialSubReaders())\r\n                {\r\n                    try\r\n                    {\r\n                        if (closeSubReaders)\r\n                        {\r\n                            r.Dispose();\r\n                        }\r\n                        else\r\n                        {\r\n                            r.DecRef();\r\n                        }\r\n                    }\r\n                    catch (IOException e)\r\n                    {\r\n                        if (ioe == null)\r\n                        {\r\n                            ioe = e;\r\n                        }\r\n                    }\r\n                }\r\n                // throw the first exception\r\n                if (ioe != null)\r\n                {\r\n                    throw ioe;\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\nThis is the implementation of DoClose() method of MultiReader Class. \r\nI have checked why it is holding a handle till now, so I come up to this point where `refCount.DecrementAndGet()` giving 1 instead of 0. So, it is not closing here. \r\n```\r\n\r\n        public void DecRef()\r\n        {\r\n            // only check refcount here (don't call ensureOpen()), so we can\r\n            // still close the reader if it was made invalid by a child:\r\n            if (refCount.Get() <= 0)\r\n            {\r\n                throw new ObjectDisposedException(this.GetType().GetTypeInfo().FullName, \"this IndexReader is closed\");\r\n            }\r\n\r\n            int rc = refCount.DecrementAndGet();\r\n            if (rc == 0)\r\n            {\r\n                closed = true;\r\n                Exception throwable = null;\r\n                try\r\n                {\r\n                    DoClose();\r\n                }\r\n                catch (Exception th)\r\n                {\r\n                    throwable = th;\r\n                }\r\n                finally\r\n                {\r\n                    try\r\n                    {\r\n                        ReportCloseToParentReaders();\r\n                    }\r\n                    finally\r\n                    {\r\n                        NotifyReaderClosedListeners(throwable);\r\n                    }\r\n                }\r\n            }\r\n            else if (rc < 0)\r\n            {\r\n                throw new InvalidOperationException(\"too many decRef calls: refCount is \" + rc + \" after decrement\");\r\n            }\r\n        }\r\n\r\n\r\n```\r\n\r\nIf I call the `r.DoClose()` forcefully, it closed the file handle but next time it will not allow me to open a reader from the writer. \r\n\r\nCan you please give me a quick response on it,?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1051898390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1054141138","html_url":"https://github.com/apache/lucenenet/issues/616#issuecomment-1054141138","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/616","id":1054141138,"node_id":"IC_kwDOAAJ06c4-1OrS","user":{"login":"hamzashoukat94","id":50887243,"node_id":"MDQ6VXNlcjUwODg3MjQz","avatar_url":"https://avatars.githubusercontent.com/u/50887243?v=4","gravatar_id":"","url":"https://api.github.com/users/hamzashoukat94","html_url":"https://github.com/hamzashoukat94","followers_url":"https://api.github.com/users/hamzashoukat94/followers","following_url":"https://api.github.com/users/hamzashoukat94/following{/other_user}","gists_url":"https://api.github.com/users/hamzashoukat94/gists{/gist_id}","starred_url":"https://api.github.com/users/hamzashoukat94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamzashoukat94/subscriptions","organizations_url":"https://api.github.com/users/hamzashoukat94/orgs","repos_url":"https://api.github.com/users/hamzashoukat94/repos","events_url":"https://api.github.com/users/hamzashoukat94/events{/privacy}","received_events_url":"https://api.github.com/users/hamzashoukat94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T11:06:11Z","updated_at":"2022-02-28T11:06:11Z","author_association":"NONE","body":"I found out the reason behind that I was creating a indexSearcher instance using indexReader, as there is no dispose of method exists in indexSearcher so, underlying it is not decrementing the reference count inside indexReader which is somehow incremented on the creation of indexSearcher. \r\n\r\nThere are mutiple options to use indexSearcher. \r\n\r\n1. ReferenceManager<>\r\n2. SearcherManager\r\n3. SearcherLifeTimeManager (Only supported for DirectoryReader, not supported for multiReader)\r\n\r\nWhat if the user creates an IndexSearcher directly through its constructor.?\r\n ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1054141138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1054364945","html_url":"https://github.com/apache/lucenenet/issues/616#issuecomment-1054364945","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/616","id":1054364945,"node_id":"IC_kwDOAAJ06c4-2FUR","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T15:21:16Z","updated_at":"2022-02-28T15:21:16Z","author_association":"CONTRIBUTOR","body":"`SearcherManager` help you manage the use of `IndexSearchers` and their underlying `IndexReader` across threads.  When multiple threads hold references to objects that have references to `IndexReaders` the system needs some way to know if the underlying `LeafReaders` can be release or not.  This is the purpose of the `ReferenceManager` and the incrementing and decrementing of reference counts. If you don't use the `SearcherManager` and hence the `ReferenceManager` it inherits from then it's up to you to manage the lifetime of the object that you use.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1054364945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1054938606","html_url":"https://github.com/apache/lucenenet/issues/616#issuecomment-1054938606","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/616","id":1054938606,"node_id":"IC_kwDOAAJ06c4-4RXu","user":{"login":"hamzashoukat94","id":50887243,"node_id":"MDQ6VXNlcjUwODg3MjQz","avatar_url":"https://avatars.githubusercontent.com/u/50887243?v=4","gravatar_id":"","url":"https://api.github.com/users/hamzashoukat94","html_url":"https://github.com/hamzashoukat94","followers_url":"https://api.github.com/users/hamzashoukat94/followers","following_url":"https://api.github.com/users/hamzashoukat94/following{/other_user}","gists_url":"https://api.github.com/users/hamzashoukat94/gists{/gist_id}","starred_url":"https://api.github.com/users/hamzashoukat94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamzashoukat94/subscriptions","organizations_url":"https://api.github.com/users/hamzashoukat94/orgs","repos_url":"https://api.github.com/users/hamzashoukat94/repos","events_url":"https://api.github.com/users/hamzashoukat94/events{/privacy}","received_events_url":"https://api.github.com/users/hamzashoukat94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T02:51:22Z","updated_at":"2022-03-01T02:51:22Z","author_association":"NONE","body":"Yes, I got your point. Then I think we should mention it in our LUCENENET documentation or in index page code samples. \r\n\r\nAs I checked code samples, I noticed that we are not using any ReferenceManager or SearcherManager.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1054938606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1055432563","html_url":"https://github.com/apache/lucenenet/issues/616#issuecomment-1055432563","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/616","id":1055432563,"node_id":"IC_kwDOAAJ06c4-6J9z","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-01T13:15:28Z","updated_at":"2022-03-01T13:15:28Z","author_association":"CONTRIBUTOR","body":"Fair point.  it's not uncommon for example code to assume it running on a single thread unless the example code is demoing parts of LuceneNET that are specific to a multi-threaded environment.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1055432563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1056378286","html_url":"https://github.com/apache/lucenenet/pull/571#issuecomment-1056378286","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/571","id":1056378286,"node_id":"IC_kwDOAAJ06c4-9w2u","user":{"login":"raminmjj","id":991847,"node_id":"MDQ6VXNlcjk5MTg0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/991847?v=4","gravatar_id":"","url":"https://api.github.com/users/raminmjj","html_url":"https://github.com/raminmjj","followers_url":"https://api.github.com/users/raminmjj/followers","following_url":"https://api.github.com/users/raminmjj/following{/other_user}","gists_url":"https://api.github.com/users/raminmjj/gists{/gist_id}","starred_url":"https://api.github.com/users/raminmjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raminmjj/subscriptions","organizations_url":"https://api.github.com/users/raminmjj/orgs","repos_url":"https://api.github.com/users/raminmjj/repos","events_url":"https://api.github.com/users/raminmjj/events{/privacy}","received_events_url":"https://api.github.com/users/raminmjj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T06:42:29Z","updated_at":"2022-03-02T06:42:29Z","author_association":"CONTRIBUTOR","body":"I made a [pull request](https://github.com/apache/lucene/pull/540) 3 months ago. And I'm waiting for them :)","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1056378286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057114726","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1057114726","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1057114726,"node_id":"IC_kwDOAAJ06c4_Akpm","user":{"login":"diegolaz79","id":68880102,"node_id":"MDQ6VXNlcjY4ODgwMTAy","avatar_url":"https://avatars.githubusercontent.com/u/68880102?v=4","gravatar_id":"","url":"https://api.github.com/users/diegolaz79","html_url":"https://github.com/diegolaz79","followers_url":"https://api.github.com/users/diegolaz79/followers","following_url":"https://api.github.com/users/diegolaz79/following{/other_user}","gists_url":"https://api.github.com/users/diegolaz79/gists{/gist_id}","starred_url":"https://api.github.com/users/diegolaz79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegolaz79/subscriptions","organizations_url":"https://api.github.com/users/diegolaz79/orgs","repos_url":"https://api.github.com/users/diegolaz79/repos","events_url":"https://api.github.com/users/diegolaz79/events{/privacy}","received_events_url":"https://api.github.com/users/diegolaz79/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T16:23:01Z","updated_at":"2022-03-02T16:23:01Z","author_association":"NONE","body":"@NightOwl888 where do you use that GetTokenStream?\r\nI tried creating this custom analyzer \r\n`public class CustomAnalyzer : Analyzer\r\n{\r\n    LuceneVersion matchVersion;\r\n\r\n    public CustomAnalyzer(LuceneVersion p_matchVersion) : base()\r\n    {\r\n        matchVersion = p_matchVersion;\r\n    }\r\n    protected override TokenStreamComponents CreateComponents(string fieldName, TextReader reader)\r\n    {\r\n        Tokenizer tokenizer = new KeywordTokenizer(reader);\r\n        TokenStream result = new StopFilter(matchVersion, tokenizer, StopAnalyzer.ENGLISH_STOP_WORDS_SET);            \r\n        result = new LowerCaseFilter(matchVersion, result); \r\n        result = new StandardFilter(matchVersion, result);\r\n        result = new ASCIIFoldingFilter(result);\r\n        return new TokenStreamComponents(tokenizer, result);\r\n       \r\n    }\r\n}`\r\nbut with no luck since even after recreating the index and searching with that customanalyzer, I still cant search by ignoring the accents. Im trying to search for example \"perez\" and find \"pérez\" too\r\nAs LuceneVersion I'm using **LuceneVersion.LUCENE_48**\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057114726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057158478","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1057158478","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1057158478,"node_id":"IC_kwDOAAJ06c4_AvVO","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T16:59:52Z","updated_at":"2022-03-02T16:59:52Z","author_association":"CONTRIBUTOR","body":"@diegolaz79 \r\n\r\nMy bad. It looks like the example I pulled was from an older version of Lucene. However, [\"Answer 2\" in this link](https://www.extutorial.com/en/share/1404275) shows an example from 4.9.0, which is similar enough to 4.8.0.\r\n\r\n```c#\r\n// Accent insensitive analyzer\r\npublic class CustomAnalyzer : StopwordAnalyzerBase {\r\n    public CustomAnalyzer (LuceneVersion matchVersion)\r\n        : base(matchVersion, StopAnalyzer.ENGLISH_STOP_WORDS_SET)\r\n    {\r\n    }\r\n\r\n    protected override TokenStreamComponents CreateComponents(string fieldName, TextReader reader)\r\n    {\r\n        Tokenizer tokenizer = new KeywordTokenizer(reader);\r\n        TokenStream result = new StopFilter(m_matchVersion, tokenizer, m_stopwords);            \r\n        result = new LowerCaseFilter(matchVersion, result);\r\n        result = new CustomFoldingFilter(result);\r\n        result = new StandardFilter(matchVersion, result);\r\n        result = new ASCIIFoldingFilter(result);\r\n    }\r\n}\r\n```\r\n\r\nAnd of course, the whole idea of the last example is to implement another folding filter named `CustomFoldingFilter` similar to `ASCIIFoldingFilter` that adds your own folding rules that is executed before `ASCIIFoldingFilter`.\r\n\r\nAlternatively, use `ICUFoldingFilter`, which implements [UTR #30](http://www.unicode.org/reports/tr30/tr30-4.html) (includes accent removal).","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057158478/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057333375","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1057333375","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1057333375,"node_id":"IC_kwDOAAJ06c4_BaB_","user":{"login":"diegolaz79","id":68880102,"node_id":"MDQ6VXNlcjY4ODgwMTAy","avatar_url":"https://avatars.githubusercontent.com/u/68880102?v=4","gravatar_id":"","url":"https://api.github.com/users/diegolaz79","html_url":"https://github.com/diegolaz79","followers_url":"https://api.github.com/users/diegolaz79/followers","following_url":"https://api.github.com/users/diegolaz79/following{/other_user}","gists_url":"https://api.github.com/users/diegolaz79/gists{/gist_id}","starred_url":"https://api.github.com/users/diegolaz79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegolaz79/subscriptions","organizations_url":"https://api.github.com/users/diegolaz79/orgs","repos_url":"https://api.github.com/users/diegolaz79/repos","events_url":"https://api.github.com/users/diegolaz79/events{/privacy}","received_events_url":"https://api.github.com/users/diegolaz79/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T20:09:34Z","updated_at":"2022-03-02T20:10:34Z","author_association":"NONE","body":"Thanks @NightOwl888 for the quick response! So added the necesary package to VS for ICU and changed the analyzer with\r\n```\r\n`protected override TokenStreamComponents CreateComponents(string fieldName, TextReader reader)\r\n        {\r\n            Tokenizer tokenizer = new KeywordTokenizer(reader);\r\n            //TokenStream result = new StopFilter(_matchVersion, tokenizer, m_stopwords);\r\n            TokenStream result = new LowerCaseFilter(_matchVersion, tokenizer);\r\n            result = new ICUFoldingFilter(result);\r\n            result = new StandardFilter(_matchVersion, result);\r\n            result = new ASCIIFoldingFilter(result);\r\n            return new TokenStreamComponents(tokenizer, result);\r\n        }`\r\n```\r\nBut I must be missing something because its still not looking for case changes nor accent. Am I missing something?\r\n\r\nFor search I'm bulding this query: \r\n```\r\n`const LuceneVersion AppLuceneVersion = LuceneVersion.LUCENE_48;            \r\n    var dir = FSDirectory.Open(HostingEnvironment.ApplicationPhysicalPath + CurrentIndexPath);\r\n    //var analyzer = new StandardAnalyzer(AppLuceneVersion);\r\n\tvar analyzer = new CustomAnalyzer(AppLuceneVersion);\r\n\tvar indexConfig = new IndexWriterConfig(AppLuceneVersion, analyzer);\t\r\n\tIndexWriter writer = new IndexWriter(dir, indexConfig);\r\n\tvar reader = writer.GetReader(applyAllDeletes: true);\r\n\tvar searcher = new IndexSearcher(reader);\r\n\tBooleanQuery booleanQuery = new BooleanQuery(true);\r\n\tvar terms = searchTerms.Split(' ');\r\n\tforeach (string s in terms)\r\n\t{\r\n\t\tBooleanQuery subQuery = new BooleanQuery(true);\r\n\t\tstring searchTerm = s;//.ToLower();\r\n\t\tif (!searchTerm.EndsWith(\"*\"))\r\n\t\t{\r\n\t\t\tsearchTerm = searchTerm.Trim() + \"*\";\r\n\t\t}\r\n\t\tif (!searchTerm.StartsWith(\"*\"))\r\n\t\t{\r\n\t\t\tsearchTerm = \"*\" + searchTerm.Trim();\r\n\t\t}\r\n\t\tforeach (string field in searchFieldsApplicants) //THIS HAS A LIST OF FIELDS INDEXED, STORED AND PART OF THE SAVE DOCUMENT\r\n\t\t{\r\n\t\t\tQuery q = new WildcardQuery(new Term(field, searchTerm));\r\n\t\t\tsubQuery.Add(q, Occur.SHOULD);\r\n\t\t}\r\n\t\tbooleanQuery.Add(subQuery, Occur.MUST);                \r\n\t}\r\n\r\n    var topResults = searcher.Search(bq, numberOfResults).ScoreDocs;`\r\n```\r\n\r\nFor example, on the original database and saved to the index I had \"Carlos Pírez\"\r\nIf I search \"carlos Pírez\" (with lowe c) or \"Carlos Pirez\" (without accent) and get no results... the case situation I can solve by lowering while indexing, then making TitleCase on show, but not sure how to solve the accent issue.\r\n\r\nIt seems like I'm missing something to **_force_** those filters added to the analyer, right?\r\n\r\nThanks\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057333375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057370754","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1057370754","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1057370754,"node_id":"IC_kwDOAAJ06c4_BjKC","user":{"login":"diegolaz79","id":68880102,"node_id":"MDQ6VXNlcjY4ODgwMTAy","avatar_url":"https://avatars.githubusercontent.com/u/68880102?v=4","gravatar_id":"","url":"https://api.github.com/users/diegolaz79","html_url":"https://github.com/diegolaz79","followers_url":"https://api.github.com/users/diegolaz79/followers","following_url":"https://api.github.com/users/diegolaz79/following{/other_user}","gists_url":"https://api.github.com/users/diegolaz79/gists{/gist_id}","starred_url":"https://api.github.com/users/diegolaz79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegolaz79/subscriptions","organizations_url":"https://api.github.com/users/diegolaz79/orgs","repos_url":"https://api.github.com/users/diegolaz79/repos","events_url":"https://api.github.com/users/diegolaz79/events{/privacy}","received_events_url":"https://api.github.com/users/diegolaz79/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-02T20:58:24Z","updated_at":"2022-03-02T21:15:20Z","author_association":"NONE","body":"Ok, some advance here, \r\n\r\n```\r\nprotected override TokenStreamComponents CreateComponents(string fieldName, TextReader reader)\r\n        {\r\n            Tokenizer tokenizer = new KeywordTokenizer(reader);\r\n            TokenStream result = new StandardTokenizer(_matchVersion, reader);\r\n            result = new LowerCaseFilter(_matchVersion, result);\r\n            result = new ICUFoldingFilter(result);\r\n            result = new StandardFilter(_matchVersion, result);\r\n            result = new ASCIIFoldingFilter(result);\r\n            return new TokenStreamComponents(tokenizer, result);\r\n        }\r\n```\r\n\r\nChanged analyzer for the TokenStream  restult to start from StandarTokenizer instead of  StopFilter and its filtering at least (previous version up in previous post wasn't even filtering)","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057370754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057713660","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1057713660","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1057713660,"node_id":"IC_kwDOAAJ06c4_C238","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T06:16:15Z","updated_at":"2022-03-04T02:30:30Z","author_association":"CONTRIBUTOR","body":"@diegolaz79 \r\n\r\nNope, it isn't valid to use multiple tokenizers in the same Analyzer, as there are [strict consuming rules to adhere to](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/core/Lucene.Net.Analysis.TokenStream.html).\r\n\r\nIt would be great to build code analysis components to ensure developers adhere to these tokenizer rules while typing, such as the [rule that ensures `TokenStream` classes are sealed or use a sealed `IncrementToken()` method](https://github.com/apache/lucenenet/tree/e75b86ecc5ed8219100ec7a0b472e7a4454ec013/src/dotnet/Lucene.Net.CodeAnalysis.CSharp) (contributions welcome). It is not likely we will add any additional code analyzers prior to the 4.8.0 release unless they are contributed by the community, though, as these are not blocking the release. For the time being, the best way to ensure custom analyzers adhere to the rules are to test them with [Lucene.Net.TestFramework](https://www.nuget.org/packages/Lucene.Net.TestFramework), which also hits them with multiple threads, random cultures, and random strings of text to ensure they are robust.\r\n\r\nI built a demo showing how to setup testing on custom analyzers here: https://github.com/NightOwl888/LuceneNetCustomAnalyzerDemo (as well as showing how the above example fails the tests). The functioning analyzer just uses a `WhiteSpaceTokenizer` and `ICUFoldingFilter`. Of course, you may wish to add additional test conditions to ensure your custom analyzer meets your expectations, and then you can experiment with different tokenizers and adding or rearranging filters until you find a solution that meets all of your requirements (as well as plays by Lucene's rules). And of course, you can then later add additional conditions as you discover issues.\r\n\r\n```c#\r\nusing Lucene.Net.Analysis;\r\nusing Lucene.Net.Analysis.Core;\r\nusing Lucene.Net.Analysis.Icu;\r\nusing Lucene.Net.Util;\r\nusing System.IO;\r\n\r\nnamespace LuceneExtensions\r\n{\r\n    public sealed class CustomAnalyzer : Analyzer\r\n    {\r\n        private readonly LuceneVersion matchVersion;\r\n\r\n        public CustomAnalyzer(LuceneVersion matchVersion)\r\n        {\r\n            this.matchVersion = matchVersion;\r\n        }\r\n\r\n        protected override TokenStreamComponents CreateComponents(string fieldName, TextReader reader)\r\n        {\r\n            // Tokenize...\r\n            Tokenizer tokenizer = new WhitespaceTokenizer(matchVersion, reader);\r\n            TokenStream result = tokenizer;\r\n\r\n            // Filter...\r\n            result = new ICUFoldingFilter(result);\r\n\r\n            // Return result...\r\n            return new TokenStreamComponents(tokenizer, result);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```c#\r\nusing Lucene.Net.Analysis;\r\nusing NUnit.Framework;\r\n\r\nnamespace LuceneExtensions.Tests\r\n{\r\n    public class TestCustomAnalyzer : BaseTokenStreamTestCase\r\n    {\r\n        [Test]\r\n        public virtual void TestRemoveAccents()\r\n        {\r\n            Analyzer a = new CustomAnalyzer(TEST_VERSION_CURRENT);\r\n\r\n            // removal of latin accents (composed)\r\n            AssertAnalyzesTo(a, \"résumé\", new string[] { \"resume\" });\r\n\r\n            // removal of latin accents (decomposed)\r\n            AssertAnalyzesTo(a, \"re\\u0301sume\\u0301\", new string[] { \"resume\" });\r\n\r\n            // removal of latin accents (multi-word)\r\n            AssertAnalyzesTo(a, \"Carlos Pírez\", new string[] { \"carlos\", \"pirez\" });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFor other ideas about what test conditions you may use, I suggest having a look at Lucene.Net's [extensive analyzer tests](https://github.com/apache/lucenenet/tree/e75b86ecc5ed8219100ec7a0b472e7a4454ec013/src/Lucene.Net.Tests.Analysis.Common/Analysis) including the [ICU tests](https://github.com/apache/lucenenet/tree/e75b86ecc5ed8219100ec7a0b472e7a4454ec013/src/Lucene.Net.Tests.Analysis.ICU/Analysis/Icu). You may also refer to the tests to see if you can find a similar use case to yours for building queries (although do note that the tests don't show .NET best practices for disposing objects).","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057713660/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057744203","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1057744203","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1057744203,"node_id":"IC_kwDOAAJ06c4_C-VL","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T07:13:09Z","updated_at":"2022-03-03T07:13:09Z","author_association":"CONTRIBUTOR","body":"FYI - there is also another demo showing additional ways to build analyzers here: https://github.com/NightOwl888/LuceneNetDemo","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1057744203/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1058654152","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1058654152","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1058654152,"node_id":"IC_kwDOAAJ06c4_GcfI","user":{"login":"diegolaz79","id":68880102,"node_id":"MDQ6VXNlcjY4ODgwMTAy","avatar_url":"https://avatars.githubusercontent.com/u/68880102?v=4","gravatar_id":"","url":"https://api.github.com/users/diegolaz79","html_url":"https://github.com/diegolaz79","followers_url":"https://api.github.com/users/diegolaz79/followers","following_url":"https://api.github.com/users/diegolaz79/following{/other_user}","gists_url":"https://api.github.com/users/diegolaz79/gists{/gist_id}","starred_url":"https://api.github.com/users/diegolaz79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegolaz79/subscriptions","organizations_url":"https://api.github.com/users/diegolaz79/orgs","repos_url":"https://api.github.com/users/diegolaz79/repos","events_url":"https://api.github.com/users/diegolaz79/events{/privacy}","received_events_url":"https://api.github.com/users/diegolaz79/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T23:25:46Z","updated_at":"2022-03-03T23:25:46Z","author_association":"NONE","body":"Thanks again!!\r\nMy current version is working fine with your suggestions:\r\n```\r\nprotected override TokenStreamComponents CreateComponents(string fieldName, TextReader reader)\r\n        {\r\n            StandardTokenizer standardTokenizer = new StandardTokenizer(_matchVersion, reader);\r\n            TokenStream stream = new StandardFilter(_matchVersion, standardTokenizer);\r\n            stream = new LowerCaseFilter(_matchVersion, stream);\r\n            stream = new ICUFoldingFilter(stream);\r\n            return new TokenStreamComponents(standardTokenizer, stream);            \r\n        }\r\n```\r\n\r\nI just lower case the text the user puts for searching and I find all combinations of accent and case.\r\nTHANKS!!","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1058654152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1058810622","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1058810622","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1058810622,"node_id":"IC_kwDOAAJ06c4_HCr-","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T04:16:01Z","updated_at":"2022-03-04T19:18:28Z","author_association":"CONTRIBUTOR","body":"Just out of curiosity, do all of your use cases work without the `LowerCaseFilter`?\r\n\r\nLowercasing is not the same as case folding (which is what `ICUFoldingFilter` does):\r\n\r\n- *Lowercasing:* Converts the entire string from uppercase to lowercase _in the invariant culture_.\r\n- *Case folding:* Folds the case while handling international special cases such as the [infamous Turkish uppercase dotted i](http://www.moserware.com/2008/02/does-your-code-pass-turkey-test.html) and the German \"ß\" (among others).\r\n\r\n```c#\r\n            AssertAnalyzesTo(a, \"Fuß\", new string[] { \"fuss\" }); // German\r\n\r\n            AssertAnalyzesTo(a, \"QUİT\", new string[] { \"quit\" }); // Turkish\r\n```\r\n\r\n[Case Mapping and Case Folding](https://www.w3.org/TR/charmod-norm/#definitionCaseFolding)\r\n\r\nWhile this might not matter for your use case, it is also worth noting that performance will be improved without the `LowerCaseFilter`.\r\n\r\nIn addition, search performance and accuracy can be improved by using a `StopFilter` with a reasonable stop word set to cover your use cases - the only reason I removed it from the demo was because the question was about removing diacritics.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1058810622/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1059131895","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1059131895","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1059131895,"node_id":"IC_kwDOAAJ06c4_IRH3","user":{"login":"diegolaz79","id":68880102,"node_id":"MDQ6VXNlcjY4ODgwMTAy","avatar_url":"https://avatars.githubusercontent.com/u/68880102?v=4","gravatar_id":"","url":"https://api.github.com/users/diegolaz79","html_url":"https://github.com/diegolaz79","followers_url":"https://api.github.com/users/diegolaz79/followers","following_url":"https://api.github.com/users/diegolaz79/following{/other_user}","gists_url":"https://api.github.com/users/diegolaz79/gists{/gist_id}","starred_url":"https://api.github.com/users/diegolaz79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegolaz79/subscriptions","organizations_url":"https://api.github.com/users/diegolaz79/orgs","repos_url":"https://api.github.com/users/diegolaz79/repos","events_url":"https://api.github.com/users/diegolaz79/events{/privacy}","received_events_url":"https://api.github.com/users/diegolaz79/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T12:45:36Z","updated_at":"2022-03-04T12:45:36Z","author_association":"NONE","body":"Thanks! Just removed the LowerCase filter and changed the StandardFilter for the stopfilter and its working fine with casing and diactrics searches.\r\nStill need to adjust the stopwording for something more suitable for spanish, but its working well like this.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1059131895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1059295238","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1059295238","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1059295238,"node_id":"IC_kwDOAAJ06c4_I5AG","user":{"login":"diegolaz79","id":68880102,"node_id":"MDQ6VXNlcjY4ODgwMTAy","avatar_url":"https://avatars.githubusercontent.com/u/68880102?v=4","gravatar_id":"","url":"https://api.github.com/users/diegolaz79","html_url":"https://github.com/diegolaz79","followers_url":"https://api.github.com/users/diegolaz79/followers","following_url":"https://api.github.com/users/diegolaz79/following{/other_user}","gists_url":"https://api.github.com/users/diegolaz79/gists{/gist_id}","starred_url":"https://api.github.com/users/diegolaz79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegolaz79/subscriptions","organizations_url":"https://api.github.com/users/diegolaz79/orgs","repos_url":"https://api.github.com/users/diegolaz79/repos","events_url":"https://api.github.com/users/diegolaz79/events{/privacy}","received_events_url":"https://api.github.com/users/diegolaz79/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T16:05:50Z","updated_at":"2022-03-04T16:06:18Z","author_association":"NONE","body":"One thing I noticed, there is a field that has the format like \"M-4-20\" or \"B-7-68\" ...\r\n`new StringField(\"code\",  code,  Field.Store.YES)`\r\nbut when searching that field with the above analyzer, it cant find the dashes\r\n ```\r\nsearchTerm = \"*\" + searchTerm + \"*\";\r\n Query q = new WildcardQuery(new Term(field, searchTerm));\r\n```\r\nis there a way to escape the dash from the term or skip analysis from that field?\r\nthanks!","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1059295238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1059399079","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1059399079","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1059399079,"node_id":"IC_kwDOAAJ06c4_JSWn","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-04T18:07:56Z","updated_at":"2022-03-04T18:07:56Z","author_association":"CONTRIBUTOR","body":"> Thanks! Just removed the LowerCase filter and changed the StandardFilter for the stopfilter and its working fine with casing and diactrics searches. Still need to adjust the stopwording for something more suitable for spanish, but its working well like this.\r\n\r\nFYI - There is a [generic Spanish stop word list](https://github.com/apache/lucenenet/blob/50dd72e23dcd0f2bad639ed164bc4a308cb9500c/src/Lucene.Net.Analysis.Common/Analysis/Snowball/spanish_stop.txt) that can be accessed through [SpanishAnalyzer.DefaultStopSet](https://github.com/apache/lucenenet/blob/50dd72e23dcd0f2bad639ed164bc4a308cb9500c/src/Lucene.Net.Analysis.Common/Analysis/Es/SpanishAnalyzer.cs#L54).\r\n\r\n> One thing I noticed, there is a field that has the format like \"M-4-20\" or \"B-7-68\" ... `new StringField(\"code\", code, Field.Store.YES)` but when searching that field with the above analyzer, it cant find the dashes\r\n> \r\n> ```\r\n> searchTerm = \"*\" + searchTerm + \"*\";\r\n> Query q = new WildcardQuery(new Term(field, searchTerm));\r\n> ```\r\n> \r\n> is there a way to escape the dash from the term or skip analysis from that field? thanks!\r\n\r\n[`PerFieldAnalyzerWrapper`](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/analysis-common/Lucene.Net.Analysis.Miscellaneous.PerFieldAnalyzerWrapper.html) applies a different analyzer to each field ([example](https://github.com/NightOwl888/LuceneNetDemo/blob/0b50b3546187212783a1576b7b35df93f087af85/LuceneNetDemo/GitHubIndex.cs#L58-L88)). Note you don't necessarily have to use inline analyzers, you can also simply new up pre-constructed analyzers for each field.\r\n\r\nIf all of the data in the field can be considered a token, there is a [`KeywordAnalyzer`](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/analysis-common/Lucene.Net.Analysis.Core.KeywordAnalyzer.html) that can be used to keep the entire field together.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1059399079/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1060782115","html_url":"https://github.com/apache/lucenenet/pull/623#issuecomment-1060782115","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/623","id":1060782115,"node_id":"IC_kwDOAAJ06c4_OkAj","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T15:02:04Z","updated_at":"2022-03-07T15:02:04Z","author_association":"CONTRIBUTOR","body":"Thanks for the PR!","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1060782115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1060899040","html_url":"https://github.com/apache/lucenenet/pull/624#issuecomment-1060899040","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/624","id":1060899040,"node_id":"IC_kwDOAAJ06c4_PAjg","user":{"login":"rauhs","id":11081351,"node_id":"MDQ6VXNlcjExMDgxMzUx","avatar_url":"https://avatars.githubusercontent.com/u/11081351?v=4","gravatar_id":"","url":"https://api.github.com/users/rauhs","html_url":"https://github.com/rauhs","followers_url":"https://api.github.com/users/rauhs/followers","following_url":"https://api.github.com/users/rauhs/following{/other_user}","gists_url":"https://api.github.com/users/rauhs/gists{/gist_id}","starred_url":"https://api.github.com/users/rauhs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rauhs/subscriptions","organizations_url":"https://api.github.com/users/rauhs/orgs","repos_url":"https://api.github.com/users/rauhs/repos","events_url":"https://api.github.com/users/rauhs/events{/privacy}","received_events_url":"https://api.github.com/users/rauhs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T16:48:01Z","updated_at":"2022-03-07T16:48:01Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick answer. Yes I'm aware that there are two ways to use the API. I actually intentionally used both way to show them both.\r\n\r\nI think there are a few other places which also show the `QueryConfigHandler`-way to set a setting. This is why I didn't want to hide it completely and show both. Let me know how you want to proceed. Cheers","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1060899040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1060995890","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1060995890","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1060995890,"node_id":"IC_kwDOAAJ06c4_PYMy","user":{"login":"diegolaz79","id":68880102,"node_id":"MDQ6VXNlcjY4ODgwMTAy","avatar_url":"https://avatars.githubusercontent.com/u/68880102?v=4","gravatar_id":"","url":"https://api.github.com/users/diegolaz79","html_url":"https://github.com/diegolaz79","followers_url":"https://api.github.com/users/diegolaz79/followers","following_url":"https://api.github.com/users/diegolaz79/following{/other_user}","gists_url":"https://api.github.com/users/diegolaz79/gists{/gist_id}","starred_url":"https://api.github.com/users/diegolaz79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegolaz79/subscriptions","organizations_url":"https://api.github.com/users/diegolaz79/orgs","repos_url":"https://api.github.com/users/diegolaz79/repos","events_url":"https://api.github.com/users/diegolaz79/events{/privacy}","received_events_url":"https://api.github.com/users/diegolaz79/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T18:27:26Z","updated_at":"2022-03-07T18:27:26Z","author_association":"NONE","body":"Thanks again! Your suggestions helped me a lot! \r\n\r\nI'm currently doing it like this\r\n\r\n```\r\nIDictionary<string, Analyzer> myAnalyzerPerField = new Dictionary<string, Analyzer>();\r\nmyAnalyzerPerField [\"code\"] = new WhitespaceAnalyzer(LuceneVersion.LUCENE_48);\r\nfinalAnalyzer = new PerFieldAnalyzerWrapper(new CustomAnalyzer(LuceneVersion.LUCENE_48), myAnalyzerPerField );\r\n```\r\nThe WhitespaceAnalyzer did not help my case of the code format (\"M-12-14\", \"B-10-39\", etc) but will try other more suitable.\r\n\r\nAnd using the finalAnalyer for indexing and search.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1060995890/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1061175353","html_url":"https://github.com/apache/lucenenet/pull/624#issuecomment-1061175353","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/624","id":1061175353,"node_id":"IC_kwDOAAJ06c4_QEA5","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-07T21:54:16Z","updated_at":"2022-03-07T21:54:16Z","author_association":"CONTRIBUTOR","body":"Since people tend to copy code examples it would be best to show the \"common\" way. That being said, we could optionally add a note that there is an alternative syntax just below the example.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1061175353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1061766386","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1061766386","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1061766386,"node_id":"IC_kwDOAAJ06c4_SUTy","user":{"login":"diegolaz79","id":68880102,"node_id":"MDQ6VXNlcjY4ODgwMTAy","avatar_url":"https://avatars.githubusercontent.com/u/68880102?v=4","gravatar_id":"","url":"https://api.github.com/users/diegolaz79","html_url":"https://github.com/diegolaz79","followers_url":"https://api.github.com/users/diegolaz79/followers","following_url":"https://api.github.com/users/diegolaz79/following{/other_user}","gists_url":"https://api.github.com/users/diegolaz79/gists{/gist_id}","starred_url":"https://api.github.com/users/diegolaz79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegolaz79/subscriptions","organizations_url":"https://api.github.com/users/diegolaz79/orgs","repos_url":"https://api.github.com/users/diegolaz79/repos","events_url":"https://api.github.com/users/diegolaz79/events{/privacy}","received_events_url":"https://api.github.com/users/diegolaz79/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-08T13:17:14Z","updated_at":"2022-03-08T13:17:14Z","author_association":"NONE","body":"Ok, still using WhitespaceAnalyzer for those special columns, problem was I was lowecasing the search term for the CustomAnalyzer. So for those columns I actually uppercase it since I know its a column it only holds upercase characters and the analyzer doesn't lower case it. \r\nThanks for the PerFieldAnalyerWrapper pointer!","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1061766386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1074531662","html_url":"https://github.com/apache/lucenenet/issues/437#issuecomment-1074531662","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/437","id":1074531662,"node_id":"IC_kwDOAAJ06c5ADA1O","user":{"login":"alexhiggins732","id":2246388,"node_id":"MDQ6VXNlcjIyNDYzODg=","avatar_url":"https://avatars.githubusercontent.com/u/2246388?v=4","gravatar_id":"","url":"https://api.github.com/users/alexhiggins732","html_url":"https://github.com/alexhiggins732","followers_url":"https://api.github.com/users/alexhiggins732/followers","following_url":"https://api.github.com/users/alexhiggins732/following{/other_user}","gists_url":"https://api.github.com/users/alexhiggins732/gists{/gist_id}","starred_url":"https://api.github.com/users/alexhiggins732/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexhiggins732/subscriptions","organizations_url":"https://api.github.com/users/alexhiggins732/orgs","repos_url":"https://api.github.com/users/alexhiggins732/repos","events_url":"https://api.github.com/users/alexhiggins732/events{/privacy}","received_events_url":"https://api.github.com/users/alexhiggins732/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-21T23:47:02Z","updated_at":"2022-03-21T23:47:02Z","author_association":"NONE","body":"> Of course, crowd sourcing the analysis work would be a big help. If everyone reading this spent just 30 minutes to pick a random file and compare [the Lucene.NET source](https://github.com/apache/lucenenet) line by line against [lucene 4.8.0](https://github.com/apache/lucene/tree/releases/lucene-solr%2F4.8.0), Googling to verify that each line they are unsure of is ported in a reasonable way, and made us aware of all of the uncommented differences, we would have a leg up on the analysis work.\r\n\r\nOf course, crowd sourcing the analysis work would be a big help. If everyone reading this spent just 30 minutes to pick a random file and compare [the Lucene.NET source](https://github.com/apache/lucenenet) line by line against [lucene 4.8.0](https://github.com/apache/lucene/tree/releases/lucene-solr%2F4.8.0), Googling to verify that each line they are unsure of is ported in a reasonable way, and made us aware of all of the uncommented differences, we would have a leg up on the analysis work.\r\n\r\n If this is indeed the approach, then perhaps splitting the work up into buckets with todos for people to take up pieces as part of a roadmap would be helpful. Unfortunately there is no visibility on this project and citing reliance and a complete rework of a now alpha version of IKVM means this project will not likely see a release for a very long time.\r\n\r\nAdditionally, I just spent 30 minutes verifying what you suggest is not feasible. There is no one to one file map between the repos. There file and folder structures structures. Perhaps if this repo were reorganized then tools like win merge would at least facilitate a file by file mapping.\r\n\r\nThen digging through to fine files there is also not a 1 to 1 line mapping within the files. For example\r\n\r\nLine: 192: https://github.com/apache/lucenenet/blob/master/src/Lucene.Net.Analysis.Common/Analysis/Wikipedia/WikipediaTokenizer.cs\r\n``` csharp\r\n           int tokenType = scanner.GetNextToken();\r\n\r\n            if (tokenType == WikipediaTokenizerImpl.YYEOF)\r\n            {\r\n                return false;\r\n            }\r\n```\r\nLine: 192 https://github.com/apache/lucene/blob/releases/lucene-solr/4.8.0/lucene/analysis/common/src/java/org/apache/lucene/analysis/wikipedia/WikipediaTokenizer.java\r\n\r\n``` java \r\n    String type = WikipediaTokenizerImpl.TOKEN_TYPES[tokenType];\r\n    if (tokenOutput == TOKENS_ONLY || untokenizedTypes.contains(type) == false){\r\n      setupToken();\r\n    } else if (tokenOutput == UNTOKENIZED_ONLY && untokenizedTypes.contains(type) == true){\r\n      collapseTokens(tokenType);\r\n```\r\n\r\nSo if we can come up with a strategy to synchronize the file/folder structure and then reorganize the C# files line by line to match the java, we can take the suggested approach.\r\n\r\nAlternatively, there is the triage approach of focusing on producing release version(s) of the core product(s). This could be code reviewed and released first while external dependencies which have no visibility or will take a long time to complete (like nlp) can be moved to separate pre-release packages. Additionally similar decisions can be made about other parts of the code base that aren't 'core functionality. For example, given the the tokenizer is likely now out of date being over 8 years old with github warning `This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository` perhaps even parts of shared namespaces can be separately packaged.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1074531662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1074564010","html_url":"https://github.com/apache/lucenenet/issues/437#issuecomment-1074564010","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/437","id":1074564010,"node_id":"IC_kwDOAAJ06c5ADIuq","user":{"login":"alexhiggins732","id":2246388,"node_id":"MDQ6VXNlcjIyNDYzODg=","avatar_url":"https://avatars.githubusercontent.com/u/2246388?v=4","gravatar_id":"","url":"https://api.github.com/users/alexhiggins732","html_url":"https://github.com/alexhiggins732","followers_url":"https://api.github.com/users/alexhiggins732/followers","following_url":"https://api.github.com/users/alexhiggins732/following{/other_user}","gists_url":"https://api.github.com/users/alexhiggins732/gists{/gist_id}","starred_url":"https://api.github.com/users/alexhiggins732/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexhiggins732/subscriptions","organizations_url":"https://api.github.com/users/alexhiggins732/orgs","repos_url":"https://api.github.com/users/alexhiggins732/repos","events_url":"https://api.github.com/users/alexhiggins732/events{/privacy}","received_events_url":"https://api.github.com/users/alexhiggins732/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T00:46:57Z","updated_at":"2022-03-22T00:46:57Z","author_association":"NONE","body":"Didn't realize Lucene was on [version 9.1](https://github.com/apache/lucene/releases/tag/releases%2Flucene%2F9.1.0) already.  This is just a beta version of 4.8,which was released in on Apr 27, 2014, nearly 8 years ago. Looking at the current features and changes, the CSharp codebase is leaps and bounds behind.  IMHO, I am highly skeptical this will ever reach be brought on par, Or that we this will see production grade release within the next few years, if ever. With this project being blocked by much larger projects like IKVM, which are estimated at 30% of the outstanding work, and the numerous unaddressed bugs in the codebase (estimated at ~70% of the remaining work), it is unfortunate to say with all of the incredible work that has been done but this repo has the hallmarks of open source projects left on the vine to die. But who knows?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1074564010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1074738131","html_url":"https://github.com/apache/lucenenet/issues/437#issuecomment-1074738131","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/437","id":1074738131,"node_id":"IC_kwDOAAJ06c5ADzPT","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T05:20:08Z","updated_at":"2022-03-22T22:47:25Z","author_association":"CONTRIBUTOR","body":"> There is no one to one file map between the repos. There file and folder structures structures. Perhaps if this repo were reorganized then tools like win merge would at least facilitate a file by file mapping.\r\n\r\nThe file-by-file mapping is accurate (in fact, we have kept the file names the same even if we ended up renaming the type inside the file to follow .NET conventions), but since we are building a .NET application and not a Java application, the deep folder structure has changed to move the files closer to the top level of the project.\r\n\r\nFor example, the files in the https://github.com/apache/lucene/tree/releases/lucene-solr/4.8.0/lucene/core/src/java/org/apache/lucene/index directory exactly correspond to the files in https://github.com/apache/lucenenet/tree/d6f3c3e7aad1847f5df69e4c080f45dad318a3ad/src/Lucene.Net/Index.\r\n\r\nBut let us know if you find any files that were renamed or were added in the Java-ported directories. All of the files that we have added are supposed to be under the Lucene.Net/Support directory.\r\n\r\nThe `Lucene.Net.Core` project was renamed to `Lucene.Net` because on early prerelease versions of .NET Core the folder name had to be the same as the project, but other than that one exception, the convention of `Lucene.Net.<package>` was followed consistently.\r\n\r\n> Then digging through to fine files there is also not a 1 to 1 line mapping within the files. For example\r\n>\r\n> Line: 192: https://github.com/apache/lucenenet/blob/master/src/Lucene.Net.Analysis.Common/Analysis/Wikipedia/WikipediaTokenizer.cs\r\n>\r\n>           int tokenType = scanner.GetNextToken();\r\n>\r\n>            if (tokenType == WikipediaTokenizerImpl.YYEOF)\r\n>            {\r\n>                return false;\r\n>            }\r\n>Line: 192 https://github.com/apache/lucene/blob/releases/lucene-solr/4.8.0/lucene/analysis/common/src/java/org/apache/lucene/analysis/wikipedia/WikipediaTokenizer.java\r\n>\r\n>    String type = WikipediaTokenizerImpl.TOKEN_TYPES[tokenType];\r\n>    if (tokenOutput == TOKENS_ONLY || untokenizedTypes.contains(type) == false){\r\n>      setupToken();\r\n>    } else if (tokenOutput == UNTOKENIZED_ONLY && untokenizedTypes.contains(type) == true){\r\n>      collapseTokens(tokenType);\r\n\r\nWhen I said \"pick a random file\", I didn't mean anywhere, I meant specifically in the `Lucene.Net` project. `Lucene.Net.Analysis.Common` was ported from `4.8.1`, which included a few minor changes like some guard clauses.\r\n\r\nOf course, due to the differences in using statements, file headers, coding style, etc., we don't expect that every line in a file will correspond to the *same line number* as it was in Java. As you can see, the Java line 192 [corresponds with line 198 in .NET](https://github.com/apache/lucenenet/blob/master/src/Lucene.Net.Analysis.Common/Analysis/Wikipedia/WikipediaTokenizer.cs#L198). However, unless commented otherwise (or at least it should be) we have generally kept the order of members in the same order, unless there is no sensible way to port the functionality in .NET.\r\n\r\nThat being said, many types were de-nested to make them more easily discoverable in .NET, but we always ensure those types remain in the same file as the Java code.\r\n\r\n> So if we can come up with a strategy to synchronize the file/folder structure and then reorganize the C# files line by line to match the java, we can take the suggested approach.\r\n\r\nNot sure what we expect to gain by this. This is not an automated port, but mostly a manual one. The parts that were automatically converted with a tool had major problems that we had to go back and rework that took longer than simply porting manually. We are still finding some breaking problems, such as [incorrect index file naming](https://github.com/apache/lucenenet/pull/576) that are keeping us as a pre-release, and the only way to track them down is by analyzing and scrutinzing the code.\r\n\r\n> Alternatively, there is the triage approach of focusing on producing release version(s) of the core product(s). This could be code reviewed and released first while external dependencies which have no visibility or will take a long time to complete (like nlp) can be moved to separate pre-release packages. Additionally similar decisions can be made about other parts of the code base that aren't 'core functionality. \r\n\r\nRight, that is the 30% of the remainder that I referred to before. We would have to change the build to allow us to do partial releases on different schedules and fit it in with the [Apache release policy](https://lucenenet.apache.org/contributing/make-release.html) to allow us to do separate release votes for each batch of components we are releasing.\r\n\r\nNLP is a non-issue, really, as only the [Lucene.Net.Analysis.OpenNLP](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/analysis-opennlp/Lucene.Net.Analysis.OpenNlp.html) project depends on and the public API of `Lucene.Net.Analysis.OpenNLP` probably won't need to change when support for .NET Core is stable (do note there was recently a patch https://github.com/ikvm-revived/ikvm/pull/46 that makes the .NET Core build function, but I haven't had a chance to work on the build pipeline to release it). At the end of the day, if it is not ready when Lucene.Net is ready for release, we will move on without it (as was pointed out in #460).\r\n\r\nThe main blocker is ICU4N. Due to the fact that .NET has no built-in `BreakIterator` or anything like it, we ended up using the ICU4N `BreakIterator` as a base class for everything that requires it. So, instead of a `Lucene.Net.Analysis.ICU` project, we have a more general `Lucene.Net.ICU` project that contains highlighters and the Thai analyzers in addition to the ICU analyzers.\r\n\r\nIn turn, `Lucene.Net.Analysis.SmartCn`, `Lucene.Net.Benchmark`, and `lucene-cli` depend on `Lucene.Net.ICU`, which would all need to remain unstable if we went that route. The stable parts of `lucene-cli` could be released, but only if we break it up into 2 separate tools, which is really not a road we want to go down, if possible.\r\n\r\n> For example, given the the tokenizer is likely now out of date being over 8 years old with github warning This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository perhaps even parts of shared namespaces can be separately packaged.\r\n\r\nYou are receiving that warning, because recently Lucene split off SOLR into a separate repository, so they did some reworking of the repo history to keep it in place on both projects.\r\n\r\nThe tokenizer is 8 years old, true, but it doesn't get many updates and is not something you are likely to notice.\r\n\r\nAlthough the documentation (incorrectly) states that [Character classes in .NET Regex](https://docs.microsoft.com/en-us/dotnet/standard/base-types/character-classes-in-regular-expressions) use Unicode 8.0, I have used ICU4N's [UnicodeSet](https://github.com/NightOwl888/ICU4N/blob/feee8ab599f4664a9115ecf6ca5d05575b9403d9/src/ICU4N/Text/UnicodeSet.cs) to analyze it, and it actually only supports Unicode 3.0.1 characters (the version that was [released in August, 2000](https://github.com/apache/lucenenet/issues/618#issuecomment-1057713660) just before .NET 1.0 was released). Has this had any impact on your usage of Regex?\r\n\r\nIf you do need more up-to-date Unicode, do note that ICU4N is ported from 60.1 (we started when it was still a release candidate) which supports up to Unicode 10.0. Lucene 4.8.0 [depended on ICU4J 52.1](https://github.com/apache/lucene/blob/releases/lucene-solr/4.8.0/lucene/ivy-versions.properties#L39).\r\n\r\nAlternatively, the analyzers are relatively painless to port from newer versions of Lucene. The components in the `Lucene.Net` (core) assembly are by comparison non-trivial to port.\r\n\r\n> Didn't realize Lucene was on [version 9.1](https://github.com/apache/lucene/releases/tag/releases%2Flucene%2F9.1.0) already. This is just a beta version of 4.8,which was released in on Apr 27, 2014, nearly 8 years ago. Looking at the current features and changes, the CSharp codebase is leaps and bounds behind. IMHO, I am highly skeptical this will ever reach be brought on par, Or that we this will see production grade release within the next few years, if ever. With this project being blocked by much larger projects like IKVM, which are estimated at 30% of the outstanding work, and the numerous unaddressed bugs in the codebase (estimated at ~70% of the remaining work), it is unfortunate to say with all of the incredible work that has been done but this repo has the hallmarks of open source projects left on the vine to die. But who knows?\r\n\r\nIn 2016, when I started working on Lucene.Net it was being downloaded around 600 times per day. Now it is being downloaded [3600 times per day according to NuGet](https://www.nuget.org/packages/Lucene.Net/). It is one of the top 250 packages on Nuget.org. That doesn't seem to be the hallmark of a dying project.\r\n\r\nICU4N is probably around 70% of the remaining work (it would be more if we were planning to port more of it, but the plan is to fix the gaps and failing tests we currently have and mark components internal that don't have stable APIs without porting any additional components). We are not even including IKVM in our estimates as it is not blocking the Lucene.Net release. \r\n\r\nWhat I said previously was it would probably take 30% of the total amount of work remaining (that is roughly half of the amount of effort it takes to finish up ICU4N) to break up Lucene.NET into multiple segments that we can release separately, which would effectively defer the work on ICU4N until later.\r\n\r\n_I haven't pushed the changes yet, but the biggest ICU4N issue of moving the embedded resources into satellite assemblies that end users can delete if they are not using them is nearly completed. In addition, we have gone from 6 NuGet packages down to just 1 code package and 1 data package, as was done in ICU4J._\r\n\r\nAs @rclabo has just documented in the new [quick start section](https://github.com/apache/lucenenet/pull/626/files#diff-7d2fef45353bcfc90dab17308cc9c4c352eb8213a7ed90ba15a726792cb1c1f4) that will soon be on our website, more than 90% of the features that changed in Lucene were between 3.x and 4.x. Since then, there have only been a couple of dozen new features and a handful of new modules. He also goes into an overview of how we ported it, so it is definitely worth a read.\r\n\r\nUnless Lucene decides to have a major redesign again, this will be the last full port of Lucene.NET. Once it is stable, we will simply upgrade it by porting *only the changes* in each changed file to the latest version. It has been a while since I have checked, but when I did (I believe it was version 7.2.0) around 80% of the files have had less than 10 changed lines since 4.8.0. Most of the changes have been to the structure of the index.\r\n\r\nWe have just 5 tests that are marked with the `[AwaitsFix]` attribute, and the causes of the problems are now fairly well understood (just not quite so simple to fix immediately). Adding the [support for repeatable randomized testing](https://github.com/apache/lucenenet/pull/547) that was missing for so long has made debugging much easier, and we have added [Source Link support](https://github.com/apache/lucenenet/pull/592) so you can now step into the code in our repository. Finding a [workaround for the lack of enumerator on .NET Framework for `ConditionalWeakTable<TKey, TValue>` ](https://github.com/apache/lucenenet/pull/613) was a major victory and our .NET Framework support is now more stable than 3.0.3 will ever be. And the list of gaps to close is getting smaller.\r\n\r\nChanging our target to 9.1 now only means we add ~1800 extra hours of work on top of few hundred hours of work that remains. It also robs the community of a stable 4.8.0 release that will work on .NET core for the amount of time it takes to do the upgrade. We _still_ have the same unstable dependency issues we have now, plus more work on new dependencies that Lucene has taken on since 4.8.0. We would also have to figure out a way to make Lucene 9.1 read Lucene.Net 3.0.3 indexes to allow people to upgrade the software first and the index later, which is something that doesn't exist in Lucene 9.1 (although, it is fairly easy by comparison to port the [backwards-codecs support for 4.x](https://github.com/apache/lucene/tree/releases/lucene-solr/5.5.5/lucene/backward-codecs/src/java/org/apache/lucene/codecs) since it is [tested independently from everything else](https://github.com/apache/lucene/tree/releases/lucene-solr/5.5.5/lucene/backward-codecs/src/test/org/apache/lucene/codecs)), where the Lucene 3.x tests are integrated directly into `Lucene.Net.TestFramework`.\r\n\r\nOf course, there is benefit to doing the upgrade to 9.x after we have a stable 4.8.0 release, it just doesn't make much sense to do it first, especially when most of the gaps of porting to 4.8.0 have already been worked out, all of the modules have been ported, and all but 5 of the tests are passing.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1074738131/reactions","total_count":4,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":4,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075686544","html_url":"https://github.com/apache/lucenenet/issues/618#issuecomment-1075686544","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/618","id":1075686544,"node_id":"IC_kwDOAAJ06c5AHayQ","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T22:03:13Z","updated_at":"2022-03-22T22:03:13Z","author_association":"CONTRIBUTOR","body":"This seems to have been resolved, now.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075686544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075695147","html_url":"https://github.com/apache/lucenenet/issues/608#issuecomment-1075695147","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/608","id":1075695147,"node_id":"IC_kwDOAAJ06c5AHc4r","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T22:16:38Z","updated_at":"2022-03-22T22:16:38Z","author_association":"CONTRIBUTOR","body":"@hamzashoukat94 \r\n\r\n[4.8.0-beta00016](https://www.nuget.org/packages/Lucene.Net/4.8.0-beta00016) includes #613, which should now resolve this issue. Feel free to reopen the issue if you find that it does not.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075695147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075719098","html_url":"https://github.com/apache/lucenenet/issues/377#issuecomment-1075719098","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/377","id":1075719098,"node_id":"IC_kwDOAAJ06c5AHiu6","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T22:35:24Z","updated_at":"2022-03-22T22:35:24Z","author_association":"CONTRIBUTOR","body":"This just doesn't seem like it is worth the effort to change, and is not blocking the 4.8.0 release.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075719098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075737268","html_url":"https://github.com/apache/lucenenet/issues/437#issuecomment-1075737268","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/437","id":1075737268,"node_id":"IC_kwDOAAJ06c5AHnK0","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T23:08:24Z","updated_at":"2022-03-22T23:11:50Z","author_association":"CONTRIBUTOR","body":"@alexhiggins732 I agree with @NightOwl888, it’s much better to fully complete version 4.8 before working to upgrade it to whatever the current version of Java Lucene is at that time.\r\n\r\nYou mentioned:\r\n\r\n>Didn't realize Lucene was on version 9.1 already. This is just a beta version of 4.8, which was released in on Apr 27, 2014, nearly 8 years ago. Looking at the current features and changes, the CSharp codebase is leaps and bounds behind.\r\n\r\nI can understand how the casual observer might reach that conclusion.  In fact when I first discovered Lucene.NET 4.8 Beta a couple years ago I too wondered whether its feature set was current enough to be of value.\r\n\r\nBut the more I dug into the project the more I was blown away by Lucene.NET 4.8’s power and the [advanced engineering]( http://opensearchlab.otago.ac.nz/paper_10.pdf) it contains.  It’s truly a remarkable piece of software.  It’s architecture and features are as relevant today as ever.\r\n\r\nI know that people see the 4.8 version number, Beta status and length of time it’s taken to port it and they wonder how relevant it is.  That’s understandable And that’s the reason I recently I wrote a blog article [Lucene.NET 4.8 vs Java Lucene 9.x](https://www.giftoasis.com/blog/lucene-net/lucene-net--4-8--vs--java-lucene--9-x) to help people realize that Lucene.NET 4.8 has a wealth of features and the majority of the features of Java Lucene 9.x. \r\n\r\n## Release Schedule Analysis\r\n\r\nBesides what I mention in the blog article, it’s important to realize that the time period between major releases was much longer during the version 1.x to version 4.8 era.   And since then, the Lucene team, like most software teams, has moved to doing smaller more frequent releases. \r\n\r\nLet’s look at the release timeline of Java Lucene.  \r\n\r\n2000 – First open source version of Lucene.\r\n2002 – Lucene 1.2 released Under Apache License\r\n2003 – Lucene 1.3 released\r\n2006 – Lucene 2.9 released\r\n2009 – Lucene 3.0 released\r\n2012 – Lucene 4.0 released      \r\n**2014 – Lucene 4.8 released**\r\n2015 – Lucene 5.0 Released\r\n2016 – Lucene 6.0 Released\r\n2017 – Lucene 7.0 Released\r\n2019 – Lucene 8 Released\r\n2021 – Lucene 9 Released\r\n\r\nSource: https://www.elastic.co/celebrating-lucene#2020 \r\n\r\nI don’t know how many years Doug Cutting worked on Lucene before making it open source in 2000. But ya gotta guess it was at least two years.  Now look when Lucene 4.8 was released, in 2014.  So at the release of Lucene 4.8 there was probably 16+ years of development behind it.  That’s not labor years, just calendar years.  **Think about that for a minute.** \r\n\r\nBut how many years difference is there between Lucene 4.8  to Lucene 9?  7 years.  Now 7 years is a lot, I grant you that.  But it’s important to remember that the single biggest new set of features ever to be introduced in the history of Lucene came in version 4.0.  That’s why it took more than 3 years for the Java team get to the 4.0 release *even with a large team*.  \r\n\r\nIn our case 8 years have passed in going from Lucene.NET 3.03 to 4.8.  But our team is much smaller and we don’t currently have any corporate backing (Java Lucene has **LOTS** of corporate backing).  \r\n\r\n\r\n## Why even compare to Java Lucene?\r\n\r\nHonestly, I don’t see a lot of point in comparing Lucene.NET to Java Lucene, unless you are equally happy to use a Java library as a .NET one.  If that’s the case, the comparison is valid and you should seriously consider using Java Lucene 9.1.  But if you are a .NET developer developing a .NET application, website or mobile App then the comparison isn’t really between Lucene.NET 4.8 and Java Lucene 9.1, it’s between Lucene.NET and other .NET based search libraries. \r\n\r\n\r\n## What I see when I look at Lucene.NET 4.8\r\n\r\nSo when I look at Lucene.NET 4.8 I see something totally different than what you see.  \r\n\r\nI see a software architecture that was initially created by someone (Doug Cutting) who was creating his “**fifth search engine**, having previously written two while at Xerox PARC, one at Apple, and a fourth at Excite.” [source]( https://en.wikipedia.org/wiki/Apache_Lucene).  Hat’s off to Doug for sharing this with the world. Wow!\r\n\r\nI see an insanely large feature set hammered out by numerous developers over a 16+ year timeframe.  \r\n\r\nI see more than [644K+](https://lucenenet.apache.org/images/contributing/source/lucenenet-repo-lines-of-code--jan-2022.png) lines of code (not counting dependencies!) that have been ported to c#, and run on .NET on Windows, Linux or MacOS. \r\n\r\nI see a powerful search library that can be used to search enable desktop applications, websites or mobile apps (Android or iOS).  \r\n\r\nI see a multi-targeted search library that runs on the .NET Full Framework, .NET Core 3.1 LTS, .NET 5 or even the latest and greatest .NET 6. \r\n\r\nI see a project that while calling itself beta because a few method signatures may still change, **has 7800+ passing unit tests and is clearly production worthy right now in my mind.**","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075737268/reactions","total_count":14,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":12,"rocket":0,"eyes":2},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075813138","html_url":"https://github.com/apache/lucenenet/issues/258#issuecomment-1075813138","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/258","id":1075813138,"node_id":"IC_kwDOAAJ06c5AH5sS","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-23T01:25:39Z","updated_at":"2022-03-23T01:25:39Z","author_association":"CONTRIBUTOR","body":"MAUI will be a [release candidate in April, 2022](https://github.com/dotnet/maui/wiki/roadmap#net-maui-release-candidate-april-2022).\r\n\r\nThere are a set of xUnit tests noted here: https://github.com/dotnet/maui/issues/2112#issuecomment-1073307339. Looks like no specialized runner is required like was the case on Xamarin, so NUnit should work (in theory).","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075813138/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075875144","html_url":"https://github.com/apache/lucenenet/issues/409#issuecomment-1075875144","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/409","id":1075875144,"node_id":"IC_kwDOAAJ06c5AII1I","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-23T03:24:13Z","updated_at":"2022-03-23T03:24:13Z","author_association":"CONTRIBUTOR","body":"It looks like we no longer have concurrency issues in Lucene.Net.Facet in `TestDirectoryTaxonomyWriter::TestConcurrency()` or `TestSearcherTaxonomyManger::Test_Directory()`, so the safe bet is not to alter this any further.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1075875144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1080986366","html_url":"https://github.com/apache/lucenenet/issues/629#issuecomment-1080986366","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/629","id":1080986366,"node_id":"IC_kwDOAAJ06c5Abor-","user":{"login":"diegolaz79","id":68880102,"node_id":"MDQ6VXNlcjY4ODgwMTAy","avatar_url":"https://avatars.githubusercontent.com/u/68880102?v=4","gravatar_id":"","url":"https://api.github.com/users/diegolaz79","html_url":"https://github.com/diegolaz79","followers_url":"https://api.github.com/users/diegolaz79/followers","following_url":"https://api.github.com/users/diegolaz79/following{/other_user}","gists_url":"https://api.github.com/users/diegolaz79/gists{/gist_id}","starred_url":"https://api.github.com/users/diegolaz79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegolaz79/subscriptions","organizations_url":"https://api.github.com/users/diegolaz79/orgs","repos_url":"https://api.github.com/users/diegolaz79/repos","events_url":"https://api.github.com/users/diegolaz79/events{/privacy}","received_events_url":"https://api.github.com/users/diegolaz79/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-28T18:17:44Z","updated_at":"2022-03-28T18:17:44Z","author_association":"NONE","body":"Checking while creating the index, and its saving for example this as a field of index document:\r\n\r\n`{stored,indexed,tokenized,omitNorms,indexOptions=DOCS_ONLY,numericType=INT32,numericPrecisionStep=4<userid:1>}`","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1080986366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1080992894","html_url":"https://github.com/apache/lucenenet/issues/629#issuecomment-1080992894","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/629","id":1080992894,"node_id":"IC_kwDOAAJ06c5AbqR-","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-28T18:23:38Z","updated_at":"2022-03-28T18:23:38Z","author_association":"CONTRIBUTOR","body":"Are you seeing a difference in NumericRangeQuery behavior between 4.8.0-beta00016 and prior versions? We did make a few changes to it to avoid boxing. https://github.com/apache/lucenenet/pull/570/commits/2cae3c28001ff350a516635f33670581e8c58b85\r\n\r\nI haven't spotted a problem with the query, but I noticed that there are different modes demonstrated in [the NumericRangeQuery tests](https://github.com/apache/lucenenet/blob/Lucene.Net_4_8_0_beta00016/src/Lucene.Net.Tests/Search/TestNumericRangeQuery32.cs#L167-L194) that you might want to experiment with.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1080992894/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081000560","html_url":"https://github.com/apache/lucenenet/issues/629#issuecomment-1081000560","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/629","id":1081000560,"node_id":"IC_kwDOAAJ06c5AbsJw","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-28T18:32:11Z","updated_at":"2022-03-28T18:32:11Z","author_association":"CONTRIBUTOR","body":"I do notice in the first example you give you state:\r\n>{+(username:*carlos* address:*carlos* country:*carlos* description:*carlos* notes:*carlos* ) +usrid:1}\r\n\r\nand in that the last part has `userid` spelled wrong and states `+usrid` instead..  But I suspect that may be a typo and that you didn't copy and past that code from your actual code.\r\n\r\nThe best way to help us to help you is to provide piece of code we can execute that demonstrates the issue you are experiencing, it could take the form of a console app like this tutorial code: [example](https://lucenenet.apache.org/quick-start/tutorial.html#writing-some-lucenenet-code) or it could take the form of a unit test.  But it needs to be the minimal code to demo the issue that can be executed.  \r\n\r\nAlso, it's generally better to post this sort of question on `StackOverflow` where other users will get the benefit of your question and our work to solve it but since you have already posted it as an issue, that's fine.  Just post back to this issue some sample code we can execute to demo the observed behavior. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081000560/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081006914","html_url":"https://github.com/apache/lucenenet/issues/629#issuecomment-1081006914","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/629","id":1081006914,"node_id":"IC_kwDOAAJ06c5AbttC","user":{"login":"diegolaz79","id":68880102,"node_id":"MDQ6VXNlcjY4ODgwMTAy","avatar_url":"https://avatars.githubusercontent.com/u/68880102?v=4","gravatar_id":"","url":"https://api.github.com/users/diegolaz79","html_url":"https://github.com/diegolaz79","followers_url":"https://api.github.com/users/diegolaz79/followers","following_url":"https://api.github.com/users/diegolaz79/following{/other_user}","gists_url":"https://api.github.com/users/diegolaz79/gists{/gist_id}","starred_url":"https://api.github.com/users/diegolaz79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegolaz79/subscriptions","organizations_url":"https://api.github.com/users/diegolaz79/orgs","repos_url":"https://api.github.com/users/diegolaz79/repos","events_url":"https://api.github.com/users/diegolaz79/events{/privacy}","received_events_url":"https://api.github.com/users/diegolaz79/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-28T18:39:15Z","updated_at":"2022-03-28T18:41:26Z","author_association":"NONE","body":"Thanks both! I will check those links and test and use StackOverFlow in the future. \r\nIf that doesn't work I will provide a small sample code\r\nYes, the usrid was a typo here in the question.\r\nThanks!!\r\n\r\nPS: 4.8.0-beta00016 is the version I started with.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081006914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081008956","html_url":"https://github.com/apache/lucenenet/issues/629#issuecomment-1081008956","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/629","id":1081008956,"node_id":"IC_kwDOAAJ06c5AbuM8","user":{"login":"yohsii","id":642486,"node_id":"MDQ6VXNlcjY0MjQ4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/642486?v=4","gravatar_id":"","url":"https://api.github.com/users/yohsii","html_url":"https://github.com/yohsii","followers_url":"https://api.github.com/users/yohsii/followers","following_url":"https://api.github.com/users/yohsii/following{/other_user}","gists_url":"https://api.github.com/users/yohsii/gists{/gist_id}","starred_url":"https://api.github.com/users/yohsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yohsii/subscriptions","organizations_url":"https://api.github.com/users/yohsii/orgs","repos_url":"https://api.github.com/users/yohsii/repos","events_url":"https://api.github.com/users/yohsii/events{/privacy}","received_events_url":"https://api.github.com/users/yohsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-28T18:41:28Z","updated_at":"2022-03-28T18:41:28Z","author_association":"NONE","body":"i've written a custom query parser for my cms\r\nhttps://github.com/yohsii/puck-core/blob/master/core/PuckLucene/PuckQueryParser.cs\r\n\r\nstarting line 89 should handle your integer search","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081008956/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081014808","html_url":"https://github.com/apache/lucenenet/issues/629#issuecomment-1081014808","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/629","id":1081014808,"node_id":"IC_kwDOAAJ06c5AbvoY","user":{"login":"diegolaz79","id":68880102,"node_id":"MDQ6VXNlcjY4ODgwMTAy","avatar_url":"https://avatars.githubusercontent.com/u/68880102?v=4","gravatar_id":"","url":"https://api.github.com/users/diegolaz79","html_url":"https://github.com/diegolaz79","followers_url":"https://api.github.com/users/diegolaz79/followers","following_url":"https://api.github.com/users/diegolaz79/following{/other_user}","gists_url":"https://api.github.com/users/diegolaz79/gists{/gist_id}","starred_url":"https://api.github.com/users/diegolaz79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegolaz79/subscriptions","organizations_url":"https://api.github.com/users/diegolaz79/orgs","repos_url":"https://api.github.com/users/diegolaz79/repos","events_url":"https://api.github.com/users/diegolaz79/events{/privacy}","received_events_url":"https://api.github.com/users/diegolaz79/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-28T18:48:00Z","updated_at":"2022-03-28T18:48:00Z","author_association":"NONE","body":"> i've written a custom query parser for my cms https://github.com/yohsii/puck-core/blob/master/core/PuckLucene/PuckQueryParser.cs\r\n> \r\n> starting line 89 should handle your integer search\r\n\r\nworked like a charm","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081014808/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081289646","html_url":"https://github.com/apache/lucenenet/issues/629#issuecomment-1081289646","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/629","id":1081289646,"node_id":"IC_kwDOAAJ06c5Acyuu","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-29T00:50:28Z","updated_at":"2022-03-29T00:50:53Z","author_association":"CONTRIBUTOR","body":"@diegolaz79 @yohsii\r\n\r\nDo note that some cultures use alternate characters for the negative sign. So, for `int.Parse()` and `long.Parse()`, passing `CultureInfo.InvariantCulture`  may be required if the input may contain negative numbers that don't match the culture of the current thread. ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081289646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081833717","html_url":"https://github.com/apache/lucenenet/issues/629#issuecomment-1081833717","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/629","id":1081833717,"node_id":"IC_kwDOAAJ06c5Ae3j1","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-29T12:52:37Z","updated_at":"2022-03-29T12:52:37Z","author_association":"CONTRIBUTOR","body":"@NightOwl888  \r\n\r\n>Do note that some cultures use alternate characters for the negative sign. So, for int.Parse() and long.Parse(), passing CultureInfo.InvariantCulture may be required if the input may contain negative numbers that don't match the culture of the current thread.\r\n\r\nWouldn't you have to pass the `CultureInfo` for that culture in order for the `Parse()` method to correctly know how the negative number is represented?  Seems like `CultureInfo.InvariantCulture` wouldn't contain that info?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081833717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081963262","html_url":"https://github.com/apache/lucenenet/issues/629#issuecomment-1081963262","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/629","id":1081963262,"node_id":"IC_kwDOAAJ06c5AfXL-","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-29T14:45:59Z","updated_at":"2022-03-29T14:45:59Z","author_association":"CONTRIBUTOR","body":"> @NightOwl888\r\n> \r\n> > Do note that some cultures use alternate characters for the negative sign. So, for int.Parse() and long.Parse(), passing CultureInfo.InvariantCulture may be required if the input may contain negative numbers that don't match the culture of the current thread.\r\n> \r\n> Wouldn't you have to pass the `CultureInfo` for that culture in order for the `Parse()` method to correctly know how the negative number is represented? Seems like `CultureInfo.InvariantCulture` wouldn't contain that info?\r\n\r\nIt depends on the source of the string you are parsing. If passed in from the UI, most likely the culture of the current thread is the right choice. However, data is frequently normalized to invariant culture when put into a file or database.\r\n\r\nOf course `float.Parse()` and `double.Parse()` are more obviously culture-sensitive (since many European nations reverse the usage of the comma and decimal point), but it is easy to overlook the negative sign on integral types because relatively few cultures replace the negative sign (although it is customizable by editing the properties of [NumberFormatInfo](https://docs.microsoft.com/en-us/dotnet/api/system.globalization.numberformatinfo?view=net-6.0), which is returned from the [CultureInfo.NumberFormat](https://docs.microsoft.com/en-us/dotnet/api/system.globalization.cultureinfo.numberformat?view=net-6.0) property and the [CultureInfo.GetFormat()](https://docs.microsoft.com/en-us/dotnet/api/system.globalization.cultureinfo.getformat?view=net-6.0) method).\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1081963262/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1085181654","html_url":"https://github.com/apache/lucenenet/issues/630#issuecomment-1085181654","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/630","id":1085181654,"node_id":"IC_kwDOAAJ06c5Aro7W","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T22:16:25Z","updated_at":"2022-03-31T22:18:10Z","author_association":"CONTRIBUTOR","body":"While this is something I wanted to do before the 4.8.0 release, it probably isn't going to make the cut unless it is contributed by the community.\r\n\r\nSince Lucene.NET 4.8.0 is still a pre-release, most of the ORM tools out there are not compatible with the latest beta so would need to be recompiled at the least and possibly have some design changes to be compatible.\r\n\r\n- [LukeMapper](https://github.com/lelandrichardson/LukeMapper) - Hasn't been updated since Lucene.NET 2.9.4.1, but takes an interesting Dapper-like approach to generate efficient code. More info [here](http://intelligiblebabble.com/lukemapper-a-super-fast-orm-for-lucenenet/).\r\n- [Lucene.Net.Linq](https://github.com/chriseldredge/Lucene.Net.Linq) - Hasn't been updated since Lucene.NET 3.0.3. More about it [here](https://chris.eldredge.io/blog/2012/05/08/Introducing-Linq-to-Lucene/).\r\n- [Flucene](https://github.com/alex-titarenko/flucene) - Hasn't been updated since Lucene.NET 3.0.3.\r\n- [Lucene.Net.DocumentMapper](https://www.nuget.org/packages/Lucene.Net.DocumentMapper) - compatible with 4.8.0-beta00016\r\n- [Lucene.Net.ObjectMapping](https://www.nuget.org/packages/Lucene.Net.ObjectMapping) - Hasn't been updated since Lucene.NET 3.0.3.\r\n- [Lucene2Objects](https://www.nuget.org/packages/Lucene2Objects) - Hasn't been updated since Lucene.NET 2.9.2. More info [here](http://davidcondemarin.blogspot.com/2012/03/introducing-lucene2objects.html).\r\n- [LuceneNetExtensions](https://www.nuget.org/packages/LuceneNetExtensions) - Hasn't been updated since Lucene.NET 3.0.3.\r\n- [ActiveLucene.Net](https://www.nuget.org/packages/ActiveLucene.Net) - Hasn't been updated since Lucene.NET 3.0.3.\r\n- [LrNet.Lucene.Fluent](https://www.nuget.org/packages/LrNet.Lucene.Fluent) - Hasn't been updated since Lucene.NET 2.9.4.1.\r\n\r\nThis list may not be everything that exists, but this should get the ball rolling. Unfortunately, since I haven't experimented with any of these libraries, I cannot tell you how they perform or how easy they are to use.\r\n\r\n> If anyone wants to experiment with these and come up with an approach that we can use to either integrate using partial classes in the Support folder or extend Lucene.NET with another NuGet package, please join the discussion. Ideally, whatever approach is taken would have both an attribute-based and a fluent API configuration, similar to Entity Framework.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1085181654/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1085883859","html_url":"https://github.com/apache/lucenenet/issues/630#issuecomment-1085883859","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/630","id":1085883859,"node_id":"IC_kwDOAAJ06c5AuUXT","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T13:11:56Z","updated_at":"2022-04-01T13:11:56Z","author_association":"CONTRIBUTOR","body":"LukeMapper uses [Reflection.Emit](https://docs.microsoft.com/en-us/dotnet/framework/reflection-and-codedom/emitting-dynamic-methods-and-assemblies) to generate on-demand MSIL code at runtime, which it compiles and caches after the first hit. This is a very good approach that will have a small impact on runtime performance.\r\n\r\nHowever, the object mapping could potentially be made into a compile-time [source generator](https://docs.microsoft.com/en-us/dotnet/csharp/roslyn-sdk/source-generators-overview), which would eliminate the need for the initial runtime compile and cache. In other words, there would be absolutely no runtime performance impact because it would generate the cumbersome-to-maintain code based on the easy-to-maintain configuration, which would be compiled into the end user's assembly. There is an extensive [list of source generators](https://github.com/amis92/csharp-source-generators#readme) being maintained where various approaches to source generation can be analyzed.\r\n\r\nLukeMapper's entry point is on `IndexSearcher`. `IndexSearcher` [may be used with `SearcherManager` to make it threadsafe](https://github.com/apache/lucenenet/issues/616#issuecomment-1054364945), which should be taken into account in the design.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1085883859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1086764962","html_url":"https://github.com/apache/lucenenet/issues/631#issuecomment-1086764962","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/631","id":1086764962,"node_id":"IC_kwDOAAJ06c5Axrei","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-03T02:48:45Z","updated_at":"2022-04-03T02:53:29Z","author_association":"CONTRIBUTOR","body":"There is no Redis support in [Lucene 4.8.0](https://github.com/apache/lucene/tree/releases/lucene-solr/4.8.0), so it won't be included in Lucene.NET.\r\n\r\nHowever, since the Lucene `Directory` class is extensible, there are a few `RedisDirectory` implementations to choose from that can be ported to .NET to support Redis.\r\n\r\n- https://github.com/shijiebei2009/RedisDirectory\r\n- https://github.com/DDTH/ddth-lucext#redisdirectory\r\n- https://github.com/maxpert/RedisDirectory\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1086764962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1086968416","html_url":"https://github.com/apache/lucenenet/issues/631#issuecomment-1086968416","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/631","id":1086968416,"node_id":"IC_kwDOAAJ06c5AydJg","user":{"login":"ricoisme","id":17023972,"node_id":"MDQ6VXNlcjE3MDIzOTcy","avatar_url":"https://avatars.githubusercontent.com/u/17023972?v=4","gravatar_id":"","url":"https://api.github.com/users/ricoisme","html_url":"https://github.com/ricoisme","followers_url":"https://api.github.com/users/ricoisme/followers","following_url":"https://api.github.com/users/ricoisme/following{/other_user}","gists_url":"https://api.github.com/users/ricoisme/gists{/gist_id}","starred_url":"https://api.github.com/users/ricoisme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ricoisme/subscriptions","organizations_url":"https://api.github.com/users/ricoisme/orgs","repos_url":"https://api.github.com/users/ricoisme/repos","events_url":"https://api.github.com/users/ricoisme/events{/privacy}","received_events_url":"https://api.github.com/users/ricoisme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-03T23:06:52Z","updated_at":"2022-04-03T23:06:52Z","author_association":"NONE","body":"I got it.\r\nThanks\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1086968416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1097659530","html_url":"https://github.com/apache/lucenenet/issues/616#issuecomment-1097659530","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/616","id":1097659530,"node_id":"IC_kwDOAAJ06c5BbPSK","user":{"login":"hamzashoukat94","id":50887243,"node_id":"MDQ6VXNlcjUwODg3MjQz","avatar_url":"https://avatars.githubusercontent.com/u/50887243?v=4","gravatar_id":"","url":"https://api.github.com/users/hamzashoukat94","html_url":"https://github.com/hamzashoukat94","followers_url":"https://api.github.com/users/hamzashoukat94/followers","following_url":"https://api.github.com/users/hamzashoukat94/following{/other_user}","gists_url":"https://api.github.com/users/hamzashoukat94/gists{/gist_id}","starred_url":"https://api.github.com/users/hamzashoukat94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamzashoukat94/subscriptions","organizations_url":"https://api.github.com/users/hamzashoukat94/orgs","repos_url":"https://api.github.com/users/hamzashoukat94/repos","events_url":"https://api.github.com/users/hamzashoukat94/events{/privacy}","received_events_url":"https://api.github.com/users/hamzashoukat94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T07:36:51Z","updated_at":"2022-04-13T07:36:51Z","author_association":"NONE","body":"I have managed to delete the index files. After code walk through, I found out that every input (fileStream) is opening from directory, so I managed the open inputs and now, I'm deleting when I need to delete the files on directory level. This solves the problem for me. \r\n\r\nThanks for the responses and interest. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1097659530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1100187973","html_url":"https://github.com/apache/lucenenet/issues/632#issuecomment-1100187973","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/632","id":1100187973,"node_id":"IC_kwDOAAJ06c5Bk4lF","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T15:46:41Z","updated_at":"2022-04-15T15:46:41Z","author_association":"CONTRIBUTOR","body":"What datatype is `{input}`?\r\n\r\nI suspect you might be having parse issues due to the culture of the current thread in your application, which may be formatting `{input}` in an unexpected way. You may need to use [`FormattableString.Invariant()`](https://docs.microsoft.com/en-us/dotnet/api/system.formattablestring.invariant?view=net-6.0).\r\n\r\nNote also that the parsing may be failing because a new `QueryParser` instance uses the culture of the current thread by default and you may need to change the culture.\r\n\r\n```c#\r\nvar parser = new MultiFieldQueryParser(LuceneVersion.LUCENE_48, new string[] { \"foo\", \"bar\" }, analyzer)\r\n{\r\n    Locale = CultureInfo.InvariantCulture\r\n};\r\n```\r\n\r\nWhatever the case, you should be able to debug what is happening by recording the culture and value to be parsed during a failure and then you should reproduce the issue in a debug environment so you can step through to debug. Note that you can [enable Source Link](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/core/source-stepping.html) on 4.8.0-beta00016 so you can step into the QueryParser code also.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1100187973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1100190923","html_url":"https://github.com/apache/lucenenet/issues/632#issuecomment-1100190923","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/632","id":1100190923,"node_id":"IC_kwDOAAJ06c5Bk5TL","user":{"login":"bbieniek","id":10694177,"node_id":"MDQ6VXNlcjEwNjk0MTc3","avatar_url":"https://avatars.githubusercontent.com/u/10694177?v=4","gravatar_id":"","url":"https://api.github.com/users/bbieniek","html_url":"https://github.com/bbieniek","followers_url":"https://api.github.com/users/bbieniek/followers","following_url":"https://api.github.com/users/bbieniek/following{/other_user}","gists_url":"https://api.github.com/users/bbieniek/gists{/gist_id}","starred_url":"https://api.github.com/users/bbieniek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbieniek/subscriptions","organizations_url":"https://api.github.com/users/bbieniek/orgs","repos_url":"https://api.github.com/users/bbieniek/repos","events_url":"https://api.github.com/users/bbieniek/events{/privacy}","received_events_url":"https://api.github.com/users/bbieniek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T15:50:40Z","updated_at":"2022-04-15T15:50:40Z","author_association":"NONE","body":"It's a string.\r\nThe problem is that this happened just in one instance. I wasn't able to reproduce it when running the parsing on exactly the same string.\r\n\r\nThanks for the tip regarding Locale, I will try that and see if the error repeats","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1100190923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1102828845","html_url":"https://github.com/apache/lucenenet/issues/633#issuecomment-1102828845","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/633","id":1102828845,"node_id":"IC_kwDOAAJ06c5Bu9Ut","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-19T16:03:54Z","updated_at":"2022-04-19T16:03:54Z","author_association":"CONTRIBUTOR","body":"SharpZipLib is not bound to a specific version (note it is >= 0.86). 0.86 is the *minimum* version required.\r\n\r\n![image](https://user-images.githubusercontent.com/1538288/164045187-519524ae-c822-4086-ae17-4258b103da07.png)\r\n\r\nI am not sure whether there are any breaking API changes between SharpZipLib 0.86 and 1.3.3 or even how much of the API surface Lucene.Net 3.0.3 utilizes. What happens when you add a reference to SharpZipLib 1.3.3 to your project?\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1102828845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1102961596","html_url":"https://github.com/apache/lucenenet/issues/633#issuecomment-1102961596","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/633","id":1102961596,"node_id":"IC_kwDOAAJ06c5Bvdu8","user":{"login":"jeme","id":1609615,"node_id":"MDQ6VXNlcjE2MDk2MTU=","avatar_url":"https://avatars.githubusercontent.com/u/1609615?v=4","gravatar_id":"","url":"https://api.github.com/users/jeme","html_url":"https://github.com/jeme","followers_url":"https://api.github.com/users/jeme/followers","following_url":"https://api.github.com/users/jeme/following{/other_user}","gists_url":"https://api.github.com/users/jeme/gists{/gist_id}","starred_url":"https://api.github.com/users/jeme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeme/subscriptions","organizations_url":"https://api.github.com/users/jeme/orgs","repos_url":"https://api.github.com/users/jeme/repos","events_url":"https://api.github.com/users/jeme/events{/privacy}","received_events_url":"https://api.github.com/users/jeme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-19T18:32:51Z","updated_at":"2022-04-19T18:32:51Z","author_association":"CONTRIBUTOR","body":"We have been running with a newer version of SharpZipLib in production for a very long time now and have not experienced any issues. But we are not using Lucene much beyond the basics so I am not sure we are hitting code that is dependent on the library.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1102961596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1104820839","html_url":"https://github.com/apache/lucenenet/issues/632#issuecomment-1104820839","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/632","id":1104820839,"node_id":"IC_kwDOAAJ06c5B2jpn","user":{"login":"bbieniek","id":10694177,"node_id":"MDQ6VXNlcjEwNjk0MTc3","avatar_url":"https://avatars.githubusercontent.com/u/10694177?v=4","gravatar_id":"","url":"https://api.github.com/users/bbieniek","html_url":"https://github.com/bbieniek","followers_url":"https://api.github.com/users/bbieniek/followers","following_url":"https://api.github.com/users/bbieniek/following{/other_user}","gists_url":"https://api.github.com/users/bbieniek/gists{/gist_id}","starred_url":"https://api.github.com/users/bbieniek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbieniek/subscriptions","organizations_url":"https://api.github.com/users/bbieniek/orgs","repos_url":"https://api.github.com/users/bbieniek/repos","events_url":"https://api.github.com/users/bbieniek/events{/privacy}","received_events_url":"https://api.github.com/users/bbieniek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-21T07:36:54Z","updated_at":"2022-04-21T07:36:54Z","author_association":"NONE","body":"After deploying the fix, it did not help.\r\nStill getting the exception:\r\n```\r\nCannot parse '\"a\"': Encountered \"<EOF>\" at line 1, column 2.\r\nWas expecting one of:\r\n    <NOT> ...\r\n    \"+\" ...\r\n    \"-\" ...\r\n    <BAREOPER> ...\r\n    \"(\" ...\r\n    \"*\" ...\r\n    <QUOTED> ...\r\n    <TERM> ...\r\n    <PREFIXTERM> ...\r\n    <WILDTERM> ...\r\n    <REGEXPTERM> ...\r\n    \"[\" ...\r\n    \"{\" ...\r\n    <NUMBER> ...\r\n    <TERM> ...\r\n    \"*\" ...\r\n    \r\n```\r\n\r\nOne more thing, I am using the AzureDirectory package. I have noticed that this *may* occur when the cache is being downloaded from a blob container. I will ask the person that takes care of the Lucene.Net.Store.AzureDirectory package","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1104820839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1115294630","html_url":"https://github.com/apache/lucenenet/issues/610#issuecomment-1115294630","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/610","id":1115294630,"node_id":"IC_kwDOAAJ06c5Cegum","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T19:48:10Z","updated_at":"2022-05-02T19:48:10Z","author_association":"CONTRIBUTOR","body":"The content for the website home page has been updated and this issue has been [resolved](https://github.com/apache/lucenenet/commit/b83d07c2ac6a82d82109651c15514409d061670f).  \r\n\r\nAdditionally the [lucenenet.apache.org](https://lucenenet.apache.org/) website now has a new [Quick Start](https://lucenenet.apache.org/quick-start/index.html) section that makes it easier for developers to get up to speed on using Lucene.NET.  This section include two step-by-step tutorials.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1115294630/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1129023983","html_url":"https://github.com/apache/lucenenet/pull/571#issuecomment-1129023983","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/571","id":1129023983,"node_id":"IC_kwDOAAJ06c5DS4nv","user":{"login":"raminmjj","id":991847,"node_id":"MDQ6VXNlcjk5MTg0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/991847?v=4","gravatar_id":"","url":"https://api.github.com/users/raminmjj","html_url":"https://github.com/raminmjj","followers_url":"https://api.github.com/users/raminmjj/followers","following_url":"https://api.github.com/users/raminmjj/following{/other_user}","gists_url":"https://api.github.com/users/raminmjj/gists{/gist_id}","starred_url":"https://api.github.com/users/raminmjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raminmjj/subscriptions","organizations_url":"https://api.github.com/users/raminmjj/orgs","repos_url":"https://api.github.com/users/raminmjj/repos","events_url":"https://api.github.com/users/raminmjj/events{/privacy}","received_events_url":"https://api.github.com/users/raminmjj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T15:38:33Z","updated_at":"2022-05-17T15:38:33Z","author_association":"CONTRIBUTOR","body":"Hi Shad.\r\nI implemented your suggestions.\r\nPlease review the changes.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1129023983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1130102951","html_url":"https://github.com/apache/lucenenet/issues/635#issuecomment-1130102951","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/635","id":1130102951,"node_id":"IC_kwDOAAJ06c5DXACn","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T14:38:55Z","updated_at":"2022-05-18T14:38:55Z","author_association":"CONTRIBUTOR","body":"Since this is a general question on how to use Lucene.NET rather then an issue it would be better to post this question on [StackOverflow](https://stackoverflow.com/questions/tagged/lucene.net) with lucene and lucene.net tag.  That way it will be visible to the broader Lucene and Lucene.NET community and will be easier to find in the future by other users that may have a similar question.  ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1130102951/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1133821526","html_url":"https://github.com/apache/lucenenet/pull/634#issuecomment-1133821526","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/634","id":1133821526,"node_id":"IC_kwDOAAJ06c5DlL5W","user":{"login":"BrandonStudio","id":55647556,"node_id":"MDQ6VXNlcjU1NjQ3NTU2","avatar_url":"https://avatars.githubusercontent.com/u/55647556?v=4","gravatar_id":"","url":"https://api.github.com/users/BrandonStudio","html_url":"https://github.com/BrandonStudio","followers_url":"https://api.github.com/users/BrandonStudio/followers","following_url":"https://api.github.com/users/BrandonStudio/following{/other_user}","gists_url":"https://api.github.com/users/BrandonStudio/gists{/gist_id}","starred_url":"https://api.github.com/users/BrandonStudio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrandonStudio/subscriptions","organizations_url":"https://api.github.com/users/BrandonStudio/orgs","repos_url":"https://api.github.com/users/BrandonStudio/repos","events_url":"https://api.github.com/users/BrandonStudio/events{/privacy}","received_events_url":"https://api.github.com/users/BrandonStudio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-22T05:25:42Z","updated_at":"2022-05-22T05:25:42Z","author_association":"CONTRIBUTOR","body":"sorry about that","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1133821526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1133893524","html_url":"https://github.com/apache/lucenenet/pull/571#issuecomment-1133893524","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/571","id":1133893524,"node_id":"IC_kwDOAAJ06c5DldeU","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-22T13:10:54Z","updated_at":"2022-05-22T13:10:54Z","author_association":"CONTRIBUTOR","body":"@raminmjj - Looks like the Lucene team decided not to make the `PersianStemmer` part of the built-in `PersianAnalyzer`, but expect users to custom build an analyzer if they want to utilize it: https://github.com/apache/lucene/pull/904\r\n\r\nI will make the same changes to Lucene.NET in a new PR.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1133893524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1139657485","html_url":"https://github.com/apache/lucenenet/pull/571#issuecomment-1139657485","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/571","id":1139657485,"node_id":"IC_kwDOAAJ06c5D7csN","user":{"login":"mocobeta","id":1825333,"node_id":"MDQ6VXNlcjE4MjUzMzM=","avatar_url":"https://avatars.githubusercontent.com/u/1825333?v=4","gravatar_id":"","url":"https://api.github.com/users/mocobeta","html_url":"https://github.com/mocobeta","followers_url":"https://api.github.com/users/mocobeta/followers","following_url":"https://api.github.com/users/mocobeta/following{/other_user}","gists_url":"https://api.github.com/users/mocobeta/gists{/gist_id}","starred_url":"https://api.github.com/users/mocobeta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mocobeta/subscriptions","organizations_url":"https://api.github.com/users/mocobeta/orgs","repos_url":"https://api.github.com/users/mocobeta/repos","events_url":"https://api.github.com/users/mocobeta/events{/privacy}","received_events_url":"https://api.github.com/users/mocobeta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-27T14:11:17Z","updated_at":"2022-05-27T14:11:17Z","author_association":"NONE","body":"Hi,\r\n\r\n> Looks like the Lucene team decided not to make the `PersianStemmer` part of the built-in `PersianAnalyzer`, but expect users to custom build an analyzer if they want to utilize it: [apache/lucene#904](https://github.com/apache/lucene/pull/904)\r\n\r\nWe removed `PersianStemmer` from `PersianAnalyzer` only for 9x branch (current maintenance branch) to avoid breaking the backward compatibility in analysis in 9.x, but the change was not reverted from `main` and will be released in the next major release.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1139657485/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1139781543","html_url":"https://github.com/apache/lucenenet/pull/636#issuecomment-1139781543","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/636","id":1139781543,"node_id":"IC_kwDOAAJ06c5D76-n","user":{"login":"mocobeta","id":1825333,"node_id":"MDQ6VXNlcjE4MjUzMzM=","avatar_url":"https://avatars.githubusercontent.com/u/1825333?v=4","gravatar_id":"","url":"https://api.github.com/users/mocobeta","html_url":"https://github.com/mocobeta","followers_url":"https://api.github.com/users/mocobeta/followers","following_url":"https://api.github.com/users/mocobeta/following{/other_user}","gists_url":"https://api.github.com/users/mocobeta/gists{/gist_id}","starred_url":"https://api.github.com/users/mocobeta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mocobeta/subscriptions","organizations_url":"https://api.github.com/users/mocobeta/orgs","repos_url":"https://api.github.com/users/mocobeta/repos","events_url":"https://api.github.com/users/mocobeta/events{/privacy}","received_events_url":"https://api.github.com/users/mocobeta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-27T16:35:21Z","updated_at":"2022-05-27T16:35:21Z","author_association":"NONE","body":"We still have `PersianStemmer` in `PersianAnalyzer` on the `main` branch, it's a great addition - on the other hand, we have to consider backward compatibility on a major release (not to force users to reindex the whole data) so we can't expose the new stemmer for the default analyzer in 9.x. We will definitely have it in PerianAnalyzer in Lucene 10.0...","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1139781543/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1165012201","html_url":"https://github.com/apache/lucenenet/issues/639#issuecomment-1165012201","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/639","id":1165012201,"node_id":"IC_kwDOAAJ06c5FcKzp","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-23T23:35:03Z","updated_at":"2022-06-23T23:35:03Z","author_association":"CONTRIBUTOR","body":"The switch to daylight saving time does not affect UTC.  So the UTC date /time you write into the index when under daylight savings time and when not under daylight savings time will be the same for a given time zone.  \r\n\r\nSo your only issue is that when you perform a search you need to first convert the current date/time for that time zone into it's proper UTC date/time.   And that process will inherently take the daylight savings time (or not) into consideration.  ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1165012201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1165043477","html_url":"https://github.com/apache/lucenenet/issues/639#issuecomment-1165043477","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/639","id":1165043477,"node_id":"IC_kwDOAAJ06c5FcScV","user":{"login":"jregnier","id":8887814,"node_id":"MDQ6VXNlcjg4ODc4MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8887814?v=4","gravatar_id":"","url":"https://api.github.com/users/jregnier","html_url":"https://github.com/jregnier","followers_url":"https://api.github.com/users/jregnier/followers","following_url":"https://api.github.com/users/jregnier/following{/other_user}","gists_url":"https://api.github.com/users/jregnier/gists{/gist_id}","starred_url":"https://api.github.com/users/jregnier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jregnier/subscriptions","organizations_url":"https://api.github.com/users/jregnier/orgs","repos_url":"https://api.github.com/users/jregnier/repos","events_url":"https://api.github.com/users/jregnier/events{/privacy}","received_events_url":"https://api.github.com/users/jregnier/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-24T00:33:13Z","updated_at":"2022-06-24T00:33:13Z","author_association":"NONE","body":"Hello Ron, thanks for the quick reply, you are absolutely right! Except I was in a hurry when writing this and forgot the most important part 🤦 . It's not a DateTime but just a time range so I don't have a month to go off. The more I look into this the more I feel this can't be done since reading the value for each doc and converting it would be too expensive.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1165043477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1165524761","html_url":"https://github.com/apache/lucenenet/issues/639#issuecomment-1165524761","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/639","id":1165524761,"node_id":"IC_kwDOAAJ06c5FeH8Z","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-24T12:27:28Z","updated_at":"2022-06-24T12:27:28Z","author_association":"CONTRIBUTOR","body":"(scratching head).  I see.  I think it's a logic problem more than a Lucene.NET problem and I think the logic problem would exist with any data store not just Lucene.  It's hard to even reason what it means to deal with times without dates in the context of daylight savings time.  \r\n\r\nDaylight savings time is fundamentally associated with only certain months of the year.  But if the time exists without a date then it exists without a month association which means that it's almost nonsensical to incorporate the concept of daylight savings time into the search. (shrug)","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1165524761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1166205112","html_url":"https://github.com/apache/lucenenet/issues/639#issuecomment-1166205112","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/639","id":1166205112,"node_id":"IC_kwDOAAJ06c5FguC4","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-25T06:37:15Z","updated_at":"2022-06-25T06:37:15Z","author_association":"CONTRIBUTOR","body":"Time zone support has been added in #551 and #580 which has been included since 4.8.0-beta00016.\r\n\r\nIt isn't clear from your question whether you are using [`DateTools`](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/core/Lucene.Net.Documents.DateTools.html) to make the conversions, but there are built-in options for storing dates in the index:\r\n\r\n1. As a number representing milliseconds since the Unix Epoch (Milliseconds since Jan 1, 1970 12:00:00 AM UTC.).\r\n2. As a number representing the number or .NET Ticks.\r\n3. As a string in the format `yyyyMMddHHmmssSSS`.\r\n\r\n`DateTools`also allows you to reduce the resolution of the date in certain cases, for example, when the seconds or time component is not important for the search.\r\n\r\nAs for the time zone, it only really matters if you store the date as a string because numeric dates do not include time zone info, they are always stored as UTC. When you search, your query needs to be built with UTC dates. This can be done using the [classic](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/queryparser/Lucene.Net.QueryParsers.Classic.html) or [flexible query parser](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/queryparser/overview.html#flexible).\r\n\r\nThe most common way of dealing with time zones in .NET is to create `DateTime` instances using `DateTimeKind.Local` or `DateTimeKind.Utc`, both of which can be converted to the other. However, if you don't specify what the date is, it will be created with `DateTimeKind.Unspecified` and will assumed to be local time whether or not you intended that.\r\n\r\nhttps://docs.microsoft.com/en-us/dotnet/standard/datetime/converting-between-time-zones\r\n\r\nUsing the built-in logic assumes that `DateTimeKind.Local` is the time zone you are converting to, and it should work for most scenarios (I suspect web apps adjust it automatically based on the user's time zone, although I haven't tested that scenario). However, both [`DateTools`](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/core/Lucene.Net.Documents.DateTools.html#Lucene_Net_Documents_DateTools_DateToString_System_DateTime_System_TimeZoneInfo_Lucene_Net_Documents_DateResolution_) and [flexible query parser](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/queryparser/Lucene.Net.QueryParsers.Flexible.Standard.ICommonQueryParserConfiguration.html#Lucene_Net_QueryParsers_Flexible_Standard_ICommonQueryParserConfiguration_TimeZone) support setting the current time zone explicitly for scenarios where your computer's local time zone is set to one time zone and you want to search using a different time zone.  Of course, using `DateTools`, the time zone info (and DST by extension) doesn't matter unless you are storing the dates in the index as a string. \r\n\r\nIf you store the dates in the index as numbers, the only place time zone matters is when you are building the query to search the index, in which case you will need to convert the date from local time zone to UTC before performing the search. And when you do that, .NET will take care of the DST part automatically as part of the time zone conversion from local time.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1166205112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1176538515","html_url":"https://github.com/apache/lucenenet/issues/639#issuecomment-1176538515","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/639","id":1176538515,"node_id":"IC_kwDOAAJ06c5GII2T","user":{"login":"jregnier","id":8887814,"node_id":"MDQ6VXNlcjg4ODc4MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8887814?v=4","gravatar_id":"","url":"https://api.github.com/users/jregnier","html_url":"https://github.com/jregnier","followers_url":"https://api.github.com/users/jregnier/followers","following_url":"https://api.github.com/users/jregnier/following{/other_user}","gists_url":"https://api.github.com/users/jregnier/gists{/gist_id}","starred_url":"https://api.github.com/users/jregnier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jregnier/subscriptions","organizations_url":"https://api.github.com/users/jregnier/orgs","repos_url":"https://api.github.com/users/jregnier/repos","events_url":"https://api.github.com/users/jregnier/events{/privacy}","received_events_url":"https://api.github.com/users/jregnier/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T18:24:30Z","updated_at":"2022-07-06T18:24:30Z","author_association":"NONE","body":"Hey guys thanks for the replies. @rclabo you are absolutely right that this isn't a Lucene problem but I'm trying to solve it with Lucene. Right now we use a SQLite DB and we have a custom SQL function that applies the given timezone and then does the query against that. The reason for this is that in the DB there is a full date and time but the query only has a time for example give me everything between 9-5. It's also important to note that in the application you have the ability to specify any timezone so it's not tied to a machine or anything like that. The timezone is easy because it's the same for the entire year but DST is not, so it depends on the month in the Lucene index if DST has an offset\r\n\r\nThanks for the help, I know this is not a normal situation lol","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1176538515/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1183283743","html_url":"https://github.com/apache/lucenenet/issues/641#issuecomment-1183283743","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/641","id":1183283743,"node_id":"IC_kwDOAAJ06c5Gh3of","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-13T14:16:53Z","updated_at":"2022-07-13T14:19:22Z","author_association":"CONTRIBUTOR","body":"Thank you for your question.  I wrote the tutorial and will try to help you.  The tutorial makes no reference to Lucene.NET 3.0.3 and is instead for Lucene.NET 4.8.\r\n\r\nPerhaps when you added the NuGet reference you left out the –prerelease switch.  (see https://lucenenet.apache.org/quick-start/tutorial.html#add-nuget-references) \r\n\r\nThe command should be:\r\n\r\n`dotnet add package Lucene.Net --prerelease`\r\n\r\nThe –prerelease part of that command is what will add the reference to the Lucene.NET 4.8  since it’s still in beta.  If you leave out –prerelease then it will create a reference to 3.0.3 which is incorrect and will not compile.\r\n\r\nYou can confirm that it referenced the correct version of Lucene.NET by looking at  the .csproj file created (https://lucenenet.apache.org/quick-start/tutorial.html#viewing-the-two-main-files  )\r\n\r\nIn that project file, the following two lines should show the latest beta version of Lucene.Net 4.8\r\n\r\n<PackageReference Include=\"Lucene.Net\" Version=\"4.8.0-beta00016\" />\r\n<PackageReference Include=\"Lucene.Net.Analysis.Common\" Version=\"4.8.0-beta00016\" />\r\n\r\nPlease let me know if this clears up your issue.\r\nThank you for trying out Lucene.NET.  It’s a great open source Search Library.\r\n\r\nBest,\r\n\r\n-Ron \r\n\r\nrclabo\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1183283743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1183300621","html_url":"https://github.com/apache/lucenenet/issues/641#issuecomment-1183300621","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/641","id":1183300621,"node_id":"IC_kwDOAAJ06c5Gh7wN","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-13T14:30:59Z","updated_at":"2022-07-13T14:30:59Z","author_association":"CONTRIBUTOR","body":"In your screenshot I see that the GUI shows that you have a NuGet references to `Lucene.Net` Version 4.8.0-beta00016 and `Lucene.Net.Analysis.Common` Version 4.8.0-beta00016.  And yet the GUI is saying it can't resolve the referenced to `StandardAnalyzer` and doesn't recognize the `Lucene.Net.Analysis.Standard` namespace.  \r\n\r\nThat class and namespace is in the `Lucene.Net.Analysis.Common `Version 4.8.0-beta00016 NuGet package.  So it's odd the GUI isn't seeing them in that package.  You might try saving everything and then restarting the development environment.  Maybe it will then see the `StandardAnalyzer`  and  the `Lucene.Net.Analysis.Standard` namespace.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1183300621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1184058753","html_url":"https://github.com/apache/lucenenet/issues/641#issuecomment-1184058753","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/641","id":1184058753,"node_id":"IC_kwDOAAJ06c5Gk02B","user":{"login":"cigoic","id":2939228,"node_id":"MDQ6VXNlcjI5MzkyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/2939228?v=4","gravatar_id":"","url":"https://api.github.com/users/cigoic","html_url":"https://github.com/cigoic","followers_url":"https://api.github.com/users/cigoic/followers","following_url":"https://api.github.com/users/cigoic/following{/other_user}","gists_url":"https://api.github.com/users/cigoic/gists{/gist_id}","starred_url":"https://api.github.com/users/cigoic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cigoic/subscriptions","organizations_url":"https://api.github.com/users/cigoic/orgs","repos_url":"https://api.github.com/users/cigoic/repos","events_url":"https://api.github.com/users/cigoic/events{/privacy}","received_events_url":"https://api.github.com/users/cigoic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-14T06:43:40Z","updated_at":"2022-07-14T06:43:40Z","author_association":"NONE","body":"Thanks a lot!\r\n\r\nI end up restart VS2022, delete the solution folder and create a new project from beginning. This did help me start Lucene tutorial examples. ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1184058753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1184064716","html_url":"https://github.com/apache/lucenenet/issues/641#issuecomment-1184064716","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/641","id":1184064716,"node_id":"IC_kwDOAAJ06c5Gk2TM","user":{"login":"cigoic","id":2939228,"node_id":"MDQ6VXNlcjI5MzkyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/2939228?v=4","gravatar_id":"","url":"https://api.github.com/users/cigoic","html_url":"https://github.com/cigoic","followers_url":"https://api.github.com/users/cigoic/followers","following_url":"https://api.github.com/users/cigoic/following{/other_user}","gists_url":"https://api.github.com/users/cigoic/gists{/gist_id}","starred_url":"https://api.github.com/users/cigoic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cigoic/subscriptions","organizations_url":"https://api.github.com/users/cigoic/orgs","repos_url":"https://api.github.com/users/cigoic/repos","events_url":"https://api.github.com/users/cigoic/events{/privacy}","received_events_url":"https://api.github.com/users/cigoic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-14T06:52:13Z","updated_at":"2022-07-14T06:54:55Z","author_association":"NONE","body":"> In your screenshot I see that the GUI shows that you have a NuGet references to `Lucene.Net` Version 4.8.0-beta00016 and `Lucene.Net.Analysis.Common` Version 4.8.0-beta00016. And yet the GUI is saying it can't resolve the referenced to `StandardAnalyzer` and doesn't recognize the `Lucene.Net.Analysis.Standard` namespace.\r\n> \r\n> That class and namespace is in the `Lucene.Net.Analysis.Common `Version 4.8.0-beta00016 NuGet package. So it's odd the GUI isn't seeing them in that package. You might try saving everything and then restarting the development environment. Maybe it will then see the `StandardAnalyzer` and the `Lucene.Net.Analysis.Standard` namespace.\r\n\r\nYes. VS2022 17.0.5 preview did not update namespace references completely. I did install Lucene 3.0.3 at first by mistake. However, update it to 4.8 beta directly does not solve the problem. \r\n\r\nCreate a total new solution folder seems to solve it. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1184064716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1184406285","html_url":"https://github.com/apache/lucenenet/issues/641#issuecomment-1184406285","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/641","id":1184406285,"node_id":"IC_kwDOAAJ06c5GmJsN","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-14T12:47:01Z","updated_at":"2022-07-14T12:47:01Z","author_association":"CONTRIBUTOR","body":"Excellent.  Glad the tutorial is working for your now.  Thanks for taking Lucene.NET for a spin.  Have a great day.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1184406285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1186464445","html_url":"https://github.com/apache/lucenenet/issues/642#issuecomment-1186464445","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/642","id":1186464445,"node_id":"IC_kwDOAAJ06c5GuAK9","user":{"login":"cigoic","id":2939228,"node_id":"MDQ6VXNlcjI5MzkyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/2939228?v=4","gravatar_id":"","url":"https://api.github.com/users/cigoic","html_url":"https://github.com/cigoic","followers_url":"https://api.github.com/users/cigoic/followers","following_url":"https://api.github.com/users/cigoic/following{/other_user}","gists_url":"https://api.github.com/users/cigoic/gists{/gist_id}","starred_url":"https://api.github.com/users/cigoic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cigoic/subscriptions","organizations_url":"https://api.github.com/users/cigoic/orgs","repos_url":"https://api.github.com/users/cigoic/repos","events_url":"https://api.github.com/users/cigoic/events{/privacy}","received_events_url":"https://api.github.com/users/cigoic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-17T09:56:48Z","updated_at":"2022-07-17T09:56:48Z","author_association":"NONE","body":"Hi,\r\n\r\nI just figured it out:\r\n\r\n```csharp\r\nOffsetAttribute offsetAtt = (OffsetAttribute)ts.AddAttribute<IOffsetAttribute>();\r\nCharTermAttribute termAtt = (CharTermAttribute)ts.AddAttribute<ICharTermAttribute>();\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1186464445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1187420738","html_url":"https://github.com/apache/lucenenet/issues/642#issuecomment-1187420738","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/642","id":1187420738,"node_id":"IC_kwDOAAJ06c5GxppC","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-18T13:24:41Z","updated_at":"2022-07-18T13:24:41Z","author_association":"CONTRIBUTOR","body":"Excellent.  Thanks for posting the answer here.   Welcome to Lucene.NET.  \r\n\r\nStackOverflow can be a good additional source of info on your Lucene.NET journey: https://stackoverflow.com/questions/tagged/lucene.net  \r\n\r\nThank you for taking Lucene.NET for a spin.  It's an amazingly powerful search library. We hope you will find it as wonderful as we do.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1187420738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1206074605","html_url":"https://github.com/apache/lucenenet/issues/271#issuecomment-1206074605","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/271","id":1206074605,"node_id":"IC_kwDOAAJ06c5H4zzt","user":{"login":"vvdb-architecture","id":66954369,"node_id":"MDQ6VXNlcjY2OTU0MzY5","avatar_url":"https://avatars.githubusercontent.com/u/66954369?v=4","gravatar_id":"","url":"https://api.github.com/users/vvdb-architecture","html_url":"https://github.com/vvdb-architecture","followers_url":"https://api.github.com/users/vvdb-architecture/followers","following_url":"https://api.github.com/users/vvdb-architecture/following{/other_user}","gists_url":"https://api.github.com/users/vvdb-architecture/gists{/gist_id}","starred_url":"https://api.github.com/users/vvdb-architecture/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvdb-architecture/subscriptions","organizations_url":"https://api.github.com/users/vvdb-architecture/orgs","repos_url":"https://api.github.com/users/vvdb-architecture/repos","events_url":"https://api.github.com/users/vvdb-architecture/events{/privacy}","received_events_url":"https://api.github.com/users/vvdb-architecture/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T06:00:16Z","updated_at":"2022-08-05T06:00:16Z","author_association":"NONE","body":"Throwing exceptions in Dispose() is bad form.\r\nSee https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/ca1065\r\nOr https://docs.microsoft.com/en-us/dotnet/api/system.idisposable.dispose?view=net-6.0:\r\n\r\n> If an object's [Dispose](https://docs.microsoft.com/en-us/dotnet/api/system.idisposable.dispose?view=net-6.0) method is called more than once, the object must ignore all calls after the first one. The object must not throw an exception if its [Dispose](https://docs.microsoft.com/en-us/dotnet/api/system.idisposable.dispose?view=net-6.0) method is called multiple times. Instance methods other than [Dispose](https://docs.microsoft.com/en-us/dotnet/api/system.idisposable.dispose?view=net-6.0) can throw an [ObjectDisposedException](https://docs.microsoft.com/en-us/dotnet/api/system.objectdisposedexception?view=net-6.0) when resources are already disposed.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1206074605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1256877413","html_url":"https://github.com/apache/lucenenet/issues/644#issuecomment-1256877413","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/644","id":1256877413,"node_id":"IC_kwDOAAJ06c5K6m1l","user":{"login":"chenhh021","id":26926033,"node_id":"MDQ6VXNlcjI2OTI2MDMz","avatar_url":"https://avatars.githubusercontent.com/u/26926033?v=4","gravatar_id":"","url":"https://api.github.com/users/chenhh021","html_url":"https://github.com/chenhh021","followers_url":"https://api.github.com/users/chenhh021/followers","following_url":"https://api.github.com/users/chenhh021/following{/other_user}","gists_url":"https://api.github.com/users/chenhh021/gists{/gist_id}","starred_url":"https://api.github.com/users/chenhh021/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenhh021/subscriptions","organizations_url":"https://api.github.com/users/chenhh021/orgs","repos_url":"https://api.github.com/users/chenhh021/repos","events_url":"https://api.github.com/users/chenhh021/events{/privacy}","received_events_url":"https://api.github.com/users/chenhh021/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-24T06:14:45Z","updated_at":"2022-09-24T06:14:45Z","author_association":"CONTRIBUTOR","body":"@NightOwl888 @rclabo could you please have a look at this problem?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1256877413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1262893593","html_url":"https://github.com/apache/lucenenet/pull/645#issuecomment-1262893593","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/645","id":1262893593,"node_id":"IC_kwDOAAJ06c5LRjoZ","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T22:37:27Z","updated_at":"2022-09-29T22:37:27Z","author_association":"CONTRIBUTOR","body":"Wow!  Very interesting contribution.  It does not look like Java Lucene 4.8.0 or 4.8.1 contain the `KoreanAnalyzer` however they do contain a `CJKAnalyzer` which is intended to cover Chinese, Japanese, and Korean.  \r\n\r\nWhich Java Lucene version is this contribution a port of?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1262893593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1263040758","html_url":"https://github.com/apache/lucenenet/pull/645#issuecomment-1263040758","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/645","id":1263040758,"node_id":"IC_kwDOAAJ06c5LSHj2","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T02:48:08Z","updated_at":"2022-09-30T06:06:55Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution.\r\n\r\nThere was a prior attempt at porting the nori analyzer on [the feature/analysis-nori branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori). However, there were 2 issues preventing it from functioning on Lucene.Net 4.8.0:\r\n\r\n1. The FST implementation was redesigned between 4.8.0 and the version that nori was added in Lucene. This incompatibility made it impossible to debug the tests.\r\n2. BigDecimal doesn't exist in .NET.\r\n\r\nWe are more concerned with getting past the first issue than the second, since it would be trivial to exclude `KoreanNumberFilter` and `KoreanNumberFilterFactory` from the project (commented out, with notes explaining that we are missing the `BigDecimal` dependency at the top of the file), but I will provide some info about how to proceed if you are interested in porting it.\r\n\r\n## Issues to Fix\r\n\r\n1. Move this into a new project named `Lucene.Net.Analysis.Nori`, using `Lucene.Net.Analysis.Kuromoji` as a project template. We don't want to add large dependencies to `Lucene.Net.Analysis.Common`, since most people are using it.\r\n2. Add a comment at the top of each code file indicating the exact Lucene version it is ported from. Example: `// Lucene version compatibility level 9.3.0`\r\n3. Bring over the tests from [the feature/analysis-nori branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori) and add them to a new project named `Lucene.Net.Tests.Analysis.Nori` (or alternatively create a fresh port of the tests). Either way, please ensure the tests are up to date with the exact Lucene version that you are porting the nori analyzer from.\r\n4. The nori project is very similar to [Lucene.Net.Analysis.Kuromoji](https://github.com/apache/lucenenet/tree/b5ea527c5bd125dd1db34d8b914e1a5d72e08ffa/src/Lucene.Net.Analysis.Kuromoji) and [Lucene.Net.Analysis.SmartCn](https://github.com/apache/lucenenet/tree/b5ea527c5bd125dd1db34d8b914e1a5d72e08ffa/src/Lucene.Net.Analysis.SmartCn) projects. Please use similar coding styles (constants instead of static fields, properties instead of methods where appropriate, naming conventions, folder detection for custom dictionaries, etc.)\r\n5. Please include the changes and documentation from the [the feature/analysis-nori branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori) to the `lucene-cli` tool that is used to build custom nori dictionaries.\r\n6. After addressing the porting issues below, please ensure all of the tests are passing. The best way to do this is to [setup Java debugging](https://lucenenet.apache.org/contributing/how-to-setup-java-lucene-debugging.html) and step through the code. Note that you will need to use the version of Java Lucene you are doing the port from in order to get the same results. Lucene has made some changes to their setup procedure, so it may take some research/experimentation to do. Do note that we have [these versions](https://github.com/NightOwl888/lucene/branches) successfully running. Alternatively, you may compare the code files line by line, but it may not be possible to figure out how to make the tests pass if you use this approach.\r\n\r\n## FST\r\n\r\nAt the time I attempted [the feature/analysis-nori branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori), the FST API seemed to fit, however, due to some design changes it produced completely different results than the version I had ported it from (unfortunately, I don't recall what version it is based upon). At the time I thought that FST was tied deeply into other Lucene components and having multiple incompatible versions in the project wouldn't work. However, I have since learned that FST is only used in specific scenarios that end users won't need to plug together, so having a copy of the a later version of FST in the `Lucene.Net.Analysis.Nori` project should work fine (I think).\r\n\r\nTo be able to debug, we need to be able to step through the code and get FST to return the exact results from the Lucene version this is based upon. So, we need a fresh port of FST from the same version of Lucene that nori is based upon. The convention we are following is to put \"extra\" components such as this into a folder named `Support`, followed by the regular folder convention in Lucene.\r\n\r\n```\r\nsrc\r\n  |\r\n  -- Lucene.Net.Analysis.Nori\r\n    |\r\n    -- (All nori code files/folders)\r\n    |\r\n    -- Support\r\n      |\r\n      -- Util\r\n        |\r\n        -- Fst\r\n          |\r\n          -- (All FST code files)\r\n  |\r\n  -- Lucene.Net.Tests.Analysis.Nori\r\n    |\r\n    -- (All nori test code files/folders)\r\n    |\r\n    -- Support\r\n      |\r\n      -- Util\r\n        |\r\n        -- Fst\r\n          |\r\n          -- (All FST test code files)\r\n```\r\n\r\nPlease be mindful that we will be using similar namespace conventions as we are currently (the namespace may not necessarily match the name of the project it belongs to). For now, please put the new FST port into the `Lucene.Net.Support.Util.Fst` namespace.\r\n\r\n## BigDecimal\r\n\r\nWe definitely don't want to take on a dependency to IKVM, both because it is large and because it doesn't support most of the .NET runtimes that we do. Please try one of the following (in order of preference):\r\n\r\n1. I suspect the primary reason `BigDecimal` was the goto class in Java is because Java doesn't have a `decimal` data type like .NET does. It has limited precision compared to `BigDecimal`, but would work for most use cases. As in the [the feature/analysis-nori branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori), we can use a nullable `decimal?` to account for gaps between Java and .NET reference vs value types.\r\n2. We could attempt to wrap `BigInteger` into a `BigDecimal`. There is an implementation [here](https://gist.github.com/JcBernack/0b4eef59ca97ee931a2f45542b9ff06d), which was found [on StackOverflow](https://stackoverflow.com/a/13813535). Please include it in the `Support/Numerics` folder (`Lucene.Net.Numerics` namespace) and be mindful of comments where people have suggested improvements to the implementation. We can use a nullable `BigDecimal?` to account for gaps between Java and .NET reference vs value types.\r\n3. If neither of the above options works, I suggest including the code files for `KoreanNumberFilter` and `KoreanNumberFilterFactory` (and their tests) in the project, but commenting them out. We will simply not include an implementation in Lucene.Net.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1263040758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1265829393","html_url":"https://github.com/apache/lucenenet/pull/645#issuecomment-1265829393","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/645","id":1265829393,"node_id":"IC_kwDOAAJ06c5LcwYR","user":{"login":"krinsang","id":11673823,"node_id":"MDQ6VXNlcjExNjczODIz","avatar_url":"https://avatars.githubusercontent.com/u/11673823?v=4","gravatar_id":"","url":"https://api.github.com/users/krinsang","html_url":"https://github.com/krinsang","followers_url":"https://api.github.com/users/krinsang/followers","following_url":"https://api.github.com/users/krinsang/following{/other_user}","gists_url":"https://api.github.com/users/krinsang/gists{/gist_id}","starred_url":"https://api.github.com/users/krinsang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krinsang/subscriptions","organizations_url":"https://api.github.com/users/krinsang/orgs","repos_url":"https://api.github.com/users/krinsang/repos","events_url":"https://api.github.com/users/krinsang/events{/privacy}","received_events_url":"https://api.github.com/users/krinsang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-03T18:02:17Z","updated_at":"2022-10-03T18:10:43Z","author_association":"NONE","body":"> Wow! Very interesting contribution. It does not look like Java Lucene 4.8.0 or 4.8.1 contain the `KoreanAnalyzer` however they do contain a `CJKAnalyzer` which is intended to cover Chinese, Japanese, and Korean.\r\n> \r\n> Which Java Lucene version is this contribution a port of?\r\n\r\nNice to meet, you. This is a port of Lucene 8.11.0. The problem with the CJK Analyzer that I ran into was the method `TokenStreamComponents` stratifies using a bigram strategy instead of removing non-root components/keywords. In the Java implementation of the KoreanAnalyzer, I noticed that the `TokenStreamComponents` method exhibits a stemming behavior. I am using the Java library to perform offline jobs via Scala, and C# for online analysis of keywords.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1265829393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1265837287","html_url":"https://github.com/apache/lucenenet/pull/645#issuecomment-1265837287","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/645","id":1265837287,"node_id":"IC_kwDOAAJ06c5LcyTn","user":{"login":"krinsang","id":11673823,"node_id":"MDQ6VXNlcjExNjczODIz","avatar_url":"https://avatars.githubusercontent.com/u/11673823?v=4","gravatar_id":"","url":"https://api.github.com/users/krinsang","html_url":"https://github.com/krinsang","followers_url":"https://api.github.com/users/krinsang/followers","following_url":"https://api.github.com/users/krinsang/following{/other_user}","gists_url":"https://api.github.com/users/krinsang/gists{/gist_id}","starred_url":"https://api.github.com/users/krinsang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krinsang/subscriptions","organizations_url":"https://api.github.com/users/krinsang/orgs","repos_url":"https://api.github.com/users/krinsang/repos","events_url":"https://api.github.com/users/krinsang/events{/privacy}","received_events_url":"https://api.github.com/users/krinsang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-03T18:08:59Z","updated_at":"2022-10-03T18:09:56Z","author_association":"NONE","body":"> Thanks for the contribution.\r\n> \r\n> There was a prior attempt at porting the nori analyzer on [the feature/analysis-nori branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori). However, there were 2 issues preventing it from functioning on Lucene.Net 4.8.0:\r\n> \r\n> 1. The FST implementation was redesigned between 4.8.0 and the version that nori was added in Lucene. This incompatibility made it impossible to debug the tests.\r\n> 2. BigDecimal doesn't exist in .NET.\r\n> \r\n> We are more concerned with getting past the first issue than the second, since it would be trivial to exclude `KoreanNumberFilter` and `KoreanNumberFilterFactory` from the project (commented out, with notes explaining that we are missing the `BigDecimal` dependency at the top of the file), but I will provide some info about how to proceed if you are interested in porting it.\r\n> \r\n> ## Issues to Fix\r\n> 1. Move this into a new project named `Lucene.Net.Analysis.Nori`, using `Lucene.Net.Analysis.Kuromoji` as a project template. We don't want to add large dependencies to `Lucene.Net.Analysis.Common`, since most people are using it.\r\n> 2. Add a comment at the top of each code file indicating the exact Lucene version it is ported from. Example: `// Lucene version compatibility level 9.3.0`\r\n> 3. Bring over the tests from [the feature/analysis-nori branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori) and add them to a new project named `Lucene.Net.Tests.Analysis.Nori` (or alternatively create a fresh port of the tests). Either way, please ensure the tests are up to date with the exact Lucene version that you are porting the nori analyzer from.\r\n> 4. The nori project is very similar to [Lucene.Net.Analysis.Kuromoji](https://github.com/apache/lucenenet/tree/b5ea527c5bd125dd1db34d8b914e1a5d72e08ffa/src/Lucene.Net.Analysis.Kuromoji) and [Lucene.Net.Analysis.SmartCn](https://github.com/apache/lucenenet/tree/b5ea527c5bd125dd1db34d8b914e1a5d72e08ffa/src/Lucene.Net.Analysis.SmartCn) projects. Please use similar coding styles (constants instead of static fields, properties instead of methods where appropriate, naming conventions, folder detection for custom dictionaries, etc.)\r\n> 5. Please include the changes and documentation from the [the feature/analysis-nori branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori) to the `lucene-cli` tool that is used to build custom nori dictionaries.\r\n> 6. After addressing the porting issues below, please ensure all of the tests are passing. The best way to do this is to [setup Java debugging](https://lucenenet.apache.org/contributing/how-to-setup-java-lucene-debugging.html) and step through the code. Note that you will need to use the version of Java Lucene you are doing the port from in order to get the same results. Lucene has made some changes to their setup procedure, so it may take some research/experimentation to do. Do note that we have [these versions](https://github.com/NightOwl888/lucene/branches) successfully running. Alternatively, you may compare the code files line by line, but it may not be possible to figure out how to make the tests pass if you use this approach.\r\n> \r\n> ## FST\r\n> At the time I attempted [the feature/analysis-nori branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori), the FST API seemed to fit, however, due to some design changes it produced completely different results than the version I had ported it from (unfortunately, I don't recall what version it is based upon). At the time I thought that FST was tied deeply into other Lucene components and having multiple incompatible versions in the project wouldn't work. However, I have since learned that FST is only used in specific scenarios that end users won't need to plug together, so having a copy of the a later version of FST in the `Lucene.Net.Analysis.Nori` project should work fine (I think).\r\n> \r\n> To be able to debug, we need to be able to step through the code and get FST to return the exact results from the Lucene version this is based upon. So, we need a fresh port of FST from the same version of Lucene that nori is based upon. The convention we are following is to put \"extra\" components such as this into a folder named `Support`, followed by the regular folder convention in Lucene.\r\n> \r\n> ```\r\n> src\r\n>   |\r\n>   -- Lucene.Net.Analysis.Nori\r\n>     |\r\n>     -- (All nori code files/folders)\r\n>     |\r\n>     -- Support\r\n>       |\r\n>       -- Util\r\n>         |\r\n>         -- Fst\r\n>           |\r\n>           -- (All FST code files)\r\n>   |\r\n>   -- Lucene.Net.Tests.Analysis.Nori\r\n>     |\r\n>     -- (All nori test code files/folders)\r\n>     |\r\n>     -- Support\r\n>       |\r\n>       -- Util\r\n>         |\r\n>         -- Fst\r\n>           |\r\n>           -- (All FST test code files)\r\n> ```\r\n> \r\n> Please be mindful that we will be using similar namespace conventions as we are currently (the namespace may not necessarily match the name of the project it belongs to). For now, please put the new FST port into the `Lucene.Net.Support.Util.Fst` namespace.\r\n> \r\n> ## BigDecimal\r\n> We definitely don't want to take on a dependency to IKVM, both because it is large and because it doesn't support most of the .NET runtimes that we do. Please try one of the following (in order of preference):\r\n> \r\n> 1. I suspect the primary reason `BigDecimal` was the goto class in Java is because Java doesn't have a `decimal` data type like .NET does. It has limited precision compared to `BigDecimal`, but would work for most use cases. As in the [the feature/analysis-nori branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori), we can use a nullable `decimal?` to account for gaps between Java and .NET reference vs value types.\r\n> 2. We could attempt to wrap `BigInteger` into a `BigDecimal`. There is an implementation [here](https://gist.github.com/JcBernack/0b4eef59ca97ee931a2f45542b9ff06d), which was found [on StackOverflow](https://stackoverflow.com/a/13813535). Please include it in the `Support/Numerics` folder (`Lucene.Net.Numerics` namespace) and be mindful of comments where people have suggested improvements to the implementation. We can use a nullable `BigDecimal?` to account for gaps between Java and .NET reference vs value types.\r\n> 3. If neither of the above options works, I suggest including the code files for `KoreanNumberFilter` and `KoreanNumberFilterFactory` (and their tests) in the project, but commenting them out. We will simply not include an implementation in Lucene.Net.\r\n\r\nThank you for such a detailed response. Are these unresolved issues directly related to the output of the methods used by `KoreanAnalyzer` being different between Java and C#?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1265837287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1266562088","html_url":"https://github.com/apache/lucenenet/pull/645#issuecomment-1266562088","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/645","id":1266562088,"node_id":"IC_kwDOAAJ06c5LfjQo","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T08:09:48Z","updated_at":"2022-10-04T11:34:51Z","author_association":"CONTRIBUTOR","body":"> I am using the Java library to perform offline jobs via Scala, and C# for online analysis of keywords.\r\n\r\nIf by this you mean that you are using the same index files in both C# and Scala, this won't work because of differences in the binary format between the 4.x and 8.x codecs. 8.x doesn't have support for reading 4.x indexes, it ends at 5.x. Backward compatibility of codecs is read-only, but if that works for your use case (i.e. no docs added from Scala), porting the 4.6 codec from [Lucene 5.5.5](https://github.com/apache/lucene/tree/releases/lucene-solr/5.5.5/lucene/backward-codecs/src/java/org/apache/lucene/codecs/lucene46) to plug into Lucene 8.11.0 is likely possible given the fact the codec interface is pluggable, just the binary format changes between implementations.\r\n\r\nAnother option is to use Lucene 8.11.0 and use IKVM's [`<IkvmReference>`](https://github.com/ikvm-revived/ikvm#ikvmreference) to compile Lucene.\r\n\r\n```xml\r\n<Project Sdk=\"Microsoft.NET.Sdk\">\r\n\r\n  <PropertyGroup>\r\n    <TargetFramework>netcoreapp3.1</TargetFramework>\r\n  </PropertyGroup>\r\n\r\n  <ItemGroup>\r\n    <PackageReference Include=\"IKVM.Maven.Sdk\" Version=\"1.0.1\" />\r\n  </ItemGroup>\r\n  \r\n  <ItemGroup>\r\n    <MavenReference Include=\"org.apache.lucene:lucene-analyzers-nori\" Version=\"8.11.0\" Debug=\"true\" />\r\n  </ItemGroup>\r\n\r\n</Project>\r\n```\r\n\r\nAlternatively, you could use [`ikvmc`](https://github.com/NightOwl888/ikvm/blob/docs/ikvm-wiki/docs/tools/ikvmc.md) to build the libraries so you can use the `-exclude` parameter to leave out the `.class` files in the `META-INF/versions` folder because they will produce warnings under Java SE 8. This will involve using Maven to download and figure out how to wire up the dependencies with `ikvmc`.\r\n\r\nUse the Maven [copy-dependencies plugin](https://maven.apache.org/plugins/maven-dependency-plugin/examples/copying-project-dependencies.html) to bring all of the .jar files into a specific local directory.\r\n\r\n#### pom.xml\r\n\r\nUse this `pom.xml` file in the directory you run the following commands from.\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n  <modelVersion>4.0.0</modelVersion>\r\n\r\n  <groupId>com.mycompany.app</groupId>\r\n  <artifactId>my-app</artifactId>\r\n  <version>1.0-SNAPSHOT</version>\r\n\r\n  <dependencies>\r\n    <dependency>\r\n      <groupId>org.apache.lucene</groupId>\r\n      <artifactId>lucene-analyzers-nori</artifactId>\r\n      <version>8.11.0</version>\r\n    </dependency>\r\n\r\n  </dependencies>\r\n</project>\r\n```\r\n\r\n```console\r\nmvn org.apache.maven.plugins:maven-dependency-plugin:3.3.0:copy-dependencies -DoutputDirectory=\"F:\\deps\" -DincludeScope=compile\r\n```\r\n\r\nTo figure out what depends on what, you can use the [depgraph-maven-plugin](https://github.com/ferstl/depgraph-maven-plugin)\r\n\r\n```console\r\nmvn com.github.ferstl:depgraph-maven-plugin:3.3.0:for-artifact -DoutputFileName=\".\\depgraph.txt\" -DgraphFormat=text -DclasspathScope=compile -Dscopes=compile -Dversion=1.0-SNAPSHOT -DgroupId=com.mycompany.app -DartifactId=my-app -DshowVersions=true -DshowDuplicates -DshowGroupIds -DshowConflicts\r\n```\r\n\r\n\r\n> Are these unresolved issues directly related to the output of the methods used by KoreanAnalyzer being different between Java and C#?\r\n\r\nNot all of them. We need to mirror the organization of the Lucene project. Nori is a separate module from analyzers-common for good reason - to allow most users to exclude it if all they need is `StandardAnalyzer`. ~95% of users rely on analyzers-common, we don't want them to depend on big dependencies like IKVM, ICU4N, or nori resource files just to use Lucene.NET.\r\n\r\nUnfortunately, [KoreanAnalyzer wasn't added until Lucene 8.0, and was backported to 7.4](https://issues.apache.org/jira/browse/LUCENE-8231). Although most of it seems to work (only 3 of the tests that apply to it fail), the `UserDictionary` relies on FST which had incompatible binary format updates in 6.0.\r\n\r\nI have since attempted updating the [the feature/analysis-nori branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori) (which I have determined *must* be 8.2.0 by eliminating the other possibilities) and [porting FST from 8.2.0](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori-w-8.2.0-fst), but it is [setup not to function with any version below 6](https://github.com/apache/lucene/blob/releases/lucene-solr/8.2.0/lucene/core/src/java/org/apache/lucene/util/fst/FST.java#L111), and that is by design. FST is used directly by the codecs, so although there are no references, I am pretty sure that they must be equivalent to read/write the same binary format from/to the index.\r\n\r\nI also made an attempt to re-export the [mecab-ko-dic](https://github.com/apache/lucene/blob/releases/lucene-solr/8.2.0/lucene/analysis/nori/build.xml#L37) to using the 4.6 codec, but for some reason that also doesn't seem to fix the problems. It may be due to a bug in the nori port, but without anything to run to directly compare it to, it is difficult to determine what the problem actually is. There are instructions on how to [build mecab-ko-dic](https://github.com/jimczi/nori/blob/14579127f7e8e4316f4dbfad64601c31d746d652/how-to-custom-dict.asciidoc#how-to-use-a-custom-dictionary-in-nori) which I am providing here for reference, but I have also added [a test to build the dictionary](https://github.com/NightOwl888/lucenenet/blob/feature/analysis-nori-2/src/Lucene.Net.Tests.Analysis.Nori/Tools/RunCmdTest.cs) with the same settings as [the nori build](https://github.com/apache/lucene/blob/releases/lucene-solr/8.2.0/lucene/analysis/nori/build.xml#L77-L96). The mecab dictionary can be [downloaded here](https://bitbucket.org/eunjeon/mecab-ko-dic/downloads/).\r\n\r\nIn theory, there is no real reason why KoreanAnalyzer cannot be ported to 4.8.0, but it will require cooperation with someone on the Lucene team to help us backport it, since we have absolutely nothing in the real world to compare it with. Maybe just by studying the binary formats of the codecs and the [FST specifications that Lucene is based on](https://blog.mikemccandless.com/2010/12/using-finite-state-transducers-in.html) it could be done, but I suspect it will also require someone who is familiar enough with the history of the Lucene binary formats and changes to the test framework/codecs for us to have passing tests in 4.8.0. There are only 3 test failures that would need to be addressed (see option 3 below). There are more failures due to the `KoreanNumberFilter`, but these are fixable without any assistance.\r\n\r\n## Options\r\n\r\n1. Use [IKVM](https://github.com/ikvm-revived/ikvm) and the exact version of Lucene in both Java and .NET as I mentioned above.\r\n2. Use the [ICUTokenizer](https://github.com/apache/lucenenet/blob/Lucene.Net_4_8_0_beta00016/src/Lucene.Net.Analysis.ICU/Analysis/Icu/Segmentation/ICUTokenizer.cs) (found in the [Lucene.Net.ICU](https://www.nuget.org/packages/Lucene.Net.ICU/) NuGet package) to build your own Analyzer for Korean. ICU uses a dictionary-based `BreakIterator` to tokenize CJK text. See [the tests](https://github.com/apache/lucenenet/blob/Lucene.Net_4_8_0_beta00016/src/Lucene.Net.Tests.Analysis.ICU/Analysis/Icu/Segmentation/TestICUTokenizerCJK.cs#L97-L111). Lucene.NET 4.8.0 uses ICU 60.1 (Lucene 4.8.0 used ICU 52.1) and Lucene 8.11.0 uses ICU 62.1 so the differences, if any, will be minor.\r\n3. Use the implementation from [the feature/analysis-nori-2 branch](https://github.com/NightOwl888/lucenenet/tree/feature/analysis-nori-2), that is now upgraded to build in VS/command line. You can host the NuGet package yourself or use the DLL from the NuGet package by including the binary in your project. The [`TestRandomHugeStringsMockGraphAfter`](https://github.com/NightOwl888/lucenenet/blob/feature/analysis-nori-2/src/Lucene.Net.Tests.Analysis.Nori/TestKoreanTokenizer.cs#L447), [TestUserDict](https://github.com/NightOwl888/lucenenet/blob/feature/analysis-nori-2/src/Lucene.Net.Tests.Analysis.Nori/TestKoreanTokenizerFactory.cs#L95), and [TestLookup](https://github.com/NightOwl888/lucenenet/blob/feature/analysis-nori-2/src/Lucene.Net.Tests.Analysis.Nori/Dict/UserDictionaryTest.cs#L29) are the only failing tests other than the `KoreanNumberFilter` tests. Using a `UserDictionary` is an edge case that probably doesn't apply to you and the other appears to be sort of an edge case, also. It will most likely work as-is for your purposes, but since we have failing tests, this isn't something we can add to the project until Lucene.NET is upgraded to a more recent version of Lucene.\r\n4. Contact the Lucene team on [the developer mailing list](https://lucene.apache.org/pylucene/mailing-lists.html) to see if there is someone who can help us backport the nori analyzer to 4.8.0. It would probably be easiest for them to do the backport in Java Lucene 4.8.0 on a new branch and then we could use that branch as a basis for our port to .NET. This would give us something in Java to run to be able to debug any issues with the .NET port. We recently had some assistance from @mocobeto on the brand new [`PersianStemmer` contribution](https://github.com/apache/lucenenet/pull/571) that didn't exist in Lucene and she was quite helpful. You are not the first person to look for Korean support, so it would be great to have the nori module, but we don't currently have a path forward without a full upgrade of Lucene.NET.\r\n\r\n> **NOTE:** The last 3 options only apply if you are not using the same index files in both Java and .NET because as I previously mentioned, there are no common codec formats between 4.x and 8.x. If you are sharing the same index files, the only options for doing so are:\r\n>\r\n> 1. Build a web service to put the index behind so it can be read/written using a specific version (or use solr or elastic search).\r\n> 2. Use IKVM.\r\n> 3. Port the 4.6 codec over to Java Lucene 8.11.0 from [Lucene 5.5.5](https://github.com/apache/lucene/tree/releases/lucene-solr/5.5.5/lucene/backward-codecs/src/java/org/apache/lucene/codecs/lucene46). You may need to look at other codecs in the last version of 7.x and 8.x to see how they differ (7.x went back to 5.x, 8.x only went back to 7.x).\r\n>\r\n> Assuming the index is not behind a web service and your app updates the index, you can use the [`Lucene.Net.Replicator` module](https://lucenenet.apache.org/docs/4.8.0-beta00009/api/replicator/Lucene.Net.Replicator.html) to copy the files of the primary index to another location where they can be read by another process. If your index never changes or only changes on deployment, you don't need to use it - it is just for safely copying out index files atomically without taking the application that is updating it down.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1266562088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1270730022","html_url":"https://github.com/apache/lucenenet/issues/643#issuecomment-1270730022","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/643","id":1270730022,"node_id":"IC_kwDOAAJ06c5Lvc0m","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T21:44:08Z","updated_at":"2022-10-06T21:44:08Z","author_association":"CONTRIBUTOR","body":"Sorry we have all been swamped and were unable to provide any feedback or suggestions.  Were you able to get the Vector Highlighting working the way you wanted?  Are you able to contribute back any documentation or samples for doing it?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1270730022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1270819987","html_url":"https://github.com/apache/lucenenet/issues/643#issuecomment-1270819987","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/643","id":1270819987,"node_id":"IC_kwDOAAJ06c5LvyyT","user":{"login":"KuzonCode","id":8284579,"node_id":"MDQ6VXNlcjgyODQ1Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/8284579?v=4","gravatar_id":"","url":"https://api.github.com/users/KuzonCode","html_url":"https://github.com/KuzonCode","followers_url":"https://api.github.com/users/KuzonCode/followers","following_url":"https://api.github.com/users/KuzonCode/following{/other_user}","gists_url":"https://api.github.com/users/KuzonCode/gists{/gist_id}","starred_url":"https://api.github.com/users/KuzonCode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KuzonCode/subscriptions","organizations_url":"https://api.github.com/users/KuzonCode/orgs","repos_url":"https://api.github.com/users/KuzonCode/repos","events_url":"https://api.github.com/users/KuzonCode/events{/privacy}","received_events_url":"https://api.github.com/users/KuzonCode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T23:04:02Z","updated_at":"2022-10-06T23:04:02Z","author_association":"NONE","body":"@rclabo No worries at all! Totally understand. Unfortunately, no I have not had any luck with implementing it current. It's still something I would love to get going, but just have not been able to nut it out yet.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1270819987/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1271001390","html_url":"https://github.com/apache/lucenenet/issues/643#issuecomment-1271001390","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/643","id":1271001390,"node_id":"IC_kwDOAAJ06c5LwfEu","user":{"login":"NightOwl888","id":1538288,"node_id":"MDQ6VXNlcjE1MzgyODg=","avatar_url":"https://avatars.githubusercontent.com/u/1538288?v=4","gravatar_id":"","url":"https://api.github.com/users/NightOwl888","html_url":"https://github.com/NightOwl888","followers_url":"https://api.github.com/users/NightOwl888/followers","following_url":"https://api.github.com/users/NightOwl888/following{/other_user}","gists_url":"https://api.github.com/users/NightOwl888/gists{/gist_id}","starred_url":"https://api.github.com/users/NightOwl888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NightOwl888/subscriptions","organizations_url":"https://api.github.com/users/NightOwl888/orgs","repos_url":"https://api.github.com/users/NightOwl888/repos","events_url":"https://api.github.com/users/NightOwl888/events{/privacy}","received_events_url":"https://api.github.com/users/NightOwl888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T01:47:50Z","updated_at":"2022-10-07T01:47:50Z","author_association":"CONTRIBUTOR","body":"@KuzonCode - There are a few places you might find helpful to look. \r\n\r\nA little Googling turned up this blog post: http://makble.com/how-to-do-lucene-search-highlight-example.  https://blog.mikemccandless.com/ is also a good place to find details about Lucene.\r\n\r\nIt may also help to check out the vector highlighter tests in the [Lucene.Net.Tests.Highlighter](https://github.com/apache/lucenenet/tree/b5ea527c5bd125dd1db34d8b914e1a5d72e08ffa/src/Lucene.Net.Tests.Highlighter) folder.\r\n\r\n> **NOTE:** When viewing these in Visual Studio or trying to find the classes under test on NuGet, be aware that the actual classes are split between the `Lucene.Net.Tests.Highlighter` project and the `Lucene.Net.Tests.ICU` project (the latter can be found below the dotnet folder). The reason for this is that .NET has no equivalent to the `BreakIterator` class, so we add a dependency on ICU4N in the classes that require it. Generally `BreakIterator` is only required when you are dealing with a script that doesn't delineate tokens with spaces (such as Thai) or when it is right-to-left (such as Arabic).","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1271001390/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1271047792","html_url":"https://github.com/apache/lucenenet/issues/643#issuecomment-1271047792","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/643","id":1271047792,"node_id":"IC_kwDOAAJ06c5LwqZw","user":{"login":"KuzonCode","id":8284579,"node_id":"MDQ6VXNlcjgyODQ1Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/8284579?v=4","gravatar_id":"","url":"https://api.github.com/users/KuzonCode","html_url":"https://github.com/KuzonCode","followers_url":"https://api.github.com/users/KuzonCode/followers","following_url":"https://api.github.com/users/KuzonCode/following{/other_user}","gists_url":"https://api.github.com/users/KuzonCode/gists{/gist_id}","starred_url":"https://api.github.com/users/KuzonCode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KuzonCode/subscriptions","organizations_url":"https://api.github.com/users/KuzonCode/orgs","repos_url":"https://api.github.com/users/KuzonCode/repos","events_url":"https://api.github.com/users/KuzonCode/events{/privacy}","received_events_url":"https://api.github.com/users/KuzonCode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T02:56:35Z","updated_at":"2022-10-07T02:56:35Z","author_association":"NONE","body":"@NightOwl888 Appreciate it! I think the first example was predominantly the simple highlighters. But that test suite should be good. Will see what I can build with the example in there. Appreciate your time","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1271047792/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1274380470","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1274380470","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1274380470,"node_id":"IC_kwDOAAJ06c5L9YC2","user":{"login":"eladmarg","id":3823205,"node_id":"MDQ6VXNlcjM4MjMyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/3823205?v=4","gravatar_id":"","url":"https://api.github.com/users/eladmarg","html_url":"https://github.com/eladmarg","followers_url":"https://api.github.com/users/eladmarg/followers","following_url":"https://api.github.com/users/eladmarg/following{/other_user}","gists_url":"https://api.github.com/users/eladmarg/gists{/gist_id}","starred_url":"https://api.github.com/users/eladmarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eladmarg/subscriptions","organizations_url":"https://api.github.com/users/eladmarg/orgs","repos_url":"https://api.github.com/users/eladmarg/repos","events_url":"https://api.github.com/users/eladmarg/events{/privacy}","received_events_url":"https://api.github.com/users/eladmarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-11T09:17:27Z","updated_at":"2022-10-11T09:17:27Z","author_association":"CONTRIBUTOR","body":"@nikcio , thank you so much for your efforts.\r\n\r\nwe have many issues because we wanted to stay as close as possible to the java implementation.\r\n(in order to support easy upgrade path in the future)\r\n\r\nthis is why sonar cloud is finding so many issues.\r\nso yes, packages upgrades are welcome, but if its not something critical (you shouldn't analyze the tests projects) I wouldn't change it.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1274380470/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1274710688","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1274710688","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1274710688,"node_id":"IC_kwDOAAJ06c5L-oqg","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-11T13:45:12Z","updated_at":"2022-10-11T13:45:12Z","author_association":"CONTRIBUTOR","body":"Welcome.  We are always looking to grow the LuceneNET developer community. \r\n\r\nIt's interesting that you had a lot of challenges getting the project up and running in VS 2022.  I started with LuceneNET on VS 2019 and later upgraded to VS 2022 and don't recall having much issue, although the solution configuration is certainly much more complex than any solution/project files I've worked with in the past.  \r\n\r\nBut maybe I did have some challenges and asked Shad for help and just forgot.  At any rate,  your recent experience is the best indicator of what it's like for a developer new to LuceneNET to try to pull it down and build it.  I think creating an intro guide to setting up the project in VS 2022 would be a nice addition to the website.\r\n\r\nI'll let @NightOwl888 reply to most of your suggestions as his responses will be much more thought out then mine ;-)  ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1274710688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1274889398","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1274889398","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1274889398,"node_id":"IC_kwDOAAJ06c5L_US2","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-11T15:33:00Z","updated_at":"2022-10-11T15:33:00Z","author_association":"CONTRIBUTOR","body":"Wow, I just pulled down LuceneNET master and tried to build it in VS2022 for the first time in a few months.  I totally get where you are coming from @nikcio    Earlier this year it worked great for me in VS2022, but now it does not.  I get this dialog:\r\n\r\n![image](https://user-images.githubusercontent.com/6945499/195134649-03e389f3-9fb5-4ea7-b007-0326c75b8e8a.png)\r\n\r\nAnd if I say that I want to update the framework and click continue, the website solution still does not load.  It's as though it doesn't really update the framework used by the project.  This problem didn't use to Exist in VS 2022.  Apparently it's still not an issue in VS 2019.  But of course I want to use VS 2022.  @nikcio How did you resolve the issue?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1274889398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1274907436","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1274907436","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1274907436,"node_id":"IC_kwDOAAJ06c5L_Yss","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-11T15:44:00Z","updated_at":"2022-10-11T15:44:00Z","author_association":"CONTRIBUTOR","body":"@rclabo I think the dialog you're seeing is broken I saw it too and it doesn't seem to do anything. I think the issue is that VS 2022 has dropped support for the older versions of .NET v4 - 4.6.1 (I think). This leads me to the next issue. That VS 2022 has dropped support for older versions. Therefore, you can't use the VS installer to install the older versions on your system. Then to get the older versions you have to do a hacky workaround where you download the SDK from Nuget and move it into the correct folder. You can see this StackOverflow answer on how to: https://stackoverflow.com/questions/70022194/open-net-framework-4-5-project-in-vs-2022-is-there-any-workaround\r\n\r\nI found I needed to install:\r\n* .Net 4\r\n* .Net 451\r\n* .Net 461\r\n\r\nTo have the project running.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1274907436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1275701644","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1275701644","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1275701644,"node_id":"IC_kwDOAAJ06c5MCamM","user":{"login":"jeme","id":1609615,"node_id":"MDQ6VXNlcjE2MDk2MTU=","avatar_url":"https://avatars.githubusercontent.com/u/1609615?v=4","gravatar_id":"","url":"https://api.github.com/users/jeme","html_url":"https://github.com/jeme","followers_url":"https://api.github.com/users/jeme/followers","following_url":"https://api.github.com/users/jeme/following{/other_user}","gists_url":"https://api.github.com/users/jeme/gists{/gist_id}","starred_url":"https://api.github.com/users/jeme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeme/subscriptions","organizations_url":"https://api.github.com/users/jeme/orgs","repos_url":"https://api.github.com/users/jeme/repos","events_url":"https://api.github.com/users/jeme/events{/privacy}","received_events_url":"https://api.github.com/users/jeme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T07:17:51Z","updated_at":"2022-10-12T07:17:51Z","author_association":"CONTRIBUTOR","body":"@nikcio I think the VS2022 installer only installs .NET 4.8 by default when you choose workflows that require .NET, you need to select older SDK's if you require them under \"Individual Components\" in the installer. - There are SDK's down to 4.6.1.\r\n\r\nConsidering that 4.6.1 and older (with 3.5 SP 1 as an exception) are all EOL, I guess it makes sense they don't make them available.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1275701644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1275713051","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1275713051","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1275713051,"node_id":"IC_kwDOAAJ06c5MCdYb","user":{"login":"nikcio","id":24605285,"node_id":"MDQ6VXNlcjI0NjA1Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/24605285?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcio","html_url":"https://github.com/nikcio","followers_url":"https://api.github.com/users/nikcio/followers","following_url":"https://api.github.com/users/nikcio/following{/other_user}","gists_url":"https://api.github.com/users/nikcio/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcio/subscriptions","organizations_url":"https://api.github.com/users/nikcio/orgs","repos_url":"https://api.github.com/users/nikcio/repos","events_url":"https://api.github.com/users/nikcio/events{/privacy}","received_events_url":"https://api.github.com/users/nikcio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T07:28:34Z","updated_at":"2022-10-12T07:28:34Z","author_association":"CONTRIBUTOR","body":"@jeme It was the same conclusion I came to which lead me to the workaround above 😄 ","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1275713051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1275874961","html_url":"https://github.com/apache/lucenenet/issues/648#issuecomment-1275874961","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/648","id":1275874961,"node_id":"IC_kwDOAAJ06c5MDE6R","user":{"login":"jeme","id":1609615,"node_id":"MDQ6VXNlcjE2MDk2MTU=","avatar_url":"https://avatars.githubusercontent.com/u/1609615?v=4","gravatar_id":"","url":"https://api.github.com/users/jeme","html_url":"https://github.com/jeme","followers_url":"https://api.github.com/users/jeme/followers","following_url":"https://api.github.com/users/jeme/following{/other_user}","gists_url":"https://api.github.com/users/jeme/gists{/gist_id}","starred_url":"https://api.github.com/users/jeme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeme/subscriptions","organizations_url":"https://api.github.com/users/jeme/orgs","repos_url":"https://api.github.com/users/jeme/repos","events_url":"https://api.github.com/users/jeme/events{/privacy}","received_events_url":"https://api.github.com/users/jeme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T09:36:10Z","updated_at":"2022-10-12T09:36:10Z","author_association":"CONTRIBUTOR","body":"@nikcio Ahh, I read too fast and missed that you specified \"older versions\" as .NET v4 - 4.6.1 - Sorry.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1275874961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1276342977","html_url":"https://github.com/apache/lucenenet/issues/649#issuecomment-1276342977","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/649","id":1276342977,"node_id":"IC_kwDOAAJ06c5ME3LB","user":{"login":"rclabo","id":6945499,"node_id":"MDQ6VXNlcjY5NDU0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/6945499?v=4","gravatar_id":"","url":"https://api.github.com/users/rclabo","html_url":"https://github.com/rclabo","followers_url":"https://api.github.com/users/rclabo/followers","following_url":"https://api.github.com/users/rclabo/following{/other_user}","gists_url":"https://api.github.com/users/rclabo/gists{/gist_id}","starred_url":"https://api.github.com/users/rclabo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rclabo/subscriptions","organizations_url":"https://api.github.com/users/rclabo/orgs","repos_url":"https://api.github.com/users/rclabo/repos","events_url":"https://api.github.com/users/rclabo/events{/privacy}","received_events_url":"https://api.github.com/users/rclabo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T15:12:11Z","updated_at":"2022-10-12T15:12:11Z","author_association":"CONTRIBUTOR","body":"There may be a faster way to get distinct values but the grouping functionality should be able to accomplish that.  It's been awhile since I worked with the grouping functionality but take a look at [TestGroupingExtra.cs](https://github.com/apache/lucenenet/blob/master/src/Lucene.Net.Tests.Grouping/TestGroupingExtra.cs) which contains a bunch of tests I created to better understand how grouping works.  You may find it helpful.","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1276342977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1276359382","html_url":"https://github.com/apache/lucenenet/issues/649#issuecomment-1276359382","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/649","id":1276359382,"node_id":"IC_kwDOAAJ06c5ME7LW","user":{"login":"eladmarg","id":3823205,"node_id":"MDQ6VXNlcjM4MjMyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/3823205?v=4","gravatar_id":"","url":"https://api.github.com/users/eladmarg","html_url":"https://github.com/eladmarg","followers_url":"https://api.github.com/users/eladmarg/followers","following_url":"https://api.github.com/users/eladmarg/following{/other_user}","gists_url":"https://api.github.com/users/eladmarg/gists{/gist_id}","starred_url":"https://api.github.com/users/eladmarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eladmarg/subscriptions","organizations_url":"https://api.github.com/users/eladmarg/orgs","repos_url":"https://api.github.com/users/eladmarg/repos","events_url":"https://api.github.com/users/eladmarg/events{/privacy}","received_events_url":"https://api.github.com/users/eladmarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T15:23:43Z","updated_at":"2022-10-12T15:23:43Z","author_association":"CONTRIBUTOR","body":"seems like you're using the wrong tool for this task. \r\nif you want to count distinct values, you should use [facets](https://github.com/apache/lucenenet/blob/master/src/Lucene.Net.Demo/Facet/SimpleFacetsExample.cs) search.\r\n","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1276359382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1276383627","html_url":"https://github.com/apache/lucenenet/issues/649#issuecomment-1276383627","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/649","id":1276383627,"node_id":"IC_kwDOAAJ06c5MFBGL","user":{"login":"mq00fc","id":50408721,"node_id":"MDQ6VXNlcjUwNDA4NzIx","avatar_url":"https://avatars.githubusercontent.com/u/50408721?v=4","gravatar_id":"","url":"https://api.github.com/users/mq00fc","html_url":"https://github.com/mq00fc","followers_url":"https://api.github.com/users/mq00fc/followers","following_url":"https://api.github.com/users/mq00fc/following{/other_user}","gists_url":"https://api.github.com/users/mq00fc/gists{/gist_id}","starred_url":"https://api.github.com/users/mq00fc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mq00fc/subscriptions","organizations_url":"https://api.github.com/users/mq00fc/orgs","repos_url":"https://api.github.com/users/mq00fc/repos","events_url":"https://api.github.com/users/mq00fc/events{/privacy}","received_events_url":"https://api.github.com/users/mq00fc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T15:40:23Z","updated_at":"2022-10-12T15:43:14Z","author_association":"NONE","body":"> There may be a faster way to get distinct values but the grouping functionality should be able to accomplish that. It's been awhile since I worked with the grouping functionality but take a look at [TestGroupingExtra.cs](https://github.com/apache/lucenenet/blob/master/src/Lucene.Net.Tests.Grouping/TestGroupingExtra.cs) which contains a bunch of tests I created to better understand how grouping works. You may find it helpful.\r\n\r\nThank you very much for your reply in your busy schedule, I looked at your unit test and successfully implemented this function in the field \"brandId\", but it won't work if I use other Chinese fields, I don't Know why, may I ask why?","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1276383627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1276384462","html_url":"https://github.com/apache/lucenenet/issues/649#issuecomment-1276384462","issue_url":"https://api.github.com/repos/apache/lucenenet/issues/649","id":1276384462,"node_id":"IC_kwDOAAJ06c5MFBTO","user":{"login":"mq00fc","id":50408721,"node_id":"MDQ6VXNlcjUwNDA4NzIx","avatar_url":"https://avatars.githubusercontent.com/u/50408721?v=4","gravatar_id":"","url":"https://api.github.com/users/mq00fc","html_url":"https://github.com/mq00fc","followers_url":"https://api.github.com/users/mq00fc/followers","following_url":"https://api.github.com/users/mq00fc/following{/other_user}","gists_url":"https://api.github.com/users/mq00fc/gists{/gist_id}","starred_url":"https://api.github.com/users/mq00fc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mq00fc/subscriptions","organizations_url":"https://api.github.com/users/mq00fc/orgs","repos_url":"https://api.github.com/users/mq00fc/repos","events_url":"https://api.github.com/users/mq00fc/events{/privacy}","received_events_url":"https://api.github.com/users/mq00fc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-12T15:40:59Z","updated_at":"2022-10-12T15:43:02Z","author_association":"NONE","body":"> seems like you're using the wrong tool for this task.\r\nif you want to count distinct values, you should use [facets](https://github.com/apache/lucenenet/blob/master/src/Lucene.Net.Demo/Facet/SimpleFacetsExample.cs) search.\r\n\r\nah，I think I need to look at the following documents, thank you for your reply","reactions":{"url":"https://api.github.com/repos/apache/lucenenet/issues/comments/1276384462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]