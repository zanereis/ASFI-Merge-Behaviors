[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/656955758","html_url":"https://github.com/apache/iceberg/pull/1192#issuecomment-656955758","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1192","id":656955758,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Njk1NTc1OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-11T01:05:57Z","updated_at":"2020-07-11T01:05:57Z","author_association":"CONTRIBUTOR","body":"Looks good to me. I made a few comments, but I don't think there is anything major to fix. It would be nice to fix some of the comments and to instantiate the class, `JobContext`, for `getSplits`. Otherwise this looks good and we should be able to commit it soon.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/656955758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/656955915","html_url":"https://github.com/apache/iceberg/pull/1192#issuecomment-656955915","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1192","id":656955915,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Njk1NTkxNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-11T01:06:49Z","updated_at":"2020-07-11T01:06:49Z","author_association":"CONTRIBUTOR","body":"@massdosage & @guilload, is the plan to add the `HiveRunner` tests in a separate PR once this is merged? If you want me to, I can merge this and we can fix the comments in a follow-up to unblock next steps.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/656955915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657064775","html_url":"https://github.com/apache/iceberg/issues/771#issuecomment-657064775","issue_url":"https://api.github.com/repos/apache/iceberg/issues/771","id":657064775,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzA2NDc3NQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-11T13:44:43Z","updated_at":"2020-07-11T13:44:43Z","author_association":"CONTRIBUTOR","body":"I saw this issue as well while testing today. It ended up that I forgot to create the database `logging`. Executing `CREATE DATABASE logging;` on the hive repl got it working for me.\r\n\r\nI guess we should probably add a clearer error message for this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657064775/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657146341","html_url":"https://github.com/apache/iceberg/pull/1141#issuecomment-657146341","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1141","id":657146341,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzE0NjM0MQ==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-11T23:27:59Z","updated_at":"2020-07-11T23:27:59Z","author_association":"COLLABORATOR","body":"Thanks @rdblue and update the PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657146341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657371042","html_url":"https://github.com/apache/iceberg/pull/1182#issuecomment-657371042","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1182","id":657371042,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzM3MTA0Mg==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T05:44:04Z","updated_at":"2020-07-13T05:44:04Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue for your review, I have addressed your comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657371042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657389247","html_url":"https://github.com/apache/iceberg/issues/1159#issuecomment-657389247","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1159","id":657389247,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzM4OTI0Nw==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T06:44:08Z","updated_at":"2020-07-13T06:44:08Z","author_association":"CONTRIBUTOR","body":"> I think you can specify filter expressions to rewrite files you wanted. For example, you can only rewrite data under newly added partition, not the whole data. I'm not sure if that is enough for you.\r\n\r\nThanks for reply. Yes, using partition just rewrite once is OK.\r\nI think we optimize further, if the partition is \"day_time + type\", some type has enough records in its files, but some others may have less records so leads to small files, so I rewrite the all newly partitions for reduce files but can skip big files in some partitions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657389247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657390245","html_url":"https://github.com/apache/iceberg/pull/1182#issuecomment-657390245","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1182","id":657390245,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzM5MDI0NQ==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T06:48:02Z","updated_at":"2020-07-13T06:48:02Z","author_association":"CONTRIBUTOR","body":"I updated the branch, but the changes were not synchronized to this PR. It seems something wrong in github...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657390245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657651234","html_url":"https://github.com/apache/iceberg/pull/1192#issuecomment-657651234","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1192","id":657651234,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzY1MTIzNA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T16:11:01Z","updated_at":"2020-07-13T16:11:01Z","author_association":"CONTRIBUTOR","body":"> @massdosage & @guilload, is the plan to add the `HiveRunner` tests in a separate PR once this is merged? If you want me to, I can merge this and we can fix the comments in a follow-up to unblock next steps.\r\n\r\nI'm taking a look at this now, but yes, I should be able to add the `HiveRunner` steps in a fast-follow to this PR. I'd also like @cmathiesen to take a look at this and comment on what impact these changes have on the features we were going to move over next from [Hiveberg](https://github.com/ExpediaGroup/hiveberg) like various pushdowns and exposing system tables which we have ready against the other InputFormat.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657651234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657680576","html_url":"https://github.com/apache/iceberg/pull/1195#issuecomment-657680576","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1195","id":657680576,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzY4MDU3Ng==","user":{"login":"jeffchao","id":217030,"node_id":"MDQ6VXNlcjIxNzAzMA==","avatar_url":"https://avatars.githubusercontent.com/u/217030?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffchao","html_url":"https://github.com/jeffchao","followers_url":"https://api.github.com/users/jeffchao/followers","following_url":"https://api.github.com/users/jeffchao/following{/other_user}","gists_url":"https://api.github.com/users/jeffchao/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffchao/subscriptions","organizations_url":"https://api.github.com/users/jeffchao/orgs","repos_url":"https://api.github.com/users/jeffchao/repos","events_url":"https://api.github.com/users/jeffchao/events{/privacy}","received_events_url":"https://api.github.com/users/jeffchao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T17:08:18Z","updated_at":"2020-07-13T17:08:18Z","author_association":"NONE","body":"Been following this from afar. +1 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657680576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657690598","html_url":"https://github.com/apache/iceberg/pull/1192#issuecomment-657690598","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1192","id":657690598,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzY5MDU5OA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T17:28:46Z","updated_at":"2020-07-13T17:28:46Z","author_association":"CONTRIBUTOR","body":"@guilload Thanks for raising the InputFormat PR, I've been taking a look at it today to try get some HiveRunner tests working against it. I checked out the branch from the PR and did the minimal I could to get a test running that inserts some data and then returns it, essentially this:\r\n\r\nhttps://github.com/ExpediaGroup/iceberg/blob/if-all-the-things/mr/src/test/java/org/apache/iceberg/mr/mapred/TestInputFormatWithHadoopTables.java#L86\r\n\r\nwith some changes to the class of the input format (and ignoring all the other test in that class). Unfortunately this is failing for me with exceptions like so:\r\n```\r\n\r\n          Caused by:\r\n                java.lang.NullPointerException\r\n                    at java.util.Objects.requireNonNull(Objects.java:203)\r\n                    at com.github.benmanes.caffeine.cache.BoundedLocalCache.computeIfAbsent(BoundedLocalCache.java:2296)\r\n                    at com.github.benmanes.caffeine.cache.LocalCache.computeIfAbsent(LocalCache.java:111)\r\n                    at com.github.benmanes.caffeine.cache.LocalManualCache.get(LocalManualCache.java:54)\r\n                    at org.apache.iceberg.SchemaParser.fromJson(SchemaParser.java:247)\r\n                    at org.apache.iceberg.mr.mapreduce.IcebergInputFormat$IcebergRecordReader.initialize(IcebergInputFormat.java:186)\r\n                    at org.apache.iceberg.mr.mapred.MapredIcebergInputFormat$MapredIcebergRecordReader.<init>(MapredIcebergInputFormat.java:93)\r\n                    at org.apache.iceberg.mr.mapred.MapredIcebergInputFormat.getRecordReader(MapredIcebergInputFormat.java:72)\r\n                    at org.apache.hadoop.hive.ql.exec.FetchOperator$FetchInputFormatSplit.getRecordReader(FetchOperator.java:695)\r\n                    at org.apache.hadoop.hive.ql.exec.FetchOperator.getRecordReader(FetchOperator.java:333)\r\n                    at org.apache.hadoop.hive.ql.exec.FetchOperator.getNextRow(FetchOperator.java:459)\r\n                    ... 13 more\r\n```\r\nLine 186 in the mapreduce input format is doing this:\r\n\r\n`this.tableSchema = SchemaParser.fromJson(conf.get(InputFormatConfig.TABLE_SCHEMA));`\r\n\r\nHow did you manage to get the HiveRunner tests passing? Am I missing something?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657690598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657799919","html_url":"https://github.com/apache/iceberg/pull/1186#issuecomment-657799919","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1186","id":657799919,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Nzc5OTkxOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T21:21:23Z","updated_at":"2020-07-13T21:21:23Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, can you summarize the changes here in the PR description?\r\n\r\nLooks like this is primarily a rename, `DataReader` -> `AvroGenericReader`, using a base class, `BaseAvroGenericReader` for the read path. That name seems confusing to me because we now have `o.a.i.avro.GenericAvroReader` and `o.a.i.data.avro.AvroGenericReader`.\r\n\r\nI understand the goal of removing the reader for Avro generics. What is your plan to get there?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657799919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657802983","html_url":"https://github.com/apache/iceberg/pull/1189#issuecomment-657802983","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1189","id":657802983,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzgwMjk4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T21:29:15Z","updated_at":"2020-07-13T21:29:15Z","author_association":"CONTRIBUTOR","body":"Nice work, @shardulm94! I'm merging this because the blockers have been resolved and this is large. We can follow up with a change for the way nulls are handled in getters. I don't think that is a blocker because there are examples in Spark of both ignoring the issue and throwing exceptions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657802983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657804600","html_url":"https://github.com/apache/iceberg/pull/1180#issuecomment-657804600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1180","id":657804600,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzgwNDYwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T21:33:05Z","updated_at":"2020-07-13T21:33:05Z","author_association":"CONTRIBUTOR","body":"Looks like there isn't much more discussion. I'm going to merge this. Thanks @openinx and to everyone that took the time to review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657804600/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657826573","html_url":"https://github.com/apache/iceberg/issues/1198#issuecomment-657826573","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1198","id":657826573,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzgyNjU3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T22:33:37Z","updated_at":"2020-07-13T22:33:37Z","author_association":"CONTRIBUTOR","body":"I've been thinking about reducing the number of test classes to make tests run faster. When I run tests locally, the Spark start-up phase seems to take a long time, and we start a new session in lots of different tests. By merging some of those tests together, we could avoid that cost, making tests faster and not hitting this timeout issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657826573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657826775","html_url":"https://github.com/apache/iceberg/issues/1179#issuecomment-657826775","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1179","id":657826775,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzgyNjc3NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T22:34:21Z","updated_at":"2020-07-13T22:34:21Z","author_association":"CONTRIBUTOR","body":"Should we do this before merging #1182? Then we could use [`SHOW TABLES`](https://github.com/apache/iceberg/pull/1182#discussion_r453429303).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657826775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657827042","html_url":"https://github.com/apache/iceberg/issues/1176#issuecomment-657827042","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1176","id":657827042,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzgyNzA0Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T22:35:03Z","updated_at":"2020-07-13T22:35:03Z","author_association":"CONTRIBUTOR","body":"We've removed dependency locking, so I'll close this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657827042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657827883","html_url":"https://github.com/apache/iceberg/pull/1182#issuecomment-657827883","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1182","id":657827883,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzgyNzg4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T22:36:51Z","updated_at":"2020-07-13T22:36:51Z","author_association":"CONTRIBUTOR","body":"@JingsongLi, I think this needs to be rebased now that #1180 is in.\r\n\r\nAlso, should we get #1174 updated for the comments here so we can merge them separately? If we can, I'd prefer to make the commits smaller.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657827883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657852579","html_url":"https://github.com/apache/iceberg/pull/1195#issuecomment-657852579","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1195","id":657852579,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Nzg1MjU3OQ==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-13T23:04:07Z","updated_at":"2020-07-13T23:04:07Z","author_association":"CONTRIBUTOR","body":"+1 LGTM","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657852579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657906631","html_url":"https://github.com/apache/iceberg/pull/1184#issuecomment-657906631","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1184","id":657906631,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzkwNjYzMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T01:04:14Z","updated_at":"2020-07-14T01:04:14Z","author_association":"CONTRIBUTOR","body":"Mostly looks good, but I'd like to fix up the test to avoid creating a SparkSession for just one case. Thanks @gustavoatt!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657906631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657923197","html_url":"https://github.com/apache/iceberg/pull/1192#issuecomment-657923197","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1192","id":657923197,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzkyMzE5Nw==","user":{"login":"guilload","id":3011588,"node_id":"MDQ6VXNlcjMwMTE1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/3011588?v=4","gravatar_id":"","url":"https://api.github.com/users/guilload","html_url":"https://github.com/guilload","followers_url":"https://api.github.com/users/guilload/followers","following_url":"https://api.github.com/users/guilload/following{/other_user}","gists_url":"https://api.github.com/users/guilload/gists{/gist_id}","starred_url":"https://api.github.com/users/guilload/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guilload/subscriptions","organizations_url":"https://api.github.com/users/guilload/orgs","repos_url":"https://api.github.com/users/guilload/repos","events_url":"https://api.github.com/users/guilload/events{/privacy}","received_events_url":"https://api.github.com/users/guilload/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T02:07:25Z","updated_at":"2020-07-14T02:07:25Z","author_association":"CONTRIBUTOR","body":"@rdblue Thanks for the review. I'll make the changes you suggested tomorrow.\r\n\r\n@massdosage, please take a look at my latest commit.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657923197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657931071","html_url":"https://github.com/apache/iceberg/pull/1182#issuecomment-657931071","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1182","id":657931071,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzkzMTA3MQ==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T02:36:11Z","updated_at":"2020-07-14T03:21:15Z","author_association":"CONTRIBUTOR","body":"> @JingsongLi, I think this needs to be rebased now that #1180 is in.\r\n> \r\n> Also, should we get #1174 updated for the comments here so we can merge them separately? If we can, I'd prefer to make the commits smaller.\r\n\r\nYes, I think we can, I'll update #1174 , create PR for HadoopCatalog bug, create PR for Flink 1.11..","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657931071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657934757","html_url":"https://github.com/apache/iceberg/pull/1174#issuecomment-657934757","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1174","id":657934757,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzkzNDc1Nw==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T02:49:34Z","updated_at":"2020-07-14T02:49:34Z","author_association":"CONTRIBUTOR","body":"Synchronized with #1182.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657934757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657939318","html_url":"https://github.com/apache/iceberg/issues/1198#issuecomment-657939318","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1198","id":657939318,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzkzOTMxOA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T03:06:17Z","updated_at":"2020-07-14T03:57:40Z","author_association":"CONTRIBUTOR","body":"I don't mind too much if tests take a little long to run, especially on travis. It doesn't hamper my dev cycle where I mostly run specific tests while I'm developing and testing my changes. For travis to not time out can we simply print standard error and standard out on the console through Gradle? This will dump the logs when running the tests. The configuration for enabling that is \r\n\r\n```\r\n// show standard out and standard error of the test JVM(s) on the console\r\n  testLogging.showStandardStreams = true\r\n```\r\n\r\nAnd we should be able to enable this configuration on Travis by checking Travis specific env variables, if this produces too much noise on our local machines.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657939318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657949449","html_url":"https://github.com/apache/iceberg/issues/1179#issuecomment-657949449","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1179","id":657949449,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Nzk0OTQ0OQ==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T03:46:14Z","updated_at":"2020-07-14T03:46:14Z","author_association":"CONTRIBUTOR","body":"> Should we do this before merging #1182? Then we could use [`SHOW TABLES`](https://github.com/apache/iceberg/pull/1182#discussion_r453429303).\r\n\r\nYes, we should","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657949449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657957120","html_url":"https://github.com/apache/iceberg/pull/1197#issuecomment-657957120","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1197","id":657957120,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Nzk1NzEyMA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T04:19:45Z","updated_at":"2020-07-14T04:19:45Z","author_association":"MEMBER","body":"@rdsr @shardulm94   Mind to take another look ? I've updated the pull request, Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657957120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657960988","html_url":"https://github.com/apache/iceberg/issues/1198#issuecomment-657960988","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1198","id":657960988,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Nzk2MDk4OA==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T04:35:48Z","updated_at":"2020-07-14T04:36:01Z","author_association":"CONTRIBUTOR","body":"Enabling stdout and stderr will produce way too much noise in the Jenkins log. If we have to go by the approach of making Gradle print something, printing the test name it ran (suggestion No. 4 from the original post) is pretty straightforward. If a single test method is taking > 10 mins, it is not an ideal test case.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/657960988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658112956","html_url":"https://github.com/apache/iceberg/issues/1114#issuecomment-658112956","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1114","id":658112956,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODExMjk1Ng==","user":{"login":"GrigorievNick","id":16338643,"node_id":"MDQ6VXNlcjE2MzM4NjQz","avatar_url":"https://avatars.githubusercontent.com/u/16338643?v=4","gravatar_id":"","url":"https://api.github.com/users/GrigorievNick","html_url":"https://github.com/GrigorievNick","followers_url":"https://api.github.com/users/GrigorievNick/followers","following_url":"https://api.github.com/users/GrigorievNick/following{/other_user}","gists_url":"https://api.github.com/users/GrigorievNick/gists{/gist_id}","starred_url":"https://api.github.com/users/GrigorievNick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GrigorievNick/subscriptions","organizations_url":"https://api.github.com/users/GrigorievNick/orgs","repos_url":"https://api.github.com/users/GrigorievNick/repos","events_url":"https://api.github.com/users/GrigorievNick/events{/privacy}","received_events_url":"https://api.github.com/users/GrigorievNick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T10:52:48Z","updated_at":"2020-07-14T10:52:48Z","author_association":"CONTRIBUTOR","body":"@vvysotskyi It's here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658112956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658152290","html_url":"https://github.com/apache/iceberg/pull/1186#issuecomment-658152290","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1186","id":658152290,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODE1MjI5MA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T12:31:28Z","updated_at":"2020-07-14T12:32:25Z","author_association":"COLLABORATOR","body":"@rdblue, just updated PR description. The first step for refactoring I 'd like to take is to move public Avro reader and writer to iceberg-data subproject so that users can avoid referring the reader/writer in iceberg-core, and then remove `DataReader` and `DataWriter` in one of the later releases.\r\n\r\nIt does look confusing between `GenericAvroReader` and `AvroGenericReader`, how about we rename the internal one to `AvroReader`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658152290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658158027","html_url":"https://github.com/apache/iceberg/pull/1175#issuecomment-658158027","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1175","id":658158027,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODE1ODAyNw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T12:44:57Z","updated_at":"2020-07-14T12:44:57Z","author_association":"MEMBER","body":"Ping @rdblue for reviewing. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658158027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658197287","html_url":"https://github.com/apache/iceberg/pull/1177#issuecomment-658197287","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1177","id":658197287,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODE5NzI4Nw==","user":{"login":"fbocse","id":559272,"node_id":"MDQ6VXNlcjU1OTI3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/559272?v=4","gravatar_id":"","url":"https://api.github.com/users/fbocse","html_url":"https://github.com/fbocse","followers_url":"https://api.github.com/users/fbocse/followers","following_url":"https://api.github.com/users/fbocse/following{/other_user}","gists_url":"https://api.github.com/users/fbocse/gists{/gist_id}","starred_url":"https://api.github.com/users/fbocse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fbocse/subscriptions","organizations_url":"https://api.github.com/users/fbocse/orgs","repos_url":"https://api.github.com/users/fbocse/repos","events_url":"https://api.github.com/users/fbocse/events{/privacy}","received_events_url":"https://api.github.com/users/fbocse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T14:00:21Z","updated_at":"2020-07-14T14:00:21Z","author_association":"CONTRIBUTOR","body":"@rdblue during the sync-up when we talked on the use-case for this API I remember you brought up some ideas that we'd need to account for in this implementation - I remember it was related to upserting fields wrt to being required/ optional, do you happen to recall this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658197287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658213280","html_url":"https://github.com/apache/iceberg/pull/971#issuecomment-658213280","issue_url":"https://api.github.com/repos/apache/iceberg/issues/971","id":658213280,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODIxMzI4MA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T14:28:30Z","updated_at":"2020-07-14T14:28:30Z","author_association":"COLLABORATOR","body":"Thanks @rdsr for your comments. I'm pretty busy recently, so the response is late.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658213280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658288472","html_url":"https://github.com/apache/iceberg/pull/1186#issuecomment-658288472","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1186","id":658288472,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODI4ODQ3Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T16:43:44Z","updated_at":"2020-07-14T16:43:44Z","author_association":"CONTRIBUTOR","body":"I don't think that these renames are a good idea right now. There isn't a big difference between having `AvroReader` and `GenericAvroReader` or `DataReader` and `AvroGenericReader`. I think the rename makes it _more_ confusing, but even if it is slightly better, I don't think it is worth the code churn.\r\n\r\nI think a better path to removing the support for Avro generics is to wait until the end to rename and start by moving internal classes to use a `ValueReader` tree that doesn't depend on Avro's object model.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658288472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658291544","html_url":"https://github.com/apache/iceberg/pull/1187#issuecomment-658291544","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1187","id":658291544,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODI5MTU0NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T16:49:46Z","updated_at":"2020-07-14T16:49:46Z","author_association":"CONTRIBUTOR","body":"Overall looks good. +1\r\n\r\nI'd like to fix the minor issues before merging, though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658291544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658296370","html_url":"https://github.com/apache/iceberg/pull/1173#issuecomment-658296370","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1173","id":658296370,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODI5NjM3MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T16:59:22Z","updated_at":"2020-07-14T16:59:22Z","author_association":"CONTRIBUTOR","body":"Overall, looks good to me. I'll merge this. Thanks @JingsongLi, I think the logical type visitor looks clean. And thanks to @openinx for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658296370/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658306689","html_url":"https://github.com/apache/iceberg/pull/1174#issuecomment-658306689","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1174","id":658306689,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODMwNjY4OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T17:20:37Z","updated_at":"2020-07-14T17:20:37Z","author_association":"CONTRIBUTOR","body":"Looks good to me. The test failure is from Spark tests taking too long, #1198. Hopefully the next run passes when this is rebased. It had conflicts with #1173.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658306689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658307239","html_url":"https://github.com/apache/iceberg/pull/1201#issuecomment-658307239","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1201","id":658307239,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODMwNzIzOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T17:21:51Z","updated_at":"2020-07-14T17:21:51Z","author_association":"CONTRIBUTOR","body":"#1173 is in. Can you rebase this, please?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658307239/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658308594","html_url":"https://github.com/apache/iceberg/pull/1200#issuecomment-658308594","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1200","id":658308594,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODMwODU5NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T17:24:36Z","updated_at":"2020-07-14T17:24:36Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @JingsongLi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658308594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658335040","html_url":"https://github.com/apache/iceberg/pull/1199#issuecomment-658335040","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1199","id":658335040,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODMzNTA0MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T18:17:41Z","updated_at":"2020-07-14T18:17:41Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nThe test failure is the flaky Java 8 test.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658335040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658370891","html_url":"https://github.com/apache/iceberg/issues/1144#issuecomment-658370891","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1144","id":658370891,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODM3MDg5MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T19:31:35Z","updated_at":"2020-07-14T19:31:35Z","author_association":"MEMBER","body":"Based on the location of your error it seems you are running Spark 3.0.0-preview2 (or another pre 3.0.0) release.\r\n\r\nhttps://github.com/apache/spark/blob/v3.0.0-preview2/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/analysis/Analyzer.scala#L877\r\n\r\n Those versions did not fully support and had some bugs with the multi-part identifiers. In particular you hit an assertion that was trying to enforce that the namespace contained only a single  element. \r\n\r\nTry the official Spark 3.0.0 release.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658370891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658406057","html_url":"https://github.com/apache/iceberg/issues/1111#issuecomment-658406057","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1111","id":658406057,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODQwNjA1Nw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T20:49:45Z","updated_at":"2020-07-14T20:49:45Z","author_association":"MEMBER","body":"In TypeToSparkType it may also make sense to either throw an error when an empty Struct in Spark is about to be created (since this will most likely break catalyst) or just replace an empty Struct with a dummy one. Something like\r\n\r\n```  \r\nif (fields.size() == 0) {\r\n      sparkFields.add(StructField.apply(\"EmptyStruct\", DataTypes.BinaryType, true, Metadata.empty()));\r\n}\r\n```\r\n\r\nI did a quick test and this would clean up the error message but not inform the user that something impossible was tried","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658406057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658459363","html_url":"https://github.com/apache/iceberg/issues/1204#issuecomment-658459363","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1204","id":658459363,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODQ1OTM2Mw==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-14T23:19:48Z","updated_at":"2020-07-14T23:19:48Z","author_association":"CONTRIBUTOR","body":"I'm currently working on a PR for this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658459363/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658472813","html_url":"https://github.com/apache/iceberg/issues/1204#issuecomment-658472813","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1204","id":658472813,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODQ3MjgxMw==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T00:09:39Z","updated_at":"2020-07-15T00:09:39Z","author_association":"CONTRIBUTOR","body":"Thanks @edgarRd! We need this feature :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658472813/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658494234","html_url":"https://github.com/apache/iceberg/pull/1186#issuecomment-658494234","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1186","id":658494234,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODQ5NDIzNA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T01:33:39Z","updated_at":"2020-07-15T01:33:39Z","author_association":"COLLABORATOR","body":"OK, make sense to me. Let me think about replacing `IndexedRecord` with `Record` at first. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658494234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658676419","html_url":"https://github.com/apache/iceberg/pull/1175#issuecomment-658676419","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1175","id":658676419,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODY3NjQxOQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T10:03:55Z","updated_at":"2020-07-15T10:03:55Z","author_association":"MEMBER","body":"Addressed all the comments, Pls take another look, thanks @rdblue .","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658676419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658678893","html_url":"https://github.com/apache/iceberg/pull/1197#issuecomment-658678893","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1197","id":658678893,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODY3ODg5Mw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T10:08:42Z","updated_at":"2020-07-15T10:08:42Z","author_association":"MEMBER","body":"Ping @rdsr @shardulm94 @rdblue , any other concern ?  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658678893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658708430","html_url":"https://github.com/apache/iceberg/pull/1192#issuecomment-658708430","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1192","id":658708430,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODcwODQzMA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T11:14:57Z","updated_at":"2020-07-15T11:14:57Z","author_association":"CONTRIBUTOR","body":"> @rdblue Thanks for the review. I'll make the changes you suggested tomorrow.\r\n> \r\n> @massdosage, please take a look at my latest commit.\r\n\r\nI merged in your changes from yesterday, I've added a comment above on a NPE I ran into. I then also get the following error when I run the equivalent of [this test](https://github.com/ExpediaGroup/iceberg/blob/if-all-the-things/mr/src/test/java/org/apache/iceberg/mr/mapred/TestInputFormatWithEmptyTable.java):\r\n\r\n```\r\norg.apache.iceberg.mr.hive.TestHiveIcebergInputFormat > emptyTable FAILED\r\n    java.lang.IllegalArgumentException: Failed to executeQuery Hive query SELECT id, data FROM source_db.table_a: java.io.IOException: java.lang.ClassCastException: org.apache.iceberg.mr.mapred.Container cannot be cast to org.apache.hadoop.io.BinaryComparable\r\n        at com.klarna.hiverunner.HiveServerContainer.executeStatement(HiveServerContainer.java:147)\r\n        at com.klarna.hiverunner.builder.HiveShellBase.executeStatementsWithCommandShellEmulation(HiveShellBase.java:115)\r\n        at com.klarna.hiverunner.builder.HiveShellBase.executeStatementWithCommandShellEmulation(HiveShellBase.java:109)\r\n        at com.klarna.hiverunner.builder.HiveShellBase.executeStatement(HiveShellBase.java:99)\r\n        at org.apache.iceberg.mr.hive.TestHiveIcebergInputFormat.emptyTable(TestHiveIcebergInputFormat.java:197)\r\n\r\n        Caused by:\r\n        org.apache.hive.service.cli.HiveSQLException: java.io.IOException: java.lang.ClassCastException: org.apache.iceberg.mr.mapred.Container cannot be cast to org.apache.hadoop.io.BinaryComparable\r\n            at org.apache.hive.service.cli.operation.SQLOperation.getNextRowSet(SQLOperation.java:499)\r\n            at org.apache.hive.service.cli.operation.OperationManager.getOperationNextRowSet(OperationManager.java:307)\r\n            at org.apache.hive.service.cli.session.HiveSessionImpl.fetchResults(HiveSessionImpl.java:878)\r\n            at org.apache.hive.service.cli.CLIService.fetchResults(CLIService.java:559)\r\n            at org.apache.hive.service.cli.CLIService.fetchResults(CLIService.java:551)\r\n            at com.klarna.hiverunner.HiveServerContainer.executeStatement(HiveServerContainer.java:129)\r\n            ... 4 more\r\n\r\n            Caused by:\r\n            java.io.IOException: java.lang.ClassCastException: org.apache.iceberg.mr.mapred.Container cannot be cast to org.apache.hadoop.io.BinaryComparable\r\n                at org.apache.hadoop.hive.ql.exec.FetchOperator.getNextRow(FetchOperator.java:521)\r\n                at org.apache.hadoop.hive.ql.exec.FetchOperator.pushRow(FetchOperator.java:428)\r\n                at org.apache.hadoop.hive.ql.exec.FetchTask.fetch(FetchTask.java:147)\r\n                at org.apache.hadoop.hive.ql.Driver.getResults(Driver.java:2208)\r\n                at org.apache.hive.service.cli.operation.SQLOperation.getNextRowSet(SQLOperation.java:494)\r\n                ... 9 more\r\n\r\n                Caused by:\r\n                java.lang.ClassCastException: org.apache.iceberg.mr.mapred.Container cannot be cast to org.apache.hadoop.io.BinaryComparable\r\n                    at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.doDeserialize(LazySimpleSerDe.java:151)\r\n                    at org.apache.hadoop.hive.serde2.AbstractEncodingAwareSerDe.deserialize(AbstractEncodingAwareSerDe.java:76)\r\n                    at org.apache.hadoop.hive.ql.exec.FetchOperator.getNextRow(FetchOperator.java:502)\r\n                    ... 13 more\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658708430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658902179","html_url":"https://github.com/apache/iceberg/pull/1208#issuecomment-658902179","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1208","id":658902179,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODkwMjE3OQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T17:32:39Z","updated_at":"2020-07-15T17:32:39Z","author_association":"CONTRIBUTOR","body":"@rdblue @rdsr @shardulm94 PTAL when you have a chance. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658902179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658918059","html_url":"https://github.com/apache/iceberg/issues/1198#issuecomment-658918059","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1198","id":658918059,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODkxODA1OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T18:05:20Z","updated_at":"2020-07-15T18:05:20Z","author_association":"CONTRIBUTOR","body":"I opened a PR with option 4: https://github.com/apache/iceberg/pull/1210","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658918059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658920201","html_url":"https://github.com/apache/iceberg/pull/1210#issuecomment-658920201","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1210","id":658920201,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODkyMDIwMQ==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T18:09:36Z","updated_at":"2020-07-15T18:09:45Z","author_association":"CONTRIBUTOR","body":"+1 We can also enable this just for CI so that local builds don't get affected with the noise. See https://github.com/shardulm94/incubator-iceberg/commit/bf906c48ddeb13f08aae33038d3a612eb919a638","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658920201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658934259","html_url":"https://github.com/apache/iceberg/pull/1209#issuecomment-658934259","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1209","id":658934259,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODkzNDI1OQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T18:37:00Z","updated_at":"2020-07-15T18:37:00Z","author_association":"CONTRIBUTOR","body":"Seems like the same timeout issue: https://travis-ci.org/github/apache/iceberg/jobs/708416313","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658934259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658943747","html_url":"https://github.com/apache/iceberg/pull/1210#issuecomment-658943747","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1210","id":658943747,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODk0Mzc0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T18:56:37Z","updated_at":"2020-07-15T18:56:37Z","author_association":"CONTRIBUTOR","body":"I'm merging this to get CI back working. @shardulm94, your patch looks good to me as a follow-up if you want to remove the noise.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658943747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658944338","html_url":"https://github.com/apache/iceberg/pull/1209#issuecomment-658944338","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1209","id":658944338,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODk0NDMzOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T18:57:48Z","updated_at":"2020-07-15T18:57:48Z","author_association":"CONTRIBUTOR","body":"Since this doesn't affect the build, I'm going to merge it even though tests failed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658944338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658944517","html_url":"https://github.com/apache/iceberg/pull/1205#issuecomment-658944517","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1205","id":658944517,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODk0NDUxNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T18:58:13Z","updated_at":"2020-07-15T18:58:13Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @dongjoon-hyun and @rdsr!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658944517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658944683","html_url":"https://github.com/apache/iceberg/pull/1205#issuecomment-658944683","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1205","id":658944683,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODk0NDY4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T18:58:33Z","updated_at":"2020-07-15T18:58:33Z","author_association":"CONTRIBUTOR","body":"Merging since this doesn't affect the build and CI was flaky.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658944683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658945812","html_url":"https://github.com/apache/iceberg/issues/1198#issuecomment-658945812","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1198","id":658945812,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODk0NTgxMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T19:00:46Z","updated_at":"2020-07-15T19:00:46Z","author_association":"CONTRIBUTOR","body":"Fixed by #1210. Thanks for finding all of the options to fix this, @shardulm94!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658945812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658988091","html_url":"https://github.com/apache/iceberg/pull/1174#issuecomment-658988091","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1174","id":658988091,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODk4ODA5MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T20:20:20Z","updated_at":"2020-07-15T20:20:20Z","author_association":"CONTRIBUTOR","body":"Thanks for rebasing! CI has been fixed in master so I reopened this to run tests. They are passing, so I'll merge.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658988091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658989103","html_url":"https://github.com/apache/iceberg/pull/1175#issuecomment-658989103","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1175","id":658989103,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODk4OTEwMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T20:22:34Z","updated_at":"2020-07-15T20:22:34Z","author_association":"CONTRIBUTOR","body":"I reopened this to run tests against master with the CI fix. It's passing tests so I'll merge it. Thanks, @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658989103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658996315","html_url":"https://github.com/apache/iceberg/pull/1100#issuecomment-658996315","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1100","id":658996315,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODk5NjMxNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T20:37:11Z","updated_at":"2020-07-15T20:37:11Z","author_association":"CONTRIBUTOR","body":"@Jiayi-Liao, now that the 0.9.0 release is out, you may want to check out the [Getting Started](http://iceberg.apache.org/getting-started/) page on the Iceberg ASF site. That's an all-SQL example that I think would be good to incorporate in this Docker tutorial. That uses a local Hadoop warehouse, but a Docker example could set up a Hive Metastore and automatically set up Spark to use it. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/658996315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659015742","html_url":"https://github.com/apache/iceberg/issues/1202#issuecomment-659015742","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1202","id":659015742,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTAxNTc0Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T21:18:05Z","updated_at":"2020-07-15T21:18:05Z","author_association":"CONTRIBUTOR","body":"Both Spark 2.4 and Spark 3.0 support dynamic partition overwrite. Spark 3.0 also supports overwrite by expression, although the expression must match all rows in a data file or no rows of a data file, or else it will cause an exception because the granularity of a delete is a whole data file.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659015742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659037553","html_url":"https://github.com/apache/iceberg/pull/1211#issuecomment-659037553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1211","id":659037553,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTAzNzU1Mw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-15T22:02:00Z","updated_at":"2020-07-15T22:02:00Z","author_association":"MEMBER","body":"cc @aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659037553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659133469","html_url":"https://github.com/apache/iceberg/pull/1100#issuecomment-659133469","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1100","id":659133469,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTEzMzQ2OQ==","user":{"login":"Jiayi-Liao","id":13514599,"node_id":"MDQ6VXNlcjEzNTE0NTk5","avatar_url":"https://avatars.githubusercontent.com/u/13514599?v=4","gravatar_id":"","url":"https://api.github.com/users/Jiayi-Liao","html_url":"https://github.com/Jiayi-Liao","followers_url":"https://api.github.com/users/Jiayi-Liao/followers","following_url":"https://api.github.com/users/Jiayi-Liao/following{/other_user}","gists_url":"https://api.github.com/users/Jiayi-Liao/gists{/gist_id}","starred_url":"https://api.github.com/users/Jiayi-Liao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jiayi-Liao/subscriptions","organizations_url":"https://api.github.com/users/Jiayi-Liao/orgs","repos_url":"https://api.github.com/users/Jiayi-Liao/repos","events_url":"https://api.github.com/users/Jiayi-Liao/events{/privacy}","received_events_url":"https://api.github.com/users/Jiayi-Liao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-16T03:19:50Z","updated_at":"2020-07-16T03:19:50Z","author_association":"NONE","body":"> @Jiayi-Liao, now that the 0.9.0 release is out, you may want to check out the [Getting Started](http://iceberg.apache.org/getting-started/) page on the Iceberg ASF site. That's an all-SQL example that I think would be good to incorporate in this Docker tutorial. That uses a local Hadoop warehouse, but a Docker example could set up a Hive Metastore and automatically set up Spark to use it. What do you think?\r\n\r\nThanks for pointing this out. Yes, I think it'd be good. Sorry for the late update, I'm just back from a vacation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659133469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659308492","html_url":"https://github.com/apache/iceberg/issues/1202#issuecomment-659308492","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1202","id":659308492,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTMwODQ5Mg==","user":{"login":"GrigorievNick","id":16338643,"node_id":"MDQ6VXNlcjE2MzM4NjQz","avatar_url":"https://avatars.githubusercontent.com/u/16338643?v=4","gravatar_id":"","url":"https://api.github.com/users/GrigorievNick","html_url":"https://github.com/GrigorievNick","followers_url":"https://api.github.com/users/GrigorievNick/followers","following_url":"https://api.github.com/users/GrigorievNick/following{/other_user}","gists_url":"https://api.github.com/users/GrigorievNick/gists{/gist_id}","starred_url":"https://api.github.com/users/GrigorievNick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GrigorievNick/subscriptions","organizations_url":"https://api.github.com/users/GrigorievNick/orgs","repos_url":"https://api.github.com/users/GrigorievNick/repos","events_url":"https://api.github.com/users/GrigorievNick/events{/privacy}","received_events_url":"https://api.github.com/users/GrigorievNick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-16T09:58:58Z","updated_at":"2020-07-20T07:40:23Z","author_association":"CONTRIBUTOR","body":"> Both Spark 2.4 and Spark 3.0 support dynamic partition overwrite. Spark 3.0 also supports overwrite by expression, although the expression must match all rows in a data file or no rows of a data file, or else it will cause an exception because the granularity of delete is a whole data file.\r\n\r\n@rdblue \r\nBut `Overwrite` that implemented in delete is much smarter then overwrite all data in the partition. \r\nit will change only files that contain changes, while simple overwrite will update all partition.\r\nSo of course I can read data all data from partition -> manipulate -> overwrite. \r\nBut I can do it with any code. What I am looking for is to update only files that match changes.\r\nSo as I understand, there is no such solution right now, yes?\r\n\r\nI can implement it manually using low-level(java-core) API.\r\nBut in this case, I have one more question, which I can't find in docs. \r\nDoes it possible to do concurrent [Table Operation](https://iceberg.apache.org/api/#table-metadata) -> `newRewrite`?\r\n Small explanation: I will have different spark partitions that will overwrite one or a few dataFiles.\r\nAnd of course, a partition is idempotent and running in parallel.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659308492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659490881","html_url":"https://github.com/apache/iceberg/pull/1211#issuecomment-659490881","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1211","id":659490881,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTQ5MDg4MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-16T15:33:04Z","updated_at":"2020-07-16T16:51:23Z","author_association":"CONTRIBUTOR","body":"Thanks, @RussellSpitzer! Let me take a look at this today.\r\n\r\nTo give a bit of background, we had a case where people compacted their table that reduced the number of files from 5+ million to under 1 million in a short period of time. That process generated a huge number of new snapshots as different parts were optimized separately (one leaf partition at a time). In addition, there was a huge number of manifests to scan and a lot of expired data files. As a result, the expiry of snapshots was really slow.\r\n\r\nThis is an attempt to fix such edge cases.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659490881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659537340","html_url":"https://github.com/apache/iceberg/pull/1211#issuecomment-659537340","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1211","id":659537340,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTUzNzM0MA==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-16T16:50:17Z","updated_at":"2020-07-16T16:50:17Z","author_association":"CONTRIBUTOR","body":"cc @mehtaashish23 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659537340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659718716","html_url":"https://github.com/apache/iceberg/pull/1192#issuecomment-659718716","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1192","id":659718716,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTcxODcxNg==","user":{"login":"guilload","id":3011588,"node_id":"MDQ6VXNlcjMwMTE1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/3011588?v=4","gravatar_id":"","url":"https://api.github.com/users/guilload","html_url":"https://github.com/guilload","followers_url":"https://api.github.com/users/guilload/followers","following_url":"https://api.github.com/users/guilload/following{/other_user}","gists_url":"https://api.github.com/users/guilload/gists{/gist_id}","starred_url":"https://api.github.com/users/guilload/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guilload/subscriptions","organizations_url":"https://api.github.com/users/guilload/orgs","repos_url":"https://api.github.com/users/guilload/repos","events_url":"https://api.github.com/users/guilload/events{/privacy}","received_events_url":"https://api.github.com/users/guilload/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-16T22:52:01Z","updated_at":"2020-07-16T22:52:01Z","author_association":"CONTRIBUTOR","body":"@massdosage Sorry, I broke this branch multiple times in the past few days but this PR is stable and in good shape now. I've added a short HiveRunner test to ensure that this won't happen again. You can extend it or remove it later when you add your own tests.\r\n\r\nIn addition, you can check out this two commits 10b62fc7337eb73d95ed750311112a3b9845ee88 and f2232b80f00c52d56ece7402424287ae4f4f2254. In the former,  I branched off of your `if-all-the-things` branch and cherry picked this PR's changes. In the latter, I've modified your tests to run with the \"new\" `HiveIcebergInputFormat`. The test suite passes successfully.\r\n\r\n@rdblue @rdsr I've made the changes you suggested and I believe this PR is ready for a second round of review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659718716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659727227","html_url":"https://github.com/apache/iceberg/pull/1203#issuecomment-659727227","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1203","id":659727227,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTcyNzIyNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-16T23:14:15Z","updated_at":"2020-07-16T23:14:15Z","author_association":"CONTRIBUTOR","body":"Are we saying that we can hit a case when a table may be persisted as part of a logical plan in `tableRelationCache`, then it gets expired after 1 min from our catalog, then we have a write that loads a new table instead of refreshing the original one? And as a result, the table cached in `tableRelationCache` shows outdated results?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659727227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659731387","html_url":"https://github.com/apache/iceberg/pull/1203#issuecomment-659731387","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1203","id":659731387,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTczMTM4Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-16T23:25:31Z","updated_at":"2020-07-16T23:25:31Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, yes, that's what might happen. This would affect tables that are in logical plans that are cached or stored as temporary views.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659731387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659732000","html_url":"https://github.com/apache/iceberg/pull/1212#issuecomment-659732000","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1212","id":659732000,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTczMjAwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-16T23:27:15Z","updated_at":"2020-07-16T23:27:15Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nThanks for finding a way to keep outputs smaller for local runs!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659732000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659769520","html_url":"https://github.com/apache/iceberg/pull/1201#issuecomment-659769520","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1201","id":659769520,"node_id":"MDEyOklzc3VlQ29tbWVudDY1OTc2OTUyMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-17T01:14:23Z","updated_at":"2020-07-17T01:14:23Z","author_association":"CONTRIBUTOR","body":"Reopening to run the tests against master with the CI fix.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/659769520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660189350","html_url":"https://github.com/apache/iceberg/pull/1192#issuecomment-660189350","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1192","id":660189350,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDE4OTM1MA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-17T16:01:49Z","updated_at":"2020-07-17T16:01:49Z","author_association":"CONTRIBUTOR","body":"> @massdosage Sorry, I broke this branch multiple times in the past few days but this PR is stable and in good shape now. I've added a short HiveRunner test to ensure that this won't happen again. You can extend it or remove it later when you add your own tests.\r\n> \r\n> In addition, you can check out this two commits [10b62fc](https://github.com/apache/iceberg/commit/10b62fc7337eb73d95ed750311112a3b9845ee88) and [f2232b8](https://github.com/apache/iceberg/commit/f2232b80f00c52d56ece7402424287ae4f4f2254). In the former, I branched off of your `if-all-the-things` branch and cherry picked this PR's changes. In the latter, I've modified your tests to run with the \"new\" `HiveIcebergInputFormat`. The test suite passes successfully.\r\n> \r\n> @rdblue @rdsr I've made the changes you suggested and I believe this PR is ready for a second round of review.\r\n\r\nNo problem, I took a quick look and the tests you've added look good, I think it makes sense to have them directly in this PR to show that it all works. I don't have time today but I'll try take a proper look on Monday. I'd also like to try out your branch on a Hive client to check everything works end to end on a full Hadoop cluster, not sure if you've also done that yet?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660189350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660203790","html_url":"https://github.com/apache/iceberg/pull/589#issuecomment-660203790","issue_url":"https://api.github.com/repos/apache/iceberg/issues/589","id":660203790,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDIwMzc5MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-17T16:25:35Z","updated_at":"2020-07-17T16:25:35Z","author_association":"CONTRIBUTOR","body":"To give an update, there is a [proposal](https://docs.google.com/document/d/1X0NsQSryvNmXBY9kcvfINeYyKC-AahZarUqg3nS1GQs/) in Spark to extend Data Source V2 for clustering and sort on write. It would be great to have more feedback on that. The sort spec in Iceberg will look similar.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660203790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660207213","html_url":"https://github.com/apache/iceberg/pull/589#issuecomment-660207213","issue_url":"https://api.github.com/repos/apache/iceberg/issues/589","id":660207213,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDIwNzIxMw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-17T16:31:02Z","updated_at":"2020-07-17T16:31:02Z","author_association":"CONTRIBUTOR","body":"I'll probably update this PR based on the current proposal even though it is not finalized.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660207213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660510967","html_url":"https://github.com/apache/iceberg/pull/1214#issuecomment-660510967","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1214","id":660510967,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDUxMDk2Nw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-18T16:59:30Z","updated_at":"2020-07-18T16:59:30Z","author_association":"CONTRIBUTOR","body":"This batches a few fixes together. Hope that is ok, in this case I thought it was easier than 3-4 very small changes. If there is a preference for multiple small commits I am happy to close this and separate them out.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660510967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660686390","html_url":"https://github.com/apache/iceberg/pull/1216#issuecomment-660686390","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1216","id":660686390,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDY4NjM5MA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-19T18:19:07Z","updated_at":"2020-07-19T18:19:07Z","author_association":"CONTRIBUTOR","body":"Should be  merged after #1214 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660686390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660768444","html_url":"https://github.com/apache/iceberg/issues/1215#issuecomment-660768444","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1215","id":660768444,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDc2ODQ0NA==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T02:39:54Z","updated_at":"2020-07-20T02:39:54Z","author_association":"CONTRIBUTOR","body":"+1, We should deal with these differences and we can consider rewriting some `ParquetValueWriter`s.\r\nThe same is true for reader and Avro, including ORC.\r\n\r\nThis workload is not small. I wonder if we can only implement Flink internal data structure conversions, and just provide a converter to convert Flink `Row` to `RowData`.\r\n\r\nHere is a Flink table/SQL data structure table, the internal data structure is more efficient, and the external structure is more often used in UDF.\r\n\r\n```\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | SQL Data Types                 | Internal Data Structures (RowData)      |  External (Row)   |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | BOOLEAN                        | boolean                                 |  boolean          |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | CHAR / VARCHAR / STRING        | {@link StringData}                      |  String           |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | BINARY / VARBINARY / BYTES     | byte[]                                  |  byte[]           |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | DECIMAL                        | {@link DecimalData}                     |  BigDecimal       |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | TINYINT                        | byte                                    |  byte             |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | SMALLINT                       | short                                   |  short            |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | INT                            | int                                     |  int              |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | BIGINT                         | long                                    |  long             |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | FLOAT                          | float                                   |  float            |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | DOUBLE                         | double                                  |  double           |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | DATE                           | int (number of days since epoch)        |  LocalDate        |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | TIME                           | int (number of milliseconds of the day) |  LocalTime        |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | TIMESTAMP                      | {@link TimestampData}                   |  LocalDateTime    |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | TIMESTAMP WITH LOCAL TIME ZONE | {@link TimestampData}                   |  Instant          |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | INTERVAL YEAR TO MONTH         | int (number of months)                  |  Period           |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | INTERVAL DAY TO MONTH          | long (number of milliseconds)           |  Duration         |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | ROW / structured types         | {@link RowData}                         |  Row              |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | ARRAY                          | {@link ArrayData}                       |  T[]              |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | MAP / MULTISET                 | {@link MapData}                         |  Map              |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n * | RAW                            | {@link RawValueData}                    |  T                |\r\n * +--------------------------------+-----------------------------------------+-------------------+\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660768444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660777984","html_url":"https://github.com/apache/iceberg/issues/1215#issuecomment-660777984","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1215","id":660777984,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDc3Nzk4NA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T03:14:48Z","updated_at":"2020-07-20T03:15:33Z","author_association":"MEMBER","body":"@chenjunjiedada   +1,  the flink data type is not strickly mapping to one kinds of java data type, it's better to create a separate readers and writers to handle the differences. Supporting both `Row` and `RowData` in flink data stream is also necessary (as @JingsongLi  said) because flink 1.11 have turned its table row data type to `RowData`, I've prepared a patch in my own repo to abstract a `IcebergStreamWrter`  so that we could accept the generic data type in the stream ([commit](https://github.com/openinx/incubator-iceberg/commit/78fb6fe9b37f31a7eac14368e501535345953a92#diff-2e349ce4ab68643aa0f311250e745edfR49)),  I will update the pull request https://github.com/apache/iceberg/pull/1145, once its dependency PR https://github.com/apache/iceberg/pull/1213 get merged.  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/660777984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661134311","html_url":"https://github.com/apache/iceberg/pull/1211#issuecomment-661134311","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1211","id":661134311,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTEzNDMxMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T16:06:06Z","updated_at":"2020-07-20T16:06:06Z","author_association":"CONTRIBUTOR","body":"Thanks for updating the PR quickly, @RussellSpitzer! I'll take a look today.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661134311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661155466","html_url":"https://github.com/apache/iceberg/pull/1192#issuecomment-661155466","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1192","id":661155466,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTE1NTQ2Ng==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T16:27:13Z","updated_at":"2020-07-20T16:27:13Z","author_association":"CONTRIBUTOR","body":"The tests look good and work for me. I'm now trying to get them running from a Hive client. I've built all the Iceberg jars and uploaded them to the host with the Hive client. I've then created a table using Iceberg from Spark. I've now opened a Hive session and done the following to add the jars to the classpath:\r\n```\r\nadd jar /home/hadoop/iceberg/0.9.0-SNAPSHOT/iceberg-api.jar;\r\nadd jar /home/hadoop/iceberg/0.9.0-SNAPSHOT/iceberg-core.jar;\r\nadd jar /home/hadoop/iceberg/0.9.0-SNAPSHOT/iceberg-data.jar;\r\nadd jar /home/hadoop/iceberg/0.9.0-SNAPSHOT/iceberg-mr.jar;\r\nadd jar /home/hadoop/iceberg/0.9.0-SNAPSHOT/iceberg-parquet.jar;\r\nadd jar /home/hadoop/iceberg/0.9.0-SNAPSHOT/iceberg-bundled-guava.jar;\r\n```\r\nI get what look like successful responses from Hive at this point:\r\n```\r\nhive> add jar /home/hadoop/iceberg/0.9.0-SNAPSHOT/iceberg-bundled-guava.jar;\r\nAdded [/home/hadoop/iceberg/0.9.0-SNAPSHOT/iceberg-bundled-guava.jar] to class path\r\nAdded resources: [/home/hadoop/iceberg/0.9.0-SNAPSHOT/iceberg-bundled-guava.jar]\r\n```\r\nI then try create a table something like so:\r\n```\r\nCREATE EXTERNAL TABLE default.hiveberg_table_a_guilload \r\nROW FORMAT SERDE 'org.apache.iceberg.mr.mapred.IcebergSerDe' \r\nSTORED AS \r\nINPUTFORMAT 'org.apache.iceberg.mr.hive.HiveIcebergInputFormat' \r\nOUTPUTFORMAT 'org.apache.hadoop.hive.ql.io.IgnoreKeyTextOutputFormat' \r\nLOCATION 'hdfs://path/to/spark-created/table_a';\r\n```\r\nHowever I then see this error in the Hive user logs:\r\n`2020-07-20T16:20:29,298 ERROR [759dc8f9-310b-4889-a9db-a48cf4c1c424 main([])]: exec.DDLTask (DDLTask.java:failed(639)) - java.lang.NoClassDefFoundError: org/apache/iceberg/relocated/com/google/common/base/Preconditions`\r\nwhich is very strange since that class should be there. I've run out of time to look further today, will carry on later in the week. @guilload have you managed to get it running end to end in Hive \"for reals\"? If so, did you do any steps differently to what I'm doing?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661155466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661320100","html_url":"https://github.com/apache/iceberg/issues/1220#issuecomment-661320100","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1220","id":661320100,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTMyMDEwMA==","user":{"login":"sudssf","id":10800873,"node_id":"MDQ6VXNlcjEwODAwODcz","avatar_url":"https://avatars.githubusercontent.com/u/10800873?v=4","gravatar_id":"","url":"https://api.github.com/users/sudssf","html_url":"https://github.com/sudssf","followers_url":"https://api.github.com/users/sudssf/followers","following_url":"https://api.github.com/users/sudssf/following{/other_user}","gists_url":"https://api.github.com/users/sudssf/gists{/gist_id}","starred_url":"https://api.github.com/users/sudssf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudssf/subscriptions","organizations_url":"https://api.github.com/users/sudssf/orgs","repos_url":"https://api.github.com/users/sudssf/repos","events_url":"https://api.github.com/users/sudssf/events{/privacy}","received_events_url":"https://api.github.com/users/sudssf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T20:36:55Z","updated_at":"2020-07-20T20:36:55Z","author_association":"CONTRIBUTOR","body":"submitted PR https://github.com/apache/iceberg/pull/1221/files","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661320100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661323094","html_url":"https://github.com/apache/iceberg/pull/1207#issuecomment-661323094","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1207","id":661323094,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTMyMzA5NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T20:43:42Z","updated_at":"2020-07-20T20:43:42Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Thanks for updating to the new approach!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661323094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661349018","html_url":"https://github.com/apache/iceberg/issues/1021#issuecomment-661349018","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1021","id":661349018,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTM0OTAxOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T21:42:57Z","updated_at":"2020-07-20T21:42:57Z","author_association":"CONTRIBUTOR","body":"This was implemented in #1207.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661349018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661353500","html_url":"https://github.com/apache/iceberg/pull/1182#issuecomment-661353500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1182","id":661353500,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTM1MzUwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T21:53:07Z","updated_at":"2020-07-20T21:53:07Z","author_association":"CONTRIBUTOR","body":"Thanks for the updates, @JingsongLi! This looks good to me. I'll merge it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661353500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661362531","html_url":"https://github.com/apache/iceberg/pull/1217#issuecomment-661362531","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1217","id":661362531,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTM2MjUzMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T22:02:59Z","updated_at":"2020-07-20T22:02:59Z","author_association":"CONTRIBUTOR","body":"Looks great, I'll merge. Thanks for the contribution, @guykhazma!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661362531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661365934","html_url":"https://github.com/apache/iceberg/pull/1213#issuecomment-661365934","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1213","id":661365934,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTM2NTkzNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T22:06:37Z","updated_at":"2020-07-20T22:06:37Z","author_association":"CONTRIBUTOR","body":"I'm assuming that this one should go in before #1145 and will review this one next. If that's not the case, please let me know!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661365934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661511527","html_url":"https://github.com/apache/iceberg/pull/1214#issuecomment-661511527","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1214","id":661511527,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTUxMTUyNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T00:59:29Z","updated_at":"2020-07-21T00:59:29Z","author_association":"CONTRIBUTOR","body":"Overall looks good. Just a couple of minor things. I'm okay to merge if you want, but I would normally not introduce changes to 3 files just for renames.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661511527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661551337","html_url":"https://github.com/apache/iceberg/pull/1213#issuecomment-661551337","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1213","id":661551337,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTU1MTMzNw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T01:53:29Z","updated_at":"2020-07-21T01:53:29Z","author_association":"MEMBER","body":"Yeah, you're right. Please help to review this patch firstly if you have time , sir. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661551337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661552598","html_url":"https://github.com/apache/iceberg/pull/1197#issuecomment-661552598","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1197","id":661552598,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTU1MjU5OA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T01:55:14Z","updated_at":"2020-07-21T01:55:14Z","author_association":"MEMBER","body":"@rdblue @rdsr  I think this patch is ready to merge now,  please merge this if no other concern. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661552598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661557042","html_url":"https://github.com/apache/iceberg/pull/1182#issuecomment-661557042","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1182","id":661557042,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTU1NzA0Mg==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T02:01:38Z","updated_at":"2020-07-21T02:01:38Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue for your patient review~","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661557042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661662535","html_url":"https://github.com/apache/iceberg/pull/1214#issuecomment-661662535","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1214","id":661662535,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTY2MjUzNQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T06:29:55Z","updated_at":"2020-07-21T06:29:55Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @rdblue, commented and pushed some changes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661662535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661948242","html_url":"https://github.com/apache/iceberg/pull/1223#issuecomment-661948242","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1223","id":661948242,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTk0ODI0Mg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T15:59:16Z","updated_at":"2020-07-21T15:59:16Z","author_association":"MEMBER","body":"cc @aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661948242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661956214","html_url":"https://github.com/apache/iceberg/pull/1216#issuecomment-661956214","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1216","id":661956214,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTk1NjIxNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T16:13:16Z","updated_at":"2020-07-21T16:13:16Z","author_association":"CONTRIBUTOR","body":"I merged #1214. Could you please rebase this one? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661956214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661981645","html_url":"https://github.com/apache/iceberg/pull/1216#issuecomment-661981645","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1216","id":661981645,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTk4MTY0NQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T16:57:18Z","updated_at":"2020-07-21T16:57:18Z","author_association":"CONTRIBUTOR","body":"> I merged #1214. Could you please rebase this one? Thanks!\r\n\r\n:+1: rebased and ready for review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661981645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661994888","html_url":"https://github.com/apache/iceberg/issues/1215#issuecomment-661994888","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1215","id":661994888,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTk5NDg4OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T17:20:45Z","updated_at":"2020-07-21T17:20:45Z","author_association":"CONTRIBUTOR","body":"Thanks for the clarification on the types that Flink uses.\r\n\r\nI agree that we should create readers and writers that work directly with these types, instead of trying to make the Iceberg generics work.\r\n\r\n> I wonder if we can only implement Flink internal data structure conversions\r\n\r\nThis is what we do for Spark. We try to only work with `InternalRow`, and have conversions where we need to for testing the public `Row` we get back from some interfaces.\r\n\r\nI would prefer to have just one data model implementation for Flink's internal representation (`RowData`). If we need to, we can have one for the external `Row` as well, but if Flink can already convert from `RowData` to `Row`, I would like to try to use those conversions instead.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/661994888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662054831","html_url":"https://github.com/apache/iceberg/pull/1223#issuecomment-662054831","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1223","id":662054831,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjA1NDgzMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T19:14:19Z","updated_at":"2020-07-21T19:14:19Z","author_association":"CONTRIBUTOR","body":"Thanks, @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662054831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662056963","html_url":"https://github.com/apache/iceberg/pull/1192#issuecomment-662056963","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1192","id":662056963,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjA1Njk2Mw==","user":{"login":"guilload","id":3011588,"node_id":"MDQ6VXNlcjMwMTE1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/3011588?v=4","gravatar_id":"","url":"https://api.github.com/users/guilload","html_url":"https://github.com/guilload","followers_url":"https://api.github.com/users/guilload/followers","following_url":"https://api.github.com/users/guilload/following{/other_user}","gists_url":"https://api.github.com/users/guilload/gists{/gist_id}","starred_url":"https://api.github.com/users/guilload/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guilload/subscriptions","organizations_url":"https://api.github.com/users/guilload/orgs","repos_url":"https://api.github.com/users/guilload/repos","events_url":"https://api.github.com/users/guilload/events{/privacy}","received_events_url":"https://api.github.com/users/guilload/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T19:18:46Z","updated_at":"2020-07-21T19:18:46Z","author_association":"CONTRIBUTOR","body":"@massdosage, yes I have managed to use the input format in a \"real\" Hive client. I'm taking a shortcut though, I just add `iceberg-mr` to the `iceberg-spark-runtime` subproject dependencies and use that jar with `add jar ...`. I'll try your way. I don't see anything wrong with it. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662056963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662058640","html_url":"https://github.com/apache/iceberg/pull/1192#issuecomment-662058640","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1192","id":662058640,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjA1ODY0MA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T19:22:16Z","updated_at":"2020-07-21T19:22:16Z","author_association":"CONTRIBUTOR","body":"@guilload OK, thanks, let me know what you find. It has made me think we should probably have this mr module produce an \"uber jar\" so for the Hive use case you just have to add 1 jar to the classpath, not 6.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662058640/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662101559","html_url":"https://github.com/apache/iceberg/issues/1224#issuecomment-662101559","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1224","id":662101559,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjEwMTU1OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T20:55:35Z","updated_at":"2020-07-21T20:55:35Z","author_association":"CONTRIBUTOR","body":"Is it because `URI.toString` that we are using does not decode the URI correctly? We later create `Path` from `String`? Spark has `CatalogUtils` that handles `URI` to `String` conversion through Hadoop `Path` but we should be ok with just using `URI` to construct `Path`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662101559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662111528","html_url":"https://github.com/apache/iceberg/issues/1224#issuecomment-662111528","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1224","id":662111528,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjExMTUyOA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T21:17:56Z","updated_at":"2020-07-21T21:34:58Z","author_association":"MEMBER","body":"Yes. Basically the constructor `public Path(String pathString)` will just take apart the string as is without encoding and attempts to break it into the correct parts.\r\n\r\nWhile the constructor `public Path(URI)` just takes the URI as is and sets it to the internal representation of the path so it handles the encoding properly\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662111528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662112918","html_url":"https://github.com/apache/iceberg/issues/1224#issuecomment-662112918","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1224","id":662112918,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjExMjkxOA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T21:21:18Z","updated_at":"2020-07-21T21:35:20Z","author_association":"MEMBER","body":"```scala\r\nscala> import java.net.URI\r\nimport java.net.URI\r\n\r\nscala> import org.apache.hadoop.fs.Path\r\nimport org.apache.hadoop.fs.Path\r\n\r\nscala> val uri = new URI(\"file:///has%20spaces\")\r\nuri: java.net.URI = file:///has%20spaces\r\n\r\nscala> new Path(uri).toString\r\nres4: String = file:/has spaces\r\n\r\nscala> new Path(uri.toString).toString\r\nres5: String = file:/has%20spaces\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662112918/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662130198","html_url":"https://github.com/apache/iceberg/issues/1224#issuecomment-662130198","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1224","id":662130198,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjEzMDE5OA==","user":{"login":"raptond","id":30231978,"node_id":"MDQ6VXNlcjMwMjMxOTc4","avatar_url":"https://avatars.githubusercontent.com/u/30231978?v=4","gravatar_id":"","url":"https://api.github.com/users/raptond","html_url":"https://github.com/raptond","followers_url":"https://api.github.com/users/raptond/followers","following_url":"https://api.github.com/users/raptond/following{/other_user}","gists_url":"https://api.github.com/users/raptond/gists{/gist_id}","starred_url":"https://api.github.com/users/raptond/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raptond/subscriptions","organizations_url":"https://api.github.com/users/raptond/orgs","repos_url":"https://api.github.com/users/raptond/repos","events_url":"https://api.github.com/users/raptond/events{/privacy}","received_events_url":"https://api.github.com/users/raptond/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T22:04:05Z","updated_at":"2020-07-21T22:04:05Z","author_association":"CONTRIBUTOR","body":"👍  to keep the paths as `URI` objects and not convert to` String`s. I thought perhaps we should `unescape`, but it seems a better idea to delegate that to `Path`. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/662130198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]