[{"url":"https://api.github.com/repos/apache/thrift/issues/comments/995413265","html_url":"https://github.com/apache/thrift/pull/2490#issuecomment-995413265","issue_url":"https://api.github.com/repos/apache/thrift/issues/2490","id":995413265,"node_id":"IC_kwDOAAS9U847VM0R","user":{"login":"alisaifee","id":79842,"node_id":"MDQ6VXNlcjc5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/79842?v=4","gravatar_id":"","url":"https://api.github.com/users/alisaifee","html_url":"https://github.com/alisaifee","followers_url":"https://api.github.com/users/alisaifee/followers","following_url":"https://api.github.com/users/alisaifee/following{/other_user}","gists_url":"https://api.github.com/users/alisaifee/gists{/gist_id}","starred_url":"https://api.github.com/users/alisaifee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alisaifee/subscriptions","organizations_url":"https://api.github.com/users/alisaifee/orgs","repos_url":"https://api.github.com/users/alisaifee/repos","events_url":"https://api.github.com/users/alisaifee/events{/privacy}","received_events_url":"https://api.github.com/users/alisaifee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-16T03:46:22Z","updated_at":"2021-12-16T03:46:36Z","author_association":"CONTRIBUTOR","body":"Unfortunately this doesn't demonstrate any warnings (specifically the one about `PY_SSIZE_T_CLEAN`) since the warning was only introduced in python 3.8 in python/cpython#12473 - and the CI uses python 3.6.9","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/995413265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/995415411","html_url":"https://github.com/apache/thrift/pull/2487#issuecomment-995415411","issue_url":"https://api.github.com/repos/apache/thrift/issues/2487","id":995415411,"node_id":"IC_kwDOAAS9U847VNVz","user":{"login":"alisaifee","id":79842,"node_id":"MDQ6VXNlcjc5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/79842?v=4","gravatar_id":"","url":"https://api.github.com/users/alisaifee","html_url":"https://github.com/alisaifee","followers_url":"https://api.github.com/users/alisaifee/followers","following_url":"https://api.github.com/users/alisaifee/following{/other_user}","gists_url":"https://api.github.com/users/alisaifee/gists{/gist_id}","starred_url":"https://api.github.com/users/alisaifee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alisaifee/subscriptions","organizations_url":"https://api.github.com/users/alisaifee/orgs","repos_url":"https://api.github.com/users/alisaifee/repos","events_url":"https://api.github.com/users/alisaifee/events{/privacy}","received_events_url":"https://api.github.com/users/alisaifee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-16T03:52:43Z","updated_at":"2021-12-16T03:52:43Z","author_association":"CONTRIBUTOR","body":"Unfortunately the error couldn't be reproduced on CI since the python version (3.6.9) doesn't actually contain the warning. Regardless, I think having warnings as errors should be beneficial - especially once the CI pythons are updated.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/995415411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/995502244","html_url":"https://github.com/apache/thrift/pull/2487#issuecomment-995502244","issue_url":"https://api.github.com/repos/apache/thrift/issues/2487","id":995502244,"node_id":"IC_kwDOAAS9U847Viik","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-16T07:12:50Z","updated_at":"2021-12-16T07:12:50Z","author_association":"MEMBER","body":"> Unfortunately the error couldn't be reproduced on CI since the python version (3.6.9) doesn't actually contain the warning. Regardless, I think having warnings as errors should be beneficial - especially once the CI pythons are updated.\r\n\r\nIn that case, I'd prefer to revert the CI changes. I don't want the CI to start fail suddenly when Ubuntu decided to upgrade python3 in their version from 3.6 to 3.7.\r\n\r\nWe _might_ want to consider the CI change in a separated PR so it can be reverted, but that still sounds quite risky to me, as when that upgrade in ubuntu actually happens no one would remember this is the commit to be reverted.\r\n\r\nSorry about the back-and-forth.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/995502244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/995722592","html_url":"https://github.com/apache/thrift/pull/2487#issuecomment-995722592","issue_url":"https://api.github.com/repos/apache/thrift/issues/2487","id":995722592,"node_id":"IC_kwDOAAS9U847WYVg","user":{"login":"alisaifee","id":79842,"node_id":"MDQ6VXNlcjc5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/79842?v=4","gravatar_id":"","url":"https://api.github.com/users/alisaifee","html_url":"https://github.com/alisaifee","followers_url":"https://api.github.com/users/alisaifee/followers","following_url":"https://api.github.com/users/alisaifee/following{/other_user}","gists_url":"https://api.github.com/users/alisaifee/gists{/gist_id}","starred_url":"https://api.github.com/users/alisaifee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alisaifee/subscriptions","organizations_url":"https://api.github.com/users/alisaifee/orgs","repos_url":"https://api.github.com/users/alisaifee/repos","events_url":"https://api.github.com/users/alisaifee/events{/privacy}","received_events_url":"https://api.github.com/users/alisaifee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-16T11:51:48Z","updated_at":"2021-12-16T11:51:48Z","author_association":"CONTRIBUTOR","body":"> In that case, I'd prefer to revert the CI changes. I don't want the CI to start fail suddenly when Ubuntu decided to upgrade python3 in their version from 3.6 to 3.7.\r\n\r\nThat's a very good point that I hadn't considered at all. I've reverted that commit (force pushed) so that there's a clean single commit for you to merge.\r\n\r\n> Sorry about the back-and-forth.\r\n\r\nNo worries at all! Thank you for the review. \r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/995722592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/996094113","html_url":"https://github.com/apache/thrift/pull/2487#issuecomment-996094113","issue_url":"https://api.github.com/repos/apache/thrift/issues/2487","id":996094113,"node_id":"IC_kwDOAAS9U847XzCh","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-16T19:00:46Z","updated_at":"2021-12-16T19:00:46Z","author_association":"MEMBER","body":"@alisaifee Can you rebase your branch on top of the latest master (with your CI fix for rust merged), so that the CI output of this PR would be more meaningful?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/996094113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/996170131","html_url":"https://github.com/apache/thrift/pull/2487#issuecomment-996170131","issue_url":"https://api.github.com/repos/apache/thrift/issues/2487","id":996170131,"node_id":"IC_kwDOAAS9U847YFmT","user":{"login":"alisaifee","id":79842,"node_id":"MDQ6VXNlcjc5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/79842?v=4","gravatar_id":"","url":"https://api.github.com/users/alisaifee","html_url":"https://github.com/alisaifee","followers_url":"https://api.github.com/users/alisaifee/followers","following_url":"https://api.github.com/users/alisaifee/following{/other_user}","gists_url":"https://api.github.com/users/alisaifee/gists{/gist_id}","starred_url":"https://api.github.com/users/alisaifee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alisaifee/subscriptions","organizations_url":"https://api.github.com/users/alisaifee/orgs","repos_url":"https://api.github.com/users/alisaifee/repos","events_url":"https://api.github.com/users/alisaifee/events{/privacy}","received_events_url":"https://api.github.com/users/alisaifee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-16T20:27:04Z","updated_at":"2021-12-16T20:27:04Z","author_association":"CONTRIBUTOR","body":"> @alisaifee Can you rebase your branch on top of the latest master (with your CI fix for rust merged), so that the CI output of this PR would be more meaningful?\r\n\r\nI already did that! Sadly there's still one erlang test case failing which I couldn't figure out. The difference between the CI failure now versus before the rust fix, is that the tests actually run now (previously they were failing in the test compilation stage)\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/996170131/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/996257305","html_url":"https://github.com/apache/thrift/pull/2492#issuecomment-996257305","issue_url":"https://api.github.com/repos/apache/thrift/issues/2492","id":996257305,"node_id":"IC_kwDOAAS9U847Ya4Z","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-16T22:56:55Z","updated_at":"2021-12-16T22:56:55Z","author_association":"MEMBER","body":"Note: similar things can be done in `TFrameTransport` (and maybe a few others), but I plan to do that in a follow up PR(s).","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/996257305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/996914950","html_url":"https://github.com/apache/thrift/pull/2492#issuecomment-996914950","issue_url":"https://api.github.com/repos/apache/thrift/issues/2492","id":996914950,"node_id":"IC_kwDOAAS9U847a7cG","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-17T18:00:57Z","updated_at":"2021-12-17T18:00:57Z","author_association":"MEMBER","body":"Added a unit test to make sure that a `THeaderTransport` can be reused. Will merge this in after some staging test is completed.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/996914950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/996928655","html_url":"https://github.com/apache/thrift/pull/2492#issuecomment-996928655","issue_url":"https://api.github.com/repos/apache/thrift/issues/2492","id":996928655,"node_id":"IC_kwDOAAS9U847a-yP","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-17T18:24:13Z","updated_at":"2021-12-17T18:24:13Z","author_association":"MEMBER","body":"not seeing issues on staging. merging.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/996928655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1004915887","html_url":"https://github.com/apache/thrift/pull/2494#issuecomment-1004915887","issue_url":"https://api.github.com/repos/apache/thrift/issues/2494","id":1004915887,"node_id":"IC_kwDOAAS9U8475cyv","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-04T15:39:55Z","updated_at":"2022-01-04T15:39:55Z","author_association":"MEMBER","body":"> LGTM. Apologies for the late review, I was away for a while.\r\n\r\nnah it's ok :) I'm waiting for the year end code freeze to end so we can actually deploy the THeader one to production first anyways. ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1004915887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1005011613","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1005011613","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1005011613,"node_id":"IC_kwDOAAS9U84750Kd","user":{"login":"dcelasun","id":144373,"node_id":"MDQ6VXNlcjE0NDM3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/144373?v=4","gravatar_id":"","url":"https://api.github.com/users/dcelasun","html_url":"https://github.com/dcelasun","followers_url":"https://api.github.com/users/dcelasun/followers","following_url":"https://api.github.com/users/dcelasun/following{/other_user}","gists_url":"https://api.github.com/users/dcelasun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcelasun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcelasun/subscriptions","organizations_url":"https://api.github.com/users/dcelasun/orgs","repos_url":"https://api.github.com/users/dcelasun/repos","events_url":"https://api.github.com/users/dcelasun/events{/privacy}","received_events_url":"https://api.github.com/users/dcelasun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-04T17:12:31Z","updated_at":"2022-01-04T17:12:31Z","author_association":"MEMBER","body":"Thanks for the PR!\r\n\r\nThis doesn't seem like a good use of `sync.Map`. From [godoc](https://pkg.go.dev/sync#Map):\r\n\r\n> The Map type is specialized. Most code should use a plain Go map instead, with separate locking or coordination, for better type safety and to make it easier to maintain other invariants along with the map content.\r\n\r\n> The Map type is optimized for two common use cases: (1) when the entry for a given key is only ever written once but read many times, as in caches that only grow, or (2) when multiple goroutines read, write, and overwrite entries for disjoint sets of keys. In these two cases, use of a Map may significantly reduce lock contention compared to a Go map paired with a separate Mutex or RWMutex.\r\n\r\nIn your case, the map is write-heavy, and reads only happen once during `Close`. It'd be better to replace it with a `map[TTransport]struct{}` and a `sync.Mutex`. It would also give us type safety.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1005011613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1005200157","html_url":"https://github.com/apache/thrift/pull/2494#issuecomment-1005200157","issue_url":"https://api.github.com/repos/apache/thrift/issues/2494","id":1005200157,"node_id":"IC_kwDOAAS9U8476iMd","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-04T21:57:23Z","updated_at":"2022-01-04T21:57:23Z","author_association":"MEMBER","body":">  I'm waiting for the year end code freeze to end\r\n\r\nCold enough it is.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1005200157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1005318546","html_url":"https://github.com/apache/thrift/pull/2310#issuecomment-1005318546","issue_url":"https://api.github.com/repos/apache/thrift/issues/2310","id":1005318546,"node_id":"IC_kwDOAAS9U8476_GS","user":{"login":"WANG-lp","id":1270875,"node_id":"MDQ6VXNlcjEyNzA4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1270875?v=4","gravatar_id":"","url":"https://api.github.com/users/WANG-lp","html_url":"https://github.com/WANG-lp","followers_url":"https://api.github.com/users/WANG-lp/followers","following_url":"https://api.github.com/users/WANG-lp/following{/other_user}","gists_url":"https://api.github.com/users/WANG-lp/gists{/gist_id}","starred_url":"https://api.github.com/users/WANG-lp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WANG-lp/subscriptions","organizations_url":"https://api.github.com/users/WANG-lp/orgs","repos_url":"https://api.github.com/users/WANG-lp/repos","events_url":"https://api.github.com/users/WANG-lp/events{/privacy}","received_events_url":"https://api.github.com/users/WANG-lp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T02:04:17Z","updated_at":"2022-01-05T02:04:17Z","author_association":"NONE","body":"This change really helps in some situations. Hope we can move forward on this.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1005318546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1005333230","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1005333230","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1005333230,"node_id":"IC_kwDOAAS9U8477Cru","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T02:40:17Z","updated_at":"2022-01-05T02:40:17Z","author_association":"CONTRIBUTOR","body":"> Thanks for the PR!\r\n> \r\n> This doesn't seem like a good use of `sync.Map`. From [godoc](https://pkg.go.dev/sync#Map):\r\n> \r\n> > The Map type is specialized. Most code should use a plain Go map instead, with separate locking or coordination, for better type safety and to make it easier to maintain other invariants along with the map content.\r\n> \r\n> > The Map type is optimized for two common use cases: (1) when the entry for a given key is only ever written once but read many times, as in caches that only grow, or (2) when multiple goroutines read, write, and overwrite entries for disjoint sets of keys. In these two cases, use of a Map may significantly reduce lock contention compared to a Go map paired with a separate Mutex or RWMutex.\r\n> \r\n> In your case, the map is write-heavy, and reads only happen once during `Close`. It'd be better to replace it with a `map[TTransport]struct{}` and a `sync.Mutex`. It would also give us type safety.\r\n\r\nGood suggestion，I will change the code later this week","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1005333230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1005495621","html_url":"https://github.com/apache/thrift/pull/2310#issuecomment-1005495621","issue_url":"https://api.github.com/repos/apache/thrift/issues/2310","id":1005495621,"node_id":"IC_kwDOAAS9U8477qVF","user":{"login":"JasonShui","id":71208578,"node_id":"MDQ6VXNlcjcxMjA4NTc4","avatar_url":"https://avatars.githubusercontent.com/u/71208578?v=4","gravatar_id":"","url":"https://api.github.com/users/JasonShui","html_url":"https://github.com/JasonShui","followers_url":"https://api.github.com/users/JasonShui/followers","following_url":"https://api.github.com/users/JasonShui/following{/other_user}","gists_url":"https://api.github.com/users/JasonShui/gists{/gist_id}","starred_url":"https://api.github.com/users/JasonShui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JasonShui/subscriptions","organizations_url":"https://api.github.com/users/JasonShui/orgs","repos_url":"https://api.github.com/users/JasonShui/repos","events_url":"https://api.github.com/users/JasonShui/events{/privacy}","received_events_url":"https://api.github.com/users/JasonShui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T08:56:32Z","updated_at":"2022-01-05T08:56:32Z","author_association":"NONE","body":"I will try to fix them this month. Sorry for the late update :(","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1005495621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1006105146","html_url":"https://github.com/apache/thrift/pull/2494#issuecomment-1006105146","issue_url":"https://api.github.com/repos/apache/thrift/issues/2494","id":1006105146,"node_id":"IC_kwDOAAS9U8479_I6","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T21:48:50Z","updated_at":"2022-01-05T21:48:50Z","author_association":"MEMBER","body":"The THeader change has been running in our production for one day without issues. Merging this one.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1006105146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1006105825","html_url":"https://github.com/apache/thrift/pull/2494#issuecomment-1006105825","issue_url":"https://api.github.com/repos/apache/thrift/issues/2494","id":1006105825,"node_id":"IC_kwDOAAS9U8479_Th","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T21:50:02Z","updated_at":"2022-01-05T21:50:02Z","author_association":"MEMBER","body":"Wait I noticed a bug in the TFrameTransport implementation. Fixing now.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1006105825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1006122491","html_url":"https://github.com/apache/thrift/pull/2494#issuecomment-1006122491","issue_url":"https://api.github.com/repos/apache/thrift/issues/2494","id":1006122491,"node_id":"IC_kwDOAAS9U847-DX7","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T22:18:02Z","updated_at":"2022-01-05T22:18:02Z","author_association":"MEMBER","body":"> Wait I noticed a bug in the TFrameTransport implementation. Fixing now.\r\n\r\nI read my pre-holidays code wrong and thought I introduced a bug to break small reads, which turns out to be fine, but I added a test to make sure of it :)","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1006122491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1007716951","html_url":"https://github.com/apache/thrift/pull/2499#issuecomment-1007716951","issue_url":"https://api.github.com/repos/apache/thrift/issues/2499","id":1007716951,"node_id":"IC_kwDOAAS9U848EIpX","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-07T20:26:13Z","updated_at":"2022-01-07T20:26:13Z","author_association":"MEMBER","body":"Also I checked the appveyor failure (which is not very common), and it does not look related to the python change.\r\n\r\nappveyor's output makes it very hard to figure out exactly which test failed, so I have to diff the list of passed tests between a passed one and the failed one, and the 2 tests missing are `concurrency_test` & `TQTcpServerTest_Qt5`, which I assume are not the python ones (it looks like all the python tests ran on appveyor have the `Python-` prefix).","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1007716951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1007738388","html_url":"https://github.com/apache/thrift/pull/2499#issuecomment-1007738388","issue_url":"https://api.github.com/repos/apache/thrift/issues/2499","id":1007738388,"node_id":"IC_kwDOAAS9U848EN4U","user":{"login":"alisaifee","id":79842,"node_id":"MDQ6VXNlcjc5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/79842?v=4","gravatar_id":"","url":"https://api.github.com/users/alisaifee","html_url":"https://github.com/alisaifee","followers_url":"https://api.github.com/users/alisaifee/followers","following_url":"https://api.github.com/users/alisaifee/following{/other_user}","gists_url":"https://api.github.com/users/alisaifee/gists{/gist_id}","starred_url":"https://api.github.com/users/alisaifee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alisaifee/subscriptions","organizations_url":"https://api.github.com/users/alisaifee/orgs","repos_url":"https://api.github.com/users/alisaifee/repos","events_url":"https://api.github.com/users/alisaifee/events{/privacy}","received_events_url":"https://api.github.com/users/alisaifee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-07T21:02:30Z","updated_at":"2022-01-07T21:02:30Z","author_association":"CONTRIBUTOR","body":"> Saw this in travis (https://app.travis-ci.com/github/apache/thrift/jobs/554697740):\r\n> \r\n> ```\r\n> # Python code style\r\n> flake8\r\n> ./lib/py/test/thrift_TSerializer.py:59:5: E303 too many blank lines (2)\r\n> ./lib/py/test/thrift_TSerializer.py:66:5: E303 too many blank lines (2)\r\n> ```\r\n\r\nUpdated in e7569dc","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1007738388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1007940674","html_url":"https://github.com/apache/thrift/pull/2496#issuecomment-1007940674","issue_url":"https://api.github.com/repos/apache/thrift/issues/2496","id":1007940674,"node_id":"IC_kwDOAAS9U848E_RC","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-08T10:02:41Z","updated_at":"2022-01-08T10:02:41Z","author_association":"MEMBER","body":"<html>\r\n<body>\r\n<!--StartFragment--><p dir=\"auto\" style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(36, 41, 47); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\">This stage<span> </span><strong style=\"box-sizing: border-box; font-weight: 600;\">failed</strong>.</p>\r\n\r\nJob | Xcode | ENV | OS | State\r\n-- | -- | -- | -- | --\r\n7919.3 |   | SCRIPT=\"cmake.sh\" | Linux | failed\r\n7919.4 |   | SCRIPT=\"cmake.sh\" | Linux | failed\r\n7919.5 |   | SCRIPT=\"cmake.sh\" | Linux | failed\r\n7919.6 |   | SCRIPT=\"cmake.sh\" | Linux | failed\r\n7919.7 |   | SCRIPT=\"cmake.sh\" | Linux | failed\r\n7919.8 |   | SCRIPT=\"cmake.sh\" | Linux | failed\r\n7919.9 |   | SCRIPT=\"cmake.sh\" | Linux | failed\r\n7919.10 |   | SCRIPT=\"cmake.sh\" | Linux | failed\r\n7919.11 |   | SCRIPT=\"cmake.sh\" | Linux | passed\r\n7919.12 |   | SCRIPT=\"cmake.sh\" | Linux | failed\r\n7919.13 |   | SCRIPT=\"cmake.sh\" | Linux | passed\r\n7919.14 | xcode11.3 | SCRIPT=\"cmake.sh\" | macOS | passed\r\n\r\n<!--EndFragment-->\r\n</body>\r\n</html>","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1007940674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1007945184","html_url":"https://github.com/apache/thrift/pull/2500#issuecomment-1007945184","issue_url":"https://api.github.com/repos/apache/thrift/issues/2500","id":1007945184,"node_id":"IC_kwDOAAS9U848FAXg","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-08T10:15:40Z","updated_at":"2022-01-08T10:15:40Z","author_association":"MEMBER","body":"Quick question regarding 0.16.0: Wait for this to complete?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1007945184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008086248","html_url":"https://github.com/apache/thrift/pull/2500#issuecomment-1008086248","issue_url":"https://api.github.com/repos/apache/thrift/issues/2500","id":1008086248,"node_id":"IC_kwDOAAS9U848Fizo","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-08T18:11:15Z","updated_at":"2022-01-08T18:11:15Z","author_association":"MEMBER","body":"> Quick question regarding 0.16.0: Wait for this to complete?\r\n\r\n@Jens-G yes please. ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008086248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008092740","html_url":"https://github.com/apache/thrift/pull/2500#issuecomment-1008092740","issue_url":"https://api.github.com/repos/apache/thrift/issues/2500","id":1008092740,"node_id":"IC_kwDOAAS9U848FkZE","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-08T18:24:28Z","updated_at":"2022-01-08T18:24:28Z","author_association":"MEMBER","body":"> only atomic.CompareAndSwapInt32 is atomic, first load and later store is not\r\n\r\nwhile technically that's correct, that doesn't matter here.\r\n\r\nthe problem we are solving is that inside `TSocket.Close` and `TSSLSocket.Close`, we call underlying socket's close, and set the underlying socket to nil. The race condition is about two goroutines setting the socket to nil concurrently, not about the socket's Close being called concurrently, as that's already supported by the stdlib.\r\n\r\nso the fix here is that we use atomic int being set to non-zero to replace the old socket is nil check, and eliminate the race condition.\r\n\r\nso we can still get into the situation that two goroutines call `Close` concurrently, they both pass the `isValid` check, and get to the point of setting the atomic int to 1. this is still fine because two goroutines calling store is fine (the winner change it from 0 to 1 and the loser doesn't really make any changes), and then they will both call the underlying Close and that's still fine (the winner will close the socket and return nil error, the loser will get an already closed error).\r\n\r\nwe can change it to compare and swap here, and return the already closed error here directly (like in the failed `isValid` check case), but the already closed error returned by the underlying Close function contains extra info about the connection itself, which is slightly better than the \"naked\" error we are returning here.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008092740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008118138","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1008118138","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1008118138,"node_id":"IC_kwDOAAS9U848Fql6","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-08T19:30:33Z","updated_at":"2022-01-08T19:30:33Z","author_association":"MEMBER","body":"actually we already have race detector enabled on travis and it's falling (https://app.travis-ci.com/github/apache/thrift/jobs/554765808):\r\n\r\n```\r\nmake[4]: Entering directory '/thrift/src/lib/go'\r\n/usr/local/bin/go test -mod=mod -race ./thrift\r\n==================\r\nWARNING: DATA RACE\r\nRead at 0x00c000509580 by goroutine 92:\r\n  github.com/apache/thrift/lib/go/thrift.(*TSocket).Close()\r\n      /thrift/src/lib/go/thrift/socket.go:198 +0x32\r\n  github.com/apache/thrift/lib/go/thrift.(*TSimpleServer).processRequests·dwrap·15()\r\n      /thrift/src/lib/go/thrift/simple_server.go:307 +0x48\r\n  github.com/apache/thrift/lib/go/thrift.(*TSimpleServer).processRequests()\r\n      /thrift/src/lib/go/thrift/simple_server.go:349 +0x8ce\r\n  github.com/apache/thrift/lib/go/thrift.(*TSimpleServer).innerAccept.func1()\r\n      /thrift/src/lib/go/thrift/simple_server.go:203 +0x108\r\nPrevious write at 0x00c000509580 by goroutine 130:\r\n  github.com/apache/thrift/lib/go/thrift.(*TSocket).Close()\r\n      /thrift/src/lib/go/thrift/socket.go:203 +0x79\r\n  github.com/apache/thrift/lib/go/thrift.(*TSimpleServer).innerAccept.func2()\r\n      /thrift/src/lib/go/thrift/simple_server.go:215 +0x1a1\r\nGoroutine 92 (running) created at:\r\n  github.com/apache/thrift/lib/go/thrift.(*TSimpleServer).innerAccept()\r\n      /thrift/src/lib/go/thrift/simple_server.go:200 +0x296\r\n  github.com/apache/thrift/lib/go/thrift.(*TSimpleServer).AcceptLoop()\r\n      /thrift/src/lib/go/thrift/simple_server.go:224 +0xee\r\n  github.com/apache/thrift/lib/go/thrift.(*TSimpleServer).Serve()\r\n      /thrift/src/lib/go/thrift/simple_server.go:241 +0xbd\r\n  github.com/apache/thrift/lib/go/thrift.TestNoHangDuringStopFromClientNoDataSendDuringAcceptLoop·dwrap·31()\r\n      /thrift/src/lib/go/thrift/simple_server_test.go:191 +0x39\r\nGoroutine 130 (finished) created at:\r\n  github.com/apache/thrift/lib/go/thrift.(*TSimpleServer).innerAccept()\r\n      /thrift/src/lib/go/thrift/simple_server.go:208 +0x396\r\n  github.com/apache/thrift/lib/go/thrift.(*TSimpleServer).AcceptLoop()\r\n      /thrift/src/lib/go/thrift/simple_server.go:224 +0xee\r\n  github.com/apache/thrift/lib/go/thrift.(*TSimpleServer).Serve()\r\n      /thrift/src/lib/go/thrift/simple_server.go:241 +0xbd\r\n  github.com/apache/thrift/lib/go/thrift.TestNoHangDuringStopFromClientNoDataSendDuringAcceptLoop·dwrap·31()\r\n      /thrift/src/lib/go/thrift/simple_server_test.go:191 +0x39\r\n==================\r\n--- FAIL: TestNoHangDuringStopFromClientNoDataSendDuringAcceptLoop (0.02s)\r\n    testing.go:1152: race detected during execution of test\r\nFAIL\r\nFAIL\tgithub.com/apache/thrift/lib/go/thrift\t2.081s\r\nFAIL\r\n```","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008118138/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008118535","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1008118535","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1008118535,"node_id":"IC_kwDOAAS9U848FqsH","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-08T19:31:26Z","updated_at":"2022-01-08T19:31:26Z","author_association":"MEMBER","body":"also cc @Jens-G we should also wait for this one for 0.16.0, but this one is already pretty close :)","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008118535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008243233","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1008243233","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1008243233,"node_id":"IC_kwDOAAS9U848GJIh","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-09T07:10:59Z","updated_at":"2022-01-09T07:10:59Z","author_association":"MEMBER","body":"@buptubuntu now that #2500 is merged, please rebase this branch on top of the latest master so that it can pass the test with race detector on travis.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008243233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008270535","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1008270535","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1008270535,"node_id":"IC_kwDOAAS9U848GPzH","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-09T10:26:21Z","updated_at":"2022-01-09T10:26:21Z","author_association":"CONTRIBUTOR","body":"> @buptubuntu now that #2500 is merged, please rebase this branch on top of the latest master so that it can pass the test with race detector on travis.\r\n\r\nOK","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008270535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008343546","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1008343546","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1008343546,"node_id":"IC_kwDOAAS9U848Ghn6","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-09T17:46:29Z","updated_at":"2022-01-09T17:47:34Z","author_association":"MEMBER","body":"hmm, this test failed on travis:\r\n\r\n```\r\nMaking check in go\r\nmake[2]: Entering directory '/thrift/src/test/go'\r\nMakefile:657: warning: overriding recipe for target 'check'\r\nMakefile:506: warning: ignoring old recipe for target 'check'\r\ngrep -v list.*map.*list.*map ../../test/ThriftTest.thrift > ThriftTest.thrift\r\nmkdir -p src/gen\r\n/thrift/src/compiler/cpp/thrift -out src/gen --gen go:thrift_import=github.com/apache/thrift/lib/go/thrift,package_prefix=github.com/apache/thrift/test/go/src/gen/ ThriftTest.thrift\r\n[WARNING:/thrift/src/test/go/ThriftTest.thrift:43] No generator named 'noexist' could be found!\r\n[WARNING:/thrift/src/test/go/ThriftTest.thrift:45] cpp generator does not accept 'noexist' as sub-namespace!\r\n/thrift/src/compiler/cpp/thrift -out src/gen --gen go:thrift_import=github.com/apache/thrift/lib/go/thrift,package_prefix=github.com/apache/thrift/test/go/src/gen/ ../StressTest.thrift\r\n[WARNING:/thrift/src/test/StressTest.thrift:31] Consider using the more efficient \"binary\" type instead of \"list<byte>\".\r\n[WARNING:/thrift/src/test/StressTest.thrift:31] Consider using the more efficient \"binary\" type instead of \"list<byte>\".\r\ntouch gopath\r\nsh genmock.sh\r\ngo: downloading github.com/golang/mock v1.5.0\r\ngo: downloading golang.org/x/mod v0.3.0\r\ngo: downloading golang.org/x/tools v0.0.0-20191119224855-298f0cb1881e\r\ngo: downloading golang.org/x/xerrors v0.0.0-20191011141410-1b5146add898\r\n/usr/local/bin/go test -mod=mod -v ./src/common/...\r\n=== RUN   TestAllConnection\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x6cc5da]\r\ngoroutine 9 [running]:\r\ngithub.com/apache/thrift/lib/go/thrift.(*TSimpleServer).innerAccept.func1()\r\n\t/thrift/src/lib/go/thrift/simple_server.go:205 +0xba\r\ncreated by github.com/apache/thrift/lib/go/thrift.(*TSimpleServer).innerAccept\r\n\t/thrift/src/lib/go/thrift/simple_server.go:201 +0x1c8\r\nFAIL\tgithub.com/apache/thrift/test/go/src/common\t0.015s\r\nFAIL\r\nMakefile:657: recipe for target 'check' failed\r\nmake[2]: *** [check] Error 1\r\nmake[2]: Leaving directory '/thrift/src/test/go'\r\n```\r\n\r\nbut I cannot reproduce it locally and it doesn't make sense to me","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008343546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008344688","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1008344688","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1008344688,"node_id":"IC_kwDOAAS9U848Gh5w","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-09T17:53:15Z","updated_at":"2022-01-09T17:54:02Z","author_association":"MEMBER","body":"Oh I think I know why (~but I wonder why did this not fail before~ it didn't fail before because we never called `TSimpleServer.logger` in that test before)\r\n\r\n@buptubuntu please apply this diff to the PR:\r\n\r\n```diff\r\ndiff --git a/test/go/src/common/clientserver_test.go b/test/go/src/common/clientserver_test.go\r\nindex 609086bad..64b326a81 100644\r\n--- a/test/go/src/common/clientserver_test.go\r\n+++ b/test/go/src/common/clientserver_test.go\r\n@@ -75,7 +75,7 @@ func doUnit(t *testing.T, unit *test_unit) {\r\n                t.Errorf(\"Unable to start server: %v\", err)\r\n                return\r\n        }\r\n-       go server.AcceptLoop()\r\n+       go server.Serve()\r\n        defer server.Stop()\r\n        client, trans, err := StartClient(unit.host, unit.port, unit.domain_socket, unit.transport, unit.protocol, unit.ssl)\r\n        if err != nil {\r\n```","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008344688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008452186","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1008452186","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1008452186,"node_id":"IC_kwDOAAS9U848G8Ja","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T00:08:00Z","updated_at":"2022-01-10T00:08:00Z","author_association":"CONTRIBUTOR","body":"> Oh I think I know why (~but I wonder why did this not fail before~ it didn't fail before because we never called `TSimpleServer.logger` in that test before)\r\n> \r\n> @buptubuntu please apply this diff to the PR:\r\n> \r\n> ```diff\r\n> diff --git a/test/go/src/common/clientserver_test.go b/test/go/src/common/clientserver_test.go\r\n> index 609086bad..64b326a81 100644\r\n> --- a/test/go/src/common/clientserver_test.go\r\n> +++ b/test/go/src/common/clientserver_test.go\r\n> @@ -75,7 +75,7 @@ func doUnit(t *testing.T, unit *test_unit) {\r\n>                 t.Errorf(\"Unable to start server: %v\", err)\r\n>                 return\r\n>         }\r\n> -       go server.AcceptLoop()\r\n> +       go server.Serve()\r\n>         defer server.Stop()\r\n>         client, trans, err := StartClient(unit.host, unit.port, unit.domain_socket, unit.transport, unit.protocol, unit.ssl)\r\n>         if err != nil {\r\n> ```\r\n\r\nok，later today","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008452186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008522854","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1008522854","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1008522854,"node_id":"IC_kwDOAAS9U848HNZm","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T03:58:14Z","updated_at":"2022-01-10T03:58:14Z","author_association":"CONTRIBUTOR","body":"> ```diff\r\n> Serve\r\n> ```\r\n\r\ndone","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1008522854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1010386418","html_url":"https://github.com/apache/thrift/pull/2503#issuecomment-1010386418","issue_url":"https://api.github.com/repos/apache/thrift/issues/2503","id":1010386418,"node_id":"IC_kwDOAAS9U848OUXy","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T21:44:19Z","updated_at":"2022-01-11T21:44:19Z","author_association":"MEMBER","body":"The 2 unusual travis failures don't seem related. merging.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1010386418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1010461405","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1010461405","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1010461405,"node_id":"IC_kwDOAAS9U848Omrd","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T23:32:19Z","updated_at":"2022-01-11T23:32:19Z","author_association":"MEMBER","body":"@dcelasun what do you think? I'm ok to merge this in as-is in its current state.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1010461405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1010843063","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1010843063","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1010843063,"node_id":"IC_kwDOAAS9U848QD23","user":{"login":"dcelasun","id":144373,"node_id":"MDQ6VXNlcjE0NDM3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/144373?v=4","gravatar_id":"","url":"https://api.github.com/users/dcelasun","html_url":"https://github.com/dcelasun","followers_url":"https://api.github.com/users/dcelasun/followers","following_url":"https://api.github.com/users/dcelasun/following{/other_user}","gists_url":"https://api.github.com/users/dcelasun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcelasun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcelasun/subscriptions","organizations_url":"https://api.github.com/users/dcelasun/orgs","repos_url":"https://api.github.com/users/dcelasun/repos","events_url":"https://api.github.com/users/dcelasun/events{/privacy}","received_events_url":"https://api.github.com/users/dcelasun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-12T09:41:44Z","updated_at":"2022-01-12T09:41:44Z","author_association":"MEMBER","body":"Yeah, LGTM as well.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1010843063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011213651","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1011213651","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1011213651,"node_id":"IC_kwDOAAS9U848ReVT","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-12T16:14:13Z","updated_at":"2022-01-12T16:14:13Z","author_association":"CONTRIBUTOR","body":"> Wait. Sorry I just realized that just closing all clients during `TSimpleServer.Stop` would be a behavior change and make things worse.\r\n> \r\n> In the current code, when `TSimpleServer.Stop` is called, it's a graceful shutdown: it makes `TSimpleServer` to stop accepting new connections (via the atomic int and `Interrupt` call), but it still waits for any request that's currently handling to finish. And letting any request that's currently handling to finish is an important part of graceful shutdown.\r\n> \r\n> Now we just close all the connections (this is true with either the goroutine approach or original map approach), which will cause any currently handling connection to be closed abruptly. from client's pov, they will not receive the full response for this request (it could be either they haven't received any response at all, or they received half of the response then the unexpected EOF happens), and this will cause those requests to fail (because we didn't let them to finish).\r\n> \r\n> So when any server upgrade to this version, this will increase their error rate whenever autoscaling is scaling down. This is a worse scenario than graceful shutdown just timeouts (kubernnetes has a timeout to wait for graceful shutdown, so in current version as long as the server can finish all the pending requests in that time they won't fail any requests just because of a shutdown happens).\r\n> \r\n> I don't know what's the best way to fix that. Maybe add a setting to `TSimpleServer` to sleep for a period of time before trying to abruptly close all connections is a ok short term solution. for long term we might need to make some breaking changes to `TProtocol`/`TTransport` to add the graceful shutdown semantic to them.\r\n> \r\n> @dcelasun your thoughts?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011213651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011215975","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1011215975","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1011215975,"node_id":"IC_kwDOAAS9U848Re5n","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-12T16:16:38Z","updated_at":"2022-01-12T16:16:38Z","author_association":"CONTRIBUTOR","body":"sorry, wrong operation","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011215975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011216063","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1011216063","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1011216063,"node_id":"IC_kwDOAAS9U848Re6_","user":{"login":"dcelasun","id":144373,"node_id":"MDQ6VXNlcjE0NDM3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/144373?v=4","gravatar_id":"","url":"https://api.github.com/users/dcelasun","html_url":"https://github.com/dcelasun","followers_url":"https://api.github.com/users/dcelasun/followers","following_url":"https://api.github.com/users/dcelasun/following{/other_user}","gists_url":"https://api.github.com/users/dcelasun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcelasun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcelasun/subscriptions","organizations_url":"https://api.github.com/users/dcelasun/orgs","repos_url":"https://api.github.com/users/dcelasun/repos","events_url":"https://api.github.com/users/dcelasun/events{/privacy}","received_events_url":"https://api.github.com/users/dcelasun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-12T16:16:42Z","updated_at":"2022-01-12T16:16:42Z","author_association":"MEMBER","body":"> Maybe add a setting to TSimpleServer to sleep for a period of time before trying to abruptly close all connections is a ok short term solution. for long term we might need to make some breaking changes to TProtocol/TTransport to add the graceful shutdown semantic to them.\r\n\r\nThe former sounds like the better option. Breaking those interfaces wouldn't really be worth it I think.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011216063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011220542","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1011220542","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1011220542,"node_id":"IC_kwDOAAS9U848RgA-","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-12T16:20:50Z","updated_at":"2022-01-12T16:25:13Z","author_association":"CONTRIBUTOR","body":"> I don't know what's the best way to fix that. Maybe add a setting to `TSimpleServer` to sleep for a period of time before trying to abruptly close all connections is a ok short term solution. for long term we might need to make some breaking changes to `TProtocol`/`TTransport` to add the graceful shutdown semantic to them.\r\n\r\nthe key is to prevent the server to hang for too long or hang for ever，because that will block in some pipeline inside a process.As the listener is closed, new client can not connect to ther server(imaging a standalone application), if hang for too long to wait for the server to shutdown and restart, it maybe worse\r\n\r\ni think the former is a better choice","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011220542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011599861","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1011599861","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1011599861,"node_id":"IC_kwDOAAS9U848S8n1","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-13T00:51:09Z","updated_at":"2022-01-13T00:55:15Z","author_association":"CONTRIBUTOR","body":"> > I don't know what's the best way to fix that. Maybe add a setting to `TSimpleServer` to sleep for a period of time before trying to abruptly close all connections is a ok short term solution. for long term we might need to make some breaking changes to `TProtocol`/`TTransport` to add the graceful shutdown semantic to them.\r\n> \r\n> the key is to prevent the server to hang for too long or hang for ever，because that will block in some pipeline inside a process.As the listener is closed, new client can not connect to ther server(imaging a standal\r\n\r\n> \r\n\r\nfor the error rate, from the server's pov，the client may also close abruptly to cause server error.\r\n\r\nMaybe we can add func called **CloseImmediatly** for user to choose","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011599861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011620472","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1011620472","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1011620472,"node_id":"IC_kwDOAAS9U848TBp4","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-13T01:12:45Z","updated_at":"2022-01-13T01:12:45Z","author_association":"MEMBER","body":">for the error rate, from the server's pov，the client may also close abruptly to cause server error.\r\n\r\nThat's much less important for the majority of servers and that's already supported by connectivity check: https://github.com/apache/thrift/blob/master/lib/go/README.md#a-note-about-server-handler-implementations\r\n\r\nI don't know what's your production setup. For a typical stateless thrift server running on kubernetes, each individual servers (pods in kubernetes teminology) are running behind a shared \"service\" that's acting as load balancer. clients talks to this service instead of individual pods, and the service will choose a pod to connect the client to. When a pod is shutting down, the service will no longer assign any new clients to it, but will use other pods to handle those requests. The pods are also usually on horizontal auto scaler (hpa) that auto scales up and down based on the traffic.\r\n\r\nIn majority of the cases, there are only two scenarios a pod would be shutdown (this is where `TSimpleServer.Stop` is called):\r\n\r\n1. the hpa decides to scale down (for example, you are moving away from peak business hours), so it reduce the number of pods (choose some pods to shut them down).\r\n2. you are doing a rolling release, so the pods are being replaced.\r\n\r\nIn either case, graceful shutdown makes sure that no requests gets interrupted by the graceful shutdown, which is commonly referred to as \"zero downtime\". When kubernetes decides to kill a pod (in either case), it first sends a shutdown signal to your running process, then wait for shutdown timeout. Your code handles the signal, and call `TSimpleServer.Stop` as a result of that, and wait for the shutdown/cleanup to complete. The only downtime (failed requests) are caused by it takes longer than the shutdown timeout to finish (if the process does not stop after the shutdown timeout, kubernetes controller will just kill the process forcefully).","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011620472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011667797","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1011667797","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1011667797,"node_id":"IC_kwDOAAS9U848TNNV","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-13T02:01:09Z","updated_at":"2022-01-13T02:01:09Z","author_association":"CONTRIBUTOR","body":"> > for the error rate, from the server's pov，the client may also close abruptly to cause server error.\r\n> \r\n> That's much less important for the majority of servers and that's already supported by connectivity check: https://github.com/apache/thrift/blob/master/lib/go/README.md#a-note-about-server-handler-implementations\r\n> \r\n> I don't know what's your production setup. For a typical stateless thrift server running on kubernetes, each individual servers (pods in kubernetes teminology) are running behind a shared \"service\" that's acting as load balancer. clients talks to this service instead of individual pods, and the service will choose a pod to connect the client to. When a pod is shutting down, the service will no longer assign any new clients to it, but will use other pods to handle those requests. The pods are also usually on horizontal auto scaler (hpa) that auto scales up and down based on the traffic.\r\n> \r\n> In majority of the cases, there are only two scenarios a pod would be shutdown (this is where `TSimpleServer.Stop` is called):\r\n> \r\n> 1. the hpa decides to scale down (for example, you are moving away from peak business hours), so it reduce the number of pods (choose some pods to shut them down).\r\n> 2. you are doing a rolling release, so the pods are being replaced.\r\n> \r\n> In either case, graceful shutdown makes sure that no requests gets interrupted by the graceful shutdown, which is commonly referred to as \"zero downtime\". When kubernetes decides to kill a pod (in either case), it first sends a shutdown signal to your running process, then wait for shutdown timeout. Your code handles the signal, and call `TSimpleServer.Stop` as a result of that, and wait for the shutdown/cleanup to complete. The only downtime (failed requests) are caused by it takes longer than the shutdown timeout to finish (if the process does not stop after the shutdown timeout, kubernetes controller will just kill the process forcefully).\r\n\r\nOur application will receive config from a config server to stop the thrift server and setup    some other components instead without kill the process","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1011667797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1012672576","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1012672576","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1012672576,"node_id":"IC_kwDOAAS9U848XChA","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-14T01:41:18Z","updated_at":"2022-01-14T01:41:18Z","author_association":"CONTRIBUTOR","body":"> > for the error rate, from the server's pov，the client may also close abruptly to cause server error.\r\n> \r\n> That's much less important for the majority of servers and that's already supported by connectivity check: https://github.com/apache/thrift/blob/master/lib/go/README.md#a-note-about-server-handler-implementations\r\n> \r\n> I don't know what's your production setup. For a typical stateless thrift server running on kubernetes, each individual servers (pods in kubernetes teminology) are running behind a shared \"service\" that's acting as load balancer. clients talks to this service instead of individual pods, and the service will choose a pod to connect the client to. When a pod is shutting down, the service will no longer assign any new clients to it, but will use other pods to handle those requests. The pods are also usually on horizontal auto scaler (hpa) that auto scales up and down based on the traffic.\r\n> \r\n> In majority of the cases, there are only two scenarios a pod would be shutdown (this is where `TSimpleServer.Stop` is called):\r\n> \r\n> 1. the hpa decides to scale down (for example, you are moving away from peak business hours), so it reduce the number of pods (choose some pods to shut them down).\r\n> 2. you are doing a rolling release, so the pods are being replaced.\r\n> \r\n> In either case, graceful shutdown makes sure that no requests gets interrupted by the graceful shutdown, which is commonly referred to as \"zero downtime\". When kubernetes decides to kill a pod (in either case), it first sends a shutdown signal to your running process, then wait for shutdown timeout. Your code handles the signal, and call `TSimpleServer.Stop` as a result of that, and wait for the shutdown/cleanup to complete. The only downtime (failed requests) are caused by it takes longer than the shutdown timeout to finish (if the process does not stop after the shutdown timeout, kubernetes controller will just kill the process forcefully).\r\n\r\nIn fact，that just let the k8s handle the hang problem，but not dealed in thrift.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1012672576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1012701426","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1012701426","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1012701426,"node_id":"IC_kwDOAAS9U848XJjy","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-14T02:49:35Z","updated_at":"2022-01-14T02:49:35Z","author_association":"MEMBER","body":">In fact，that just let the k8s handle the hang problem，but not dealed in thrift.\r\n\r\nYes, that's what we are trying to fix here. I'm just trying to explain to you why abruptly closing all connections from the server could be worse than the hang problem.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1012701426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1013679094","html_url":"https://github.com/apache/thrift/pull/2502#issuecomment-1013679094","issue_url":"https://api.github.com/repos/apache/thrift/issues/2502","id":1013679094,"node_id":"IC_kwDOAAS9U848a4P2","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-15T13:04:33Z","updated_at":"2022-01-15T13:04:33Z","author_association":"MEMBER","body":"Overall it looks good, thanks for the patch!","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1013679094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1013800219","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1013800219","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1013800219,"node_id":"IC_kwDOAAS9U848bV0b","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-16T02:58:33Z","updated_at":"2022-01-16T02:58:33Z","author_association":"CONTRIBUTOR","body":"> explain\r\n\r\nYeah，I think there are generally two solutions:\r\n1> add a func called: **CloseImmediatly**，it will close all clients, that will cause client err， but it is a seperate func, and user can choose.\r\n2> add a var called **ServerCloseTimeout** like the ServerConnectivityCheckInterval，and its default value is 0，means that the server will wait all client closed even the underlying net.Conn is hanged; or if user set ServerCloseTimeout positive, the server will wait for a while before close all the clients\r\n\r\nWhich one do you think is a better choice?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1013800219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1013801965","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1013801965","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1013801965,"node_id":"IC_kwDOAAS9U848bWPt","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-16T03:14:30Z","updated_at":"2022-01-16T03:14:30Z","author_association":"CONTRIBUTOR","body":"> Yes, that's what we are trying to fix here. I'm just trying to explain to you why abruptly closing all connections from the server could be worse than the hang problem.\r\n\r\nIf the hang problem is worse than abruptly closing is not absolute，it depend on user， maybe user want a quick restart more than zero error even in k8s.\r\n\r\nAs for our situation, hang is absolutely worse than abruptly closing.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1013801965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014792327","html_url":"https://github.com/apache/thrift/pull/2505#issuecomment-1014792327","issue_url":"https://api.github.com/repos/apache/thrift/issues/2505","id":1014792327,"node_id":"IC_kwDOAAS9U848fICH","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-17T18:14:12Z","updated_at":"2022-01-17T18:14:12Z","author_association":"MEMBER","body":"The build fails in the CI but that is exclusively related to a gradle error `Could not resolve all artifacts for configuration ':classpath'`. It works for me locally.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014792327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014914782","html_url":"https://github.com/apache/thrift/pull/2506#issuecomment-1014914782","issue_url":"https://api.github.com/repos/apache/thrift/issues/2506","id":1014914782,"node_id":"IC_kwDOAAS9U848fl7e","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-17T22:02:22Z","updated_at":"2022-01-17T22:02:22Z","author_association":"MEMBER","body":"This fixes the majority of build errors. The remaining build errors are unrelated. Merging.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014914782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014915510","html_url":"https://github.com/apache/thrift/pull/2505#issuecomment-1014915510","issue_url":"https://api.github.com/repos/apache/thrift/issues/2505","id":1014915510,"node_id":"IC_kwDOAAS9U848fmG2","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-17T22:03:50Z","updated_at":"2022-01-17T22:03:50Z","author_association":"MEMBER","body":"@dsandbrink could you kindly rebase on latest master and do a forced push of your PR? I've fixed the build and it should now mostly work. The errors before are most likely unrelated to your change, but I'd like to see more green lights if possible...","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014915510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014916096","html_url":"https://github.com/apache/thrift/pull/2504#issuecomment-1014916096","issue_url":"https://api.github.com/repos/apache/thrift/issues/2504","id":1014916096,"node_id":"IC_kwDOAAS9U848fmQA","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-17T22:05:04Z","updated_at":"2022-01-17T22:05:04Z","author_association":"MEMBER","body":"@dsandbrink could you kindly rebase on latest master and do a forced push of your PR? I've fixed the build and it should now mostly work. The errors before are most likely unrelated to your change, but I'd like to see more green lights if possible...","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014916096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014925666","html_url":"https://github.com/apache/thrift/pull/2504#issuecomment-1014925666","issue_url":"https://api.github.com/repos/apache/thrift/issues/2504","id":1014925666,"node_id":"IC_kwDOAAS9U848foli","user":{"login":"dsandbrink","id":1469966,"node_id":"MDQ6VXNlcjE0Njk5NjY=","avatar_url":"https://avatars.githubusercontent.com/u/1469966?v=4","gravatar_id":"","url":"https://api.github.com/users/dsandbrink","html_url":"https://github.com/dsandbrink","followers_url":"https://api.github.com/users/dsandbrink/followers","following_url":"https://api.github.com/users/dsandbrink/following{/other_user}","gists_url":"https://api.github.com/users/dsandbrink/gists{/gist_id}","starred_url":"https://api.github.com/users/dsandbrink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsandbrink/subscriptions","organizations_url":"https://api.github.com/users/dsandbrink/orgs","repos_url":"https://api.github.com/users/dsandbrink/repos","events_url":"https://api.github.com/users/dsandbrink/events{/privacy}","received_events_url":"https://api.github.com/users/dsandbrink/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-17T22:26:22Z","updated_at":"2022-01-17T22:26:22Z","author_association":"CONTRIBUTOR","body":"> @dsandbrink could you kindly rebase on latest master and do a forced push of your PR? I've fixed the build and it should now mostly work. The errors before are most likely unrelated to your change, but I'd like to see more green lights if possible...\r\n\r\nSure, I updated both PRs.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014925666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014956353","html_url":"https://github.com/apache/thrift/pull/2470#issuecomment-1014956353","issue_url":"https://api.github.com/repos/apache/thrift/issues/2470","id":1014956353,"node_id":"IC_kwDOAAS9U848fwFB","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-17T23:39:01Z","updated_at":"2022-01-17T23:39:01Z","author_association":"MEMBER","body":"Quick question. When is roughly 0.16.0 planned? I read https://github.com/apache/thrift#releases but seems like there's no specific release window.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1014956353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1015161540","html_url":"https://github.com/apache/thrift/pull/2504#issuecomment-1015161540","issue_url":"https://api.github.com/repos/apache/thrift/issues/2504","id":1015161540,"node_id":"IC_kwDOAAS9U848giLE","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-18T08:08:29Z","updated_at":"2022-01-18T08:08:29Z","author_association":"MEMBER","body":"Thanks for the nice PR. Merged.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1015161540/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1015162544","html_url":"https://github.com/apache/thrift/pull/2505#issuecomment-1015162544","issue_url":"https://api.github.com/repos/apache/thrift/issues/2505","id":1015162544,"node_id":"IC_kwDOAAS9U848giaw","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-18T08:09:54Z","updated_at":"2022-01-18T08:09:54Z","author_association":"MEMBER","body":"Looks good, the build error on Appveyor is unrelated (test timeout). Merged.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1015162544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1015849358","html_url":"https://github.com/apache/thrift/pull/2470#issuecomment-1015849358","issue_url":"https://api.github.com/repos/apache/thrift/issues/2470","id":1015849358,"node_id":"IC_kwDOAAS9U848jKGO","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-18T21:28:12Z","updated_at":"2022-01-18T21:28:12Z","author_association":"MEMBER","body":"Soon.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1015849358/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1017928122","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1017928122","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1017928122,"node_id":"IC_kwDOAAS9U848rFm6","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-20T21:06:54Z","updated_at":"2022-01-20T21:06:54Z","author_association":"MEMBER","body":"@buptubuntu could you please clarify whether you are working on the new approach(-es)?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1017928122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019415615","html_url":"https://github.com/apache/thrift/pull/2489#issuecomment-1019415615","issue_url":"https://api.github.com/repos/apache/thrift/issues/2489","id":1019415615,"node_id":"IC_kwDOAAS9U848www_","user":{"login":"kainjow","id":271035,"node_id":"MDQ6VXNlcjI3MTAzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/271035?v=4","gravatar_id":"","url":"https://api.github.com/users/kainjow","html_url":"https://github.com/kainjow","followers_url":"https://api.github.com/users/kainjow/followers","following_url":"https://api.github.com/users/kainjow/following{/other_user}","gists_url":"https://api.github.com/users/kainjow/gists{/gist_id}","starred_url":"https://api.github.com/users/kainjow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kainjow/subscriptions","organizations_url":"https://api.github.com/users/kainjow/orgs","repos_url":"https://api.github.com/users/kainjow/repos","events_url":"https://api.github.com/users/kainjow/events{/privacy}","received_events_url":"https://api.github.com/users/kainjow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-23T05:11:49Z","updated_at":"2022-01-23T05:11:49Z","author_association":"CONTRIBUTOR","body":"@fishy @alisaifee @Jens-G","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019415615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019416859","html_url":"https://github.com/apache/thrift/pull/2489#issuecomment-1019416859","issue_url":"https://api.github.com/repos/apache/thrift/issues/2489","id":1019416859,"node_id":"IC_kwDOAAS9U848wxEb","user":{"login":"kainjow","id":271035,"node_id":"MDQ6VXNlcjI3MTAzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/271035?v=4","gravatar_id":"","url":"https://api.github.com/users/kainjow","html_url":"https://github.com/kainjow","followers_url":"https://api.github.com/users/kainjow/followers","following_url":"https://api.github.com/users/kainjow/following{/other_user}","gists_url":"https://api.github.com/users/kainjow/gists{/gist_id}","starred_url":"https://api.github.com/users/kainjow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kainjow/subscriptions","organizations_url":"https://api.github.com/users/kainjow/orgs","repos_url":"https://api.github.com/users/kainjow/repos","events_url":"https://api.github.com/users/kainjow/events{/privacy}","received_events_url":"https://api.github.com/users/kainjow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-23T05:27:17Z","updated_at":"2022-01-23T05:27:17Z","author_association":"CONTRIBUTOR","body":"Technically this can work in older versions of Python with [enum34](https://pypi.org/project/enum34/).","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019416859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019429692","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1019429692","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1019429692,"node_id":"IC_kwDOAAS9U848w0M8","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-23T07:19:06Z","updated_at":"2022-01-23T07:19:37Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n\r\n> @buptubuntu could you please clarify whether you are working on the new approach(-es)?\r\n\r\nAs I mentioned above:\r\n\r\nYeah，I think there are generally two solutions:\r\n*  add a func called: CloseImmediatly，it will close all clients, that will cause client err， but it is a seperate func, and user can choose.\r\n* add a var called ServerCloseTimeout like the ServerConnectivityCheckInterval，and its default value is 0，means that the server will wait all client closed even the underlying net.Conn is hanged; or if user set ServerCloseTimeout positive, the server will wait for a while before close all the clients\r\n\r\n@fishy @dcelasun which one do you think is better","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019429692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019430016","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1019430016","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1019430016,"node_id":"IC_kwDOAAS9U848w0SA","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-23T07:22:26Z","updated_at":"2022-01-23T07:22:26Z","author_association":"MEMBER","body":"between the 2 I would certainly prefer the 2nd one. ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019430016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019430179","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1019430179","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1019430179,"node_id":"IC_kwDOAAS9U848w0Uj","user":{"login":"dcelasun","id":144373,"node_id":"MDQ6VXNlcjE0NDM3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/144373?v=4","gravatar_id":"","url":"https://api.github.com/users/dcelasun","html_url":"https://github.com/dcelasun","followers_url":"https://api.github.com/users/dcelasun/followers","following_url":"https://api.github.com/users/dcelasun/following{/other_user}","gists_url":"https://api.github.com/users/dcelasun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcelasun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcelasun/subscriptions","organizations_url":"https://api.github.com/users/dcelasun/orgs","repos_url":"https://api.github.com/users/dcelasun/repos","events_url":"https://api.github.com/users/dcelasun/events{/privacy}","received_events_url":"https://api.github.com/users/dcelasun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-23T07:24:24Z","updated_at":"2022-01-23T07:24:24Z","author_association":"MEMBER","body":"Likewise, the second one.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019430179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019515339","html_url":"https://github.com/apache/thrift/pull/2489#issuecomment-1019515339","issue_url":"https://api.github.com/repos/apache/thrift/issues/2489","id":1019515339,"node_id":"IC_kwDOAAS9U848xJHL","user":{"login":"kainjow","id":271035,"node_id":"MDQ6VXNlcjI3MTAzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/271035?v=4","gravatar_id":"","url":"https://api.github.com/users/kainjow","html_url":"https://github.com/kainjow","followers_url":"https://api.github.com/users/kainjow/followers","following_url":"https://api.github.com/users/kainjow/following{/other_user}","gists_url":"https://api.github.com/users/kainjow/gists{/gist_id}","starred_url":"https://api.github.com/users/kainjow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kainjow/subscriptions","organizations_url":"https://api.github.com/users/kainjow/orgs","repos_url":"https://api.github.com/users/kainjow/repos","events_url":"https://api.github.com/users/kainjow/events{/privacy}","received_events_url":"https://api.github.com/users/kainjow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-23T16:05:17Z","updated_at":"2022-01-23T16:05:17Z","author_association":"CONTRIBUTOR","body":"A few failures, but seems like flaky tests. I spotted this in 2 runs:\r\n```\r\nTesting script: /usr/bin/python /thrift/src/test/py/FastbinaryTest.py\r\n----\r\nTraceback (most recent call last):\r\n  File \"/thrift/src/test/py/FastbinaryTest.py\", line 42, in <module>\r\n    from DebugProtoTest import Srv\r\nImportError: No module named DebugProtoTest\r\n*** FAILED ***\r\nLIBDIR: /thrift/src/lib/py/build/lib.linux-x86_64-2.7\r\nPY_GEN: gen-py-enum\r\nSCRIPT: FastbinaryTest.py\r\nTraceback (most recent call last):\r\n  File \"./RunClientServer.py\", line 323, in <module>\r\n    sys.exit(main())\r\n  File \"./RunClientServer.py\", line 302, in main\r\n    runScriptTest(options.libdir, options.gen_base, genpydir, script)\r\n  File \"./RunClientServer.py\", line 103, in runScriptTest\r\n    raise Exception(\"Script subprocess failed, retcode=%d, args: %s\" % (ret, ' '.join(script_args)))\r\nException: Script subprocess failed, retcode=1, args: /usr/bin/python /thrift/src/test/py/FastbinaryTest.py\r\n^[[0;31mFAIL^[[m: RunClientServer.py\r\n^[[0;31m==================^[[m\r\n^[[0;31m1 of 1 test failed^[[m\r\n^[[0;31m==================^[[m\r\nMakefile:532: recipe for target 'check-TESTS' failed\r\nmake[4]: *** [check-TESTS] Error 1\r\nmake[4]: Leaving directory '/thrift/src/test/py'\r\nMakefile:658: recipe for target 'check-am' failed\r\nmake[3]: *** [check-am] Error 2\r\nmake[3]: Leaving directory '/thrift/src/test/py'\r\nMakefile:661: recipe for target 'check' failed\r\nmake[2]: *** [check] Error 2\r\nmake[2]: Leaving directory '/thrift/src/test/py'\r\nMakefile:622: recipe for target 'check-recursive' failed\r\nmake[1]: *** [check-recursive] Error 1\r\nmake[1]: Leaving directory '/thrift/src/test'\r\nMakefile:680: recipe for target 'check-recursive' failed\r\nmake: *** [check-recursive] Error 1\r\ntravis_time:end:05c23b76:start=1642914601939318320,finish=1642916011287231557,duration=1409347913237,event=script\r\n^[[0K^[[31;1mThe command \"build/docker/run.sh\" exited with 2.^[[0m\r\n\r\n\r\nDone. Your build exited with 1.\r\n```\r\nand did hit this locally. I'd have to run the test command twice for it to pass. I think there's some CMake dependency issue. Can continue to look at it for a future PR.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019515339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019653072","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1019653072","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1019653072,"node_id":"IC_kwDOAAS9U848xqvQ","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-24T02:20:53Z","updated_at":"2022-01-24T02:20:53Z","author_association":"CONTRIBUTOR","body":"The CI seems fail on cpp test, does that matter? @fishy @dcelasun ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019653072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019832013","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1019832013","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1019832013,"node_id":"IC_kwDOAAS9U848yWbN","user":{"login":"dcelasun","id":144373,"node_id":"MDQ6VXNlcjE0NDM3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/144373?v=4","gravatar_id":"","url":"https://api.github.com/users/dcelasun","html_url":"https://github.com/dcelasun","followers_url":"https://api.github.com/users/dcelasun/followers","following_url":"https://api.github.com/users/dcelasun/following{/other_user}","gists_url":"https://api.github.com/users/dcelasun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcelasun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcelasun/subscriptions","organizations_url":"https://api.github.com/users/dcelasun/orgs","repos_url":"https://api.github.com/users/dcelasun/repos","events_url":"https://api.github.com/users/dcelasun/events{/privacy}","received_events_url":"https://api.github.com/users/dcelasun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-24T08:21:01Z","updated_at":"2022-01-24T08:21:01Z","author_association":"MEMBER","body":"There are some unstable tests. As long as Go tests pass, it's fine.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1019832013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1021495638","html_url":"https://github.com/apache/thrift/pull/2489#issuecomment-1021495638","issue_url":"https://api.github.com/repos/apache/thrift/issues/2489","id":1021495638,"node_id":"IC_kwDOAAS9U8484slW","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-25T18:42:25Z","updated_at":"2022-01-25T18:42:25Z","author_association":"MEMBER","body":"I do not have enough experience messing with the python compiler 😅 \r\n\r\nWe do have plan to drop support for python 2, or python3 before 3.4 (as they are all EOL now), so if we do this after that we don't really have to do any special handling and can just support it blindly. but doing it now means that we still need to handle the case of <3.4 that `IntEnum` is not available?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1021495638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1021641037","html_url":"https://github.com/apache/thrift/pull/2489#issuecomment-1021641037","issue_url":"https://api.github.com/repos/apache/thrift/issues/2489","id":1021641037,"node_id":"IC_kwDOAAS9U8485QFN","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-25T21:48:41Z","updated_at":"2022-01-25T21:48:41Z","author_association":"MEMBER","body":"I'm pretty sure these 2 travis failures do not show before this pr:\r\n* https://app.travis-ci.com/github/apache/thrift/jobs/556647214\r\n* https://app.travis-ci.com/github/apache/thrift/jobs/556647215","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1021641037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1022642261","html_url":"https://github.com/apache/thrift/pull/2508#issuecomment-1022642261","issue_url":"https://api.github.com/repos/apache/thrift/issues/2508","id":1022642261,"node_id":"IC_kwDOAAS9U8489EhV","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-26T22:00:57Z","updated_at":"2022-01-26T22:00:57Z","author_association":"MEMBER","body":"Confirmed that it passes the Java test (but if fails on `CTest`) later: https://app.travis-ci.com/github/apache/thrift/jobs/557145782","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1022642261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1022937038","html_url":"https://github.com/apache/thrift/pull/2508#issuecomment-1022937038","issue_url":"https://api.github.com/repos/apache/thrift/issues/2508","id":1022937038,"node_id":"IC_kwDOAAS9U848-MfO","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T07:51:31Z","updated_at":"2022-01-27T07:51:31Z","author_association":"MEMBER","body":"   Compiling num-traits v0.2.14\r\n    Checking num_cpus v1.13.1\r\n    Checking threadpool v1.8.1\r\n    Checking ordered-float v1.1.1\r\n    Checking thrift v0.17.0 (/thrift/src/lib/rs)\r\nerror: unnecessary parentheses around `if` condition\r\n  --> src/protocol/binary.rs:87:12\r\n   |\r\n87 |         if ((first_bytes[0] & 0x80) != 0) {\r\n   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove these parentheses\r\n   |\r\n   = note: `-D unused-parens` implied by `-D warnings`\r\nerror: aborting due to previous error","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1022937038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1022940535","html_url":"https://github.com/apache/thrift/pull/2509#issuecomment-1022940535","issue_url":"https://api.github.com/repos/apache/thrift/issues/2509","id":1022940535,"node_id":"IC_kwDOAAS9U848-NV3","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T07:56:53Z","updated_at":"2022-01-27T07:56:53Z","author_association":"MEMBER","body":"also merged into 0.16.0","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1022940535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029293354","html_url":"https://github.com/apache/thrift/pull/2513#issuecomment-1029293354","issue_url":"https://api.github.com/repos/apache/thrift/issues/2513","id":1029293354,"node_id":"IC_kwDOAAS9U849WcUq","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-03T18:47:04Z","updated_at":"2022-02-03T18:47:04Z","author_association":"MEMBER","body":"NOTE: Only one of https://github.com/apache/thrift/pull/2513 and https://github.com/apache/thrift/pull/2514 should be merged, not both.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029293354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029293432","html_url":"https://github.com/apache/thrift/pull/2514#issuecomment-1029293432","issue_url":"https://api.github.com/repos/apache/thrift/issues/2514","id":1029293432,"node_id":"IC_kwDOAAS9U849WcV4","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-03T18:47:09Z","updated_at":"2022-02-03T18:47:09Z","author_association":"MEMBER","body":"NOTE: Only one of https://github.com/apache/thrift/pull/2513 and https://github.com/apache/thrift/pull/2514 should be merged, not both.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029293432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029295819","html_url":"https://github.com/apache/thrift/pull/2513#issuecomment-1029295819","issue_url":"https://api.github.com/repos/apache/thrift/issues/2513","id":1029295819,"node_id":"IC_kwDOAAS9U849Wc7L","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-03T18:50:08Z","updated_at":"2022-02-03T18:50:08Z","author_association":"MEMBER","body":"Closing this one in favor of #2514 ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029295819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029412277","html_url":"https://github.com/apache/thrift/pull/2514#issuecomment-1029412277","issue_url":"https://api.github.com/repos/apache/thrift/issues/2514","id":1029412277,"node_id":"IC_kwDOAAS9U849W5W1","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-03T21:19:45Z","updated_at":"2022-02-03T21:19:45Z","author_association":"MEMBER","body":"We are testing an [equivalent fix](https://github.com/reddit/baseplate.go/pull/477) internally (on our client pool management logic). So far the test shows that it indeed fixes the leak, but we'll keep it running for the day and merge both fixes tomorrow morning.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029412277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029519159","html_url":"https://github.com/apache/thrift/pull/2514#issuecomment-1029519159","issue_url":"https://api.github.com/repos/apache/thrift/issues/2514","id":1029519159,"node_id":"IC_kwDOAAS9U849XTc3","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T00:11:16Z","updated_at":"2022-02-04T00:11:16Z","author_association":"MEMBER","body":"Merging this in now. Will also cherry-pick the fix into 0.16.0 branch.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029519159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029967310","html_url":"https://github.com/apache/thrift/pull/2515#issuecomment-1029967310","issue_url":"https://api.github.com/repos/apache/thrift/issues/2515","id":1029967310,"node_id":"IC_kwDOAAS9U849ZA3O","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T13:03:30Z","updated_at":"2022-02-04T13:03:30Z","author_association":"MEMBER","body":"Build errors in erlang are unrelated.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1029967310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1032826215","html_url":"https://github.com/apache/thrift/pull/2518#issuecomment-1032826215","issue_url":"https://api.github.com/repos/apache/thrift/issues/2518","id":1032826215,"node_id":"IC_kwDOAAS9U849j61n","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T16:40:58Z","updated_at":"2022-02-08T16:40:58Z","author_association":"MEMBER","body":"+1 LGTM","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1032826215/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1033190077","html_url":"https://github.com/apache/thrift/pull/2519#issuecomment-1033190077","issue_url":"https://api.github.com/repos/apache/thrift/issues/2519","id":1033190077,"node_id":"IC_kwDOAAS9U849lTq9","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T00:13:14Z","updated_at":"2022-02-09T00:13:14Z","author_association":"MEMBER","body":"OK this version does not introduce new breakages in travis, we are still seeing the same old erl-tls failures.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1033190077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1033206736","html_url":"https://github.com/apache/thrift/pull/2520#issuecomment-1033206736","issue_url":"https://api.github.com/repos/apache/thrift/issues/2520","id":1033206736,"node_id":"IC_kwDOAAS9U849lXvQ","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T00:41:14Z","updated_at":"2022-02-09T00:41:14Z","author_association":"MEMBER","body":"cherry-picked into `0.16.0` branch as 303139410.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1033206736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1033234087","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1033234087","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1033234087,"node_id":"IC_kwDOAAS9U849lean","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T01:24:53Z","updated_at":"2022-02-09T01:24:53Z","author_association":"CONTRIBUTOR","body":"@dcelasun any more suggestions?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1033234087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1033513071","html_url":"https://github.com/apache/thrift/pull/2519#issuecomment-1033513071","issue_url":"https://api.github.com/repos/apache/thrift/issues/2519","id":1033513071,"node_id":"IC_kwDOAAS9U849mihv","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T08:56:42Z","updated_at":"2022-02-09T08:56:42Z","author_association":"MEMBER","body":"LGTM but I don't use Java so I can't really tell if it is correct","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1033513071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1033981098","html_url":"https://github.com/apache/thrift/pull/2519#issuecomment-1033981098","issue_url":"https://api.github.com/repos/apache/thrift/issues/2519","id":1033981098,"node_id":"IC_kwDOAAS9U849oUyq","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T16:57:27Z","updated_at":"2022-02-09T16:57:27Z","author_association":"MEMBER","body":"cherry-picked into 0.16.0 branch as a8e3b758a.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1033981098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1034132139","html_url":"https://github.com/apache/thrift/pull/2519#issuecomment-1034132139","issue_url":"https://api.github.com/repos/apache/thrift/issues/2519","id":1034132139,"node_id":"IC_kwDOAAS9U849o5qr","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T19:47:55Z","updated_at":"2022-02-09T19:47:55Z","author_association":"MEMBER","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1034132139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1035743716","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1035743716","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1035743716,"node_id":"IC_kwDOAAS9U849vDHk","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T02:07:59Z","updated_at":"2022-02-11T02:07:59Z","author_association":"CONTRIBUTOR","body":"> LGTM\r\n\r\nSo，it‘s ok to merge? \r\n\r\nwhat do you think? @fishy \r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1035743716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1041169956","html_url":"https://github.com/apache/thrift/pull/2497#issuecomment-1041169956","issue_url":"https://api.github.com/repos/apache/thrift/issues/2497","id":1041169956,"node_id":"IC_kwDOAAS9U84-Dv4k","user":{"login":"buptubuntu","id":6237116,"node_id":"MDQ6VXNlcjYyMzcxMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6237116?v=4","gravatar_id":"","url":"https://api.github.com/users/buptubuntu","html_url":"https://github.com/buptubuntu","followers_url":"https://api.github.com/users/buptubuntu/followers","following_url":"https://api.github.com/users/buptubuntu/following{/other_user}","gists_url":"https://api.github.com/users/buptubuntu/gists{/gist_id}","starred_url":"https://api.github.com/users/buptubuntu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buptubuntu/subscriptions","organizations_url":"https://api.github.com/users/buptubuntu/orgs","repos_url":"https://api.github.com/users/buptubuntu/repos","events_url":"https://api.github.com/users/buptubuntu/events{/privacy}","received_events_url":"https://api.github.com/users/buptubuntu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-16T06:48:36Z","updated_at":"2022-02-16T06:48:36Z","author_association":"CONTRIBUTOR","body":"@fishy any other suggestions?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1041169956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1042670581","html_url":"https://github.com/apache/thrift/pull/2491#issuecomment-1042670581","issue_url":"https://api.github.com/repos/apache/thrift/issues/2491","id":1042670581,"node_id":"IC_kwDOAAS9U84-JeP1","user":{"login":"csordasmarton","id":6695818,"node_id":"MDQ6VXNlcjY2OTU4MTg=","avatar_url":"https://avatars.githubusercontent.com/u/6695818?v=4","gravatar_id":"","url":"https://api.github.com/users/csordasmarton","html_url":"https://github.com/csordasmarton","followers_url":"https://api.github.com/users/csordasmarton/followers","following_url":"https://api.github.com/users/csordasmarton/following{/other_user}","gists_url":"https://api.github.com/users/csordasmarton/gists{/gist_id}","starred_url":"https://api.github.com/users/csordasmarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csordasmarton/subscriptions","organizations_url":"https://api.github.com/users/csordasmarton/orgs","repos_url":"https://api.github.com/users/csordasmarton/repos","events_url":"https://api.github.com/users/csordasmarton/events{/privacy}","received_events_url":"https://api.github.com/users/csordasmarton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-17T08:01:49Z","updated_at":"2022-02-17T08:01:49Z","author_association":"CONTRIBUTOR","body":"Is there anything I can do to get this merged?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1042670581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1043616507","html_url":"https://github.com/apache/thrift/pull/2491#issuecomment-1043616507","issue_url":"https://api.github.com/repos/apache/thrift/issues/2491","id":1043616507,"node_id":"IC_kwDOAAS9U84-NFL7","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-17T23:26:45Z","updated_at":"2022-02-17T23:26:45Z","author_association":"MEMBER","body":"There's some strange message in the logs ... could you force-push to trigger CI again?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1043616507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1046040636","html_url":"https://github.com/apache/thrift/pull/2523#issuecomment-1046040636","issue_url":"https://api.github.com/repos/apache/thrift/issues/2523","id":1046040636,"node_id":"IC_kwDOAAS9U84-WVA8","user":{"login":"kainjow","id":271035,"node_id":"MDQ6VXNlcjI3MTAzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/271035?v=4","gravatar_id":"","url":"https://api.github.com/users/kainjow","html_url":"https://github.com/kainjow","followers_url":"https://api.github.com/users/kainjow/followers","following_url":"https://api.github.com/users/kainjow/following{/other_user}","gists_url":"https://api.github.com/users/kainjow/gists{/gist_id}","starred_url":"https://api.github.com/users/kainjow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kainjow/subscriptions","organizations_url":"https://api.github.com/users/kainjow/orgs","repos_url":"https://api.github.com/users/kainjow/repos","events_url":"https://api.github.com/users/kainjow/events{/privacy}","received_events_url":"https://api.github.com/users/kainjow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-19T15:14:53Z","updated_at":"2022-02-19T15:14:53Z","author_association":"CONTRIBUTOR","body":"Cool! There's a PR here for enum changes: #2489","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1046040636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1046876853","html_url":"https://github.com/apache/thrift/pull/2491#issuecomment-1046876853","issue_url":"https://api.github.com/repos/apache/thrift/issues/2491","id":1046876853,"node_id":"IC_kwDOAAS9U84-ZhK1","user":{"login":"csordasmarton","id":6695818,"node_id":"MDQ6VXNlcjY2OTU4MTg=","avatar_url":"https://avatars.githubusercontent.com/u/6695818?v=4","gravatar_id":"","url":"https://api.github.com/users/csordasmarton","html_url":"https://github.com/csordasmarton","followers_url":"https://api.github.com/users/csordasmarton/followers","following_url":"https://api.github.com/users/csordasmarton/following{/other_user}","gists_url":"https://api.github.com/users/csordasmarton/gists{/gist_id}","starred_url":"https://api.github.com/users/csordasmarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csordasmarton/subscriptions","organizations_url":"https://api.github.com/users/csordasmarton/orgs","repos_url":"https://api.github.com/users/csordasmarton/repos","events_url":"https://api.github.com/users/csordasmarton/events{/privacy}","received_events_url":"https://api.github.com/users/csordasmarton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-21T13:23:06Z","updated_at":"2022-02-21T13:23:06Z","author_association":"CONTRIBUTOR","body":"@Jens-G Done. I also rebased my branch.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1046876853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1046900529","html_url":"https://github.com/apache/thrift/pull/2524#issuecomment-1046900529","issue_url":"https://api.github.com/repos/apache/thrift/issues/2524","id":1046900529,"node_id":"IC_kwDOAAS9U84-Zm8x","user":{"login":"jimexist","id":622789,"node_id":"MDQ6VXNlcjYyMjc4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/622789?v=4","gravatar_id":"","url":"https://api.github.com/users/jimexist","html_url":"https://github.com/jimexist","followers_url":"https://api.github.com/users/jimexist/followers","following_url":"https://api.github.com/users/jimexist/following{/other_user}","gists_url":"https://api.github.com/users/jimexist/gists{/gist_id}","starred_url":"https://api.github.com/users/jimexist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimexist/subscriptions","organizations_url":"https://api.github.com/users/jimexist/orgs","repos_url":"https://api.github.com/users/jimexist/repos","events_url":"https://api.github.com/users/jimexist/events{/privacy}","received_events_url":"https://api.github.com/users/jimexist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-21T13:49:07Z","updated_at":"2022-02-21T13:49:07Z","author_association":"MEMBER","body":"as a follow up, see:\r\n- https://github.com/apache/thrift/pull/2525 ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1046900529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1047329834","html_url":"https://github.com/apache/thrift/pull/2526#issuecomment-1047329834","issue_url":"https://api.github.com/repos/apache/thrift/issues/2526","id":1047329834,"node_id":"IC_kwDOAAS9U84-bPwq","user":{"login":"jimexist","id":622789,"node_id":"MDQ6VXNlcjYyMjc4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/622789?v=4","gravatar_id":"","url":"https://api.github.com/users/jimexist","html_url":"https://github.com/jimexist","followers_url":"https://api.github.com/users/jimexist/followers","following_url":"https://api.github.com/users/jimexist/following{/other_user}","gists_url":"https://api.github.com/users/jimexist/gists{/gist_id}","starred_url":"https://api.github.com/users/jimexist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimexist/subscriptions","organizations_url":"https://api.github.com/users/jimexist/orgs","repos_url":"https://api.github.com/users/jimexist/repos","events_url":"https://api.github.com/users/jimexist/events{/privacy}","received_events_url":"https://api.github.com/users/jimexist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-22T00:59:04Z","updated_at":"2022-02-22T00:59:04Z","author_association":"MEMBER","body":"not sure if the errors are related to this...","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1047329834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1047381809","html_url":"https://github.com/apache/thrift/pull/2525#issuecomment-1047381809","issue_url":"https://api.github.com/repos/apache/thrift/issues/2525","id":1047381809,"node_id":"IC_kwDOAAS9U84-bccx","user":{"login":"ttzztztz","id":9049783,"node_id":"MDQ6VXNlcjkwNDk3ODM=","avatar_url":"https://avatars.githubusercontent.com/u/9049783?v=4","gravatar_id":"","url":"https://api.github.com/users/ttzztztz","html_url":"https://github.com/ttzztztz","followers_url":"https://api.github.com/users/ttzztztz/followers","following_url":"https://api.github.com/users/ttzztztz/following{/other_user}","gists_url":"https://api.github.com/users/ttzztztz/gists{/gist_id}","starred_url":"https://api.github.com/users/ttzztztz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ttzztztz/subscriptions","organizations_url":"https://api.github.com/users/ttzztztz/orgs","repos_url":"https://api.github.com/users/ttzztztz/repos","events_url":"https://api.github.com/users/ttzztztz/events{/privacy}","received_events_url":"https://api.github.com/users/ttzztztz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-22T03:06:53Z","updated_at":"2022-02-22T03:06:53Z","author_association":"NONE","body":"I really like this change, it could be passed between functions which receives `java.util.Optional` without explicitly do type conversion 👍 ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1047381809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1047424139","html_url":"https://github.com/apache/thrift/pull/2527#issuecomment-1047424139","issue_url":"https://api.github.com/repos/apache/thrift/issues/2527","id":1047424139,"node_id":"IC_kwDOAAS9U84-bmyL","user":{"login":"jimexist","id":622789,"node_id":"MDQ6VXNlcjYyMjc4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/622789?v=4","gravatar_id":"","url":"https://api.github.com/users/jimexist","html_url":"https://github.com/jimexist","followers_url":"https://api.github.com/users/jimexist/followers","following_url":"https://api.github.com/users/jimexist/following{/other_user}","gists_url":"https://api.github.com/users/jimexist/gists{/gist_id}","starred_url":"https://api.github.com/users/jimexist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimexist/subscriptions","organizations_url":"https://api.github.com/users/jimexist/orgs","repos_url":"https://api.github.com/users/jimexist/repos","events_url":"https://api.github.com/users/jimexist/events{/privacy}","received_events_url":"https://api.github.com/users/jimexist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-22T04:54:01Z","updated_at":"2022-02-22T04:54:01Z","author_association":"MEMBER","body":"not sure if the build can be fixed by merging\r\n- https://github.com/apache/thrift/pull/2522\r\nfirst","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1047424139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1047424197","html_url":"https://github.com/apache/thrift/pull/2526#issuecomment-1047424197","issue_url":"https://api.github.com/repos/apache/thrift/issues/2526","id":1047424197,"node_id":"IC_kwDOAAS9U84-bmzF","user":{"login":"jimexist","id":622789,"node_id":"MDQ6VXNlcjYyMjc4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/622789?v=4","gravatar_id":"","url":"https://api.github.com/users/jimexist","html_url":"https://github.com/jimexist","followers_url":"https://api.github.com/users/jimexist/followers","following_url":"https://api.github.com/users/jimexist/following{/other_user}","gists_url":"https://api.github.com/users/jimexist/gists{/gist_id}","starred_url":"https://api.github.com/users/jimexist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimexist/subscriptions","organizations_url":"https://api.github.com/users/jimexist/orgs","repos_url":"https://api.github.com/users/jimexist/repos","events_url":"https://api.github.com/users/jimexist/events{/privacy}","received_events_url":"https://api.github.com/users/jimexist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-22T04:54:09Z","updated_at":"2022-02-22T04:54:09Z","author_association":"MEMBER","body":"not sure if the build can be fixed by merging\r\n- https://github.com/apache/thrift/pull/2522\r\nfirst","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1047424197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1047424248","html_url":"https://github.com/apache/thrift/pull/2525#issuecomment-1047424248","issue_url":"https://api.github.com/repos/apache/thrift/issues/2525","id":1047424248,"node_id":"IC_kwDOAAS9U84-bmz4","user":{"login":"jimexist","id":622789,"node_id":"MDQ6VXNlcjYyMjc4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/622789?v=4","gravatar_id":"","url":"https://api.github.com/users/jimexist","html_url":"https://github.com/jimexist","followers_url":"https://api.github.com/users/jimexist/followers","following_url":"https://api.github.com/users/jimexist/following{/other_user}","gists_url":"https://api.github.com/users/jimexist/gists{/gist_id}","starred_url":"https://api.github.com/users/jimexist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimexist/subscriptions","organizations_url":"https://api.github.com/users/jimexist/orgs","repos_url":"https://api.github.com/users/jimexist/repos","events_url":"https://api.github.com/users/jimexist/events{/privacy}","received_events_url":"https://api.github.com/users/jimexist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-22T04:54:18Z","updated_at":"2022-02-22T04:54:18Z","author_association":"MEMBER","body":"not sure if the build can be fixed by merging\r\n- https://github.com/apache/thrift/pull/2522\r\nfirst","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1047424248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1048233076","html_url":"https://github.com/apache/thrift/pull/2531#issuecomment-1048233076","issue_url":"https://api.github.com/repos/apache/thrift/issues/2531","id":1048233076,"node_id":"IC_kwDOAAS9U84-esR0","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-22T21:33:55Z","updated_at":"2022-02-22T21:33:55Z","author_association":"MEMBER","body":"You are being aware that you are about to introduce a breaking change? Proposal: Accept both forms.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1048233076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1048324974","html_url":"https://github.com/apache/thrift/pull/2531#issuecomment-1048324974","issue_url":"https://api.github.com/repos/apache/thrift/issues/2531","id":1048324974,"node_id":"IC_kwDOAAS9U84-fCtu","user":{"login":"jimexist","id":622789,"node_id":"MDQ6VXNlcjYyMjc4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/622789?v=4","gravatar_id":"","url":"https://api.github.com/users/jimexist","html_url":"https://github.com/jimexist","followers_url":"https://api.github.com/users/jimexist/followers","following_url":"https://api.github.com/users/jimexist/following{/other_user}","gists_url":"https://api.github.com/users/jimexist/gists{/gist_id}","starred_url":"https://api.github.com/users/jimexist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimexist/subscriptions","organizations_url":"https://api.github.com/users/jimexist/orgs","repos_url":"https://api.github.com/users/jimexist/repos","events_url":"https://api.github.com/users/jimexist/events{/privacy}","received_events_url":"https://api.github.com/users/jimexist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-23T00:00:28Z","updated_at":"2022-02-23T00:00:28Z","author_association":"MEMBER","body":"> Proposal: Accept both forms.\r\n\r\nHi @Jens-G thanks for the suggestion. in fact it's not a breaking change, as in https://github.com/apache/thrift/pull/2531/files#diff-c59dffe78e4250a1f0450c496300e137aa1631b60488108e237a292a1c2e6789R81-R82 both forms are indeed accepted. however do you think i should include this information in the document (`-help` print out) instead?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1048324974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1048325325","html_url":"https://github.com/apache/thrift/pull/2530#issuecomment-1048325325","issue_url":"https://api.github.com/repos/apache/thrift/issues/2530","id":1048325325,"node_id":"IC_kwDOAAS9U84-fCzN","user":{"login":"jimexist","id":622789,"node_id":"MDQ6VXNlcjYyMjc4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/622789?v=4","gravatar_id":"","url":"https://api.github.com/users/jimexist","html_url":"https://github.com/jimexist","followers_url":"https://api.github.com/users/jimexist/followers","following_url":"https://api.github.com/users/jimexist/following{/other_user}","gists_url":"https://api.github.com/users/jimexist/gists{/gist_id}","starred_url":"https://api.github.com/users/jimexist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimexist/subscriptions","organizations_url":"https://api.github.com/users/jimexist/orgs","repos_url":"https://api.github.com/users/jimexist/repos","events_url":"https://api.github.com/users/jimexist/events{/privacy}","received_events_url":"https://api.github.com/users/jimexist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-23T00:01:07Z","updated_at":"2022-02-23T00:01:17Z","author_association":"MEMBER","body":"> Proposal: Accept both forms to prevent breaking changes\r\n\r\nHi @Jens-G thanks for the suggestion. in fact it's not a breaking change, as in https://github.com/apache/thrift/pull/2530/files#diff-c59dffe78e4250a1f0450c496300e137aa1631b60488108e237a292a1c2e6789R93-R94 both forms are indeed accepted. however do you think i should include this information in the document (`-help` print out) instead?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1048325325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1048788066","html_url":"https://github.com/apache/thrift/pull/2469#issuecomment-1048788066","issue_url":"https://api.github.com/repos/apache/thrift/issues/2469","id":1048788066,"node_id":"IC_kwDOAAS9U84-gzxi","user":{"login":"BytedanceRPC","id":77381501,"node_id":"MDQ6VXNlcjc3MzgxNTAx","avatar_url":"https://avatars.githubusercontent.com/u/77381501?v=4","gravatar_id":"","url":"https://api.github.com/users/BytedanceRPC","html_url":"https://github.com/BytedanceRPC","followers_url":"https://api.github.com/users/BytedanceRPC/followers","following_url":"https://api.github.com/users/BytedanceRPC/following{/other_user}","gists_url":"https://api.github.com/users/BytedanceRPC/gists{/gist_id}","starred_url":"https://api.github.com/users/BytedanceRPC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BytedanceRPC/subscriptions","organizations_url":"https://api.github.com/users/BytedanceRPC/orgs","repos_url":"https://api.github.com/users/BytedanceRPC/repos","events_url":"https://api.github.com/users/BytedanceRPC/events{/privacy}","received_events_url":"https://api.github.com/users/BytedanceRPC/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-23T13:34:31Z","updated_at":"2022-02-23T13:34:31Z","author_association":"NONE","body":"> \r\n\r\nI add an explicit definition for commas between rules and also a reference for basic regular expression.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1048788066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1050803588","html_url":"https://github.com/apache/thrift/pull/2525#issuecomment-1050803588","issue_url":"https://api.github.com/repos/apache/thrift/issues/2525","id":1050803588,"node_id":"IC_kwDOAAS9U84-of2E","user":{"login":"jimexist","id":622789,"node_id":"MDQ6VXNlcjYyMjc4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/622789?v=4","gravatar_id":"","url":"https://api.github.com/users/jimexist","html_url":"https://github.com/jimexist","followers_url":"https://api.github.com/users/jimexist/followers","following_url":"https://api.github.com/users/jimexist/following{/other_user}","gists_url":"https://api.github.com/users/jimexist/gists{/gist_id}","starred_url":"https://api.github.com/users/jimexist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimexist/subscriptions","organizations_url":"https://api.github.com/users/jimexist/orgs","repos_url":"https://api.github.com/users/jimexist/repos","events_url":"https://api.github.com/users/jimexist/events{/privacy}","received_events_url":"https://api.github.com/users/jimexist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-25T12:16:22Z","updated_at":"2022-02-25T12:16:22Z","author_association":"MEMBER","body":"hi @Jens-G - any feedback on this? or maybe do you suggest someone else to cover this type of changes. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/1050803588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]