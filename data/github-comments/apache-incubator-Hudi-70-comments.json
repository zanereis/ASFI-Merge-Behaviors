[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660494259","html_url":"https://github.com/apache/hudi/issues/1705#issuecomment-660494259","issue_url":"https://api.github.com/repos/apache/hudi/issues/1705","id":660494259,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDQ5NDI1OQ==","user":{"login":"nandini57","id":40003951,"node_id":"MDQ6VXNlcjQwMDAzOTUx","avatar_url":"https://avatars.githubusercontent.com/u/40003951?v=4","gravatar_id":"","url":"https://api.github.com/users/nandini57","html_url":"https://github.com/nandini57","followers_url":"https://api.github.com/users/nandini57/followers","following_url":"https://api.github.com/users/nandini57/following{/other_user}","gists_url":"https://api.github.com/users/nandini57/gists{/gist_id}","starred_url":"https://api.github.com/users/nandini57/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nandini57/subscriptions","organizations_url":"https://api.github.com/users/nandini57/orgs","repos_url":"https://api.github.com/users/nandini57/repos","events_url":"https://api.github.com/users/nandini57/events{/privacy}","received_events_url":"https://api.github.com/users/nandini57/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-18T14:49:18Z","updated_at":"2020-07-18T14:49:18Z","author_association":"NONE","body":"Still waiting :( .Can you please create a JIRA and assign to me? Will possibly take 2 weeks more to get clearence","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660494259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660502873","html_url":"https://github.com/apache/hudi/issues/1823#issuecomment-660502873","issue_url":"https://api.github.com/repos/apache/hudi/issues/1823","id":660502873,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDUwMjg3Mw==","user":{"login":"RajasekarSribalan","id":22605603,"node_id":"MDQ6VXNlcjIyNjA1NjAz","avatar_url":"https://avatars.githubusercontent.com/u/22605603?v=4","gravatar_id":"","url":"https://api.github.com/users/RajasekarSribalan","html_url":"https://github.com/RajasekarSribalan","followers_url":"https://api.github.com/users/RajasekarSribalan/followers","following_url":"https://api.github.com/users/RajasekarSribalan/following{/other_user}","gists_url":"https://api.github.com/users/RajasekarSribalan/gists{/gist_id}","starred_url":"https://api.github.com/users/RajasekarSribalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RajasekarSribalan/subscriptions","organizations_url":"https://api.github.com/users/RajasekarSribalan/orgs","repos_url":"https://api.github.com/users/RajasekarSribalan/repos","events_url":"https://api.github.com/users/RajasekarSribalan/events{/privacy}","received_events_url":"https://api.github.com/users/RajasekarSribalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-18T16:01:13Z","updated_at":"2020-07-18T16:01:13Z","author_association":"NONE","body":"Thanks @bvaradar @bhasudha  and one more problem which I could see is, how the compaction and cleaner should be configured? Should both have same values? What If i configure clean commits as 3, so that I reclaim more space and compaction to happen after 24 commits.. Since I am doing cleaner frequently, will be delta commits will be cleaned/delete before compaction. Please shed some light on this matter because, i could see tons of files in hdfs for a single table.\r\n\r\nFor example, in my case, when i ran a bulk insert for a table to store it in Hudi, there were 7000+ parquet files for created which was fine. After running streaming pipeline for doing upsert on the same table for 2 days, i could see there were 90,000+ files in HDFS. I havent changed the default cleaner configuration ,so i believe cleaning happends after 24 commits? so thats the reason i have these many files. Pls correct me if I am wrong.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660502873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660503863","html_url":"https://github.com/apache/hudi/issues/1823#issuecomment-660503863","issue_url":"https://api.github.com/repos/apache/hudi/issues/1823","id":660503863,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDUwMzg2Mw==","user":{"login":"RajasekarSribalan","id":22605603,"node_id":"MDQ6VXNlcjIyNjA1NjAz","avatar_url":"https://avatars.githubusercontent.com/u/22605603?v=4","gravatar_id":"","url":"https://api.github.com/users/RajasekarSribalan","html_url":"https://github.com/RajasekarSribalan","followers_url":"https://api.github.com/users/RajasekarSribalan/followers","following_url":"https://api.github.com/users/RajasekarSribalan/following{/other_user}","gists_url":"https://api.github.com/users/RajasekarSribalan/gists{/gist_id}","starred_url":"https://api.github.com/users/RajasekarSribalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RajasekarSribalan/subscriptions","organizations_url":"https://api.github.com/users/RajasekarSribalan/orgs","repos_url":"https://api.github.com/users/RajasekarSribalan/repos","events_url":"https://api.github.com/users/RajasekarSribalan/events{/privacy}","received_events_url":"https://api.github.com/users/RajasekarSribalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-18T16:08:00Z","updated_at":"2020-07-18T16:08:00Z","author_association":"NONE","body":"@bvaradar @bhasudha \r\n\r\nPLs find the cli output for a MOR table  clean info\r\n\r\n\r\n20/07/18 16:05:31 INFO timeline.HoodieActiveTimeline: Loaded instants [[20200716082419__clean__COMPLETED], [20200716102509__clean__COMPLETED], [20200716103921__clean__COMPLETED], [20200716134933__clean__COMPLETED], [20200716135749__clean__COMPLETED], [20200716163408__clean__COMPLETED], [20200716164519__clean__COMPLETED], [20200716192304__clean__COMPLETED], [20200716192304__deltacommit__COMPLETED], [20200716193103__deltacommit__COMPLETED], [20200717034005__commit__COMPLETED], [20200717080741__clean__COMPLETED], [20200717080741__deltacommit__COMPLETED], [20200717100758__clean__COMPLETED], [20200717100758__deltacommit__COMPLETED], [20200717101709__clean__COMPLETED], [20200717101709__deltacommit__COMPLETED], [20200717120702__clean__COMPLETED], [20200717120702__deltacommit__COMPLETED], [20200717121648__clean__COMPLETED], [20200717121648__deltacommit__COMPLETED], [20200717141621__clean__COMPLETED], [20200717141621__deltacommit__COMPLETED], [20200717142837__clean__COMPLETED], [20200717142837__deltacommit__COMPLETED], [20200717161843__clean__COMPLETED], [20200717161843__deltacommit__COMPLETED], [20200717162524__clean__COMPLETED], [20200717162524__deltacommit__COMPLETED], [20200717180202__clean__COMPLETED], [20200717180202__deltacommit__COMPLETED], [20200717182211__deltacommit__COMPLETED], [20200717203440__deltacommit__COMPLETED], [20200718040640__clean__COMPLETED], [20200718040640__deltacommit__COMPLETED], [20200718055600__commit__COMPLETED], [20200718062014__clean__COMPLETED], [20200718062014__deltacommit__COMPLETED], [20200718062721__clean__COMPLETED], [20200718062721__deltacommit__COMPLETED], [20200718082117__clean__COMPLETED], [20200718082117__deltacommit__COMPLETED], [20200718082800__clean__COMPLETED], [20200718082800__deltacommit__COMPLETED], [20200718102800__clean__COMPLETED], [20200718102800__deltacommit__COMPLETED], [20200718104348__deltacommit__COMPLETED]]\r\nClean null not found in metadata org.apache.hudi.common.table.timeline.HoodieDefaultTimeline: [20200716082419__clean__COMPLETED],[20200716102509__clean__COMPLETED],[20200716103921__clean__COMPLETED],[20200716134933__clean__COMPLETED],[20200716135749__clean__COMPLETED],[20200716163408__clean__COMPLETED],[20200716164519__clean__COMPLETED],[20200716192304__clean__COMPLETED],[20200717080741__clean__COMPLETED],[20200717100758__clean__COMPLETED],[20200717101709__clean__COMPLETED],[20200717120702__clean__COMPLETED],[20200717121648__clean__COMPLETED],[20200717141621__clean__COMPLETED],[20200717142837__clean__COMPLETED],[20200717161843__clean__COMPLETED],[20200717162524__clean__COMPLETED],[20200717180202__clean__COMPLETED],[20200718040640__clean__COMPLETED],[20200718062014__clean__COMPLETED],[20200718062721__clean__COMPLETED],[20200718082117__clean__COMPLETED],[20200718082800__clean__COMPLETED],[20200718102800__clean__COMPLETED]\r\nhudi:XXXXXX->cleans show\r\n╔════════════════╤═════════════════════════╤═════════════════════╤══════════════════╗\r\n║ CleanTime      │ EarliestCommandRetained │ Total Files Deleted │ Total Time Taken ║\r\n╠════════════════╪═════════════════════════╪═════════════════════╪══════════════════╣\r\n║ 20200718102800 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200718082800 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200718082117 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200718062721 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200718062014 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200718040640 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200717180202 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200717162524 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200717161843 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200717142837 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200717141621 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200717121648 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200717120702 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200717101709 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200717100758 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200717080741 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200716192304 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200716164519 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200716163408 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200716135749 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200716134933 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200716103921 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200716102509 │                         │ 0                   │ -1               ║\r\n╟────────────────┼─────────────────────────┼─────────────────────┼──────────────────╢\r\n║ 20200716082419 │                         │ 0                   │ -1","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660503863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660556777","html_url":"https://github.com/apache/hudi/issues/1705#issuecomment-660556777","issue_url":"https://api.github.com/repos/apache/hudi/issues/1705","id":660556777,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDU1Njc3Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-18T23:23:52Z","updated_at":"2020-07-18T23:23:52Z","author_association":"MEMBER","body":"Thanks for the persistence. https://issues.apache.org/jira/browse/HUDI-1112. all yours. please grab it when ready","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660556777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660563449","html_url":"https://github.com/apache/hudi/pull/1765#issuecomment-660563449","issue_url":"https://api.github.com/repos/apache/hudi/issues/1765","id":660563449,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDU2MzQ0OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-19T00:33:47Z","updated_at":"2020-07-19T00:33:47Z","author_association":"MEMBER","body":"@zuyanton .I am going to rebase this onto master and then land for 0.6.0. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660563449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660575757","html_url":"https://github.com/apache/hudi/pull/1838#issuecomment-660575757","issue_url":"https://api.github.com/repos/apache/hudi/issues/1838","id":660575757,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDU3NTc1Nw==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-19T02:40:39Z","updated_at":"2020-07-19T02:40:39Z","author_association":"CONTRIBUTOR","body":"Add test in TestUpsertPartitioner, set partition newInsertBucket0.weight = 0.3, newInsertBucket1.weight = 0.7.\r\n\r\n```\r\n  @Test\r\n  public void testGetPartitioner2() throws Exception {\r\n    String testPartitionPath1 = \"2016/09/26\";\r\n    HoodieWriteConfig config = makeHoodieClientConfigBuilder()\r\n            .withCompactionConfig(HoodieCompactionConfig.newBuilder().compactionSmallFileSize(0)\r\n                    .insertSplitSize(100).autoTuneInsertSplits(false).build())\r\n            .withStorageConfig(HoodieStorageConfig.newBuilder().limitFileSize(1000 * 1024).build()).build();\r\n\r\n    HoodieClientTestUtils.fakeCommitFile(basePath, \"001\");\r\n    metaClient = HoodieTableMetaClient.reload(metaClient);\r\n    HoodieCopyOnWriteTable table = (HoodieCopyOnWriteTable) HoodieTable.create(metaClient, config, hadoopConf);\r\n    HoodieTestDataGenerator dataGenerator1 = new HoodieTestDataGenerator(new String[] {testPartitionPath1});\r\n    List<HoodieRecord> insertRecords1 = dataGenerator1.generateInserts(\"001\", 200);\r\n    List<HoodieRecord> records1 = new ArrayList<>();\r\n    records1.addAll(insertRecords1);\r\n\r\n    WorkloadProfile profile = new WorkloadProfile(jsc.parallelize(records1));\r\n    UpsertPartitioner partitioner = new UpsertPartitioner(profile, jsc, table, config);\r\n    List<InsertBucket> insertBuckets = partitioner.getInsertBuckets(testPartitionPath1);\r\n    InsertBucket newInsertBucket0 = new InsertBucket();\r\n    newInsertBucket0.bucketNumber = 0;\r\n    newInsertBucket0.weight = 0.3;\r\n    insertBuckets.remove(0);\r\n    insertBuckets.add(0, newInsertBucket0);\r\n\r\n    InsertBucket newInsertBucket1 = new InsertBucket();\r\n    newInsertBucket1.bucketNumber = 1;\r\n    newInsertBucket1.weight = 0.7;\r\n    insertBuckets.remove(1);\r\n    insertBuckets.add(1, newInsertBucket1);\r\n\r\n    Map<Integer, Integer> partition2numRecords = new HashMap<Integer, Integer>();\r\n    for (HoodieRecord hoodieRecord: insertRecords1) {\r\n      int partition = partitioner.getPartition(new Tuple2<>(\r\n              hoodieRecord.getKey(), Option.ofNullable(hoodieRecord.getCurrentLocation())));\r\n      if (!partition2numRecords.containsKey(partition)) {\r\n        partition2numRecords.put(partition, 0);\r\n      }\r\n      int num = partition2numRecords.get(partition);\r\n      partition2numRecords.put(partition, num + 1);\r\n    }\r\n    System.out.println(partition2numRecords);\r\n  }\r\n```\r\n\r\nTest it five times, the results show that the number of records inserted to a bucket approximately matches the bucket weight.\r\n```\r\n{0=66, 1=134}\r\n{0=63, 1=137}\r\n{0=64, 1=136}\r\n{0=67, 1=133}\r\n{0=68, 1=132}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660575757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660684936","html_url":"https://github.com/apache/hudi/pull/1762#issuecomment-660684936","issue_url":"https://api.github.com/repos/apache/hudi/issues/1762","id":660684936,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDY4NDkzNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-19T18:07:28Z","updated_at":"2020-07-19T18:07:28Z","author_association":"MEMBER","body":"@nsivabalan can this be closed in favor of #1834  ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660684936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660715533","html_url":"https://github.com/apache/hudi/issues/1833#issuecomment-660715533","issue_url":"https://api.github.com/repos/apache/hudi/issues/1833","id":660715533,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDcxNTUzMw==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-19T21:55:44Z","updated_at":"2020-07-20T13:45:44Z","author_association":"NONE","body":"@bvaradar i noticed \"There is insufficient memory for the Java Runtime Environment to continue.\" error so i reduced SPARK_WORKER_MEMORY (ie leave more room for OS memory). Now the timings I get are: 43mins for hoodie.bloom.index.bucketized.checking = false. 59 mins for hoodie.bloom.index.bucketized.checking = true.\r\n\r\n**hoodie.bloom.index.bucketized.checking = false**\r\n\r\n![image](https://user-images.githubusercontent.com/33283496/87885750-b4829b80-ca0f-11ea-99d9-195b3a6cc562.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885776-dda32c00-ca0f-11ea-9f8e-e9c15ead96c2.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885794-fad7fa80-ca0f-11ea-8d16-b5a290676525.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885812-1e9b4080-ca10-11ea-9ac7-e3a487f4a8b7.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885847-5dc99180-ca10-11ea-9a13-fbef57f240b3.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885876-91a4b700-ca10-11ea-906b-563cd0d25d55.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885894-bb5dde00-ca10-11ea-977a-681a3c7b4d1c.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885907-d6305280-ca10-11ea-8f2d-aeec67b1916b.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885922-f19b5d80-ca10-11ea-8359-5fc0adecb8cb.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885930-07a91e00-ca11-11ea-84f5-379f1953ad67.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885947-1e4f7500-ca11-11ea-81cb-977a289eba53.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885961-4343e800-ca11-11ea-9f7d-bea8d5a47012.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87885972-5eaef300-ca11-11ea-82a2-3dcc70474d5c.png)\r\n\r\n\r\n\r\n\r\n**hoodie.bloom.index.bucketized.checking = true**\r\n\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/33283496/87886008-a03f9e00-ca11-11ea-9a23-acccedbcae29.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87886021-bd746c80-ca11-11ea-986f-ce83b8430869.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87886046-e85ec080-ca11-11ea-99d0-52fe4d7bdc2d.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87886069-09271600-ca12-11ea-8bab-e06ccb503e80.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87886091-2bb92f00-ca12-11ea-9d00-561ef63bcabf.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87886110-4be8ee00-ca12-11ea-9eb3-d17de793bb9b.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87886117-63c07200-ca12-11ea-97fa-7655500c3848.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87886131-79ce3280-ca12-11ea-898b-bbaca156fd91.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87886152-95393d80-ca12-11ea-8b90-c6f6c52bff94.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87886164-ac782b00-ca12-11ea-8231-e147ad4376b5.png)\r\n![image](https://user-images.githubusercontent.com/33283496/87886171-bc900a80-ca12-11ea-9ef6-a7b680d2943a.png)\r\n\r\n\r\ni wonder if https://issues.apache.org/jira/browse/SPARK-27734 is causing the memory issues","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660715533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660721015","html_url":"https://github.com/apache/hudi/pull/1762#issuecomment-660721015","issue_url":"https://api.github.com/repos/apache/hudi/issues/1762","id":660721015,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDcyMTAxNQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-19T22:48:28Z","updated_at":"2020-07-19T22:48:28Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of https://github.com/apache/hudi/pull/1834","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660721015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660731926","html_url":"https://github.com/apache/hudi/pull/1149#issuecomment-660731926","issue_url":"https://api.github.com/repos/apache/hudi/issues/1149","id":660731926,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDczMTkyNg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T00:06:54Z","updated_at":"2020-07-20T00:09:04Z","author_association":"CONTRIBUTOR","body":"@yihua : I have fixed the flaky test. I assume you have resolved all feedback provided. If not, do let me know. As of now, I am assuming the patch is ready to review again. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660731926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660751784","html_url":"https://github.com/apache/hudi/pull/1848#issuecomment-660751784","issue_url":"https://api.github.com/repos/apache/hudi/issues/1848","id":660751784,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDc1MTc4NA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T01:39:14Z","updated_at":"2020-07-20T01:39:14Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/1848?src=pr&el=h1) Report\n> Merging [#1848](https://codecov.io/gh/apache/hudi/pull/1848?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/1aae437257cfd94fd277cf667257f6abffcc0c21&el=desc) will **increase** coverage by `1.01%`.\n> The diff coverage is `77.77%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/1848/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/1848?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1848      +/-   ##\n============================================\n+ Coverage     62.32%   63.33%   +1.01%     \n- Complexity     3508     3522      +14     \n============================================\n  Files           420      410      -10     \n  Lines         17817    17400     -417     \n  Branches       1754     1729      -25     \n============================================\n- Hits          11105    11021      -84     \n+ Misses         5959     5630     -329     \n+ Partials        753      749       -4     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| #hudicli | `?` | `?` | |\n| #hudiclient | `79.25% <ø> (+0.02%)` | `1257.00 <ø> (-1.00)` | :arrow_up: |\n| #hudicommon | `54.78% <ø> (ø)` | `1509.00 <ø> (ø)` | |\n| #hudihadoopmr | `38.72% <0.00%> (?)` | `163.00 <0.00> (?)` | |\n| #hudihivesync | `72.25% <ø> (ø)` | `121.00 <ø> (ø)` | |\n| #hudispark | `53.51% <85.36%> (+4.27%)` | `146.00 <22.00> (+24.00)` | |\n| #huditimelineservice | `63.47% <ø> (ø)` | `47.00 <ø> (ø)` | |\n| #hudiutilities | `74.64% <ø> (-0.07%)` | `279.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/1848?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...hadoop/config/HadoopSerializableConfiguration.java](https://codecov.io/gh/apache/hudi/pull/1848/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL2NvbmZpZy9IYWRvb3BTZXJpYWxpemFibGVDb25maWd1cmF0aW9uLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...i/hadoop/utils/HoodieRealtimeInputFormatUtils.java](https://codecov.io/gh/apache/hudi/pull/1848/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3V0aWxzL0hvb2RpZVJlYWx0aW1lSW5wdXRGb3JtYXRVdGlscy5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...ain/scala/org/apache/hudi/HudiMergeOnReadRDD.scala](https://codecov.io/gh/apache/hudi/pull/1848/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSHVkaU1lcmdlT25SZWFkUkRELnNjYWxh) | `77.77% <77.77%> (ø)` | `11.00 <11.00> (?)` | |\n| [.../main/scala/org/apache/hudi/SnapshotRelation.scala](https://codecov.io/gh/apache/hudi/pull/1848/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvU25hcHNob3RSZWxhdGlvbi5zY2FsYQ==) | `91.30% <91.30%> (ø)` | `10.00 <10.00> (?)` | |\n| [...main/scala/org/apache/hudi/DataSourceOptions.scala](https://codecov.io/gh/apache/hudi/pull/1848/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvRGF0YVNvdXJjZU9wdGlvbnMuc2NhbGE=) | `93.54% <100.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...src/main/scala/org/apache/hudi/DefaultSource.scala](https://codecov.io/gh/apache/hudi/pull/1848/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvRGVmYXVsdFNvdXJjZS5zY2FsYQ==) | `78.26% <100.00%> (+7.67%)` | `10.00 <1.00> (+3.00)` | |\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/1848/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `72.41% <100.00%> (ø)` | `13.00 <0.00> (-1.00)` | |\n| [...he/hudi/table/action/commit/UpsertPartitioner.java](https://codecov.io/gh/apache/hudi/pull/1848/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbW1pdC9VcHNlcnRQYXJ0aXRpb25lci5qYXZh) | `95.71% <0.00%> (-1.41%)` | `33.00% <0.00%> (-1.00%)` | |\n| [...g/apache/hudi/utilities/sources/AvroDFSSource.java](https://codecov.io/gh/apache/hudi/pull/1848/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb0RGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...che/hudi/utilities/sources/HiveIncrPullSource.java](https://codecov.io/gh/apache/hudi/pull/1848/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSGl2ZUluY3JQdWxsU291cmNlLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| ... and [71 more](https://codecov.io/gh/apache/hudi/pull/1848/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660751784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660753692","html_url":"https://github.com/apache/hudi/pull/1832#issuecomment-660753692","issue_url":"https://api.github.com/repos/apache/hudi/issues/1832","id":660753692,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDc1MzY5Mg==","user":{"login":"linshan-ma","id":23548282,"node_id":"MDQ6VXNlcjIzNTQ4Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/23548282?v=4","gravatar_id":"","url":"https://api.github.com/users/linshan-ma","html_url":"https://github.com/linshan-ma","followers_url":"https://api.github.com/users/linshan-ma/followers","following_url":"https://api.github.com/users/linshan-ma/following{/other_user}","gists_url":"https://api.github.com/users/linshan-ma/gists{/gist_id}","starred_url":"https://api.github.com/users/linshan-ma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linshan-ma/subscriptions","organizations_url":"https://api.github.com/users/linshan-ma/orgs","repos_url":"https://api.github.com/users/linshan-ma/repos","events_url":"https://api.github.com/users/linshan-ma/events{/privacy}","received_events_url":"https://api.github.com/users/linshan-ma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T01:46:39Z","updated_at":"2020-07-20T01:46:39Z","author_association":"CONTRIBUTOR","body":"> > > @mabin001 Thanks for you contributing, `addPartitionsToTable` and `updatePartitionsToTable ` are good to handle empty partitions and it is a more proper way IMHO.\r\n> > \r\n> > \r\n> > I agree with you about `addPartitionsToTable` and `updatePartitionsToTable ` are good to handle empty partitions，but We should determine the list is empty or not empty before calling the method。So, i think i can delete the code of this\r\n> > ![image](https://user-images.githubusercontent.com/23548282/87765779-d3840080-c84a-11ea-9bcd-79fdb4a7ccae.png)\r\n> > ![image](https://user-images.githubusercontent.com/23548282/87765850-e72f6700-c84a-11ea-93e7-aca497c5fa28.png)\r\n> > .\r\n> > TestHiveSyncTool#testBasicSync\r\n> > ![image](https://user-images.githubusercontent.com/23548282/87766256-7177cb00-c84b-11ea-8095-cdb4cca9350b.png)\r\n> > can delete too.\r\n> \r\n> Thanks for the explanation @mabin001 . In fact I do think current solution is more reasonable and cleaner IMHO, other callers would call the method without checking the empty and let the method to check empty. If you check empty before calling the method, there will be a lot of duplicate code.\r\n\r\nok, i get   it","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660753692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660780134","html_url":"https://github.com/apache/hudi/pull/1756#issuecomment-660780134","issue_url":"https://api.github.com/repos/apache/hudi/issues/1756","id":660780134,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDc4MDEzNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T03:23:31Z","updated_at":"2020-07-20T03:23:31Z","author_association":"MEMBER","body":"test is failing on CI (linux?) while it passes locally.. Looking. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660780134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660803628","html_url":"https://github.com/apache/hudi/pull/1849#issuecomment-660803628","issue_url":"https://api.github.com/repos/apache/hudi/issues/1849","id":660803628,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDgwMzYyOA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T05:03:54Z","updated_at":"2020-07-20T05:09:11Z","author_association":"MEMBER","body":"@vinothchandar The convention proposed here is for functional test requires HoodieConfig, it is to define its own `properties` file and avoid using `getConfigBuilder()`. if the approach looks good, i'll apply it to more test classes. thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660803628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660834381","html_url":"https://github.com/apache/hudi/pull/1850#issuecomment-660834381","issue_url":"https://api.github.com/repos/apache/hudi/issues/1850","id":660834381,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDgzNDM4MQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T06:38:04Z","updated_at":"2020-07-20T06:38:04Z","author_association":"MEMBER","body":"@yanghua @vinothchandar This is a straightforward clean-up :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660834381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660836081","html_url":"https://github.com/apache/hudi/issues/1847#issuecomment-660836081","issue_url":"https://api.github.com/repos/apache/hudi/issues/1847","id":660836081,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDgzNjA4MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T06:42:25Z","updated_at":"2020-07-20T06:42:25Z","author_association":"CONTRIBUTOR","body":"@zuyanton : Thanks for the detailed write-up.  This is very interesting. If you look at the base implementation of FileStatus  getLen() method, it returns a cached copy of the length. So, I wouldnt expect it to be the cause of such high variance. Also, 100 milliseconds you had observed would definitely making some blocking operations like RPC calls.  Does the EMR/S3 implementation of filesystem overrides these classes ? \r\n\r\n```\r\n\r\n  /**\r\n   * Get the length of this file, in bytes.\r\n   * @return the length of this file, in bytes.\r\n   */\r\n  public long getLen() {\r\n    return length;\r\n  }\r\n```\r\n\r\n@zuyanton : Can you track the class type for the incoming file-status object ?\r\n\r\ncc @umehrot2 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660836081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660840191","html_url":"https://github.com/apache/hudi/issues/1830#issuecomment-660840191","issue_url":"https://api.github.com/repos/apache/hudi/issues/1830","id":660840191,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDg0MDE5MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T06:53:28Z","updated_at":"2020-07-20T06:53:28Z","author_association":"CONTRIBUTOR","body":"We spent time over the weekend setting up a local test bed with kafka and structured streaming to reproduce this behavior.  Here are the steps I followed with code : https://gist.github.com/bvaradar/d892c6c6a69664463f8601d09c187271 \r\n\r\nI ran the setup overnight for many hours with both MOR and COW tables but was not able to reproduce the gradual increase in time. I did see variance in processing time depending upon the incoming workload because of index lookup and parquet writing but there was no increase in processing time. \r\n\r\nWe should try to run this in S3 environment because we suspect this is seen in S3 environment alone. If possible,  Would you be interested in taking the above gist and run it in your setup ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660840191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660841314","html_url":"https://github.com/apache/hudi/issues/1728#issuecomment-660841314","issue_url":"https://api.github.com/repos/apache/hudi/issues/1728","id":660841314,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDg0MTMxNA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T06:56:12Z","updated_at":"2020-07-20T06:56:12Z","author_association":"CONTRIBUTOR","body":"(copied the comment from https://github.com/apache/hudi/issues/1830#issuecomment-660840191)\r\n\r\nWe spent time over the weekend setting up a local test bed with kafka and structured streaming to reproduce this behavior. Here are the steps I followed with code : https://gist.github.com/bvaradar/d892c6c6a69664463f8601d09c187271\r\n\r\nI ran the setup overnight for many hours with both MOR and COW tables but was not able to reproduce the gradual increase in time. I did see variance in processing time depending upon the incoming workload because of index lookup and parquet writing but there was no increase in processing time.\r\n\r\nWe should try to run this in S3 environment because we suspect this is seen in S3 environment alone. If possible, Would you be interested in taking the above gist and run it in your setup ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660841314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660853366","html_url":"https://github.com/apache/hudi/issues/1845#issuecomment-660853366","issue_url":"https://api.github.com/repos/apache/hudi/issues/1845","id":660853366,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDg1MzM2Ng==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T07:25:02Z","updated_at":"2020-07-20T07:25:02Z","author_association":"CONTRIBUTOR","body":"Thanks for your fast reply!\r\n\r\nThe PR adds a new Test and improves 2 existing tests. The mentioned 4 new cols in TestHoodieAvroUtils increase the number of tested cases, the tests are still working.\r\nThe new test is in TestHoodieDeltaStreamer and starts the DeltaStreamer with different schemas and transformers to reproduce the actual problem.\r\n\r\nRegarding the both versions of my schema, i can only provide a diff but it should be sufficient. The new field has the same type (union of null and string, default of null) as reproduced in the test here https://github.com/apache/hudi/pull/1844/files#diff-07dd5ed6077721a382c35b2700da0883R130.\r\n\r\ndiff Event.json_schema Event-aged.json_schema \r\n>     },\r\n>     {\r\n>       \"name\": \"agedOptionalField\",\r\n>       \"type\": [\r\n>         \"null\",\r\n>         {\r\n>           \"type\": \"string\",\r\n>           \"avro.java.string\": \"String\"\r\n>         }\r\n>       ],\r\n>       \"doc\": \"New aged optional field\",\r\n>       \"default\": null\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660853366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660950311","html_url":"https://github.com/apache/hudi/pull/1770#issuecomment-660950311","issue_url":"https://api.github.com/repos/apache/hudi/issues/1770","id":660950311,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDk1MDMxMQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T10:41:40Z","updated_at":"2020-07-20T10:41:40Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/1770?src=pr&el=h1) Report\n> Merging [#1770](https://codecov.io/gh/apache/hudi/pull/1770?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/c7f1a781ab4ff3784d53a102364fd85e379811d1&el=desc) will **decrease** coverage by `5.84%`.\n> The diff coverage is `64.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/1770/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/1770?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1770      +/-   ##\n============================================\n- Coverage     60.48%   54.63%   -5.85%     \n+ Complexity     3627     3022     -605     \n============================================\n  Files           439      404      -35     \n  Lines         19007    16867    -2140     \n  Branches       1916     1664     -252     \n============================================\n- Hits          11496     9215    -2281     \n- Misses         6725     7028     +303     \n+ Partials        786      624     -162     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| #hudicli | `68.96% <64.00%> (+0.58%)` | `1447.00 <6.00> (+18.00)` | |\n| #hudiclient | `79.25% <ø> (+0.05%)` | `1257.00 <ø> (ø)` | |\n| #hudicommon | `54.74% <ø> (+0.45%)` | `1508.00 <ø> (+22.00)` | |\n| #hudihadoopmr | `?` | `?` | |\n| #hudihivesync | `?` | `?` | |\n| #hudispark | `19.83% <ø> (-27.50%)` | `19.00 <ø> (-83.00)` | |\n| #huditimelineservice | `?` | `?` | |\n| #hudiutilities | `12.07% <ø> (-62.50%)` | `48.00 <ø> (-231.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/1770?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/hudi/cli/utils/SparkTempViewProvider.java](https://codecov.io/gh/apache/hudi/pull/1770/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL3V0aWxzL1NwYXJrVGVtcFZpZXdQcm92aWRlci5qYXZh) | `59.67% <55.55%> (+59.67%)` | `12.00 <2.00> (+12.00)` | |\n| [.../org/apache/hudi/cli/commands/TempViewCommand.java](https://codecov.io/gh/apache/hudi/pull/1770/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1RlbXBWaWV3Q29tbWFuZC5qYXZh) | `69.23% <66.66%> (+49.23%)` | `4.00 <3.00> (+3.00)` | |\n| [...i/src/main/java/org/apache/hudi/cli/HoodieCLI.java](https://codecov.io/gh/apache/hudi/pull/1770/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL0hvb2RpZUNMSS5qYXZh) | `89.18% <75.00%> (+7.37%)` | `18.00 <1.00> (+3.00)` | |\n| [...g/apache/hudi/keygen/GlobalDeleteKeyGenerator.java](https://codecov.io/gh/apache/hudi/pull/1770/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9rZXlnZW4vR2xvYmFsRGVsZXRlS2V5R2VuZXJhdG9yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-7.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/1770/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/1770/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/1770/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/1770/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/1770/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/1770/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| ... and [103 more](https://codecov.io/gh/apache/hudi/pull/1770/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660950311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660974770","html_url":"https://github.com/apache/hudi/pull/1851#issuecomment-660974770","issue_url":"https://api.github.com/repos/apache/hudi/issues/1851","id":660974770,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDk3NDc3MA==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T11:37:58Z","updated_at":"2020-07-20T11:37:58Z","author_association":"CONTRIBUTOR","body":"@zherenyu831 Thanks for your contributing! would you please check the travis failure?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660974770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660975134","html_url":"https://github.com/apache/hudi/pull/1842#issuecomment-660975134","issue_url":"https://api.github.com/repos/apache/hudi/issues/1842","id":660975134,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDk3NTEzNA==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T11:38:43Z","updated_at":"2020-07-20T11:38:43Z","author_association":"CONTRIBUTOR","body":"> Hi, @yanghua @leesf, I was wondering maybe we should throw an exception instead of logging a warning when the callback service failed(log waring currently).\r\n> Since the callback is not enabled by default, If the user enables the callback service, then the callback is really what they want, so, if any error occurred, the job should fail.\r\n> what do you think?\r\n\r\nreasonable","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660975134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660992766","html_url":"https://github.com/apache/hudi/pull/1816#issuecomment-660992766","issue_url":"https://api.github.com/repos/apache/hudi/issues/1816","id":660992766,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDk5Mjc2Ng==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T12:20:56Z","updated_at":"2020-07-20T12:20:56Z","author_association":"CONTRIBUTOR","body":"@pratyakshsharma Thanks for the updates and sorry for late response. For users not using latest master, they still need use `NonpartitionedKeyGenerator`, so I think it is valuable to mention it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/660992766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661195131","html_url":"https://github.com/apache/hudi/issues/1825#issuecomment-661195131","issue_url":"https://api.github.com/repos/apache/hudi/issues/1825","id":661195131,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTE5NTEzMQ==","user":{"login":"asheeshgarg","id":4348671,"node_id":"MDQ6VXNlcjQzNDg2NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4348671?v=4","gravatar_id":"","url":"https://api.github.com/users/asheeshgarg","html_url":"https://github.com/asheeshgarg","followers_url":"https://api.github.com/users/asheeshgarg/followers","following_url":"https://api.github.com/users/asheeshgarg/following{/other_user}","gists_url":"https://api.github.com/users/asheeshgarg/gists{/gist_id}","starred_url":"https://api.github.com/users/asheeshgarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asheeshgarg/subscriptions","organizations_url":"https://api.github.com/users/asheeshgarg/orgs","repos_url":"https://api.github.com/users/asheeshgarg/repos","events_url":"https://api.github.com/users/asheeshgarg/events{/privacy}","received_events_url":"https://api.github.com/users/asheeshgarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T17:04:04Z","updated_at":"2020-07-20T17:04:04Z","author_association":"NONE","body":"@bvaradar  thanks Balaji for your continuous support will test this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661195131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661196097","html_url":"https://github.com/apache/hudi/issues/1787#issuecomment-661196097","issue_url":"https://api.github.com/repos/apache/hudi/issues/1787","id":661196097,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTE5NjA5Nw==","user":{"login":"asheeshgarg","id":4348671,"node_id":"MDQ6VXNlcjQzNDg2NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4348671?v=4","gravatar_id":"","url":"https://api.github.com/users/asheeshgarg","html_url":"https://github.com/asheeshgarg","followers_url":"https://api.github.com/users/asheeshgarg/followers","following_url":"https://api.github.com/users/asheeshgarg/following{/other_user}","gists_url":"https://api.github.com/users/asheeshgarg/gists{/gist_id}","starred_url":"https://api.github.com/users/asheeshgarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asheeshgarg/subscriptions","organizations_url":"https://api.github.com/users/asheeshgarg/orgs","repos_url":"https://api.github.com/users/asheeshgarg/repos","events_url":"https://api.github.com/users/asheeshgarg/events{/privacy}","received_events_url":"https://api.github.com/users/asheeshgarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T17:05:03Z","updated_at":"2020-07-20T17:05:03Z","author_association":"NONE","body":"@bvaradar I am running  hudi-spark-bundle","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661196097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661204597","html_url":"https://github.com/apache/hudi/issues/1839#issuecomment-661204597","issue_url":"https://api.github.com/repos/apache/hudi/issues/1839","id":661204597,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTIwNDU5Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T17:13:58Z","updated_at":"2020-07-20T17:13:58Z","author_association":"MEMBER","body":"@rubenssoto yes. we already support incremental queries using the spark datasource. It seems like the only thing missing here is that you want the spark structured streaming integration? (which we can add after 0.6.0)\r\nhttps://hudi.apache.org/docs/querying_data.html#spark-incr-query\r\n\r\nhttps://www.youtube.com/watch?v=1w3IpavhSWA actually talks about a production use-case we build using an incremental query + some grouping on the sink side. Unlike delta, Hudi actually has record level metadata around arrival times and thus does not need anything like ignoreChanges. \r\n\r\nI am not sure if I am missing something around your use-case, but feels like you should be able to get this working incrementally end-end with what we have today (again, we can add spark streaming read support.. if there are hands to help.. cc @garyli1019? :)) \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661204597/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661235040","html_url":"https://github.com/apache/hudi/issues/1839#issuecomment-661235040","issue_url":"https://api.github.com/repos/apache/hudi/issues/1839","id":661235040,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTIzNTA0MA==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T17:44:57Z","updated_at":"2020-07-20T17:44:57Z","author_association":"NONE","body":"Hi Vinoth, thank you for your anwser.\r\n\r\nI will see your video, probably incremental query will help me for now, but we want to use spark structured streaming like a default for all our datasets, spark streaming take care about checkpoint and stuffs like this.\r\n\r\nIf will could add spark structured streaming integration in a future version, will be great.\r\n\r\nThank you! :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661235040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661272780","html_url":"https://github.com/apache/hudi/issues/1839#issuecomment-661272780","issue_url":"https://api.github.com/repos/apache/hudi/issues/1839","id":661272780,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTI3Mjc4MA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T18:56:37Z","updated_at":"2020-07-20T18:56:37Z","author_association":"MEMBER","body":"This is an interesting feature. I created a ticket to track this. https://issues.apache.org/jira/browse/HUDI-1114.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661272780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661287128","html_url":"https://github.com/apache/hudi/issues/1847#issuecomment-661287128","issue_url":"https://api.github.com/repos/apache/hudi/issues/1847","id":661287128,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTI4NzEyOA==","user":{"login":"zuyanton","id":67354813,"node_id":"MDQ6VXNlcjY3MzU0ODEz","avatar_url":"https://avatars.githubusercontent.com/u/67354813?v=4","gravatar_id":"","url":"https://api.github.com/users/zuyanton","html_url":"https://github.com/zuyanton","followers_url":"https://api.github.com/users/zuyanton/followers","following_url":"https://api.github.com/users/zuyanton/following{/other_user}","gists_url":"https://api.github.com/users/zuyanton/gists{/gist_id}","starred_url":"https://api.github.com/users/zuyanton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuyanton/subscriptions","organizations_url":"https://api.github.com/users/zuyanton/orgs","repos_url":"https://api.github.com/users/zuyanton/repos","events_url":"https://api.github.com/users/zuyanton/events{/privacy}","received_events_url":"https://api.github.com/users/zuyanton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T19:25:46Z","updated_at":"2020-07-20T20:49:12Z","author_association":"NONE","body":"@bvaradar , logging  ```fileStatus.getClass().getName()``` from within ```HoodieBaseFile``` constructor, gives me ```com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem$3```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661287128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661421240","html_url":"https://github.com/apache/hudi/pull/1149#issuecomment-661421240","issue_url":"https://api.github.com/repos/apache/hudi/issues/1149","id":661421240,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTQyMTI0MA==","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T23:09:41Z","updated_at":"2020-07-20T23:09:41Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Thanks for the fix.  There is some ad-hoc code in this PR just for testing.  Let me clean that up.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661421240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661451741","html_url":"https://github.com/apache/hudi/pull/1149#issuecomment-661451741","issue_url":"https://api.github.com/repos/apache/hudi/issues/1149","id":661451741,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTQ1MTc0MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T23:46:21Z","updated_at":"2020-07-20T23:46:21Z","author_association":"CONTRIBUTOR","body":"sure, thanks. Once done, do ping me and vinoth for review. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661451741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661457074","html_url":"https://github.com/apache/hudi/issues/1846#issuecomment-661457074","issue_url":"https://api.github.com/repos/apache/hudi/issues/1846","id":661457074,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTQ1NzA3NA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T23:52:57Z","updated_at":"2020-07-20T23:52:57Z","author_association":"CONTRIBUTOR","body":"@xushiyan : As you are familiar with this part, would you be able to help answer this question ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661457074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661461345","html_url":"https://github.com/apache/hudi/issues/1847#issuecomment-661461345","issue_url":"https://api.github.com/repos/apache/hudi/issues/1847","id":661461345,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTQ2MTM0NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-20T23:58:07Z","updated_at":"2020-07-20T23:58:07Z","author_association":"CONTRIBUTOR","body":"@zuyanton : I am not sure if I can find the source code of this class. @umehrot2 : Can you let me know if the current implementation of FileStatus returned S3NativeFileSystem overrides getLen() ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661461345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661504763","html_url":"https://github.com/apache/hudi/pull/1827#issuecomment-661504763","issue_url":"https://api.github.com/repos/apache/hudi/issues/1827","id":661504763,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTUwNDc2Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T00:51:00Z","updated_at":"2020-07-21T00:51:00Z","author_association":"MEMBER","body":"@satishkotha @nbalajee @prashantwason @modi95  please take a look as well.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661504763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661596798","html_url":"https://github.com/apache/hudi/pull/1851#issuecomment-661596798","issue_url":"https://api.github.com/repos/apache/hudi/issues/1851","id":661596798,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTU5Njc5OA==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T02:58:20Z","updated_at":"2020-07-21T02:58:20Z","author_association":"CONTRIBUTOR","body":"@leesf \r\nFixed, please check","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661596798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661633207","html_url":"https://github.com/apache/hudi/pull/1756#issuecomment-661633207","issue_url":"https://api.github.com/repos/apache/hudi/issues/1756","id":661633207,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTYzMzIwNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T04:56:59Z","updated_at":"2020-07-21T04:56:59Z","author_association":"MEMBER","body":"@lw309637554 Looks good. Planning to merge after CI passes this time.. Thanks a lot of for your contributions. This is one very important PR !","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661633207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661642358","html_url":"https://github.com/apache/hudi/pull/1848#issuecomment-661642358","issue_url":"https://api.github.com/repos/apache/hudi/issues/1848","id":661642358,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTY0MjM1OA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T05:29:36Z","updated_at":"2020-07-21T05:29:36Z","author_association":"MEMBER","body":"@vinothchandar @umehrot2 Ready for review. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661642358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661660112","html_url":"https://github.com/apache/hudi/pull/1722#issuecomment-661660112","issue_url":"https://api.github.com/repos/apache/hudi/issues/1722","id":661660112,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTY2MDExMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T06:23:19Z","updated_at":"2020-07-21T06:23:19Z","author_association":"MEMBER","body":"@garyli1019 should we close this in favor of #1848 ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661660112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661677452","html_url":"https://github.com/apache/hudi/pull/1848#issuecomment-661677452","issue_url":"https://api.github.com/repos/apache/hudi/issues/1848","id":661677452,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTY3NzQ1Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T07:08:00Z","updated_at":"2020-07-21T07:08:00Z","author_association":"MEMBER","body":"@umehrot2 can you also please make a quick second pass. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661677452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661679756","html_url":"https://github.com/apache/hudi/pull/1768#issuecomment-661679756","issue_url":"https://api.github.com/repos/apache/hudi/issues/1768","id":661679756,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTY3OTc1Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T07:13:33Z","updated_at":"2020-07-21T07:13:33Z","author_association":"MEMBER","body":"@umehrot2 just landed the changes I mentioned. can we rework this PR and try again . We can make things parallel i.e working for s3 for now. and then we can adjust for HDFS later on. So we should be able close the loop faster.\r\n\r\nI do want to get this into 0.6.0 so also please let me know if you are unable to take a stab at this ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661679756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661682772","html_url":"https://github.com/apache/hudi/pull/1792#issuecomment-661682772","issue_url":"https://api.github.com/repos/apache/hudi/issues/1792","id":661682772,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTY4Mjc3Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T07:20:52Z","updated_at":"2020-07-21T07:20:52Z","author_association":"MEMBER","body":"@nsivabalan this does seem good to me. Can we add a Unit test specifically for `OverwriteWithLatestAvroPayload` which just tests these scenarios at the single class elvel? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661682772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661690560","html_url":"https://github.com/apache/hudi/pull/1756#issuecomment-661690560","issue_url":"https://api.github.com/repos/apache/hudi/issues/1756","id":661690560,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTY5MDU2MA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T07:38:32Z","updated_at":"2020-07-21T07:38:32Z","author_association":"CONTRIBUTOR","body":"> @lw309637554 Looks good. Planning to merge after CI passes this time.. Thanks a lot of for your contributions. This is one very important PR !\r\n\r\n\r\nGreat, a very good cooperation experience . I can start other work","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661690560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661692328","html_url":"https://github.com/apache/hudi/issues/1852#issuecomment-661692328","issue_url":"https://api.github.com/repos/apache/hudi/issues/1852","id":661692328,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTY5MjMyOA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T07:42:28Z","updated_at":"2020-07-21T07:42:28Z","author_association":"CONTRIBUTOR","body":"```\r\nAnd looking at the thread dump of the executors they are almost always spending their time listing files.\r\n```\r\n\r\nThis looks surprising to me. file listing for finding latest file versions for index lookup and writing happens in driver (concurrently within embedded-service). If the executors have trouble connecting to the driver, then executor would list them. Do you see any non-fatal exceptions when writing ? Can you also paste the timeline (listing of .hoodie folder) \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661692328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661695358","html_url":"https://github.com/apache/hudi/issues/1854#issuecomment-661695358","issue_url":"https://api.github.com/repos/apache/hudi/issues/1854","id":661695358,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTY5NTM1OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T07:49:02Z","updated_at":"2020-07-21T07:49:02Z","author_association":"CONTRIBUTOR","body":"Is the table (xxxx.xxxx_acidtest2) registered as Hive table. If so, can you provide the complete table description of the table (desc formatted <table>) in Hive metastore.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661695358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661709618","html_url":"https://github.com/apache/hudi/issues/1845#issuecomment-661709618","issue_url":"https://api.github.com/repos/apache/hudi/issues/1845","id":661709618,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTcwOTYxOA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T08:18:30Z","updated_at":"2020-07-21T08:18:30Z","author_association":"CONTRIBUTOR","body":"@sbernauer : Are you appending this field to the end of the schema ? Otherwise looks ok. Although honestly,  I have not seen the usage of \"avro.java.string\": \"String\" before.\r\n\r\n@prashantwason  @n3nash : Any ideas  what is wrong here ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661709618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661711698","html_url":"https://github.com/apache/hudi/issues/1845#issuecomment-661711698","issue_url":"https://api.github.com/repos/apache/hudi/issues/1845","id":661711698,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTcxMTY5OA==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T08:22:48Z","updated_at":"2020-07-21T08:22:48Z","author_association":"CONTRIBUTOR","body":"@bvaradar, yes i am appending the field to end of the schema (as reproduced in the test). The definition of the event is outside my scope, we just consume this events ;)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661711698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661736470","html_url":"https://github.com/apache/hudi/pull/1810#issuecomment-661736470","issue_url":"https://api.github.com/repos/apache/hudi/issues/1810","id":661736470,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTczNjQ3MA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T09:11:24Z","updated_at":"2020-07-21T09:11:24Z","author_association":"CONTRIBUTOR","body":"@vinothchandar The pr is ready overall. Can you help to review ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661736470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661790185","html_url":"https://github.com/apache/hudi/pull/1855#issuecomment-661790185","issue_url":"https://api.github.com/repos/apache/hudi/issues/1855","id":661790185,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTc5MDE4NQ==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T11:05:51Z","updated_at":"2020-07-21T11:05:51Z","author_association":"CONTRIBUTOR","body":"close to retrigger","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661790185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661874341","html_url":"https://github.com/apache/hudi/issues/1825#issuecomment-661874341","issue_url":"https://api.github.com/repos/apache/hudi/issues/1825","id":661874341,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTg3NDM0MQ==","user":{"login":"asheeshgarg","id":4348671,"node_id":"MDQ6VXNlcjQzNDg2NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4348671?v=4","gravatar_id":"","url":"https://api.github.com/users/asheeshgarg","html_url":"https://github.com/asheeshgarg","followers_url":"https://api.github.com/users/asheeshgarg/followers","following_url":"https://api.github.com/users/asheeshgarg/following{/other_user}","gists_url":"https://api.github.com/users/asheeshgarg/gists{/gist_id}","starred_url":"https://api.github.com/users/asheeshgarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asheeshgarg/subscriptions","organizations_url":"https://api.github.com/users/asheeshgarg/orgs","repos_url":"https://api.github.com/users/asheeshgarg/repos","events_url":"https://api.github.com/users/asheeshgarg/events{/privacy}","received_events_url":"https://api.github.com/users/asheeshgarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T13:51:37Z","updated_at":"2020-07-21T13:51:37Z","author_association":"NONE","body":"@bvaradar so the insert are looking fine now the COW compaction is generating 2 parquet file for each date.\r\nI also set the following properties\r\n\r\n\"hoodie.keep.min.commits\": 2,\r\n\"hoodie.keep.max.commits\": 4,\r\nBut still I see lot of entries get accumulated under .hoodie like\r\n2020-07-21 12:20:44    0 Bytes 20200721122042.rollback.inflight\r\n2020-07-21 12:21:45    1.2 KiB 20200721122143.rollback\r\n2020-07-21 12:21:45    0 Bytes 20200721122143.rollback.inflight\r\n2020-07-21 12:31:05    1.0 KiB 20200721123102.rollback\r\n2020-07-21 12:31:05    0 Bytes 20200721123102.rollback.inflight\r\n.......\r\n2020-07-21 13:43:15  950 Bytes 20200721134301.clean.inflight\r\n2020-07-21 13:43:15  950 Bytes 20200721134301.clean.requested\r\n2020-07-21 13:43:12    3.9 KiB 20200721134301.commit\r\n2020-07-21 13:43:02    0 Bytes 20200721134301.commit.requested\r\n2020-07-21 13:43:06    1.0 KiB 20200721134301.inflight\r\n\r\nDo I need to set anything to clean up?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661874341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661874955","html_url":"https://github.com/apache/hudi/issues/1787#issuecomment-661874955","issue_url":"https://api.github.com/repos/apache/hudi/issues/1787","id":661874955,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTg3NDk1NQ==","user":{"login":"asheeshgarg","id":4348671,"node_id":"MDQ6VXNlcjQzNDg2NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4348671?v=4","gravatar_id":"","url":"https://api.github.com/users/asheeshgarg","html_url":"https://github.com/asheeshgarg","followers_url":"https://api.github.com/users/asheeshgarg/followers","following_url":"https://api.github.com/users/asheeshgarg/following{/other_user}","gists_url":"https://api.github.com/users/asheeshgarg/gists{/gist_id}","starred_url":"https://api.github.com/users/asheeshgarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asheeshgarg/subscriptions","organizations_url":"https://api.github.com/users/asheeshgarg/orgs","repos_url":"https://api.github.com/users/asheeshgarg/repos","events_url":"https://api.github.com/users/asheeshgarg/events{/privacy}","received_events_url":"https://api.github.com/users/asheeshgarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T13:52:36Z","updated_at":"2020-07-21T13:52:36Z","author_association":"NONE","body":"@bvaradar any recommendation on this please.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661874955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661909397","html_url":"https://github.com/apache/hudi/issues/1856#issuecomment-661909397","issue_url":"https://api.github.com/repos/apache/hudi/issues/1856","id":661909397,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTkwOTM5Nw==","user":{"login":"GurRonenExplorium","id":61374599,"node_id":"MDQ6VXNlcjYxMzc0NTk5","avatar_url":"https://avatars.githubusercontent.com/u/61374599?v=4","gravatar_id":"","url":"https://api.github.com/users/GurRonenExplorium","html_url":"https://github.com/GurRonenExplorium","followers_url":"https://api.github.com/users/GurRonenExplorium/followers","following_url":"https://api.github.com/users/GurRonenExplorium/following{/other_user}","gists_url":"https://api.github.com/users/GurRonenExplorium/gists{/gist_id}","starred_url":"https://api.github.com/users/GurRonenExplorium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GurRonenExplorium/subscriptions","organizations_url":"https://api.github.com/users/GurRonenExplorium/orgs","repos_url":"https://api.github.com/users/GurRonenExplorium/repos","events_url":"https://api.github.com/users/GurRonenExplorium/events{/privacy}","received_events_url":"https://api.github.com/users/GurRonenExplorium/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T14:52:28Z","updated_at":"2020-07-21T14:53:03Z","author_association":"NONE","body":"Additional context, the hudi configuration:\r\n```\r\nval hudiOptions = Map[String, String](\r\n      HoodieWriteConfig.TABLE_NAME -> tableName,\r\n      DataSourceWriteOptions.RECORDKEY_FIELD_OPT_KEY -> uuidColumn,\r\n      DataSourceWriteOptions.PARTITIONPATH_FIELD_OPT_KEY -> partitionColumn,\r\n      DataSourceWriteOptions.PRECOMBINE_FIELD_OPT_KEY -> precombineField,\r\n      DataSourceWriteOptions.TABLE_TYPE_OPT_KEY -> DataSourceWriteOptions.COW_TABLE_TYPE_OPT_VAL,\r\n      DataSourceWriteOptions.OPERATION_OPT_KEY -> \"insert\",\r\n      DataSourceWriteOptions.HIVE_SYNC_ENABLED_OPT_KEY -> \"true\",\r\n      DataSourceWriteOptions.HIVE_DATABASE_OPT_KEY -> databaseName,\r\n      DataSourceWriteOptions.HIVE_TABLE_OPT_KEY -> tableName,\r\n      DataSourceWriteOptions.HIVE_PARTITION_FIELDS_OPT_KEY -> partitionColumn,\r\n      DataSourceWriteOptions.HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY -> classOf[MultiPartKeysValueExtractor].getName,\r\n      DataSourceWriteOptions.HIVE_STYLE_PARTITIONING_OPT_KEY -> \"true\",\r\n      HoodieStorageConfig.PARQUET_COMPRESSION_CODEC -> \"snappy\",\r\n      HoodieCompactionConfig.COPY_ON_WRITE_TABLE_INSERT_SPLIT_SIZE -> String.valueOf(5000000),\r\n      HoodieCompactionConfig.COPY_ON_WRITE_TABLE_AUTO_SPLIT_INSERTS -> String.valueOf(true),\r\n      HoodieCompactionConfig.COPY_ON_WRITE_TABLE_RECORD_SIZE_ESTIMATE -> String.valueOf(200)\r\n    )\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661909397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661955977","html_url":"https://github.com/apache/hudi/issues/1825#issuecomment-661955977","issue_url":"https://api.github.com/repos/apache/hudi/issues/1825","id":661955977,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTk1NTk3Nw==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T16:12:52Z","updated_at":"2020-07-21T16:12:52Z","author_association":"NONE","body":"i'm facing the same entries under .hoodie ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661955977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661970919","html_url":"https://github.com/apache/hudi/issues/1852#issuecomment-661970919","issue_url":"https://api.github.com/repos/apache/hudi/issues/1852","id":661970919,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MTk3MDkxOQ==","user":{"login":"ssomuah","id":2061955,"node_id":"MDQ6VXNlcjIwNjE5NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2061955?v=4","gravatar_id":"","url":"https://api.github.com/users/ssomuah","html_url":"https://github.com/ssomuah","followers_url":"https://api.github.com/users/ssomuah/followers","following_url":"https://api.github.com/users/ssomuah/following{/other_user}","gists_url":"https://api.github.com/users/ssomuah/gists{/gist_id}","starred_url":"https://api.github.com/users/ssomuah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssomuah/subscriptions","organizations_url":"https://api.github.com/users/ssomuah/orgs","repos_url":"https://api.github.com/users/ssomuah/repos","events_url":"https://api.github.com/users/ssomuah/events{/privacy}","received_events_url":"https://api.github.com/users/ssomuah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T16:38:36Z","updated_at":"2020-07-21T16:39:09Z","author_association":"NONE","body":"I don't see any exceptions in the driver logs or executor logs. \r\n\r\nI see these two warnings in driver logs\r\n```\r\n20/07/21 13:12:28 WARN IncrementalTimelineSyncFileSystemView: Incremental Sync of timeline is turned off or deemed unsafe. Will revert to full syncing\r\n```\r\n```\r\n20/07/21 13:12:29 WARN CleanPlanner: Incremental Cleaning mode is enabled. Looking up partition-paths that have since changed since last cleaned at 20200721032203. New Instant to retain : Option{val=[20200721032203__commit__COMPLETED]}\r\n```\r\n\r\nThese are the contests of the timeline \r\n[dot_hoodie_folder.txt](https://github.com/apache/hudi/files/4954820/dot_hoodie_folder.txt)\r\n\r\nThe timeline only has files from the current day but I see log files in the data folder from over a week ago, do you have any idea what might be causing so many log files","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/661970919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662007289","html_url":"https://github.com/apache/hudi/issues/1846#issuecomment-662007289","issue_url":"https://api.github.com/repos/apache/hudi/issues/1846","id":662007289,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjAwNzI4OQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T17:42:25Z","updated_at":"2020-07-21T17:42:25Z","author_association":"MEMBER","body":"> Can I use it to read all 0.4.6 COW hoodie data from one path and write back into less files in 0.5.3 format on same path?\r\n\r\nIIUC, this is to perform write operation from one table to another? Does not seem like a use case for HoodieSnapshotCopier, which is meant for back-up, i.e., copy an existing table to another empty dir for a fresh copy.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662007289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662028709","html_url":"https://github.com/apache/hudi/issues/1846#issuecomment-662028709","issue_url":"https://api.github.com/repos/apache/hudi/issues/1846","id":662028709,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjAyODcwOQ==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T18:22:28Z","updated_at":"2020-07-21T18:22:28Z","author_association":"NONE","body":"@xushiyan I want to replace contents of existing table. ie read existing 10k small files from tableA and replace tableA with 20 big files","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662028709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662038478","html_url":"https://github.com/apache/hudi/issues/1846#issuecomment-662038478","issue_url":"https://api.github.com/repos/apache/hudi/issues/1846","id":662038478,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjAzODQ3OA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T18:41:23Z","updated_at":"2020-07-21T18:41:23Z","author_association":"MEMBER","body":"> @xushiyan I want to replace contents of existing table. ie read existing 10k small files from tableA and replace tableA with 20 big files\r\n\r\n@tooptoop4 as i mentioned, HoodieSnapshotCopier is meant for fresh back-up via plain copying. What you want is rewriting data, which involves a hoodie writer job, not available in HoodieSnapshotCopier. Nevertheless, it might make sense for `HoodieSnapshotExporter` to incorporate such feature in the future.\r\n\r\ncc @vinothchandar @bvaradar Seems like ad-hoc transformation/re-writing is getting more often. This resizing could be another use case? a related feature is noted here https://issues.apache.org/jira/browse/HUDI-767","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662038478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662059975","html_url":"https://github.com/apache/hudi/issues/1846#issuecomment-662059975","issue_url":"https://api.github.com/repos/apache/hudi/issues/1846","id":662059975,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjA1OTk3NQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T19:24:54Z","updated_at":"2020-07-21T19:24:54Z","author_association":"MEMBER","body":"@tooptoop4 actually you should be able to achieve that with `HoodieDeltaStreamer`: just point the source to the existing hudi table and write to another dir, make sure set file size properties properly, which include but not limit to https://hudi.apache.org/docs/configurations.html#limitFileSize\r\n\r\nSo on the other side, we should also prevent the scope of Exporter's features from exploding...maybe it should be limited to back-up scenarios.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662059975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662094985","html_url":"https://github.com/apache/hudi/pull/1765#issuecomment-662094985","issue_url":"https://api.github.com/repos/apache/hudi/issues/1765","id":662094985,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjA5NDk4NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-21T20:40:50Z","updated_at":"2020-07-21T20:40:50Z","author_association":"MEMBER","body":"Closing this in favor of #1857 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662094985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662166742","html_url":"https://github.com/apache/hudi/issues/1787#issuecomment-662166742","issue_url":"https://api.github.com/repos/apache/hudi/issues/1787","id":662166742,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjE2Njc0Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T00:03:12Z","updated_at":"2020-07-22T00:03:12Z","author_association":"CONTRIBUTOR","body":"@asheeshgarg : JSONException class is coming from https://mvnrepository.com/artifact/org.json/json There is licensing issue and hence not part of hudi bundle packages. The underlying issue is due to  Hive 1.x vs 2.x ( See https://issues.apache.org/jira/browse/HUDI-150?jql=text%20~%20%22org.json%22%20and%20project%20%3D%20%22Apache%20Hudi%22%20)  \r\n\r\nSpark Hive integration still brings in hive 1.x jars which depends on org.json.  I believe this was provided in user's environment and hence we have not seen folks complaining about this issue. \r\n\r\nEven though this is not Hudi issue per se, let me check a jar with compatible license : https://mvnrepository.com/artifact/com.tdunning/json/1.8 and if it works, we will add to 0.6 bundles after discussing with community. Meanwhile, can you add the json jar ( https://mvnrepository.com/artifact/com.tdunning/json/1.8 or https://mvnrepository.com/artifact/org.json/json) in your classpath and this should resolve the issue.\r\n\r\nTracking Jira: https://issues.apache.org/jira/browse/HUDI-1117","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662166742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662170951","html_url":"https://github.com/apache/hudi/issues/1825#issuecomment-662170951","issue_url":"https://api.github.com/repos/apache/hudi/issues/1825","id":662170951,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjE3MDk1MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T00:18:20Z","updated_at":"2020-07-22T00:18:20Z","author_association":"CONTRIBUTOR","body":"With 0.5.[1/2], Hudi stopped using renames for state transition. Hence, you are seeing separate state files for each action. All these files (except rollback) will be cleaned up as part of archiving. \r\n\r\nFor rollback , here is the tracker ticket to do https://issues.apache.org/jira/browse/HUDI-1118.\r\n\r\nWould you mind listing .hoodie completely and provide as a link ? Note that if there are any pending compactions, then archiving will not archive any commits before an earliest pending compaction. Also, note that the min/max values are for each actions (commit, clean, ...). ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662170951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662177092","html_url":"https://github.com/apache/hudi/issues/1852#issuecomment-662177092","issue_url":"https://api.github.com/repos/apache/hudi/issues/1852","id":662177092,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjE3NzA5Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T00:40:27Z","updated_at":"2020-07-22T00:40:27Z","author_association":"CONTRIBUTOR","body":"MacBook-Pro:hudi balaji.varadarajan$ grep -c '\\.clean.requested'  ~/Downloads/dot_hoodie_folder.txt \r\n16\r\nMacBook-Pro:hudi balaji.varadarajan$ grep -c '\\.deltacommit.requested'  ~/Downloads/dot_hoodie_folder.txt \r\n266\r\nMacBook-Pro:hudi balaji.varadarajan$ grep -c '\\.compaction.requested'  ~/Downloads/dot_hoodie_folder.txt \r\n44\r\nMacBook-Pro:hudi balaji.varadarajan$ grep -c '\\.compaction.inflight'  ~/Downloads/dot_hoodie_folder.txt \r\n44\r\nMacBook-Pro:hudi balaji.varadarajan$ grep -c '\\.commit'  ~/Downloads/dot_hoodie_folder.txt \r\n19\r\n\r\n1. I can see that there are many compactions that are in inflight status but have not completed.  Can you add this patch : https://github.com/apache/hudi/pull/1857 to retry failed compactions automatically ?\r\n2. Those 2 warnings are fine and one of them implies that the embedded timeline-server is on. Can you provide the stack trace where you deduced that most time is spent on listing ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662177092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662220607","html_url":"https://github.com/apache/hudi/pull/1853#issuecomment-662220607","issue_url":"https://api.github.com/repos/apache/hudi/issues/1853","id":662220607,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjIyMDYwNw==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T03:28:37Z","updated_at":"2020-07-22T03:28:37Z","author_association":"MEMBER","body":"> High level, introducing `replace` action changes seem fine to me, interested in learning how old_file_group -> new_file_group mapping is stored and accessed. Yet to review the other PRs if they have this info..\r\n\r\nThis is not 1:1 mapping. So this is not being stored in replace metadata file. We can get new file groups created from corresponding commit metadata file.  As far as I can see, we only need this information for auditing, debugging. So I'm planning to build this with CLI task. Let me know if you see this useful in other scenarios.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662220607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662223025","html_url":"https://github.com/apache/hudi/pull/1859#issuecomment-662223025","issue_url":"https://api.github.com/repos/apache/hudi/issues/1859","id":662223025,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjIyMzAyNQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T03:38:41Z","updated_at":"2020-07-22T03:38:41Z","author_association":"MEMBER","body":"> Reviewed 50%, high level, I feel the changes of excludeFileGroups is being forced into many of the `TableFileSystem` implementations. Need to think more if there is a way to introduce the correct abstractions to avoid having to add this excludeFileGroups everywhere.\r\n\r\nYes, intent is to get early feedback. Appreciate any suggestions. The reason I added excludeFileGroups in all views is that in some cases this list may be huge. So having configurable spillable view (or RocksDB view) can be useful.  \r\n\r\nIt is also possible to encapsulate all this in AbstractFileView and hide it from subclasses too. Let me know if you think that is a better solution.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662223025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662269249","html_url":"https://github.com/apache/hudi/issues/1845#issuecomment-662269249","issue_url":"https://api.github.com/repos/apache/hudi/issues/1845","id":662269249,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjI2OTI0OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T06:30:11Z","updated_at":"2020-07-22T06:30:11Z","author_association":"CONTRIBUTOR","body":"@sbernauer I briefly looked at the test-case you added and I see what you are trying to reproduce. The issue seems to be as follows : \r\n1) Generate data with schema A, pass schema A <works fine>\r\n2) Generate data with schema B, pass schema B <works fine>\r\n3) Generate data with schema A, pass schema B <fails in `AvroConversionHelper`>\r\nWhere schema A is smaller schema, schema B is a larger schema with 1 added field.\r\n@bvaradar Have we tested such a scenario before with the `AvroConversionHelper` class where we convert the RDD<GenericRecord> to DF<Row> with schema A, but pass schema B as the writer schema ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662269249/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662300806","html_url":"https://github.com/apache/hudi/pull/1851#issuecomment-662300806","issue_url":"https://api.github.com/repos/apache/hudi/issues/1851","id":662300806,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjMwMDgwNg==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T07:48:57Z","updated_at":"2020-07-22T07:48:57Z","author_association":"CONTRIBUTOR","body":"@leesf \r\nFixed the code, thank you for advising, could you please check again?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662300806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662309823","html_url":"https://github.com/apache/hudi/pull/1855#issuecomment-662309823","issue_url":"https://api.github.com/repos/apache/hudi/issues/1855","id":662309823,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjMwOTgyMw==","user":{"login":"DeyinZhong","id":44561252,"node_id":"MDQ6VXNlcjQ0NTYxMjUy","avatar_url":"https://avatars.githubusercontent.com/u/44561252?v=4","gravatar_id":"","url":"https://api.github.com/users/DeyinZhong","html_url":"https://github.com/DeyinZhong","followers_url":"https://api.github.com/users/DeyinZhong/followers","following_url":"https://api.github.com/users/DeyinZhong/following{/other_user}","gists_url":"https://api.github.com/users/DeyinZhong/gists{/gist_id}","starred_url":"https://api.github.com/users/DeyinZhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeyinZhong/subscriptions","organizations_url":"https://api.github.com/users/DeyinZhong/orgs","repos_url":"https://api.github.com/users/DeyinZhong/repos","events_url":"https://api.github.com/users/DeyinZhong/events{/privacy}","received_events_url":"https://api.github.com/users/DeyinZhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T08:08:15Z","updated_at":"2020-07-22T08:08:15Z","author_association":"CONTRIBUTOR","body":"> @DeyinZhong Thanks for your contributing, LGTM, would you please also update the docs(http://hudi.apache.org/docs/cloud.html), the docs branch is asf-site. Please ping me if you have any problem.\r\n\r\nThanks,@leesf, I try to update the docs follow the 'https://github.com/apache/hudi/tree/asf-site', add file  hudi/content/docs/cos_hoodie.html and append cos link in cloud.html, rebuild by command 'bundle exec jekyll serve ' in hudi/docs, but there is no change in  _site/cloud.html. please help me to do this work, thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662309823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662352999","html_url":"https://github.com/apache/hudi/pull/1855#issuecomment-662352999","issue_url":"https://api.github.com/repos/apache/hudi/issues/1855","id":662352999,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjM1Mjk5OQ==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T09:39:04Z","updated_at":"2020-07-22T09:39:19Z","author_association":"CONTRIBUTOR","body":"> > @DeyinZhong Thanks for your contributing, LGTM, would you please also update the docs(http://hudi.apache.org/docs/cloud.html), the docs branch is asf-site. Please ping me if you have any problem.\r\n> \r\n> Thanks,@leesf, I try to update the docs follow the 'https://github.com/apache/hudi/tree/asf-site', add file hudi/content/docs/cos_hoodie.html and append cos link in cloud.html, rebuild by command 'bundle exec jekyll serve ' in hudi/docs, but there is no change in _site/cloud.html. please help me to do this work, thank you very much.\r\n\r\nHi @DeyinZhong you should modify `cloud.md` file rather than `cloud.html` file.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662352999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662412357","html_url":"https://github.com/apache/hudi/pull/1827#issuecomment-662412357","issue_url":"https://api.github.com/repos/apache/hudi/issues/1827","id":662412357,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjQxMjM1Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T11:59:26Z","updated_at":"2020-07-22T11:59:26Z","author_association":"MEMBER","body":"@Mathieu1124 , @leesf  : @n3nash said he is half way through reviewing. I took another pass and this seems low risk enough for us to merge for 0.6.0. \r\n\r\nWe have some large PRs pending though #1702  #1678  #1834  . I would like to merge those and then rework this a bit on top of this. How painful do you think the rebase would be? (I can help as much as I can as well). Does this sound like a good plan to you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662412357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662436124","html_url":"https://github.com/apache/hudi/issues/1856#issuecomment-662436124","issue_url":"https://api.github.com/repos/apache/hudi/issues/1856","id":662436124,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjQzNjEyNA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T12:55:22Z","updated_at":"2020-07-22T12:55:22Z","author_association":"NONE","body":"@GurRonenExplorium - a JIRA issue exists for this problem: https://issues.apache.org/jira/browse/HUDI-874","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662436124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662440954","html_url":"https://github.com/apache/hudi/pull/1851#issuecomment-662440954","issue_url":"https://api.github.com/repos/apache/hudi/issues/1851","id":662440954,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjQ0MDk1NA==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T13:05:18Z","updated_at":"2020-07-22T13:05:18Z","author_association":"CONTRIBUTOR","body":"@leesf\r\nI migrated test class into TestMetricsReporterFactory, and also used HoodieException instead, please check","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662440954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662442723","html_url":"https://github.com/apache/hudi/issues/1856#issuecomment-662442723","issue_url":"https://api.github.com/repos/apache/hudi/issues/1856","id":662442723,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjQ0MjcyMw==","user":{"login":"GurRonenExplorium","id":61374599,"node_id":"MDQ6VXNlcjYxMzc0NTk5","avatar_url":"https://avatars.githubusercontent.com/u/61374599?v=4","gravatar_id":"","url":"https://api.github.com/users/GurRonenExplorium","html_url":"https://github.com/GurRonenExplorium","followers_url":"https://api.github.com/users/GurRonenExplorium/followers","following_url":"https://api.github.com/users/GurRonenExplorium/following{/other_user}","gists_url":"https://api.github.com/users/GurRonenExplorium/gists{/gist_id}","starred_url":"https://api.github.com/users/GurRonenExplorium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GurRonenExplorium/subscriptions","organizations_url":"https://api.github.com/users/GurRonenExplorium/orgs","repos_url":"https://api.github.com/users/GurRonenExplorium/repos","events_url":"https://api.github.com/users/GurRonenExplorium/events{/privacy}","received_events_url":"https://api.github.com/users/GurRonenExplorium/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T13:08:40Z","updated_at":"2020-07-22T13:08:40Z","author_association":"NONE","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662442723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662474645","html_url":"https://github.com/apache/hudi/pull/1827#issuecomment-662474645","issue_url":"https://api.github.com/repos/apache/hudi/issues/1827","id":662474645,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjQ3NDY0NQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T14:07:53Z","updated_at":"2020-07-22T14:11:13Z","author_association":"CONTRIBUTOR","body":"> @Mathieu1124 , @leesf : @n3nash said he is half way through reviewing. I took another pass and this seems low risk enough for us to merge for 0.6.0.\r\n> \r\n> We have some large PRs pending though #1702 #1678 #1834 . I would like to merge those and then rework this a bit on top of this. How painful do you think the rebase would be? (I can help as much as I can as well). Does this sound like a good plan to you\r\n@vinothchandar, I have taken a quick pass about that three PRs above, can't say that'll be little work, but I am ok with this plan since these three PRs are based on the same base, so leaving this PR at the last could greatly reduce their workload on rebasing and gives more time for us to test this PR.\r\nwe'll do our best to push this PR, and merge this for 0.6.0","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662474645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662496685","html_url":"https://github.com/apache/hudi/pull/1774#issuecomment-662496685","issue_url":"https://api.github.com/repos/apache/hudi/issues/1774","id":662496685,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjQ5NjY4NQ==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T14:47:11Z","updated_at":"2020-07-22T14:47:11Z","author_association":"CONTRIBUTOR","body":"@yanghua : Thanks for your review, had address them.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662496685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662525238","html_url":"https://github.com/apache/hudi/issues/1787#issuecomment-662525238","issue_url":"https://api.github.com/repos/apache/hudi/issues/1787","id":662525238,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjUyNTIzOA==","user":{"login":"asheeshgarg","id":4348671,"node_id":"MDQ6VXNlcjQzNDg2NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4348671?v=4","gravatar_id":"","url":"https://api.github.com/users/asheeshgarg","html_url":"https://github.com/asheeshgarg","followers_url":"https://api.github.com/users/asheeshgarg/followers","following_url":"https://api.github.com/users/asheeshgarg/following{/other_user}","gists_url":"https://api.github.com/users/asheeshgarg/gists{/gist_id}","starred_url":"https://api.github.com/users/asheeshgarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asheeshgarg/subscriptions","organizations_url":"https://api.github.com/users/asheeshgarg/orgs","repos_url":"https://api.github.com/users/asheeshgarg/repos","events_url":"https://api.github.com/users/asheeshgarg/events{/privacy}","received_events_url":"https://api.github.com/users/asheeshgarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T15:36:54Z","updated_at":"2020-07-22T15:36:54Z","author_association":"NONE","body":"@bvaradar I added https://mvnrepository.com/artifact/com.tdunning/json/1.8/json-1.8.jar to spark jars but still facing the same issue\r\n An error occurred while calling o179.save.\r\n: java.lang.NoClassDefFoundError: org/json/JSONException\r\n\tat org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeCreateTable(SemanticAnalyzer.java:10847)\r\n\tat org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genResolvedParseTree(SemanticAnalyzer.java:10047)\r\n\tat org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:10128)\r\n\tat org.apache.hadoop.hive.ql.parse.CalcitePlanner.analyzeInternal(CalcitePlanner.java:209)\r\n\tat org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:227)\r\n\tat org.apache.hadoop.hive.ql.Driver.compile(Driver.java:424)\r\n\tat org.apache.hadoop.hive.ql.Driver.compile(Driver.java:308)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662525238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662530755","html_url":"https://github.com/apache/hudi/issues/1825#issuecomment-662530755","issue_url":"https://api.github.com/repos/apache/hudi/issues/1825","id":662530755,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjUzMDc1NQ==","user":{"login":"asheeshgarg","id":4348671,"node_id":"MDQ6VXNlcjQzNDg2NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4348671?v=4","gravatar_id":"","url":"https://api.github.com/users/asheeshgarg","html_url":"https://github.com/asheeshgarg","followers_url":"https://api.github.com/users/asheeshgarg/followers","following_url":"https://api.github.com/users/asheeshgarg/following{/other_user}","gists_url":"https://api.github.com/users/asheeshgarg/gists{/gist_id}","starred_url":"https://api.github.com/users/asheeshgarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asheeshgarg/subscriptions","organizations_url":"https://api.github.com/users/asheeshgarg/orgs","repos_url":"https://api.github.com/users/asheeshgarg/repos","events_url":"https://api.github.com/users/asheeshgarg/events{/privacy}","received_events_url":"https://api.github.com/users/asheeshgarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T15:47:13Z","updated_at":"2020-07-22T15:47:13Z","author_association":"NONE","body":"@bvaradar  the content of .hoodie is listed at https://gist.github.com/asheeshgarg/8897de60ab6ba78b5847f5432a4a69dd\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662530755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662533183","html_url":"https://github.com/apache/hudi/issues/1845#issuecomment-662533183","issue_url":"https://api.github.com/repos/apache/hudi/issues/1845","id":662533183,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjUzMzE4Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T15:51:30Z","updated_at":"2020-07-22T15:51:30Z","author_association":"CONTRIBUTOR","body":"Thanks @n3nash \r\n@sbernauer : I think the exception you are seeing in the production could be because of different reasons  than the tests. I would like to decouple them and focus on the exception you are seeing in your prod setup.  To localize the problem (due to pure avro issue vs hudi-avro-usage), can you write an avro only test (without any hudi/spark), writing a record with your old schema and reading with new schema and ensure if it works fine ? \r\n\r\nAlso, I see that you are using spark and Hadoop 3.x. Please make sure you are using the right version of avro that we support - 1.8.2 at runtime. That could also be an issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662533183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662535162","html_url":"https://github.com/apache/hudi/issues/1860#issuecomment-662535162","issue_url":"https://api.github.com/repos/apache/hudi/issues/1860","id":662535162,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjUzNTE2Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T15:54:57Z","updated_at":"2020-07-22T15:54:57Z","author_association":"CONTRIBUTOR","body":"@stackfun : You are running spark query first followed by hive query. Between the 2 runs, hudi would have committed the data and that could be the reason you are seeing inconsistent results.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662535162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662536376","html_url":"https://github.com/apache/hudi/issues/1840#issuecomment-662536376","issue_url":"https://api.github.com/repos/apache/hudi/issues/1840","id":662536376,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjUzNjM3Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T15:57:02Z","updated_at":"2020-07-22T15:57:02Z","author_association":"CONTRIBUTOR","body":"@reenarosid @nsivabalan : Can we close this issue ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662536376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662540757","html_url":"https://github.com/apache/hudi/issues/1787#issuecomment-662540757","issue_url":"https://api.github.com/repos/apache/hudi/issues/1787","id":662540757,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjU0MDc1Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T16:04:39Z","updated_at":"2020-07-22T16:04:39Z","author_association":"CONTRIBUTOR","body":"@asheeshgarg : I can see the class in the jar. Please check if you are using the right options in adding the jar to spark driver.\r\n\r\nMacBook-Pro:oss balaji.varadarajan$ jar tf ~/Downloads/json-1.8.jar \r\nMETA-INF/\r\nMETA-INF/MANIFEST.MF\r\norg/\r\norg/json/\r\norg/json/JSON.class\r\norg/json/JSONArray.class\r\norg/json/JSONException.class\r\norg/json/JSONObject$1.class\r\norg/json/JSONObject.class\r\norg/json/JSONString.class\r\norg/json/JSONStringer$Scope.class\r\norg/json/JSONStringer.class\r\norg/json/JSONTokener.class\r\nMETA-INF/maven/\r\nMETA-INF/maven/com.tdunning/\r\nMETA-INF/maven/com.tdunning/json/\r\nMETA-INF/maven/com.tdunning/json/pom.xml\r\nMETA-INF/maven/com.tdunning/json/pom.properties","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662540757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662543343","html_url":"https://github.com/apache/hudi/issues/1825#issuecomment-662543343","issue_url":"https://api.github.com/repos/apache/hudi/issues/1825","id":662543343,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjU0MzM0Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T16:09:24Z","updated_at":"2020-07-22T16:09:24Z","author_association":"CONTRIBUTOR","body":"@asheeshgarg : I can only see rollback files here. These should be cleaned up when the HUDI-1118 is added. BTW, this actually points out that you are seeing (or had seen) lots of failure. This is not normal and you would have to see what the failures when you ingest the data. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662543343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662544225","html_url":"https://github.com/apache/hudi/issues/1856#issuecomment-662544225","issue_url":"https://api.github.com/repos/apache/hudi/issues/1856","id":662544225,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjU0NDIyNQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T16:10:57Z","updated_at":"2020-07-22T16:10:57Z","author_association":"CONTRIBUTOR","body":"cc @umehrot2 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662544225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662584698","html_url":"https://github.com/apache/hudi/pull/1149#issuecomment-662584698","issue_url":"https://api.github.com/repos/apache/hudi/issues/1149","id":662584698,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjU4NDY5OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T17:28:42Z","updated_at":"2020-07-22T17:28:42Z","author_association":"MEMBER","body":">Do you think we need this? If not, I can remove this class (also getting rid of the scala imports).\r\n\r\n@yihua yes lets remove this for now. globally_sorted, local_sorted, no_sort should be good enough for now ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662584698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662612691","html_url":"https://github.com/apache/hudi/issues/1825#issuecomment-662612691","issue_url":"https://api.github.com/repos/apache/hudi/issues/1825","id":662612691,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjYxMjY5MQ==","user":{"login":"asheeshgarg","id":4348671,"node_id":"MDQ6VXNlcjQzNDg2NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4348671?v=4","gravatar_id":"","url":"https://api.github.com/users/asheeshgarg","html_url":"https://github.com/asheeshgarg","followers_url":"https://api.github.com/users/asheeshgarg/followers","following_url":"https://api.github.com/users/asheeshgarg/following{/other_user}","gists_url":"https://api.github.com/users/asheeshgarg/gists{/gist_id}","starred_url":"https://api.github.com/users/asheeshgarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asheeshgarg/subscriptions","organizations_url":"https://api.github.com/users/asheeshgarg/orgs","repos_url":"https://api.github.com/users/asheeshgarg/repos","events_url":"https://api.github.com/users/asheeshgarg/events{/privacy}","received_events_url":"https://api.github.com/users/asheeshgarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T18:25:39Z","updated_at":"2020-07-22T18:25:39Z","author_association":"NONE","body":"@bvaradar you are suggesting look at the spark logs during ingestion or any other logs?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662612691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662626520","html_url":"https://github.com/apache/hudi/issues/1852#issuecomment-662626520","issue_url":"https://api.github.com/repos/apache/hudi/issues/1852","id":662626520,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjYyNjUyMA==","user":{"login":"ssomuah","id":2061955,"node_id":"MDQ6VXNlcjIwNjE5NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2061955?v=4","gravatar_id":"","url":"https://api.github.com/users/ssomuah","html_url":"https://github.com/ssomuah","followers_url":"https://api.github.com/users/ssomuah/followers","following_url":"https://api.github.com/users/ssomuah/following{/other_user}","gists_url":"https://api.github.com/users/ssomuah/gists{/gist_id}","starred_url":"https://api.github.com/users/ssomuah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssomuah/subscriptions","organizations_url":"https://api.github.com/users/ssomuah/orgs","repos_url":"https://api.github.com/users/ssomuah/repos","events_url":"https://api.github.com/users/ssomuah/events{/privacy}","received_events_url":"https://api.github.com/users/ssomuah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T18:54:04Z","updated_at":"2020-07-22T18:54:04Z","author_association":"NONE","body":"1. I'm trying this now. \r\n2. The stack trace is the one I provided above. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662626520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662628377","html_url":"https://github.com/apache/hudi/issues/1825#issuecomment-662628377","issue_url":"https://api.github.com/repos/apache/hudi/issues/1825","id":662628377,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjYyODM3Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T18:57:54Z","updated_at":"2020-07-22T18:57:54Z","author_association":"CONTRIBUTOR","body":"@asheeshgarg : Yes, you should see that the spark job failed and its logs should tell you what is wrong.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662628377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662630342","html_url":"https://github.com/apache/hudi/issues/1852#issuecomment-662630342","issue_url":"https://api.github.com/repos/apache/hudi/issues/1852","id":662630342,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjYzMDM0Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T19:02:00Z","updated_at":"2020-07-22T19:02:00Z","author_association":"CONTRIBUTOR","body":"Sorry, I did not realize that. Let me check and get back","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662630342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662632930","html_url":"https://github.com/apache/hudi/issues/1852#issuecomment-662632930","issue_url":"https://api.github.com/repos/apache/hudi/issues/1852","id":662632930,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjYzMjkzMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T19:06:52Z","updated_at":"2020-07-22T19:06:52Z","author_association":"CONTRIBUTOR","body":"We have a jira : https://issues.apache.org/jira/browse/HUDI-1015 to improve/avoid  listing. I have added this case to the jira.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662632930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662638790","html_url":"https://github.com/apache/hudi/issues/1852#issuecomment-662638790","issue_url":"https://api.github.com/repos/apache/hudi/issues/1852","id":662638790,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjYzODc5MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T19:12:22Z","updated_at":"2020-07-22T19:12:22Z","author_association":"CONTRIBUTOR","body":"Ended up creating a new jira : https://issues.apache.org/jira/browse/HUDI-1119 as this has different cause.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662638790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662658795","html_url":"https://github.com/apache/hudi/issues/1860#issuecomment-662658795","issue_url":"https://api.github.com/repos/apache/hudi/issues/1860","id":662658795,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjY1ODc5NQ==","user":{"login":"stackfun","id":68627128,"node_id":"MDQ6VXNlcjY4NjI3MTI4","avatar_url":"https://avatars.githubusercontent.com/u/68627128?v=4","gravatar_id":"","url":"https://api.github.com/users/stackfun","html_url":"https://github.com/stackfun","followers_url":"https://api.github.com/users/stackfun/followers","following_url":"https://api.github.com/users/stackfun/following{/other_user}","gists_url":"https://api.github.com/users/stackfun/gists{/gist_id}","starred_url":"https://api.github.com/users/stackfun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stackfun/subscriptions","organizations_url":"https://api.github.com/users/stackfun/orgs","repos_url":"https://api.github.com/users/stackfun/repos","events_url":"https://api.github.com/users/stackfun/events{/privacy}","received_events_url":"https://api.github.com/users/stackfun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T19:45:26Z","updated_at":"2020-07-22T19:47:00Z","author_association":"NONE","body":"@bvaradar Thanks for your quick response. I ran the same test but running the hive query first, then the spark query and I'm still seeing similar results. \r\n\r\n```\r\nHive Query:\r\n+--------+\r\n|count(1)|\r\n+--------+\r\n|    3410|\r\n+--------+\r\n\r\nSpark Query:\r\n+--------+\r\n|count(1)|\r\n+--------+\r\n|    3410|\r\n+--------+\r\n\r\nHive Query:\r\n+--------+\r\n|count(1)|\r\n+--------+\r\n|    3410|\r\n+--------+\r\n\r\nSpark Query:\r\n+--------+\r\n|count(1)|\r\n+--------+\r\n|       0|\r\n+--------+\r\n\r\nHive Query:\r\n+--------+\r\n|count(1)|\r\n+--------+\r\n|    3420|\r\n+--------+\r\n\r\nSpark Query:\r\n+--------+\r\n|count(1)|\r\n+--------+\r\n|    3420|\r\n+--------+\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662658795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662694529","html_url":"https://github.com/apache/hudi/issues/1856#issuecomment-662694529","issue_url":"https://api.github.com/repos/apache/hudi/issues/1856","id":662694529,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjY5NDUyOQ==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T21:02:02Z","updated_at":"2020-07-22T21:02:02Z","author_association":"CONTRIBUTOR","body":"@GurRonenExplorium @bvaradar EMR team is aware of this issue when working with Glue metastore. We have fixed it, however it will only be provided in the future EMR releases. Right now the fix is not in any of the existing EMR releases.\r\n\r\nFor now if you want `Schema Evolution` with Hudi on EMR, I would suggest using Hive as the metastore instead of Glue.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662694529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662699185","html_url":"https://github.com/apache/hudi/pull/1848#issuecomment-662699185","issue_url":"https://api.github.com/repos/apache/hudi/issues/1848","id":662699185,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjY5OTE4NQ==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T21:12:09Z","updated_at":"2020-07-22T21:12:09Z","author_association":"CONTRIBUTOR","body":"> @umehrot2 can you also please make a quick second pass.\r\n\r\n@vinothchandar @garyli1019 Sorry for the late response. Plan to review it later today.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662699185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662709245","html_url":"https://github.com/apache/hudi/issues/1825#issuecomment-662709245","issue_url":"https://api.github.com/repos/apache/hudi/issues/1825","id":662709245,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjcwOTI0NQ==","user":{"login":"asheeshgarg","id":4348671,"node_id":"MDQ6VXNlcjQzNDg2NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4348671?v=4","gravatar_id":"","url":"https://api.github.com/users/asheeshgarg","html_url":"https://github.com/asheeshgarg","followers_url":"https://api.github.com/users/asheeshgarg/followers","following_url":"https://api.github.com/users/asheeshgarg/following{/other_user}","gists_url":"https://api.github.com/users/asheeshgarg/gists{/gist_id}","starred_url":"https://api.github.com/users/asheeshgarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asheeshgarg/subscriptions","organizations_url":"https://api.github.com/users/asheeshgarg/orgs","repos_url":"https://api.github.com/users/asheeshgarg/repos","events_url":"https://api.github.com/users/asheeshgarg/events{/privacy}","received_events_url":"https://api.github.com/users/asheeshgarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-22T21:34:30Z","updated_at":"2020-07-22T21:34:30Z","author_association":"NONE","body":"@bvaradar mostly I see \r\n: org.apache.hudi.exception.HoodieRollbackException: Found in-flight commits after time :20200722052838, please rollback greater commits first\r\n\r\nDoes it imply that a transaction has started and in between that another commit has happened?  We are getting data in batches and there are times when there will be multiple writes active for large batch. Please suggest\r\n \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662709245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662761051","html_url":"https://github.com/apache/hudi/issues/1854#issuecomment-662761051","issue_url":"https://api.github.com/repos/apache/hudi/issues/1854","id":662761051,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Mjc2MTA1MQ==","user":{"login":"qingyuan18","id":35717759,"node_id":"MDQ6VXNlcjM1NzE3NzU5","avatar_url":"https://avatars.githubusercontent.com/u/35717759?v=4","gravatar_id":"","url":"https://api.github.com/users/qingyuan18","html_url":"https://github.com/qingyuan18","followers_url":"https://api.github.com/users/qingyuan18/followers","following_url":"https://api.github.com/users/qingyuan18/following{/other_user}","gists_url":"https://api.github.com/users/qingyuan18/gists{/gist_id}","starred_url":"https://api.github.com/users/qingyuan18/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qingyuan18/subscriptions","organizations_url":"https://api.github.com/users/qingyuan18/orgs","repos_url":"https://api.github.com/users/qingyuan18/repos","events_url":"https://api.github.com/users/qingyuan18/events{/privacy}","received_events_url":"https://api.github.com/users/qingyuan18/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-23T00:19:12Z","updated_at":"2020-07-23T00:19:12Z","author_association":"NONE","body":"> Is the table (xxxx.xxxx_acidtest2) registered as Hive table. If so, can you provide the complete table description of the table (desc formatted\r\n> \r\n> ) in Hive metastore.\r\n\r\nhi Balaji\r\n   Thanks for your support!\r\n   yes, it's hive managed table , please see below table details:\r\nhive -e \"desc formatted xxxx.xxxx_acidtest2\"\r\n# col_name              data_type               comment             \r\n                 \r\ncase_no                 string                                      \r\ncase_id                 string                                      \r\nevnt_nm                 string                                      \r\nevnt_crt_loc_dt         string                                      \r\nevnt_crt_loc_ts         string                                      \r\nordr_ver_no             string                                      \r\nevnt_stat_desc          string                                      \r\nprcs_tp_nm              string                                      \r\nlanid                   string                                      \r\nteam                    string                                      \r\ncntry_nm                string                                      \r\n                 \r\n# Detailed Table Information             \r\nDatabase:               xxxx                    \r\nOwnerType:              USER\r\nCreateTime:             Mon Jul 20 17:29:11 AEST 2020    \r\nLastAccessTime:         UNKNOWN                  \r\nRetention:              0                        \r\nLocation:               hdfs://nameservice1/data/operations/hive/raw/xxxx_acidtest2        \r\nTable Type:             MANAGED_TABLE            \r\nTable Parameters:                \r\n        transient_lastDdlTime   1595230151          \r\n                 \r\n# Storage Information            \r\nSerDe Library:          org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe      \r\nInputFormat:            org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat    \r\nOutputFormat:           org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat   \r\nCompressed:             No                       \r\nNum Buckets:            -1                       \r\nBucket Columns:         []                       \r\nSort Columns:           []                       \r\nStorage Desc Params:             \r\n        serialization.format    1 \r\n\r\nI have added the spark.sql.hive.convertMetastoreParquet=false to try to avoid spark sql use it native parquet parser\r\nThanks again\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662761051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662763386","html_url":"https://github.com/apache/hudi/pull/1792#issuecomment-662763386","issue_url":"https://api.github.com/repos/apache/hudi/issues/1792","id":662763386,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Mjc2MzM4Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-23T00:28:19Z","updated_at":"2020-07-23T00:28:19Z","author_association":"MEMBER","body":"```\r\n[ERROR] Failures: \r\n2552[ERROR] org.apache.hudi.client.TestHoodieClientOnCopyOnWriteStorage.testUpsertsUpdatePartitionPathGlobalBloom(HoodieIndex$IndexType)\r\n2553[INFO]   Run 1: PASS\r\n2554[ERROR]   Run 2: TestHoodieClientOnCopyOnWriteStorage.testUpsertsUpdatePartitionPathGlobalBloom:448->testUpsertsUpdatePartitionPath:506 expected: <1> but was: <0>\r\n```\r\n\r\n@nsivabalan this was a recent test right?  this seems to be failing here. may be run this until failiure locally and go from there?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662763386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662768085","html_url":"https://github.com/apache/hudi/pull/1862#issuecomment-662768085","issue_url":"https://api.github.com/repos/apache/hudi/issues/1862","id":662768085,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Mjc2ODA4NQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-23T00:48:41Z","updated_at":"2020-07-23T06:15:08Z","author_association":"MEMBER","body":"@leesf Can we bring back the scala support for spotless first? Right now looks like we don't have any check for scala code.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662768085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662769053","html_url":"https://github.com/apache/hudi/pull/1842#issuecomment-662769053","issue_url":"https://api.github.com/repos/apache/hudi/issues/1842","id":662769053,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Mjc2OTA1Mw==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-23T00:53:07Z","updated_at":"2020-07-23T00:53:07Z","author_association":"CONTRIBUTOR","body":"@Mathieu1124 also please document how to use the callback in the website.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662769053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662773187","html_url":"https://github.com/apache/hudi/pull/1857#issuecomment-662773187","issue_url":"https://api.github.com/repos/apache/hudi/issues/1857","id":662773187,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Mjc3MzE4Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-23T01:10:49Z","updated_at":"2020-07-23T01:10:49Z","author_association":"MEMBER","body":"@bvaradar ready for review. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662773187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662774862","html_url":"https://github.com/apache/hudi/pull/1842#issuecomment-662774862","issue_url":"https://api.github.com/repos/apache/hudi/issues/1842","id":662774862,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Mjc3NDg2Mg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-23T01:16:46Z","updated_at":"2020-07-23T01:16:46Z","author_association":"CONTRIBUTOR","body":"> @Mathieu1124 also please document how to use the callback in the website.\r\n\r\nok，thanks for your review @leesf @yanghua ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662774862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662804672","html_url":"https://github.com/apache/hudi/pull/1865#issuecomment-662804672","issue_url":"https://api.github.com/repos/apache/hudi/issues/1865","id":662804672,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjgwNDY3Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-23T03:44:43Z","updated_at":"2020-07-23T03:44:43Z","author_association":"MEMBER","body":"Please, dont merge until CI passes. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662804672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662806446","html_url":"https://github.com/apache/hudi/issues/1840#issuecomment-662806446","issue_url":"https://api.github.com/repos/apache/hudi/issues/1840","id":662806446,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjgwNjQ0Ng==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-23T03:54:17Z","updated_at":"2020-07-23T03:54:17Z","author_association":"CONTRIBUTOR","body":"it is already closed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/662806446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]