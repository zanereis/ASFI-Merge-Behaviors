[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612252471","html_url":"https://github.com/apache/hudi/issues/1498#issuecomment-612252471","issue_url":"https://api.github.com/repos/apache/hudi/issues/1498","id":612252471,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjI1MjQ3MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T22:48:08Z","updated_at":"2020-04-10T22:48:37Z","author_association":"MEMBER","body":"@vontman @ahmed-elfar First of all. Thanks for all the detailed information! \r\n\r\nAnswers to the good questions you raised \r\n\r\n> Is that the normal time for initial loading for Hudi tables, or we are doing something wrong?\r\n\r\nIt's hard to know what normal time is since it depends on schema, machine and so many things. But we should n't this very off. Tried to explain few things below. \r\n\r\n> Do we need a better cluster/recoures to be able to load the data for the first time?, because it is mentioned on Hudi confluence page that COW bulkinsert should match vanilla parquet writing + sort only.\r\n\r\nIf you are trying to ultimately migrate a table (using bulk_insert once) and then do updates/deletes. I suggest, testing upserts/deletes rather than bulk_insert.. If you primarily want to do bulk_insert alone to get other benefits of Hudi. Happy to work with you more and resolve this. Perf is a major push for the next release. So we can def collaborate here\r\n\r\n\r\n> Does partitioning improves the upsert and/or compaction time for Hudi tables, or just to improve the analytical queries (partition pruning)?\r\n\r\nPartitioning would benefit the query performance obviously. But for writing itself, the data size matter more, I would say. \r\n\r\n> We have noticed that the most time spent in the data indexing (the bulk-insert logic itself) and not the sorting stages/operation before the indexing, so how can we improve that? should we provide our own indexing logic?\r\n\r\nNope. you don't have to supply you own indexing or anthing. Bulk insert does not do any indexing, it does a global sort (so we can pack records belonging to same partition closer into the same file as much) and then writes out files. \r\n\r\n\r\n**Few observations :** \r\n\r\n- 47 min job is gc-ing quite a bit. So that can affect throughput a lot. Have you tried configuring the jvm.\r\n- I do see fair bit of skews here from sorting, which may be affecting over all run times.. #1149 is trying to also provide a non-sorted mode, that tradeoffs file sizing for potentially faster writing.\r\n\r\nOn what could create difference between bulk_insert and spark/parquet :\r\n\r\n- I would also set `\"hoodie.parquet.compression.codec\" -> \"SNAPPY\"` since Hudi uses gzip compression by default, where spark.write.parquet will use SNAPPY \r\n- Hudi currently does an extra `df.rdd` conversion that could affect bulk_insert/insert (upsert/delete workloads are bound by merge costs, this matters less there). I don't see that in your UI though.. \r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612252471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612258453","html_url":"https://github.com/apache/hudi/pull/1457#issuecomment-612258453","issue_url":"https://api.github.com/repos/apache/hudi/issues/1457","id":612258453,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjI1ODQ1Mw==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T23:08:01Z","updated_at":"2020-04-10T23:23:26Z","author_association":"MEMBER","body":"> Structure looks much better now. thanks @prashantwason ..\r\n> \r\n> I raised an issue on the need to copy the avro compatibility code into the project.. Would like to understand why we cannot re-use as is.. I don't know if we can maintain this and keep in sync over time..\r\n> \r\n> Nonetheless. this change also needs to update NOTICE/LICENSE appropriately as well, if we need to reuse that code\r\n\r\n@vinothchandar \r\n\r\nPlease see the details on [HUDI-741](https://issues.apache.org/jira/browse/HUDI-741?focusedCommentId=17081025&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17081025) for the limitation with the original code. \r\n\r\nThis is just one way to compare two schemas. If there is a better way for HUDI, then I will be happy to integrate that instead. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612258453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612262645","html_url":"https://github.com/apache/hudi/pull/1457#issuecomment-612262645","issue_url":"https://api.github.com/repos/apache/hudi/issues/1457","id":612262645,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjI2MjY0NQ==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T23:22:21Z","updated_at":"2020-04-10T23:22:57Z","author_association":"MEMBER","body":"> What will happen if there is incompatible message in Kafka? Will pipeline stall? What will be the way to fix it without purging whole kafka topic?\r\n@afilipchik \r\n\r\nThe current state is that:\r\n1. COW tables: \r\n   - Update to existing parquet file: Will raise as exception during commit as conversion of record to the writerSchema will fail. \r\n   - Insert to new parquet file: Will be ok.\r\n2. MOR Table:\r\n   - Update and insert both will be successful. But will raise exception during compaction.\r\n\r\nI am not very sure on the reader side. Either an exception or the record may be missing the fields.\r\n\r\nSo even today, the pipeline may stall (due to exception). I dont think HUDI has a way out of it yet. You may drop the offending record (before calling HoodieWriteClient::insert()).\r\n\r\nThis change only checks the schema. So if the writerSchema is same, then this code has no extra effect.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612262645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612297922","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-612297922","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":612297922,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjI5NzkyMg==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T02:07:13Z","updated_at":"2020-04-11T02:07:13Z","author_association":"CONTRIBUTOR","body":"> @yanghua @xushiyan my style has been to only use javadocs when it warrants them. forced writing of trivial/obvious docs is not very helpful.. That said, public APIs should have detailed/accurate javadocs, test framework/utility classes should. Not sure if we want to burn cycles (and increase file lengths) just for sake of having javadocs..\r\n> \r\n> I know this is subjective. but atleast goes with few books I have read in the past and what made sense to me.. We can also start a separate DISCUSS on this and defer..\r\n\r\n@vinothchandar  I think we all understand that sometimes class names or method names are inherently readable and they can be self-explanatory. Adding javadocs to some classes seems a bit redundant.\r\n\r\nMy more consideration is: Constraint and standardization are conducive to the formation of good habits. Because the developers involved in the community are diverse. And many developers have a \"lazy psychology\", that is, without such constraints, they may rather not do it, not everyone has a good habit to think more. In fact, some test classes may be very simple and do not need to add a document description, but some classes may require, even some instructions and warnings.\r\n\r\nBut once we do not enable tool inspection, many contributors will be reluctant to do this out of \"lazy psychology\". In order to enable tool inspection, then we must maintain the unity of the entire style. This is my practice in the Flink community.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612297922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612424759","html_url":"https://github.com/apache/hudi/pull/1506#issuecomment-612424759","issue_url":"https://api.github.com/repos/apache/hudi/issues/1506","id":612424759,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjQyNDc1OQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T13:45:18Z","updated_at":"2020-04-11T13:45:18Z","author_association":"MEMBER","body":"Hi @shenh062326, thanks for your contribution, I guess your email may be wrong, check it by `git config --list | grep email`.\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/79045442-b7fecd80-7c3d-11ea-8b6d-6b89260a108e.png)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612424759/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612441494","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-612441494","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":612441494,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjQ0MTQ5NA==","user":{"login":"c-f-cooper","id":25735549,"node_id":"MDQ6VXNlcjI1NzM1NTQ5","avatar_url":"https://avatars.githubusercontent.com/u/25735549?v=4","gravatar_id":"","url":"https://api.github.com/users/c-f-cooper","html_url":"https://github.com/c-f-cooper","followers_url":"https://api.github.com/users/c-f-cooper/followers","following_url":"https://api.github.com/users/c-f-cooper/following{/other_user}","gists_url":"https://api.github.com/users/c-f-cooper/gists{/gist_id}","starred_url":"https://api.github.com/users/c-f-cooper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-f-cooper/subscriptions","organizations_url":"https://api.github.com/users/c-f-cooper/orgs","repos_url":"https://api.github.com/users/c-f-cooper/repos","events_url":"https://api.github.com/users/c-f-cooper/events{/privacy}","received_events_url":"https://api.github.com/users/c-f-cooper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T15:05:24Z","updated_at":"2020-04-11T15:05:24Z","author_association":"CONTRIBUTOR","body":"Please add me to Slack :) email is lichangfu8888@gmail.com\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612441494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612485728","html_url":"https://github.com/apache/hudi/pull/1506#issuecomment-612485728","issue_url":"https://api.github.com/repos/apache/hudi/issues/1506","id":612485728,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjQ4NTcyOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T18:35:07Z","updated_at":"2020-04-11T18:35:07Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1506?src=pr&el=h1) Report\n> Merging [#1506](https://codecov.io/gh/apache/incubator-hudi/pull/1506?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/c0f96e072650d39433929c6efe3bc0b2cd882a39&el=desc) will **increase** coverage by `0.00%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1506/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1506?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #1506   +/-   ##\n=========================================\n  Coverage     72.25%   72.25%           \n  Complexity      289      289           \n=========================================\n  Files           338      338           \n  Lines         15946    15947    +1     \n  Branches       1624     1624           \n=========================================\n+ Hits          11521    11522    +1     \n  Misses         3697     3697           \n  Partials        728      728           \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1506?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [...java/org/apache/hudi/common/fs/StorageSchemes.java](https://codecov.io/gh/apache/incubator-hudi/pull/1506/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL1N0b3JhZ2VTY2hlbWVzLmphdmE=) | `100.00% <100.00%> (Ã¸)` | `0.00 <0.00> (Ã¸)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1506?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1506?src=pr&el=footer). Last update [c0f96e0...12e20ff](https://codecov.io/gh/apache/incubator-hudi/pull/1506?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612485728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612499511","html_url":"https://github.com/apache/hudi/pull/1469#issuecomment-612499511","issue_url":"https://api.github.com/repos/apache/hudi/issues/1469","id":612499511,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjQ5OTUxMQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T19:43:27Z","updated_at":"2020-04-12T03:03:45Z","author_association":"MEMBER","body":"Hi @vinothchandar base on your branch, there are mainly the following updates:\r\n- Rebase branch\r\n- Add TestHoodieBloomIndexV2.java\r\n- Add DeltaTimer.java\r\n- Fix an implicit bug which causes input record duplication.\r\n\r\n**Bug fix**\r\nIn the stage of double check(`HoodieBloomIndexV2.LazyKeyChecker#computeNext`), \r\nwhen the target file doesn't contains the record key, should return `Option.empty()`.\r\n\r\n**Previous**\r\n```\r\nOption<HoodieRecord<T>> ret = fileIdOpt.map(fileId -> {\r\n\r\n  ...\r\n\r\n  Option<HoodieRecordLocation> location = currHandle.containsKey(record.getRecordKey())\r\n    ? Option.of(new HoodieRecordLocation(currHandle.getBaseInstantTime(), currHandle.getFileId()))\r\n    : Option.empty();\r\n  return Option.of(getTaggedRecord(record, location));\r\n\r\n}).orElse(Option.of(record));\r\n```\r\n\r\n**Changes**\r\n```\r\nOption<HoodieRecord<T>> recordOpt = fileIdOpt.map((Function<String, Option<HoodieRecord<T>>>) fileId -> {\r\n\r\n  ...\r\n\r\n  if (currHandle.containsKey(record.getRecordKey())) {\r\n    HoodieRecordLocation recordLocation = new HoodieRecordLocation(currHandle.getBaseInstantTime(), currHandle.getFileId());\r\n    return Option.of(getTaggedRecord(record, recordLocation));\r\n  } else {\r\n    return Option.empty();\r\n  }\r\n\r\n}).orElse(Option.of(record));\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612499511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612500968","html_url":"https://github.com/apache/hudi/pull/1469#issuecomment-612500968","issue_url":"https://api.github.com/repos/apache/hudi/issues/1469","id":612500968,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjUwMDk2OA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T19:51:48Z","updated_at":"2020-04-12T01:14:35Z","author_association":"MEMBER","body":"Also, index performance has been greatly improved, your idea and design is amazing ðŸ‘ ðŸ‘ ðŸ‘ @vinothchandar \r\n\r\nI tested `upsert` 500,0000 records, `bulk_insert` first, then do `upsert` operation with the same dataset\r\n\r\n1. Download CSV data with 5M records\r\n```\r\nhttps://drive.google.com/open?id=1uwJ68_RrKMUTbEtsGl56_P5b_mNX3k2S\r\n```\r\n2. Run demo command\r\n```\r\nexport SPARK_HOME=/work/BigData/install/spark/spark-2.4.4-bin-hadoop2.7\r\n${SPARK_HOME}/bin/spark-shell \\\r\n    --driver-memory 6G \\\r\n    --packages org.apache.hudi:hudi-spark-bundle_2.11:0.5.1-incubating,org.apache.spark:spark-avro_2.11:2.4.4 \\\r\n    --conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'\r\n\r\nexport SPARK_HOME=/work/BigData/install/spark/spark-2.4.4-bin-hadoop2.7\r\n${SPARK_HOME}/bin/spark-shell \\\r\n    --driver-memory 6G \\\r\n    --jars `ls packaging/hudi-spark-bundle/target/hudi-spark-bundle_*.*-*.*.*-SNAPSHOT.jar` \\\r\n    --conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'\r\n\r\nimport org.apache.spark.sql.functions._\r\nval tableName = \"hudi_mor_table\"\r\nval basePath = \"file:///tmp/hudi_mor_table\"\r\n\r\nvar inputDF = spark.read.format(\"csv\").option(\"header\", \"true\").load(\"file:///work/hudi-debug/2.csv\")\r\nval hudiOptions = Map[String,String](\r\n  \"hoodie.insert.shuffle.parallelism\" -> \"10\",\r\n  \"hoodie.upsert.shuffle.parallelism\" -> \"10\",\r\n  \"hoodie.delete.shuffle.parallelism\" -> \"10\",\r\n  \"hoodie.bulkinsert.shuffle.parallelism\" -> \"10\",\r\n  \"hoodie.datasource.write.recordkey.field\" -> \"tds_cid\",\r\n  \"hoodie.datasource.write.partitionpath.field\" -> \"hit_date\",\r\n  \"hoodie.table.name\" -> tableName,\r\n  \"hoodie.datasource.write.precombine.field\" -> \"hit_timestamp\",\r\n  \"hoodie.datasource.write.operation\" -> \"upsert\",\r\n  \"hoodie.memory.merge.max.size\" -> \"2004857600000\",\r\n  \"hoodie.index.type\" -> \"BLOOM_V2\",\r\n  \"hoodie.bloom.index.v2.buffer.max.size\" -> \"102000000000\"\r\n)\r\n\r\ninputDF.write.format(\"org.apache.hudi\").\r\n  options(hudiOptions).\r\n  mode(\"Append\").\r\n  save(basePath)\r\n\r\nspark.read.format(\"org.apache.hudi\").load(basePath + \"/2020-03-19/*\").count();\r\n```\r\n\r\n<br>\r\n\r\n### Performance comparison\r\n\r\n#### `HoodieBloomIndex`: cost about 20min\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/79053470-28bedd80-7c70-11ea-9916-7bc942bd5067.png)\r\n\r\n#### `HoodieBloomIndexV2`: cost about 3min\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/79053548-cdd9b600-7c70-11ea-9201-8c957d96470c.png)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612500968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612515561","html_url":"https://github.com/apache/hudi/pull/1469#issuecomment-612515561","issue_url":"https://api.github.com/repos/apache/hudi/issues/1469","id":612515561,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjUxNTU2MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T21:18:40Z","updated_at":"2020-04-11T21:18:40Z","author_association":"MEMBER","body":"@lamber-ken thanks for the update.. from the UI, it seems like the difference was only in `countByKey/WorkloadProfile` which has nothing to do with indexing? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612515561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612521964","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-612521964","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":612521964,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjUyMTk2NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T21:59:44Z","updated_at":"2020-04-11T21:59:44Z","author_association":"MEMBER","body":"> Constraint and standardization are conducive to the formation of good habits\r\n\r\n@yanghua I am on the same page with this. My comment was more on how heavy our standards  would be.. We can probably move this to the mailing list.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612521964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612522571","html_url":"https://github.com/apache/hudi/pull/1476#issuecomment-612522571","issue_url":"https://api.github.com/repos/apache/hudi/issues/1476","id":612522571,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjUyMjU3MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T22:03:37Z","updated_at":"2020-04-11T22:03:37Z","author_association":"MEMBER","body":"CI actually passed.. when I click on the link.. may be kick the job again by making an empty commit/amend ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612522571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612522614","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-612522614","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":612522614,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjUyMjYxNA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T22:03:50Z","updated_at":"2020-04-11T22:03:50Z","author_association":"MEMBER","body":"@vinothchandar @yanghua Ok in this PR i won't touch on javadocs...will do API changes only.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612522614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612535235","html_url":"https://github.com/apache/hudi/pull/1492#issuecomment-612535235","issue_url":"https://api.github.com/repos/apache/hudi/issues/1492","id":612535235,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjUzNTIzNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T23:32:48Z","updated_at":"2020-04-11T23:32:48Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1492?src=pr&el=h1) Report\n> Merging [#1492](https://codecov.io/gh/apache/incubator-hudi/pull/1492?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/a464a2972e83e648585277ebe567703c8285cf1e&el=desc) will **increase** coverage by `0.03%`.\n> The diff coverage is `79.69%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1492/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1492?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1492      +/-   ##\n============================================\n+ Coverage     72.20%   72.23%   +0.03%     \n  Complexity      289      289              \n============================================\n  Files           338      345       +7     \n  Lines         15946    15987      +41     \n  Branches       1624     1629       +5     \n============================================\n+ Hits          11514    11549      +35     \n- Misses         3704     3708       +4     \n- Partials        728      730       +2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1492?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [.../apache/hudi/client/AbstractHoodieWriteClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1492/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0Fic3RyYWN0SG9vZGllV3JpdGVDbGllbnQuamF2YQ==) | `77.77% <Ã¸> (+3.62%)` | `0.00 <0.00> (Ã¸)` | |\n| [.../apache/hudi/exception/HoodieRestoreException.java](https://codecov.io/gh/apache/incubator-hudi/pull/1492/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0hvb2RpZVJlc3RvcmVFeGNlcHRpb24uamF2YQ==) | `0.00% <0.00%> (Ã¸)` | `0.00 <0.00> (?)` | |\n| [...c/main/java/org/apache/hudi/table/HoodieTable.java](https://codecov.io/gh/apache/incubator-hudi/pull/1492/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllVGFibGUuamF2YQ==) | `79.64% <Ã¸> (Ã¸)` | `0.00 <0.00> (Ã¸)` | |\n| [...g/apache/hudi/table/action/BaseActionExecutor.java](https://codecov.io/gh/apache/incubator-hudi/pull/1492/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL0Jhc2VBY3Rpb25FeGVjdXRvci5qYXZh) | `100.00% <Ã¸> (Ã¸)` | `0.00 <0.00> (Ã¸)` | |\n| [...che/hudi/table/action/rollback/RollbackHelper.java](https://codecov.io/gh/apache/incubator-hudi/pull/1492/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3JvbGxiYWNrL1JvbGxiYWNrSGVscGVyLmphdmE=) | `80.43% <Ã¸> (Ã¸)` | `0.00 <0.00> (?)` | |\n| [...he/hudi/table/action/rollback/RollbackRequest.java](https://codecov.io/gh/apache/incubator-hudi/pull/1492/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3JvbGxiYWNrL1JvbGxiYWNrUmVxdWVzdC5qYXZh) | `94.73% <Ã¸> (Ã¸)` | `0.00 <0.00> (?)` | |\n| [...java/org/apache/hudi/client/HoodieWriteClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1492/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0hvb2RpZVdyaXRlQ2xpZW50LmphdmE=) | `66.58% <55.88%> (-2.65%)` | `0.00 <0.00> (Ã¸)` | |\n| [...tion/restore/CopyOnWriteRestoreActionExecutor.java](https://codecov.io/gh/apache/incubator-hudi/pull/1492/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3Jlc3RvcmUvQ29weU9uV3JpdGVSZXN0b3JlQWN0aW9uRXhlY3V0b3IuamF2YQ==) | `75.00% <75.00%> (Ã¸)` | `0.00 <0.00> (?)` | |\n| [...tion/restore/MergeOnReadRestoreActionExecutor.java](https://codecov.io/gh/apache/incubator-hudi/pull/1492/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3Jlc3RvcmUvTWVyZ2VPblJlYWRSZXN0b3JlQWN0aW9uRXhlY3V0b3IuamF2YQ==) | `75.00% <75.00%> (Ã¸)` | `0.00 <0.00> (?)` | |\n| [...le/action/rollback/BaseRollbackActionExecutor.java](https://codecov.io/gh/apache/incubator-hudi/pull/1492/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3JvbGxiYWNrL0Jhc2VSb2xsYmFja0FjdGlvbkV4ZWN1dG9yLmphdmE=) | `77.77% <77.77%> (Ã¸)` | `0.00 <0.00> (?)` | |\n| ... and [18 more](https://codecov.io/gh/apache/incubator-hudi/pull/1492/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1492?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1492?src=pr&el=footer). Last update [a464a29...6e48a53](https://codecov.io/gh/apache/incubator-hudi/pull/1492?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612535235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612536463","html_url":"https://github.com/apache/hudi/pull/1492#issuecomment-612536463","issue_url":"https://api.github.com/repos/apache/hudi/issues/1492","id":612536463,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjUzNjQ2Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T23:41:20Z","updated_at":"2020-04-11T23:41:20Z","author_association":"MEMBER","body":"@bvaradar @n3nash please review this bit closely, since this code is fairly high touch.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612536463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612543458","html_url":"https://github.com/apache/hudi/pull/1469#issuecomment-612543458","issue_url":"https://api.github.com/repos/apache/hudi/issues/1469","id":612543458,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjU0MzQ1OA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T00:31:50Z","updated_at":"2020-04-12T00:32:30Z","author_association":"MEMBER","body":"> @lamber-ken thanks for the update.. from the UI, it seems like the difference was only in `countByKey/WorkloadProfile` which has nothing to do with indexing?\r\n\r\nThe above shows the spark job page, a job is a sequence of stages which triggered by an action such as .count(), collect(), read() and etc.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612543458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612545328","html_url":"https://github.com/apache/hudi/pull/1469#issuecomment-612545328","issue_url":"https://api.github.com/repos/apache/hudi/issues/1469","id":612545328,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjU0NTMyOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T00:54:36Z","updated_at":"2020-04-12T00:54:36Z","author_association":"MEMBER","body":"understood :).. but I am saying the difference you see is outside the indexing piece.. Can you post the stages UI? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612545328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612545693","html_url":"https://github.com/apache/hudi/pull/1469#issuecomment-612545693","issue_url":"https://api.github.com/repos/apache/hudi/issues/1469","id":612545693,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjU0NTY5Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T00:59:05Z","updated_at":"2020-04-12T00:59:05Z","author_association":"CONTRIBUTOR","body":"Once taggedRecords are returned from index.tagLocation(), next step is to build the workload which actually triggers the execution of actual tagging. Hence the first job in workloadprofile is actually referring to index. Let me know if my understanding is wrong. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612545693/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612546567","html_url":"https://github.com/apache/hudi/pull/1469#issuecomment-612546567","issue_url":"https://api.github.com/repos/apache/hudi/issues/1469","id":612546567,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjU0NjU2Nw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T01:10:02Z","updated_at":"2020-04-12T01:10:02Z","author_association":"MEMBER","body":"> understood :).. but I am saying the difference you see is outside the indexing piece.. Can you post the stages UI?\r\n\r\nGot, let me show you the spark stage page, amazing ðŸ‘. \r\nFrom the ui, we can see that time-consuming, shuffle write, shuffle read are better.\r\n\r\nBTW, env: 4core, 6GB driver, local mode, don't forget `\"hoodie.index.type\" -> \"BLOOM_V2\"`\r\n\r\n#### `HoodieBloomIndex`: cost about 20min\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/79058033-0f7f5680-7c9b-11ea-9f7d-c6f3e94e62bb.png)\r\n\r\n#### `HoodieBloomIndexV2`: cost about 3min\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/79058182-1eff9f00-7c9d-11ea-9e4e-059fcef568bc.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612546567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612546623","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-612546623","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":612546623,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjU0NjYyMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T01:10:38Z","updated_at":"2020-04-14T16:32:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1504?src=pr&el=h1) Report\n> Merging [#1504](https://codecov.io/gh/apache/incubator-hudi/pull/1504?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/644c1cc8bd1965271c4433edccb17aa8fda5f403&el=desc) will **increase** coverage by `0.02%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1504/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1504?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1504      +/-   ##\n============================================\n+ Coverage     72.17%   72.20%   +0.02%     \n  Complexity      289      289              \n============================================\n  Files           372      372              \n  Lines         16267    16267              \n  Branches       1637     1637              \n============================================\n+ Hits          11741    11745       +4     \n+ Misses         3791     3787       -4     \n  Partials        735      735              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1504?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/incubator-hudi/pull/1504/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...src/main/java/org/apache/hudi/metrics/Metrics.java](https://codecov.io/gh/apache/incubator-hudi/pull/1504/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9NZXRyaWNzLmphdmE=) | `72.22% <0.00%> (+13.88%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...g/apache/hudi/metrics/InMemoryMetricsReporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1504/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9Jbk1lbW9yeU1ldHJpY3NSZXBvcnRlci5qYXZh) | `80.00% <0.00%> (+40.00%)` | `0.00% <0.00%> (Ã¸%)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1504?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1504?src=pr&el=footer). Last update [644c1cc...1168aac](https://codecov.io/gh/apache/incubator-hudi/pull/1504?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612546623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612546753","html_url":"https://github.com/apache/hudi/pull/1469#issuecomment-612546753","issue_url":"https://api.github.com/repos/apache/hudi/issues/1469","id":612546753,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjU0Njc1Mw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T01:12:22Z","updated_at":"2020-04-12T01:12:22Z","author_association":"MEMBER","body":"> Once taggedRecords are returned from index.tagLocation(), next step is to build the workload which actually triggers the execution of actual tagging. Hence the first job in workloadprofile is actually referring to index. Let me know if my understanding is wrong.\r\n\r\nYou're right. ðŸ’¯ ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612546753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612552933","html_url":"https://github.com/apache/hudi/pull/1469#issuecomment-612552933","issue_url":"https://api.github.com/repos/apache/hudi/issues/1469","id":612552933,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjU1MjkzMw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T02:32:17Z","updated_at":"2020-04-12T03:00:37Z","author_association":"MEMBER","body":"> how many files did your bulk_insert create.\r\n\r\nActually, I did `upsert` operation twice directly, IMO `bulk_insert` will get the same result, \r\n\r\nThere are about `41` parquet files,  total size: `418MB` in my env.\r\n```\r\ndcadmin-imac:hudi_mor_table dcadmin$ ll -lh /tmp/hudi_mor_table/2020-03-19 \r\ntotal 844928\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 05484246-8655-4045-b31b-45f6ff4b5765-0_37-47-674_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 06272cc1-337c-4ea1-9e5b-aa1b1d6b479f-0_17-47-654_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 0c9875b3-6ea3-4dfa-bc1d-ecc83de8440e-0_30-47-667_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 0fc36101-c1e9-41e2-b356-d680a17dc468-0_22-47-659_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:57 1329dfae-a324-438d-9606-6deb9d65fdb7-0_0-47-637_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:57 17417d4f-13d2-4d3f-94e6-c4f713575b58-0_5-47-642_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 1c5199eb-04b7-48c8-ba64-b66c41fe7f88-0_35-47-672_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 1f1f8a06-b6bb-4491-8f1e-c2203106aacd-0_23-47-660_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 230859c6-3ffe-4efc-813e-079bea14abe9-0_8-47-645_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 252c73ae-6912-481d-b0d2-356f9796b073-0_38-47-675_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:57 3173646f-47d2-4b70-bed5-c867045b6da7-0_3-47-640_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 341a530d-d7c9-4ab3-bbca-38cc276b4c17-0_32-47-669_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 352facd1-cdd1-4ea9-b38a-c36af74674c1-0_40-47-677_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 40cdb651-29b4-4b16-b8e7-26470f98c966-0_21-47-658_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 429d3ace-459a-4e55-903a-3a7cc6b35511-0_15-47-652_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 47e21491-f4cd-4f1d-82a5-ae8516846f47-0_19-47-656_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:57 4853078d-d120-49e5-abc1-622e6963324b-0_1-47-638_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 4c1d4a60-b2dd-4cdd-b98d-bbb216a838cb-0_31-47-668_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 4f49aaf4-6a74-425c-b5a8-29b3f311caae-0_13-47-650_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 5361ec26-6fce-4d95-96c4-e2811135d9d2-0_26-47-663_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 5815a649-0b09-4bce-aaff-82ac8428c1a7-0_14-47-651_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 60672e15-9477-42aa-aa79-d3a340feb9d6-0_20-47-657_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 740775dd-01d7-4147-a00a-805862599eed-0_24-47-661_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 78ff0cb1-6c8a-4c4b-bf47-01f1c56d5fd5-0_27-47-664_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 8710662b-66a7-4b0d-a818-e5cd6584a14f-0_34-47-671_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 8e21464e-cadb-4ab3-8ef6-198b138e2f0d-0_18-47-655_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 9b6accdc-e3f9-43b8-9d43-9e2306cafbab-0_12-47-649_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 a4bcc9e9-29c5-470b-8a8c-539e4ffa8f51-0_16-47-653_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 aa2dcc86-79f0-479f-92a4-886566e75219-0_10-47-647_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 b699bc5f-9786-44dd-90f9-57f9e68f85a2-0_25-47-662_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:57 b8941692-e240-4dc4-a47a-9adcedb86db6-0_4-47-641_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 b9a70bca-7fe4-4fa3-83e7-eb4a063ff56b-0_36-47-673_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 c2d799e5-edf0-4c3b-9e6d-1473489489e9-0_39-47-676_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:57 db1d8409-75d3-45ef-8f57-3b1040a473ad-0_6-47-643_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 db7cd3a8-cd27-436a-b2df-f2e4b6ae0e79-0_28-47-665_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 e3f46510-e062-4f33-8e6a-e206a7c5c80e-0_33-47-670_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:58 efa864fe-d4d8-4c66-89b2-a4d63cc2c6fc-0_9-47-646_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:57 f12955ac-c9e1-4c1b-ac39-4d42fe3aa269-0_2-47-639_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 f20c9f7c-ce4f-42bb-98d2-2495b613dbb1-0_29-47-666_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.7M Apr 12 10:57 f2e5d9d8-e858-437d-9694-09227287a8b0-0_7-47-644_20200412105332.parquet\r\n-rw-r--r--  1 dcadmin  wheel   9.6M Apr 12 10:58 f300c12f-a0ee-4fb2-97b9-3da92922a4ff-0_11-47-648_20200412105332.parquet\r\n```\r\n\r\n> can you help review the SimpleIndex\r\n\r\nSure, will review that pr, : )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612552933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612553230","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-612553230","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":612553230,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjU1MzIzMA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T02:35:32Z","updated_at":"2020-04-12T02:35:32Z","author_association":"CONTRIBUTOR","body":"> > Constraint and standardization are conducive to the formation of good habits\r\n> \r\n> @yanghua I am on the same page with this. My comment was more on how heavy our standards would be.. We can probably move this to the mailing list..\r\n\r\nagree","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612553230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612558040","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-612558040","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":612558040,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjU1ODA0MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T03:28:25Z","updated_at":"2020-04-12T03:28:25Z","author_association":"MEMBER","body":"hi.. Wondering why codecov reports lower coverage? This will be a problem that we need to resolve early on..  thoughts? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612558040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612580029","html_url":"https://github.com/apache/hudi/pull/1402#issuecomment-612580029","issue_url":"https://api.github.com/repos/apache/hudi/issues/1402","id":612580029,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjU4MDAyOQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T08:11:30Z","updated_at":"2020-04-12T18:58:02Z","author_association":"MEMBER","body":"hi @nsivabalan, first of all, amazing job ðŸ‘ ðŸ‘ tested with same dataset provided in #1469 \r\n\r\nFrom the spark stage ui, we can see different stages use the same name, we should fix it. \r\n\r\n![image](https://user-images.githubusercontent.com/20113411/79064326-81c35b80-7cda-11ea-8ee9-91ec955488f0.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612580029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612623104","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-612623104","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":612623104,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjYyMzEwNA==","user":{"login":"liujianhuiouc","id":13215934,"node_id":"MDQ6VXNlcjEzMjE1OTM0","avatar_url":"https://avatars.githubusercontent.com/u/13215934?v=4","gravatar_id":"","url":"https://api.github.com/users/liujianhuiouc","html_url":"https://github.com/liujianhuiouc","followers_url":"https://api.github.com/users/liujianhuiouc/followers","following_url":"https://api.github.com/users/liujianhuiouc/following{/other_user}","gists_url":"https://api.github.com/users/liujianhuiouc/gists{/gist_id}","starred_url":"https://api.github.com/users/liujianhuiouc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujianhuiouc/subscriptions","organizations_url":"https://api.github.com/users/liujianhuiouc/orgs","repos_url":"https://api.github.com/users/liujianhuiouc/repos","events_url":"https://api.github.com/users/liujianhuiouc/events{/privacy}","received_events_url":"https://api.github.com/users/liujianhuiouc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T14:22:56Z","updated_at":"2020-04-12T14:22:56Z","author_association":"NONE","body":"the origin pull is https://github.com/apache/incubator-hudi/pull/1216","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612623104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612629725","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-612629725","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":612629725,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjYyOTcyNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T15:01:35Z","updated_at":"2020-04-14T17:38:25Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1509?src=pr&el=h1) Report\n> Merging [#1509](https://codecov.io/gh/apache/incubator-hudi/pull/1509?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/644c1cc8bd1965271c4433edccb17aa8fda5f403&el=desc) will **increase** coverage by `0.03%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1509/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1509?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1509      +/-   ##\n============================================\n+ Coverage     72.17%   72.21%   +0.03%     \n  Complexity      289      289              \n============================================\n  Files           372      372              \n  Lines         16267    16272       +5     \n  Branches       1637     1637              \n============================================\n+ Hits          11741    11751      +10     \n+ Misses         3791     3787       -4     \n+ Partials        735      734       -1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1509?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [.../table/action/commit/BaseCommitActionExecutor.java](https://codecov.io/gh/apache/incubator-hudi/pull/1509/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbW1pdC9CYXNlQ29tbWl0QWN0aW9uRXhlY3V0b3IuamF2YQ==) | `85.47% <100.00%> (+0.64%)` | `0.00 <0.00> (Ã¸)` | |\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/incubator-hudi/pull/1509/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...on/rollback/MergeOnReadRollbackActionExecutor.java](https://codecov.io/gh/apache/incubator-hudi/pull/1509/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3JvbGxiYWNrL01lcmdlT25SZWFkUm9sbGJhY2tBY3Rpb25FeGVjdXRvci5qYXZh) | `86.11% <0.00%> (+1.38%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...src/main/java/org/apache/hudi/metrics/Metrics.java](https://codecov.io/gh/apache/incubator-hudi/pull/1509/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9NZXRyaWNzLmphdmE=) | `72.22% <0.00%> (+13.88%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...g/apache/hudi/metrics/InMemoryMetricsReporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1509/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9Jbk1lbW9yeU1ldHJpY3NSZXBvcnRlci5qYXZh) | `80.00% <0.00%> (+40.00%)` | `0.00% <0.00%> (Ã¸%)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1509?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1509?src=pr&el=footer). Last update [644c1cc...5f9c174](https://codecov.io/gh/apache/incubator-hudi/pull/1509?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612629725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612650421","html_url":"https://github.com/apache/hudi/issues/1498#issuecomment-612650421","issue_url":"https://api.github.com/repos/apache/hudi/issues/1498","id":612650421,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjY1MDQyMQ==","user":{"login":"ahmed-elfar","id":20902425,"node_id":"MDQ6VXNlcjIwOTAyNDI1","avatar_url":"https://avatars.githubusercontent.com/u/20902425?v=4","gravatar_id":"","url":"https://api.github.com/users/ahmed-elfar","html_url":"https://github.com/ahmed-elfar","followers_url":"https://api.github.com/users/ahmed-elfar/followers","following_url":"https://api.github.com/users/ahmed-elfar/following{/other_user}","gists_url":"https://api.github.com/users/ahmed-elfar/gists{/gist_id}","starred_url":"https://api.github.com/users/ahmed-elfar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahmed-elfar/subscriptions","organizations_url":"https://api.github.com/users/ahmed-elfar/orgs","repos_url":"https://api.github.com/users/ahmed-elfar/repos","events_url":"https://api.github.com/users/ahmed-elfar/events{/privacy}","received_events_url":"https://api.github.com/users/ahmed-elfar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T17:35:51Z","updated_at":"2020-04-12T17:35:51Z","author_association":"NONE","body":"@vinothchandar Thank you very much for your answer and help, and everyone participated to resolve the issue.\r\n\r\nWe already have done further attempts with Hudi for bulk-insert, but I didn't want to mention that in the current thread, until we make sure that it is **either we are missing something or there is an initial high cost to migrate the base tables from parquet to Hudi**, because we need to know the pros, cons and limitation before adding Hudi to our product, we are talking about migrating hundreds of GB and/or TB of data from parquet to Hudi table.\r\n\r\nSo I will share more details which might help, and answer to your suggestions and questions.\r\n\r\nFirst I will share information about the data:\r\n\r\n- For initial bench-marking we generate standard **tpch** data 1GB, 10GB, 30GB, 100GB, 265GB and 1TB. The tables mentioned on previous discussion is **lineitem** generated by tpch 30GB and 100GB, which has original parquet size of 6.7GB and 21GB respectively. \r\n\r\n- Schema for lineitem \r\n![Screenshot from 2020-04-12 17-56-05](https://user-images.githubusercontent.com/20902425/79073448-f1d7de80-7ce6-11ea-80ea-f8a13ad960bc.png)\r\n\r\n\r\n- We have another version of lineitem with additional column last_updated with generated timestamp to define as PRECOMBINE_FIELD_OPT_KEY\r\n\r\n- Increments are 3% to 5% of the original base table count, 30% updates and 70% inserts.\r\n\r\n- We have 2 versions of generated updates, one which touches only the last quarter of the year and another one generated randomly to touch most of the parquet parts during updates. \r\n\r\n- Currently we generate no duplicates for the base table and increments.\r\n\r\nBased on the same test data we have done further attempts by modifying HoodieSparkSqlWriter itself, UserDefinedBulkInsertPartitioner, HoodieRecord, change the payload. I will share the test result for defining UserDefinedBulkInsertPartitioner because it looks similar as the approach you mentioned to avoid the sorting for bulk-insert:\r\n\r\nApplying bulk-insert for **lineitem**  generated from tpch 1GB \r\n**Table**            : 213MB parquet, 6M records, 16 columns and key is composite of 2 columns. \r\n**Spark Conf**  : 1 executor, 12 cores, 16GB, 32 shuffle, 32 bulk-insert-parallelism.\r\n**Hudi Version**: % \"hudi-spark-bundle\" % \"0.5.2-incubating\"\r\n**Spark**           : 2.4.5 with hadoop 2.7\r\n**Table Type**   : COW\r\n\r\n-  Using vanilla % \"hudi-spark-bundle\" % \"0.5.2-incubating\", spark stages \r\n\r\n![Screenshot from 2020-04-12 15-24-45](https://user-images.githubusercontent.com/20902425/79073948-bdb1ed00-7ce9-11ea-8dd0-e12e6075c065.png)\r\n\r\nAs you can see the data has been shuffled to disk twice, applying the sorting twice as well.\r\n\r\n- Eagerly persist the input RDD before the bulk-insert, which uses the same sorting provided before the bulk-insert.\r\n\r\n`@Override\r\npublic JavaRDD<HoodieRecord> repartitionRecords(JavaRDD records, int outputSparkPartitions)\r\n{ JavaRDD<HoodieRecord> data = ((JavaRDD<HoodieRecord>)records).sortBy(record -> {\r\n        return String.format(\"%s+%s\", record.getPartitionPath(), record.getRecordKey());\r\n    }, true, outputSparkPartitions)\r\n    .persist(StorageLevel.MEMORY_ONLY());\r\n     data.foreach(record -> {});\r\n     return data;\r\n}\r\n`\r\n\r\n![Screenshot from 2020-04-12 15-36-01](https://user-images.githubusercontent.com/20902425/79074237-8b08f400-7ceb-11ea-96e6-99bcacb5419f.png)\r\n\r\nSo we avoided additional shuffle to disk, yet the performance still the same as well as we can't persist in memory for very large inputs.\r\n\r\n- Just return the RDD as it is, or (sort, partition the data based on the key columns) on the dataframe level before passing the dataframe to HudiSparkSqlWriter, then just return the data.\r\n\r\n`@Override\r\npublic JavaRDD<HoodieRecord> repartitionRecords(JavaRDD records, int outputSparkPartitions) {\r\n    return records;\r\n}`\r\n\r\n![Screenshot from 2020-04-12 15-37-56](https://user-images.githubusercontent.com/20902425/79074511-18007d00-7ced-11ea-90b4-40490fd78af6.png)\r\n\r\n**Note:** this approach impact the Upsert time significantly specially if you didn't apply any sorting to the data, it might be because the upsert operation touched most of the parquet parts.\r\n\r\nSo please correct me if I am wrong, all the attached spark stages to the thread shows most of time spent (bottle neck) in the count action which filter the records with invalid write status, it is actually a narrow transformation after the sorting operation.\r\nWe haven't checked the logic behind this action in details yet, I thought this might be the indexing operation and creating the metadata columns for Hudi table.\r\n\r\n\r\nReplaying to the questions and suggestion you mentioned:\r\n\r\n> If you are trying to ultimately migrate a table (using bulk_insert once) and then do updates/deletes. I suggest, testing upserts/deletes rather than bulk_insert.. If you primarily want to do bulk_insert alone to get other benefits of Hudi. Happy to work with you more and resolve this. Perf is a major push for the next release. So we can def collaborate here\r\n\r\nYes we need to fully migrate the table to Hudi and apply excessive upserts / insert operations over it  later. \r\nIf I get your suggestion right, would you suggest to initially load the table using upsert or insert operation for the whole table instead of bulk-insert? \r\nWe have tried that and it was extremely slower, consuming more memory and disk than bulk-insert.\r\nWe followed the documentation as well in the code which suggest to use the bulk-insert for initial table loading.\r\n\r\n> Optimizing the spark executor memory to avoid GC hits and using snappy compression\r\n\r\nWe actually have tried many optimizations related to spark yet the performance improvements is limited or no gain. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612650421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612666380","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-612666380","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":612666380,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjY2NjM4MA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T19:43:54Z","updated_at":"2020-04-12T19:55:45Z","author_association":"MEMBER","body":"> hi.. Wondering why codecov reports lower coverage? This will be a problem that we need to resolve early on.. thoughts?\r\n\r\n@vinothchandar tests converted to junit 5 were not reported by codecov... hence the decrease..not much clue atm\r\n\r\nHi @prashantwason noticed that you've configured the codecov, wonder if you could give some hints on the issue here? Thank you.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612666380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612667219","html_url":"https://github.com/apache/hudi/pull/1427#issuecomment-612667219","issue_url":"https://api.github.com/repos/apache/hudi/issues/1427","id":612667219,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjY2NzIxOQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T19:50:44Z","updated_at":"2020-04-12T19:50:44Z","author_association":"CONTRIBUTOR","body":"@vinothchandar please take a pass. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612667219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612693953","html_url":"https://github.com/apache/hudi/pull/1495#issuecomment-612693953","issue_url":"https://api.github.com/repos/apache/hudi/issues/1495","id":612693953,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjY5Mzk1Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T23:49:43Z","updated_at":"2020-04-12T23:49:43Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : Addressed review comments. Please take a look when you get a chance.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612693953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612703386","html_url":"https://github.com/apache/hudi/pull/1402#issuecomment-612703386","issue_url":"https://api.github.com/repos/apache/hudi/issues/1402","id":612703386,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjcwMzM4Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T00:58:39Z","updated_at":"2020-04-13T00:59:08Z","author_association":"MEMBER","body":"@lamber-ken what you are testing is the worst case workload for upsert.. i.e all updates.. Thanks for testing it out.. It seems like join as faster as expected..\r\n\r\nWith this we have more indexing arsenal.. BloomIndex (v2) will still be much faster for production use-cases (where there are small amount of updates and temporal write patterns) I believe.. nonetheless :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612703386/reactions","total_count":6,"+1":3,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":2,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612703547","html_url":"https://github.com/apache/hudi/pull/1174#issuecomment-612703547","issue_url":"https://api.github.com/repos/apache/hudi/issues/1174","id":612703547,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjcwMzU0Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T01:00:04Z","updated_at":"2020-04-13T01:00:04Z","author_association":"MEMBER","body":"@pratyakshsharma @n3nash this has been around for sometime.. does @hddong also have a PR for the same JIRA?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612703547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612709170","html_url":"https://github.com/apache/hudi/issues/1498#issuecomment-612709170","issue_url":"https://api.github.com/repos/apache/hudi/issues/1498","id":612709170,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjcwOTE3MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T01:30:19Z","updated_at":"2020-04-13T01:30:19Z","author_association":"MEMBER","body":"Few clarifications: \r\n\r\n>For initial bench-marking we generate standard tpch data \r\n\r\nIs it possible to share the data generation tool with us or point us to reproducing this ourselves locally? We can go much faster if we are able to repro this ourselves.. \r\n\r\n>Schema for lineitem\r\n\r\nWhat's your record key and partition key? (was unable to spot this from the snippet above).. If you have monotonically increasing key (say timestamp prefix) and already know the partition to which an increment record (IIUC this means incoming writes) belong to, then upsert performance will be optimal.\r\n\r\n \r\n>We have 2 versions of generated updates, one which touches only the last quarter of the year and another one generated randomly to touch most of the parquet parts during updates.\r\n\r\nIf you have a workload that will touch every file, then you could use the #1402  that is being built. Bloom filter checking will anyway lead to opening up all files in that scenario anyway... \r\n\r\n>Currently we generate no duplicates for the base table and increments.\r\n\r\nBy default, upsert will also de-dupe the increments once.. So if this the norm, you can turn off `hoodie.combine.before.upsert=false` to avoid an extra shuffle. \r\n\r\n >As you can see the data has been shuffled to disk twice, applying the sorting twice as well.\r\n\r\nso this is without overriding the user defined partitioner?  btw the two jobs you see is how Spark sort works, first job does reservoir sampling to get ranges, and the second one actually sorts.. \r\n\r\n> Eagerly persist the input RDD before the bulk-insert, which uses the same sorting provided before the bulk-insert.\r\n\r\nbulk_insert was designed to do an initial sort and write data without incurring large memory overheads associated with caching.. Spark cache is a LRU.. so it will thrash a fair bit if you start spilling due to lack of memory. I would not recommend trying this.. \r\n\r\n> Note: this approach impact the Upsert time significantly specially if you didn't apply any sorting to the data, it might be because the upsert operation touched most of the parquet parts.\r\n\r\nyes.. you are right.. sorting gives you a dataset which is initially sorted/ordered by keys and if you have ordered keys, hudi will preserve this and extract upsert performance by filtering out files not in range during indexing.. At Uber, when we moved all the tables to hudi, we found this one time sort, well worth the initial cost.. It repaid itself many times over the course of a quarter. \r\n\r\n\r\n>it is actually a narrow transformation after the sorting operation.\r\n\r\nIts the action that triggers the actual parquet writing. So the 30 second odd you see if the actual cost of writing data.. \r\n\r\n>If I get your suggestion right, would you suggest to initially load the table using upsert or insert operation for the whole table instead of bulk-insert?\r\n\r\nNo.. bulk_insert + sorting is what I recommend (with good key design) for large scale deployment like you are talking about.. if you don't want to convert all data, @bvaradar & @umehrot2 will have the ability to seamlessly bootstrap the data into hudi without rewriting in the next release.. (you ll also have the ability to do a one-time bulk_insert for last N partitions to get the upsert performance benefits as we discussed above)..\r\n\r\nI would be happy to jump on a call with you folks and get this moving along.. I am also very excited to work with a user like yourself and move the perf aspects of the project along more.. \r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612709170/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612722711","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-612722711","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":612722711,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjcyMjcxMQ==","user":{"login":"superguhua","id":35447443,"node_id":"MDQ6VXNlcjM1NDQ3NDQz","avatar_url":"https://avatars.githubusercontent.com/u/35447443?v=4","gravatar_id":"","url":"https://api.github.com/users/superguhua","html_url":"https://github.com/superguhua","followers_url":"https://api.github.com/users/superguhua/followers","following_url":"https://api.github.com/users/superguhua/following{/other_user}","gists_url":"https://api.github.com/users/superguhua/gists{/gist_id}","starred_url":"https://api.github.com/users/superguhua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/superguhua/subscriptions","organizations_url":"https://api.github.com/users/superguhua/orgs","repos_url":"https://api.github.com/users/superguhua/repos","events_url":"https://api.github.com/users/superguhua/events{/privacy}","received_events_url":"https://api.github.com/users/superguhua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T02:38:15Z","updated_at":"2020-04-13T02:38:15Z","author_association":"NONE","body":"Please, add me superguhua@163.com\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612722711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612734787","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-612734787","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":612734787,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjczNDc4Nw==","user":{"login":"liujianhuiouc","id":13215934,"node_id":"MDQ6VXNlcjEzMjE1OTM0","avatar_url":"https://avatars.githubusercontent.com/u/13215934?v=4","gravatar_id":"","url":"https://api.github.com/users/liujianhuiouc","html_url":"https://github.com/liujianhuiouc","followers_url":"https://api.github.com/users/liujianhuiouc/followers","following_url":"https://api.github.com/users/liujianhuiouc/following{/other_user}","gists_url":"https://api.github.com/users/liujianhuiouc/gists{/gist_id}","starred_url":"https://api.github.com/users/liujianhuiouc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujianhuiouc/subscriptions","organizations_url":"https://api.github.com/users/liujianhuiouc/orgs","repos_url":"https://api.github.com/users/liujianhuiouc/repos","events_url":"https://api.github.com/users/liujianhuiouc/events{/privacy}","received_events_url":"https://api.github.com/users/liujianhuiouc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T03:36:10Z","updated_at":"2020-04-13T03:36:10Z","author_association":"NONE","body":"@n3nash help to merge that","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612734787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612738631","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-612738631","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":612738631,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjczODYzMQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T03:57:05Z","updated_at":"2020-04-13T03:57:05Z","author_association":"MEMBER","body":"Hi @liujianhuiouc, thanks for your contribution, your email may be wrong, check it `git config --list | grep email`.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612738631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612752623","html_url":"https://github.com/apache/hudi/pull/1495#issuecomment-612752623","issue_url":"https://api.github.com/repos/apache/hudi/issues/1495","id":612752623,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjc1MjYyMw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T05:08:39Z","updated_at":"2020-04-13T05:08:39Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : Addressed comments. Will merge once the CI passes.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612752623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612771752","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-612771752","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":612771752,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjc3MTc1Mg==","user":{"login":"liujianhuiouc","id":13215934,"node_id":"MDQ6VXNlcjEzMjE1OTM0","avatar_url":"https://avatars.githubusercontent.com/u/13215934?v=4","gravatar_id":"","url":"https://api.github.com/users/liujianhuiouc","html_url":"https://github.com/liujianhuiouc","followers_url":"https://api.github.com/users/liujianhuiouc/followers","following_url":"https://api.github.com/users/liujianhuiouc/following{/other_user}","gists_url":"https://api.github.com/users/liujianhuiouc/gists{/gist_id}","starred_url":"https://api.github.com/users/liujianhuiouc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujianhuiouc/subscriptions","organizations_url":"https://api.github.com/users/liujianhuiouc/orgs","repos_url":"https://api.github.com/users/liujianhuiouc/repos","events_url":"https://api.github.com/users/liujianhuiouc/events{/privacy}","received_events_url":"https://api.github.com/users/liujianhuiouc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T06:29:06Z","updated_at":"2020-04-13T06:29:06Z","author_association":"NONE","body":"thank you for you reminding, it's my company email, i have set it with personal mailbox ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612771752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612778656","html_url":"https://github.com/apache/hudi/pull/1492#issuecomment-612778656","issue_url":"https://api.github.com/repos/apache/hudi/issues/1492","id":612778656,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjc3ODY1Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T06:56:13Z","updated_at":"2020-04-13T06:56:13Z","author_association":"MEMBER","body":"Rebased again.. Will wait for CI to pass and merge. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612778656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612790506","html_url":"https://github.com/apache/hudi/pull/1174#issuecomment-612790506","issue_url":"https://api.github.com/repos/apache/hudi/issues/1174","id":612790506,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjc5MDUwNg==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T07:38:15Z","updated_at":"2020-04-13T07:38:15Z","author_association":"CONTRIBUTOR","body":"> @pratyakshsharma @n3nash this has been around for sometime.. does @hddong also have a PR for the same JIRA?\r\n\r\n@hddong had a PR to fix specifying sparkMaster and sparkMemory at one place. It involved some code refactoring but it did not fix positional arguments. Here it is - https://github.com/apache/incubator-hudi/pull/1452\r\n\r\nYesterday I rebased the branch with master and integration tests are breaking. I am working on fixing them. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612790506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612798425","html_url":"https://github.com/apache/hudi/pull/1174#issuecomment-612798425","issue_url":"https://api.github.com/repos/apache/hudi/issues/1174","id":612798425,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjc5ODQyNQ==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T08:04:28Z","updated_at":"2020-04-13T08:04:28Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : as @pratyakshsharma said, it's not same as this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612798425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612848674","html_url":"https://github.com/apache/hudi/pull/1511#issuecomment-612848674","issue_url":"https://api.github.com/repos/apache/hudi/issues/1511","id":612848674,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjg0ODY3NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T10:41:11Z","updated_at":"2020-04-21T05:43:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1511?src=pr&el=h1) Report\n> Merging [#1511](https://codecov.io/gh/apache/incubator-hudi/pull/1511?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/f5f34bb1c16e6d070668486eba2a29f554c0bbc7&el=desc) will **decrease** coverage by `0.49%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1511/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1511?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1511      +/-   ##\n============================================\n- Coverage     72.15%   71.66%   -0.50%     \n- Complexity      290      294       +4     \n============================================\n  Files           338      378      +40     \n  Lines         15929    16535     +606     \n  Branches       1625     1672      +47     \n============================================\n+ Hits          11494    11849     +355     \n- Misses         3704     3954     +250     \n- Partials        731      732       +1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1511?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [.../org/apache/hudi/table/HoodieCopyOnWriteTable.java](https://codecov.io/gh/apache/incubator-hudi/pull/1511/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllQ29weU9uV3JpdGVUYWJsZS5qYXZh) | `61.62% <0.00%> (-27.66%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [.../org/apache/hudi/table/HoodieMergeOnReadTable.java](https://codecov.io/gh/apache/incubator-hudi/pull/1511/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllTWVyZ2VPblJlYWRUYWJsZS5qYXZh) | `60.00% <0.00%> (-23.13%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...hudi/common/fs/inline/InLineFsDataInputStream.java](https://codecov.io/gh/apache/incubator-hudi/pull/1511/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9JbkxpbmVGc0RhdGFJbnB1dFN0cmVhbS5qYXZh) | `38.46% <0.00%> (-15.39%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...di/hadoop/realtime/HoodieRealtimeRecordReader.java](https://codecov.io/gh/apache/incubator-hudi/pull/1511/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL0hvb2RpZVJlYWx0aW1lUmVjb3JkUmVhZGVyLmphdmE=) | `70.00% <0.00%> (-14.22%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/incubator-hudi/pull/1511/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [.../apache/hudi/client/AbstractHoodieWriteClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1511/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0Fic3RyYWN0SG9vZGllV3JpdGVDbGllbnQuamF2YQ==) | `68.33% <0.00%> (-5.83%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...lities/checkpointing/KafkaConnectHdfsProvider.java](https://codecov.io/gh/apache/incubator-hudi/pull/1511/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2NoZWNrcG9pbnRpbmcvS2Fma2FDb25uZWN0SGRmc1Byb3ZpZGVyLmphdmE=) | `89.28% <0.00%> (-3.03%)` | `14.00% <0.00%> (+2.00%)` | :arrow_down: |\n| [...n/java/org/apache/hudi/index/hbase/HBaseIndex.java](https://codecov.io/gh/apache/incubator-hudi/pull/1511/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW5kZXgvaGJhc2UvSEJhc2VJbmRleC5qYXZh) | `83.25% <0.00%> (-0.96%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...oop/realtime/HoodieParquetRealtimeInputFormat.java](https://codecov.io/gh/apache/incubator-hudi/pull/1511/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL0hvb2RpZVBhcnF1ZXRSZWFsdGltZUlucHV0Rm9ybWF0LmphdmE=) | `72.34% <0.00%> (-0.78%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...in/java/org/apache/hudi/utilities/UtilHelpers.java](https://codecov.io/gh/apache/incubator-hudi/pull/1511/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL1V0aWxIZWxwZXJzLmphdmE=) | `64.70% <0.00%> (-0.71%)` | `22.00% <0.00%> (+1.00%)` | :arrow_down: |\n| ... and [77 more](https://codecov.io/gh/apache/incubator-hudi/pull/1511/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1511?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1511?src=pr&el=footer). Last update [f5f34bb...9381b9b](https://codecov.io/gh/apache/incubator-hudi/pull/1511?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612848674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612865257","html_url":"https://github.com/apache/hudi/pull/1511#issuecomment-612865257","issue_url":"https://api.github.com/repos/apache/hudi/issues/1511","id":612865257,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjg2NTI1Nw==","user":{"login":"hmatu","id":59252744,"node_id":"MDQ6VXNlcjU5MjUyNzQ0","avatar_url":"https://avatars.githubusercontent.com/u/59252744?v=4","gravatar_id":"","url":"https://api.github.com/users/hmatu","html_url":"https://github.com/hmatu","followers_url":"https://api.github.com/users/hmatu/followers","following_url":"https://api.github.com/users/hmatu/following{/other_user}","gists_url":"https://api.github.com/users/hmatu/gists{/gist_id}","starred_url":"https://api.github.com/users/hmatu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmatu/subscriptions","organizations_url":"https://api.github.com/users/hmatu/orgs","repos_url":"https://api.github.com/users/hmatu/repos","events_url":"https://api.github.com/users/hmatu/events{/privacy}","received_events_url":"https://api.github.com/users/hmatu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T11:39:57Z","updated_at":"2020-04-13T11:39:57Z","author_association":"CONTRIBUTOR","body":"These changes don't make sense(`command` only `UPSERT`) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612865257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612881257","html_url":"https://github.com/apache/hudi/pull/1151#issuecomment-612881257","issue_url":"https://api.github.com/repos/apache/hudi/issues/1151","id":612881257,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjg4MTI1Nw==","user":{"login":"dengziming","id":26023240,"node_id":"MDQ6VXNlcjI2MDIzMjQw","avatar_url":"https://avatars.githubusercontent.com/u/26023240?v=4","gravatar_id":"","url":"https://api.github.com/users/dengziming","html_url":"https://github.com/dengziming","followers_url":"https://api.github.com/users/dengziming/followers","following_url":"https://api.github.com/users/dengziming/following{/other_user}","gists_url":"https://api.github.com/users/dengziming/gists{/gist_id}","starred_url":"https://api.github.com/users/dengziming/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dengziming/subscriptions","organizations_url":"https://api.github.com/users/dengziming/orgs","repos_url":"https://api.github.com/users/dengziming/repos","events_url":"https://api.github.com/users/dengziming/events{/privacy}","received_events_url":"https://api.github.com/users/dengziming/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T12:37:53Z","updated_at":"2020-04-13T12:37:53Z","author_association":"MEMBER","body":"Hello, @vinothchandar ,Sorry for the late reply. I want to address some of your comment and here are issues:\r\n1. I tried make data prep part of the deltastreamer themselves and then also provide same defaults for input/output paths, but at last I found my code the same as `org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer#main`, it seems that we don't have to add deltastreamer examples because the HoodieDeltaStreamer class is already a complete deltastreamer example. Maybe we just need to add some simple examples rather than a very complete and unified example.\r\n2. I wrote a `run_hoodie_examples.sh` to run the example and reuse spark-bundle/utilities-bundle instead of building a fat jar, but the build process of hudi-utilities-bundle will relocate `com.beust.jcommander.` to `org.apache.hudi.com.beust.jcommander.`, and my example have a dependency on `com.beust.jcommander.` and the spark-shell failed, so should I also add a relocation to  pom.xml of hudi-examples. \r\nHow do you think about these 2 problems.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612881257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612930401","html_url":"https://github.com/apache/hudi/pull/1511#issuecomment-612930401","issue_url":"https://api.github.com/repos/apache/hudi/issues/1511","id":612930401,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjkzMDQwMQ==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T14:48:18Z","updated_at":"2020-04-13T14:48:18Z","author_association":"CONTRIBUTOR","body":"@hmatu Before change, `upsert` is equivalent is `insert`, because target path must not present(will be delete if present). We can do `upsert` based on existing data after change.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612930401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612963742","html_url":"https://github.com/apache/hudi/pull/1449#issuecomment-612963742","issue_url":"https://api.github.com/repos/apache/hudi/issues/1449","id":612963742,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjk2Mzc0Mg==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T16:04:06Z","updated_at":"2020-04-13T16:04:06Z","author_association":"CONTRIBUTOR","body":"@yanghua Thanks for your review and suggestions, had address them.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/612963742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613027382","html_url":"https://github.com/apache/hudi/pull/1484#issuecomment-613027382","issue_url":"https://api.github.com/repos/apache/hudi/issues/1484","id":613027382,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzAyNzM4Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T18:24:52Z","updated_at":"2020-04-13T18:24:52Z","author_association":"CONTRIBUTOR","body":"@satishkotha can you please help review this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613027382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613049344","html_url":"https://github.com/apache/hudi/pull/1476#issuecomment-613049344","issue_url":"https://api.github.com/repos/apache/hudi/issues/1476","id":613049344,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzA0OTM0NA==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T19:13:43Z","updated_at":"2020-04-13T19:13:43Z","author_association":"MEMBER","body":"Fixed the merge conflict and pushed again. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613049344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613071292","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-613071292","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":613071292,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzA3MTI5Mg==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T20:03:42Z","updated_at":"2020-04-13T20:03:42Z","author_association":"MEMBER","body":"Everything in the commit looks good so no reason coverage should be low. I checked the coverage report and it shows about 1000 lines missing coverage. \r\n\r\nSince codecov has been flaky in the past (during merges, updates etc), I suggest forcing the commit again so codecov runs (maybe from the head or master). If it again reports low coverage, we can investigate.  \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613071292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613146147","html_url":"https://github.com/apache/hudi/pull/1402#issuecomment-613146147","issue_url":"https://api.github.com/repos/apache/hudi/issues/1402","id":613146147,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzE0NjE0Nw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T23:29:01Z","updated_at":"2020-04-13T23:29:01Z","author_association":"CONTRIBUTOR","body":"@lamber-ken : have removed naming job desc for now. Will add it in a diff patch. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613146147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613162710","html_url":"https://github.com/apache/hudi/pull/1486#issuecomment-613162710","issue_url":"https://api.github.com/repos/apache/hudi/issues/1486","id":613162710,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzE2MjcxMA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T00:33:03Z","updated_at":"2020-04-14T00:33:03Z","author_association":"MEMBER","body":"@vinothchandar Thanks for all the feedback! Very helpful! \r\nComments addressed. Please take a look.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613162710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613186819","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-613186819","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":613186819,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzE4NjgxOQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T02:09:39Z","updated_at":"2020-04-14T02:09:39Z","author_association":"MEMBER","body":"LGTM, can you please rebase and resolve theÂ conflicts?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613186819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613225596","html_url":"https://github.com/apache/hudi/pull/1512#issuecomment-613225596","issue_url":"https://api.github.com/repos/apache/hudi/issues/1512","id":613225596,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzIyNTU5Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T04:55:37Z","updated_at":"2020-04-14T04:55:37Z","author_association":"MEMBER","body":"@lamber-ken trying to understand why this should be needed.. can't we distinguish based on the input format for ORC, where we can create HoodieOrcInputFormat .. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613225596/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613227516","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-613227516","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":613227516,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzIyNzUxNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T05:03:12Z","updated_at":"2020-04-14T05:03:12Z","author_association":"MEMBER","body":"@prashantwason yeah seems like a good idea ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613227516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613236143","html_url":"https://github.com/apache/hudi/pull/1500#issuecomment-613236143","issue_url":"https://api.github.com/repos/apache/hudi/issues/1500","id":613236143,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzIzNjE0Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T05:38:18Z","updated_at":"2020-04-15T23:51:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1500?src=pr&el=h1) Report\n> Merging [#1500](https://codecov.io/gh/apache/incubator-hudi/pull/1500?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/d65efe659d36dfb80be16a6389c5aba2f8701c39&el=desc) will **increase** coverage by `0.03%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1500/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1500?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1500      +/-   ##\n============================================\n+ Coverage     72.17%   72.20%   +0.03%     \n  Complexity      294      294              \n============================================\n  Files           373      373              \n  Lines         16282    16293      +11     \n  Branches       1638     1639       +1     \n============================================\n+ Hits          11751    11764      +13     \n+ Misses         3795     3793       -2     \n  Partials        736      736              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1500?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [...java/org/apache/hudi/config/HoodieWriteConfig.java](https://codecov.io/gh/apache/incubator-hudi/pull/1500/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZVdyaXRlQ29uZmlnLmphdmE=) | `84.58% <100.00%> (+0.20%)` | `0.00 <0.00> (Ã¸)` | |\n| [...src/main/java/org/apache/hudi/DataSourceUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1500/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9EYXRhU291cmNlVXRpbHMuamF2YQ==) | `56.70% <100.00%> (+6.13%)` | `0.00 <0.00> (Ã¸)` | |\n| [...a/org/apache/hudi/common/util/collection/Pair.java](https://codecov.io/gh/apache/incubator-hudi/pull/1500/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9QYWlyLmphdmE=) | `72.00% <0.00%> (-4.00%)` | `0.00% <0.00%> (Ã¸%)` | |\n| [...che/hudi/common/util/BufferedRandomAccessFile.java](https://codecov.io/gh/apache/incubator-hudi/pull/1500/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvQnVmZmVyZWRSYW5kb21BY2Nlc3NGaWxlLmphdmE=) | `55.26% <0.00%> (+0.87%)` | `0.00% <0.00%> (Ã¸%)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1500?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1500?src=pr&el=footer). Last update [d65efe6...f8a756e](https://codecov.io/gh/apache/incubator-hudi/pull/1500?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613236143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613241906","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-613241906","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":613241906,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzI0MTkwNg==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T05:59:32Z","updated_at":"2020-04-14T05:59:32Z","author_association":"MEMBER","body":"@prashantwason Thanks for checking the report. I updated the branch, and as before, the report omitted the test cases covered by JUnit 5, resulting in coverage decrease. I've created https://jira.apache.org/jira/browse/HUDI-792 for investigation. @vinothchandar Let me check with the community for help ðŸ˜„ ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613241906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613294181","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-613294181","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":613294181,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzI5NDE4MQ==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T08:14:39Z","updated_at":"2020-04-14T08:14:39Z","author_association":"MEMBER","body":"I may have found the reason for lower code coverage. \r\n\r\nmaven-surefire-plugin does not support JUnit 5 tests until version 2.22.0 and pom.xml is using version 2.19.1. So in essence, none of the unit tests converted to JUnit 5 ran therefore lowering the code coverage. I also verified this by looking at the CI logs and they dont have the tests that you have modified in this commit.\r\n\r\nhttps://stackoverflow.com/questions/36970384/surefire-is-not-picking-up-junit-5-tests\r\nhttps://dzone.com/articles/why-your-junit-5-tests-are-not-running-under-maven","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613294181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613326434","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-613326434","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":613326434,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzMyNjQzNA==","user":{"login":"liujianhuiouc","id":13215934,"node_id":"MDQ6VXNlcjEzMjE1OTM0","avatar_url":"https://avatars.githubusercontent.com/u/13215934?v=4","gravatar_id":"","url":"https://api.github.com/users/liujianhuiouc","html_url":"https://github.com/liujianhuiouc","followers_url":"https://api.github.com/users/liujianhuiouc/followers","following_url":"https://api.github.com/users/liujianhuiouc/following{/other_user}","gists_url":"https://api.github.com/users/liujianhuiouc/gists{/gist_id}","starred_url":"https://api.github.com/users/liujianhuiouc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujianhuiouc/subscriptions","organizations_url":"https://api.github.com/users/liujianhuiouc/orgs","repos_url":"https://api.github.com/users/liujianhuiouc/repos","events_url":"https://api.github.com/users/liujianhuiouc/events{/privacy}","received_events_url":"https://api.github.com/users/liujianhuiouc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T09:19:48Z","updated_at":"2020-04-14T09:19:48Z","author_association":"NONE","body":"done","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613326434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613353236","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-613353236","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":613353236,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzM1MzIzNg==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T10:17:17Z","updated_at":"2020-04-14T10:17:17Z","author_association":"MEMBER","body":"hi, you can use following git operations, try again\r\n```\r\ngit reset --hard 4fb34d918dc23c18ba67801121d0a5bee6512843\r\ngit pull --rebase origin master\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613353236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613450174","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-613450174","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":613450174,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzQ1MDE3NA==","user":{"login":"liujianhuiouc","id":13215934,"node_id":"MDQ6VXNlcjEzMjE1OTM0","avatar_url":"https://avatars.githubusercontent.com/u/13215934?v=4","gravatar_id":"","url":"https://api.github.com/users/liujianhuiouc","html_url":"https://github.com/liujianhuiouc","followers_url":"https://api.github.com/users/liujianhuiouc/followers","following_url":"https://api.github.com/users/liujianhuiouc/following{/other_user}","gists_url":"https://api.github.com/users/liujianhuiouc/gists{/gist_id}","starred_url":"https://api.github.com/users/liujianhuiouc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujianhuiouc/subscriptions","organizations_url":"https://api.github.com/users/liujianhuiouc/orgs","repos_url":"https://api.github.com/users/liujianhuiouc/repos","events_url":"https://api.github.com/users/liujianhuiouc/events{/privacy}","received_events_url":"https://api.github.com/users/liujianhuiouc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T13:42:11Z","updated_at":"2020-04-14T13:42:11Z","author_association":"NONE","body":"done, thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613450174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613549347","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-613549347","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":613549347,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzU0OTM0Nw==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T16:37:10Z","updated_at":"2020-04-14T16:37:10Z","author_association":"MEMBER","body":"@prashantwason Thank you! It's fixed. @yanghua @vinothchandar does the PR look good to merge?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613549347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613563197","html_url":"https://github.com/apache/hudi/issues/1498#issuecomment-613563197","issue_url":"https://api.github.com/repos/apache/hudi/issues/1498","id":613563197,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzU2MzE5Nw==","user":{"login":"ahmed-elfar","id":20902425,"node_id":"MDQ6VXNlcjIwOTAyNDI1","avatar_url":"https://avatars.githubusercontent.com/u/20902425?v=4","gravatar_id":"","url":"https://api.github.com/users/ahmed-elfar","html_url":"https://github.com/ahmed-elfar","followers_url":"https://api.github.com/users/ahmed-elfar/followers","following_url":"https://api.github.com/users/ahmed-elfar/following{/other_user}","gists_url":"https://api.github.com/users/ahmed-elfar/gists{/gist_id}","starred_url":"https://api.github.com/users/ahmed-elfar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahmed-elfar/subscriptions","organizations_url":"https://api.github.com/users/ahmed-elfar/orgs","repos_url":"https://api.github.com/users/ahmed-elfar/repos","events_url":"https://api.github.com/users/ahmed-elfar/events{/privacy}","received_events_url":"https://api.github.com/users/ahmed-elfar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T17:03:12Z","updated_at":"2020-04-15T13:09:30Z","author_association":"NONE","body":"@vinothchandar I apologies for the delayed response, and thanks again for your help and detailed answers.\r\n\r\n> Is it possible to share the data generation tool with us or point us to reproducing this ourselves locally? We can go much faster if we are able to repro this ourselves..\r\n\r\nSure, this is the public Repo for generating the data [https://github.com/gregrahn/tpch-kit](url)\r\nAnd it provides the information you need for data generation, size, etc\r\n\r\nYou can use this command to generate lineitem with scale 10GB\r\n`DSS_PATH=/output/path ./dbgen -T L 10`\r\n\r\n---\r\n\r\n> Schema for lineitem\r\n\r\nAdding more details and update the schema screenshot mentioned on previous comment:\r\n\r\n**RECORDKEY_FIELD_OPT_KEY**: is composite (l_linenumber, l_orderkey)\r\n**PARTITIONPATH_FIELD_OPT_KEY**: optional default (non-portioned), or l_shipmode\r\n**PRECOMBINE_FIELD_OPT_KEY**: l_commitdate, or generating new timestamp column **last_updated**.\r\n\r\n![Screenshot from 2020-04-14 17-54-43](https://user-images.githubusercontent.com/20902425/79246806-f680cc00-7e79-11ea-8edc-bd711d8492ff.png)\r\n\r\n\r\nThis is the **official documentation** for the datasets definition, schema, queries and business logic behind the queries [http://www.tpc.org/tpc_documents_current_versions/pdf/tpc-h_v2.18.0.pdf](url)\r\n\r\n---\r\n\r\n>  @bvaradar & @umehrot2 will have the ability to seamlessly bootstrap the data into hudi without rewriting in the next release.\r\n\r\nAre we talking about the proposal mentioned at [https://cwiki.apache.org/confluence/display/HUDI/RFC+-+12+%3A+Efficient+Migration+of+Large+Parquet+Tables+to+Apache+Hudi](url)\r\n\r\nbecause we need more clarification regarding this approach.\r\n\r\n---\r\n\r\n> you ll also have the ability to do a one-time bulk_insert for last N partitions to get the upsert performance benefits as we discussed above\r\n\r\nThere one of the attempts mentioned on the first comment which might be similar, I will explain in details to check with you if it should work for now or not, **if it provides a valid Hudi table**:\r\n\r\nSo consider we have table of size 1TB parquet format as an input table either **partitioned** or **non- partitioned**. Spark resource 256GB ram and 32 cores:\r\n\r\n**Case non-partitioned** \r\n\r\n- We use the suggested/recommended partition column(s) (we pick first column in the partition path), then project this partition column and apply distinct which will provide you with filter values you need to pass to next process of the pipe line.\r\n- The next step submit a sequential spark applications which filter the input data based on the passed filter value resulting in data frame of single partition.\r\n- Write (**bulk-insert**) the filtered dataframe as Hudi table with the provided partition column(s) using save-mode **append**\r\n- Hudi table being written partition by partition.\r\n- Query the Hudi table to check if it is valid table, and it looks valid.\r\n\r\n**Case partitioned** same as above, with faster filter operations. \r\n\r\n**Pros**: \r\n- Avoided a lot of disk spilling, GC hits. \r\n- Using less resources for initial loading.\r\n\r\n**Cons**: \r\n- No time improvements in case you have enough resources to load the table at once. \r\n- We ended up with partitioned table, which might not be needed in some of our use cases.\r\n\r\n**Questions**:\r\n- If this approach is valid or going to impact the upsert operations in the future?\r\n\r\n\r\n---\r\n\r\n> I would be happy to jump on a call with you folks and get this moving along.. I am also very excited to work with a user like yourself and move the perf aspects of the project along more..\r\n\r\nWe are excited as well to have a call together, please inform me how we can proceed on this meeting.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613563197/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613613150","html_url":"https://github.com/apache/hudi/pull/1457#issuecomment-613613150","issue_url":"https://api.github.com/repos/apache/hudi/issues/1457","id":613613150,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzYxMzE1MA==","user":{"login":"afilipchik","id":1406795,"node_id":"MDQ6VXNlcjE0MDY3OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1406795?v=4","gravatar_id":"","url":"https://api.github.com/users/afilipchik","html_url":"https://github.com/afilipchik","followers_url":"https://api.github.com/users/afilipchik/followers","following_url":"https://api.github.com/users/afilipchik/following{/other_user}","gists_url":"https://api.github.com/users/afilipchik/gists{/gist_id}","starred_url":"https://api.github.com/users/afilipchik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afilipchik/subscriptions","organizations_url":"https://api.github.com/users/afilipchik/orgs","repos_url":"https://api.github.com/users/afilipchik/repos","events_url":"https://api.github.com/users/afilipchik/events{/privacy}","received_events_url":"https://api.github.com/users/afilipchik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T18:40:31Z","updated_at":"2020-04-14T18:40:31Z","author_association":"CONTRIBUTOR","body":"I found a way to get out compaction situation. Had to modify parquet-avro to allow avro style compatibility. Currently if avro doesn't have all the fields that are in parquet -> it is exception. I made it so if fields are missing in avro, parquet-avro reader will just skip them. Was able to resolve incompatible change on our dev env fine.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613613150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613655751","html_url":"https://github.com/apache/hudi/pull/1433#issuecomment-613655751","issue_url":"https://api.github.com/repos/apache/hudi/issues/1433","id":613655751,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzY1NTc1MQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T20:09:10Z","updated_at":"2020-04-14T20:09:10Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @nsivabalan please take pass. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613655751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613673881","html_url":"https://github.com/apache/hudi/pull/1512#issuecomment-613673881","issue_url":"https://api.github.com/repos/apache/hudi/issues/1512","id":613673881,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzY3Mzg4MQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T20:48:49Z","updated_at":"2020-04-14T20:48:49Z","author_association":"CONTRIBUTOR","body":"> @lamber-ken trying to understand why this should be needed.. can't we distinguish based on the input format for ORC, where we can create HoodieOrcInputFormat ..\r\n\r\n+1 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613673881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613743632","html_url":"https://github.com/apache/hudi/pull/1500#issuecomment-613743632","issue_url":"https://api.github.com/repos/apache/hudi/issues/1500","id":613743632,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzc0MzYzMg==","user":{"login":"kwondw","id":3383164,"node_id":"MDQ6VXNlcjMzODMxNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3383164?v=4","gravatar_id":"","url":"https://api.github.com/users/kwondw","html_url":"https://github.com/kwondw","followers_url":"https://api.github.com/users/kwondw/followers","following_url":"https://api.github.com/users/kwondw/following{/other_user}","gists_url":"https://api.github.com/users/kwondw/gists{/gist_id}","starred_url":"https://api.github.com/users/kwondw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kwondw/subscriptions","organizations_url":"https://api.github.com/users/kwondw/orgs","repos_url":"https://api.github.com/users/kwondw/repos","events_url":"https://api.github.com/users/kwondw/events{/privacy}","received_events_url":"https://api.github.com/users/kwondw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T00:13:49Z","updated_at":"2020-04-15T00:13:49Z","author_association":"CONTRIBUTOR","body":"This conflict isn't due to my change, it seems every time there is update on upstream master branch, the conflict could happen, I will merge with master once code review is all done.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613743632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613743806","html_url":"https://github.com/apache/hudi/pull/1151#issuecomment-613743806","issue_url":"https://api.github.com/repos/apache/hudi/issues/1151","id":613743806,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzc0MzgwNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T00:14:26Z","updated_at":"2020-04-15T00:14:26Z","author_association":"MEMBER","body":"@dengziming thanks for getting back..  \r\n\r\nI think we can solve both problems for deltastreamer by simply reusing the deltastreamer from the utilities-bundle and just provide the command line arguments and config files via the run_examples.sh script...\r\n\r\nDataSource examples can hopefully be easily dealt with.. it may be worth it to even get that working first, if it helps us move forward.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613743806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613754532","html_url":"https://github.com/apache/hudi/pull/1457#issuecomment-613754532","issue_url":"https://api.github.com/repos/apache/hudi/issues/1457","id":613754532,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzc1NDUzMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T00:55:06Z","updated_at":"2020-04-15T00:55:06Z","author_association":"MEMBER","body":"Just to level set, we have relied always to an external system validating the schema backwards compatibility outside of Hudi. bringing this inside, seems like a good idea based on what we have learnt in production over the past year seems like.\r\n\r\nI am supportive of that..  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613754532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613755671","html_url":"https://github.com/apache/hudi/pull/1504#issuecomment-613755671","issue_url":"https://api.github.com/repos/apache/hudi/issues/1504","id":613755671,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzc1NTY3MQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T01:00:16Z","updated_at":"2020-04-15T01:00:16Z","author_association":"CONTRIBUTOR","body":"@xushiyan thanks for the update. I will take a look today.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613755671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613761497","html_url":"https://github.com/apache/hudi/pull/1457#issuecomment-613761497","issue_url":"https://api.github.com/repos/apache/hudi/issues/1457","id":613761497,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzc2MTQ5Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T01:19:58Z","updated_at":"2020-04-15T01:20:16Z","author_association":"MEMBER","body":"@prashantwason can you please \r\n\r\n- reduce the size of the SchemaCompatibility file we copied from avro, reusing as much as we can.. this will also be a forcing function to revisit and pick up fixes here time and again if we update avro. \r\n- please look at NOTICE/LICENSE file for how we have attributed other such code reuse and attribute them as well .... \r\n\r\n\r\nI am not sure if the stricter checking we add here will affect the issue listed here  https://github.com/apache/incubator-hudi/pull/1406#issuecomment-606240326 .. basically there was a difference in namespace (which IIUC matters when comparing schemas)... I am wondering if we can read 0.5.0 data using 0.5.2 for eg","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613761497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613761823","html_url":"https://github.com/apache/hudi/pull/1457#issuecomment-613761823","issue_url":"https://api.github.com/repos/apache/hudi/issues/1457","id":613761823,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzc2MTgyMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T01:21:16Z","updated_at":"2020-04-15T01:21:16Z","author_association":"MEMBER","body":"Those are my pending comments.. otherwise @n3nash can review and merge.. But please ensure NOTICE and LICENSE are properly updated, this will cause large delays in releasing down the line.. @n3nash if you 'd rather have me double review lmk :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613761823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613764273","html_url":"https://github.com/apache/hudi/pull/1151#issuecomment-613764273","issue_url":"https://api.github.com/repos/apache/hudi/issues/1151","id":613764273,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzc2NDI3Mw==","user":{"login":"dengziming","id":26023240,"node_id":"MDQ6VXNlcjI2MDIzMjQw","avatar_url":"https://avatars.githubusercontent.com/u/26023240?v=4","gravatar_id":"","url":"https://api.github.com/users/dengziming","html_url":"https://github.com/dengziming","followers_url":"https://api.github.com/users/dengziming/followers","following_url":"https://api.github.com/users/dengziming/following{/other_user}","gists_url":"https://api.github.com/users/dengziming/gists{/gist_id}","starred_url":"https://api.github.com/users/dengziming/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dengziming/subscriptions","organizations_url":"https://api.github.com/users/dengziming/orgs","repos_url":"https://api.github.com/users/dengziming/repos","events_url":"https://api.github.com/users/dengziming/events{/privacy}","received_events_url":"https://api.github.com/users/dengziming/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T01:31:21Z","updated_at":"2020-04-15T01:31:21Z","author_association":"MEMBER","body":"Thanks for your reply @vinothchandar . Do you mean we can just delete the 3 XxxDeltaStreamerExample and replace them with a  run_examples.sh and some config files?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/613764273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614125874","html_url":"https://github.com/apache/hudi/pull/1500#issuecomment-614125874","issue_url":"https://api.github.com/repos/apache/hudi/issues/1500","id":614125874,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDEyNTg3NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T15:58:15Z","updated_at":"2020-04-15T15:58:15Z","author_association":"MEMBER","body":"could you please rebase against latest master and get this to a state where only the necessary changes are in this one? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614125874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614241591","html_url":"https://github.com/apache/hudi/pull/1432#issuecomment-614241591","issue_url":"https://api.github.com/repos/apache/hudi/issues/1432","id":614241591,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDI0MTU5MQ==","user":{"login":"hmatu","id":59252744,"node_id":"MDQ6VXNlcjU5MjUyNzQ0","avatar_url":"https://avatars.githubusercontent.com/u/59252744?v=4","gravatar_id":"","url":"https://api.github.com/users/hmatu","html_url":"https://github.com/hmatu","followers_url":"https://api.github.com/users/hmatu/followers","following_url":"https://api.github.com/users/hmatu/following{/other_user}","gists_url":"https://api.github.com/users/hmatu/gists{/gist_id}","starred_url":"https://api.github.com/users/hmatu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmatu/subscriptions","organizations_url":"https://api.github.com/users/hmatu/orgs","repos_url":"https://api.github.com/users/hmatu/repos","events_url":"https://api.github.com/users/hmatu/events{/privacy}","received_events_url":"https://api.github.com/users/hmatu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T19:40:33Z","updated_at":"2020-04-15T19:40:33Z","author_association":"CONTRIBUTOR","body":"@lamber-ken thanks for the changes, I have been running into the same issue and worked! ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614241591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614253179","html_url":"https://github.com/apache/hudi/pull/1457#issuecomment-614253179","issue_url":"https://api.github.com/repos/apache/hudi/issues/1457","id":614253179,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDI1MzE3OQ==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T20:05:13Z","updated_at":"2020-04-15T20:05:13Z","author_association":"MEMBER","body":"I have reworked the schema compatibility check code to remove copying the entire avro.SchemaCompatibility class. I took out the relevant portion and it worked. I think the checks are now simpler and clearly defined within TableSchemaResolver.isisSchemaCompatible(...). \r\n\r\nNo need to NOTICE and LICENSE updates as we are not copying the avro.SchemaCompatibility  class.\r\n\r\nAll unit tests have been completed too. So this is now good for a final review.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614253179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614255323","html_url":"https://github.com/apache/hudi/pull/1512#issuecomment-614255323","issue_url":"https://api.github.com/repos/apache/hudi/issues/1512","id":614255323,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDI1NTMyMw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T20:10:19Z","updated_at":"2020-04-15T20:13:07Z","author_association":"MEMBER","body":"hi @vinothchandar @pratyakshsharma, thanks very much for reviewing this. \r\n\r\nThe base file format for each hudi dataset can't be changed across writes, so we need to store this option to hoodie.properties. This is the first step to support multiple data formats (read / write options)\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/79383212-63d64f00-7f97-11ea-8fc1-9fdfe34a911d.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614255323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614301101","html_url":"https://github.com/apache/hudi/pull/1520#issuecomment-614301101","issue_url":"https://api.github.com/repos/apache/hudi/issues/1520","id":614301101,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDMwMTEwMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T21:58:51Z","updated_at":"2020-04-15T21:58:51Z","author_association":"MEMBER","body":"@lamber-ken could you please review this ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614301101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614308722","html_url":"https://github.com/apache/hudi/pull/1512#issuecomment-614308722","issue_url":"https://api.github.com/repos/apache/hudi/issues/1512","id":614308722,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDMwODcyMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T22:20:23Z","updated_at":"2020-04-15T22:20:23Z","author_association":"MEMBER","body":"Fair enough.. Hypothetically, we could support a world where base files across partitions are in different formats.. So given its not a real problem today.. we can deal with it down the line? \r\n\r\nbtw there are also things like index.type which should go there today and are not.. IIRC there is a ticket for that as well.. main challenge there is how would we apply this change to the hoodie.properties file.. (dont think overwriting will be atomic...) also does this change also fix older tables automatically.. If we can flesh those out, that may be good. wdyt ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614308722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614333053","html_url":"https://github.com/apache/hudi/pull/1457#issuecomment-614333053","issue_url":"https://api.github.com/repos/apache/hudi/issues/1457","id":614333053,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDMzMzA1Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T23:41:24Z","updated_at":"2020-04-15T23:41:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1457?src=pr&el=h1) Report\n> Merging [#1457](https://codecov.io/gh/apache/incubator-hudi/pull/1457?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/661b0b3bab85c8fd958a9e256dab99790ea92713&el=desc) will **increase** coverage by `0.09%`.\n> The diff coverage is `71.60%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1457/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1457?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1457      +/-   ##\n============================================\n+ Coverage     72.20%   72.29%   +0.09%     \n- Complexity      289      294       +5     \n============================================\n  Files           372      374       +2     \n  Lines         16267    16369     +102     \n  Branches       1637     1654      +17     \n============================================\n+ Hits          11745    11834      +89     \n- Misses         3787     3799      +12     \n- Partials        735      736       +1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1457?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [...in/java/org/apache/hudi/io/HoodieAppendHandle.java](https://codecov.io/gh/apache/incubator-hudi/pull/1457/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vSG9vZGllQXBwZW5kSGFuZGxlLmphdmE=) | `84.17% <Ã¸> (Ã¸)` | `0.00 <0.00> (Ã¸)` | |\n| [...java/org/apache/hudi/hive/util/HiveSchemaUtil.java](https://codecov.io/gh/apache/incubator-hudi/pull/1457/diff?src=pr&el=tree#diff-aHVkaS1oaXZlLXN5bmMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGl2ZS91dGlsL0hpdmVTY2hlbWFVdGlsLmphdmE=) | `68.10% <50.00%> (Ã¸)` | `0.00 <0.00> (?)` | |\n| [.../apache/hudi/common/table/TableSchemaResolver.java](https://codecov.io/gh/apache/incubator-hudi/pull/1457/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL1RhYmxlU2NoZW1hUmVzb2x2ZXIuamF2YQ==) | `63.86% <63.86%> (Ã¸)` | `0.00 <0.00> (?)` | |\n| [...in/java/org/apache/hudi/hive/HoodieHiveClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1457/diff?src=pr&el=tree#diff-aHVkaS1oaXZlLXN5bmMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGl2ZS9Ib29kaWVIaXZlQ2xpZW50LmphdmE=) | `74.63% <75.00%> (+2.43%)` | `0.00 <0.00> (Ã¸)` | |\n| [...java/org/apache/hudi/client/HoodieWriteClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1457/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0hvb2RpZVdyaXRlQ2xpZW50LmphdmE=) | `70.24% <96.55%> (+2.28%)` | `0.00 <0.00> (Ã¸)` | |\n| [...java/org/apache/hudi/config/HoodieWriteConfig.java](https://codecov.io/gh/apache/incubator-hudi/pull/1457/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZVdyaXRlQ29uZmlnLmphdmE=) | `84.64% <100.00%> (+0.27%)` | `0.00 <0.00> (Ã¸)` | |\n| [...ain/java/org/apache/hudi/io/HoodieWriteHandle.java](https://codecov.io/gh/apache/incubator-hudi/pull/1457/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vSG9vZGllV3JpdGVIYW5kbGUuamF2YQ==) | `74.46% <100.00%> (-0.54%)` | `0.00 <0.00> (Ã¸)` | |\n| [...ain/java/org/apache/hudi/avro/HoodieAvroUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1457/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYXZyby9Ib29kaWVBdnJvVXRpbHMuamF2YQ==) | `93.13% <100.00%> (+1.13%)` | `0.00 <0.00> (Ã¸)` | |\n| [...c/main/java/org/apache/hudi/hive/HiveSyncTool.java](https://codecov.io/gh/apache/incubator-hudi/pull/1457/diff?src=pr&el=tree#diff-aHVkaS1oaXZlLXN5bmMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGl2ZS9IaXZlU3luY1Rvb2wuamF2YQ==) | `74.15% <100.00%> (Ã¸)` | `0.00 <0.00> (Ã¸)` | |\n| [...lities/checkpointing/KafkaConnectHdfsProvider.java](https://codecov.io/gh/apache/incubator-hudi/pull/1457/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2NoZWNrcG9pbnRpbmcvS2Fma2FDb25uZWN0SGRmc1Byb3ZpZGVyLmphdmE=) | `89.28% <0.00%> (-3.03%)` | `14.00% <0.00%> (+2.00%)` | :arrow_down: |\n| ... and [13 more](https://codecov.io/gh/apache/incubator-hudi/pull/1457/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1457?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1457?src=pr&el=footer). Last update [661b0b3...4f1c184](https://codecov.io/gh/apache/incubator-hudi/pull/1457?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614333053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614364497","html_url":"https://github.com/apache/hudi/pull/1519#issuecomment-614364497","issue_url":"https://api.github.com/repos/apache/hudi/issues/1519","id":614364497,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM2NDQ5Nw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T01:40:08Z","updated_at":"2020-04-16T01:40:08Z","author_association":"MEMBER","body":"Welcome @iftachsc ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614364497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614365314","html_url":"https://github.com/apache/hudi/pull/1520#issuecomment-614365314","issue_url":"https://api.github.com/repos/apache/hudi/issues/1520","id":614365314,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM2NTMxNA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T01:42:34Z","updated_at":"2020-04-16T01:42:34Z","author_association":"MEMBER","body":"> @lamber-ken could you please review this\r\n\r\nOK : )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614365314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614366584","html_url":"https://github.com/apache/hudi/issues/1491#issuecomment-614366584","issue_url":"https://api.github.com/repos/apache/hudi/issues/1491","id":614366584,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM2NjU4NA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T01:46:20Z","updated_at":"2020-04-16T01:46:20Z","author_association":"MEMBER","body":"hi @tverdokhlebd, are you still facing this problem? Or can you ask your colleagues to try again?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614366584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614368160","html_url":"https://github.com/apache/hudi/pull/1517#issuecomment-614368160","issue_url":"https://api.github.com/repos/apache/hudi/issues/1517","id":614368160,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM2ODE2MA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T01:51:18Z","updated_at":"2020-04-16T01:51:18Z","author_association":"MEMBER","body":"hi @afilipchik, thanks for your contribution, we need add `[MINOR]` to title for minor changes.\r\n\r\ne.g `[MINOR] Use appropriate FS when loading configs`.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614368160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614370054","html_url":"https://github.com/apache/hudi/issues/1488#issuecomment-614370054","issue_url":"https://api.github.com/repos/apache/hudi/issues/1488","id":614370054,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM3MDA1NA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T01:58:28Z","updated_at":"2020-04-16T01:58:28Z","author_association":"MEMBER","body":"hi @jvaesteves, are you still facing this problem? : )\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614370054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614372674","html_url":"https://github.com/apache/hudi/pull/1224#issuecomment-614372674","issue_url":"https://api.github.com/repos/apache/hudi/issues/1224","id":614372674,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM3MjY3NA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T02:08:32Z","updated_at":"2020-04-16T02:08:32Z","author_association":"MEMBER","body":"hi @wangxianghu, you can use `git rebase` operation and try again","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614372674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614374608","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-614374608","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":614374608,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM3NDYwOA==","user":{"login":"liujianhuiouc","id":13215934,"node_id":"MDQ6VXNlcjEzMjE1OTM0","avatar_url":"https://avatars.githubusercontent.com/u/13215934?v=4","gravatar_id":"","url":"https://api.github.com/users/liujianhuiouc","html_url":"https://github.com/liujianhuiouc","followers_url":"https://api.github.com/users/liujianhuiouc/followers","following_url":"https://api.github.com/users/liujianhuiouc/following{/other_user}","gists_url":"https://api.github.com/users/liujianhuiouc/gists{/gist_id}","starred_url":"https://api.github.com/users/liujianhuiouc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujianhuiouc/subscriptions","organizations_url":"https://api.github.com/users/liujianhuiouc/orgs","repos_url":"https://api.github.com/users/liujianhuiouc/repos","events_url":"https://api.github.com/users/liujianhuiouc/events{/privacy}","received_events_url":"https://api.github.com/users/liujianhuiouc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T02:15:48Z","updated_at":"2020-04-16T02:15:48Z","author_association":"NONE","body":"@lamber-ken please help to merge","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614374608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614376368","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-614376368","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":614376368,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM3NjM2OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T02:22:21Z","updated_at":"2020-04-16T02:22:21Z","author_association":"MEMBER","body":"@n3nash can you actually help review this.. does this pose any issues for rollback today? (IIUC for rollback of inserts, we will list and delete files written as of that delta commit instant.. ) delta commit ultimately will have insert info... So really, this is just completeness fix with no real impact on operations we do? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614376368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614378189","html_url":"https://github.com/apache/hudi/issues/1498#issuecomment-614378189","issue_url":"https://api.github.com/repos/apache/hudi/issues/1498","id":614378189,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM3ODE4OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T02:29:04Z","updated_at":"2020-04-16T02:29:04Z","author_association":"MEMBER","body":"@ahmed-elfar do you mind joining our slack channel and we can chat 1-1 to setup a time.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614378189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614381927","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-614381927","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":614381927,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM4MTkyNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T02:43:01Z","updated_at":"2020-04-16T02:43:01Z","author_association":"CONTRIBUTOR","body":"@vinothchandar This fix should reflect only in inflight commit metadata and rollback works in the way you mentioned. As it stands now, the current rollback logic can benefit with this change. We can optimize the rollback logic to only look at the partitions in the inflight file for rollbacks instead of scanning all partitions. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614381927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614400699","html_url":"https://github.com/apache/hudi/issues/1498#issuecomment-614400699","issue_url":"https://api.github.com/repos/apache/hudi/issues/1498","id":614400699,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDQwMDY5OQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T03:52:13Z","updated_at":"2020-04-16T03:52:13Z","author_association":"MEMBER","body":"hi @vinothchandar, already in our slack channel.\r\n![image](https://user-images.githubusercontent.com/20113411/79412692-aec48680-7fd8-11ea-8483-11a2ff742e25.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614400699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614794767","html_url":"https://github.com/apache/hudi/pull/1402#issuecomment-614794767","issue_url":"https://api.github.com/repos/apache/hudi/issues/1402","id":614794767,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDc5NDc2Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T17:38:34Z","updated_at":"2020-04-16T17:38:34Z","author_association":"MEMBER","body":"@nsivabalan confirming the next steps for this patch... getting the global indexing as well supported (probably need to support the config added to update partition path change..raymond's PR).. and get it to merge? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614794767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614795517","html_url":"https://github.com/apache/hudi/pull/1151#issuecomment-614795517","issue_url":"https://api.github.com/repos/apache/hudi/issues/1151","id":614795517,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDc5NTUxNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T17:40:05Z","updated_at":"2020-04-16T17:40:05Z","author_association":"MEMBER","body":">we can just delete the 3 XxxDeltaStreamerExample and replace them with a run_examples.sh and some config files?\r\n\r\nyes.. based on your previous comment, that would probably make sense.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614795517/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614864302","html_url":"https://github.com/apache/hudi/pull/1402#issuecomment-614864302","issue_url":"https://api.github.com/repos/apache/hudi/issues/1402","id":614864302,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDg2NDMwMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T19:58:16Z","updated_at":"2020-04-16T19:58:16Z","author_association":"CONTRIBUTOR","body":"> @nsivabalan confirming the next steps for this patch... getting the global indexing as well supported (probably need to support the config added to update partition path change..raymond's PR).. and get it to merge?\r\n\r\n@vinothchandar : thanks for reminding about the updatePartitionPath config. I missed out in the latest commit where I added global simple index. Will get it fixed ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614864302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614885624","html_url":"https://github.com/apache/hudi/pull/1513#issuecomment-614885624","issue_url":"https://api.github.com/repos/apache/hudi/issues/1513","id":614885624,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDg4NTYyNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T20:45:29Z","updated_at":"2020-04-16T20:45:29Z","author_association":"MEMBER","body":"@pratyakshsharma I will take another pass once you and @afilipchik are on the same pass.. \r\n\r\nDiscussions point towards having more tests around default values.. Might be worth it for you to try a bunch of different combinations and see what the gaps are.. (outside of this PR?) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614885624/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614931414","html_url":"https://github.com/apache/hudi/pull/1524#issuecomment-614931414","issue_url":"https://api.github.com/repos/apache/hudi/issues/1524","id":614931414,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDkzMTQxNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T22:34:51Z","updated_at":"2020-04-16T22:34:51Z","author_association":"MEMBER","body":"Please create a JIRA for this work, tagged against 0.6.0 release ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614931414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614948239","html_url":"https://github.com/apache/hudi/pull/1525#issuecomment-614948239","issue_url":"https://api.github.com/repos/apache/hudi/issues/1525","id":614948239,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDk0ODIzOQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T23:29:45Z","updated_at":"2020-04-16T23:29:45Z","author_association":"MEMBER","body":"hi @afilipchik, thanks for your contribution, If the changes are minor, then [MINOR] prefix can be added to Pull Request title without a JIRA. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/614948239/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615077522","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-615077522","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":615077522,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTA3NzUyMg==","user":{"login":"jenu9417","id":35403660,"node_id":"MDQ6VXNlcjM1NDAzNjYw","avatar_url":"https://avatars.githubusercontent.com/u/35403660?v=4","gravatar_id":"","url":"https://api.github.com/users/jenu9417","html_url":"https://github.com/jenu9417","followers_url":"https://api.github.com/users/jenu9417/followers","following_url":"https://api.github.com/users/jenu9417/following{/other_user}","gists_url":"https://api.github.com/users/jenu9417/gists{/gist_id}","starred_url":"https://api.github.com/users/jenu9417/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenu9417/subscriptions","organizations_url":"https://api.github.com/users/jenu9417/orgs","repos_url":"https://api.github.com/users/jenu9417/repos","events_url":"https://api.github.com/users/jenu9417/events{/privacy}","received_events_url":"https://api.github.com/users/jenu9417/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T06:56:01Z","updated_at":"2020-04-17T06:56:01Z","author_association":"NONE","body":"please add me.  jenu9417@gmail.com\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615077522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615141491","html_url":"https://github.com/apache/hudi/issues/1491#issuecomment-615141491","issue_url":"https://api.github.com/repos/apache/hudi/issues/1491","id":615141491,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTE0MTQ5MQ==","user":{"login":"tverdokhlebd","id":10245067,"node_id":"MDQ6VXNlcjEwMjQ1MDY3","avatar_url":"https://avatars.githubusercontent.com/u/10245067?v=4","gravatar_id":"","url":"https://api.github.com/users/tverdokhlebd","html_url":"https://github.com/tverdokhlebd","followers_url":"https://api.github.com/users/tverdokhlebd/followers","following_url":"https://api.github.com/users/tverdokhlebd/following{/other_user}","gists_url":"https://api.github.com/users/tverdokhlebd/gists{/gist_id}","starred_url":"https://api.github.com/users/tverdokhlebd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tverdokhlebd/subscriptions","organizations_url":"https://api.github.com/users/tverdokhlebd/orgs","repos_url":"https://api.github.com/users/tverdokhlebd/repos","events_url":"https://api.github.com/users/tverdokhlebd/events{/privacy}","received_events_url":"https://api.github.com/users/tverdokhlebd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T09:21:43Z","updated_at":"2020-04-17T11:02:13Z","author_association":"NONE","body":"Hi @lamber-ken \r\n\r\nYes, I have resolved this problem.\r\n\r\nFirstly, the problem was in SBT memory that allocated default memory size 1GB. Then, I fixed it and set 8GB and transferring 5M records successfully finished in my local environment.\r\n\r\nNext, I have tried to transfer 30M records, but upsert failed again. I tunned *.parallelism parameters (Changed from 8 to 100) and everything went fine (20MB for each parquet file).\r\n\r\nAlso, I added parameter \"hoodie.memory.merge.max.size\" with value \"2004857600000\" that you had recommended. Upsert was hanging without this parameter (It is necessary to recheck again).\r\n\r\n@lamber-ken, can you explain to me, what the parameter is?\r\n\r\nUPD:\r\n\r\nRechecked without \"hoodie.memory.merge.max.size\" parameter and got error (heap size).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615141491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615161533","html_url":"https://github.com/apache/hudi/pull/1511#issuecomment-615161533","issue_url":"https://api.github.com/repos/apache/hudi/issues/1511","id":615161533,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTE2MTUzMw==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T10:06:04Z","updated_at":"2020-04-17T10:06:04Z","author_association":"CONTRIBUTOR","body":"@yanghua Thanks for you review, had address them.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/615161533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]