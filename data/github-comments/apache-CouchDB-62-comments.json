[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447621940","html_url":"https://github.com/apache/couchdb/issues/1799#issuecomment-447621940","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1799","id":447621940,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYyMTk0MA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T06:56:02Z","updated_at":"2018-12-16T06:56:02Z","author_association":"CONTRIBUTOR","body":"Agree with @janl. Good reference of using VDU in normal deletion case. \r\n\r\nI am quite open to accept the feasible change for _purge endpoint check. Just want to avoid ending up with another different case. If any document needs to be purged, is it always necessary to go to admin to purge document? Is it possible to have option to enable/disable such check according to preference of admin?\r\n\r\nBTW:  for `handle_req_after_auth/2` plug-in, it can be \"writing log file\", or any other customized codes performing check.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447621940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447735443","html_url":"https://github.com/apache/couchdb/issues/1648#issuecomment-447735443","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1648","id":447735443,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzczNTQ0Mw==","user":{"login":"dkiryazi","id":22652100,"node_id":"MDQ6VXNlcjIyNjUyMTAw","avatar_url":"https://avatars.githubusercontent.com/u/22652100?v=4","gravatar_id":"","url":"https://api.github.com/users/dkiryazi","html_url":"https://github.com/dkiryazi","followers_url":"https://api.github.com/users/dkiryazi/followers","following_url":"https://api.github.com/users/dkiryazi/following{/other_user}","gists_url":"https://api.github.com/users/dkiryazi/gists{/gist_id}","starred_url":"https://api.github.com/users/dkiryazi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkiryazi/subscriptions","organizations_url":"https://api.github.com/users/dkiryazi/orgs","repos_url":"https://api.github.com/users/dkiryazi/repos","events_url":"https://api.github.com/users/dkiryazi/events{/privacy}","received_events_url":"https://api.github.com/users/dkiryazi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T06:23:32Z","updated_at":"2018-12-17T06:23:32Z","author_association":"NONE","body":"I am also receiving `offset=null` on the `POST _all_docs` API call on a fresh install cluster running 2.3.0 on Ubuntu 18.04.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447735443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447736196","html_url":"https://github.com/apache/couchdb/issues/1813#issuecomment-447736196","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1813","id":447736196,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzczNjE5Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T06:27:25Z","updated_at":"2018-12-17T06:27:25Z","author_association":"MEMBER","body":"HI @anaran, we are deprecating all of the wiki.apache.org links. The information on those pages was **way** out of date. We left up deprecation notices for pages for over 2 years, so you should have had plenty of time to update your documentation. Any pages that are still up on wiki.apache.org shouldn't be trusted.\r\n\r\nAnything in your documentation that still points there should immediately be changed to point to our official documentation at:\r\n\r\nhttps://docs.couchdb.org/en/stable/<page>\r\n\r\nThe full API reference is here:\r\n\r\nhttps://docs.couchdb.org/en/stable/api/index.html\r\n\r\nHope this helps! I'm going to close this issue but feel free to bump it if you can't find anything.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447736196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447826760","html_url":"https://github.com/apache/couchdb/issues/1813#issuecomment-447826760","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1813","id":447826760,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzgyNjc2MA==","user":{"login":"anaran","id":621600,"node_id":"MDQ6VXNlcjYyMTYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/621600?v=4","gravatar_id":"","url":"https://api.github.com/users/anaran","html_url":"https://github.com/anaran","followers_url":"https://api.github.com/users/anaran/followers","following_url":"https://api.github.com/users/anaran/following{/other_user}","gists_url":"https://api.github.com/users/anaran/gists{/gist_id}","starred_url":"https://api.github.com/users/anaran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anaran/subscriptions","organizations_url":"https://api.github.com/users/anaran/orgs","repos_url":"https://api.github.com/users/anaran/repos","events_url":"https://api.github.com/users/anaran/events{/privacy}","received_events_url":"https://api.github.com/users/anaran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T12:22:18Z","updated_at":"2018-12-17T12:22:18Z","author_association":"NONE","body":"Thanks for the quick response!\r\n\r\nI'll see if I can come up with a patch for pouchdb/pouchdb#7571\r\n\r\nHere are some issues I encountered trying to find out where couchdb wiki information went:\r\n\r\nSo where did these deprecation notices say where things migrated to?\r\n\r\nhttps://wiki.apache.org/couchdb/FrontPage does not seem to mention this.\r\n\r\nhttps://cwiki.apache.org/confluence/display/COUCHDB/Apache+CouchDB+Wiki suggests this is the place being migrated to:\r\n\r\n*We are in the process of migrating from our old MoinMoin wiki. Please help us. Email the list and lets us know you want to help.*\r\n\r\nhttps://wiki.apache.org/couchdb/HTTP_Document_API#Special_Fields invites to create new content instead of showing interested parties the way to the new place.\r\n\r\nI also found\r\n`| HTTP_Bulk_Document_API | 05:42 | Â  | JoanTouzet | migrated\r\n-- | -- | -- | -- | -- | --`\r\nin https://wiki.apache.org/couchdb/RecentChanges but that does not mention where information migrated to.\r\n\r\nI am providing this outside view in the hope you might see how people chasing old links might be guided to the latest document locations.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447826760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447933276","html_url":"https://github.com/apache/couchdb/issues/1813#issuecomment-447933276","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1813","id":447933276,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzkzMzI3Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T17:43:10Z","updated_at":"2018-12-17T17:51:41Z","author_association":"MEMBER","body":"@anaran On each individual page there were redirect notices for a long while. As the pages were deleted, we didn't leave behind notices for each one.\r\n\r\nI'll update https://wiki.apache.org/couchdb/FrontPage and https://cwiki.apache.org/confluence/display/COUCHDB/Apache+CouchDB+Wiki  for more clarity. We are only using the cwiki page for project administrative stuff - not anything about actual use of the program.\r\n\r\nIf you can't find the content you need at https://docs.apache.org/ please let us know.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447933276/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447943435","html_url":"https://github.com/apache/couchdb/pull/1789#issuecomment-447943435","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1789","id":447943435,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0Nzk0MzQzNQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T18:12:56Z","updated_at":"2018-12-17T18:12:56Z","author_association":"MEMBER","body":"@iilyak I've created helper functions for the start/end key leak and updated couch_mrview_updater to use couch_partition:extract to also avoid the separator leak there.\r\n\r\n@jaydoane I've updated the check in couch_partition to avoid the config calls when a database is not partitioned.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/447943435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448008270","html_url":"https://github.com/apache/couchdb/issues/1813#issuecomment-448008270","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1813","id":448008270,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODAwODI3MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T21:38:56Z","updated_at":"2018-12-17T21:38:56Z","author_association":"MEMBER","body":"@anaran FYI Thanks for the reminder, I am now finishing migrating *all* of the content off of the old wiki pages. I should be able to finish the work this week. Be sure to scrub your documentation of any links to those pages as soon as possible. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448008270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448060589","html_url":"https://github.com/apache/couchdb/issues/1810#issuecomment-448060589","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1810","id":448060589,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODA2MDU4OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T01:19:43Z","updated_at":"2018-12-18T01:30:46Z","author_association":"MEMBER","body":"@nickva I'm not sure that the fix in https://github.com/mochi/mochiweb/pull/208 is going to satisfy the situation in #1409.\r\n\r\nBasically, the patch as written I *think* only sets the buffer to `8192` if `recbuf` is undefined. This means if you need >8k of headers you have *no choice* but to peg `recbuf` higher, which causes the issue seen in #1409. I don't think it's fair to tradeoff a fix for this with poor attachment performance again.\r\n\r\nIdeally we shouldn't be using a fixed 8k value in mochiweb but instead calling `getopts` to figure out the OS's window size (at least initially) and use that to set `buffer`'s size. I know you had runtime reservations about the performance of inserting a `getopts` call with every socket open but we should characterize this.\r\n\r\nAn alternative without going back to mochiweb would be to pass in `{buffer, BIGNUM}` . I don't know if your patch to mochiweb allows passing `buffer`9 in now as part of `server_options`, does it? If so this could be a documented workaround; based on testing on Linux the default was like 50k on my system, and 50k of headers should be sufficient. So in this case, we'd tell people to leave recbuf as undefined and just pass in `{buffer, 100000}` or so. As long as `buffer >= recbuf` you're fine, and we can provide the `remsh` command to determine your actual `recbuf` value as set by the OS.\r\n\r\nBut the only real fix for this (arbitrary header length + undefined `recbuf`) is to stop using `{packet, http}` and allowing multiple `recv`s on the socket to get all of the header content if necessary (with appropriate limits on the # of headers and max length for each) which is a MASSIVE change to mochiweb and no one is volunteering to write it. So I'm hoping the tradeoff above is sufficient.\r\n\r\n/cc @kocolosk @davisp ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448060589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448104264","html_url":"https://github.com/apache/couchdb/issues/1814#issuecomment-448104264","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1814","id":448104264,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODEwNDI2NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T05:46:35Z","updated_at":"2018-12-18T05:46:35Z","author_association":"MEMBER","body":"Correct - every `validate_doc_update` (VDU) will be run on *every* document `PUT/POST`. 100 different VDUs is probably a worst case scenario for your database.\r\n\r\nGenerally it is recommended to have a single VDU per database. Two or three isn't necessarily bad, if you want to do a bit of logic separation (admin/security checks in one VDU, data structure checks in another). But 100 is a terrible idea.\r\n\r\nThere's no way to limit VDUs per database other than through your own design.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448104264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448124185","html_url":"https://github.com/apache/couchdb/issues/1814#issuecomment-448124185","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1814","id":448124185,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODEyNDE4NQ==","user":{"login":"Prabuganesan","id":14870631,"node_id":"MDQ6VXNlcjE0ODcwNjMx","avatar_url":"https://avatars.githubusercontent.com/u/14870631?v=4","gravatar_id":"","url":"https://api.github.com/users/Prabuganesan","html_url":"https://github.com/Prabuganesan","followers_url":"https://api.github.com/users/Prabuganesan/followers","following_url":"https://api.github.com/users/Prabuganesan/following{/other_user}","gists_url":"https://api.github.com/users/Prabuganesan/gists{/gist_id}","starred_url":"https://api.github.com/users/Prabuganesan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Prabuganesan/subscriptions","organizations_url":"https://api.github.com/users/Prabuganesan/orgs","repos_url":"https://api.github.com/users/Prabuganesan/repos","events_url":"https://api.github.com/users/Prabuganesan/events{/privacy}","received_events_url":"https://api.github.com/users/Prabuganesan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T07:34:24Z","updated_at":"2018-12-18T07:34:24Z","author_association":"NONE","body":"I have designed single CouchDB for multiple objects. And create multiple apps and pointed on this single CouchDB. For this solution how can I implement DB validation for every object type? Any other solution?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448124185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448135606","html_url":"https://github.com/apache/couchdb/issues/1815#issuecomment-448135606","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1815","id":448135606,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODEzNTYwNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T08:22:40Z","updated_at":"2018-12-18T08:22:40Z","author_association":"MEMBER","body":"Hi there,\r\n\r\nThis is not a CouchDB bug. GitHub is for actual CouchDB bugs only.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448135606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448135699","html_url":"https://github.com/apache/couchdb/issues/1814#issuecomment-448135699","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1814","id":448135699,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODEzNTY5OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T08:23:03Z","updated_at":"2018-12-18T08:23:03Z","author_association":"MEMBER","body":"Hi there,\r\n\r\nThis is not a CouchDB bug. GitHub is for actual CouchDB bugs only.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448135699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448149590","html_url":"https://github.com/apache/couchdb/issues/1550#issuecomment-448149590","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1550","id":448149590,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODE0OTU5MA==","user":{"login":"SCdF","id":583851,"node_id":"MDQ6VXNlcjU4Mzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/583851?v=4","gravatar_id":"","url":"https://api.github.com/users/SCdF","html_url":"https://github.com/SCdF","followers_url":"https://api.github.com/users/SCdF/followers","following_url":"https://api.github.com/users/SCdF/following{/other_user}","gists_url":"https://api.github.com/users/SCdF/gists{/gist_id}","starred_url":"https://api.github.com/users/SCdF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SCdF/subscriptions","organizations_url":"https://api.github.com/users/SCdF/orgs","repos_url":"https://api.github.com/users/SCdF/repos","events_url":"https://api.github.com/users/SCdF/events{/privacy}","received_events_url":"https://api.github.com/users/SCdF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T09:12:09Z","updated_at":"2018-12-18T09:12:09Z","author_association":"NONE","body":"Should we expect this to work in 2.3? It still fails for me:\r\n\r\n```shell\r\n$ curl -X POST http://admin:pass@localhost:5984/_replicate\r\n    -d '{\"source\":\"my-source-db\",\"target\":\"my-target-db\"}'\r\n    -H \"Content-Type: application/json\"\r\n{\"error\":\"replication_auth_error\",\"reason\":\"{session_request_unauthorized,\\\"http://127.0.0.1:5984/_session\\\",\\\"admin\\\"}\"}\r\n$ curl http://admin:pass@localhost:5984/\r\n{\"couchdb\":\"Welcome\",\"version\":\"2.3.0\",\"git_sha\":\"07ea0c7\",\"uuid\":\"8517c5d22122b1e331ec01a0690e9adb\",\"features\":[\"pluggable-storage-engines\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n```\r\n\r\nI have `require_valid_user` set to `true`. MacOS.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448149590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448192138","html_url":"https://github.com/apache/couchdb/pull/1800#issuecomment-448192138","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1800","id":448192138,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODE5MjEzOA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T11:39:37Z","updated_at":"2018-12-18T11:39:52Z","author_association":"CONTRIBUTOR","body":"@wohali the credo check complains on master as well. Fixing it would involve porting over more tests from JavaScript test suites (all TODOs are about porting more tests). ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448192138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448295628","html_url":"https://github.com/apache/couchdb/issues/1550#issuecomment-448295628","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1550","id":448295628,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODI5NTYyOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T17:08:04Z","updated_at":"2018-12-18T17:08:04Z","author_association":"MEMBER","body":"@SCdF Use full URLs for `source` and `target`. In fact, the \"short\" syntax is deprecated and doesn't work right in **any** version of 2.x.\r\n\r\nThis is a sore point that hasn't been fully addressed in documentation/Fauxton.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448295628/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448296121","html_url":"https://github.com/apache/couchdb/pull/1800#issuecomment-448296121","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1800","id":448296121,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODI5NjEyMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T17:09:28Z","updated_at":"2018-12-18T17:09:28Z","author_association":"MEMBER","body":"@iilyak then +1 from me!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448296121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448296285","html_url":"https://github.com/apache/couchdb/pull/1789#issuecomment-448296285","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1789","id":448296285,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODI5NjI4NQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T17:10:00Z","updated_at":"2018-12-18T17:10:00Z","author_association":"MEMBER","body":"Nope hadn't seen those. Will address them today.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448296285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448297164","html_url":"https://github.com/apache/couchdb/issues/1550#issuecomment-448297164","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1550","id":448297164,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODI5NzE2NA==","user":{"login":"SCdF","id":583851,"node_id":"MDQ6VXNlcjU4Mzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/583851?v=4","gravatar_id":"","url":"https://api.github.com/users/SCdF","html_url":"https://github.com/SCdF","followers_url":"https://api.github.com/users/SCdF/followers","following_url":"https://api.github.com/users/SCdF/following{/other_user}","gists_url":"https://api.github.com/users/SCdF/gists{/gist_id}","starred_url":"https://api.github.com/users/SCdF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SCdF/subscriptions","organizations_url":"https://api.github.com/users/SCdF/orgs","repos_url":"https://api.github.com/users/SCdF/repos","events_url":"https://api.github.com/users/SCdF/events{/privacy}","received_events_url":"https://api.github.com/users/SCdF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T17:12:40Z","updated_at":"2018-12-18T17:12:40Z","author_association":"NONE","body":"@wohali thanks for the reply. Would moving forward be fixing short syntax in 2.x, or fixing documentation / fauxton to not point toward the short syntax?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448297164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448297861","html_url":"https://github.com/apache/couchdb/issues/1550#issuecomment-448297861","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1550","id":448297861,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODI5Nzg2MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T17:14:42Z","updated_at":"2018-12-18T17:14:42Z","author_association":"MEMBER","body":"@SCdF From what I've heard, the latter.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448297861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448454862","html_url":"https://github.com/apache/couchdb/issues/1817#issuecomment-448454862","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1817","id":448454862,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODQ1NDg2Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-19T03:14:45Z","updated_at":"2018-12-19T03:14:45Z","author_association":"MEMBER","body":"This has been asked many, many times before and isn't going to happen the way you are asking for it to be implemented. Sorry to be the bearer of bad news.\r\n\r\nFor a detailed technical explanation as to why, see #592 and #831, and [this mailing list thread](https://lists.apache.org/thread.html/516793df0c1913c045441d0ff78339f307e2aff517d9223da44edd9e@%3Cdev.couchdb.apache.org%3E).\r\n\r\nThe good news is that you CAN achieve more efficient filtered replication without using JavaScript. The current recommendation for this functionality is to use a [Mango selector as a filter on the `_changes` feed](http://docs.couchdb.org/en/stable/api/database/changes.html?highlight=selector#selector), which will run significantly faster than the equivalent JavaScript `_changes` feed filter.\r\n\r\nAlso, [partitioned databases](https://github.com/apache/couchdb/pull/1789) are coming in CouchDB 2.4.0 - these may help you as well.\r\n\r\nFinally, another thing that will help you in the future is the `_access` proposal which is slated for CouchDB 3.0. This will make multitenancy within a single database much more straightforward. See [the mailing list post on this topic](https://lists.apache.org/thread.html/6aa77dd8e5974a3a540758c6902ccb509ab5a2e4802ecf4fd724a5e4@%3Cdev.couchdb.apache.org%3E) for more information.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448454862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448492145","html_url":"https://github.com/apache/couchdb/issues/1818#issuecomment-448492145","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1818","id":448492145,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODQ5MjE0NQ==","user":{"login":"mapmalith","id":13406939,"node_id":"MDQ6VXNlcjEzNDA2OTM5","avatar_url":"https://avatars.githubusercontent.com/u/13406939?v=4","gravatar_id":"","url":"https://api.github.com/users/mapmalith","html_url":"https://github.com/mapmalith","followers_url":"https://api.github.com/users/mapmalith/followers","following_url":"https://api.github.com/users/mapmalith/following{/other_user}","gists_url":"https://api.github.com/users/mapmalith/gists{/gist_id}","starred_url":"https://api.github.com/users/mapmalith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mapmalith/subscriptions","organizations_url":"https://api.github.com/users/mapmalith/orgs","repos_url":"https://api.github.com/users/mapmalith/repos","events_url":"https://api.github.com/users/mapmalith/events{/privacy}","received_events_url":"https://api.github.com/users/mapmalith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-19T07:09:51Z","updated_at":"2018-12-19T07:09:51Z","author_association":"NONE","body":"This was due to the incorrect URL I have used in the cURL request. it has to be `curl -X GET http://root:root@0.0.0.0:5984/user_items/_design/allusers/_view/allusers-view` instead of `curl -X GET http://root:root@0.0.0.0:5984/_utils/#/database/user_items/_design/allusers/_view/allusers-view`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448492145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448585594","html_url":"https://github.com/apache/couchdb/pull/1789#issuecomment-448585594","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1789","id":448585594,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODU4NTU5NA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-19T12:51:12Z","updated_at":"2018-12-19T12:51:12Z","author_association":"CONTRIBUTOR","body":"mango tests are failing on Trsavis","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448585594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448680656","html_url":"https://github.com/apache/couchdb/pull/1789#issuecomment-448680656","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1789","id":448680656,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODY4MDY1Ng==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-19T17:35:17Z","updated_at":"2018-12-19T17:35:17Z","author_association":"MEMBER","body":"Yeah, those mango queries are making assertions on the hash value of a mango index definition which is oddly internals specific when its just wanting to make sure the right index was picked. I tried the cheap way of updating the hash values but looks like I'm gonna have to name them.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448680656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448693040","html_url":"https://github.com/apache/couchdb/pull/1819#issuecomment-448693040","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1819","id":448693040,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODY5MzA0MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-19T18:14:35Z","updated_at":"2018-12-19T18:14:35Z","author_association":"MEMBER","body":"@adityavs I think you're trying to merge changes from us into your fork, but what you've actually done is opened a change request for us to pull in *your* changes (and there aren't any).\r\n\r\nClosing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448693040/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448695746","html_url":"https://github.com/apache/couchdb/pull/1820#issuecomment-448695746","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1820","id":448695746,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODY5NTc0Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-19T18:23:23Z","updated_at":"2018-12-19T18:23:23Z","author_association":"MEMBER","body":"thanks @rnewson ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448695746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448765729","html_url":"https://github.com/apache/couchdb/pull/1812#issuecomment-448765729","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1812","id":448765729,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODc2NTcyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-19T22:25:14Z","updated_at":"2018-12-19T22:25:14Z","author_association":"MEMBER","body":"Results of running on Windows:\r\n\r\nmake elixir-cluster-without-quorum\r\n\r\n```winbatch\r\nC:\\relax\\couchdb>make elixir-cluster-without-quorum\r\nResolving Hex dependencies...\r\nDependency resolution completed:\r\nUnchanged:\r\n  bunt 0.2.0\r\n  credo 1.0.0\r\n  httpotion 3.1.0\r\n  ibrowse 4.4.1\r\n  jason 1.1.2\r\n  jiffy 0.15.2\r\nAll dependencies up to date\r\nChecking 24 source files ...\r\n\r\n  Software Design\r\nÎÃ¶Ã¢\r\nÎÃ¶Ã¢ [D] ÎÃ¥Ã Found a TODO tag in a comment: # TODO: port sever_port tests from\r\nÎÃ¶Ã¢       config.js\r\nÎÃ¶Ã¢       test/config_test.exs:73 #(ConfigTest.delete_config)\r\nÎÃ¶Ã¢ [D] ÎÃ¥Ã Found a TODO tag in a comment: # TODO: In JS we re-fetch _changes with\r\nÎÃ¶Ã¢       since_seq, is that\r\nÎÃ¶Ã¢       test/replication_test.exs:587 #(ReplicationTest.run_since_seq_repl)\r\nÎÃ¶Ã¢ [D] ÎÃ¥Ã Found a TODO tag in a comment: # TODO: Parameterize these\r\nÎÃ¶Ã¢       test/replication_test.exs:9 #(ReplicationTest)\r\nÎÃ¶Ã¢ [D] ÎÃ¥Ã Found a TODO tag in a comment: # TODO: switch this to _local when that's\r\nÎÃ¶Ã¢       landed\r\nÎÃ¶Ã¢       test/config_test.exs:12 #(ConfigTest)\r\nÎÃ¶Ã¢ [D] ÎÃ¥Ã Found a TODO tag in a comment: # TODO: port remainder of\r\nÎÃ¶Ã¢       security_validation.js suite\r\nÎÃ¶Ã¢       test/security_validation_test.exs:205 #(SecurityValidationTest)\r\nÎÃ¶Ã¢  ...  (5 more, use `-a` to show them)\r\n\r\nPlease report incorrect results: https://github.com/rrrene/credo/issues\r\n\r\nAnalysis took 9.7 seconds (0.1s to load, 9.6s running checks)\r\n135 mods/funs, found 10 software design suggestions.\r\n\r\nShowing priority issues: ÎÃ¥Ã¦ ÎÃ¥Ã¹ ÎÃ¥Ã  (use `--strict` to show all issues, `--help` for options).\r\n* creating c:/Users/wohali/.mix/archives/hex-0.18.2\r\n* creating c:/Users/wohali/.mix/rebar\r\n* creating c:/Users/wohali/.mix/rebar3\r\nResolving Hex dependencies...\r\nDependency resolution completed:\r\nUnchanged:\r\n  bunt 0.2.0\r\n  credo 1.0.0\r\n  httpotion 3.1.0\r\n  ibrowse 4.4.1\r\n  jason 1.1.2\r\n  jiffy 0.15.2\r\nAll dependencies up to date\r\nCompiling 3 files (.ex)\r\nIncluding tags: [:without_quorum_test]\r\nExcluding tags: [:test, {:pending, true}]\r\n\r\n\r\nReplicationTest\r\n  * test source database not found with host (excluded)\r\n  * test compressed attachment replication - remote-to-remote (excluded)\r\n  * test filtered replications - local-to-remote (excluded)\r\n  * test source database not found with path - COUCHDB-317 (excluded)\r\n  * test replication by doc ids - remote-to-local (excluded)\r\n  * test compressed attachment replication - local-to-local (excluded)\r\n  * test continuous replication - local-to-remote (excluded)\r\n  * test simple local-to-remote replication - local-to-remote (excluded)\r\n  * test replicate with since_seq - remote-to-remote (excluded)\r\n  * test simple remote-to-local replication - remote-to-local (excluded)\r\n  * test filtered replications - remote-to-remote (excluded)\r\n  * test create_target filter option - remote-to-remote (excluded)\r\n  * test source database does not exist (excluded)\r\n  * test compressed attachment replication - remote-to-local (excluded)\r\n  * test replication restarts after filter change - COUCHDB-892 - remote-to-local (excluded)\r\n  * test non-admin or reader user on source - remote-to-local (excluded)\r\n  * test non-admin user on target - local-to-local (excluded)\r\n  * test replicate with since_seq - local-to-remote (excluded)\r\n  * test simple local-to-local replication - local-to-local (excluded)\r\n  * test non-admin user on target - remote-to-local (excluded)\r\n  * test replication restarts after filter change - COUCHDB-892 - local-to-local (excluded)\r\n  * test create_target filter option - local-to-remote (excluded)\r\n  * test simple remote-to-remote replication - remote-to-remote (excluded)\r\n  * test unauthorized replication cancellation (excluded)\r\n  * test replicating attachment without conflict - COUCHDB-885 (excluded)\r\n  * test replicate with since_seq - remote-to-local (excluded)\r\n  * test validate_doc_update failure replications - local-to-local (excluded)\r\n  * test validate_doc_update failure replications - local-to-remote (excluded)\r\n  * test create_target filter option - local-to-local (excluded)\r\n  * test continuous replication - remote-to-remote (excluded)\r\n  * test non-admin or reader user on source - local-to-local (excluded)\r\n  * test replication restarts after filter change - COUCHDB-892 - remote-to-remote (excluded)\r\n  * test validate_doc_update failure replications - remote-to-local (excluded)\r\n  * test non-admin user on target - local-to-remote (excluded)\r\n  * test replication cancellation (excluded)\r\n  * test replication by doc ids - local-to-local (excluded)\r\n  * test replication by doc ids - remote-to-remote (excluded)\r\n  * test replicate with since_seq - local-to-local (excluded)\r\n  * test replication restarts after filter change - COUCHDB-892 - local-to-remote (excluded)\r\n  * test filtered replications - local-to-local (excluded)\r\n  * test filtered replications - remote-to-local (excluded)\r\n  * test non-admin user on target - remote-to-remote (excluded)\r\n  * test continuous replication - local-to-local (excluded)\r\n  * test create_target filter option - remote-to-local (excluded)\r\n  * test continuous replication - remote-to-local (excluded)\r\n  * test compressed attachment replication - local-to-remote (excluded)\r\n  * test replication by doc ids - local-to-remote (excluded)\r\n  * test non-admin or reader user on source - local-to-remote (excluded)\r\n  * test validate_doc_update failure replications - remote-to-remote (excluded)\r\n  * test non-admin or reader user on source - remote-to-remote (excluded)\r\n\r\nViewCollationTest\r\n  * test key query option (excluded)\r\n  * test descending collation order (excluded)\r\n  * test ascending collation order (excluded)\r\n  * test inclusive_end=true (excluded)\r\n  * test inclusive_end=false (excluded)\r\n\r\nUUIDsTest\r\n  * test sequential uuids are sequential (excluded)\r\n  * test can return single uuid (excluded)\r\n  * test cache busting headers are set (excluded)\r\n  * test Bad Request error when exceeding max UUID count (excluded)\r\n  * test no duplicates in 1,000 UUIDs (excluded)\r\n  * test Method Not Allowed error on POST (excluded)\r\n  * test utc_random uuids are roughly random (excluded)\r\n  * test utc_id uuids are correct (excluded)\r\n\r\nSecurityValidationTest\r\n  * test Ddoc writes with admin and replication contexts (excluded)\r\n  * test Saving document using the wrong credentials (excluded)\r\n  * test Non-admin user cannot save a ddoc (excluded)\r\n  * test Force basic login (excluded)\r\n  * test Jerry can save a document normally (excluded)\r\n  * test _session API (excluded)\r\n  * test Author presence and user security (excluded)\r\n\r\nRewriteTest\r\n  * test Test basic rewrites on test_rewrite_suite_db (excluded)\r\n  * test Test basic rewrites on test_rewrite_suite_db%2Fwith_slashes (excluded)\r\n\r\nReduceTest\r\n  * test More complex array key view row testing (excluded)\r\n  * test Basic reduce functions (excluded)\r\n  * test More complex reductions that need to use the combine option (excluded)\r\n  * test Reduce pagination (excluded)\r\n\r\nLotsOfDocsTest\r\n  * test lots of docs with _all_docs (excluded)\r\n  * test lots of docs with a regular view (excluded)\r\n\r\nDelayedCommitsTest\r\n  * test delayed commit (excluded)\r\n\r\nHelperTest\r\n  * test retry_until handles boolean conditions (excluded)\r\n  * test retry_until handles assertions (excluded)\r\n  * test retry_until times out (excluded)\r\n\r\nConfigTest\r\n  * test Non-2-tuples in the whitelist are ignored (excluded)\r\n  * test Standard config options are present (excluded)\r\n  * test PORT `BUGGED` ?raw tests from config.js (excluded)\r\n  * test Server-side password hashing, and raw updates disabling that (excluded)\r\n  * test CouchDB respects configured protocols (excluded)\r\n  * test Keys not in the whitelist may not be modified (excluded)\r\n  * test Non-term whitelist values allow further modification of the whitelist (excluded)\r\n  * test Non-list whitelist values allow further modification of the whitelist (excluded)\r\n  * test Atoms, binaries, and strings suffice as whitelist sections and keys. (excluded)\r\n  * test Settings can be altered with undefined whitelist allowing any change (excluded)\r\n  * test Blacklist is functional (excluded)\r\n\r\nRevisionTest\r\n  * test mismatched rev in body and query string returns error (excluded)\r\n  * test multiple updates with same _rev raise conflict errors (excluded)\r\n  * test mismatched rev in body and etag returns error (excluded)\r\n  * test `new_edits: false` prevents bulk updates (COUCHDB-1178) (excluded)\r\n\r\nCompactTest\r\n  * test compaction reduces size of deleted docs (excluded)\r\n\r\nCoffeeTest\r\n  * test CoffeeScript basic functionality (excluded)\r\n\r\nWithoutQuorumTest\r\n  * test Bulk docs overriden quorum should return 201-Created (141.0ms)\r\n  * test Creating/Updating/Deleting doc should return 202-Acepted (78.0ms)\r\n  * test Creating/Deleting DB should return 202-Acepted (62.0ms)\r\n  * test Bulk docs should return 202-Acepted (78.0ms)\r\n  * test Creating-Updating/Deleting doc with overriden quorum should return 201-Created/200-OK (79.0ms)\r\n  * test Copy doc should return 202-Acepted (78.0ms)\r\n  * test Attachments should return 202-Acepted (62.0ms)\r\n  * test Attachments overriden quorum should return 201-Created (78.0ms)\r\n\r\nWithQuorumTest\r\n  * test Bulk docs overriden quorum should return 202-Acepted (excluded)\r\n  * test Creating-Updating/Deleting doc should return 201-Created/200-OK (excluded)\r\n  * test Creating/Deleting DB should return 201-Created/202-Acepted (excluded)\r\n  * test Bulk docs should return 201-Created (excluded)\r\n  * test Creating-Updating/Deleting doc with overriden quorum should return 202-Acepted/200-OK (excluded)\r\n  * test Copy doc should return 201-Created (excluded)\r\n  * test Attachments should return 201-Created (excluded)\r\n  * test Attachments overriden quorum should return 202-Acepted (excluded)\r\n\r\nBulkDocsTest\r\n  * test bulk docs raises error for invlaid `docs` parameter (excluded)\r\n  * test bulk docs supplies `id` if not provided in doc (excluded)\r\n  * test bulk docs can detect conflicts (excluded)\r\n  * test bulk docs raises error for missing `docs` parameter (excluded)\r\n  * test bulk docs raises error for `all_or_nothing` option (excluded)\r\n  * test bulk docs raises conflict error for combined update & delete (excluded)\r\n  * test bulk docs raises error for invlaid `new_edits` parameter (excluded)\r\n  * test bulk docs can create, update, & delete many docs per request (excluded)\r\n  * test bulk docs emits conflict error for duplicate doc `_id`s (excluded)\r\n\r\nBasicsTest\r\n  * test _all_docs POST error when multi-get is not a {'key': [...]} structure (excluded)\r\n  * test Database should be in _all_dbs (excluded)\r\n  * test Revs info status is good (excluded)\r\n  * test PUT on existing DB should return 412 instead of 500 (excluded)\r\n  * test POST doc response has a Location header (excluded)\r\n  * test DELETE'ing a non-existent doc should 404 (excluded)\r\n  * test PUT doc has a Location header (excluded)\r\n  * test Welcome endpoint (excluded)\r\n  * test Creating a new DB should return location header (excluded)\r\n  * test Session contains adm context (excluded)\r\n  * test Created database has appropriate db info name (excluded)\r\n  * test Simple map functions (excluded)\r\n  * test Creating a new DB with slashes should return Location header (COUCHDB-411) (excluded)\r\n  * test _bulk_docs POST error when body not an object (excluded)\r\n  * test Check for invalid document members (excluded)\r\n  * test Can create several documents (excluded)\r\n  * test PUT error when body not an object (excluded)\r\n  * test Empty database should have zero docs (excluded)\r\n  * test oops, the doc id got lost in code nirwana (excluded)\r\n  * test Make sure you can do a seq=true option (excluded)\r\n  * test Create a document and save it to the database (excluded)\r\n  * test Regression test for COUCHDB-954 (excluded)\r\n  * test POST doc with an _id field isn't overwritten by uuid (excluded)\r\n  * test On restart, a request for creating an already existing db can not override (excluded)\r\n\r\nBatchSaveTest\r\n  * test batch put (excluded)\r\n  * test batch post (excluded)\r\n  * test batch put with identical doc ids (excluded)\r\n\r\nAllDocsTest\r\n  * test All Docs tests (excluded)\r\n\r\n\r\nFinished in 3.6 seconds\r\n152 tests, 0 failures, 144 excluded\r\n\r\nRandomized with seed 90000\r\n```\r\n\r\nmake elixir-cluster-with-quorum\r\n\r\n```winbatch\r\nC:\\relax\\couchdb>make elixir-cluster-with-quorum\r\nResolving Hex dependencies...\r\nDependency resolution completed:\r\nUnchanged:\r\n  bunt 0.2.0\r\n  credo 1.0.0\r\n  httpotion 3.1.0\r\n  ibrowse 4.4.1\r\n  jason 1.1.2\r\n  jiffy 0.15.2\r\nAll dependencies up to date\r\nChecking 24 source files ...\r\n\r\n  Software Design\r\nÎÃ¶Ã¢\r\nÎÃ¶Ã¢ [D] ÎÃ¥Ã Found a TODO tag in a comment: # TODO: port sever_port tests from\r\nÎÃ¶Ã¢       config.js\r\nÎÃ¶Ã¢       test/config_test.exs:73 #(ConfigTest.delete_config)\r\nÎÃ¶Ã¢ [D] ÎÃ¥Ã Found a TODO tag in a comment: # TODO: In JS we re-fetch _changes with\r\nÎÃ¶Ã¢       since_seq, is that\r\nÎÃ¶Ã¢       test/replication_test.exs:587 #(ReplicationTest.run_since_seq_repl)\r\nÎÃ¶Ã¢ [D] ÎÃ¥Ã Found a TODO tag in a comment: # TODO: Parameterize these\r\nÎÃ¶Ã¢       test/replication_test.exs:9 #(ReplicationTest)\r\nÎÃ¶Ã¢ [D] ÎÃ¥Ã Found a TODO tag in a comment: # TODO: switch this to _local when that's\r\nÎÃ¶Ã¢       landed\r\nÎÃ¶Ã¢       test/config_test.exs:12 #(ConfigTest)\r\nÎÃ¶Ã¢ [D] ÎÃ¥Ã Found a TODO tag in a comment: # TODO: port remainder of\r\nÎÃ¶Ã¢       security_validation.js suite\r\nÎÃ¶Ã¢       test/security_validation_test.exs:205 #(SecurityValidationTest)\r\nÎÃ¶Ã¢  ...  (5 more, use `-a` to show them)\r\n\r\nPlease report incorrect results: https://github.com/rrrene/credo/issues\r\n\r\nAnalysis took 9.1 seconds (0.1s to load, 9.0s running checks)\r\n135 mods/funs, found 10 software design suggestions.\r\n\r\nShowing priority issues: ÎÃ¥Ã¦ ÎÃ¥Ã¹ ÎÃ¥Ã  (use `--strict` to show all issues, `--help` for options).\r\n* creating c:/Users/wohali/.mix/archives/hex-0.18.2\r\n* creating c:/Users/wohali/.mix/rebar\r\n* creating c:/Users/wohali/.mix/rebar3\r\nResolving Hex dependencies...\r\nDependency resolution completed:\r\nUnchanged:\r\n  bunt 0.2.0\r\n  credo 1.0.0\r\n  httpotion 3.1.0\r\n  ibrowse 4.4.1\r\n  jason 1.1.2\r\n  jiffy 0.15.2\r\nAll dependencies up to date\r\nIncluding tags: [:with_quorum_test]\r\nExcluding tags: [:test, {:pending, true}]\r\n\r\n\r\nReplicationTest\r\n  * test replication by doc ids - remote-to-remote (excluded)\r\n  * test non-admin user on target - local-to-remote (excluded)\r\n  * test replicating attachment without conflict - COUCHDB-885 (excluded)\r\n  * test continuous replication - remote-to-local (excluded)\r\n  * test source database not found with host (excluded)\r\n  * test create_target filter option - remote-to-local (excluded)\r\n  * test replicate with since_seq - remote-to-remote (excluded)\r\n  * test filtered replications - remote-to-local (excluded)\r\n  * test non-admin or reader user on source - remote-to-local (excluded)\r\n  * test validate_doc_update failure replications - remote-to-remote (excluded)\r\n  * test compressed attachment replication - remote-to-local (excluded)\r\n  * test non-admin user on target - remote-to-remote (excluded)\r\n  * test replication by doc ids - remote-to-local (excluded)\r\n  * test non-admin or reader user on source - local-to-remote (excluded)\r\n  * test validate_doc_update failure replications - remote-to-local (excluded)\r\n  * test filtered replications - remote-to-remote (excluded)\r\n  * test compressed attachment replication - remote-to-remote (excluded)\r\n  * test non-admin or reader user on source - local-to-local (excluded)\r\n  * test non-admin user on target - remote-to-local (excluded)\r\n  * test compressed attachment replication - local-to-remote (excluded)\r\n  * test replication restarts after filter change - COUCHDB-892 - remote-to-remote (excluded)\r\n  * test filtered replications - local-to-local (excluded)\r\n  * test non-admin user on target - local-to-local (excluded)\r\n  * test continuous replication - local-to-local (excluded)\r\n  * test replication by doc ids - local-to-local (excluded)\r\n  * test create_target filter option - local-to-remote (excluded)\r\n  * test replication restarts after filter change - COUCHDB-892 - local-to-remote (excluded)\r\n  * test simple local-to-local replication - local-to-local (excluded)\r\n  * test continuous replication - remote-to-remote (excluded)\r\n  * test compressed attachment replication - local-to-local (excluded)\r\n  * test replicate with since_seq - remote-to-local (excluded)\r\n  * test validate_doc_update failure replications - local-to-local (excluded)\r\n  * test simple remote-to-local replication - remote-to-local (excluded)\r\n  * test source database does not exist (excluded)\r\n  * test create_target filter option - remote-to-remote (excluded)\r\n  * test replication cancellation (excluded)\r\n  * test replication restarts after filter change - COUCHDB-892 - remote-to-local (excluded)\r\n  * test continuous replication - local-to-remote (excluded)\r\n  * test replication by doc ids - local-to-remote (excluded)\r\n  * test replicate with since_seq - local-to-local (excluded)\r\n  * test replication restarts after filter change - COUCHDB-892 - local-to-local (excluded)\r\n  * test create_target filter option - local-to-local (excluded)\r\n  * test filtered replications - local-to-remote (excluded)\r\n  * test non-admin or reader user on source - remote-to-remote (excluded)\r\n  * test source database not found with path - COUCHDB-317 (excluded)\r\n  * test simple remote-to-remote replication - remote-to-remote (excluded)\r\n  * test replicate with since_seq - local-to-remote (excluded)\r\n  * test validate_doc_update failure replications - local-to-remote (excluded)\r\n  * test unauthorized replication cancellation (excluded)\r\n  * test simple local-to-remote replication - local-to-remote (excluded)\r\n\r\nViewCollationTest\r\n  * test ascending collation order (excluded)\r\n  * test inclusive_end=true (excluded)\r\n  * test key query option (excluded)\r\n  * test descending collation order (excluded)\r\n  * test inclusive_end=false (excluded)\r\n\r\nUUIDsTest\r\n  * test Method Not Allowed error on POST (excluded)\r\n  * test utc_random uuids are roughly random (excluded)\r\n  * test can return single uuid (excluded)\r\n  * test sequential uuids are sequential (excluded)\r\n  * test no duplicates in 1,000 UUIDs (excluded)\r\n  * test Bad Request error when exceeding max UUID count (excluded)\r\n  * test cache busting headers are set (excluded)\r\n  * test utc_id uuids are correct (excluded)\r\n\r\nSecurityValidationTest\r\n  * test Jerry can save a document normally (excluded)\r\n  * test _session API (excluded)\r\n  * test Saving document using the wrong credentials (excluded)\r\n  * test Ddoc writes with admin and replication contexts (excluded)\r\n  * test Force basic login (excluded)\r\n  * test Non-admin user cannot save a ddoc (excluded)\r\n  * test Author presence and user security (excluded)\r\n\r\nRewriteTest\r\n  * test Test basic rewrites on test_rewrite_suite_db (excluded)\r\n  * test Test basic rewrites on test_rewrite_suite_db%2Fwith_slashes (excluded)\r\n\r\nReduceTest\r\n  * test More complex reductions that need to use the combine option (excluded)\r\n  * test More complex array key view row testing (excluded)\r\n  * test Basic reduce functions (excluded)\r\n  * test Reduce pagination (excluded)\r\n\r\nLotsOfDocsTest\r\n  * test lots of docs with _all_docs (excluded)\r\n  * test lots of docs with a regular view (excluded)\r\n\r\nHelperTest\r\n  * test retry_until handles assertions (excluded)\r\n  * test retry_until handles boolean conditions (excluded)\r\n  * test retry_until times out (excluded)\r\n\r\nDelayedCommitsTest\r\n  * test delayed commit (excluded)\r\n\r\nRevisionTest\r\n  * test mismatched rev in body and etag returns error (excluded)\r\n  * test mismatched rev in body and query string returns error (excluded)\r\n  * test multiple updates with same _rev raise conflict errors (excluded)\r\n  * test `new_edits: false` prevents bulk updates (COUCHDB-1178) (excluded)\r\n\r\nConfigTest\r\n  * test Non-list whitelist values allow further modification of the whitelist (excluded)\r\n  * test Standard config options are present (excluded)\r\n  * test Settings can be altered with undefined whitelist allowing any change (excluded)\r\n  * test Atoms, binaries, and strings suffice as whitelist sections and keys. (excluded)\r\n  * test PORT `BUGGED` ?raw tests from config.js (excluded)\r\n  * test Non-2-tuples in the whitelist are ignored (excluded)\r\n  * test Non-term whitelist values allow further modification of the whitelist (excluded)\r\n  * test Keys not in the whitelist may not be modified (excluded)\r\n  * test Server-side password hashing, and raw updates disabling that (excluded)\r\n  * test Blacklist is functional (excluded)\r\n  * test CouchDB respects configured protocols (excluded)\r\n\r\nCompactTest\r\n  * test compaction reduces size of deleted docs (excluded)\r\n\r\nWithoutQuorumTest\r\n  * test Copy doc should return 202-Acepted (excluded)\r\n  * test Attachments should return 202-Acepted (excluded)\r\n  * test Creating/Updating/Deleting doc should return 202-Acepted (excluded)\r\n  * test Bulk docs overriden quorum should return 201-Created (excluded)\r\n  * test Creating-Updating/Deleting doc with overriden quorum should return 201-Created/200-OK (excluded)\r\n  * test Bulk docs should return 202-Acepted (excluded)\r\n  * test Creating/Deleting DB should return 202-Acepted (excluded)\r\n  * test Attachments overriden quorum should return 201-Created (excluded)\r\n\r\nCoffeeTest\r\n  * test CoffeeScript basic functionality (excluded)\r\n\r\nWithQuorumTest\r\n  * test Copy doc should return 201-Created (297.0ms)\r\n  * test Attachments should return 201-Created (234.0ms)\r\n  * test Creating-Updating/Deleting doc should return 201-Created/200-OK (219.0ms)\r\n  * test Bulk docs overriden quorum should return 202-Acepted (218.0ms)\r\n  * test Creating-Updating/Deleting doc with overriden quorum should return 202-Acepted/200-OK (282.0ms)\r\n  * test Bulk docs should return 201-Created (218.0ms)\r\n  * test Creating/Deleting DB should return 201-Created/202-Acepted (188.0ms)\r\n  * test Attachments overriden quorum should return 202-Acepted (109.0ms)\r\n\r\nBulkDocsTest\r\n  * test bulk docs raises conflict error for combined update & delete (excluded)\r\n  * test bulk docs can create, update, & delete many docs per request (excluded)\r\n  * test bulk docs raises error for invlaid `new_edits` parameter (excluded)\r\n  * test bulk docs supplies `id` if not provided in doc (excluded)\r\n  * test bulk docs raises error for invlaid `docs` parameter (excluded)\r\n  * test bulk docs raises error for `all_or_nothing` option (excluded)\r\n  * test bulk docs raises error for missing `docs` parameter (excluded)\r\n  * test bulk docs can detect conflicts (excluded)\r\n  * test bulk docs emits conflict error for duplicate doc `_id`s (excluded)\r\n\r\nBasicsTest\r\n  * test PUT error when body not an object (excluded)\r\n  * test Can create several documents (excluded)\r\n  * test POST doc response has a Location header (excluded)\r\n  * test Welcome endpoint (excluded)\r\n  * test POST doc with an _id field isn't overwritten by uuid (excluded)\r\n  * test oops, the doc id got lost in code nirwana (excluded)\r\n  * test Regression test for COUCHDB-954 (excluded)\r\n  * test DELETE'ing a non-existent doc should 404 (excluded)\r\n  * test _all_docs POST error when multi-get is not a {'key': [...]} structure (excluded)\r\n  * test Session contains adm context (excluded)\r\n  * test Make sure you can do a seq=true option (excluded)\r\n  * test Check for invalid document members (excluded)\r\n  * test Created database has appropriate db info name (excluded)\r\n  * test Empty database should have zero docs (excluded)\r\n  * test _bulk_docs POST error when body not an object (excluded)\r\n  * test PUT doc has a Location header (excluded)\r\n  * test Revs info status is good (excluded)\r\n  * test Create a document and save it to the database (excluded)\r\n  * test Database should be in _all_dbs (excluded)\r\n  * test On restart, a request for creating an already existing db can not override (excluded)\r\n  * test Simple map functions (excluded)\r\n  * test Creating a new DB should return location header (excluded)\r\n  * test Creating a new DB with slashes should return Location header (COUCHDB-411) (excluded)\r\n  * test PUT on existing DB should return 412 instead of 500 (excluded)\r\n\r\nBatchSaveTest\r\n  * test batch post (excluded)\r\n  * test batch put (excluded)\r\n  * test batch put with identical doc ids (excluded)\r\n\r\nAllDocsTest\r\n  * test All Docs tests (excluded)\r\n\r\n\r\nFinished in 4.9 seconds\r\n152 tests, 0 failures, 144 excluded\r\n\r\nRandomized with seed 267000\r\n```\r\n\r\nLooks good, once you fix the breaking bug in `Makefile.win` line 1.\r\n\r\nAny desire to clean up those credo errors on `master`? Still not sure why that doesn't fail the test, it should. /cc @van-mronov ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448765729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448774242","html_url":"https://github.com/apache/couchdb/pull/1803#issuecomment-448774242","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1803","id":448774242,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODc3NDI0Mg==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-19T22:53:12Z","updated_at":"2018-12-19T22:53:12Z","author_association":"CONTRIBUTOR","body":"@wohali writes:\r\n> do we still want to merge this, even though it only addresses one specific scenario discussed in #1781?\r\n\r\nI think I would put it somewhat differently. To summarize, (and ignoring single-node config), there are basically two scenarios in which one can currently use the cluster setup code: both ways start with an \"enable_cluster\" request to the coordinating node, and both end with a \"finish_cluster\" request to the coordinating node. The scenarios only differ in the following ways:\r\n1. In the \"direct\" scenario, (which appears to have been the first implemented), the client makes an \"enable_cluster\" request directly to each additional non-coordinating node in the cluster, followed by an \"add_node\" request to the coordinating node for the node being added.\r\n2. In the \"remote\" scenario, the client instead makes a \"remote enable_cluster\" request and a subsequent \"add_node\" request to the coordinating node for the node being added.\r\n\r\nThe key difference between the two is that in scenario 2, instead of directly making a request to the new nodes, the client makes requests to the coordinator, and then the coordinator makes requests to the new nodes. The main benefit of this approach is that the coordinator sends the admin `password_hash` to the new nodes rather than the password itself, so that the hashes are the same on all nodes.\r\n\r\nHowever, when this patch runs during the \"finish_cluster\" request, it *also* syncs the password hash from the coordinator to the other nodes in the cluster, and so scenario 1 also enjoys the benefits of synced admin password hashes (and is also redundant to how scenario 2 does it). Additionally, it creates a cluster-wide password salt (if one has not already been pre-defined in a config file) and syncs that, so that any subsequent admin user that gets added to the cluster will also have the same hashed password.\r\n\r\nIt's that last bit that I *thought* was originally being requested, but it now sounds like there is a question about whether it's a good idea to salt all admin passwords with the same salt. If we decide that doing so is ok, then I think merging this patch will improve admin password administration overall. Otherwise, I'm fine to drop it and close this PR. I'm also happy to remove the \"Fixes #1781\" part, although I'm not exactly sure how, other than not clarifying the documentation, this doesn't fix inconsistent admin password hashes during cluster setup.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448774242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448807204","html_url":"https://github.com/apache/couchdb/pull/1812#issuecomment-448807204","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1812","id":448807204,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODgwNzIwNA==","user":{"login":"van-mronov","id":550254,"node_id":"MDQ6VXNlcjU1MDI1NA==","avatar_url":"https://avatars.githubusercontent.com/u/550254?v=4","gravatar_id":"","url":"https://api.github.com/users/van-mronov","html_url":"https://github.com/van-mronov","followers_url":"https://api.github.com/users/van-mronov/followers","following_url":"https://api.github.com/users/van-mronov/following{/other_user}","gists_url":"https://api.github.com/users/van-mronov/gists{/gist_id}","starred_url":"https://api.github.com/users/van-mronov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/van-mronov/subscriptions","organizations_url":"https://api.github.com/users/van-mronov/orgs","repos_url":"https://api.github.com/users/van-mronov/repos","events_url":"https://api.github.com/users/van-mronov/events{/privacy}","received_events_url":"https://api.github.com/users/van-mronov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T00:31:22Z","updated_at":"2018-12-20T00:31:22Z","author_association":"CONTRIBUTOR","body":"@wohali do you mean following output?\r\n```shell\r\n  Software Design\r\nâ\r\nâ [D] â Found a TODO tag in a comment: # TODO: port sever_port tests from\r\nâ       config.js\r\nâ       test/config_test.exs:73 #(ConfigTest.delete_config)\r\nâ [D] â Found a TODO tag in a comment: # TODO: In JS we re-fetch _changes with\r\nâ       since_seq, is that\r\nâ       test/replication_test.exs:587 #(ReplicationTest.run_since_seq_repl)\r\nâ [D] â Found a TODO tag in a comment: # TODO: Parameterize these\r\nâ       test/replication_test.exs:9 #(ReplicationTest)\r\nâ [D] â Found a TODO tag in a comment: # TODO: switch this to _local when that's\r\nâ       landed\r\nâ       test/config_test.exs:12 #(ConfigTest)\r\nâ [D] â Found a TODO tag in a comment: # TODO: port remainder of\r\nâ       security_validation.js suite\r\nâ       test/security_validation_test.exs:205 #(SecurityValidationTest)\r\nâ  ...  (5 more, use `-a` to show them)\r\n\r\nPlease report incorrect results: https://github.com/rrrene/credo/issues\r\n\r\nAnalysis took 3.9 seconds (0.04s to load, 3.9s running checks)\r\n133 mods/funs, found 10 software design suggestions.\r\n\r\nShowing priority issues: â â â  (use `--strict` to show all issues, `--help` for options).\r\n```\r\n\r\nThat's because of `{Credo.Check.Design.TagTODO, [exit_status: 0]}` in our credo config.\r\nIf we want to suppress these suggests we need to set this setting to `{Credo.Check.Design.TagTODO, false}`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448807204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448821081","html_url":"https://github.com/apache/couchdb/issues/1821#issuecomment-448821081","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1821","id":448821081,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODgyMTA4MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T01:18:59Z","updated_at":"2018-12-20T01:18:59Z","author_association":"MEMBER","body":"That's a definite bug - are you able to try Couch 2.3.0 to see if this is fixed?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448821081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448842008","html_url":"https://github.com/apache/couchdb/issues/1821#issuecomment-448842008","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1821","id":448842008,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODg0MjAwOA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T03:03:02Z","updated_at":"2018-12-20T03:03:02Z","author_association":"MEMBER","body":"This is not from a db's VDU, but from [auth_cache](https://github.com/apache/couchdb/blob/master/src/chttpd/src/chttpd_auth_cache.erl#L191). The field `username` of user's doc [has to have `org.couchdb.user:` prefix](https://docs.couchdb.org/en/latest/intro/security.html?highlight=username#why-the-org-couchdb-user-prefix).\r\n\r\nThis is not exactly a bug, more of exception not been handled gracefully, because assumption here is that validation on `_users` database should prevent creation of users without that prefix, so they can't get into the cache.\r\n\r\n@akircher Check out for a doc `e43caea614fb6e2250df47e4da043d64` in `_users` database or whatever database set in config's `[chttpd_auth]` as `authentication_db`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448842008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448843135","html_url":"https://github.com/apache/couchdb/pull/1812#issuecomment-448843135","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1812","id":448843135,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODg0MzEzNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T03:09:47Z","updated_at":"2018-12-20T03:09:47Z","author_association":"MEMBER","body":"@van-mronov Probably a good idea.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448843135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448843208","html_url":"https://github.com/apache/couchdb/pull/1812#issuecomment-448843208","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1812","id":448843208,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODg0MzIwOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T03:10:14Z","updated_at":"2018-12-20T03:10:14Z","author_association":"MEMBER","body":"@jjrodrig thank you!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448843208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448871382","html_url":"https://github.com/apache/couchdb/issues/1821#issuecomment-448871382","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1821","id":448871382,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODg3MTM4Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T04:54:20Z","updated_at":"2018-12-20T04:54:20Z","author_association":"MEMBER","body":"@eiri agreed there should only be docs in `_users` with the `org.couchdb.user:` prefix, but we probably should catch the situation where the wrongly named doc is in that DB and not toss a `function_clause` error.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448871382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448882260","html_url":"https://github.com/apache/couchdb/pull/1798#issuecomment-448882260","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1798","id":448882260,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODg4MjI2MA==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T05:52:47Z","updated_at":"2018-12-20T05:52:47Z","author_association":"CONTRIBUTOR","body":"@nickva would you mind looking at this again, particularly the crypto & random stuff?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448882260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448911605","html_url":"https://github.com/apache/couchdb/pull/1798#issuecomment-448911605","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1798","id":448911605,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODkxMTYwNQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T08:17:39Z","updated_at":"2018-12-20T08:17:39Z","author_association":"CONTRIBUTOR","body":"@jaydoane \r\n\r\nGreat cleanups! Rand stuff looks good. Made a minor comment about a function I couldn't find, otherwise +1.\r\n\r\nIt's unfortunate all those tests don't always run.\r\n\r\nAlso normally, I don't like commented blocks of code, but I see reason, perhaps someone would want to fix them in the future. If not, they can be removed later.\r\n\r\nI'd wait for @iilyak or @jiangphcn to have another look at PSE tests and exports and then ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/448911605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449001680","html_url":"https://github.com/apache/couchdb/issues/1821#issuecomment-449001680","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1821","id":449001680,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTAwMTY4MA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T13:36:59Z","updated_at":"2018-12-20T13:36:59Z","author_association":"MEMBER","body":"@wohali oh yeah, for sure, this is a good beginner-friendly defect to fix. Crashing the auth cache's changes reader on a misconfiguration is excessive, a log's warning on an invalid username and then ignore would be a better way to handle this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449001680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449025399","html_url":"https://github.com/apache/couchdb/pull/1789#issuecomment-449025399","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1789","id":449025399,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTAyNTM5OQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T14:56:37Z","updated_at":"2018-12-20T14:56:37Z","author_association":"MEMBER","body":"Definitely gonna wait for a second +1 on such a big feature.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449025399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449037996","html_url":"https://github.com/apache/couchdb/issues/1821#issuecomment-449037996","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1821","id":449037996,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTAzNzk5Ng==","user":{"login":"akircher","id":5734777,"node_id":"MDQ6VXNlcjU3MzQ3Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5734777?v=4","gravatar_id":"","url":"https://api.github.com/users/akircher","html_url":"https://github.com/akircher","followers_url":"https://api.github.com/users/akircher/followers","following_url":"https://api.github.com/users/akircher/following{/other_user}","gists_url":"https://api.github.com/users/akircher/gists{/gist_id}","starred_url":"https://api.github.com/users/akircher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akircher/subscriptions","organizations_url":"https://api.github.com/users/akircher/orgs","repos_url":"https://api.github.com/users/akircher/repos","events_url":"https://api.github.com/users/akircher/events{/privacy}","received_events_url":"https://api.github.com/users/akircher/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T15:34:53Z","updated_at":"2018-12-20T15:34:53Z","author_association":"NONE","body":"@eiri that did it!  Not sure how a user got in there with that _id.  We had some recent code changes that used 'force=true' as an option, maybe some type of automatic conflict resolution is what did it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449037996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449050915","html_url":"https://github.com/apache/couchdb/pull/1822#issuecomment-449050915","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1822","id":449050915,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTA1MDkxNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T16:13:47Z","updated_at":"2018-12-20T16:13:47Z","author_association":"MEMBER","body":"Thanks @van-mronov !","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449050915/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449057864","html_url":"https://github.com/apache/couchdb/issues/1823#issuecomment-449057864","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1823","id":449057864,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTA1Nzg2NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T16:34:15Z","updated_at":"2018-12-20T16:39:45Z","author_association":"MEMBER","body":"From @rnewson (with Cloudant):\r\n\r\n```irc\r\n11:31 <+rnewson> I can't say if any version of erlang works correctly with openssl 1.1.1.\r\n11:30 <+rnewson> cloudant supports TLS 1.0,1.1,1.2,1.3 for sure, yeah\r\n11:31 <+rnewson> I can't say if any version of erlang works correctly with openssl 1.1.1.\r\n11:31 <+rnewson> (99%+ of replications from couchdb to cloudant are using < TLS 1.3 btw,\r\n                 so it certainly works)\r\n11:32 <+rnewson> only browsers support TLS 1.3 so far, by and large. so we only see TLS\r\n                 1.3 connections for dashboard things.\r\n```\r\n\r\nErlang itself doesn't have support for TLS 1.3 or OpenSSL 1.1.1 yet:\r\n\r\nhttps://groups.google.com/forum/#!topic/erlang-programming/9sRGyfkK9Io\r\n\r\n> \"no promises but planned for erlang 22\"\r\n\r\nNot sure there is anything for us to do here since this is an Erlang problem, not a CouchDB problem. \r\n\r\nRecommend staying with 1.1.0 or 1.0.2. We'll ensure things work for TLS 1.3 when Erlang 22 is out.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449057864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449058329","html_url":"https://github.com/apache/couchdb/issues/1823#issuecomment-449058329","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1823","id":449058329,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTA1ODMyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T16:35:38Z","updated_at":"2018-12-20T16:35:38Z","author_association":"MEMBER","body":"As a reminder, if you are working with Cloudant, and have an issue connecting to cloudant, you can file a support ticket with your account name, etc. - this isn't Cloudant tech support here ;)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449058329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449071223","html_url":"https://github.com/apache/couchdb/pull/1803#issuecomment-449071223","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1803","id":449071223,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTA3MTIyMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T17:16:11Z","updated_at":"2018-12-20T17:16:11Z","author_association":"MEMBER","body":"@jaydoane OK, I agree with you that this is an improvement.\r\n\r\nWe can merge this once the tests pass, but will you take the step to improve the documentation at the same time? I'd like to do both at once, so if you don't have time before the holidays start, we can leave this until 2019.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449071223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449096149","html_url":"https://github.com/apache/couchdb/pull/1783#issuecomment-449096149","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1783","id":449096149,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTA5NjE0OQ==","user":{"login":"michaelbreslin","id":5444542,"node_id":"MDQ6VXNlcjU0NDQ1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/5444542?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelbreslin","html_url":"https://github.com/michaelbreslin","followers_url":"https://api.github.com/users/michaelbreslin/followers","following_url":"https://api.github.com/users/michaelbreslin/following{/other_user}","gists_url":"https://api.github.com/users/michaelbreslin/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelbreslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelbreslin/subscriptions","organizations_url":"https://api.github.com/users/michaelbreslin/orgs","repos_url":"https://api.github.com/users/michaelbreslin/repos","events_url":"https://api.github.com/users/michaelbreslin/events{/privacy}","received_events_url":"https://api.github.com/users/michaelbreslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T18:41:55Z","updated_at":"2018-12-20T18:41:55Z","author_association":"NONE","body":"Is there a fix for this going in anytime soon? ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449096149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449163372","html_url":"https://github.com/apache/couchdb/pull/1826#issuecomment-449163372","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1826","id":449163372,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTE2MzM3Mg==","user":{"login":"ksnavely","id":1530988,"node_id":"MDQ6VXNlcjE1MzA5ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1530988?v=4","gravatar_id":"","url":"https://api.github.com/users/ksnavely","html_url":"https://github.com/ksnavely","followers_url":"https://api.github.com/users/ksnavely/followers","following_url":"https://api.github.com/users/ksnavely/following{/other_user}","gists_url":"https://api.github.com/users/ksnavely/gists{/gist_id}","starred_url":"https://api.github.com/users/ksnavely/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ksnavely/subscriptions","organizations_url":"https://api.github.com/users/ksnavely/orgs","repos_url":"https://api.github.com/users/ksnavely/repos","events_url":"https://api.github.com/users/ksnavely/events{/privacy}","received_events_url":"https://api.github.com/users/ksnavely/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T23:01:01Z","updated_at":"2018-12-20T23:01:01Z","author_association":"CONTRIBUTOR","body":"Should I follow-through on the release testing or is the CI here satisfactory?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449163372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449180604","html_url":"https://github.com/apache/couchdb/pull/1783#issuecomment-449180604","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1783","id":449180604,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTE4MDYwNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T23:51:46Z","updated_at":"2018-12-20T23:51:46Z","author_association":"MEMBER","body":"Hi @michaelbreslin , probably not before the holiday break at this point - but I expect it'll land shortly thereafter. Looks like we may need some more tests before this can be merged.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449180604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449236584","html_url":"https://github.com/apache/couchdb/pull/1425#issuecomment-449236584","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1425","id":449236584,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTIzNjU4NA==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T03:58:58Z","updated_at":"2018-12-21T03:58:58Z","author_association":"MEMBER","body":"No, not all all. Exists: false will affect index selection since no field with exists false can be in an index.\n\n\n________________________________\nFrom: Joan Touzet <notifications@github.com>\nSent: Thursday, December 20, 2018 10:53 PM\nTo: apache/couchdb\nCc: garren smith; Mention\nSubject: Re: [apache/couchdb] Add `conflicts: true` option to mango selectors (#1425)\n\n\n@wohali commented on this pull request.\n\n________________________________\n\nIn src/mango/test/19-find-conflicts.py<https://github.com/apache/couchdb/pull/1425#discussion_r243414057>:\n\n> +CONFLICT = [\n+    {\n+        \"_id\": \"doc\",\n+        \"_rev\": \"1-23202479633c2b380f79507a776743d5\",\n+        \"a\": 1\n+    }\n+]\n+\n+class ChooseCorrectIndexForDocs(mango.DbPerClass):\n+    def setUp(self):\n+        self.db.recreate()\n+        self.db.save_docs(copy.deepcopy(DOC))\n+        self.db.save_docs_with_conflicts(copy.deepcopy(CONFLICT))\n+\n+    def test_retrieve_conflicts(self):\n+        self.db.create_index([\"_conflicts\"])\n\n\n@garrensmith<https://github.com/garrensmith> sorry to ask this so late, but are you saying that all $exists queries always perform a full DB scan and ignore secondary indexes?\n\nâ\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub<https://github.com/apache/couchdb/pull/1425#discussion_r243414057>, or mute the thread<https://github.com/notifications/unsubscribe-auth/AAK9As9Sbonh0IkmlQ1zkwzkP72Oqhj2ks5u6_i_gaJpZM4VGu6Q>.\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449236584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449249174","html_url":"https://github.com/apache/couchdb/issues/1598#issuecomment-449249174","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1598","id":449249174,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTI0OTE3NA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T04:52:37Z","updated_at":"2018-12-21T04:52:37Z","author_association":"CONTRIBUTOR","body":"We switched allow_persistent to true by default to help with session refresh issues in the replicator:\r\n\r\nhttps://github.com/apache/couchdb/pull/1619/files#diff-f51079d3c7e7925e0f9684f81e5785c7R214\r\n\r\nSo expiry and max-age should be returned now in the cookie","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449249174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449262805","html_url":"https://github.com/apache/couchdb/issues/1816#issuecomment-449262805","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1816","id":449262805,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTI2MjgwNQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T05:48:52Z","updated_at":"2018-12-21T05:48:52Z","author_association":"CONTRIBUTOR","body":"+1 on \"Remove the ability to specify replication source and target as just a database name, both in the HTTP API as well as in Fauxton\" point\r\n\r\nTo expand on it:\r\n\r\nSince 2.x local replication endpoints refer only to node-local databases. In 1.x they were \"proper\" databases so this was a useful thing to have. Now, it is mostly confusing, as these refer to databases created on the :5986 port, which is very surprising and mostly useless. A user who migrated from 1.x might be very confused as to what's happening and why things don't work as expected anymore.\r\n\r\nMoreover, replication jobs are distributed to individual cluster nodes in an consistent but essentially opaque manner from a user's point of view.  So unless a cluster has only one node,  a replication job might end up on node 2, or node 3 for example, and would be pick the local endpoint dbs on that node only.\r\n\r\nSo perhaps we could disable it by default. Then users  would toggle a config value say `allow_node_local_endpoints = true` to use it. Eventually in a future release, it goes away altogether and we get to clean the complicated replicator code that handles both local and remote endpoints. Or just warn the disable it altogether, without bothering with a config toggle.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449262805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449327145","html_url":"https://github.com/apache/couchdb/issues/1823#issuecomment-449327145","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1823","id":449327145,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTMyNzE0NQ==","user":{"login":"jer-gentoo","id":2178449,"node_id":"MDQ6VXNlcjIxNzg0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/2178449?v=4","gravatar_id":"","url":"https://api.github.com/users/jer-gentoo","html_url":"https://github.com/jer-gentoo","followers_url":"https://api.github.com/users/jer-gentoo/followers","following_url":"https://api.github.com/users/jer-gentoo/following{/other_user}","gists_url":"https://api.github.com/users/jer-gentoo/gists{/gist_id}","starred_url":"https://api.github.com/users/jer-gentoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jer-gentoo/subscriptions","organizations_url":"https://api.github.com/users/jer-gentoo/orgs","repos_url":"https://api.github.com/users/jer-gentoo/repos","events_url":"https://api.github.com/users/jer-gentoo/events{/privacy}","received_events_url":"https://api.github.com/users/jer-gentoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T09:20:20Z","updated_at":"2018-12-21T09:20:20Z","author_association":"NONE","body":"I could reproduce this with any HTTPS connection if you like. Cloudant is the factor that did _not_ change.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449327145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449328215","html_url":"https://github.com/apache/couchdb/issues/1823#issuecomment-449328215","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1823","id":449328215,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTMyODIxNQ==","user":{"login":"jer-gentoo","id":2178449,"node_id":"MDQ6VXNlcjIxNzg0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/2178449?v=4","gravatar_id":"","url":"https://api.github.com/users/jer-gentoo","html_url":"https://github.com/jer-gentoo","followers_url":"https://api.github.com/users/jer-gentoo/followers","following_url":"https://api.github.com/users/jer-gentoo/following{/other_user}","gists_url":"https://api.github.com/users/jer-gentoo/gists{/gist_id}","starred_url":"https://api.github.com/users/jer-gentoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jer-gentoo/subscriptions","organizations_url":"https://api.github.com/users/jer-gentoo/orgs","repos_url":"https://api.github.com/users/jer-gentoo/repos","events_url":"https://api.github.com/users/jer-gentoo/events{/privacy}","received_events_url":"https://api.github.com/users/jer-gentoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T09:23:07Z","updated_at":"2018-12-21T09:23:07Z","author_association":"NONE","body":"Cloudant isn't using TLS 1.3, it's using TLS 1.2 at the moment. The problem I am seeing is that upon receiving the server certificate, CouchDB 2.3.0 is responding with an internal error. The TLS version has very little to do with that.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449328215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449328709","html_url":"https://github.com/apache/couchdb/issues/1823#issuecomment-449328709","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1823","id":449328709,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTMyODcwOQ==","user":{"login":"jer-gentoo","id":2178449,"node_id":"MDQ6VXNlcjIxNzg0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/2178449?v=4","gravatar_id":"","url":"https://api.github.com/users/jer-gentoo","html_url":"https://github.com/jer-gentoo","followers_url":"https://api.github.com/users/jer-gentoo/followers","following_url":"https://api.github.com/users/jer-gentoo/following{/other_user}","gists_url":"https://api.github.com/users/jer-gentoo/gists{/gist_id}","starred_url":"https://api.github.com/users/jer-gentoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jer-gentoo/subscriptions","organizations_url":"https://api.github.com/users/jer-gentoo/orgs","repos_url":"https://api.github.com/users/jer-gentoo/repos","events_url":"https://api.github.com/users/jer-gentoo/events{/privacy}","received_events_url":"https://api.github.com/users/jer-gentoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T09:24:22Z","updated_at":"2018-12-21T09:24:22Z","author_association":"NONE","body":"CouchDB 2.3.0 explicitly enabled support for OTP 21, but apparently that's not entirely the case? Thanks for the hint - I might try OpenSSL 1.1.0 for now.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449328709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449338156","html_url":"https://github.com/apache/couchdb/issues/1823#issuecomment-449338156","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1823","id":449338156,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTMzODE1Ng==","user":{"login":"jer-gentoo","id":2178449,"node_id":"MDQ6VXNlcjIxNzg0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/2178449?v=4","gravatar_id":"","url":"https://api.github.com/users/jer-gentoo","html_url":"https://github.com/jer-gentoo","followers_url":"https://api.github.com/users/jer-gentoo/followers","following_url":"https://api.github.com/users/jer-gentoo/following{/other_user}","gists_url":"https://api.github.com/users/jer-gentoo/gists{/gist_id}","starred_url":"https://api.github.com/users/jer-gentoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jer-gentoo/subscriptions","organizations_url":"https://api.github.com/users/jer-gentoo/orgs","repos_url":"https://api.github.com/users/jer-gentoo/repos","events_url":"https://api.github.com/users/jer-gentoo/events{/privacy}","received_events_url":"https://api.github.com/users/jer-gentoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T09:53:16Z","updated_at":"2018-12-21T09:53:16Z","author_association":"NONE","body":"```\r\nlib/crypto/c_src/crypto.c:#if OPENSSL_VERSION_NUMBER >= PACKED_OPENSSL_VERSION_PLAIN(1,1,1)\r\nlib/crypto/c_src/crypto.c:#if OPENSSL_VERSION_NUMBER >= (PACKED_OPENSSL_VERSION_PLAIN(1,1,1) -7) \\\r\nlib/crypto/c_src/crypto.c:# if OPENSSL_VERSION_NUMBER >= (PACKED_OPENSSL_VERSION_PLAIN(1,1,1))\r\nlib/crypto/c_src/crypto.c:#if OPENSSL_VERSION_NUMBER >= (PACKED_OPENSSL_VERSION_PLAIN(1,1,1)-7)\r\n```\r\nPerhaps OpenSSL support in OTP 21.2 is incomplete.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449338156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449484504","html_url":"https://github.com/apache/couchdb/issues/1823#issuecomment-449484504","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1823","id":449484504,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTQ4NDUwNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T19:58:07Z","updated_at":"2018-12-21T19:58:07Z","author_association":"MEMBER","body":"CouchDB 2.3.0 explicitly enabled support for OTP 21 but I know of no one actually running that in production yet.\r\n\r\nThe fact is that any `{tls_alert,...}` is deep within Erlang's `ssl` application and there's nothing we can do about it. If you want, you can file an issue upstream with Erlang here: https://bugs.erlang.org/\r\n\r\nIf you're able to get SSL working with OTP 21 and OpenSSL 1.1.0 then I'd definitely consider that.\r\n\r\nThe only comment about OpenSSL 1.1.1 support in 21.1/2 is OTP-15133 and  OTP-15094 which enhance the internal Erlang ssh application to support new public key exchange methods. My guess is they didn't test if/how this broke SSL support - which sadly is very common, Erlang has had a number of serious SSL bugs in the past.\r\n\r\nFYI TLS 1.3 support was only added to Erlang on 2 Nov as part of OTP-15310, and hasn't made it into any release yet: https://github.com/erlang/otp/commit/9c33f00f78724ce0f68fef1dfc6ab4810d8c45f18 Not sure if this is related.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449484504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449513429","html_url":"https://github.com/apache/couchdb/issues/1813#issuecomment-449513429","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1813","id":449513429,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTUxMzQyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T22:24:59Z","updated_at":"2018-12-21T22:24:59Z","author_association":"MEMBER","body":"@anaran FYI: As of today, all of the wiki content has been fully migrated to either our official docs (for CouchDB documentation) or to our new wiki at cwiki.apache.org/confluence/display/COUCHDB for administrative stuff.\r\n\r\nNew messages have been left behind to direct people where to do, and in the case where I've deleted pages, the delete comment states the specific place or places to look, unless the content was obsolete, in which case a note to that effect has been left in the delete message.\r\n\r\nI'm sorry for the specific pages that don't have these comments. I, personally, have dealt with a number of people referencing this old content who are making problems for themselves in CouchDB 2.x, so I was on a bit of a crusade to get rid of the content. The good news is that this shouldn't happen in the future, thanks to our review-then-commit (RTC) model of pull requests against the couchdb-documentation repo.\r\n\r\nOnce again, apologies to you and your community for the confusion. We're here to help :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449513429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449533129","html_url":"https://github.com/apache/couchdb/issues/1821#issuecomment-449533129","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1821","id":449533129,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTUzMzEyOQ==","user":{"login":"popojargo","id":9197078,"node_id":"MDQ6VXNlcjkxOTcwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/9197078?v=4","gravatar_id":"","url":"https://api.github.com/users/popojargo","html_url":"https://github.com/popojargo","followers_url":"https://api.github.com/users/popojargo/followers","following_url":"https://api.github.com/users/popojargo/following{/other_user}","gists_url":"https://api.github.com/users/popojargo/gists{/gist_id}","starred_url":"https://api.github.com/users/popojargo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/popojargo/subscriptions","organizations_url":"https://api.github.com/users/popojargo/orgs","repos_url":"https://api.github.com/users/popojargo/repos","events_url":"https://api.github.com/users/popojargo/events{/privacy}","received_events_url":"https://api.github.com/users/popojargo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-22T01:04:28Z","updated_at":"2018-12-22T01:04:28Z","author_association":"MEMBER","body":"I'm working on a fix. What would be the proper place to add a test for that?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449533129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449543331","html_url":"https://github.com/apache/couchdb/issues/1821#issuecomment-449543331","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1821","id":449543331,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTU0MzMzMQ==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-22T04:05:48Z","updated_at":"2018-12-22T04:05:48Z","author_association":"CONTRIBUTOR","body":"@popojargo I don't see an obvious existing test file, so I would probably create a new one called test/chttpd_auth_cache_test.erl and add any new tests there. For a simple unit test, It's tempting to just add a test to chttpd_auth_cache.erl itself, but there are obscure interactions between meck and eunit that will occasionally prevent such tests from running when invoked via `make eunit`. YMMV.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449543331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449593637","html_url":"https://github.com/apache/couchdb/issues/1821#issuecomment-449593637","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1821","id":449593637,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTU5MzYzNw==","user":{"login":"popojargo","id":9197078,"node_id":"MDQ6VXNlcjkxOTcwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/9197078?v=4","gravatar_id":"","url":"https://api.github.com/users/popojargo","html_url":"https://github.com/popojargo","followers_url":"https://api.github.com/users/popojargo/followers","following_url":"https://api.github.com/users/popojargo/following{/other_user}","gists_url":"https://api.github.com/users/popojargo/gists{/gist_id}","starred_url":"https://api.github.com/users/popojargo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/popojargo/subscriptions","organizations_url":"https://api.github.com/users/popojargo/orgs","repos_url":"https://api.github.com/users/popojargo/repos","events_url":"https://api.github.com/users/popojargo/events{/privacy}","received_events_url":"https://api.github.com/users/popojargo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-22T19:45:09Z","updated_at":"2018-12-22T19:45:09Z","author_association":"MEMBER","body":"@jaydoane I was planning on doing the following:\r\n\r\nTest 1: Check if the user is removed from auth cache when it has a valid id\r\nTest 2: Check if either the cache reader didn't crash or if   the couch_log is called with my specific error message.\r\n\r\nSince I started working with erlang yesterday, I might need few advices.\r\n\r\n1. Let's say I want to check the cache state, do I need to start the ets_lru cache in my test or start_couch() will automatically start it?\r\n2. For my second test, is it easy to check if the cache reader crashed or I can stick with the couch_log check? (I guess I could mock the logger)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449593637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449662756","html_url":"https://github.com/apache/couchdb/pull/1803#issuecomment-449662756","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1803","id":449662756,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTY2Mjc1Ng==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-23T20:56:32Z","updated_at":"2018-12-24T20:55:37Z","author_association":"CONTRIBUTOR","body":"@wohali I would be down with working on the docs, but I'm not sure which route to take. Do we really want to document both scenarios, when it seems like (especially after this patch) there's no obvious upside to using one over the other?\r\n\r\nIt also occurs to me that, since one can now set up a cluster by making multiple requests to a single coordinator node, the whole process could in principle be made much simpler by changing the setup code to support a _single_ request to the coordinator with all the information necessary in one data structure. For example, we could in principle deprecate the entire series of error-prone and confusing requests with something like this:\r\n```\r\nPOST /_cluster_setup\r\n{\r\n    \"nodes\": [\r\n         {\r\n            \"url\": \"http://user2:pass2@127.0.0.1:25984\",\r\n            \"name\": \"node2\"\r\n        },\r\n        {\r\n            \"url\": \"http://user3:pass3@127.0.0.1:35984\",\r\n            \"name\": \"node3\"\r\n        }\r\n    ],\r\n    \"admins\": [\r\n        \"adm:pass\"\r\n    ]\r\n}\r\n```\r\nwhere \"nodes\" represents an optional list of additional nodes in the cluster, and \"admins\" is an optional (?) list of all admins to be configured. A \"node\" object could also include an optional \"bind_address\", and perhaps other useful fields. This would also allow for (possibly randomly generated) individual creds for each node prior to forming a cluster. The POST request itself implicitly requires the credentials \"user1:pass1\" to authenticate. I think I'll play around with prototyping this unless you think it's a terrible idea for some reason.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449662756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449840463","html_url":"https://github.com/apache/couchdb/pull/1798#issuecomment-449840463","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1798","id":449840463,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTg0MDQ2Mw==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-25T11:04:00Z","updated_at":"2018-12-25T11:04:00Z","author_association":"CONTRIBUTOR","body":"+1 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/449840463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450227902","html_url":"https://github.com/apache/couchdb/pull/1829#issuecomment-450227902","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1829","id":450227902,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDIyNzkwMg==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-27T20:45:01Z","updated_at":"2018-12-27T20:45:01Z","author_association":"CONTRIBUTOR","body":"Thank you for the review @iilyak. Would you mind merging when you have a moment?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450227902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450262366","html_url":"https://github.com/apache/couchdb/pull/1835#issuecomment-450262366","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1835","id":450262366,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDI2MjM2Ng==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-28T00:34:30Z","updated_at":"2018-12-28T00:34:30Z","author_association":"CONTRIBUTOR","body":"Good stuff. Thanks, Jay","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450262366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450262714","html_url":"https://github.com/apache/couchdb/pull/1834#issuecomment-450262714","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1834","id":450262714,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDI2MjcxNA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-28T00:37:09Z","updated_at":"2018-12-28T00:37:09Z","author_association":"CONTRIBUTOR","body":"Nice. Can't believe these have stuck around for so long.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450262714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450300261","html_url":"https://github.com/apache/couchdb/pull/1833#issuecomment-450300261","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1833","id":450300261,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDMwMDI2MQ==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-28T06:36:33Z","updated_at":"2018-12-28T07:48:13Z","author_association":"CONTRIBUTOR","body":"Looks like this is a pretty consistent failure for OTP 21.2 (but not 21.1, evidently):\r\n```\r\ntest/javascript/tests/config.js                                Error: \r\nFAIL isRunning\r\nStacktrace:\r\n\twaitForSuccess((function () {CouchDB.last_req = CouchDB.request(\"GET\", \"/\");return typeof CouchDB.last_req == \"object\";}),\"isRunning\")@test/javascript/test_setup.js:64\r\n\t@test/javascript/cli_runner.js:46\r\nFailed to execute script.\r\nfail\r\n```\r\nI installed 21.2 and reproduced locally. Seems like it's actually crashing the BEAM in compact.js (which nevertheless passes), but then config.js fails because the VM is gone. These log entries look suspicious:\r\n```\r\nnifs/common/prim_file_nif.c:388:[notice] 2018-12-28T07:41:03.834726Z node1@127.0.0.1 <0.3868.0> aaa8c4d9b0 127.0.0.1:15984 127.0.0.1 undefined DELETE /test_suite_db_lvxwriai/?sync=true 200 ok 10\r\nowner_death_callback(): Internal error: Failed to defer prim_file close.\r\n```\r\n\r\nI'm tempted to revert back to 21.1 for this PR (just to get it merged and speed up CI in general), and open a separate investigation for upgrading to 21.2. @nickva any thoughts?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450300261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450382051","html_url":"https://github.com/apache/couchdb/issues/1836#issuecomment-450382051","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1836","id":450382051,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDM4MjA1MQ==","user":{"login":"popojargo","id":9197078,"node_id":"MDQ6VXNlcjkxOTcwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/9197078?v=4","gravatar_id":"","url":"https://api.github.com/users/popojargo","html_url":"https://github.com/popojargo","followers_url":"https://api.github.com/users/popojargo/followers","following_url":"https://api.github.com/users/popojargo/following{/other_user}","gists_url":"https://api.github.com/users/popojargo/gists{/gist_id}","starred_url":"https://api.github.com/users/popojargo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/popojargo/subscriptions","organizations_url":"https://api.github.com/users/popojargo/orgs","repos_url":"https://api.github.com/users/popojargo/repos","events_url":"https://api.github.com/users/popojargo/events{/privacy}","received_events_url":"https://api.github.com/users/popojargo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-28T16:00:21Z","updated_at":"2018-12-28T16:00:21Z","author_association":"MEMBER","body":"1. Github issues are for bugs only. If you have questions, you can use the mailing list, Slack or StackOverflow\r\n2. You can't only the docs by querying the views. It's designed this way. You mentioned Angular. You can probably query the view and format the data the way you want it. Otherwise, there's always Mango queries that returns an object like this: {docs: [docs....]}","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450382051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450411282","html_url":"https://github.com/apache/couchdb/pull/1833#issuecomment-450411282","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1833","id":450411282,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDQxMTI4Mg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-28T19:07:52Z","updated_at":"2018-12-28T19:07:52Z","author_association":"CONTRIBUTOR","body":"@jaydoane Yeah I had noticed as well. Was about to rebase on master and commit but it looked like a pretty reliable failure on 21.2.\r\n\r\nYeah agree, let's keep it on 21.1, merge then investigate 21.2","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450411282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450418543","html_url":"https://github.com/apache/couchdb/pull/1833#issuecomment-450418543","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1833","id":450418543,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDQxODU0Mw==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-28T20:00:33Z","updated_at":"2018-12-28T20:00:33Z","author_association":"CONTRIBUTOR","body":"@nickva I opened https://github.com/apache/couchdb/issues/1837 to track the 21.2 issue","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450418543/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450466583","html_url":"https://github.com/apache/couchdb/issues/1837#issuecomment-450466583","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1837","id":450466583,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDQ2NjU4Mw==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-29T05:15:22Z","updated_at":"2018-12-29T05:15:22Z","author_association":"CONTRIBUTOR","body":"I checked the [release notes for 21.2.](http://erlang.org/download/otp_src_21.2.readme), and didn't see anything obviously related to changes in nifs.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450466583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450530222","html_url":"https://github.com/apache/couchdb/issues/1837#issuecomment-450530222","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1837","id":450530222,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDUzMDIyMg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-30T00:15:14Z","updated_at":"2018-12-30T00:15:14Z","author_association":"CONTRIBUTOR","body":"I wonder if it is this commit: \r\n\r\nhttps://github.com/erlang/otp/commit/d15bd6b9366ff4eef81ec9c4bcc875dfe694fe98#diff-2d07be10f253f2c53640f98f104b3f23\r\n\r\nIt landed in the 21.1.x series sometimes in Nov 13. 21.1 was released in Sep.\r\n\r\nThe crashing line is:\r\n\r\nhttps://github.com/erlang/otp/commit/d15bd6b9366ff4eef81ec9c4bcc875dfe694fe98#diff-2d07be10f253f2c53640f98f104b3f23R387\r\n\r\nenif_send say that it either fails if calling env process is dead or the that prim_file (the destination) is dead. I suspect it is the sending process that's dead. But then also wonder how come it wasn't crashing  in routine tests, as a process with an open handle dying would trigger this issue...\r\n\r\nhttp://erlang.org/doc/man/erl_nif.html#enif_send\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450530222/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450530938","html_url":"https://github.com/apache/couchdb/issues/603#issuecomment-450530938","issue_url":"https://api.github.com/repos/apache/couchdb/issues/603","id":450530938,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDUzMDkzOA==","user":{"login":"dynamite-ready","id":1124008,"node_id":"MDQ6VXNlcjExMjQwMDg=","avatar_url":"https://avatars.githubusercontent.com/u/1124008?v=4","gravatar_id":"","url":"https://api.github.com/users/dynamite-ready","html_url":"https://github.com/dynamite-ready","followers_url":"https://api.github.com/users/dynamite-ready/followers","following_url":"https://api.github.com/users/dynamite-ready/following{/other_user}","gists_url":"https://api.github.com/users/dynamite-ready/gists{/gist_id}","starred_url":"https://api.github.com/users/dynamite-ready/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dynamite-ready/subscriptions","organizations_url":"https://api.github.com/users/dynamite-ready/orgs","repos_url":"https://api.github.com/users/dynamite-ready/repos","events_url":"https://api.github.com/users/dynamite-ready/events{/privacy}","received_events_url":"https://api.github.com/users/dynamite-ready/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-30T00:35:07Z","updated_at":"2018-12-30T00:44:12Z","author_association":"NONE","body":"I experience the same issue as the OP on a single node, when `cluster.n=1` has been set in the config.\r\nI've been trying to post a document to a newly created user db (with the Couch Per User feature).\r\n\r\nTypical log output look like this:\r\n\r\n```\r\n[notice] 2018-12-30T00:18:28.028842Z couchdb@172.16.0.30 <0.8860.0> 4cf3f1a0e6 localhost:5984 127.0.0.1 admin POST /userdb-*** 404 ok 17\r\n[debug] 2018-12-30T00:18:29.031705Z couchdb@172.16.0.30 <0.8872.0> 8f64a178af no record of user admin\r\n[notice] 2018-12-30T00:18:29.032887Z couchdb@172.16.0.30 <0.8872.0> 8f64a178af localhost:5984 127.0.0.1 admin POST /userdb-**** 404 ok 2\r\n[debug] 2018-12-30T00:18:31.036855Z couchdb@172.16.0.30 <0.9002.0> 6745f08438 no record of user admin\r\n[notice] 2018-12-30T00:18:31.038036Z couchdb@172.16.0.30 <0.9002.0> 6745f08438 localhost:5984 127.0.0.1 admin POST /userdb-**** 404 ok 2\r\n[debug] 2018-12-30T00:18:35.041849Z couchdb@172.16.0.30 <0.9086.0> c3579d0751 no record of user admin\r\n[notice] 2018-12-30T00:18:35.047631Z couchdb@172.16.0.30 <0.9086.0> c3579d0751 localhost:5984 127.0.0.1 admin POST /userdb-**** 404 ok 6\r\n[debug] 2018-12-30T00:18:43.054896Z couchdb@172.16.0.30 <0.9199.0> 6a15101a52 no record of user admin\r\n[notice] 2018-12-30T00:18:43.056778Z couchdb@172.16.0.30 <0.9199.0> 6a15101a52 localhost:5984 127.0.0.1 admin POST /userdb-**** 404 ok 3\r\n```\r\n\r\nWhere posts to `/userdb-****` are all the same recently created DB. The 5 calls are made rough 4 seconds apart, in a 20 second interval, and by that time, `/userdb-****` had definitely been created.\r\n\r\nIt happens somewhat inconsistently too, which is surprising, because if `cluster.n=1`, I shouldn't have to worry about the chance of the POST going to a non existent node, isn't that right?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450530938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450657498","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-450657498","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":450657498,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDY1NzQ5OA==","user":{"login":"produnis","id":1769619,"node_id":"MDQ6VXNlcjE3Njk2MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1769619?v=4","gravatar_id":"","url":"https://api.github.com/users/produnis","html_url":"https://github.com/produnis","followers_url":"https://api.github.com/users/produnis/followers","following_url":"https://api.github.com/users/produnis/following{/other_user}","gists_url":"https://api.github.com/users/produnis/gists{/gist_id}","starred_url":"https://api.github.com/users/produnis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/produnis/subscriptions","organizations_url":"https://api.github.com/users/produnis/orgs","repos_url":"https://api.github.com/users/produnis/repos","events_url":"https://api.github.com/users/produnis/events{/privacy}","received_events_url":"https://api.github.com/users/produnis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T15:20:38Z","updated_at":"2018-12-31T15:20:38Z","author_association":"NONE","body":"So ,this  is how the log looks like:\r\n```\r\nDez 31 16:18:06 Elrond couchdb[4172]: [info] 2018-12-31T15:18:06.479165Z couchdb@127.0.0.1 <0.223.0> -------- Apache CouchDB 2.3.0 is starting.\r\nDez 31 16:18:06 Elrond couchdb[4172]: [info] 2018-12-31T15:18:06.479807Z couchdb@127.0.0.1 <0.224.0> -------- Starting couch_sup\r\nDez 31 16:18:06 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:06.483586Z couchdb@127.0.0.1 <0.106.0> -------- config: [features] pluggable-storage-engines set to true for reason nil\r\nDez 31 16:18:06 Elrond couchdb[4172]: [info] 2018-12-31T15:18:06.520449Z couchdb@127.0.0.1 <0.223.0> -------- Apache CouchDB has started. Time to relax.\r\nDez 31 16:18:06 Elrond couchdb[4172]: [info] 2018-12-31T15:18:06.520558Z couchdb@127.0.0.1 <0.223.0> -------- Apache CouchDB has started on http://127.0.0.1:5986/\r\nDez 31 16:18:06 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:06.532090Z couchdb@127.0.0.1 <0.286.0> -------- rexi_server : started servers\r\nDez 31 16:18:06 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:06.533801Z couchdb@127.0.0.1 <0.291.0> -------- rexi_buffer : started servers\r\nDez 31 16:18:06 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:06.573703Z couchdb@127.0.0.1 <0.106.0> -------- config: [features] scheduler set to true for reason nil\r\nDez 31 16:18:11 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:11.562159Z couchdb@127.0.0.1 <0.369.0> -------- couch_replicator_clustering : cluster stable\r\nDez 31 16:18:11 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:11.568297Z couchdb@127.0.0.1 <0.421.0> -------- Started replicator db changes listener <0.521.0>\r\nDez 31 16:18:21 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:21.533217Z couchdb@127.0.0.1 <0.286.0> -------- rexi_server : cluster stable\r\nDez 31 16:18:21 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:21.533575Z couchdb@127.0.0.1 <0.291.0> -------- rexi_buffer : cluster stable\r\nDez 31 16:18:25 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:25.191992Z couchdb@127.0.0.1 <0.889.0> 69320659c9 127.0.0.1:5984 127.0.0.1 produnis GET /verifytestdb 200 ok 18\r\nDez 31 16:18:25 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:25.192104Z couchdb@127.0.0.1 <0.891.0> 072221a8ac 127.0.0.1:5984 127.0.0.1 produnis GET /verifytestdb_replicate 404 ok 7\r\nDez 31 16:18:25 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:25.231098Z couchdb@127.0.0.1 <0.889.0> c63494a27d 127.0.0.1:5984 127.0.0.1 produnis DELETE /verifytestdb 200 ok 28\r\nDez 31 16:18:25 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:25.541853Z couchdb@127.0.0.1 <0.889.0> 9cbcdc8d15 127.0.0.1:5984 127.0.0.1 produnis PUT /verifytestdb 201 ok 131\r\nDez 31 16:18:26 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:26.005692Z couchdb@127.0.0.1 <0.891.0> af7ce69780 127.0.0.1:5984 127.0.0.1 produnis PUT /verifytestdb/test_doc_1 201 ok 34\r\nDez 31 16:18:26 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:26.355983Z couchdb@127.0.0.1 <0.891.0> bb791918f4 127.0.0.1:5984 127.0.0.1 produnis PUT /verifytestdb/test_doc_1 201 ok 14\r\nDez 31 16:18:26 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:26.402736Z couchdb@127.0.0.1 <0.891.0> ba33f2a14e 127.0.0.1:5984 127.0.0.1 produnis DELETE /verifytestdb/test_doc_1?rev=2-d588d3e93ee155c5afffdf0247a2c5ef 200 ok 15\r\nDez 31 16:18:26 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:26.449777Z couchdb@127.0.0.1 <0.891.0> 87a28053ac 127.0.0.1:5984 127.0.0.1 produnis PUT /verifytestdb/test_doc_10 201 ok 28\r\nDez 31 16:18:26 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:26.459226Z couchdb@127.0.0.1 <0.890.0> 4f8b4807b5 127.0.0.1:5984 127.0.0.1 produnis PUT /verifytestdb/test_doc_20 201 ok 37\r\nDez 31 16:18:26 Elrond couchdb[4172]: [notice] 2018-12-31T15:18:26.477647Z couchdb@127.0.0.1 <0.892.0> d70366474f 127.0.0.1:5984 127.0.0.1 produnis PUT /verifytestdb/test_doc_30 201 ok 51\r\nDez 31 16:18:26 Elrond couchdb[4172]: [info] 2018-12-31T15:18:26.836534Z couchdb@127.0.0.1 <0.238.0> -------- couch_proc_manager <0.1072.0> died normal\r\nDez 31 16:18:26 Elrond couchdb[4172]: [error] 2018-12-31T15:18:26.836603Z couchdb@127.0.0.1 <0.1070.0> -------- OS Process Error <0.1072.0> :: {os_process_error,{exit_status,139}}\r\nDez 31 16:18:27 Elrond couchdb[4172]: [info] 2018-12-31T15:18:27.098445Z couchdb@127.0.0.1 <0.238.0> -------- couch_proc_manager <0.1105.0> died normal\r\nDez 31 16:18:27 Elrond couchdb[4172]: [error] 2018-12-31T15:18:27.098559Z couchdb@127.0.0.1 <0.1070.0> -------- OS Process Error <0.1105.0> :: {os_process_error,{exit_status,139}}\r\nDez 31 16:18:27 Elrond couchdb[4172]: [info] 2018-12-31T15:18:27.321895Z couchdb@127.0.0.1 <0.238.0> -------- couch_proc_manager <0.1108.0> died normal\r\nDez 31 16:18:27 Elrond couchdb[4172]: [error] 2018-12-31T15:18:27.322010Z couchdb@127.0.0.1 <0.1070.0> -------- OS Process Error <0.1108.0> :: {os_process_error,{exit_status,139}}\r\nDez 31 16:18:27 Elrond couchdb[4172]: [info] 2018-12-31T15:18:27.557800Z couchdb@127.0.0.1 <0.238.0> -------- couch_proc_manager <0.1113.0> died normal\r\nDez 31 16:18:27 Elrond couchdb[4172]: [error] 2018-12-31T15:18:27.557958Z couchdb@127.0.0.1 <0.1070.0> -------- OS Process Error <0.1113.0> :: {os_process_error,{exit_status,139}}\r\nDez 31 16:18:27 Elrond couchdb[4172]: [info] 2018-12-31T15:18:27.780737Z couchdb@127.0.0.1 <0.238.0> -------- couch_proc_manager <0.1116.0> died normal\r\nDez 31 16:18:27 Elrond couchdb[4172]: [error] 2018-12-31T15:18:27.780836Z couchdb@127.0.0.1 <0.1070.0> -------- OS Process Error <0.1116.0> :: {os_process_error,{exit_status,139}}\r\nDez 31 16:18:28 Elrond couchdb[4172]: [info] 2018-12-31T15:18:28.032640Z couchdb@127.0.0.1 <0.238.0> -------- couch_proc_manager <0.1119.0> died normal\r\nDez 31 16:18:28 Elrond couchdb[4172]: [error] 2018-12-31T15:18:28.032745Z couchdb@127.0.0.1 <0.1070.0> -------- OS Process Error <0.1119.0> :: {os_process_error,{exit_status,139}}\r\nDez 31 16:18:28 Elrond couchdb[4172]: [info] 2018-12-31T15:18:28.283102Z couchdb@127.0.0.1 <0.238.0> -------- couch_proc_manager <0.1122.0> died normal\r\nDez 31 16:18:28 Elrond couchdb[4172]: [error] 2018-12-31T15:18:28.283144Z couchdb@127.0.0.1 <0.1070.0> -------- OS Process Error <0.1122.0> :: {os_process_error,{exit_status,139}}\r\nDez 31 16:18:28 Elrond couchdb[4172]: [info] 2018-12-31T15:18:28.503788Z couchdb@127.0.0.1 <0.238.0> -------- couch_proc_manager <0.1125.0> died normal\r\nDez 31 16:18:28 Elrond couchdb[4172]: [error] 2018-12-31T15:18:28.503898Z couchdb@127.0.0.1 <0.1070.0> -------- OS Process Error <0.1125.0> :: {os_process_error,{exit_status,139}}\r\nDez 31 16:18:28 Elrond couchdb[4172]: [info] 2018-12-31T15:18:28.720950Z couchdb@127.0.0.1 <0.238.0> -------- couch_proc_manager <0.1131.0> died normal\r\nDez 31 16:18:28 Elrond couchdb[4172]: [error] 2018-12-31T15:18:28.721074Z couchdb@127.0.0.1 <0.1070.0> -------- OS Process Error <0.1131.0> :: {os_process_error,{exit_status,139}}\r\nDez 31 16:18:28 Elrond couchdb[4172]: [info] 2018-12-31T15:18:28.968368Z couchdb@127.0.0.1 <0.238.0> -------- couch_proc_manager <0.1161.0> died normal\r\nDez 31 16:18:28 Elrond couchdb[4172]: [error] 2018-12-31T15:18:28.968477Z couchdb@127.0.0.1 <0.1070.0> -------- OS Process Error <0.1161.0> :: {os_process_error,{exit_status,139}}\r\nDez 31 16:18:29 Elrond couchdb[4172]: [info] 2018-12-31T15:18:29.153334Z couchdb@127.0.0.1 <0.238.0> -------- couch_proc_manager <0.1164.0> died normal\r\nDez 31 16:18:29 Elrond couchdb[4172]: [error] 2018-12-31T15:18:29.153449Z couchdb@127.0.0.1 <0.1070.0> -------- OS Process Error <0.1164.0> :: {os_process\r\n```\r\n\r\nThe `nspr` package is installed...\r\n\r\n2 cents, anyone?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450657498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450667554","html_url":"https://github.com/apache/couchdb/pull/1838#issuecomment-450667554","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1838","id":450667554,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDY2NzU1NA==","user":{"login":"kxepal","id":785983,"node_id":"MDQ6VXNlcjc4NTk4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/785983?v=4","gravatar_id":"","url":"https://api.github.com/users/kxepal","html_url":"https://github.com/kxepal","followers_url":"https://api.github.com/users/kxepal/followers","following_url":"https://api.github.com/users/kxepal/following{/other_user}","gists_url":"https://api.github.com/users/kxepal/gists{/gist_id}","starred_url":"https://api.github.com/users/kxepal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kxepal/subscriptions","organizations_url":"https://api.github.com/users/kxepal/orgs","repos_url":"https://api.github.com/users/kxepal/repos","events_url":"https://api.github.com/users/kxepal/events{/privacy}","received_events_url":"https://api.github.com/users/kxepal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T16:48:50Z","updated_at":"2018-12-31T16:48:50Z","author_association":"MEMBER","body":":santa: :christmas_tree: :gift: :fireworks: :tada: ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450667554/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450671533","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-450671533","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":450671533,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDY3MTUzMw==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T17:24:40Z","updated_at":"2018-12-31T17:24:40Z","author_association":"MEMBER","body":"Well, error 139 is SIGSEV and repeating your steps on Arch in Vagrant gives me the same result with kernel log featuring messages like:\r\n```\r\nDec 31 17:24:50 archlinux kernel: couchjs[12088]: segfault at 10 ip 00007f3dc292c244 sp 00007ffc68a4d778 error 4 in libpthread-2.28.so[7f3dc2928000+f000]\r\n```\r\n\r\nI guess this is up to how `mozjs185` been compiled. Try to reach to the author of the package?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450671533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450751839","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-450751839","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":450751839,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDc1MTgzOQ==","user":{"login":"produnis","id":1769619,"node_id":"MDQ6VXNlcjE3Njk2MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1769619?v=4","gravatar_id":"","url":"https://api.github.com/users/produnis","html_url":"https://github.com/produnis","followers_url":"https://api.github.com/users/produnis/followers","following_url":"https://api.github.com/users/produnis/following{/other_user}","gists_url":"https://api.github.com/users/produnis/gists{/gist_id}","starred_url":"https://api.github.com/users/produnis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/produnis/subscriptions","organizations_url":"https://api.github.com/users/produnis/orgs","repos_url":"https://api.github.com/users/produnis/repos","events_url":"https://api.github.com/users/produnis/events{/privacy}","received_events_url":"https://api.github.com/users/produnis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-01T19:32:10Z","updated_at":"2019-01-01T19:32:10Z","author_association":"NONE","body":"I contacted the package-maintainer, and today a new version of js185 was ready. Unfortunately, the error still remains.\r\nIs there anything I could point the maintainer to in detail?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450751839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450754690","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-450754690","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":450754690,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDc1NDY5MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-01T20:25:08Z","updated_at":"2019-01-01T20:25:08Z","author_association":"MEMBER","body":"The maintainer doesn't have all of the patches we use in our libmozjs compile for Ubuntu/Debian/RedHat/Fedora/SuSE/CentOS. Perhaps one of them will solve the problem.\r\n\r\nPoint him here: https://github.com/apache/couchdb-pkg/blob/master/js/README.md\r\n\r\nand specifically here: https://github.com/apache/couchdb-pkg/tree/master/js/debian/patches\r\n\r\nHe should try applying all of those patches and see if it improves things.\r\n\r\nYou can also manually test `couchjs` itself by running:\r\n\r\n```bash\r\npath/to/couchjs path/to/share/server/main.js\r\n# then, when it's running, type\r\n[\"reset\"]\r\n# it should respond with true\r\n[\"map_doc\",{}]\r\n# it should respond with []\r\n# exit with CTRL-D\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450754690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450755192","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-450755192","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":450755192,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDc1NTE5Mg==","user":{"login":"produnis","id":1769619,"node_id":"MDQ6VXNlcjE3Njk2MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1769619?v=4","gravatar_id":"","url":"https://api.github.com/users/produnis","html_url":"https://github.com/produnis","followers_url":"https://api.github.com/users/produnis/followers","following_url":"https://api.github.com/users/produnis/following{/other_user}","gists_url":"https://api.github.com/users/produnis/gists{/gist_id}","starred_url":"https://api.github.com/users/produnis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/produnis/subscriptions","organizations_url":"https://api.github.com/users/produnis/orgs","repos_url":"https://api.github.com/users/produnis/repos","events_url":"https://api.github.com/users/produnis/events{/privacy}","received_events_url":"https://api.github.com/users/produnis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-01T20:34:44Z","updated_at":"2019-01-01T20:34:44Z","author_association":"NONE","body":"Hi there, and thx for your reply. I sent an email to the package maintainer.\r\nAlso, I tried your manual test, and it goes through without errors:\r\n\r\n```\r\n21:32:56|produnis@Elrond:~$ /usr/lib/couchdb/bin/couchjs /usr/lib/couchdb/share/server/main.js\r\n[\"reset\"]\r\ntrue\r\n[\"map_doc\",{}]\r\n[]\r\n21:33:35|produnis@Elrond:~$\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450755192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450795526","html_url":"https://github.com/apache/couchdb/pull/1789#issuecomment-450795526","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1789","id":450795526,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDc5NTUyNg==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T06:46:27Z","updated_at":"2019-01-02T06:47:44Z","author_association":"CONTRIBUTOR","body":"Running through the elixir tests I'm getting 500's due to a `couch_ejson_compare:less_erl/2` function_clause. `less_erl` doesn't match with tuples. I wonder if I have the latest commits for this branch?\r\n\r\n\r\n```\r\n 1) test partitioned query using index and range scan (PartitionMangoTest)\r\n     test/partition_mango_test.exs:245\r\n     Assertion with == failed\r\n     code:  assert resp.status_code() == 200\r\n     left:  500\r\n     right: 200\r\n     stacktrace:\r\n       test/partition_mango_test.exs:264: (test)\r\n```\r\nDbcore logs:\r\n```\r\n[error] 2019-01-02T06:24:38.655017Z node3@127.0.0.1 <0.16144.0> 7b878638a9 rexi_server: from: node1@127.0.0.1(<27635.14553.0>) mfa: fabric_rpc:map_view/5 throw:{function_clause,[{couch_ejson_compare,less_erl,[{<<\"foo\">>,<<\"98\">>},{<<\"foo\">>,<<\"96\">>}],[{file,\"src/couch_ejson_compare.erl\"},{line,54}]},{couch_ejson_compare,less_list,2,[{file,\"src/couch_ejson_compare.erl\"},{line,106}]},{couch_ejson_compare,less_json_ids,2,[{file,\"src/couch_ejson_compare.erl\"},{line,39}]},{lists,sort,2,[{file,\"lists.erl\"},{line,967}]},{couch_btree,query_modify,4,[{file,\"src/couch_btree.erl\"},{line,260}]},{couch_btree,add_remove,3,[{file,\"src/couch_btree.erl\"},{line,239}]},{couch_mrview_updater,'-write_kvs/6-fun-1-',8,[{file,\"src/couch_mrview_updater.erl\"},{line,347}]},{lists,zipwith,3,[{file,\"lists.erl\"},{line,449}]}]} [{couch_mrview_util,get_view_index_state,5,[{file,\"src/couch_mrview_util.erl\"},{line,142}]},{couch_mrview_util,get_view,4,[{file,\"src/couch_mrview_util.erl\"},{line,86}]},{couch_mrview,query_view,6,[{file,\"src/couch_mrview.erl\"},{line,265}]},{rexi_server,init_p,3,[{file,\"src/rexi_server.erl\"},{line,140}]}]\r\n[error] 2019-01-02T06:24:38.654986Z node1@127.0.0.1 <0.14553.0> 7b878638a9 req_err(3510611728) badmatch : {error,\r\n    {function_clause,\r\n        [{couch_ejson_compare,less_erl,\r\n             [{<<\"foo\">>,<<\"98\">>},{<<\"foo\">>,<<\"96\">>}],\r\n             [{file,\"src/couch_ejson_compare.erl\"},{line,54}]},\r\n         {couch_ejson_compare,less_list,2,\r\n             [{file,\"src/couch_ejson_compare.erl\"},{line,106}]},\r\n         {couch_ejson_compare,less_json_ids,2,\r\n             [{file,\"src/couch_ejson_compare.erl\"},{line,39}]},\r\n         {lists,sort,2,[{file,\"lists.erl\"},{line,967}]},\r\n         {couch_btree,query_modify,4,\r\n             [{file,\"src/couch_btree.erl\"},{line,260}]},\r\n         {couch_btree,add_remove,3,[{file,\"src/couch_btree.erl\"},{line,239}]},\r\n         {couch_mrview_updater,'-write_kvs/6-fun-1-',8,\r\n             [{file,\"src/couch_mrview_updater.erl\"},{line,347}]},\r\n         {lists,zipwith,3,[{file,\"lists.erl\"},{line,449}]}],\r\n        [{couch_mrview_util,get_view_index_state,5,\r\n             [{file,\"src/couch_mrview_util.erl\"},{line,142}]},\r\n         {couch_mrview_util,get_view,4,\r\n             [{file,\"src/couch_mrview_util.erl\"},{line,86}]},\r\n         {couch_mrview,query_view,6,\r\n             [{file,\"src/couch_mrview.erl\"},{line,265}]},\r\n         {rexi_server,init_p,3,[{file,\"src/rexi_server.erl\"},{line,140}]}]}}\r\n    [<<\"mango_httpd:handle_find_req/2 L189\">>,<<\"mango_httpd:handle_req/2 L38\">>,<<\"chttpd:handle_req_after_auth/2 L320\">>,<<\"chttpd:process_request/1 L303\">>,<<\"chttpd:handle_request_int/1 L243\">>,<<\"mochiweb_http:headers/6 L128\">>,<<\"proc_lib:init_p_do_apply/3 L237\">>]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450795526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450803083","html_url":"https://github.com/apache/couchdb/issues/1837#issuecomment-450803083","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1837","id":450803083,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDgwMzA4Mw==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T07:54:04Z","updated_at":"2019-01-02T07:54:04Z","author_association":"CONTRIBUTOR","body":"Confirmed it's an Erlang/OTP bug. Filed it as: https://bugs.erlang.org/browse/ERL-821","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450803083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450899003","html_url":"https://github.com/apache/couchdb/pull/1789#issuecomment-450899003","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1789","id":450899003,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDg5OTAwMw==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T15:48:35Z","updated_at":"2019-01-02T15:48:35Z","author_association":"MEMBER","body":"Latest version of this branch is 60bbe3f. CI passed so I'm wagering you're on an old version.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450899003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450962065","html_url":"https://github.com/apache/couchdb/issues/1839#issuecomment-450962065","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1839","id":450962065,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDk2MjA2NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T19:36:33Z","updated_at":"2019-01-02T19:36:33Z","author_association":"MEMBER","body":"Fixed, though we do not officially release through GitHub.\r\n\r\nOfficial CouchDB releases are always at https://couchdb.apache.org/","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450962065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450973543","html_url":"https://github.com/apache/couchdb/pull/1789#issuecomment-450973543","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1789","id":450973543,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDk3MzU0Mw==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T20:20:43Z","updated_at":"2019-01-02T20:20:43Z","author_association":"MEMBER","body":"Except now that I look we're apparently not running Elixir tests in make check yet which I must've just remembered wrongly as having been enabled. Am now trying to reproduce locally.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450973543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450979378","html_url":"https://github.com/apache/couchdb/pull/1789#issuecomment-450979378","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1789","id":450979378,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDk3OTM3OA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T20:43:45Z","updated_at":"2019-01-02T20:43:45Z","author_association":"MEMBER","body":"Found it. Silly bug when I switched couch_mrview_updater to reuse a function in couch_partition that returned a slightly different result. Have forced pushed the fix.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450979378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450997385","html_url":"https://github.com/apache/couchdb/issues/1712#issuecomment-450997385","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1712","id":450997385,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDk5NzM4NQ==","user":{"login":"tudordumitriu","id":4671554,"node_id":"MDQ6VXNlcjQ2NzE1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4671554?v=4","gravatar_id":"","url":"https://api.github.com/users/tudordumitriu","html_url":"https://github.com/tudordumitriu","followers_url":"https://api.github.com/users/tudordumitriu/followers","following_url":"https://api.github.com/users/tudordumitriu/following{/other_user}","gists_url":"https://api.github.com/users/tudordumitriu/gists{/gist_id}","starred_url":"https://api.github.com/users/tudordumitriu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tudordumitriu/subscriptions","organizations_url":"https://api.github.com/users/tudordumitriu/orgs","repos_url":"https://api.github.com/users/tudordumitriu/repos","events_url":"https://api.github.com/users/tudordumitriu/events{/privacy}","received_events_url":"https://api.github.com/users/tudordumitriu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T21:55:13Z","updated_at":"2019-01-02T21:55:29Z","author_association":"NONE","body":"Hi @wohali \r\nAny news on this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450997385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450999367","html_url":"https://github.com/apache/couchdb/issues/1712#issuecomment-450999367","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1712","id":450999367,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDk5OTM2Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T22:03:08Z","updated_at":"2019-01-02T22:03:08Z","author_association":"MEMBER","body":"Am on holiday until next week and have other priorities ahead of this one, sorry. Please don't ping me directly.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/450999367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451022920","html_url":"https://github.com/apache/couchdb/issues/1839#issuecomment-451022920","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1839","id":451022920,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTAyMjkyMA==","user":{"login":"j13k","id":1084378,"node_id":"MDQ6VXNlcjEwODQzNzg=","avatar_url":"https://avatars.githubusercontent.com/u/1084378?v=4","gravatar_id":"","url":"https://api.github.com/users/j13k","html_url":"https://github.com/j13k","followers_url":"https://api.github.com/users/j13k/followers","following_url":"https://api.github.com/users/j13k/following{/other_user}","gists_url":"https://api.github.com/users/j13k/gists{/gist_id}","starred_url":"https://api.github.com/users/j13k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j13k/subscriptions","organizations_url":"https://api.github.com/users/j13k/orgs","repos_url":"https://api.github.com/users/j13k/repos","events_url":"https://api.github.com/users/j13k/events{/privacy}","received_events_url":"https://api.github.com/users/j13k/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T00:01:17Z","updated_at":"2019-01-03T00:01:17Z","author_association":"NONE","body":"Thanks, and understood. GitHub releases are useful however, as they can be consumed as an Atom feed, e.g.: https://github.com/apache/couchdb/releases.atom.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451022920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451041375","html_url":"https://github.com/apache/couchdb/pull/1838#issuecomment-451041375","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1838","id":451041375,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTA0MTM3NQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T02:18:14Z","updated_at":"2019-01-03T02:18:14Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451041375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451190952","html_url":"https://github.com/apache/couchdb/issues/1712#issuecomment-451190952","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1712","id":451190952,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTE5MDk1Mg==","user":{"login":"tudordumitriu","id":4671554,"node_id":"MDQ6VXNlcjQ2NzE1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4671554?v=4","gravatar_id":"","url":"https://api.github.com/users/tudordumitriu","html_url":"https://github.com/tudordumitriu","followers_url":"https://api.github.com/users/tudordumitriu/followers","following_url":"https://api.github.com/users/tudordumitriu/following{/other_user}","gists_url":"https://api.github.com/users/tudordumitriu/gists{/gist_id}","starred_url":"https://api.github.com/users/tudordumitriu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tudordumitriu/subscriptions","organizations_url":"https://api.github.com/users/tudordumitriu/orgs","repos_url":"https://api.github.com/users/tudordumitriu/repos","events_url":"https://api.github.com/users/tudordumitriu/events{/privacy}","received_events_url":"https://api.github.com/users/tudordumitriu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T16:10:12Z","updated_at":"2019-01-03T16:10:54Z","author_association":"NONE","body":"Sorry about that.\r\nThank you.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451190952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451205997","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451205997","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451205997,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTIwNTk5Nw==","user":{"login":"ArchangeGabriel","id":490531,"node_id":"MDQ6VXNlcjQ5MDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/490531?v=4","gravatar_id":"","url":"https://api.github.com/users/ArchangeGabriel","html_url":"https://github.com/ArchangeGabriel","followers_url":"https://api.github.com/users/ArchangeGabriel/followers","following_url":"https://api.github.com/users/ArchangeGabriel/following{/other_user}","gists_url":"https://api.github.com/users/ArchangeGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArchangeGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArchangeGabriel/subscriptions","organizations_url":"https://api.github.com/users/ArchangeGabriel/orgs","repos_url":"https://api.github.com/users/ArchangeGabriel/repos","events_url":"https://api.github.com/users/ArchangeGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/ArchangeGabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T16:56:47Z","updated_at":"2019-01-03T16:56:47Z","author_association":"NONE","body":"@produnis Were you able to test the latest build I provided to you? If not Iâll try to deploy a new Arch machine to test (Iâd rather avoid crashing my running couchdb on a prod machineâ¦).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451205997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451222869","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451222869","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451222869,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTIyMjg2OQ==","user":{"login":"produnis","id":1769619,"node_id":"MDQ6VXNlcjE3Njk2MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1769619?v=4","gravatar_id":"","url":"https://api.github.com/users/produnis","html_url":"https://github.com/produnis","followers_url":"https://api.github.com/users/produnis/followers","following_url":"https://api.github.com/users/produnis/following{/other_user}","gists_url":"https://api.github.com/users/produnis/gists{/gist_id}","starred_url":"https://api.github.com/users/produnis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/produnis/subscriptions","organizations_url":"https://api.github.com/users/produnis/orgs","repos_url":"https://api.github.com/users/produnis/repos","events_url":"https://api.github.com/users/produnis/events{/privacy}","received_events_url":"https://api.github.com/users/produnis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T17:51:11Z","updated_at":"2019-01-03T20:34:29Z","author_association":"NONE","body":"Hi Bruno, \r\ninstalled js185 version 1.0.0.5 yesterday (I wrote you an email)butunfortunately, the segfault error is still there... That's why they pointed me/us at these patches (see wohali post)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451222869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451344439","html_url":"https://github.com/apache/couchdb/pull/1808#issuecomment-451344439","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1808","id":451344439,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTM0NDQzOQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T03:20:49Z","updated_at":"2019-01-04T03:20:49Z","author_association":"CONTRIBUTOR","body":"Thanks @iilyak for careful review. I addressed your comments. I will rebase and merge them if getting approval later.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451344439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451436620","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451436620","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451436620,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTQzNjYyMA==","user":{"login":"ArchangeGabriel","id":490531,"node_id":"MDQ6VXNlcjQ5MDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/490531?v=4","gravatar_id":"","url":"https://api.github.com/users/ArchangeGabriel","html_url":"https://github.com/ArchangeGabriel","followers_url":"https://api.github.com/users/ArchangeGabriel/followers","following_url":"https://api.github.com/users/ArchangeGabriel/following{/other_user}","gists_url":"https://api.github.com/users/ArchangeGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArchangeGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArchangeGabriel/subscriptions","organizations_url":"https://api.github.com/users/ArchangeGabriel/orgs","repos_url":"https://api.github.com/users/ArchangeGabriel/repos","events_url":"https://api.github.com/users/ArchangeGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/ArchangeGabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T12:56:11Z","updated_at":"2019-01-04T12:56:11Z","author_association":"NONE","body":"Yeah, but since then Iâve built 1.0.0-6 with more patches, and send it to you by email. Did you not received it?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451436620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451441625","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451441625","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451441625,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTQ0MTYyNQ==","user":{"login":"produnis","id":1769619,"node_id":"MDQ6VXNlcjE3Njk2MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1769619?v=4","gravatar_id":"","url":"https://api.github.com/users/produnis","html_url":"https://github.com/produnis","followers_url":"https://api.github.com/users/produnis/followers","following_url":"https://api.github.com/users/produnis/following{/other_user}","gists_url":"https://api.github.com/users/produnis/gists{/gist_id}","starred_url":"https://api.github.com/users/produnis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/produnis/subscriptions","organizations_url":"https://api.github.com/users/produnis/orgs","repos_url":"https://api.github.com/users/produnis/repos","events_url":"https://api.github.com/users/produnis/events{/privacy}","received_events_url":"https://api.github.com/users/produnis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T13:20:32Z","updated_at":"2019-01-04T13:20:32Z","author_association":"NONE","body":"No, I didn't get that mail. Where can I find 0.6-Version?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451441625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451442984","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451442984","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451442984,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTQ0Mjk4NA==","user":{"login":"ArchangeGabriel","id":490531,"node_id":"MDQ6VXNlcjQ5MDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/490531?v=4","gravatar_id":"","url":"https://api.github.com/users/ArchangeGabriel","html_url":"https://github.com/ArchangeGabriel","followers_url":"https://api.github.com/users/ArchangeGabriel/followers","following_url":"https://api.github.com/users/ArchangeGabriel/following{/other_user}","gists_url":"https://api.github.com/users/ArchangeGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArchangeGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArchangeGabriel/subscriptions","organizations_url":"https://api.github.com/users/ArchangeGabriel/orgs","repos_url":"https://api.github.com/users/ArchangeGabriel/repos","events_url":"https://api.github.com/users/ArchangeGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/ArchangeGabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T13:26:27Z","updated_at":"2019-01-04T13:26:27Z","author_association":"NONE","body":"OK, please find it here then: https://paste.xinu.at/tD1hZ/","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451442984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451444205","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451444205","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451444205,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTQ0NDIwNQ==","user":{"login":"produnis","id":1769619,"node_id":"MDQ6VXNlcjE3Njk2MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1769619?v=4","gravatar_id":"","url":"https://api.github.com/users/produnis","html_url":"https://github.com/produnis","followers_url":"https://api.github.com/users/produnis/followers","following_url":"https://api.github.com/users/produnis/following{/other_user}","gists_url":"https://api.github.com/users/produnis/gists{/gist_id}","starred_url":"https://api.github.com/users/produnis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/produnis/subscriptions","organizations_url":"https://api.github.com/users/produnis/orgs","repos_url":"https://api.github.com/users/produnis/repos","events_url":"https://api.github.com/users/produnis/events{/privacy}","received_events_url":"https://api.github.com/users/produnis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T13:31:53Z","updated_at":"2019-01-04T13:31:53Z","author_association":"NONE","body":"Thx a lot. I installed 0.6, but the SEGFAULT is still there..... :/","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451444205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451446814","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451446814","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451446814,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTQ0NjgxNA==","user":{"login":"ArchangeGabriel","id":490531,"node_id":"MDQ6VXNlcjQ5MDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/490531?v=4","gravatar_id":"","url":"https://api.github.com/users/ArchangeGabriel","html_url":"https://github.com/ArchangeGabriel","followers_url":"https://api.github.com/users/ArchangeGabriel/followers","following_url":"https://api.github.com/users/ArchangeGabriel/following{/other_user}","gists_url":"https://api.github.com/users/ArchangeGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArchangeGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArchangeGabriel/subscriptions","organizations_url":"https://api.github.com/users/ArchangeGabriel/orgs","repos_url":"https://api.github.com/users/ArchangeGabriel/repos","events_url":"https://api.github.com/users/ArchangeGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/ArchangeGabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T13:43:25Z","updated_at":"2019-01-04T13:43:25Z","author_association":"NONE","body":"OK, I see I still donât have `--disable-methodjit`, so I added that too: https://paste.xinu.at/O2h2S/. But if it still does not work, then Iâll try to reproduce it in `gdb` with debug symbols to get a better understanding of what is happening.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451446814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451530550","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451530550","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451530550,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTUzMDU1MA==","user":{"login":"ArchangeGabriel","id":490531,"node_id":"MDQ6VXNlcjQ5MDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/490531?v=4","gravatar_id":"","url":"https://api.github.com/users/ArchangeGabriel","html_url":"https://github.com/ArchangeGabriel","followers_url":"https://api.github.com/users/ArchangeGabriel/followers","following_url":"https://api.github.com/users/ArchangeGabriel/following{/other_user}","gists_url":"https://api.github.com/users/ArchangeGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArchangeGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArchangeGabriel/subscriptions","organizations_url":"https://api.github.com/users/ArchangeGabriel/orgs","repos_url":"https://api.github.com/users/ArchangeGabriel/repos","events_url":"https://api.github.com/users/ArchangeGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/ArchangeGabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T18:40:11Z","updated_at":"2019-01-04T18:40:11Z","author_association":"NONE","body":"Iâve just realized that couchjs has been segfaulting massively on my server lately, so the issue might be completely different and related to another change. Iâm investigating.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451530550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451531877","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451531877","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451531877,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTUzMTg3Nw==","user":{"login":"ArchangeGabriel","id":490531,"node_id":"MDQ6VXNlcjQ5MDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/490531?v=4","gravatar_id":"","url":"https://api.github.com/users/ArchangeGabriel","html_url":"https://github.com/ArchangeGabriel","followers_url":"https://api.github.com/users/ArchangeGabriel/followers","following_url":"https://api.github.com/users/ArchangeGabriel/following{/other_user}","gists_url":"https://api.github.com/users/ArchangeGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArchangeGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArchangeGabriel/subscriptions","organizations_url":"https://api.github.com/users/ArchangeGabriel/orgs","repos_url":"https://api.github.com/users/ArchangeGabriel/repos","events_url":"https://api.github.com/users/ArchangeGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/ArchangeGabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T18:44:59Z","updated_at":"2019-01-04T18:44:59Z","author_association":"NONE","body":"@produnis Could you try editing `/usr/lib/systemd/system/couchdb.service`, removing the line `MemoryDenyWriteExecute=true`, then `systemctl daemon-reload`, `systemctl restart couchdb` and trying again your test case?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451531877/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451549925","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451549925","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451549925,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTU0OTkyNQ==","user":{"login":"ArchangeGabriel","id":490531,"node_id":"MDQ6VXNlcjQ5MDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/490531?v=4","gravatar_id":"","url":"https://api.github.com/users/ArchangeGabriel","html_url":"https://github.com/ArchangeGabriel","followers_url":"https://api.github.com/users/ArchangeGabriel/followers","following_url":"https://api.github.com/users/ArchangeGabriel/following{/other_user}","gists_url":"https://api.github.com/users/ArchangeGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArchangeGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArchangeGabriel/subscriptions","organizations_url":"https://api.github.com/users/ArchangeGabriel/orgs","repos_url":"https://api.github.com/users/ArchangeGabriel/repos","events_url":"https://api.github.com/users/ArchangeGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/ArchangeGabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T19:50:19Z","updated_at":"2019-01-04T19:50:19Z","author_association":"NONE","body":"I need to do more tests, but `MemoryDenyWriteExecute=true` is definitively the culprit. However one of the changes Iâve made to libmozjs in order to try to solve this broke `couchjs` in a different way:\r\n```couchdb[17334]: [error] 2019-01-04T19:42:46.189862Z couchdb@localhost <0.2485.0> -------- OS Process Error <0.4280.0> :: {os_process_error,{exit_status,1}}```\r\nReverting to previous version works OK, but my best guess is the `tag` patch breaks ABI and requires to recompile CouchDB. Will check that latter tonight and push fixed version of both packages.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451549925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451551404","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451551404","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451551404,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTU1MTQwNA==","user":{"login":"produnis","id":1769619,"node_id":"MDQ6VXNlcjE3Njk2MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1769619?v=4","gravatar_id":"","url":"https://api.github.com/users/produnis","html_url":"https://github.com/produnis","followers_url":"https://api.github.com/users/produnis/followers","following_url":"https://api.github.com/users/produnis/following{/other_user}","gists_url":"https://api.github.com/users/produnis/gists{/gist_id}","starred_url":"https://api.github.com/users/produnis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/produnis/subscriptions","organizations_url":"https://api.github.com/users/produnis/orgs","repos_url":"https://api.github.com/users/produnis/repos","events_url":"https://api.github.com/users/produnis/events{/privacy}","received_events_url":"https://api.github.com/users/produnis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T19:55:44Z","updated_at":"2019-01-04T19:55:44Z","author_association":"NONE","body":"Hi Bruno, I uncommented `MemoryDenyWriteExecute=true` in systemd, and now I do **NOT** get any more segfaults...\r\nTHX A LOT!!!!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451551404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451557288","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451557288","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451557288,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTU1NzI4OA==","user":{"login":"produnis","id":1769619,"node_id":"MDQ6VXNlcjE3Njk2MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1769619?v=4","gravatar_id":"","url":"https://api.github.com/users/produnis","html_url":"https://github.com/produnis","followers_url":"https://api.github.com/users/produnis/followers","following_url":"https://api.github.com/users/produnis/following{/other_user}","gists_url":"https://api.github.com/users/produnis/gists{/gist_id}","starred_url":"https://api.github.com/users/produnis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/produnis/subscriptions","organizations_url":"https://api.github.com/users/produnis/orgs","repos_url":"https://api.github.com/users/produnis/repos","events_url":"https://api.github.com/users/produnis/events{/privacy}","received_events_url":"https://api.github.com/users/produnis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T20:19:58Z","updated_at":"2019-01-04T20:19:58Z","author_association":"NONE","body":"On my server, I installed version 0.7, and I edited `couchdb.service`, and restarted everything, and on this server I get` {os_process_error,{exit_status,1}}`, like you.\r\n\r\nOn my desktop machine, after editing  `couchdb.service`, couchdb runs just fine without errors...\r\n\r\nBoth machines have the same arch-install... I don't know why my desktop runs just fine while my server is still throwing an error...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451557288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451558006","html_url":"https://github.com/apache/couchdb/issues/1832#issuecomment-451558006","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1832","id":451558006,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTU1ODAwNg==","user":{"login":"produnis","id":1769619,"node_id":"MDQ6VXNlcjE3Njk2MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1769619?v=4","gravatar_id":"","url":"https://api.github.com/users/produnis","html_url":"https://github.com/produnis","followers_url":"https://api.github.com/users/produnis/followers","following_url":"https://api.github.com/users/produnis/following{/other_user}","gists_url":"https://api.github.com/users/produnis/gists{/gist_id}","starred_url":"https://api.github.com/users/produnis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/produnis/subscriptions","organizations_url":"https://api.github.com/users/produnis/orgs","repos_url":"https://api.github.com/users/produnis/repos","events_url":"https://api.github.com/users/produnis/events{/privacy}","received_events_url":"https://api.github.com/users/produnis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T20:22:47Z","updated_at":"2019-01-04T20:22:47Z","author_association":"NONE","body":"I downgraded my server to `js185-version5` (as in repo), and now `error 1 `is gone, too, and everything runs smooth...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/451558006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]