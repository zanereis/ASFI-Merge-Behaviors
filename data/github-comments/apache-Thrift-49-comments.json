[{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670445558","html_url":"https://github.com/apache/thrift/pull/2197#issuecomment-670445558","issue_url":"https://api.github.com/repos/apache/thrift/issues/2197","id":670445558,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDQ0NTU1OA==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T10:18:49Z","updated_at":"2020-08-07T10:19:01Z","author_association":"CONTRIBUTOR","body":"Hi @zeshuai007 \r\n\r\n>  SSL3.0 is abandoned\r\n\r\nThat's a good update.\r\n\r\n> and TLS1.3+TLS1.2 is used by default. However, the Java server uses TLS1.2 by default and does not support TLS1.3.\r\n\r\nThis gives me doubt about whether the root cause was identified correctly and precisely. TLS protocol, just like every other good protocol, has versions, and allows both the client and the server to support multiple versions. As long as the Java server speaks TLS1.2, any client which speaks TLS1.2 should be able to connect — regardless of TLS1.3.\r\n\r\n> The Erlang community released OTP-23 in May this year.\r\n\r\nBTW, last successful build of `master` on Travis is **7 months** old. I am in doubt whether Erlang update is really relevant. But I understand that it certainly makes finding the real root cause more complicated.\r\n\r\n> It may be set to OTP-22.\r\n\r\nThat's not a good idea. It will only entrench the stagnation and multiply the effort to update for the next engineer.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670445558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813116","html_url":"https://github.com/apache/thrift/pull/2169#issuecomment-670813116","issue_url":"https://api.github.com/repos/apache/thrift/issues/2169","id":670813116,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgxMzExNg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T02:52:09Z","updated_at":"2020-08-08T02:52:09Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813118","html_url":"https://github.com/apache/thrift/pull/2171#issuecomment-670813118","issue_url":"https://api.github.com/repos/apache/thrift/issues/2171","id":670813118,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgxMzExOA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T02:52:10Z","updated_at":"2020-08-08T02:52:10Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813119","html_url":"https://github.com/apache/thrift/pull/2163#issuecomment-670813119","issue_url":"https://api.github.com/repos/apache/thrift/issues/2163","id":670813119,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgxMzExOQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T02:52:11Z","updated_at":"2020-08-08T02:52:11Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813120","html_url":"https://github.com/apache/thrift/pull/2156#issuecomment-670813120","issue_url":"https://api.github.com/repos/apache/thrift/issues/2156","id":670813120,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgxMzEyMA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T02:52:12Z","updated_at":"2020-08-08T02:52:12Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813121","html_url":"https://github.com/apache/thrift/pull/2170#issuecomment-670813121","issue_url":"https://api.github.com/repos/apache/thrift/issues/2170","id":670813121,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgxMzEyMQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T02:52:13Z","updated_at":"2020-08-08T02:52:13Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813135","html_url":"https://github.com/apache/thrift/pull/2037#issuecomment-670813135","issue_url":"https://api.github.com/repos/apache/thrift/issues/2037","id":670813135,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgxMzEzNQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T02:52:21Z","updated_at":"2020-08-08T02:52:21Z","author_association":"NONE","body":"This issue has been automatically closed due to inactivity. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670813135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670834430","html_url":"https://github.com/apache/thrift/pull/2164#issuecomment-670834430","issue_url":"https://api.github.com/repos/apache/thrift/issues/2164","id":670834430,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgzNDQzMA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T06:49:54Z","updated_at":"2020-08-08T06:49:54Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670834430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670834431","html_url":"https://github.com/apache/thrift/pull/2158#issuecomment-670834431","issue_url":"https://api.github.com/repos/apache/thrift/issues/2158","id":670834431,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgzNDQzMQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T06:49:55Z","updated_at":"2020-08-08T06:49:55Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670834431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670852020","html_url":"https://github.com/apache/thrift/pull/2158#issuecomment-670852020","issue_url":"https://api.github.com/repos/apache/thrift/issues/2158","id":670852020,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDg1MjAyMA==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T09:46:15Z","updated_at":"2020-08-08T09:46:15Z","author_association":"CONTRIBUTOR","body":"This PR is ready for merge. @stale undo","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670852020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670852024","html_url":"https://github.com/apache/thrift/pull/2158#issuecomment-670852024","issue_url":"https://api.github.com/repos/apache/thrift/issues/2158","id":670852024,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDg1MjAyNA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T09:46:17Z","updated_at":"2020-08-08T09:46:17Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670852024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670852333","html_url":"https://github.com/apache/thrift/pull/2016#issuecomment-670852333","issue_url":"https://api.github.com/repos/apache/thrift/issues/2016","id":670852333,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDg1MjMzMw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T09:49:46Z","updated_at":"2020-08-08T09:49:46Z","author_association":"NONE","body":"This issue has been automatically closed due to inactivity. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670852333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670852637","html_url":"https://github.com/apache/thrift/pull/2164#issuecomment-670852637","issue_url":"https://api.github.com/repos/apache/thrift/issues/2164","id":670852637,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDg1MjYzNw==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T09:53:35Z","updated_at":"2020-08-08T09:53:35Z","author_association":"CONTRIBUTOR","body":"#2158 and #2164 (this PR) are the exact same patch proposed by different people. One should be merged, and the other just closed. @stale keep both alive.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670852637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670852641","html_url":"https://github.com/apache/thrift/pull/2164#issuecomment-670852641","issue_url":"https://api.github.com/repos/apache/thrift/issues/2164","id":670852641,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDg1MjY0MQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T09:53:37Z","updated_at":"2020-08-08T09:53:37Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/670852641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/671082263","html_url":"https://github.com/apache/thrift/pull/2197#issuecomment-671082263","issue_url":"https://api.github.com/repos/apache/thrift/issues/2197","id":671082263,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTA4MjI2Mw==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-09T17:57:19Z","updated_at":"2020-08-09T17:57:19Z","author_association":"CONTRIBUTOR","body":"Whew, what a ride! Diving into Erlang is joy.\r\n\r\nI did a bit of testing on this... Except for the fiddly setup and a few deprecation-updates needed, the Erlang library looks mostly functional. All unit-tests under `lib/erl/test` pass (well, after you've had enough fun with the setup required to run them).\r\n\r\nI also run the Erlang client on **OTP 23** against some implementations, including the Java server from the cross-test suite. Findings:\r\n * The Erlang client does connect to `openssl s_server` using TLS1.2.\r\n * The Erlang client does connect to `openssl s_server` using TLS1.3.\r\n * The Erlang client does connect to `openssl s_server` using TLS1.2 with client cert required (`-Verify 2`).\r\n * The Erlang client does connect to `openssl s_server` using TLS1.3 with client cert required (`-Verify 2`).\r\n * The Erlang client **does not** connect to `socat - openssl-listen:9008,cert=test/keys/server.pem,cafile=test/keys/CA.pem` despite using the very same OpenSSL; error produced:\r\n\r\n       socat[1847925] E SSL_accept(): error:1417C086:SSL routines:tls_process_client_certificate:certificate verify failed\r\n\r\n   I tend to think it's a bug in how `socat` instructs the openssl API to verify client certs. Didn't investigate this deeper.\r\n\r\n * The Java cross-test server [on git master] claims to only support **TLS1.3**: \r\n ![image](https://user-images.githubusercontent.com/365338/89737620-e9b46380-da7a-11ea-9ebe-3829262c2c51.png)\r\n\r\n   Which is [really really weird](https://blog.cloudflare.com/why-tls-1-3-isnt-in-browsers-yet/). I'm not sure this is intentional. Somebody needs to check this. @zeshuai007 please see above; bytes on the wire directly contradict your claim *\"the Java server uses TLS1.2 by default and does not support TLS1.3\"*. It shows the opposite: TLS1.3 *only* is advertised by the Java server. I'm running `openjdk version \"11.0.8\" 2020-07-14`.\r\n\r\n * You can run a section of the Thrift cross-test suite (a.k.a. \"Apache Thrift - Integration Test Suite\") directly:\r\n\r\n       ./test.py --server java --client erl --regex ip-ssl\r\n   \r\n    This runs in ~20 seconds. Still way faster than waiting many basketball games for Travis to run it. :wink: \r\n\r\n * Finally: the TLS 1.3 connection from Erlang client to Java server **does not** go well indeed. Here's a debug dump from Erlang side: [java-erl-tls1.3_client.log](https://github.com/apache/thrift/files/5048136/java-erl_binary_buffered-ip-ssl_client.log). It appears that the Java server is doing something that makes the Erlang client crash :/\r\n\r\n    Anyhow, **all tests pass** if I restrict Erlang to only TLS 1.2 & TLS 1.1:\r\n    ```\r\n    ulidtko@pasocon ~/s/t/test (master)> ./test.py --server java --client erl\r\n    Apache Thrift - Integration Test Suite\r\n    Sun Aug 09 20:37:26 2020\r\n    ===============================================================================\r\n    server-client:          protocol:         transport:               result:\r\n    java-erl                binary            buffered-ip              success\r\n    java-erl                binary            fastframed-framed-ip     success\r\n    java-erl                binary            framed-ip                success\r\n    java-erl                binary            fastframed-framed-ip-ssl success\r\n    java-erl                binary            framed-ip-ssl            success\r\n    java-erl                binary            buffered-ip-ssl          success\r\n    java-erl                multic-compact    framed-ip                success\r\n    java-erl                multic-compact    buffered-ip              success\r\n    java-erl                multic-compact    framed-ip-ssl            success\r\n    java-erl                multic-compact    buffered-ip-ssl          success\r\n    java-erl                multic-compact    fastframed-framed-ip     success\r\n    java-erl                multic-compact    fastframed-framed-ip-ssl success\r\n    java-erl                multi-binary      framed-ip                success\r\n    java-erl                multi-binary      buffered-ip              success\r\n    java-erl                multi-binary      fastframed-framed-ip     success\r\n    java-erl                multi-binary      framed-ip-ssl            success\r\n    java-erl                multi-binary      buffered-ip-ssl          success\r\n    java-erl                multi-binary      fastframed-framed-ip-ssl success\r\n    java-erl                compact           framed-ip                success\r\n    java-erl                compact           framed-ip-ssl            success\r\n    java-erl                compact           buffered-ip              success\r\n    java-erl                compact           fastframed-framed-ip     success\r\n    java-erl                compact           buffered-ip-ssl          success\r\n    java-erl                compact           fastframed-framed-ip-ssl success\r\n    ===============================================================================\r\n    No unexpected failures.\r\n    ```\r\n    ... Which is be done by passing `-ssl protocol_version \"['tlsv1.2', 'tlsv1.1']\"` to the `erl` invocation.\r\n\r\n---------------------\r\n\r\nAmusingly, the very same Java server which says it only speaks TLS1.3 to TLS1.3 clients — suddenly starts talking TLS1.2 just fine, to a non-tls13 client. What a mess!","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/671082263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/671673004","html_url":"https://github.com/apache/thrift/pull/2197#issuecomment-671673004","issue_url":"https://api.github.com/repos/apache/thrift/issues/2197","id":671673004,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY3MzAwNA==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T01:33:42Z","updated_at":"2020-08-11T01:34:18Z","author_association":"MEMBER","body":"Hi @ulidtko \r\nI'm not sure whether this is a new issue. \r\nThe Java8 server supports only TLS1.2. When negotiating with the Erlang client over the TLS protocol, the Java8 server does not support TLS1.3. I think we should revert to the actual scenario because JDK8 was used in the Travis-ci integration test. Can you use JDK8 to retest it? \r\n\r\nCheers, \r\nZezeng Wang ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/671673004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/671806409","html_url":"https://github.com/apache/thrift/pull/2160#issuecomment-671806409","issue_url":"https://api.github.com/repos/apache/thrift/issues/2160","id":671806409,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTgwNjQwOQ==","user":{"login":"sveneld","id":4028769,"node_id":"MDQ6VXNlcjQwMjg3Njk=","avatar_url":"https://avatars.githubusercontent.com/u/4028769?v=4","gravatar_id":"","url":"https://api.github.com/users/sveneld","html_url":"https://github.com/sveneld","followers_url":"https://api.github.com/users/sveneld/followers","following_url":"https://api.github.com/users/sveneld/following{/other_user}","gists_url":"https://api.github.com/users/sveneld/gists{/gist_id}","starred_url":"https://api.github.com/users/sveneld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveneld/subscriptions","organizations_url":"https://api.github.com/users/sveneld/orgs","repos_url":"https://api.github.com/users/sveneld/repos","events_url":"https://api.github.com/users/sveneld/events{/privacy}","received_events_url":"https://api.github.com/users/sveneld/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T08:25:52Z","updated_at":"2020-08-11T08:25:52Z","author_association":"CONTRIBUTOR","body":"@Jens-G it's enough for merging pull request?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/671806409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/672225995","html_url":"https://github.com/apache/thrift/pull/2197#issuecomment-672225995","issue_url":"https://api.github.com/repos/apache/thrift/issues/2197","id":672225995,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjIyNTk5NQ==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T19:39:53Z","updated_at":"2020-08-11T19:39:53Z","author_association":"CONTRIBUTOR","body":"Hi @zeshuai007 — well, that totally makes sense.\r\n\r\nI retested with Java 8 (OpenJDK as before).\r\n\r\nThe result with Java8 (for `test.py --server java --client erl` only) is **success of all tests** for me. Both with TLS1.3 allowed and disallowed for the Erlang client — the java server doesn't offer TLS1.3, exactly as you say; so it just negotiates down to TLS1.2, and all proceeds well from there.\r\n\r\nWhich is a puzzling result. I remember seeing this failure on Travis — but can no longer find any build exhibiting it. Do you perhaps have a link to such a build on Travis?\r\n\r\nI did found [one](https://travis-ci.org/github/apache/thrift/jobs/665484688) from March 22, which has reached running the `cross` step — and had passed all of it (log line 21337 onwards). Notice (log line 13268) that it used Java 11!\r\n\r\nThat confused me at first, since Java11 + Erlang23 = TLS1.3 = broken according to my testing, should not have passed — but as you mention, Erlang/OTP 23 was only released in May, later than the build I linked.\r\n\r\nWhat makes you think that Java 8 is in use? Can you find a failed build with Java 8 on Travis?\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/672225995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/673721487","html_url":"https://github.com/apache/thrift/pull/1993#issuecomment-673721487","issue_url":"https://api.github.com/repos/apache/thrift/issues/1993","id":673721487,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzcyMTQ4Nw==","user":{"login":"kevinsookocheff-wf","id":14183231,"node_id":"MDQ6VXNlcjE0MTgzMjMx","avatar_url":"https://avatars.githubusercontent.com/u/14183231?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinsookocheff-wf","html_url":"https://github.com/kevinsookocheff-wf","followers_url":"https://api.github.com/users/kevinsookocheff-wf/followers","following_url":"https://api.github.com/users/kevinsookocheff-wf/following{/other_user}","gists_url":"https://api.github.com/users/kevinsookocheff-wf/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinsookocheff-wf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinsookocheff-wf/subscriptions","organizations_url":"https://api.github.com/users/kevinsookocheff-wf/orgs","repos_url":"https://api.github.com/users/kevinsookocheff-wf/repos","events_url":"https://api.github.com/users/kevinsookocheff-wf/events{/privacy}","received_events_url":"https://api.github.com/users/kevinsookocheff-wf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T21:33:21Z","updated_at":"2020-08-13T21:33:21Z","author_association":"NONE","body":"Is it possible to get this branch released?  This fix is currently unavailable for anyone still on the popular 0.9.3 release.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/673721487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674022339","html_url":"https://github.com/apache/thrift/pull/2197#issuecomment-674022339","issue_url":"https://api.github.com/repos/apache/thrift/issues/2197","id":674022339,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDAyMjMzOQ==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T11:08:27Z","updated_at":"2020-08-14T11:08:27Z","author_association":"CONTRIBUTOR","body":"Just to keep track of things:\r\n * I minimized the TLS 1.3 handshake failure against Java 11 — filed as https://bugs.erlang.org/browse/ERL-1331\r\n * The issue can be temporarily worked around by adding `\"-ssl\", \"protocol_version\", \"['tlsv1.2', 'tlsv1.1']\",` to the Erlang client commandline in `tests.json` — this disables TLS1.3 on Erlang side and then all `java-erl` cross-tests pass.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674022339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674168678","html_url":"https://github.com/apache/thrift/pull/2007#issuecomment-674168678","issue_url":"https://api.github.com/repos/apache/thrift/issues/2007","id":674168678,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDE2ODY3OA==","user":{"login":"cfriedt","id":983494,"node_id":"MDQ6VXNlcjk4MzQ5NA==","avatar_url":"https://avatars.githubusercontent.com/u/983494?v=4","gravatar_id":"","url":"https://api.github.com/users/cfriedt","html_url":"https://github.com/cfriedt","followers_url":"https://api.github.com/users/cfriedt/followers","following_url":"https://api.github.com/users/cfriedt/following{/other_user}","gists_url":"https://api.github.com/users/cfriedt/gists{/gist_id}","starred_url":"https://api.github.com/users/cfriedt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfriedt/subscriptions","organizations_url":"https://api.github.com/users/cfriedt/orgs","repos_url":"https://api.github.com/users/cfriedt/repos","events_url":"https://api.github.com/users/cfriedt/events{/privacy}","received_events_url":"https://api.github.com/users/cfriedt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T16:58:12Z","updated_at":"2020-08-14T16:59:15Z","author_association":"CONTRIBUTOR","body":"@Jens-G - will this be merged soon? I'm curious about the unrelated tests failing. Is there a stable commit that I could rebase from?\r\n\r\nI'd be happy to make additional changes if required.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674168678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344751","html_url":"https://github.com/apache/thrift/pull/1996#issuecomment-674344751","issue_url":"https://api.github.com/repos/apache/thrift/issues/1996","id":674344751,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDM0NDc1MQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T03:59:38Z","updated_at":"2020-08-15T03:59:38Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344760","html_url":"https://github.com/apache/thrift/pull/2156#issuecomment-674344760","issue_url":"https://api.github.com/repos/apache/thrift/issues/2156","id":674344760,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDM0NDc2MA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T03:59:41Z","updated_at":"2020-08-15T03:59:41Z","author_association":"NONE","body":"This issue has been automatically closed due to inactivity. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344762","html_url":"https://github.com/apache/thrift/pull/2170#issuecomment-674344762","issue_url":"https://api.github.com/repos/apache/thrift/issues/2170","id":674344762,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDM0NDc2Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T03:59:42Z","updated_at":"2020-08-15T03:59:42Z","author_association":"NONE","body":"This issue has been automatically closed due to inactivity. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344764","html_url":"https://github.com/apache/thrift/pull/2163#issuecomment-674344764","issue_url":"https://api.github.com/repos/apache/thrift/issues/2163","id":674344764,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDM0NDc2NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T03:59:43Z","updated_at":"2020-08-15T03:59:43Z","author_association":"NONE","body":"This issue has been automatically closed due to inactivity. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344768","html_url":"https://github.com/apache/thrift/pull/2169#issuecomment-674344768","issue_url":"https://api.github.com/repos/apache/thrift/issues/2169","id":674344768,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDM0NDc2OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T03:59:44Z","updated_at":"2020-08-15T03:59:44Z","author_association":"NONE","body":"This issue has been automatically closed due to inactivity. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344771","html_url":"https://github.com/apache/thrift/pull/2171#issuecomment-674344771","issue_url":"https://api.github.com/repos/apache/thrift/issues/2171","id":674344771,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDM0NDc3MQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T03:59:45Z","updated_at":"2020-08-15T03:59:45Z","author_association":"NONE","body":"This issue has been automatically closed due to inactivity. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674344771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674345204","html_url":"https://github.com/apache/thrift/pull/2197#issuecomment-674345204","issue_url":"https://api.github.com/repos/apache/thrift/issues/2197","id":674345204,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDM0NTIwNA==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T04:04:16Z","updated_at":"2020-08-15T04:04:16Z","author_association":"MEMBER","body":"Hi @ulidtko   \r\n\r\nI didn't investigate the CORSS run you found on March 22, but in all the compilation builds on Travis, I compared the last successful run log of erlang22 jobs to the last failed run log of erlang23, so I'm sure, this problem is caused by the upgrade to erlang23. \r\nTravis-CI: \r\nerlang22 - Last successful ([build#6701](https://travis-ci.org/github/apache/thrift/builds/692484717)) \r\nhttps://travis-ci.org/github/apache/thrift/jobs/692484722 \r\nerlang23 - First execution failed ([build#6702](https://travis-ci.org/github/apache/thrift/builds/692597055 )) \r\nhttps://travis-ci.org/github/apache/thrift/jobs/692597058 \r\nNote that log line 13101 uses jdk11, and JAVA_HOME set in log line 12340 is java-8-oracle (Java JVM running environment, so I think Java8 is used actually). \r\nTherefore, erlang-client uses TLS1.3 (Erlang23 supports two TLS versions, which seems to be a feature of the new Erlang version) and Java-server (JDK11/TLS1.3) / (JDK8/TLS1.2). \r\nThank you for your work. If there is no better solution, setting up TLS1.2+TLS1.1 temporarily will look great as setting up Erlang22, but it will require two or more post-maintenance. I saw the ticket you submitted in Erlang, and I look forward to the Erlang expert's investigation. \r\nI have plans to learn Erlang recently, and unfortunately for some reason I'm focusing on C, but I'll be back. \r\n\r\nCheers, \r\nZezeng Wang ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674345204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674489456","html_url":"https://github.com/apache/thrift/pull/2159#issuecomment-674489456","issue_url":"https://api.github.com/repos/apache/thrift/issues/2159","id":674489456,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQ4OTQ1Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T07:06:01Z","updated_at":"2020-08-16T07:06:01Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674489456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674509722","html_url":"https://github.com/apache/thrift/pull/1996#issuecomment-674509722","issue_url":"https://api.github.com/repos/apache/thrift/issues/1996","id":674509722,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDUwOTcyMg==","user":{"login":"cfriedt","id":983494,"node_id":"MDQ6VXNlcjk4MzQ5NA==","avatar_url":"https://avatars.githubusercontent.com/u/983494?v=4","gravatar_id":"","url":"https://api.github.com/users/cfriedt","html_url":"https://github.com/cfriedt","followers_url":"https://api.github.com/users/cfriedt/followers","following_url":"https://api.github.com/users/cfriedt/following{/other_user}","gists_url":"https://api.github.com/users/cfriedt/gists{/gist_id}","starred_url":"https://api.github.com/users/cfriedt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfriedt/subscriptions","organizations_url":"https://api.github.com/users/cfriedt/orgs","repos_url":"https://api.github.com/users/cfriedt/repos","events_url":"https://api.github.com/users/cfriedt/events{/privacy}","received_events_url":"https://api.github.com/users/cfriedt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T10:34:43Z","updated_at":"2020-08-16T10:34:43Z","author_association":"CONTRIBUTOR","body":"I should rebase again. So swamped atm","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674509722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674509727","html_url":"https://github.com/apache/thrift/pull/1996#issuecomment-674509727","issue_url":"https://api.github.com/repos/apache/thrift/issues/1996","id":674509727,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDUwOTcyNw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T10:34:45Z","updated_at":"2020-08-16T10:34:45Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/674509727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/675363638","html_url":"https://github.com/apache/thrift/pull/2197#issuecomment-675363638","issue_url":"https://api.github.com/repos/apache/thrift/issues/2197","id":675363638,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTM2MzYzOA==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T09:15:50Z","updated_at":"2020-08-18T09:15:50Z","author_association":"CONTRIBUTOR","body":"> JAVA_HOME set in log line 12340 is java-8-oracle\r\n\r\nOkay, I understand now. Let me convince you that this is noise and Java8 is not actually used. Two reasons:\r\n * This line 12340 is part of output from `printenv | sort` from `build/docker/run.sh`: it shows the `JAVA_HOME` environment variable set **outside** the Docker container. It's not existing *inside* the container where `./configure` and tests run.\r\n * If it was — we'd see *Oracle* JDK 8, not OpenJDK, in the output of `./configure` (line 13101).\r\n\r\nI'm glad to collaborate for the public good and for safe and sustainable future of technology. Thanks for your responses, effort and friendliness in this space, Zezeng Wang, this is deeply appreciated.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/675363638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/675805857","html_url":"https://github.com/apache/thrift/pull/2211#issuecomment-675805857","issue_url":"https://api.github.com/repos/apache/thrift/issues/2211","id":675805857,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTgwNTg1Nw==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T01:53:41Z","updated_at":"2020-08-19T01:53:41Z","author_association":"MEMBER","body":"// Verify that we can actually read from the remote host\r\n  if (mode & WAIT_MODE_C && FD_ISSET(*sock, &rfds) &&\r\n      recv(*sock, (char*) &rfds, 0, 0) != 0) {\r\n    return errno;\r\n  }\r\nAfter testing, it seems that only the socket_acceptfunction will fail in this judgment. Is it better to only let the socket_accept function not enter this judgment?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/675805857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/675829636","html_url":"https://github.com/apache/thrift/pull/2211#issuecomment-675829636","issue_url":"https://api.github.com/repos/apache/thrift/issues/2211","id":675829636,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTgyOTYzNg==","user":{"login":"longzhiri","id":1538781,"node_id":"MDQ6VXNlcjE1Mzg3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1538781?v=4","gravatar_id":"","url":"https://api.github.com/users/longzhiri","html_url":"https://github.com/longzhiri","followers_url":"https://api.github.com/users/longzhiri/followers","following_url":"https://api.github.com/users/longzhiri/following{/other_user}","gists_url":"https://api.github.com/users/longzhiri/gists{/gist_id}","starred_url":"https://api.github.com/users/longzhiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/longzhiri/subscriptions","organizations_url":"https://api.github.com/users/longzhiri/orgs","repos_url":"https://api.github.com/users/longzhiri/repos","events_url":"https://api.github.com/users/longzhiri/events{/privacy}","received_events_url":"https://api.github.com/users/longzhiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T03:26:18Z","updated_at":"2020-08-19T03:26:18Z","author_association":"CONTRIBUTOR","body":"The select() system call returns success already indicating read()/write()/accpet() is ready, there is no need to call recv() to verify. Non-blocking connect() is an exception, after checking for writability  with select(), you should also check for the socket errors. As man 2 connect says:\r\n```bash\r\n EINPROGRESS\r\n              The  socket is nonblocking and the connection cannot be completed immediately.  It is possible to select(2) or poll(2) for completion by selecting the socket for writing.\r\n              After select(2) indicates writability, use getsockopt(2) to read the SO_ERROR option at level SOL_SOCKET to determine whether connect() completed  successfully  (SO_ERROR\r\n              is zero) or unsuccessfully (SO_ERROR is one of the usual error codes listed here, explaining the reason for the failure).\r\n```","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/675829636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/675892072","html_url":"https://github.com/apache/thrift/pull/2211#issuecomment-675892072","issue_url":"https://api.github.com/repos/apache/thrift/issues/2211","id":675892072,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTg5MjA3Mg==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T07:02:33Z","updated_at":"2020-08-19T07:02:33Z","author_association":"MEMBER","body":"Oh,I see.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/675892072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/677305263","html_url":"https://github.com/apache/thrift/pull/2159#issuecomment-677305263","issue_url":"https://api.github.com/repos/apache/thrift/issues/2159","id":677305263,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzMwNTI2Mw==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T06:37:27Z","updated_at":"2020-08-20T06:37:27Z","author_association":"MEMBER","body":".","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/677305263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/677305354","html_url":"https://github.com/apache/thrift/pull/2159#issuecomment-677305354","issue_url":"https://api.github.com/repos/apache/thrift/issues/2159","id":677305354,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzMwNTM1NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T06:37:29Z","updated_at":"2020-08-20T06:37:29Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/677305354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/677308113","html_url":"https://github.com/apache/thrift/pull/2158#issuecomment-677308113","issue_url":"https://api.github.com/repos/apache/thrift/issues/2158","id":677308113,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NzMwODExMw==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T06:38:24Z","updated_at":"2020-08-20T06:38:24Z","author_association":"MEMBER","body":".\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/677308113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/678685534","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-678685534","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":678685534,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODY4NTUzNA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-22T19:53:47Z","updated_at":"2020-08-22T19:53:47Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/678685534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/678685538","html_url":"https://github.com/apache/thrift/pull/1953#issuecomment-678685538","issue_url":"https://api.github.com/repos/apache/thrift/issues/1953","id":678685538,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODY4NTUzOA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-22T19:53:48Z","updated_at":"2020-08-22T19:53:48Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/678685538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/678743472","html_url":"https://github.com/apache/thrift/pull/1953#issuecomment-678743472","issue_url":"https://api.github.com/repos/apache/thrift/issues/1953","id":678743472,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODc0MzQ3Mg==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-23T08:04:55Z","updated_at":"2020-08-23T08:04:55Z","author_association":"MEMBER","body":".","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/678743472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/678743474","html_url":"https://github.com/apache/thrift/pull/1953#issuecomment-678743474","issue_url":"https://api.github.com/repos/apache/thrift/issues/1953","id":678743474,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODc0MzQ3NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-23T08:04:57Z","updated_at":"2020-08-23T08:04:57Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/678743474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/678926298","html_url":"https://github.com/apache/thrift/pull/2220#issuecomment-678926298","issue_url":"https://api.github.com/repos/apache/thrift/issues/2220","id":678926298,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODkyNjI5OA==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T06:15:59Z","updated_at":"2020-08-24T06:15:59Z","author_association":"MEMBER","body":"Removing cmake\r\nPackage cmake removed\r\n--2020-08-22 10:30:57--  http://mirror.clarkson.edu/cygwin/x86_64/release/cmake/cmake-3.14.5-1.tar.xz\r\nResolving mirror.clarkson.edu (mirror.clarkson.edu)... 128.153.145.19, 2605:6480:c051:100::1\r\nConnecting to mirror.clarkson.edu (mirror.clarkson.edu)|128.153.145.19|:80... connected.\r\nHTTP request sent, awaiting response... 200 OK\r\nLength: 4858576 (4.6M) [application/octet-stream]\r\nSaving to: ‘cmake-3.14.5-1.tar.xz’\r\n     0K .......... .......... .......... .......... ..........  1%  668K 7s\r\n    50K .......... .......... .......... .......... ..........  2% 1.28M 5s\r\n   100K .......... .......... .......... .......... ..........  3% 45.2M 3s\r\n   150K .......... .......... .......... .......... ..........  4%  123M 3s\r\n   200K .......... .......... .......... .......... ..........  5% 1.29M 3s\r\n   250K .......... .......... .......... .......... ..........  6%  101M 2s\r\n   300K .......... .......... .......... .......... ..........  7%  119M 2s\r\n   350K .......... .......... .......... .......... ..........  8%  149M 2s\r\n   400K .......... .......... .......... .......... ..........  9% 1.35M 2s\r\n   450K .......... .......... .......... .......... .......... 10% 49.3M 2s\r\n   500K .......... .......... .......... .......... .......... 11% 58.1M 1s\r\n   550K .......... .......... .......... .......... .......... 12%  129M 1s\r\n   600K .......... .......... .......... .......... .......... 13%  142M 1s\r\n   650K .......... .......... .......... .......... .......... 14% 1.35M 1s\r\n   700K .......... .......... .......... .......... .......... 15% 37.6M 1s\r\n   750K .......... .......... .......... .......... .......... 16% 67.1M 1s\r\n   800K .......... .......... .......... .......... .......... 17% 83.7M 1s\r\n   850K .......... .......... .......... .......... .......... 18%  146M 1s\r\n   900K .......... .......... .......... .......... .......... 20%  145M 1s\r\n   950K .......... .......... .......... .......... .......... 21% 1.37M 1s\r\n  1000K .......... .......... .......... .......... .......... 22%  114M 1s\r\n  1050K .......... .......... .......... .......... .......... 23%  143M 1s\r\n  1100K .......... .......... .......... .......... .......... 24%  119M 1s\r\n  1150K .......... .......... .......... .......... .......... 25%  144M 1s\r\n  1200K .......... .......... .......... .......... .......... 26%  183M 1s\r\n  1250K .......... .......... .......... .......... .......... 27% 80.1M 1s\r\n  1300K .......... .......... .......... .......... .......... 28%  111M 1s\r\n  1350K .......... .......... .......... .......... .......... 29% 80.3M 1s\r\n  1400K .......... .......... .......... .......... .......... 30% 62.3M 1s\r\n  1450K .......... .......... .......... .......... .......... 31%  130M 1s\r\n  1500K .......... .......... .......... .......... .......... 32% 70.2M 1s\r\n  1550K .......... .......... .......... .......... .......... 33%  168M 1s\r\n  1600K .......... .......... .......... .......... .......... 34%  182M 1s\r\n  1650K .......... .......... .......... .......... .......... 35%  171M 0s\r\n  1700K .......... .......... .......... .......... .......... 36% 1.52M 1s\r\n  1750K .......... .......... .......... .......... .......... 37%  129M 1s\r\n  1800K .......... .......... .......... .......... .......... 38%  141M 0s\r\n  1850K .......... .......... .......... .......... .......... 40% 95.8M 0s\r\n  1900K .......... .......... .......... .......... .......... 41%  173M 0s\r\n  1950K .......... .......... .......... .......... .......... 42%  157M 0s\r\n  2000K .......... .......... .......... .......... .......... 43% 59.5M 0s\r\n  2050K .......... .......... .......... .......... .......... 44%  104M 0s\r\n  2100K .......... .......... .......... .......... .......... 45%  109M 0s\r\n  2150K .......... .......... .......... .......... .......... 46%  147M 0s\r\n  2200K .......... .......... .......... .......... .......... 47% 74.7M 0s\r\n  2250K .......... .......... .......... .......... .......... 48%  635K 0s\r\n  2300K .......... .......... .......... .......... .......... 49% 95.3M 0s\r\n  2350K .......... .......... .......... .......... .......... 50% 85.3M 0s\r\n  2400K .......... .......... .......... .......... .......... 51%  121M 0s\r\n  2450K .......... .......... .......... .......... .......... 52% 1.56M 0s\r\n  2500K .......... .......... .......... .......... .......... 53% 21.1M 0s\r\n  2550K .......... .......... .......... .......... .......... 54%  170M 0s\r\n  2600K .......... .......... .......... .......... .......... 55%  159M 0s\r\n  2650K .......... .......... .......... .......... .......... 56%  150M 0s\r\n  2700K .......... .......... .......... .......... .......... 57%  167M 0s\r\n  2750K .......... .......... .......... .......... .......... 59%  175M 0s\r\n  2800K .......... .......... .......... .......... .......... 60% 47.9M 0s\r\n  2850K .......... .......... .......... .......... .......... 61%  150M 0s\r\n  2900K .......... .......... .......... .......... .......... 62% 99.3M 0s\r\n  2950K .......... .......... .......... .......... .......... 63%  139M 0s\r\n  3000K .......... .......... .......... .......... .......... 64%  147M 0s\r\n  3050K .......... .......... .......... .......... .......... 65%  116M 0s\r\n  3100K .......... .......... .......... .......... .......... 66%  133M 0s\r\n  3150K .......... .......... .......... .......... .......... 67%  152M 0s\r\n  3200K .......... .......... .......... .......... .......... 68%  142M 0s\r\n  3250K .......... .......... .......... .......... .......... 69%  102M 0s\r\n  3300K .......... .......... .......... .......... .......... 70%  101M 0s\r\n  3350K .......... .......... .......... .......... .......... 71%  149M 0s\r\n  3400K .......... .......... .......... .......... .......... 72%  129M 0s\r\n  3450K .......... .......... .......... .......... .......... 73%  127M 0s\r\n  3500K .......... .......... .......... .......... .......... 74%  144M 0s\r\n  3550K .......... .......... .......... .......... .......... 75%  142M 0s\r\n  3600K .......... .......... .......... .......... .......... 76%  166M 0s\r\n  3650K .......... .......... .......... .......... .......... 77%  133M 0s\r\n  3700K .......... .......... .......... .......... .......... 79%  135M 0s\r\n  3750K .......... .......... .......... .......... .......... 80%  140M 0s\r\n  3800K .......... .......... .......... .......... .......... 81%  126M 0s\r\n  3850K .......... .......... .......... .......... .......... 82%  108M 0s\r\n  3900K .......... .......... .......... .......... .......... 83% 88.8M 0s\r\n  3950K .......... .......... .......... .......... .......... 84% 78.0M 0s\r\n  4000K .......... .......... .......... .......... .......... 85%  126M 0s\r\n  4050K .......... .......... .......... .......... .......... 86%  102M 0s\r\n  4100K .......... .......... .......... .......... .......... 87%  117M 0s\r\n  4150K .......... .......... .......... .......... .......... 88%  141M 0s\r\n  4200K .......... .......... .......... .......... .......... 89%  129M 0s\r\n  4250K .......... .......... .......... .......... .......... 90%  151M 0s\r\n  4300K .......... .......... .......... .......... .......... 91%  139M 0s\r\n  4350K .......... .......... .......... .......... .......... 92%  137M 0s\r\n  4400K .......... .......... .......... .......... .......... 93%  131M 0s\r\n  4450K .......... .......... .......... .......... .......... 94%  145M 0s\r\n  4500K .......... .......... .......... .......... .......... 95%  129M 0s\r\n  4550K .......... .......... .......... .......... .......... 96%  170M 0s\r\n  4600K .......... .......... .......... .......... .......... 98% 79.2M 0s\r\n  4650K .......... .......... .......... .......... .......... 99% 95.3M 0s\r\n  4700K .......... .......... .......... .......... ....      100% 93.3M=0.4s\r\n2020-08-22 10:30:58 (10.5 MB/s) - ‘cmake-3.14.5-1.tar.xz’ saved [4858576/4858576]\r\ncmake version 3.14.5\r\n\r\n**It worked.** ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/678926298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/679264346","html_url":"https://github.com/apache/thrift/pull/2160#issuecomment-679264346","issue_url":"https://api.github.com/repos/apache/thrift/issues/2160","id":679264346,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTI2NDM0Ng==","user":{"login":"sveneld","id":4028769,"node_id":"MDQ6VXNlcjQwMjg3Njk=","avatar_url":"https://avatars.githubusercontent.com/u/4028769?v=4","gravatar_id":"","url":"https://api.github.com/users/sveneld","html_url":"https://github.com/sveneld","followers_url":"https://api.github.com/users/sveneld/followers","following_url":"https://api.github.com/users/sveneld/following{/other_user}","gists_url":"https://api.github.com/users/sveneld/gists{/gist_id}","starred_url":"https://api.github.com/users/sveneld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveneld/subscriptions","organizations_url":"https://api.github.com/users/sveneld/orgs","repos_url":"https://api.github.com/users/sveneld/repos","events_url":"https://api.github.com/users/sveneld/events{/privacy}","received_events_url":"https://api.github.com/users/sveneld/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T17:30:40Z","updated_at":"2020-08-24T17:30:40Z","author_association":"CONTRIBUTOR","body":"@Jens-G i need to make something else in this pull request?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/679264346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/679273804","html_url":"https://github.com/apache/thrift/pull/2160#issuecomment-679273804","issue_url":"https://api.github.com/repos/apache/thrift/issues/2160","id":679273804,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTI3MzgwNA==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T17:50:03Z","updated_at":"2020-08-24T17:50:03Z","author_association":"MEMBER","body":"No, will be done shortly.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/679273804/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/680241298","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-680241298","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":680241298,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDI0MTI5OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T20:03:07Z","updated_at":"2020-08-25T20:03:07Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/680241298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/681308722","html_url":"https://github.com/apache/thrift/pull/2221#issuecomment-681308722","issue_url":"https://api.github.com/repos/apache/thrift/issues/2221","id":681308722,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTMwODcyMg==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T02:38:22Z","updated_at":"2020-08-27T02:38:22Z","author_association":"MEMBER","body":"@Jens-G Please review this PR when you are free.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/681308722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/681928544","html_url":"https://github.com/apache/thrift/pull/2197#issuecomment-681928544","issue_url":"https://api.github.com/repos/apache/thrift/issues/2197","id":681928544,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTkyODU0NA==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T12:51:12Z","updated_at":"2020-08-27T12:51:12Z","author_association":"CONTRIBUTOR","body":"Heads up about the [Erlang TLS 1.3 issue][•]:\r\n 1. This is a known bug;\r\n 2. It is already fixed, but isn't released yet;\r\n 3. OTP 23.1 is planned for release in September, and will contain the fix for TLS 1.3;\r\n 4. OTP 24 is planned for release on a yearly timescale, and will contain the fix too.\r\n\r\n[•]: https://bugs.erlang.org/browse/ERL-1331","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/681928544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/683259659","html_url":"https://github.com/apache/thrift/pull/2118#issuecomment-683259659","issue_url":"https://api.github.com/repos/apache/thrift/issues/2118","id":683259659,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzI1OTY1OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T08:49:36Z","updated_at":"2020-08-29T08:49:36Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/683259659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/683264696","html_url":"https://github.com/apache/thrift/pull/2118#issuecomment-683264696","issue_url":"https://api.github.com/repos/apache/thrift/issues/2118","id":683264696,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzI2NDY5Ng==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T09:30:41Z","updated_at":"2020-08-29T09:30:41Z","author_association":"MEMBER","body":".","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/683264696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/683264700","html_url":"https://github.com/apache/thrift/pull/2118#issuecomment-683264700","issue_url":"https://api.github.com/repos/apache/thrift/issues/2118","id":683264700,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzI2NDcwMA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T09:30:43Z","updated_at":"2020-08-29T09:30:43Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/683264700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/683669043","html_url":"https://github.com/apache/thrift/pull/2180#issuecomment-683669043","issue_url":"https://api.github.com/repos/apache/thrift/issues/2180","id":683669043,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzY2OTA0Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T09:23:39Z","updated_at":"2020-08-31T09:23:39Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/683669043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/684022799","html_url":"https://github.com/apache/thrift/pull/2191#issuecomment-684022799","issue_url":"https://api.github.com/repos/apache/thrift/issues/2191","id":684022799,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDAyMjc5OQ==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T20:33:38Z","updated_at":"2020-08-31T20:33:38Z","author_association":"MEMBER","body":"Could you do a rebase? I'd like to look at this PR.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/684022799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/684028029","html_url":"https://github.com/apache/thrift/pull/2215#issuecomment-684028029","issue_url":"https://api.github.com/repos/apache/thrift/issues/2215","id":684028029,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDAyODAyOQ==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T20:43:09Z","updated_at":"2020-08-31T20:43:09Z","author_association":"MEMBER","body":"This needs a rebase","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/684028029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/684494812","html_url":"https://github.com/apache/thrift/pull/2215#issuecomment-684494812","issue_url":"https://api.github.com/repos/apache/thrift/issues/2215","id":684494812,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDQ5NDgxMg==","user":{"login":"longzhiri","id":1538781,"node_id":"MDQ6VXNlcjE1Mzg3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1538781?v=4","gravatar_id":"","url":"https://api.github.com/users/longzhiri","html_url":"https://github.com/longzhiri","followers_url":"https://api.github.com/users/longzhiri/followers","following_url":"https://api.github.com/users/longzhiri/following{/other_user}","gists_url":"https://api.github.com/users/longzhiri/gists{/gist_id}","starred_url":"https://api.github.com/users/longzhiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/longzhiri/subscriptions","organizations_url":"https://api.github.com/users/longzhiri/orgs","repos_url":"https://api.github.com/users/longzhiri/repos","events_url":"https://api.github.com/users/longzhiri/events{/privacy}","received_events_url":"https://api.github.com/users/longzhiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T06:59:44Z","updated_at":"2020-09-01T06:59:44Z","author_association":"CONTRIBUTOR","body":"I found this bug has been fixed in #2014 , this pr can been closed.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/684494812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/684621250","html_url":"https://github.com/apache/thrift/pull/2067#issuecomment-684621250","issue_url":"https://api.github.com/repos/apache/thrift/issues/2067","id":684621250,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDYyMTI1MA==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T09:05:32Z","updated_at":"2020-09-01T09:05:32Z","author_association":"MEMBER","body":".","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/684621250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/685305102","html_url":"https://github.com/apache/thrift/pull/2165#issuecomment-685305102","issue_url":"https://api.github.com/repos/apache/thrift/issues/2165","id":685305102,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTMwNTEwMg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T05:18:29Z","updated_at":"2020-09-02T05:18:29Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/685305102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/685383084","html_url":"https://github.com/apache/thrift/pull/2180#issuecomment-685383084","issue_url":"https://api.github.com/repos/apache/thrift/issues/2180","id":685383084,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTM4MzA4NA==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T07:00:21Z","updated_at":"2020-09-02T07:00:21Z","author_association":"MEMBER","body":"I need a second opinion on this.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/685383084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/685383140","html_url":"https://github.com/apache/thrift/pull/2180#issuecomment-685383140","issue_url":"https://api.github.com/repos/apache/thrift/issues/2180","id":685383140,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTM4MzE0MA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T07:00:23Z","updated_at":"2020-09-02T07:00:23Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/685383140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/686168362","html_url":"https://github.com/apache/thrift/pull/2191#issuecomment-686168362","issue_url":"https://api.github.com/repos/apache/thrift/issues/2191","id":686168362,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjE2ODM2Mg==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T00:58:19Z","updated_at":"2020-09-03T00:58:19Z","author_association":"MEMBER","body":"Done.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/686168362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/686461912","html_url":"https://github.com/apache/thrift/pull/2228#issuecomment-686461912","issue_url":"https://api.github.com/repos/apache/thrift/issues/2228","id":686461912,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjQ2MTkxMg==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T12:41:35Z","updated_at":"2020-09-03T12:41:35Z","author_association":"CONTRIBUTOR","body":"Makes sense in general; but could you add a test demonstrating the bug? That'd also help to prevent future regressions.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/686461912/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/687653229","html_url":"https://github.com/apache/thrift/pull/2049#issuecomment-687653229","issue_url":"https://api.github.com/repos/apache/thrift/issues/2049","id":687653229,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzY1MzIyOQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-05T19:34:44Z","updated_at":"2020-09-05T19:34:44Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/687653229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/687665574","html_url":"https://github.com/apache/thrift/pull/2049#issuecomment-687665574","issue_url":"https://api.github.com/repos/apache/thrift/issues/2049","id":687665574,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzY2NTU3NA==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-05T21:30:28Z","updated_at":"2020-09-05T21:30:28Z","author_association":"MEMBER","body":".","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/687665574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/687665583","html_url":"https://github.com/apache/thrift/pull/2049#issuecomment-687665583","issue_url":"https://api.github.com/repos/apache/thrift/issues/2049","id":687665583,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzY2NTU4Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-05T21:30:31Z","updated_at":"2020-09-05T21:30:31Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/687665583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/688070491","html_url":"https://github.com/apache/thrift/pull/2227#issuecomment-688070491","issue_url":"https://api.github.com/repos/apache/thrift/issues/2227","id":688070491,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODA3MDQ5MQ==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-07T06:37:34Z","updated_at":"2020-09-07T06:37:34Z","author_association":"MEMBER","body":"I found it fixed itself.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/688070491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689563368","html_url":"https://github.com/apache/thrift/pull/2165#issuecomment-689563368","issue_url":"https://api.github.com/repos/apache/thrift/issues/2165","id":689563368,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTU2MzM2OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T13:28:18Z","updated_at":"2020-09-09T13:28:18Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689563368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689565242","html_url":"https://github.com/apache/thrift/pull/2165#issuecomment-689565242","issue_url":"https://api.github.com/repos/apache/thrift/issues/2165","id":689565242,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTU2NTI0Mg==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T13:31:40Z","updated_at":"2020-09-09T13:31:40Z","author_association":"MEMBER","body":"I've rebased on latest master, and added the change to CHANGES.md. Does it look good like this?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689565242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689566620","html_url":"https://github.com/apache/thrift/pull/2164#issuecomment-689566620","issue_url":"https://api.github.com/repos/apache/thrift/issues/2164","id":689566620,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTU2NjYyMA==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T13:34:02Z","updated_at":"2020-09-09T13:34:02Z","author_association":"MEMBER","body":"I've rebased this on latest master. It should go through the CI without problems, keeping fingers crossed!","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689566620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689578656","html_url":"https://github.com/apache/thrift/pull/2230#issuecomment-689578656","issue_url":"https://api.github.com/repos/apache/thrift/issues/2230","id":689578656,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTU3ODY1Ng==","user":{"login":"sveneld","id":4028769,"node_id":"MDQ6VXNlcjQwMjg3Njk=","avatar_url":"https://avatars.githubusercontent.com/u/4028769?v=4","gravatar_id":"","url":"https://api.github.com/users/sveneld","html_url":"https://github.com/sveneld","followers_url":"https://api.github.com/users/sveneld/followers","following_url":"https://api.github.com/users/sveneld/following{/other_user}","gists_url":"https://api.github.com/users/sveneld/gists{/gist_id}","starred_url":"https://api.github.com/users/sveneld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveneld/subscriptions","organizations_url":"https://api.github.com/users/sveneld/orgs","repos_url":"https://api.github.com/users/sveneld/repos","events_url":"https://api.github.com/users/sveneld/events{/privacy}","received_events_url":"https://api.github.com/users/sveneld/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T13:54:15Z","updated_at":"2020-09-09T13:54:15Z","author_association":"CONTRIBUTOR","body":"@Jens-G it's important fix for migrating to php 7.4","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689578656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689582034","html_url":"https://github.com/apache/thrift/pull/2230#issuecomment-689582034","issue_url":"https://api.github.com/repos/apache/thrift/issues/2230","id":689582034,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTU4MjAzNA==","user":{"login":"sveneld","id":4028769,"node_id":"MDQ6VXNlcjQwMjg3Njk=","avatar_url":"https://avatars.githubusercontent.com/u/4028769?v=4","gravatar_id":"","url":"https://api.github.com/users/sveneld","html_url":"https://github.com/sveneld","followers_url":"https://api.github.com/users/sveneld/followers","following_url":"https://api.github.com/users/sveneld/following{/other_user}","gists_url":"https://api.github.com/users/sveneld/gists{/gist_id}","starred_url":"https://api.github.com/users/sveneld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sveneld/subscriptions","organizations_url":"https://api.github.com/users/sveneld/orgs","repos_url":"https://api.github.com/users/sveneld/repos","events_url":"https://api.github.com/users/sveneld/events{/privacy}","received_events_url":"https://api.github.com/users/sveneld/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T13:59:48Z","updated_at":"2020-09-09T13:59:48Z","author_association":"CONTRIBUTOR","body":"@ulidtko please look ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689582034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689588125","html_url":"https://github.com/apache/thrift/pull/2141#issuecomment-689588125","issue_url":"https://api.github.com/repos/apache/thrift/issues/2141","id":689588125,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTU4ODEyNQ==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T14:09:44Z","updated_at":"2020-09-09T14:09:44Z","author_association":"MEMBER","body":"I've just rebased on latest master, please consider for merging.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689588125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689590659","html_url":"https://github.com/apache/thrift/pull/2232#issuecomment-689590659","issue_url":"https://api.github.com/repos/apache/thrift/issues/2232","id":689590659,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTU5MDY1OQ==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T14:13:40Z","updated_at":"2020-09-09T14:13:40Z","author_association":"MEMBER","body":"> LGTM — eventhough, I think, people should pick the `TNonBlockingServer` for multithreaded environments, as it has at least some synchronization and is in general more suitable for threadpools and the like.\r\n\r\nI'm very curious about this! We did not try it yet, was it a simple drop-in replacement for you? It uses libevent, correct? Did you compare it with the new fbthrift c++ server?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689590659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689592088","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689592088","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689592088,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTU5MjA4OA==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T14:15:49Z","updated_at":"2020-09-09T14:15:49Z","author_association":"MEMBER","body":"But `len` is already `path_.size() + 1`, does that not compensate for the null-termination?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689592088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689600917","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689600917","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689600917,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTYwMDkxNw==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T14:29:58Z","updated_at":"2020-09-09T14:29:58Z","author_association":"CONTRIBUTOR","body":"This is going to conflict with #2234 — @deiv would you help with review there?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689600917/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689605217","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689605217","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689605217,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTYwNTIxNw==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T14:36:54Z","updated_at":"2020-09-09T14:42:14Z","author_association":"CONTRIBUTOR","body":"@emmenlau: I think is the other way around:\r\n\r\nThe `path_.size() + 1` adds 1 to compesate for the null termination needed in the \"pathname-based\" unix socket type.\r\n\r\nIf for example, you create an abstract unix socket server in thtift:\r\n```c++\r\n...\r\nnew TServerSocket(\"\\0abstract-socket\");\r\n...\r\n```\r\nSearching for it in '/proc' `cat /proc/net/unix  | grep abstract-', gives:\r\n```bash\r\n... @abstract-socket@\r\n```\r\n\r\nThe last '@' is extra, due to the null char `path_.c_str()`, returns a null terminated string.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689605217/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689610154","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689610154","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689610154,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTYxMDE1NA==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T14:44:51Z","updated_at":"2020-09-09T14:44:51Z","author_association":"CONTRIBUTOR","body":"That actually makes sense. Hmmm...\r\n\r\nBut regardless, I'd not be happy with the patch itself. ` structlen -= sizeof(address.sun_path) - len + 1;` — this approaches the comprehension limit for me (read: *this guy is stupid, doesn't grok the elite `-=-` operator*).\r\n\r\nCould this be solved in a more clear way? Y'know, such that it'd be obviously-correct.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689610154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689614277","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689614277","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689614277,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTYxNDI3Nw==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T14:51:18Z","updated_at":"2020-09-09T14:51:18Z","author_association":"CONTRIBUTOR","body":"@ulidtko \r\n\r\nThe other way to do it, is calculating the len of the string based on the type of socket:\r\n\r\npathname socket: null terminated\r\nabstract socket: not null terminated\r\n\r\nThis lead to an if in some point of the code. I prefer to do an aritmethic operation instead of adding a conditional jump (for a cpu point of view, the arithmethic way will not lead to control hazards).\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689614277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689620808","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689620808","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689620808,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTYyMDgwOA==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:01:01Z","updated_at":"2020-09-09T15:01:01Z","author_association":"CONTRIBUTOR","body":"OK, so we have:\r\n * pathname socket — `'\\0'` is last\r\n * abstract socket — `'\\0'` is first\r\n\r\nThe `.sun_path` length is `path_.size() + 1` in both cases. This needs no `if`-s...\r\n\r\nI mean: the `structlen -= …` line is bad, one needs to think really hard to understand it completely. While the PR needs to change it anyway — why not improve it? The `+ 1` you're adding does fix *the issue*, but makes *the code* worse.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689620808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689625283","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689625283","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689625283,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTYyNTI4Mw==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:08:01Z","updated_at":"2020-09-09T15:08:01Z","author_association":"CONTRIBUTOR","body":"> OK, so we have:\r\n> \r\n> * pathname socket — `'\\0'` is last\r\n> * abstract socket — `'\\0'` is first\r\n> \r\n> The `.sun_path` length is `path_.size() + 1` in both cases. This needs no `if`-s...\r\n> \r\n\r\n* pathname socket — `'\\0'` is last -> we need `path_.size() + 1`\r\n* abstract socket — `'\\0'` is first -> we don't need `path_.size() + 1` (we need only `path_.size() `\r\n\r\nTake into account that, for the `memcpy(address.sun_path, path_.c_str(), len)` thing, we are using `c_str()' that returns an null terminated string \r\n\r\n> I mean: the `structlen -= …` line is bad, one needs to think really hard to understand it completely. While the PR needs to change it anyway — why not improve it? The `+ 1` you're adding does fix _the issue_, but makes _the code_ worse.\r\n\r\nMaybe a comment could do the job ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689625283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689631960","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689631960","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689631960,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTYzMTk2MA==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:18:22Z","updated_at":"2020-09-09T15:18:22Z","author_association":"CONTRIBUTOR","body":"> we need only path_.size() \r\n\r\nso you're saying, this would be correct call?\r\n```\r\nsockaddr_un addr;\r\naddr.sun_family = AF_UNIX;\r\naddr.sun_path[0] = '\\0';\r\naddr.sun_path[1] = 'A';\r\naddr.sun_path[2] = 'B';\r\naddr.sun_path[3] = 'C';\r\n\r\nbind(sockfd, &addr, 3);\r\n//                  ^ here, 3? not 4?\r\n```\r\n\r\n> Maybe a comment could do the job ?\r\n\r\nAs you can see, there's already one. Is it helpful?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689631960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689635143","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689635143","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689635143,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTYzNTE0Mw==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:23:30Z","updated_at":"2020-09-09T15:27:43Z","author_association":"CONTRIBUTOR","body":"> we are using `c_str()' that returns an null terminated string\r\n\r\n`c_str()` does return a null-terminated C string... but the `memcpy` is not copying it into the `sun_path`, due to `memcpy(address.sun_path, path_.c_str(), path_.size());` — `.size()` does not include the last null.\r\n\r\n--------------------\r\n\r\n*edit: sorry I confused this from the other PR. code in master does\r\n```\r\n    size_t len = path_.size() + 1;\r\n    // ...\r\n    memcpy(address.sun_path, path_.c_str(), len);\r\n```\r\nso it's fine.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689635143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689636406","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689636406","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689636406,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTYzNjQwNg==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:25:33Z","updated_at":"2020-09-09T15:25:33Z","author_association":"CONTRIBUTOR","body":"> > we need only path_.size()\r\n> \r\n> so you're saying, this would be correct call?\r\n> \r\n> ```\r\n> sockaddr_un addr;\r\n> addr.sun_family = AF_UNIX;\r\n> addr.sun_path[0] = '\\0';\r\n> addr.sun_path[1] = 'A';\r\n> addr.sun_path[2] = 'B';\r\n> addr.sun_path[3] = 'C';\r\n> \r\n> bind(sockfd, &addr, 3);\r\n> //                  ^ here, 3? not 4?\r\n> ```\r\n\r\nNot, is 4, but when you will do `\"\\0ABC\".size() + 1`, it will gives 5.\r\n\r\n> > Maybe a comment could do the job ?\r\n> \r\n> As you can see, there's already one. Is it helpful?\r\n\r\nThe comment is:\r\n\r\n>       // sun_path is not null-terminated in this case and structlen determines its length\r\n\r\nYes, is helpful, it's give the correct way to do.\r\n\r\nBut the code was not the correct, because it uses the variable `len` that is the length of the string plus the terminating caracter \\0.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689636406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689637601","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689637601","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689637601,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTYzNzYwMQ==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:27:29Z","updated_at":"2020-09-09T15:27:45Z","author_association":"CONTRIBUTOR","body":"> memcpy(address.sun_path, path_.c_str(), path_.size());\r\n\r\nis `memcpy(address.sun_path, path_.c_str(), len)`","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689637601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689641015","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689641015","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689641015,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY0MTAxNQ==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:32:59Z","updated_at":"2020-09-09T15:33:51Z","author_association":"MEMBER","body":"> > memcpy(address.sun_path, path_.c_str(), path_.size());\r\n> \r\n> is `memcpy(address.sun_path, path_.c_str(), len)`\r\n\r\nI think its better to copy only `path_size()` instead of `len` because it avoids copying a char that is not in the original string.\r\n\r\nZero-termination is (better?) handled by the `memset`.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689641015/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689641310","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689641310","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689641310,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY0MTMxMA==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:33:29Z","updated_at":"2020-09-09T15:33:29Z","author_association":"CONTRIBUTOR","body":"> > we are using `c_str()' that returns an null terminated string\r\n> \r\n> `c_str()` does return a null-terminated C string... but the `memcpy` is not copying it into the `sun_path`, due to `memcpy(address.sun_path, path_.c_str(), path_.size());` — `.size()` does not include the last null.\r\n> \r\n> *edit: sorry I confused this from the other PR. code in master does\r\n> \r\n> ```\r\n>     size_t len = path_.size() + 1;\r\n>     // ...\r\n>     memcpy(address.sun_path, path_.c_str(), len);\r\n> ```\r\n> \r\n> so it's fine.\r\n\r\nIt's fine for the pathname socket (len includes the null). For abstract socket id not the correct, we don't need to count the null.But if you prefer to copy an additional char, go ahead. The problem is the size passed in `bind` call.\r\n ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689641310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689643457","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689643457","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689643457,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY0MzQ1Nw==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:36:55Z","updated_at":"2020-09-09T15:36:55Z","author_association":"MEMBER","body":"Let me see if I get everything right:\r\n - From my side, it would be fine to pass the shorter struct length in case of abstract sockets. For me it worked to use the _full_ length, but I think it should be fine to use the shorter length.\r\n - The `memcpy` and `memset` are good for everybody? So we copy only the required bytes but ensure the full struct is zero'ed before use.\r\n\r\nSo the \"only\" challenge is to agree on a good style to compute `structlen`, correct? I personally would prefer something like:\r\n```cpp\r\n#ifdef __linux__\r\n      // sun_path is not null-terminated in this case, and structlen must be shortened to the path size\r\n      structlen = static_cast<socklen_t>(sizeof(address)) - sizeof(address.sun_path) + path_.size();\r\n#else\r\n```","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689643457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689645345","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689645345","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689645345,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY0NTM0NQ==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:39:58Z","updated_at":"2020-09-09T15:41:22Z","author_association":"CONTRIBUTOR","body":"> Let me see if I get everything right:\r\n> \r\n> * From my side, it would be fine to pass the shorter struct length in case of abstract sockets. For me it worked to use the _full_ length, but I think it should be fine to use the shorter length.\r\n> * The `memcpy` and `memset` are good for everybody? So we copy only the required bytes but ensure the full struct is zero'ed before use.\r\n> \r\n\r\nThe `memcpy(address.sun_path, path_.c_str(), path_.size());` is not correct, think that you need always a null terminated string. path.size() return the bytes count in the string, not the null termination.\r\n\r\n> So the \"only\" challenge is to agree on a good style to compute `structlen`, correct? I personally would prefer something like:\r\n> \r\n> ```c++\r\n> #ifdef __linux__\r\n>       // sun_path is not null-terminated in this case, and structlen must be shortened to the path size\r\n>       structlen = static_cast<socklen_t>(sizeof(address)) - sizeof(address.sun_path) + path_.size();\r\n> #else\r\n> ```\r\n\r\nThe code need to be fixed in 3 files (not 2). and the code is the same in the 3 files, So better to do a refactoring.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689645345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689647791","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689647791","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689647791,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY0Nzc5MQ==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:44:06Z","updated_at":"2020-09-09T15:44:06Z","author_association":"CONTRIBUTOR","body":"@emmenlau all good as you said, per my understanding.\r\n\r\nI'd update the comment too, maybe like this.\r\n\r\n```C++\r\n#ifdef __linux__\r\n      // sun_path is not null-terminated for abstract sockets, truncate structlen to the path size\r\n      structlen = static_cast<socklen_t>(sizeof(address) - sizeof(address.sun_path) + path_.size());\r\n#else\r\n```\r\nAlso, maybe move the `static_cast<socklen_t>` to the expr top-level, to not mess up integer overflows in the arithmetic.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689647791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689647891","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689647891","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689647891,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY0Nzg5MQ==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:44:17Z","updated_at":"2020-09-09T15:44:17Z","author_association":"CONTRIBUTOR","body":"> > > memcpy(address.sun_path, path_.c_str(), path_.size());\r\n> > \r\n> > \r\n> > is `memcpy(address.sun_path, path_.c_str(), len)`\r\n> \r\n> I think its better to copy only `path_size()` instead of `len` because it avoids copying a char that is not in the original string.\r\n> \r\n> Zero-termination is (better?) handled by the `memset`.\r\n\r\nNot, if the string is the same size in bytes as the 'sockaddr_un.sun_path', you will lack the null terminated string, and posibly getting a memory error.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689647891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689649749","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689649749","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689649749,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY0OTc0OQ==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:47:14Z","updated_at":"2020-09-09T15:47:14Z","author_association":"CONTRIBUTOR","body":"> if the string is the same size in bytes as the 'sockaddr_un.sun_path', you will lack the null terminated string, and posibly getting a memory error.\r\n\r\nThis won't happen, due to\r\n```\r\n    size_t len = path_.size() + 1;\r\n    if (len > sizeof(((sockaddr_un*)nullptr)->sun_path)) {\r\n      ...\r\n      throw TTransportException(...);\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689649749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689651089","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689651089","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689651089,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY1MTA4OQ==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:49:25Z","updated_at":"2020-09-09T15:49:53Z","author_association":"CONTRIBUTOR","body":"> > if the string is the same size in bytes as the 'sockaddr_un.sun_path', you will lack the null terminated string, and posibly getting a memory error.\r\n> \r\n> This won't happen, due to\r\n> \r\n> ```\r\n>     size_t len = path_.size() + 1;\r\n>     if (len > sizeof(((sockaddr_un*)nullptr)->sun_path)) {\r\n>       ...\r\n>       throw TTransportException(...);\r\n>     }\r\n> ```\r\n\r\nIf the path_is for an abstract unix socket, the `size_t len = path_.size() + 1' is not ok, is legal to fill the entire address.sun_path field.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689651089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689652182","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689652182","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689652182,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY1MjE4Mg==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:51:17Z","updated_at":"2020-09-09T15:51:17Z","author_association":"MEMBER","body":"> > > if the string is the same size in bytes as the 'sockaddr_un.sun_path', you will lack the null terminated string, and posibly getting a memory error.\r\n> > \r\n> > \r\n> > This won't happen, due to\r\n> > ```\r\n> >     size_t len = path_.size() + 1;\r\n> >     if (len > sizeof(((sockaddr_un*)nullptr)->sun_path)) {\r\n> >       ...\r\n> >       throw TTransportException(...);\r\n> >     }\r\n> > ```\r\n> \r\n> If the path_is for an abstract unix socket, the `size_t len = path_.size() + 1' is not ok, is legal to fill the entire address.sun_path field.\r\n\r\nBut then copying the zero-termination would write beyond the end of `sockaddr_un.sun_path`. This is why I prefer _not_ to copy the zero-termination.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689652182/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689653546","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689653546","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689653546,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY1MzU0Ng==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:53:26Z","updated_at":"2020-09-09T15:55:44Z","author_association":"CONTRIBUTOR","body":"> > > > if the string is the same size in bytes as the 'sockaddr_un.sun_path', you will lack the null terminated string, and posibly getting a memory error.\r\n> > > \r\n> > > \r\n> > > This won't happen, due to\r\n> > > ```\r\n> > >     size_t len = path_.size() + 1;\r\n> > >     if (len > sizeof(((sockaddr_un*)nullptr)->sun_path)) {\r\n> > >       ...\r\n> > >       throw TTransportException(...);\r\n> > >     }\r\n> > > ```\r\n> > \r\n> > \r\n> > If the path_is for an abstract unix socket, the `size_t len = path_.size() + 1' is not ok, is legal to fill the entire address.sun_path field.\r\n> \r\n> But then copying the zero-termination would write beyond the end of `sockaddr_un.sun_path`. This is why I prefer _not_ to copy the zero-termination.\r\n\r\nIn the case of pathname socket yes, for abstract unix socket is legal, because you don't need to copy the null terminating. is the standard.\r\n\r\nIs simply, the problem is around checking correctly the size and the terminating null; there's no need for zeroing all the struct and lost some useful cpu cycles (but if you are more confident this way ...).\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689653546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689655890","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689655890","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689655890,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY1NTg5MA==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:57:05Z","updated_at":"2020-09-09T15:57:05Z","author_association":"CONTRIBUTOR","body":"> (there's no need for zeroing all the struct)\r\n\r\nDisagreed here. Technically, you're right*, but maintenance-wise and for future-proofing (and not sending stack garbage directly into the kernel — for abstract sockets), it's best to zero it out.\r\n\r\n﻿\r\n﻿\r\n\r\n\r\n﻿\r\n﻿\r\n﻿\r\n﻿\r\n﻿\r\n﻿\r\n﻿\r\n﻿\r\n﻿\r\n﻿\r\n﻿\r\n﻿\r\n\r\n*with conditions","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689655890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689657517","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689657517","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689657517,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY1NzUxNw==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T15:59:40Z","updated_at":"2020-09-09T15:59:40Z","author_association":"CONTRIBUTOR","body":"> > (there's no need for zeroing all the struct)\r\n> \r\n> Disagreed here. Technically, you're right*, but maintenance-wise and for future-proofing (and not sending stack garbage directly into the kernel — for abstract sockets), it's best to zero it out.\r\n> \r\n> ﻿\r\n> ﻿\r\n> \r\n> ﻿\r\n> ﻿\r\n> ﻿\r\n> ﻿\r\n> ﻿\r\n> ﻿\r\n> ﻿\r\n> ﻿\r\n> ﻿\r\n> ﻿\r\n> ﻿\r\n> ﻿\r\n> \r\n> *with conditions\r\n\r\nThe zeros as the manual states, have no special significance, so they are garbage too, so no point here.\r\n\r\nAnd for maintenance point, better to have the correct handling in code, instead of try to fix it, as zeoing something.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689657517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689659076","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689659076","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689659076,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY1OTA3Ng==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T16:02:11Z","updated_at":"2020-09-09T16:02:11Z","author_association":"MEMBER","body":"> (there's no need for zeroing all the struct)\r\n\r\nActually, it sadly _is_ required. See the stackoverflow link from above (and also my own experience). The kernel _may_ use all characters in `sun_path` for the socket name, which can add funny characters if there is random data in the variable. This actually happened to me.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689659076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689661379","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689661379","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689661379,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY2MTM3OQ==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T16:05:43Z","updated_at":"2020-09-09T16:05:43Z","author_association":"CONTRIBUTOR","body":"> > (there's no need for zeroing all the struct)\r\n> \r\n> Actually, it sadly _is_ required. See the stackoverflow link from above (and also my own experience). The kernel _may_ use all characters in `sun_path` for the socket name, which can add funny characters if there is random data in the variable. This actually happened to me.\r\n\r\nWith the correct code handling , (null terminating case ok for pahtname socket, and correct lenght for abstract unix socket) the special caracters will disapear...\r\n\r\nFor me I see zeroing them as an unneed operation, that mask the correct solution that is, better handling of null terminated string. (but c and c++ are always hard),\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689661379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689662859","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689662859","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689662859,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY2Mjg1OQ==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T16:08:09Z","updated_at":"2020-09-09T16:08:09Z","author_association":"MEMBER","body":"> > But then copying the zero-termination would write beyond the end of `sockaddr_un.sun_path`. This is why I prefer _not_ to copy the zero-termination.\r\n> \r\n> In the case of pathname socket yes, for abstract unix socket is legal, because you don't need to copy the null terminating. is the standard.\r\n\r\nBut this is more error-prone and complex than to just zero the full struct, and then copy _only_ `path_.size()` char's, isn't it? The latter proposed approach works for all cases (pathname sockets and abstract sockets), and it supports your suggested use case where the abstract socket uses the full `sun_path` without trailing zero-termination.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689662859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689663413","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689663413","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689663413,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY2MzQxMw==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T16:09:08Z","updated_at":"2020-09-09T16:09:08Z","author_association":"MEMBER","body":"> For me I see zeroing them as an unneed operation, that mask the correct solution that is, better handling of null terminated string. (but c and c++ are always hard),\r\n\r\nOk, lets settle for \"would you be ok to leave the zeroing in place\"? It does not hurt much, if nothing else? :-) ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689663413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689665552","html_url":"https://github.com/apache/thrift/pull/2230#issuecomment-689665552","issue_url":"https://api.github.com/repos/apache/thrift/issues/2230","id":689665552,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY2NTU1Mg==","user":{"login":"chriskapp","id":2505846,"node_id":"MDQ6VXNlcjI1MDU4NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2505846?v=4","gravatar_id":"","url":"https://api.github.com/users/chriskapp","html_url":"https://github.com/chriskapp","followers_url":"https://api.github.com/users/chriskapp/followers","following_url":"https://api.github.com/users/chriskapp/following{/other_user}","gists_url":"https://api.github.com/users/chriskapp/gists{/gist_id}","starred_url":"https://api.github.com/users/chriskapp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chriskapp/subscriptions","organizations_url":"https://api.github.com/users/chriskapp/orgs","repos_url":"https://api.github.com/users/chriskapp/repos","events_url":"https://api.github.com/users/chriskapp/events{/privacy}","received_events_url":"https://api.github.com/users/chriskapp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T16:12:39Z","updated_at":"2020-09-09T16:12:39Z","author_association":"NONE","body":"Great, maybe you want also fix this directly at the TCurlClient s.: https://github.com/apache/thrift/blob/master/lib/php/lib/Transport/TCurlClient.php#L102","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689665552/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]