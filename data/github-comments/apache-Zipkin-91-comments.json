[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491103156","html_url":"https://github.com/openzipkin/zipkin/pull/2502#issuecomment-491103156","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2502","id":491103156,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTEwMzE1Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T23:33:14Z","updated_at":"2019-05-09T23:33:14Z","author_association":"MEMBER","body":"hi. I dont think delaying more is good because it is distracting and\nsubject to drift which effects us more than the minor points mentioned.\n\nsince this is disabled by default and mentioned as experimental I think it\nis better to not let best be the enemy of good.\n\nI will merge this so folks can test it in 2.14. thanks for the help\nchampioning this Craig!\n\nOn Fri, May 10, 2019, 3:35 AM Logic-32 <notifications@github.com> wrote:\n\n> Thanks! If I can't get to the additional feedback tomorrow I'll get to it\n> early next week. Sorry for being sluggish but at least it gives people time\n> to test :)\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/pull/2502#issuecomment-491036886>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV4OKRJOEKWXULY5BPTPUR4GNANCNFSM4HGYQFGQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491103156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491111200","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-491111200","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":491111200,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTExMTIwMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T00:20:16Z","updated_at":"2019-05-10T00:20:16Z","author_association":"MEMBER","body":"fuzz PR https://github.com/apache/incubator-zipkin/pull/2575","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491111200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491115281","html_url":"https://github.com/openzipkin/zipkin/issues/1778#issuecomment-491115281","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1778","id":491115281,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTExNTI4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T00:47:32Z","updated_at":"2019-05-10T00:47:32Z","author_association":"MEMBER","body":"I think this issue is pie in the sky and also wouldn't affect the codebase in this repo.\r\n\r\nI think people close to the codebase here will know there's extensive work vs ticking boxes, for example how and which logs are written, metrics are emitted, what can be supported or extended, how many people can and how close are they to the project. I won't troll by citing numerous examples of projects either not prioritizing things like format parity, data size, or abandonment. Suffice to say either a 3rd party or 1st party clone isn't going to replace this server. If someone wants to (as they always could have), they can write a contrib proxy, make it popular etc, or help other proxies like pitchfork or census.\r\n\r\nMeanwhile, we undersell largely our own server. While we are focused on a lot of things, we've updated this to literally use the same infra as those who left twitter with the experience of the first attempt (finagle -> armeria). We also have numerous works in progress to reduce memory overhead per request and also address things like rate limiting. Duplicating all of this in a new language for the sake of it is expensive. Again folks can, but personally I see no advantage intentionally not improving our server, especially after all the investments we've made.\r\n\r\nSo, basically I agree with @devinsba and @anuraaga .. if there's concrete concern about which JVM should be used, we can address that in docker image. If there are overhead improvements, nothing to stop them happening here. If someone wants to experiment with another agent, there are places to do that including 3rd party repos, personal repos and contrib.\r\n\r\nMeanwhile, this repo is in a different org now, apache. If we did anything else, that would either not be in this org, or a new incubator entry. Suffice to say this issue is out-of-date, even if insightful, so closing.\r\n\r\nThanks to all for the feedback!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491115281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491116655","html_url":"https://github.com/openzipkin/zipkin/issues/1778#issuecomment-491116655","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1778","id":491116655,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTExNjY1NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T00:56:44Z","updated_at":"2019-05-10T00:56:44Z","author_association":"MEMBER","body":"ps folks who want to plug and make popular their alternative servers can add to here. we don't have an entry for census at the moment https://github.com/apache/incubator-zipkin-website/blob/master/pages/extensions_choices.md","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491116655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491146877","html_url":"https://github.com/openzipkin/zipkin/pull/2573#issuecomment-491146877","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2573","id":491146877,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTE0Njg3Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T03:57:01Z","updated_at":"2019-05-10T03:57:01Z","author_association":"MEMBER","body":"ok fixed some memory overhead","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491146877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491149875","html_url":"https://github.com/openzipkin/zipkin/pull/2573#issuecomment-491149875","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2573","id":491149875,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTE0OTg3NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T04:18:50Z","updated_at":"2019-05-10T04:18:50Z","author_association":"MEMBER","body":"OK I'm personally happy with this. the line corresponding to GC time (100ms) and heap used (<100MiB) is stable throughout the load (8.5Kspans/second indexing into ES in my laptop)\r\n\r\n![Screen Shot 2019-05-10 at 12 16 44 PM](https://user-images.githubusercontent.com/64215/57502274-93a7bc00-731d-11e9-9bc4-95b67b4e72c6.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491149875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491156484","html_url":"https://github.com/openzipkin/zipkin/pull/2571#issuecomment-491156484","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2571","id":491156484,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTE1NjQ4NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T05:00:46Z","updated_at":"2019-05-10T05:00:46Z","author_association":"MEMBER","body":"obviated","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491156484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491157486","html_url":"https://github.com/openzipkin/zipkin/pull/2577#issuecomment-491157486","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2577","id":491157486,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTE1NzQ4Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T05:06:43Z","updated_at":"2019-05-10T05:06:43Z","author_association":"MEMBER","body":"merging immediately as change like this tends to drift annoyingly when not :P\r\n\r\nThanks @tacigar!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491157486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491159369","html_url":"https://github.com/openzipkin/zipkin/pull/2570#issuecomment-491159369","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2570","id":491159369,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTE1OTM2OQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T05:17:52Z","updated_at":"2019-05-10T05:17:52Z","author_association":"CONTRIBUTOR","body":"Was thinking a bit about this - I know it's after the fact, and it's not really a big deal, but what do you think about the effect on random contributions from this change? I guess people may be less motivated to contribute changes to a Java project if they have to understand a different programming language to write tests.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491159369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491176628","html_url":"https://github.com/openzipkin/zipkin/pull/2570#issuecomment-491176628","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2570","id":491176628,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTE3NjYyOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T06:46:46Z","updated_at":"2019-05-10T06:46:46Z","author_association":"MEMBER","body":"On Fri, May 10, 2019 at 1:17 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> Was thinking a bit about this - I know it's after the fact, and it's not\n> really a big deal, but what do you think about the effect on random\n> contributions from this change? I guess people may be less motivated to\n> contribute changes to a Java project if they have to understand a different\n> programming language to write tests.\n>\n\nGood question.. as this is the flip side of the coin. Some are interested\nin learning more Kotlin (several on gitter were interested in this). We\nalso need more experience in Kotlin as it comes up in Brave frequently. The\nonly thing I can say about this is that few non-committers contribute\ndirectly to the server anyway, and we aren't planning on changing the core\nlibrary to kotlin. Folks wanting to write tests in Java have plenty of\nplaces to do that.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491176628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491176768","html_url":"https://github.com/openzipkin/zipkin/pull/2570#issuecomment-491176768","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2570","id":491176768,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTE3Njc2OA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T06:47:24Z","updated_at":"2019-05-10T06:47:24Z","author_association":"CONTRIBUTOR","body":"Cool makes sense","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491176768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491198409","html_url":"https://github.com/openzipkin/zipkin/pull/2576#issuecomment-491198409","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2576","id":491198409,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTE5ODQwOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T08:03:50Z","updated_at":"2019-05-10T08:03:50Z","author_association":"MEMBER","body":"heh cool :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491198409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491202558","html_url":"https://github.com/openzipkin/zipkin/pull/2398#issuecomment-491202558","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2398","id":491202558,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTIwMjU1OA==","user":{"login":"making","id":106908,"node_id":"MDQ6VXNlcjEwNjkwOA==","avatar_url":"https://avatars.githubusercontent.com/u/106908?v=4","gravatar_id":"","url":"https://api.github.com/users/making","html_url":"https://github.com/making","followers_url":"https://api.github.com/users/making/followers","following_url":"https://api.github.com/users/making/following{/other_user}","gists_url":"https://api.github.com/users/making/gists{/gist_id}","starred_url":"https://api.github.com/users/making/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/making/subscriptions","organizations_url":"https://api.github.com/users/making/orgs","repos_url":"https://api.github.com/users/making/repos","events_url":"https://api.github.com/users/making/events{/privacy}","received_events_url":"https://api.github.com/users/making/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T08:18:07Z","updated_at":"2019-05-10T08:18:07Z","author_association":"MEMBER","body":"my update:\r\n\r\n> But it's weird to see only one service sends traces ... (There should be 3 or 4 services.)\r\n\r\nAll services needed to be restarted to get all traces again. It works fine now :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491202558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491218518","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491218518","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491218518,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTIxODUxOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T09:09:16Z","updated_at":"2019-05-10T09:09:16Z","author_association":"MEMBER","body":"PS some background always helps...\r\n\r\nour core library includes a dependency free codec. I think this is still important eventhough the parsing side is less so (it does help in wonky huge dep clash environments like spark)\r\n\r\nin our server, we have some flexibility, and to that end I was thinking about having the ability to override the codecs towards your initial issue #2435. When I started optimizing the Elasticsearch side, I noticed that our v2 format is so easy now, even converting from a codec-specific type like proto.span *is still cheaper* than us doing it directly for some reasons you mentioned.  While using google's proto library would re-introduce their version thrash I do like doing comparisons. I've thought most about wire as that is so incredibly more efficient than ours, and it has no notable deps we don't already depend on.\r\n\r\nThanks for doing this comparison!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491218518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491239817","html_url":"https://github.com/openzipkin/zipkin/pull/2580#issuecomment-491239817","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2580","id":491239817,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTIzOTgxNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T10:21:36Z","updated_at":"2019-05-10T10:21:36Z","author_association":"MEMBER","body":"finally Jenkins is green","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491239817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491252980","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491252980","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491252980,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI1Mjk4MA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T11:15:14Z","updated_at":"2019-05-10T11:17:13Z","author_association":"CONTRIBUTOR","body":"Yeah it'd definitely only be for the server. And while `protobuf-java-util` has some dependencies, just `protobuf-java` is dependency free and I believe has never broken backwards compatibility so I wouldn't write it off so fast ;)\r\n\r\nI added a wire-based decoder too, with the same code flow as the protobuf-based one, just uses wire for the decoding. Now that it is doing hex decoding, it's a proper comparison. Wire is quite a bit slower, probably since it has to do an array copy before converting to hex since it doesn't expose the ability to read single bytes, and maybe because protobuf uses `Unsafe` though I don't know if that really makes a big impact on modern JVMs (it would have a larger impact with java 8 than java 11 I guess).\r\n\r\nProtobuf vs zipkin seems to show protobuf a few percent faster. \r\n\r\nGarbage-wise, as expected the lack of an initial array copy does remove a whole buffer's worth of allocation, but due to the lots of allocations to create hex and other strings, it's a very small percentage overall, ~3%, so just a little improvement. This is after applying a change to reuse `char[]`, which had a similar improvement in the base case too.\r\n\r\nThere do seem to be some differences shown here, though they're not so huge as to make it clear whether any approach is the best.\r\n\r\n```\r\nBenchmark                                                                           (num)    Mode   Cnt         Score         Error   Units\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder                                     10000  sample  1309     11510.855 ±     138.341   us/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:bytes_copy_protobufDecoder·p0.00    10000  sample           10010.624                 us/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:bytes_copy_protobufDecoder·p0.50    10000  sample           10977.280                 us/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:bytes_copy_protobufDecoder·p0.90    10000  sample           13156.352                 us/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:bytes_copy_protobufDecoder·p0.95    10000  sample           15319.040                 us/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:bytes_copy_protobufDecoder·p0.99    10000  sample           16967.270                 us/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:bytes_copy_protobufDecoder·p0.999   10000  sample           24244.060                 us/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:bytes_copy_protobufDecoder·p0.9999  10000  sample           25493.504                 us/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:bytes_copy_protobufDecoder·p1.00    10000  sample           25493.504                 us/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:·gc.alloc.rate                      10000  sample    15      1212.778 ±      22.951  MB/sec\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:·gc.alloc.rate.norm                 10000  sample    15  21949689.300 ±     213.505    B/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:·gc.churn.G1_Eden_Space             10000  sample    15      1110.207 ±     113.046  MB/sec\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:·gc.churn.G1_Eden_Space.norm        10000  sample    15  20094766.898 ± 2030230.821    B/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:·gc.churn.G1_Old_Gen                10000  sample    15       112.514 ±      11.349  MB/sec\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:·gc.churn.G1_Old_Gen.norm           10000  sample    15   2036516.677 ±  203864.604    B/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:·gc.churn.G1_Survivor_Space         10000  sample    15         0.443 ±       0.438  MB/sec\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:·gc.churn.G1_Survivor_Space.norm    10000  sample    15      8009.395 ±    7904.907    B/op\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:·gc.count                           10000  sample    15        82.000                counts\r\nProtoCodecBenchmarks.bytes_copy_protobufDecoder:·gc.time                            10000  sample    15       346.000                    ms\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder                                         10000  sample  1068     14170.764 ±     135.522   us/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:bytes_copy_wireDecoder·p0.00            10000  sample           12648.448                 us/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:bytes_copy_wireDecoder·p0.50            10000  sample           13713.408                 us/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:bytes_copy_wireDecoder·p0.90            10000  sample           15810.560                 us/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:bytes_copy_wireDecoder·p0.95            10000  sample           16846.029                 us/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:bytes_copy_wireDecoder·p0.99            10000  sample           19930.808                 us/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:bytes_copy_wireDecoder·p0.999           10000  sample           24186.126                 us/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:bytes_copy_wireDecoder·p0.9999          10000  sample           24281.088                 us/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:bytes_copy_wireDecoder·p1.00            10000  sample           24281.088                 us/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:·gc.alloc.rate                          10000  sample    15      1129.202 ±      28.012  MB/sec\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:·gc.alloc.rate.norm                     10000  sample    15  25120909.386 ±     202.273    B/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:·gc.churn.G1_Eden_Space                 10000  sample    15      1040.511 ±      54.956  MB/sec\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:·gc.churn.G1_Eden_Space.norm            10000  sample    15  23153464.194 ± 1194946.337    B/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:·gc.churn.G1_Old_Gen                    10000  sample    15        90.519 ±       4.650  MB/sec\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:·gc.churn.G1_Old_Gen.norm               10000  sample    15   2014291.467 ±  102517.266    B/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:·gc.churn.G1_Survivor_Space             10000  sample    15         0.838 ±       0.323  MB/sec\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:·gc.churn.G1_Survivor_Space.norm        10000  sample    15     18578.527 ±    6846.810    B/op\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:·gc.count                               10000  sample    15        76.000                counts\r\nProtoCodecBenchmarks.bytes_copy_wireDecoder:·gc.time                                10000  sample    15       173.000                    ms\r\nProtoCodecBenchmarks.bytes_protobufDecoder                                          10000  sample  1340     11252.910 ±     126.595   us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p0.00              10000  sample            9912.320                 us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p0.50              10000  sample           10731.520                 us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p0.90              10000  sample           12546.867                 us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p0.95              10000  sample           14974.976                 us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p0.99              10000  sample           16912.548                 us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p0.999             10000  sample           19200.541                 us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p0.9999            10000  sample           19267.584                 us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p1.00              10000  sample           19267.584                 us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.alloc.rate                           10000  sample    15      1130.991 ±      25.879  MB/sec\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.alloc.rate.norm                      10000  sample    15  20009660.550 ±     259.757    B/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.churn.G1_Eden_Space                  10000  sample    15      1136.615 ±     111.000  MB/sec\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.churn.G1_Eden_Space.norm             10000  sample    15  20105313.287 ± 1867925.592    B/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.churn.G1_Old_Gen                     10000  sample    15         0.319 ±       0.197  MB/sec\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.churn.G1_Old_Gen.norm                10000  sample    15      5659.194 ±    3507.786    B/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.churn.G1_Survivor_Space              10000  sample    15         0.354 ±       0.454  MB/sec\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.churn.G1_Survivor_Space.norm         10000  sample    15      6261.311 ±    8110.558    B/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.count                                10000  sample    15        84.000                counts\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.time                                 10000  sample    15       352.000                    ms\r\nProtoCodecBenchmarks.bytes_wireDecoder                                              10000  sample  1027     14696.033 ±     274.890   us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p0.00                      10000  sample           12697.600                 us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p0.50                      10000  sample           13991.936                 us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p0.90                      10000  sample           16420.045                 us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p0.95                      10000  sample           17812.685                 us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p0.99                      10000  sample           26746.552                 us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p0.999                     10000  sample           63427.052                 us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p0.9999                    10000  sample           64225.280                 us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p1.00                      10000  sample           64225.280                 us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.alloc.rate                               10000  sample    15      1003.950 ±      33.760  MB/sec\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.alloc.rate.norm                          10000  sample    15  23180993.238 ±     327.812    B/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.churn.G1_Eden_Space                      10000  sample    15      1001.456 ±     113.305  MB/sec\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.churn.G1_Eden_Space.norm                 10000  sample    15  23105838.211 ± 2265066.780    B/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.churn.G1_Old_Gen                         10000  sample    15         0.585 ±       0.150  MB/sec\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.churn.G1_Old_Gen.norm                    10000  sample    15     13499.422 ±    3403.060    B/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.churn.G1_Survivor_Space                  10000  sample    15         0.752 ±       0.249  MB/sec\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.churn.G1_Survivor_Space.norm             10000  sample    15     17272.859 ±    5177.973    B/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.count                                    10000  sample    15        73.000                counts\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.time                                     10000  sample    15       158.000                    ms\r\nProtoCodecBenchmarks.bytes_zipkinDecoder                                            10000  sample  1220     12361.137 ±     243.588   us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.00                  10000  sample            9863.168                 us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.50                  10000  sample           11452.416                 us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.90                  10000  sample           15382.938                 us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.95                  10000  sample           18246.861                 us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.99                  10000  sample           22308.127                 us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.999                 10000  sample           26914.292                 us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.9999                10000  sample           27066.368                 us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p1.00                  10000  sample           27066.368                 us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.alloc.rate                             10000  sample    15       984.706 ±      72.183  MB/sec\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.alloc.rate.norm                        10000  sample    15  19129801.132 ±     226.638    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Eden_Space                    10000  sample    15       993.104 ±     126.048  MB/sec\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Eden_Space.norm               10000  sample    15  19270497.313 ± 1683336.845    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Old_Gen                       10000  sample    15         0.434 ±       0.268  MB/sec\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Old_Gen.norm                  10000  sample    15      8434.596 ±    5290.023    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Survivor_Space                10000  sample    15         0.753 ±       0.651  MB/sec\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Survivor_Space.norm           10000  sample    15     14673.383 ±   12535.509    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.count                                  10000  sample    15        83.000                counts\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.time                                   10000  sample    15       335.000                    ms","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491252980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491263231","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491263231","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491263231,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI2MzIzMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T11:57:26Z","updated_at":"2019-05-10T11:57:26Z","author_association":"MEMBER","body":"rebased your branch as there were some merge conflicts due to drifts","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491263231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491265506","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491265506","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491265506,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI2NTUwNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T12:06:19Z","updated_at":"2019-05-10T12:06:19Z","author_association":"MEMBER","body":"I'm playing around a bit about the hex it is yeah double array allocation indeed","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491265506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491271719","html_url":"https://github.com/openzipkin/zipkin/issues/2540#issuecomment-491271719","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2540","id":491271719,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI3MTcxOQ==","user":{"login":"chuntaojun","id":23445172,"node_id":"MDQ6VXNlcjIzNDQ1MTcy","avatar_url":"https://avatars.githubusercontent.com/u/23445172?v=4","gravatar_id":"","url":"https://api.github.com/users/chuntaojun","html_url":"https://github.com/chuntaojun","followers_url":"https://api.github.com/users/chuntaojun/followers","following_url":"https://api.github.com/users/chuntaojun/following{/other_user}","gists_url":"https://api.github.com/users/chuntaojun/gists{/gist_id}","starred_url":"https://api.github.com/users/chuntaojun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chuntaojun/subscriptions","organizations_url":"https://api.github.com/users/chuntaojun/orgs","repos_url":"https://api.github.com/users/chuntaojun/repos","events_url":"https://api.github.com/users/chuntaojun/events{/privacy}","received_events_url":"https://api.github.com/users/chuntaojun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T12:29:33Z","updated_at":"2019-05-10T12:29:33Z","author_association":"NONE","body":"> 无法在注册中心是nacos的时候使用zipkin，能给一个解决方案吗？\r\n\r\n你好，我想问问，具体的问题表现是怎样的呢？","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491271719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491277694","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491277694","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491277694,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI3NzY5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T12:51:38Z","updated_at":"2019-05-10T12:51:38Z","author_association":"MEMBER","body":"one thing I was thinking about in this change is that when you are ultimately backed by an array, google sneakily looks to see if that's the case and special cases accordingly.\r\n\r\nWhen we have an array is unlikely something we'd optimize for in the grpc listener. I'm wondering if we can get a more realistic source like what armeria would be using and apply that to the bytebuffer (or otherwise) case...\r\n\r\nPS I also looked at wire and started to play with inlining a hex utility.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491277694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491278374","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491278374","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491278374,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI3ODM3NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T12:53:53Z","updated_at":"2019-05-10T14:03:37Z","author_association":"MEMBER","body":"cc also @swankjesse as this sort of thing is fun..\r\n\r\nI think special peeking aside, it might boil down to if we can manage to read proto bytes as hex. if we can definitely wire should be better than it is now.. \r\n\r\nI added this to wire's ProtoReader though haven't tested it quite yet\r\n```kotlin\r\n  // stolen from okio\r\n  private val HEX_DIGITS =\r\n      charArrayOf('0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f')\r\n\r\n  @Suppress(\"NOTHING_TO_INLINE\")\r\n  internal inline fun hex(data: BufferedSource, byteCount: Int): String {\r\n    val result = CharArray(byteCount * 2)\r\n    var i = 0\r\n    while (i < result.size) {\r\n      val b = data.readByte().toInt();\r\n      result[i++] = HEX_DIGITS[b shr 4 and 0xf]\r\n      result[i++] = HEX_DIGITS[b       and 0xf] // ktlint-disable no-multi-spaces\r\n    }\r\n    return String(result)\r\n  }\r\n\r\n  /**\r\n   * Reads a `bytes` field value from the stream as a lower-hex string. The length is read from the\r\n   * stream prior to the actual data.\r\n   */\r\n  @Throws(IOException::class)\r\n  fun readBytesAsHex(): String {\r\n    val byteCount = beforeLengthDelimitedScalar()\r\n    source.require(byteCount) // Throws EOFException if insufficient bytes are available.\r\n    return hex(source, byteCount.toInt())\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491278374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491282385","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491282385","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491282385,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI4MjM4NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T13:07:48Z","updated_at":"2019-05-10T13:07:48Z","author_association":"MEMBER","body":"I'll revise what I said above @anuraaga has in the bench setup is fairly realistic as the bytebuffer isn't a cover for a byte array.\r\n\r\nHowever, like Rag said, google's library is peeking and using Unsafe under the covers. I'm not sure Okio does that (or assumes it could).\r\n\r\nSpecifically, google's returns [CodedInputStream.UnsafeDirectNioDecoder](https://github.com/protocolbuffers/protobuf/blob/5b232b8ecbce13286be09e703997e887ae0d464d/java/core/src/main/java/com/google/protobuf/CodedInputStream.java#L1278)\r\n\r\n```java\r\n  static CodedInputStream newInstance(ByteBuffer buf, boolean bufferIsImmutable) {\r\n    if (buf.hasArray()) {\r\n      return newInstance(buf.array(), buf.arrayOffset() + buf.position(), buf.remaining(), bufferIsImmutable);\r\n    } else if (buf.isDirect() && CodedInputStream.UnsafeDirectNioDecoder.isSupported()) {\r\n      return new CodedInputStream.UnsafeDirectNioDecoder(buf, bufferIsImmutable);\r\n    } else {\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491282385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491289168","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491289168","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491289168,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI4OTE2OA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T13:30:02Z","updated_at":"2019-05-10T13:30:02Z","author_association":"CONTRIBUTOR","body":"Yup using Unsafe is probably the biggest difference and in the Armeria case it would end up in the Unsafe path if we so choose. From what I understand, wire / okio is mostly for Android, so it wouldn't make sense for them to implement support for Unsafe which doesn't work there. Protobuf had to support calling Java from C++... but interestingly the optimizations that went into doing that do apply to Netty-based servers too like here since they use direct memory.\r\n\r\nI'm personally leaning towards not changing anything at this point though since for single digit gains, having two parser implementations seems like it's not worth it. What do you think?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491289168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491300014","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491300014","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491300014,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTMwMDAxNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T14:02:38Z","updated_at":"2019-05-10T14:09:48Z","author_association":"MEMBER","body":"yep.. if you revise from 10k spans per message down to 1k spans (which is a fairly high number anyway considering this is per traced host/second), there is not much difference between google and wire anyway. However, it does help memory wise to have wire decode bytes into hex strings.\r\n\r\nwith wire making hex manually\r\n```\r\nProtoCodecBenchmarks.bytebuffer_protobufDecoder:bytebuffer_protobufDecoder·p0.999   sample            2716.557                us/op\r\nProtoCodecBenchmarks.bytebuffer_protobufDecoder:·gc.alloc.rate.norm                 sample     15  2271332.980 ±     49.158    B/op\r\nProtoCodecBenchmarks.bytebuffer_wireDecoder:bytebuffer_wireDecoder·p0.999           sample            3082.207                us/op\r\nProtoCodecBenchmarks.bytebuffer_wireDecoder:·gc.alloc.rate.norm                     sample     15  2707555.118 ±     43.790    B/op\r\n```\r\n\r\nwith wire native hex stringing\r\n```\r\nProtoCodecBenchmarks.bytebuffer_protobufDecoder:bytebuffer_protobufDecoder·p0.999   sample            2808.340                us/op\r\nProtoCodecBenchmarks.bytebuffer_protobufDecoder:·gc.alloc.rate.norm                 sample     15  2271332.557 ±     37.638    B/op\r\nProtoCodecBenchmarks.bytebuffer_wireDecoder:bytebuffer_wireDecoder·p0.999           sample            3045.130                us/op\r\nProtoCodecBenchmarks.bytebuffer_wireDecoder:·gc.alloc.rate.norm                     sample     15  2579549.017 ±     59.592    B/op\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491300014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491300171","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491300171","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491300171,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTMwMDE3MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T14:03:05Z","updated_at":"2019-05-10T14:03:05Z","author_association":"MEMBER","body":"/me is done playing for now","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491300171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491302237","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491302237","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491302237,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTMwMjIzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T14:08:59Z","updated_at":"2019-05-10T14:08:59Z","author_association":"MEMBER","body":"@anuraaga leaning towards not changing anything I guess you mean changing the parsing approach? If so, I would say even if we wanted to, it can wait.\r\n\r\nwe are allocating more per request in parsing than necessary, but it is hard to tell the impact without looking at the total stuff allocated along the way. Regardless, I think we should merge your benchmarks so it can be picked up later.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491302237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491314676","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491314676","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491314676,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTMxNDY3Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T14:45:04Z","updated_at":"2019-05-10T14:45:04Z","author_association":"MEMBER","body":"PS @anuraaga I think the context you mention which is there are optimizations on the server that would be different than android-focused libraries is certainly spot-on. We shouldn't prevent ourselves from taking advantage of these optimizations considering this is server code.\r\n\r\nI do remember some discussions last time about the guava sensitivity and heft of google libraries (ex. protobuf-java is 2MiB). I'm not super keen to re-enter that at the moment, but there could be some sense in using an unsafe mechanism such as they are.\r\n\r\nAt any rate, I learned thought this work that there's actually a measurable amount of gc time to recover. Eventhough I mentioned a little less priority, that's my personal 2p, if you are interested in taking the \"attack the overhead\" issue forward, please continue.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491314676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491427808","html_url":"https://github.com/openzipkin/zipkin/issues/2544#issuecomment-491427808","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2544","id":491427808,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQyNzgwOA==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T20:57:00Z","updated_at":"2019-05-10T21:05:40Z","author_association":"MEMBER","body":"Wow I'm bad at GH notifications nowadays. On it right now.\r\n... aaaand done.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491427808/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491460316","html_url":"https://github.com/openzipkin/zipkin/pull/2502#issuecomment-491460316","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2502","id":491460316,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ2MDMxNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T23:58:28Z","updated_at":"2019-05-10T23:58:28Z","author_association":"MEMBER","body":"What you did was great, and in fact I found some problems in how many of\nour implementations implement call as a result of this, so double win!\ncheers\n\nOn Sat, May 11, 2019 at 12:02 AM Logic-32 <notifications@github.com> wrote:\n\n> *@Logic-32* commented on this pull request.\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/elasticsearch/ZipkinElasticsearchStorageProperties.java\n> <https://github.com/apache/incubator-zipkin/pull/2502#discussion_r282945074>\n> :\n>\n> > @@ -64,8 +64,9 @@\n>     */\n>    private int timeout = 10_000;\n>\n> -  public ZipkinElasticsearchStorageProperties(@Value(\"${zipkin.storage.throttle.enabled:false}\") boolean throttleEnabled,\n> -                                              @Value(\"${zipkin.storage.throttle.maxConcurrency:200}\") int throttleMaxConcurrency) {\n> +  ZipkinElasticsearchStorageProperties(\n> +    @Value(\"${zipkin.storage.throttle.enabled:false}\") boolean throttleEnabled,\n> +    @Value(\"${zipkin.storage.throttle.maxConcurrency:200}\") int throttleMaxConcurrency) {\n>\n> Kk. Thank you for finishing this up and sorry again for the lag on my end!\n> Work got in the way :(\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/pull/2502#discussion_r282945074>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV5JF2LL2N455DWF2XDPUWL75ANCNFSM4HGYQFGQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491460316/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491478145","html_url":"https://github.com/openzipkin/zipkin/pull/2537#issuecomment-491478145","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2537","id":491478145,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ3ODE0NQ==","user":{"login":"bulicekj","id":20159504,"node_id":"MDQ6VXNlcjIwMTU5NTA0","avatar_url":"https://avatars.githubusercontent.com/u/20159504?v=4","gravatar_id":"","url":"https://api.github.com/users/bulicekj","html_url":"https://github.com/bulicekj","followers_url":"https://api.github.com/users/bulicekj/followers","following_url":"https://api.github.com/users/bulicekj/following{/other_user}","gists_url":"https://api.github.com/users/bulicekj/gists{/gist_id}","starred_url":"https://api.github.com/users/bulicekj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bulicekj/subscriptions","organizations_url":"https://api.github.com/users/bulicekj/orgs","repos_url":"https://api.github.com/users/bulicekj/repos","events_url":"https://api.github.com/users/bulicekj/events{/privacy}","received_events_url":"https://api.github.com/users/bulicekj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T04:20:27Z","updated_at":"2019-05-11T04:20:27Z","author_association":"CONTRIBUTOR","body":"I spent some time trying to change the way the graph is re-rendered upon the state change, but no success thus far. @tacigar any ideas?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491478145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491482543","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491482543","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491482543,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ4MjU0Mw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T05:56:14Z","updated_at":"2019-05-11T05:56:14Z","author_association":"CONTRIBUTOR","body":"So in the interest of having these benchmarks and comparison points, made this PR non-draft, we may as well get it in and play with it some more.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491482543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491482822","html_url":"https://github.com/openzipkin/zipkin/pull/2579#issuecomment-491482822","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2579","id":491482822,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ4MjgyMg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T06:01:23Z","updated_at":"2019-05-11T06:01:23Z","author_association":"CONTRIBUTOR","body":"Merging since this only touches anything in the not-so critical `benchmarks` module.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491482822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491486781","html_url":"https://github.com/openzipkin/zipkin/pull/2582#issuecomment-491486781","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2582","id":491486781,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ4Njc4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T07:14:22Z","updated_at":"2019-05-11T07:14:22Z","author_association":"MEMBER","body":"PS brownie points for fixing `Span.Builder.traceId(long, long)` This is only used in thrift, but it has the same problem","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491486781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491487029","html_url":"https://github.com/openzipkin/zipkin/pull/2582#issuecomment-491487029","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2582","id":491487029,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ4NzAyOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T07:18:05Z","updated_at":"2019-05-11T07:18:05Z","author_association":"MEMBER","body":"whoah I was wrong :) all the hex code in Span is used directly by brave...\r\n\r\nex.\r\n```java\r\n    Span.Builder builderWithContextData = Span.newBuilder()\r\n        .traceId(context.traceIdString())\r\n        .parentId(context.parentIdString())\r\n        .id(context.spanIdString());\r\n```\r\n\r\nso I think if this is changed similarly, it will reduce allocations measurably on traced apps!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491487029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491487509","html_url":"https://github.com/openzipkin/zipkin/pull/2582#issuecomment-491487509","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2582","id":491487509,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ4NzUwOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T07:25:17Z","updated_at":"2019-05-11T07:25:17Z","author_association":"MEMBER","body":"PS I now remember why.. if you do an anonymous subclass, you can't unload the classloader. We have tests for this in Brave, but we don't here.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491487509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491487605","html_url":"https://github.com/openzipkin/zipkin/pull/2582#issuecomment-491487605","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2582","id":491487605,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ4NzYwNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T07:26:38Z","updated_at":"2019-05-11T07:26:38Z","author_association":"MEMBER","body":"this is the change that added tests in brave to ensure our code is unloadable.. I changed the threadlocal in b3 single to anonymous just to make sure and it failed the test https://github.com/apache/incubator-zipkin-brave/pull/787","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491487605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491488147","html_url":"https://github.com/openzipkin/zipkin/pull/2582#issuecomment-491488147","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2582","id":491488147,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ4ODE0Nw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T07:33:32Z","updated_at":"2019-05-11T07:33:32Z","author_association":"CONTRIBUTOR","body":"Hmm - in that case does it make sense for me to add `zipkin2.internal.HexConversionBuffer` which can be used by brave too? No point to have multiple threadlocals all over.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491488147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491488239","html_url":"https://github.com/openzipkin/zipkin/pull/2582#issuecomment-491488239","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2582","id":491488239,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ4ODIzOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T07:35:25Z","updated_at":"2019-05-11T07:35:25Z","author_association":"MEMBER","body":"@anuraaga I think in the case of brave, probably duplicating one buffer is ok as it avoids osgi etc problems. We exclude internal packages right now. Maybe `Platform.idBuffer()` as hex is implied.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491488239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491488568","html_url":"https://github.com/openzipkin/zipkin/pull/2582#issuecomment-491488568","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2582","id":491488568,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ4ODU2OA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T07:40:55Z","updated_at":"2019-05-11T07:40:55Z","author_association":"CONTRIBUTOR","body":"Got it - went ahead and extracted `Platform.idBuffer` in case we find other places in `zipkin` to use it, but won't use it directly in brave.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491488568/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491489118","html_url":"https://github.com/openzipkin/zipkin/pull/2583#issuecomment-491489118","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2583","id":491489118,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ4OTExOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T07:48:53Z","updated_at":"2019-05-11T07:48:53Z","author_association":"MEMBER","body":"wow great","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491489118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491490235","html_url":"https://github.com/openzipkin/zipkin/pull/2582#issuecomment-491490235","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2582","id":491490235,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ5MDIzNQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T08:07:28Z","updated_at":"2019-05-11T08:07:28Z","author_association":"CONTRIBUTOR","body":"Ran benchmark again after merging - overall down from 2.2M to 1.7M\r\n\r\n```\r\nBenchmark                                                                    Mode    Cnt        Score        Error   Units\r\nProtoCodecBenchmarks.bytes_zipkinDecoder                                   sample  13762     1089.838 ±      5.981   us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.00         sample             945.152                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.50         sample            1039.360                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.90         sample            1224.704                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.95         sample            1359.872                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.99         sample            2033.664                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.999        sample            2733.335                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.9999       sample            9971.515                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p1.00         sample           12992.512                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.alloc.rate                    sample     15      973.403 ±     26.837  MB/sec\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.alloc.rate.norm               sample     15  1671164.718 ±     18.557    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Eden_Space           sample     15      979.562 ±     68.569  MB/sec\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Eden_Space.norm      sample     15  1682674.375 ± 124566.078    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Old_Gen              sample     15        0.559 ±      0.565  MB/sec\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Old_Gen.norm         sample     15      968.659 ±    991.452    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Survivor_Space       sample     15        0.666 ±      0.466  MB/sec\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.churn.G1_Survivor_Space.norm  sample     15     1140.466 ±    790.469    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.count                         sample     15      102.000               counts\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.time                          sample     15       90.000                   ms\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491490235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491494517","html_url":"https://github.com/openzipkin/zipkin/pull/2584#issuecomment-491494517","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2584","id":491494517,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ5NDUxNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T09:14:39Z","updated_at":"2019-05-11T09:14:39Z","author_association":"MEMBER","body":"my laptop isn't as fast as @anuraaga's :)\r\n\r\nbefore:\r\n```\r\nEndpointBenchmarks.parseIpv4_bytes:parseIpv4_bytes·p0.99             sample             0.360             us/op\r\nEndpointBenchmarks.parseIpv4_bytes:·gc.alloc.rate.norm               sample      15   184.015 ±   0.001    B/op\r\n\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.99         sample            2078.024               us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.alloc.rate.norm               sample     15  2191141.794 ±    45.769    B/op\r\n```\r\n\r\nafter:\r\n```\r\nEndpointBenchmarks.parseIpv4_bytes:parseIpv4_bytes·p0.99             sample             0.281             us/op\r\nEndpointBenchmarks.parseIpv4_bytes:·gc.alloc.rate.norm               sample      15    88.011 ±   0.005    B/op\r\n\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.99         sample            2043.392               us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.alloc.rate.norm               sample     15  2095169.988 ±    32.752    B/op\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491494517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491494718","html_url":"https://github.com/openzipkin/zipkin/pull/2584#issuecomment-491494718","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2584","id":491494718,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ5NDcxOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T09:18:06Z","updated_at":"2019-05-11T09:18:28Z","author_association":"MEMBER","body":"note: this puts us within \"spitting distance\" of google's proto library, yet with no external dependencies\r\n\r\n```\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p0.99       sample            1974.108                us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.alloc.rate.norm               sample     15  2023204.399 ±     33.559    B/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p0.99               sample            2368.840                us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.alloc.rate.norm                   sample     15  2435408.756 ±     54.127    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.99           sample            2162.688                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.alloc.rate.norm                 sample     15  2095172.026 ±     45.379    B/op\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491494718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491494780","html_url":"https://github.com/openzipkin/zipkin/pull/2584#issuecomment-491494780","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2584","id":491494780,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ5NDc4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T09:18:54Z","updated_at":"2019-05-11T09:18:54Z","author_association":"MEMBER","body":"by \"this\" I mean this change but all the several changes today by @anuraaga which actually made the most difference.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491494780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491496873","html_url":"https://github.com/openzipkin/zipkin/pull/2585#issuecomment-491496873","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2585","id":491496873,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ5Njg3Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T09:51:43Z","updated_at":"2019-05-11T09:51:43Z","author_association":"MEMBER","body":"thanks! clicking view shows this works! (notice the red underline of the old image)\r\n\r\n![Screen Shot 2019-05-11 at 5 50 51 PM](https://user-images.githubusercontent.com/64215/57568103-62121c00-7415-11e9-8af6-7c4ff49a9fd4.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491496873/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491509150","html_url":"https://github.com/openzipkin/zipkin/pull/2587#issuecomment-491509150","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2587","id":491509150,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTUwOTE1MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T13:00:05Z","updated_at":"2019-05-11T13:00:05Z","author_association":"MEMBER","body":"before\r\n```\r\nSpanBenchmarks.buildClientSpan:buildClientSpan·p0.99                   sample              0.619             us/op\r\nSpanBenchmarks.buildClientSpan:·gc.alloc.rate.norm                     sample       15   624.051 ±   0.003    B/op\r\nSpanBenchmarks.buildClientSpan_longs:buildClientSpan_longs·p0.99       sample              0.763             us/op\r\nSpanBenchmarks.buildClientSpan_longs:·gc.alloc.rate.norm               sample       15   984.050 ±   0.003    B/op\r\n```\r\n\r\nafter\r\n```\r\nSpanBenchmarks.buildClientSpan:buildClientSpan·p0.99                   sample              0.654             us/op\r\nSpanBenchmarks.buildClientSpan:·gc.alloc.rate.norm                     sample       15   624.048 ±   0.004    B/op\r\nSpanBenchmarks.buildClientSpan_longs:buildClientSpan_longs·p0.99       sample              0.752             us/op\r\nSpanBenchmarks.buildClientSpan_longs:·gc.alloc.rate.norm               sample       15   840.052 ±   0.007    B/op\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491509150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491553327","html_url":"https://github.com/openzipkin/zipkin/pull/2586#issuecomment-491553327","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2586","id":491553327,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTU1MzMyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-12T00:09:29Z","updated_at":"2019-05-12T00:09:29Z","author_association":"MEMBER","body":"merging as interested in doing a perf test prior to release and there are multiple PRs involved","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491553327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491564185","html_url":"https://github.com/openzipkin/zipkin/pull/2588#issuecomment-491564185","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2588","id":491564185,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTU2NDE4NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-12T04:43:24Z","updated_at":"2019-05-12T04:43:24Z","author_association":"MEMBER","body":"TODO unit tests","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491564185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491565805","html_url":"https://github.com/openzipkin/zipkin/pull/2588#issuecomment-491565805","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2588","id":491565805,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTU2NTgwNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-12T05:24:23Z","updated_at":"2019-05-12T05:24:23Z","author_association":"MEMBER","body":"Here's the comparative benchmark results now:\r\n\r\n```\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p0.99       sample            1935.360                us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.alloc.rate.norm               sample     15  2023207.729 ±     32.000    B/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p0.99               sample            2389.402                us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.alloc.rate.norm                   sample     15  2435412.109 ±     55.776    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.99           sample            1724.416                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.alloc.rate.norm                 sample     15  1735155.292 ±     29.521    B/op\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491565805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491578398","html_url":"https://github.com/openzipkin/zipkin/pull/2588#issuecomment-491578398","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2588","id":491578398,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTU3ODM5OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-12T09:07:28Z","updated_at":"2019-05-12T09:07:28Z","author_association":"MEMBER","body":"@anuraaga I decided to pick back up the making it possible to use ByteBuffer thing. Rationale was that it is not going as well as I hoped to transfer into a different array per span.\r\n\r\nThe work I have in progress builds on this.. slowing a little to make buffer work.  still.. it is as fast as any library we've used yet.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491578398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491586323","html_url":"https://github.com/openzipkin/zipkin/pull/2589#issuecomment-491586323","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2589","id":491586323,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTU4NjMyMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-12T11:13:10Z","updated_at":"2019-05-12T11:13:10Z","author_association":"MEMBER","body":"With this change, our decoder is significantly faster and GC efficient also with bytebuffer.\r\n\r\n```\r\nProtoCodecBenchmarks.bytebuffer_protobufDecoder:bytebuffer_protobufDecoder·p0.99    sample            2232.320                us/op\r\nProtoCodecBenchmarks.bytebuffer_protobufDecoder:·gc.alloc.rate.norm                 sample     15  2023331.587 ±     39.087    B/op\r\nProtoCodecBenchmarks.bytebuffer_wireDecoder:bytebuffer_wireDecoder·p0.99            sample            2330.624                us/op\r\nProtoCodecBenchmarks.bytebuffer_wireDecoder:·gc.alloc.rate.norm                     sample     15  2435472.372 ±     54.488    B/op\r\nProtoCodecBenchmarks.bytebuffer_zipkinDecoder:bytebuffer_zipkinDecoder·p0.99        sample            1964.032                us/op\r\nProtoCodecBenchmarks.bytebuffer_zipkinDecoder:·gc.alloc.rate.norm                   sample     15  1735287.795 ±     34.431    B/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p0.99              sample            1949.696                us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.alloc.rate.norm                      sample     15  2023208.424 ±     43.028    B/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p0.99                      sample            2360.566                us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.alloc.rate.norm                          sample     15  2435409.404 ±     48.839    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.99                  sample            1810.596                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.alloc.rate.norm                        sample     15  1735156.400 ±     30.538    B/op\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491586323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491588627","html_url":"https://github.com/openzipkin/zipkin/pull/2589#issuecomment-491588627","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2589","id":491588627,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTU4ODYyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-12T11:49:06Z","updated_at":"2019-05-12T11:49:06Z","author_association":"MEMBER","body":"results on JRE 11 are even better\r\n\r\n```\r\nProtoCodecBenchmarks.bytebuffer_protobufDecoder:bytebuffer_protobufDecoder·p0.99    sample            1776.026                us/op\r\nProtoCodecBenchmarks.bytebuffer_protobufDecoder:·gc.alloc.rate.norm                 sample     15  2007317.528 ±     17.585    B/op\r\nProtoCodecBenchmarks.bytebuffer_wireDecoder:bytebuffer_wireDecoder·p0.99            sample            2129.469                us/op\r\nProtoCodecBenchmarks.bytebuffer_wireDecoder:·gc.alloc.rate.norm                     sample     15  1971521.040 ±     20.325    B/op\r\nProtoCodecBenchmarks.bytebuffer_zipkinDecoder:bytebuffer_zipkinDecoder·p0.99        sample            1586.258                us/op\r\nProtoCodecBenchmarks.bytebuffer_zipkinDecoder:·gc.alloc.rate.norm                   sample     15  1591251.722 ±     17.422    B/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:bytes_protobufDecoder·p0.99              sample            1520.026                us/op\r\nProtoCodecBenchmarks.bytes_protobufDecoder:·gc.alloc.rate.norm                      sample     15  1919189.226 ±     23.622    B/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:bytes_wireDecoder·p0.99                      sample            1952.563                us/op\r\nProtoCodecBenchmarks.bytes_wireDecoder:·gc.alloc.rate.norm                          sample     15  1971395.380 ±     20.724    B/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.99                  sample            1371.259                us/op\r\nProtoCodecBenchmarks.bytes_zipkinDecoder:·gc.alloc.rate.norm                        sample     15  1591151.095 ±     14.826    B/op\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491588627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491642768","html_url":"https://github.com/openzipkin/zipkin/pull/2589#issuecomment-491642768","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2589","id":491642768,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTY0Mjc2OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T00:36:48Z","updated_at":"2019-05-13T00:36:48Z","author_association":"MEMBER","body":"here are relative read comparisons. clearly if someone wants most efficient client and server side, they should switch to proto3. I'm not sure the end to end on http+proto3 vs grpc, but I suspect either will be less overhead.\r\n\r\ncc @dio @apache/zipkin-committers \r\n\r\n```\r\nCodecBenchmarks.readChineseSpan_JSON_V1:readChineseSpan_JSON_V1·p0.99     sample             19.232             us/op\r\nCodecBenchmarks.readChineseSpan_JSON_V1:·gc.alloc.rate.norm               sample      15  18879.162 ±  77.971    B/op\r\nCodecBenchmarks.readChineseSpan_JSON_V2:readChineseSpan_JSON_V2·p0.99     sample             13.488             us/op\r\nCodecBenchmarks.readChineseSpan_JSON_V2:·gc.alloc.rate.norm               sample      15  13976.995 ±   0.076    B/op\r\nCodecBenchmarks.readChineseSpan_PROTO3:readChineseSpan_PROTO3·p0.99       sample              2.892             us/op\r\nCodecBenchmarks.readChineseSpan_PROTO3:·gc.alloc.rate.norm                sample      15   2154.954 ±  20.872    B/op\r\nCodecBenchmarks.readChineseSpan_THRIFT:readChineseSpan_THRIFT·p0.99       sample             11.423             us/op\r\nCodecBenchmarks.readChineseSpan_THRIFT:·gc.alloc.rate.norm                sample      15   5805.938 ±  41.742    B/op\r\nCodecBenchmarks.readClientSpan_JSON_V1:readClientSpan_JSON_V1·p0.99       sample             18.720             us/op\r\nCodecBenchmarks.readClientSpan_JSON_V1:·gc.alloc.rate.norm                sample      15  19887.021 ±  33.413    B/op\r\nCodecBenchmarks.readClientSpan_JSON_V2:readClientSpan_JSON_V2·p0.99       sample             13.680             us/op\r\nCodecBenchmarks.readClientSpan_JSON_V2:·gc.alloc.rate.norm                sample      15  14345.030 ±   0.083    B/op\r\nCodecBenchmarks.readClientSpan_PROTO3:readClientSpan_PROTO3·p0.99         sample              2.046             us/op\r\nCodecBenchmarks.readClientSpan_PROTO3:·gc.alloc.rate.norm                 sample      15   1744.276 ±   0.020    B/op\r\nCodecBenchmarks.readClientSpan_THRIFT:readClientSpan_THRIFT·p0.99         sample              8.608             us/op\r\nCodecBenchmarks.readClientSpan_THRIFT:·gc.alloc.rate.norm                 sample      15   5065.300 ± 188.452    B/op\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491642768/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491673101","html_url":"https://github.com/openzipkin/zipkin/pull/2589#issuecomment-491673101","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2589","id":491673101,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTY3MzEwMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T04:37:31Z","updated_at":"2019-05-13T04:37:31Z","author_association":"MEMBER","body":"I double-checked the GC relating to span decoding and it is still good compared to moshi (what we use to read nested elasticsearch responses)\r\n\r\n```\r\nJsonCodecBenchmarks.bytebuffer_moshiDecoder:bytebuffer_moshiDecoder·p0.99      sample           6416.712                us/op\r\nJsonCodecBenchmarks.bytebuffer_moshiDecoder:·gc.alloc.rate.norm                sample    15  4793152.590 ±    165.315    B/op\r\nJsonCodecBenchmarks.bytebuffer_zipkinDecoder:bytebuffer_zipkinDecoder·p0.99    sample           4600.463                us/op\r\nJsonCodecBenchmarks.bytebuffer_zipkinDecoder:·gc.alloc.rate.norm               sample    15  3234258.812 ±    103.979    B/op\r\nJsonCodecBenchmarks.bytes_moshiDecoder:bytes_moshiDecoder·p0.99                sample           5892.997                us/op\r\nJsonCodecBenchmarks.bytes_moshiDecoder:·gc.alloc.rate.norm                     sample    15  5240585.937 ±  16702.252    B/op\r\nJsonCodecBenchmarks.bytes_zipkinDecoder:bytes_zipkinDecoder·p0.99              sample           5038.080                us/op\r\nJsonCodecBenchmarks.bytes_zipkinDecoder:·gc.alloc.rate.norm                    sample    15  3234750.088 ±   2432.093    B/op\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491673101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492112015","html_url":"https://github.com/openzipkin/zipkin/pull/2589#issuecomment-492112015","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2589","id":492112015,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjExMjAxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-14T07:26:09Z","updated_at":"2019-05-14T07:26:09Z","author_association":"MEMBER","body":"I will revert the utf decoder thing.. that can wait","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492112015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492131936","html_url":"https://github.com/openzipkin/zipkin/issues/2540#issuecomment-492131936","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2540","id":492131936,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjEzMTkzNg==","user":{"login":"mathcoder23","id":17559062,"node_id":"MDQ6VXNlcjE3NTU5MDYy","avatar_url":"https://avatars.githubusercontent.com/u/17559062?v=4","gravatar_id":"","url":"https://api.github.com/users/mathcoder23","html_url":"https://github.com/mathcoder23","followers_url":"https://api.github.com/users/mathcoder23/followers","following_url":"https://api.github.com/users/mathcoder23/following{/other_user}","gists_url":"https://api.github.com/users/mathcoder23/gists{/gist_id}","starred_url":"https://api.github.com/users/mathcoder23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mathcoder23/subscriptions","organizations_url":"https://api.github.com/users/mathcoder23/orgs","repos_url":"https://api.github.com/users/mathcoder23/repos","events_url":"https://api.github.com/users/mathcoder23/events{/privacy}","received_events_url":"https://api.github.com/users/mathcoder23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-14T08:28:11Z","updated_at":"2019-05-14T08:28:11Z","author_association":"NONE","body":"我的可以使用呀，你需要说明具体的情况，你的zipkin是用什么方式引用的，会不会是fegin，nacos之类的http拦截器产生了冲突。","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492131936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492132573","html_url":"https://github.com/openzipkin/zipkin/issues/2540#issuecomment-492132573","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2540","id":492132573,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjEzMjU3Mw==","user":{"login":"chuntaojun","id":23445172,"node_id":"MDQ6VXNlcjIzNDQ1MTcy","avatar_url":"https://avatars.githubusercontent.com/u/23445172?v=4","gravatar_id":"","url":"https://api.github.com/users/chuntaojun","html_url":"https://github.com/chuntaojun","followers_url":"https://api.github.com/users/chuntaojun/followers","following_url":"https://api.github.com/users/chuntaojun/following{/other_user}","gists_url":"https://api.github.com/users/chuntaojun/gists{/gist_id}","starred_url":"https://api.github.com/users/chuntaojun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chuntaojun/subscriptions","organizations_url":"https://api.github.com/users/chuntaojun/orgs","repos_url":"https://api.github.com/users/chuntaojun/repos","events_url":"https://api.github.com/users/chuntaojun/events{/privacy}","received_events_url":"https://api.github.com/users/chuntaojun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-14T08:29:59Z","updated_at":"2019-05-14T08:29:59Z","author_association":"NONE","body":"> 我的可以使用呀，你需要说明具体的情况，你的zipkin是用什么方式引用的，会不会是fegin，nacos之类的http拦截器产生了冲突。\r\n\r\n你使用zipkin是，是采用服务名的形式还是直接写上zipkin-server的ip地址","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492132573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492210164","html_url":"https://github.com/openzipkin/zipkin/issues/2590#issuecomment-492210164","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2590","id":492210164,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjIxMDE2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-14T12:08:07Z","updated_at":"2019-05-14T12:08:07Z","author_association":"MEMBER","body":"sorry google translate isn't working well. Do you mean to say if there are\nchinese characters in a consumer tag, the rabbitmq feature errors?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492210164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492213899","html_url":"https://github.com/openzipkin/zipkin/pull/2589#issuecomment-492213899","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2589","id":492213899,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjIxMzg5OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-14T12:20:15Z","updated_at":"2019-05-14T12:20:15Z","author_association":"MEMBER","body":"gotta run. squash/merge if you're happy on green. thanks for all the help!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492213899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492503524","html_url":"https://github.com/openzipkin/zipkin/issues/2540#issuecomment-492503524","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2540","id":492503524,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjUwMzUyNA==","user":{"login":"mathcoder23","id":17559062,"node_id":"MDQ6VXNlcjE3NTU5MDYy","avatar_url":"https://avatars.githubusercontent.com/u/17559062?v=4","gravatar_id":"","url":"https://api.github.com/users/mathcoder23","html_url":"https://github.com/mathcoder23","followers_url":"https://api.github.com/users/mathcoder23/followers","following_url":"https://api.github.com/users/mathcoder23/following{/other_user}","gists_url":"https://api.github.com/users/mathcoder23/gists{/gist_id}","starred_url":"https://api.github.com/users/mathcoder23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mathcoder23/subscriptions","organizations_url":"https://api.github.com/users/mathcoder23/orgs","repos_url":"https://api.github.com/users/mathcoder23/repos","events_url":"https://api.github.com/users/mathcoder23/events{/privacy}","received_events_url":"https://api.github.com/users/mathcoder23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T04:58:11Z","updated_at":"2019-05-15T04:58:11Z","author_association":"NONE","body":"> > 我的可以使用呀，你需要说明具体的情况，你的zipkin是用什么方式引用的，会不会是fegin，nacos之类的http拦截器产生了冲突。\r\n> \r\n> 你使用zipkin是，是采用服务名的形式还是直接写上zipkin-server的ip地址\r\n\r\n我使用的等价于ip地址(内部dns)，没有采用服务名称，因为zipkin服务和项目服务部署上是分离的。","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492503524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492507078","html_url":"https://github.com/openzipkin/zipkin/issues/2540#issuecomment-492507078","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2540","id":492507078,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjUwNzA3OA==","user":{"login":"chuntaojun","id":23445172,"node_id":"MDQ6VXNlcjIzNDQ1MTcy","avatar_url":"https://avatars.githubusercontent.com/u/23445172?v=4","gravatar_id":"","url":"https://api.github.com/users/chuntaojun","html_url":"https://github.com/chuntaojun","followers_url":"https://api.github.com/users/chuntaojun/followers","following_url":"https://api.github.com/users/chuntaojun/following{/other_user}","gists_url":"https://api.github.com/users/chuntaojun/gists{/gist_id}","starred_url":"https://api.github.com/users/chuntaojun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chuntaojun/subscriptions","organizations_url":"https://api.github.com/users/chuntaojun/orgs","repos_url":"https://api.github.com/users/chuntaojun/repos","events_url":"https://api.github.com/users/chuntaojun/events{/privacy}","received_events_url":"https://api.github.com/users/chuntaojun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T05:18:06Z","updated_at":"2019-05-15T05:18:06Z","author_association":"NONE","body":"哦，可能有点使用者是将zipkin-server注册为一个服务然后使用的，这种情况下会有一些问题","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492507078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492563838","html_url":"https://github.com/openzipkin/zipkin/pull/2592#issuecomment-492563838","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2592","id":492563838,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjU2MzgzOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T08:43:53Z","updated_at":"2019-05-15T08:43:53Z","author_association":"MEMBER","body":"not too surprised. on the plane I dug into a rabbit hole of sorts.. custom decoder as there are many things about the gson one (ours is based off) which are inefficient or optimized for streaming as opposed to refundable buffers","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492563838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492567891","html_url":"https://github.com/openzipkin/zipkin/pull/2592#issuecomment-492567891","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2592","id":492567891,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjU2Nzg5MQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T08:55:38Z","updated_at":"2019-05-15T08:55:38Z","author_association":"CONTRIBUTOR","body":"Rabbit hole seems pretty deep if implementing a custom, compliant JSON decoder ;)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492567891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492569002","html_url":"https://github.com/openzipkin/zipkin/pull/2592#issuecomment-492569002","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2592","id":492569002,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjU2OTAwMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T08:58:54Z","updated_at":"2019-05-15T08:58:54Z","author_association":"MEMBER","body":"basically our json decoders validate fields, so for example, there aren't as many rules we need to follow. For example, none of our numeric types are decimal or valid in exponent form, none of our field names are non-ascii, our deepest valid depth is 3, etc. With the constraints in mind, it could be done.. just I spent too much time porting tests.. one of those things to slowly do over time :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492569002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492593919","html_url":"https://github.com/openzipkin/zipkin/pull/2593#issuecomment-492593919","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2593","id":492593919,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjU5MzkxOQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T10:12:16Z","updated_at":"2019-05-15T10:12:16Z","author_association":"CONTRIBUTOR","body":"Yeah I'm on it (in another PR)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492593919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492594259","html_url":"https://github.com/openzipkin/zipkin/pull/2593#issuecomment-492594259","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2593","id":492594259,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjU5NDI1OQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T10:13:17Z","updated_at":"2019-05-15T10:13:17Z","author_association":"CONTRIBUTOR","body":"By the way, `SpanBytesDecoderDetector` not being in `internal` is making that more annoying than I expected ;)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492594259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492638221","html_url":"https://github.com/openzipkin/zipkin/pull/2595#issuecomment-492638221","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2595","id":492638221,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjYzODIyMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T12:42:49Z","updated_at":"2019-05-15T12:42:49Z","author_association":"MEMBER","body":"I compared this against the last release (2.13) running the same load test:11K span/second in 2 proto messages/second decode only (aka COLLECTOR_SAMPLE_RATE=0)\r\n\r\nBefore:\r\n<img width=\"962\" alt=\"Screen Shot 2019-05-15 at 2 39 16 PM\" src=\"https://user-images.githubusercontent.com/64215/57776317-bbe64f00-7751-11e9-8f60-bc24e9545f93.png\">\r\n\r\nNow:\r\n<img width=\"969\" alt=\"Screen Shot 2019-05-15 at 2 30 16 PM\" src=\"https://user-images.githubusercontent.com/64215/57776325-bee13f80-7751-11e9-9469-0300a463e6ed.png\">\r\n\r\nwhile this is not the only change involved, overall there's a heck of a lot less GC activity. bravo!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492638221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492662837","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492662837","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492662837,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjY2MjgzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T13:50:01Z","updated_at":"2019-05-15T13:50:01Z","author_association":"MEMBER","body":"Kafka has a bunch of the largest deps. I think on gitter we discussed that likely there is nothing we can do about it as it isn't appropriate to remove one of its compression libraries. It is a shame they are so huge. cc @jeqo \r\n\r\n```\r\n[INFO] +- org.apache.zipkin.zipkin2:zipkin-collector-kafka:jar:2.13.1-SNAPSHOT:compile (optional) \r\n[INFO] |  \\- org.apache.kafka:kafka-clients:jar:2.2.0:compile (optional) \r\n[INFO] |     +- com.github.luben:zstd-jni:jar:1.3.8-1:compile (optional) \r\n[INFO] |     +- org.lz4:lz4-java:jar:1.5.0:compile (optional) \r\n[INFO] |     \\- org.xerial.snappy:snappy-java:jar:1.1.7.2:compile (optional) \r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492662837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492663180","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492663180","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492663180,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjY2MzE4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T13:50:49Z","updated_at":"2019-05-15T13:50:49Z","author_association":"MEMBER","body":"once the UI is finally killed we will be under 50 again anyway","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492663180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492663441","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492663441","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492663441,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjY2MzQ0MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T13:51:32Z","updated_at":"2019-05-15T13:51:32Z","author_association":"MEMBER","body":"@anuraaga do you think it is important for us to bundle netty-tcnative-boringssl-static? What would not work if we didn't?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492663441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492671284","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492671284","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492671284,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjY3MTI4NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T14:10:41Z","updated_at":"2019-05-15T14:10:41Z","author_association":"MEMBER","body":"I looked at some suspicious once.. jsoup is 400K and deals with something that seems normal string replacement should work out. Basically, we should be able to control our index.html generation in lens and ui to always emit the base tag, eliminating this logic: https://github.com/apache/incubator-zipkin/blob/master/zipkin-server/src/main/java/zipkin2/server/internal/ui/ZipkinUiConfiguration.java#L116-L120\r\n\r\nthen, the replacement here should be normal string replacement.\r\n\r\nNote: I just checked and here is the base tag in our two UIs\r\nzipkin-ui: `<base href=\"/zipkin/\">`\r\nzipkin-lens: `<base href=/ />`","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492671284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492674640","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492674640","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492674640,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjY3NDY0MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T14:19:03Z","updated_at":"2019-05-15T14:19:03Z","author_association":"MEMBER","body":"note if we update from guava 19 -> guava 27 the size grows about 1MiB not just because the increase in stuff inside guava, but also because its growing dependency tree","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492674640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492682265","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492682265","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492682265,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjY4MjI2NQ==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T14:36:52Z","updated_at":"2019-05-15T14:37:08Z","author_association":"CONTRIBUTOR","body":"I'ld think excluding `netty-tcnative-boringssl-static` is definitely worth a try, i know grpc with the netty transport works without it if you don't use TLS. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492682265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492725836","html_url":"https://github.com/openzipkin/zipkin/issues/2597#issuecomment-492725836","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2597","id":492725836,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjcyNTgzNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T16:25:37Z","updated_at":"2019-05-15T16:25:37Z","author_association":"MEMBER","body":"FWIW this is one of the various recent threads from the incubator on this topic. https://lists.apache.org/thread.html/cd79b79de1b6650e465c4c9d9a3a5cba681f10e38ac75edf5dca3be7@%3Cgeneral.incubator.apache.org%3E\r\n\r\nif we are to take action, I'd like to know specifically what has to change and to what, and who else thinks that we should before we do it. We've had an arduous time with arbitrary rules in the past, so it is a hot topic for me personally.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492725836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492729963","html_url":"https://github.com/openzipkin/zipkin/issues/2597#issuecomment-492729963","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2597","id":492729963,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjcyOTk2Mw==","user":{"login":"nacx","id":446705,"node_id":"MDQ6VXNlcjQ0NjcwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/446705?v=4","gravatar_id":"","url":"https://api.github.com/users/nacx","html_url":"https://github.com/nacx","followers_url":"https://api.github.com/users/nacx/followers","following_url":"https://api.github.com/users/nacx/following{/other_user}","gists_url":"https://api.github.com/users/nacx/gists{/gist_id}","starred_url":"https://api.github.com/users/nacx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nacx/subscriptions","organizations_url":"https://api.github.com/users/nacx/orgs","repos_url":"https://api.github.com/users/nacx/repos","events_url":"https://api.github.com/users/nacx/events{/privacy}","received_events_url":"https://api.github.com/users/nacx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T16:37:27Z","updated_at":"2019-05-15T16:37:27Z","author_association":"NONE","body":"So, there was a misunderstanding in the thread, regarding what we were discussing. In my feedback on the last release vote, I provided a set of items I'd like to see in both, the README and the website.\r\n\r\n* The comments on the README have been addressed.\r\n* The comments about the website still need to be done, and that's what I was referring to in the thread. Apologies if I was just asked specifically for the README bits and I answered about a different thing.\r\n\r\nThis stuff is something I said I like to see _in future releases_, so I don't think everything should be fixed for the next one, since I don't know if the community is actively working on the website or it is something that will be done in future phases.\r\n\r\nFor completeness, and to make it crystal clear, the README LGTM. The bits I think that need to be added to the website are:\r\n* A download page in addition to the quickstart one with links to the official Apache release (which are the source archives) as the first option. To quote an example from [LEGAL-270](https://issues.apache.org/jira/browse/LEGAL-270), _All official Apache releases are in source form; Docker images can be built from our official source releases, but are derived distributions analogous to, say, Debian packages_. So when we say official releases, we refer to the source archives the PMC votes upon.\r\n\r\nThat's it. The main project website should have pointers to the official Apache source releases. Currently it only has the Quickstart guide and newcomers coming to Zipkin reading the website to learn about the project will just see the Docker image, the built jar, and a link to Github (that host the source archives for the tag, wihch is not exactly the same as the ASF source release as voted and published to the ASF repos).\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492729963/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492730689","html_url":"https://github.com/openzipkin/zipkin/issues/2597#issuecomment-492730689","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2597","id":492730689,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjczMDY4OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T16:39:40Z","updated_at":"2019-05-15T16:39:40Z","author_association":"MEMBER","body":"Thanks, post ASF we have no \"move issue\" access anymore. I'll create an issue on https://github.com/apache/incubator-zipkin-website/ and close this one out.\r\n\r\nMentors: save your time! this is about the website which hasn't had any work done around this at all. we are same page now.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492730689/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492731249","html_url":"https://github.com/openzipkin/zipkin/issues/2597#issuecomment-492731249","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2597","id":492731249,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjczMTI0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T16:41:09Z","updated_at":"2019-05-15T16:41:09Z","author_association":"MEMBER","body":"closing for https://github.com/apache/incubator-zipkin-website/issues/12","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492731249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492741098","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492741098","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492741098,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjc0MTA5OA==","user":{"login":"jeqo","id":6180701,"node_id":"MDQ6VXNlcjYxODA3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6180701?v=4","gravatar_id":"","url":"https://api.github.com/users/jeqo","html_url":"https://github.com/jeqo","followers_url":"https://api.github.com/users/jeqo/followers","following_url":"https://api.github.com/users/jeqo/following{/other_user}","gists_url":"https://api.github.com/users/jeqo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeqo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeqo/subscriptions","organizations_url":"https://api.github.com/users/jeqo/orgs","repos_url":"https://api.github.com/users/jeqo/repos","events_url":"https://api.github.com/users/jeqo/events{/privacy}","received_events_url":"https://api.github.com/users/jeqo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T17:09:10Z","updated_at":"2019-05-15T17:09:10Z","author_association":"MEMBER","body":"@adriancole yes, we discussed that. We could potentially remove compression libraries and offer a way to add them to the classpath if required; or we could have different distributions with/without. WDYT?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492741098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492751810","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492751810","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492751810,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjc1MTgxMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T17:38:34Z","updated_at":"2019-05-15T17:38:34Z","author_association":"MEMBER","body":"good news is that these kafka compression jars have no dependencies.. it\ncould be reasonable to explain how to get them (using curl for example)\nexcept that knowing which versions might take some shell scripting..\n(haven't looked to see how stable the APIs are)\n\nOn Wed, May 15, 2019, 7:09 PM Jorge Quilcate Otoya <notifications@github.com>\nwrote:\n\n> @adriancole <https://github.com/adriancole> yes, we discussed that. We\n> could potentially remove compression libraries and offer a way to add them\n> to the classpath if required; or we could have different distributions\n> with/without. WDYT?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/issues/2596?email_source=notifications&email_token=AAAPVVZ3TW6VT7UKSVFX3ELPVQ7TRA5CNFSM4HNDOHF2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODVPKD2Q#issuecomment-492741098>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV2GO7FBNLVKL6XKYYTPVQ7TRANCNFSM4HNDOHFQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492751810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492752179","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492752179","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492752179,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjc1MjE3OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-15T17:39:34Z","updated_at":"2019-05-15T17:39:34Z","author_association":"MEMBER","body":"I wonder if even if you do use SSL if boring SSL is required (ex jre 11..\ndoes it need this?)\n\nOn Wed, May 15, 2019, 4:36 PM Jorg Heymans <notifications@github.com> wrote:\n\n> I'ld think excluding netty-tcnative-boringssl-static is definitely worth\n> a try, i know grpc with the netty transport definitely works without it if\n> you don't use TLS.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/issues/2596?email_source=notifications&email_token=AAAPVV5ULC5ZNTE2RJQGEQTPVQNYNA5CNFSM4HNDOHF2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODVO3YGI#issuecomment-492682265>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV4ZQXXRBVB7IHEVAJDPVQNYNANCNFSM4HNDOHFQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492752179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492930226","html_url":"https://github.com/openzipkin/zipkin/issues/2598#issuecomment-492930226","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2598","id":492930226,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjkzMDIyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T06:06:36Z","updated_at":"2019-05-16T06:11:36Z","author_association":"MEMBER","body":"this project is a server backend and the project currently named OpenTelemetry sends data to Zipkin.\r\n\r\nconsidering there are few projects that call themselves standards they may achieve the goal of merging the standards they formerly made into one. That will be measured by the former ones (opentracing notably) actually migrating to whatever is made here as opposed to tools being revlocked to the former.\r\n\r\nAmbitious goals aside, I think folks should tread carefully as all new projects drift and mapping and misunderstandings are common when things are run at a distance from end users.\r\n\r\nWe have no plans to drop support for our data format, or drop our server for what the project currently named opentelemetry is doing. I do anticipate mapping problems, as already we've seen things creating overly chatty and/or redundant data. However, there's no reason some of these things could not work out.\r\n\r\nThat said, we have no goal to choose opentelemetry at the expense several years of work done by a far more diverse number of parties. In other words, don't expect us to choose this project favorite at the expense of others, based solely on their ambition or project naming convention. Concretely, we won't be deleting our data types for example. Other instrumentation and export to other systems via the specifications we have published will continue.\r\n\r\nI'm closing this issue as issues as we define them are changes to this codebase. This is more a question, which I hope I've answered. If you want to chat more, there's https://gitter.im/openzipkin/zipkin\r\n\r\nCheers,\r\n-a\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492930226/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492932865","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492932865","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492932865,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjkzMjg2NQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T06:17:52Z","updated_at":"2019-05-16T06:18:03Z","author_association":"CONTRIBUTOR","body":"Java 11 (technically 9+) don't need boringssl for TLS. I've had mixed results with comparing performance of Java vs boringssl anyways, so seems fine to exclude it if we're ok with making it more annoying to use on Java 8.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492932865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492935466","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492935466","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492935466,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjkzNTQ2Ng==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T06:28:42Z","updated_at":"2019-05-16T06:28:59Z","author_association":"CONTRIBUTOR","body":"also `jooq` for a feature that is not really recommend to be used in production ...","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492935466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492940835","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492940835","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492940835,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjk0MDgzNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T06:49:03Z","updated_at":"2019-05-16T06:49:03Z","author_association":"MEMBER","body":"thanks for the feedback folks. I think our next minor can get more slim\n\nOn Thu, May 16, 2019, 8:28 AM Jorg Heymans <notifications@github.com> wrote:\n\n> also jooq for a feature that we don't really recommend to use in\n> production ...\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/issues/2596?email_source=notifications&email_token=AAAPVV6EWKV5RWZGGE7TBHTPVT5JZA5CNFSM4HNDOHF2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODVQZSKQ#issuecomment-492935466>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV3F4ZIM25JLZUCFYNTPVT5JZANCNFSM4HNDOHFQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492940835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492941213","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492941213","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492941213,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjk0MTIxMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T06:50:21Z","updated_at":"2019-05-16T06:50:21Z","author_association":"MEMBER","body":"Jorge, in the use case of span data reporting.. if you had to pick one\ncompression which would it be? since this is only for the server we can\ntake an opinion\n\nOn Wed, May 15, 2019, 7:09 PM Jorge Quilcate Otoya <notifications@github.com>\nwrote:\n\n> @adriancole <https://github.com/adriancole> yes, we discussed that. We\n> could potentially remove compression libraries and offer a way to add them\n> to the classpath if required; or we could have different distributions\n> with/without. WDYT?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/issues/2596?email_source=notifications&email_token=AAAPVVZ3TW6VT7UKSVFX3ELPVQ7TRA5CNFSM4HNDOHF2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODVPKD2Q#issuecomment-492741098>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV2GO7FBNLVKL6XKYYTPVQ7TRANCNFSM4HNDOHFQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492941213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492954095","html_url":"https://github.com/openzipkin/zipkin/issues/2597#issuecomment-492954095","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2597","id":492954095,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjk1NDA5NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T07:36:02Z","updated_at":"2019-05-16T07:36:02Z","author_association":"MEMBER","body":"I also opened another thread for incubator team to please make things easier on us. https://lists.apache.org/thread.html/e0a7974b5bbe61388e3921be2feb5ce458dc7e7e3597b9eaace1de54@%3Cgeneral.incubator.apache.org%3E","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492954095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492968679","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492968679","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492968679,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjk2ODY3OQ==","user":{"login":"jeqo","id":6180701,"node_id":"MDQ6VXNlcjYxODA3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6180701?v=4","gravatar_id":"","url":"https://api.github.com/users/jeqo","html_url":"https://github.com/jeqo","followers_url":"https://api.github.com/users/jeqo/followers","following_url":"https://api.github.com/users/jeqo/following{/other_user}","gists_url":"https://api.github.com/users/jeqo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeqo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeqo/subscriptions","organizations_url":"https://api.github.com/users/jeqo/orgs","repos_url":"https://api.github.com/users/jeqo/repos","events_url":"https://api.github.com/users/jeqo/events{/privacy}","received_events_url":"https://api.github.com/users/jeqo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T08:20:45Z","updated_at":"2019-05-16T08:20:45Z","author_association":"MEMBER","body":"Have been using snappy lately but haven't benchmark them myself. \r\nFound [this benchmark from cloudflare](https://blog.cloudflare.com/squeezing-the-firehose/) and seems like the best choice would be between snappy for kafka <2.1 and zstd for >=2.1.\r\nProbably worth making a benchmark based on tracing data and ship zipkin server with recommended compression libs.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492968679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492976999","html_url":"https://github.com/openzipkin/zipkin/issues/2598#issuecomment-492976999","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2598","id":492976999,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjk3Njk5OQ==","user":{"login":"JonasVerhofste","id":25819942,"node_id":"MDQ6VXNlcjI1ODE5OTQy","avatar_url":"https://avatars.githubusercontent.com/u/25819942?v=4","gravatar_id":"","url":"https://api.github.com/users/JonasVerhofste","html_url":"https://github.com/JonasVerhofste","followers_url":"https://api.github.com/users/JonasVerhofste/followers","following_url":"https://api.github.com/users/JonasVerhofste/following{/other_user}","gists_url":"https://api.github.com/users/JonasVerhofste/gists{/gist_id}","starred_url":"https://api.github.com/users/JonasVerhofste/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonasVerhofste/subscriptions","organizations_url":"https://api.github.com/users/JonasVerhofste/orgs","repos_url":"https://api.github.com/users/JonasVerhofste/repos","events_url":"https://api.github.com/users/JonasVerhofste/events{/privacy}","received_events_url":"https://api.github.com/users/JonasVerhofste/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T08:45:14Z","updated_at":"2019-05-16T08:45:14Z","author_association":"NONE","body":"> We have no plans to drop support for our data format, or drop our server for what the project currently named opentelemetry is doing.\r\n\r\n> That said, we have no goal to choose opentelemetry at the expense several years of work done by a far more diverse number of parties. In other words, don't expect us to choose this project favorite at the expense of others, based solely on their ambition or project naming convention. Concretely, we won't be deleting our data types for example.\r\n\r\n@adriancole And I didn't/don't expect you to, just wanted to know the general opinion on the matter. Choose an issue over gitter so the answer can be found in the future by people who have the same question. Thanks for answering!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492976999/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492977265","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492977265","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492977265,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjk3NzI2NQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T08:46:04Z","updated_at":"2019-05-16T08:46:04Z","author_association":"CONTRIBUTOR","body":"By the way, I think this is a zipkin server running on Java 8. I'm currently trying to recommend reducing the list of ciphers and using boringssl, for what it's worth.\r\n\r\nhttps://github.com/line/armeria/issues/1772\r\n\r\nPaper trail\r\nhttps://github.com/line/armeria/issues/1711\r\nhttps://github.com/apache/incubator-zipkin/issues/2449","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492977265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492980422","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-492980422","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":492980422,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjk4MDQyMg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T08:55:18Z","updated_at":"2019-05-16T08:56:13Z","author_association":"CONTRIBUTOR","body":"Additional thought, a compromise would be to include netty-tcnative instead of netty-tcnative-boringssl-static. It's only 25K as opposed to 3MB and still allows using OpenSSL if it happens to be on the system and linkable. I've never used it though and don't know what the success chance of such linking actually happening is. But if it didn't work and it's Java 9+, it'd still work with the JDK provider.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492980422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492991803","html_url":"https://github.com/openzipkin/zipkin/issues/2544#issuecomment-492991803","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2544","id":492991803,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjk5MTgwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T09:26:59Z","updated_at":"2019-05-16T09:26:59Z","author_association":"MEMBER","body":"added some tasks coming out of https://lists.apache.org/thread.html/81b6cb8d23f287ec95f80f0ede0c00601a600d54a30a1bf4e7423283@%3Cdev.zipkin.apache.org%3E\r\n\r\ncc @apache/zipkin-committers ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/492991803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493005220","html_url":"https://github.com/openzipkin/zipkin/issues/2544#issuecomment-493005220","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2544","id":493005220,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzAwNTIyMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T10:06:04Z","updated_at":"2019-05-16T10:06:04Z","author_association":"MEMBER","body":"I've asked if maybe someone can help donate a new logo as that is easier than explaining how a logo already used widely is somehow exclusively now the property of apache","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493005220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493050644","html_url":"https://github.com/openzipkin/zipkin/issues/2596#issuecomment-493050644","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2596","id":493050644,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzA1MDY0NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T12:40:31Z","updated_at":"2019-05-16T12:40:31Z","author_association":"MEMBER","body":"On Thu, May 16, 2019 at 10:55 AM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> Additional thought, a compromise would be to include netty-tcnative\n> instead of netty-tcnative-boringssl-static. It's only 25K as opposed to 3MB\n> and still allows using OpenSSL if it happens to be on the system and\n> linkable. I've never used it though and don't know what the success chance\n> of such linking actually happening is.\n>\nDo we know anyone who would know if it were working or not? Perhaps we can\nhave an ad-hoc test..\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493050644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493064968","html_url":"https://github.com/openzipkin/zipkin/issues/2599#issuecomment-493064968","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2599","id":493064968,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzA2NDk2OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T13:21:44Z","updated_at":"2019-05-16T13:21:44Z","author_association":"MEMBER","body":"can you clarify what you mean? are you talking about logging? maybe paste screenshot before and after?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493064968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493088145","html_url":"https://github.com/openzipkin/zipkin/issues/2544#issuecomment-493088145","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2544","id":493088145,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzA4ODE0NQ==","user":{"login":"wu-sheng","id":5441976,"node_id":"MDQ6VXNlcjU0NDE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/5441976?v=4","gravatar_id":"","url":"https://api.github.com/users/wu-sheng","html_url":"https://github.com/wu-sheng","followers_url":"https://api.github.com/users/wu-sheng/followers","following_url":"https://api.github.com/users/wu-sheng/following{/other_user}","gists_url":"https://api.github.com/users/wu-sheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wu-sheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wu-sheng/subscriptions","organizations_url":"https://api.github.com/users/wu-sheng/orgs","repos_url":"https://api.github.com/users/wu-sheng/repos","events_url":"https://api.github.com/users/wu-sheng/events{/privacy}","received_events_url":"https://api.github.com/users/wu-sheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T14:21:22Z","updated_at":"2019-05-16T14:21:22Z","author_association":"MEMBER","body":"@adriancole Good to have this issue. I forgot to share this.\r\n\r\n## Docker image related\r\nSkyWalking DockerHub repositories have been asked having potential branding issue as well, just before one month before graduation, because of the same name and same logo. This is the last thing I deal with before graduation proposal.\r\n\r\nI moved the SkyWalking's to ASF official docker repo\r\n- https://cloud.docker.com/u/apache/repository/docker/apache/skywalking-oap-server/general\r\n- https://cloud.docker.com/u/apache/repository/docker/apache/skywalking-ui/general","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493088145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493089153","html_url":"https://github.com/openzipkin/zipkin/issues/2544#issuecomment-493089153","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2544","id":493089153,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzA4OTE1Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T14:23:49Z","updated_at":"2019-05-16T14:23:49Z","author_association":"MEMBER","body":"@wu-sheng can you share any issue with details about this, jira or github? right now, we publish via quay.io and we have access there and also dockerhub. I've noticed in ASF often we don't have full access to things.. can you share some details?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493089153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493091788","html_url":"https://github.com/openzipkin/zipkin/issues/2544#issuecomment-493091788","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2544","id":493091788,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzA5MTc4OA==","user":{"login":"wu-sheng","id":5441976,"node_id":"MDQ6VXNlcjU0NDE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/5441976?v=4","gravatar_id":"","url":"https://api.github.com/users/wu-sheng","html_url":"https://github.com/wu-sheng","followers_url":"https://api.github.com/users/wu-sheng/followers","following_url":"https://api.github.com/users/wu-sheng/following{/other_user}","gists_url":"https://api.github.com/users/wu-sheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wu-sheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wu-sheng/subscriptions","organizations_url":"https://api.github.com/users/wu-sheng/orgs","repos_url":"https://api.github.com/users/wu-sheng/repos","events_url":"https://api.github.com/users/wu-sheng/events{/privacy}","received_events_url":"https://api.github.com/users/wu-sheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T14:30:03Z","updated_at":"2019-05-16T14:32:36Z","author_association":"MEMBER","body":"> can you share any issue with details about this, jira or github? \r\n\r\nThis comes from Justin as well, but in private ml. And our mentor, Ignasi, explained the concerns. The reason is very similar to the concerns of openzipkin logo. ASF doesn't want to make the confusions about which things belong to ASF or 3rd party, especially when the INFRA controlled by the same people in the PMC.\r\n\r\n> right now, we publish via quay.io and we have access there and also dockerhub. I've noticed in ASF often we don't have full access to things.. can you share some details?\r\n\r\nRight now, several PMC members(Hongtao Gao mostly) publish the docker image to dockerhub directly.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493091788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493140468","html_url":"https://github.com/openzipkin/zipkin/issues/2283#issuecomment-493140468","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2283","id":493140468,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzE0MDQ2OA==","user":{"login":"lambcode","id":5820125,"node_id":"MDQ6VXNlcjU4MjAxMjU=","avatar_url":"https://avatars.githubusercontent.com/u/5820125?v=4","gravatar_id":"","url":"https://api.github.com/users/lambcode","html_url":"https://github.com/lambcode","followers_url":"https://api.github.com/users/lambcode/followers","following_url":"https://api.github.com/users/lambcode/following{/other_user}","gists_url":"https://api.github.com/users/lambcode/gists{/gist_id}","starred_url":"https://api.github.com/users/lambcode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lambcode/subscriptions","organizations_url":"https://api.github.com/users/lambcode/orgs","repos_url":"https://api.github.com/users/lambcode/repos","events_url":"https://api.github.com/users/lambcode/events{/privacy}","received_events_url":"https://api.github.com/users/lambcode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T16:32:54Z","updated_at":"2019-05-16T16:32:54Z","author_association":"CONTRIBUTOR","body":"Thanks @adriancole. I've opened https://github.com/apache/incubator-zipkin/issues/2601 as an additional feature request to reset the zoom.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493140468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493345399","html_url":"https://github.com/openzipkin/zipkin/issues/2600#issuecomment-493345399","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2600","id":493345399,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzM0NTM5OQ==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T07:03:21Z","updated_at":"2019-05-17T07:03:21Z","author_association":"MEMBER","body":"I'm also seeing this with 2.13.0","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493345399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493421415","html_url":"https://github.com/openzipkin/zipkin/issues/2569#issuecomment-493421415","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2569","id":493421415,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzQyMTQxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T11:31:18Z","updated_at":"2019-05-17T11:31:18Z","author_association":"MEMBER","body":"It turns out that we can delete this a lot sooner than we expected, solving the problem by using an archive repo instead of constantly building the same code here: https://github.com/openzipkin/zipkin-classic/\r\n\r\nonce #2603 is merged we should do the following in one PR (@zeagord claimed the honors on this)\r\n\r\n* move zipkin-ui/testdata to zipkin-lens\r\n* remove exclusions in pom.xml `remove when deleting zipkin-ui #2569`\r\n* remove recursively the zipkin-ui directory\r\n* remove the following from the LICENSE file\r\n\r\n```\r\nThis product contains a modified part of Chosen, distributed by Harvest:\r\n\r\n  * License: MIT\r\n  * Homepage: https://github.com/harvesthq/chosen\r\n\r\nThis product contains a modified part of Dager-D3, distributed by Dagre:\r\n\r\n  * License: MIT\r\n  * Homepage: https://github.com/dagrejs/dagre-d3\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/493421415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]