[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523011164","html_url":"https://github.com/openzipkin/zipkin/issues/2763#issuecomment-523011164","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2763","id":523011164,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzAxMTE2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T13:20:00Z","updated_at":"2019-08-20T13:20:00Z","author_association":"MEMBER","body":"there's actually a copy of this class here. https://github.com/line/armeria/pull/1939\r\n\r\nmaybe I can make a pull request off that branch you can test? a little tired to do today, but I can try to follow-up tomorrow. thanks for the help debugging this @jorgheymans !","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523011164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523246786","html_url":"https://github.com/openzipkin/zipkin/pull/2765#issuecomment-523246786","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2765","id":523246786,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI0Njc4Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T00:31:18Z","updated_at":"2019-08-21T00:31:18Z","author_association":"MEMBER","body":"excellent choice","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523246786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523251072","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523251072","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523251072,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI1MTA3Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T00:54:50Z","updated_at":"2019-08-21T00:54:50Z","author_association":"MEMBER","body":"will give another go, thanks","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523251072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523268215","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523268215","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523268215,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI2ODIxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T02:23:43Z","updated_at":"2019-08-21T02:23:43Z","author_association":"MEMBER","body":"I will switch to stock sleuth-webmvc-example because it is slower and results in less things falling over so fast.\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523268215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523269378","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523269378","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523269378,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI2OTM3OA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T02:29:42Z","updated_at":"2019-08-21T02:29:42Z","author_association":"CONTRIBUTOR","body":"Thanks, if you have some time\r\n Didn't add any comment yet since not sure if the change helps but it is definitely important. I'm not able to reproduce metrics endpoint falling over on my computer even without it so still going to continue investigation. I'm thinking it's important to look at spans accepted too since without the semaphore, more spans will be accepted I believe, so that will use more memory.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523269378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523270070","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523270070","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523270070,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI3MDA3MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T02:33:11Z","updated_at":"2019-08-21T02:33:11Z","author_association":"MEMBER","body":"ok good news.. heap usage looks ok. I do need to rebase this vs 2.15 as I also changed the load. Also, I want to make sure some amount of load actually succeed :D right now almost all spans dropped.\r\n\r\n![Screenshot 2019-08-21 at 10 32 48 AM](https://user-images.githubusercontent.com/64215/63398057-f7528280-c3fe-11e9-82a5-7459ed6e2592.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523270070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523270866","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523270866","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523270866,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI3MDg2Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T02:37:29Z","updated_at":"2019-08-21T02:37:29Z","author_association":"MEMBER","body":"ex in this run, max json payload was 600k, max spans/second 1.2k\r\n\r\n146675 spans accepted\r\n132041 spans dropped\r\n\r\nI know this is elasticsearch and all, but for example our in-memory defaults to 500k spans before expiring. It seems like it should be possible to swallow this many but anyway.. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523270866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523271188","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523271188","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523271188,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI3MTE4OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T02:39:10Z","updated_at":"2019-08-21T02:39:10Z","author_association":"MEMBER","body":"I will turn on the throttling, also, but we also have an existing bug where the stats end up messed up..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523271188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523271833","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523271833","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523271833,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI3MTgzMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T02:42:35Z","updated_at":"2019-08-21T02:42:35Z","author_association":"MEMBER","body":"I think for storage throttling I will just count documents in elasticsearch until stats are fixed\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523271833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523272868","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523272868","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523272868,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI3Mjg2OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T02:47:56Z","updated_at":"2019-08-21T02:47:56Z","author_association":"MEMBER","body":"now trying with throttling enabled.. and will check the document count directly after to see if the metrics messup was spurious or not.\r\n\r\n```diff\r\n--- a/docker-compose-elasticsearch.yml\r\n+++ b/docker-compose-elasticsearch.yml\r\n@@ -12,8 +12,8 @@ services:\r\n     image: openzipkin/zipkin-elasticsearch7\r\n     container_name: elasticsearch\r\n     # Uncomment to expose the storage port for testing\r\n-    # ports:\r\n-    #   - 9200:9200\r\n+    ports:\r\n+      - 9200:9200\r\n \r\n   # Switch storage type to Elasticsearch\r\n   zipkin:\r\n@@ -22,6 +22,7 @@ services:\r\n       # Point the zipkin at the storage backend\r\n       - ES_HOSTS=elasticsearch\r\n       # Uncomment to see requests to and from elasticsearch\r\n+      - STORAGE_THROTTLE_ENABLED=true\r\n       # - ES_HTTP_LOGGING=BODY\r\n \r\n   dependencies:\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523272868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523274377","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523274377","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523274377,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI3NDM3Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T02:55:55Z","updated_at":"2019-08-21T02:55:55Z","author_association":"MEMBER","body":"ok only about half dropped now with throttling on according to stats.. :)\r\n\r\n92458/165822\r\n\r\nbut.. the actually succeeded according to ES\r\n```\r\ncurl -X POST  -s localhost:9200/zipkin-span-2019-08-21/_count|jq .count\r\n165822\r\n```\r\n\r\nI wonder if these timeouts are actually succeeding in the end\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523274377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523277546","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523277546","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523277546,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI3NzU0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T03:13:25Z","updated_at":"2019-08-21T05:44:00Z","author_association":"MEMBER","body":"same fail pattern on 2.15.0 vs this branch with throttling on (throttling on disables the semaphore in 2.15). What's different is 2.15.0 uses half the heap for what's within spitting distance of the same load.\r\n\r\n![Screenshot 2019-08-21 at 1 42 52 PM](https://user-images.githubusercontent.com/64215/63405517-ab610700-c419-11e9-8a24-619de5f82e53.png)\r\n\r\nI think what I need to do next, is compare this branch against master (the commit before) vs comparing against 2.15.0.\r\n\r\nI do believe this is better at latency on the post endpoint. I'm not sure if memory is different or not vs last commit. Looking into this now.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523277546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523278679","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523278679","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523278679,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI3ODY3OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T03:19:36Z","updated_at":"2019-08-21T03:19:36Z","author_association":"MEMBER","body":"hah lol.. jitpack hates master right now :)\r\n\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  02:49 min\r\n[INFO] Finished at: 2019-08-21T01:10:00Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.mycila:license-maven-plugin:3.0:check (default) on project zipkin-server: Some files do not have the expected license header -> [Help 1]\r\n```\r\n\r\nlemme fix that","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523278679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523300519","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523300519","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523300519,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzMwMDUxOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T05:20:48Z","updated_at":"2019-08-21T05:22:11Z","author_association":"MEMBER","body":"here's running off latest master (I verified the commit)\r\n\r\nSimilar numbers considering the curiousity of throttling vs timeouts..\r\n\r\n```bash\r\n$ curl -X POST  -s localhost:9200/zipkin-span-2019-08-21/_count|jq .count\r\n163769\r\n\r\n$ curl -s localhost:9411/metrics|jq .\r\n{\r\n  \"counter.zipkin_collector.messages.http\": 138,\r\n  \"counter.zipkin_collector.spans_dropped.http\": 86797,\r\n  \"gauge.zipkin_collector.message_bytes.http\": 94395,\r\n  \"counter.zipkin_collector.bytes.http\": 59788050,\r\n  \"gauge.zipkin_collector.message_spans.http\": 221,\r\n  \"counter.zipkin_collector.spans.http\": 163769,\r\n  \"counter.zipkin_collector.messages_dropped.http\": 0\r\n}\r\n```\r\n\r\n![Screenshot 2019-08-21 at 1 22 09 PM](https://user-images.githubusercontent.com/64215/63404658-a3ec2e80-c416-11e9-9073-61fd4254f1f3.png)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523300519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523300870","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523300870","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523300870,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzMwMDg3MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T05:22:38Z","updated_at":"2019-08-21T05:22:38Z","author_association":"MEMBER","body":"I realize when I last ran off this branch maybe I didn't select the max heap used. I'll run again..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523300870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523301397","html_url":"https://github.com/openzipkin/zipkin/issues/2767#issuecomment-523301397","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2767","id":523301397,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzMwMTM5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T05:25:18Z","updated_at":"2019-08-21T05:25:18Z","author_association":"MEMBER","body":"folding this into #2369 thanks","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523301397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523301864","html_url":"https://github.com/openzipkin/zipkin/issues/2369#issuecomment-523301864","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2369","id":523301864,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzMwMTg2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T05:27:36Z","updated_at":"2019-08-21T05:27:36Z","author_association":"MEMBER","body":"I think this issue got stuck as we were worried about how to address varied granularity. @narayaruna opened #2767 which doesn't imply varied granularity.\r\n\r\nIf we limit this to hourly indexes, still anyone can use curator or similar to rescale these to daily, weekly monthly.. correct? cc @openzipkin/elasticsearch ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523301864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523303932","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523303932","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523303932,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzMwMzkzMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T05:37:03Z","updated_at":"2019-08-21T05:37:03Z","author_association":"MEMBER","body":"@anuraaga I can say confidently this improves measurably vs last commit under the same load. Please proceed! I'll open other issues about the curiosities\r\n\r\n![Screenshot 2019-08-21 at 1 36 41 PM](https://user-images.githubusercontent.com/64215/63405259-bd8e7580-c418-11e9-97a8-d2aa7797ef95.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523303932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523304183","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523304183","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523304183,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzMwNDE4Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T05:38:11Z","updated_at":"2019-08-21T05:38:11Z","author_association":"MEMBER","body":"meanwhile I'll run against 2.15.0 to correct any misstatement about max heap above","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523304183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523306414","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523306414","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523306414,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzMwNjQxNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T05:48:40Z","updated_at":"2019-08-21T05:48:40Z","author_association":"MEMBER","body":"updated https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523277546 \r\n\r\nso yeah in summary. this improves the current code a lot, and worth landing so we can reduce impact to those who already upgraded to 2.16\r\n\r\nI think it is fair to concede we are still consuming a lot more memory, and causing a lot more GC than 2.15 for the same load. Many sites won't notice this I suspect, and we can continue to look for ways to get nearer to 2.15 levels of overhead.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523306414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523313994","html_url":"https://github.com/openzipkin/zipkin/issues/2768#issuecomment-523313994","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2768","id":523313994,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzMxMzk5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T06:18:57Z","updated_at":"2019-08-21T06:18:57Z","author_association":"MEMBER","body":"Hi, can you either as on sleuth's gitter or open an issue against sleuth please? This repo is for the zipkin server code https://gitter.im/spring-cloud/spring-cloud-sleuth","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523313994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523408816","html_url":"https://github.com/openzipkin/zipkin/issues/2565#issuecomment-523408816","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2565","id":523408816,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzQwODgxNg==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T11:04:04Z","updated_at":"2019-08-21T11:04:04Z","author_association":"CONTRIBUTOR","body":"seems fixed in latest 2.16.2-SNAPSHOT, thanks !","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523408816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523415868","html_url":"https://github.com/openzipkin/zipkin/issues/2769#issuecomment-523415868","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2769","id":523415868,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzQxNTg2OA==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T11:28:26Z","updated_at":"2019-08-21T11:28:26Z","author_association":"CONTRIBUTOR","body":"#2763 might be related","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523415868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523423606","html_url":"https://github.com/openzipkin/zipkin/issues/2769#issuecomment-523423606","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2769","id":523423606,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzQyMzYwNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T11:54:52Z","updated_at":"2019-08-21T11:54:52Z","author_association":"MEMBER","body":"@anuraaga I assigned you, but if knackered etc, kick it back!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523423606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523442264","html_url":"https://github.com/openzipkin/zipkin/issues/2769#issuecomment-523442264","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2769","id":523442264,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzQ0MjI2NA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T12:50:35Z","updated_at":"2019-08-21T12:50:35Z","author_association":"CONTRIBUTOR","body":"Just to clarify, is this with the health check enabled? It is a much larger issue with Armeria to be able to fallback on connection error which should happen eventually but for now I think we're hoping enabling health check works for these issues. If the client is trying to connect to an invalid host even with health check enabled, then it's a bug in the current implementation.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523442264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523482032","html_url":"https://github.com/openzipkin/zipkin/issues/2369#issuecomment-523482032","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2369","id":523482032,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzQ4MjAzMg==","user":{"login":"xeraa","id":432211,"node_id":"MDQ6VXNlcjQzMjIxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/432211?v=4","gravatar_id":"","url":"https://api.github.com/users/xeraa","html_url":"https://github.com/xeraa","followers_url":"https://api.github.com/users/xeraa/followers","following_url":"https://api.github.com/users/xeraa/following{/other_user}","gists_url":"https://api.github.com/users/xeraa/gists{/gist_id}","starred_url":"https://api.github.com/users/xeraa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xeraa/subscriptions","organizations_url":"https://api.github.com/users/xeraa/orgs","repos_url":"https://api.github.com/users/xeraa/repos","events_url":"https://api.github.com/users/xeraa/events{/privacy}","received_events_url":"https://api.github.com/users/xeraa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T14:28:17Z","updated_at":"2019-08-21T14:28:17Z","author_association":"MEMBER","body":"> If we limit this to hourly indexes, still anyone can use curator or similar to rescale these to daily, weekly monthly.. correct?\r\n\r\nNot sure I'm reading this correctly, but combining hourly indices into a daily one (merging 24 indices) isn't easily possible  that would require a [reindex](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html) (where you use a script to change the `_index` field).\r\n\r\nMy concern with hourly indices is that this will be a lot of shards. Just using 1 primary and 1 replica you'll end up with 48 shards for a single day. Our recommendation is to have less than 20 shards per GB of heap and each shard should be around 10 to 50GB in size. I can see how this works out for some heavy users, but it will be a bad choice for many others.\r\n\r\nIMO a combination of [rollover](https://www.elastic.co/guide/en/elasticsearch/reference/master/indices-rollover-index.html) and [write index alias](https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-aliases.html#aliases-write-index) would be the more generic solution that gives users fewer chances for bad configurations.\r\n\r\nDo you have like a sample app where I could add the right config to show how this works? Might be easier than discussing it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523482032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523493703","html_url":"https://github.com/openzipkin/zipkin/issues/2769#issuecomment-523493703","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2769","id":523493703,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzQ5MzcwMw==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T14:54:03Z","updated_at":"2019-08-21T14:54:03Z","author_association":"CONTRIBUTOR","body":"Yes i had started the server with health-check disabled, as a left-over\nwhen testing the other bug. When i enable health-check there is no issue.\nMaybe we should add 'when health-check is not enabled' to the issue title\nand decide if this is worth looking into.\n\nOn Wed, Aug 21, 2019 at 2:50 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> Just to clarify, is this with the health check enabled? It is a much\n> larger issue with Armeria to be able to fallback on connection error which\n> should happen eventually but for now I think we're hoping enabling health\n> check works for these issues. If the client is trying to connect to an\n> invalid host even with health check enabled, then it's a bug in the current\n> implementation.\n>\n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2769?email_source=notifications&email_token=AABPKAHPHKQPDDKPLJGMHQLQFU2Z7A5CNFSM4IOFS2AKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD4ZRQWA#issuecomment-523442264>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AABPKAEZCGYWBT4QMW5GZR3QFU2Z7ANCNFSM4IOFS2AA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523493703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523495310","html_url":"https://github.com/openzipkin/zipkin/issues/2369#issuecomment-523495310","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2369","id":523495310,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzQ5NTMxMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T14:57:40Z","updated_at":"2019-08-21T14:57:40Z","author_association":"MEMBER","body":"@xeraa so I think the concern from @narayaruna is that with TB scale indexes, search, even with our cherry-picked indexing, require bumping read timeouts to 60s.. so more about query side than write side iiuc.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523495310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523501587","html_url":"https://github.com/openzipkin/zipkin/issues/2369#issuecomment-523501587","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2369","id":523501587,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzUwMTU4Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T15:12:11Z","updated_at":"2019-08-21T15:12:11Z","author_association":"MEMBER","body":"so the thinking is.. I wonder.. if for data sets that naturally fit the heap-per-shard guidance at hourly or less, then putting that data in hourly should make more sense than daily. Query side could be better optimized with this as instead of requesting a day index for a search, it could an hourly, without any special features...\r\n\r\nam I missing something? (ps thanks for mentioning where hourly does not make sense! possibly we can do a discover check to warn if config doesn't make sense)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523501587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523507228","html_url":"https://github.com/openzipkin/zipkin/issues/2369#issuecomment-523507228","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2369","id":523507228,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzUwNzIyOA==","user":{"login":"xeraa","id":432211,"node_id":"MDQ6VXNlcjQzMjIxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/432211?v=4","gravatar_id":"","url":"https://api.github.com/users/xeraa","html_url":"https://github.com/xeraa","followers_url":"https://api.github.com/users/xeraa/followers","following_url":"https://api.github.com/users/xeraa/following{/other_user}","gists_url":"https://api.github.com/users/xeraa/gists{/gist_id}","starred_url":"https://api.github.com/users/xeraa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xeraa/subscriptions","organizations_url":"https://api.github.com/users/xeraa/orgs","repos_url":"https://api.github.com/users/xeraa/repos","events_url":"https://api.github.com/users/xeraa/events{/privacy}","received_events_url":"https://api.github.com/users/xeraa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T15:24:13Z","updated_at":"2019-08-21T15:24:13Z","author_association":"MEMBER","body":"Yes, if you are looking at a short timeframe (like 1h). I'm not sure what the common access pattern is to be honest.\r\n\r\nOn the other hand if you have a filter on the timeframe and access it frequently enough then that will be cached and should also be pretty fast as well. I couldn't say how much win to expect (depends on so many factors including the access pattern  timeframe and frequency).","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523507228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523630718","html_url":"https://github.com/openzipkin/zipkin/pull/2766#issuecomment-523630718","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2766","id":523630718,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzYzMDcxOA==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T20:14:55Z","updated_at":"2019-08-21T20:15:18Z","author_association":"CONTRIBUTOR","body":"note detailed memory requirements were taken from the max-spans parameter documentation in application.yml, should i remove it there as well ?\r\n\r\nhttps://github.com/openzipkin/zipkin/blob/b84bb3261d8402507a2d54f3b55e017484c50a85/zipkin-server/src/main/resources/zipkin-server-shared.yml#L81","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523630718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523698296","html_url":"https://github.com/openzipkin/zipkin/issues/2369#issuecomment-523698296","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2369","id":523698296,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzY5ODI5Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T00:26:11Z","updated_at":"2019-08-22T00:26:11Z","author_association":"MEMBER","body":"Literally, the default lookback is 1 hour, and currently, it will grab a day or possibly 2 if just past midnight, to form a query with. This is probably why Nara mentions this, as it lowers the blast of default to max 2 hours if just past the hour.\r\n\r\n<img width=\"1024\" alt=\"Screenshot 2019-08-22 at 8 24 28 AM\" src=\"https://user-images.githubusercontent.com/64215/63477099-32fc5380-c4b6-11e9-9b1d-269b2fea14f0.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523698296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523698857","html_url":"https://github.com/openzipkin/zipkin/issues/2369#issuecomment-523698857","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2369","id":523698857,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzY5ODg1Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T00:29:19Z","updated_at":"2019-08-22T00:29:19Z","author_association":"MEMBER","body":"at any rate we could put a branch up and see how it goes. If isn't helpful we wouldn't do it, but for some sites this could be an easy to reason with, low-tech option to speed up some things.\r\n\r\nAck on the reindexing thing if someone needs to re-scale data. We can put more notes in the readme with knowledge gained here regardless of if the change is implemented.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523698857/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523700997","html_url":"https://github.com/openzipkin/zipkin/issues/2772#issuecomment-523700997","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2772","id":523700997,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzcwMDk5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T00:40:46Z","updated_at":"2019-08-22T00:40:46Z","author_association":"MEMBER","body":"btw I think I maybe was the one that set the lookback to 1hr. Before deb408fb773310d4c467ee45f444f7a991f0273e, it was *7 days* which wreaked havoc on cassandra by default.\r\n\r\nStrawman proposal is 15minutes, which is long enough to deal with any clock skew and longer than most traces would be. Whatever our default lookback is, it should be as long or longer than the time units folks use for windowing typical traces, imho.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523700997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523701093","html_url":"https://github.com/openzipkin/zipkin/issues/2369#issuecomment-523701093","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2369","id":523701093,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzcwMTA5Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T00:41:22Z","updated_at":"2019-08-22T00:41:22Z","author_association":"MEMBER","body":"PS I opened this because I think I was the one who came up with the hour search default :) https://github.com/openzipkin/zipkin/issues/2772","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523701093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523701528","html_url":"https://github.com/openzipkin/zipkin/issues/2369#issuecomment-523701528","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2369","id":523701528,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzcwMTUyOA==","user":{"login":"xeraa","id":432211,"node_id":"MDQ6VXNlcjQzMjIxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/432211?v=4","gravatar_id":"","url":"https://api.github.com/users/xeraa","html_url":"https://github.com/xeraa","followers_url":"https://api.github.com/users/xeraa/followers","following_url":"https://api.github.com/users/xeraa/following{/other_user}","gists_url":"https://api.github.com/users/xeraa/gists{/gist_id}","starred_url":"https://api.github.com/users/xeraa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xeraa/subscriptions","organizations_url":"https://api.github.com/users/xeraa/orgs","repos_url":"https://api.github.com/users/xeraa/repos","events_url":"https://api.github.com/users/xeraa/events{/privacy}","received_events_url":"https://api.github.com/users/xeraa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T00:43:46Z","updated_at":"2019-08-22T00:43:46Z","author_association":"MEMBER","body":"Sounds good on trying it out on a branch.\r\n\r\nOn the re-scaling: Rather than reindexing indices together, you could have an index template with 3 primary shards (just as an example for spreading the ingestion over 3 nodes), but once the index is readonly you could [shrink](https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-shrink-index.html) it down to a single primary shard. That should be the better pattern for more parallelization at first and then reducing the number of shards later on. And this is just a question of index template and then Elastic Curator / ILM / ...  would probably just need a little documentation on the Zipkin side.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523701528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523701866","html_url":"https://github.com/openzipkin/zipkin/issues/2772#issuecomment-523701866","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2772","id":523701866,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzcwMTg2Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T00:45:29Z","updated_at":"2019-08-22T00:45:29Z","author_association":"MEMBER","body":"by the way, anyone can change this value now. This is more about what the default is, because it can help optimize storage concerns.\r\n\r\nhttps://github.com/openzipkin/zipkin/tree/master/zipkin-server#configuration-for-the-ui","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523701866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523730268","html_url":"https://github.com/openzipkin/zipkin/pull/2771#issuecomment-523730268","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2771","id":523730268,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzczMDI2OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T03:19:08Z","updated_at":"2019-08-22T03:19:08Z","author_association":"MEMBER","body":"thanks! similar comments to zipkin-dependencies.\r\n\r\nHere are the three things that use it\r\n* kafka has this change, just not released yet. https://github.com/apache/kafka/pull/7125\r\n* I presume the next patch of spring boot has this due to a custom jackson version https://github.com/spring-projects/spring-boot/blob/2.1.x/spring-boot-project/spring-boot-dependencies/pom.xml#L84\r\n* armeria doesn't seem to quite yet have this https://github.com/line/armeria/blob/master/dependencies.yml#L20\r\n\r\nCan you help raise a ticket for armeria? Meanwhile I can also see if we can remove what may be an accidental indirect dep on spring-boot-starter-json\r\n\r\nWe can override the version anyway, but we should revert this when our indirect deps resolve at or past this.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523730268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523730545","html_url":"https://github.com/openzipkin/zipkin/pull/2766#issuecomment-523730545","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2766","id":523730545,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzczMDU0NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T03:20:40Z","updated_at":"2019-08-22T03:20:40Z","author_association":"MEMBER","body":"note detailed memory requirements were taken from the max-spans parameter\n> documentation in application.yml, should i remove it there as well ?\n>\n\nyeah better to be honest that with this impl we don't know sizing details\nuntil someone recollects the info\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523730545/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523747746","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523747746","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523747746,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzc0Nzc0Ng==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T04:56:46Z","updated_at":"2019-08-22T04:56:46Z","author_association":"CONTRIBUTOR","body":"I have reworked the interface to remove a lot of the weirdness like the semantics of `close()` and `clone()`. I didn't think too much on what it would look like with abstract Call objects but feel fairly satisfied with the API now that those difficulties are gone.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523747746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523748972","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-523748972","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":523748972,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzc0ODk3Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T05:03:35Z","updated_at":"2019-08-22T05:03:35Z","author_association":"MEMBER","body":"taking a look. thanks!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523748972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523754393","html_url":"https://github.com/openzipkin/zipkin/issues/2772#issuecomment-523754393","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2772","id":523754393,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzc1NDM5Mw==","user":{"login":"jcchavezs","id":3075074,"node_id":"MDQ6VXNlcjMwNzUwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3075074?v=4","gravatar_id":"","url":"https://api.github.com/users/jcchavezs","html_url":"https://github.com/jcchavezs","followers_url":"https://api.github.com/users/jcchavezs/followers","following_url":"https://api.github.com/users/jcchavezs/following{/other_user}","gists_url":"https://api.github.com/users/jcchavezs/gists{/gist_id}","starred_url":"https://api.github.com/users/jcchavezs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcchavezs/subscriptions","organizations_url":"https://api.github.com/users/jcchavezs/orgs","repos_url":"https://api.github.com/users/jcchavezs/repos","events_url":"https://api.github.com/users/jcchavezs/events{/privacy}","received_events_url":"https://api.github.com/users/jcchavezs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T05:30:40Z","updated_at":"2019-08-22T05:30:40Z","author_association":"CONTRIBUTOR","body":"Very specific use case from my side:\n\nI usually use tracing as try-error for debugging so the default use case I\nsee in medium scale company is that one wants usually to see latest traces\n(5-10 minutes ago). I would say 15 minutes was enough every time I used\nzipkin so I would vote for that.\n\nNotice kibana offers times like: 15m, 30m, 1h, 4h but again I never use\nmore than 15 minutes unless I want to do a very specific search.\n\ntor. 22. aug. 2019, 02:45 skrev Adrian Cole <notifications@github.com>:\n\n> by the way, anyone can change this value now. This is more about what the\n> default is, because it can help optimize storage concerns.\n>\n>\n> https://github.com/openzipkin/zipkin/tree/master/zipkin-server#configuration-for-the-ui\n>\n> \n> You are receiving this because you are on a team that was mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2772?email_source=notifications&email_token=AAXOYARV2DYRZGL3F7F3N23QFXOTZA5CNFSM4IOPSPM2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD43Q42Q#issuecomment-523701866>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAXOYASKSCRAIQBTD23YQ7DQFXOTZANCNFSM4IOPSPMQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523754393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523794343","html_url":"https://github.com/openzipkin/zipkin/issues/2772#issuecomment-523794343","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2772","id":523794343,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzc5NDM0Mw==","user":{"login":"jcarres-mdsol","id":1803073,"node_id":"MDQ6VXNlcjE4MDMwNzM=","avatar_url":"https://avatars.githubusercontent.com/u/1803073?v=4","gravatar_id":"","url":"https://api.github.com/users/jcarres-mdsol","html_url":"https://github.com/jcarres-mdsol","followers_url":"https://api.github.com/users/jcarres-mdsol/followers","following_url":"https://api.github.com/users/jcarres-mdsol/following{/other_user}","gists_url":"https://api.github.com/users/jcarres-mdsol/gists{/gist_id}","starred_url":"https://api.github.com/users/jcarres-mdsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcarres-mdsol/subscriptions","organizations_url":"https://api.github.com/users/jcarres-mdsol/orgs","repos_url":"https://api.github.com/users/jcarres-mdsol/repos","events_url":"https://api.github.com/users/jcarres-mdsol/events{/privacy}","received_events_url":"https://api.github.com/users/jcarres-mdsol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T07:56:56Z","updated_at":"2019-08-22T07:56:56Z","author_association":"CONTRIBUTOR","body":"15min is good for us also. We do 100% sampling so we are bound to already find interesting stuff within 15min","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523794343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523797494","html_url":"https://github.com/openzipkin/zipkin/pull/2766#issuecomment-523797494","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2766","id":523797494,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzc5NzQ5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T08:06:02Z","updated_at":"2019-08-22T08:06:02Z","author_association":"MEMBER","body":"thanks much","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523797494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524133513","html_url":"https://github.com/openzipkin/zipkin/pull/2770#issuecomment-524133513","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2770","id":524133513,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDEzMzUxMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T01:06:39Z","updated_at":"2019-08-23T01:06:39Z","author_association":"MEMBER","body":"great. I noticed only some formatting fuzz. will merge after I scrub.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524133513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524178529","html_url":"https://github.com/openzipkin/zipkin/issues/2772#issuecomment-524178529","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2772","id":524178529,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDE3ODUyOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T05:32:51Z","updated_at":"2019-08-23T05:32:51Z","author_association":"MEMBER","body":"ok from feedback I think sensible to default to 15m and provide a built-in label for 5 (there are no ones before 1 hour right now)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524178529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524215134","html_url":"https://github.com/openzipkin/zipkin/pull/2773#issuecomment-524215134","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2773","id":524215134,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDIxNTEzNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T07:59:22Z","updated_at":"2019-08-23T07:59:22Z","author_association":"MEMBER","body":"Thanks! I verified everything including defaults and also visually verified the constructed urls","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524215134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524270815","html_url":"https://github.com/openzipkin/zipkin/pull/2773#issuecomment-524270815","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2773","id":524270815,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDI3MDgxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T10:56:03Z","updated_at":"2019-08-23T10:56:03Z","author_association":"MEMBER","body":"still works","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524270815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524282774","html_url":"https://github.com/openzipkin/zipkin/pull/2773#issuecomment-524282774","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2773","id":524282774,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDI4Mjc3NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T11:36:38Z","updated_at":"2019-08-23T11:36:38Z","author_association":"MEMBER","body":"Thanks tons, @zeagord!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524282774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524284045","html_url":"https://github.com/openzipkin/zipkin/issues/2774#issuecomment-524284045","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2774","id":524284045,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDI4NDA0NQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T11:41:43Z","updated_at":"2019-08-23T11:41:43Z","author_association":"CONTRIBUTOR","body":"Yeah I think we'd need to add settings for custom TLS for the client. I don't think we can really share settings between the server and client since they're usually configured differently and with different settings but we should add some settings to `ElasticsearchProperties`. \r\n\r\nIt's a little tempting to reuse this object, but it has server-only setting of `ClientAuth` so probably shouldn't be used for configuring a client\r\nhttps://github.com/line/armeria/blob/master/spring/boot-autoconfigure/src/main/java/com/linecorp/armeria/spring/Ssl.java","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524284045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524285057","html_url":"https://github.com/openzipkin/zipkin/issues/2774#issuecomment-524285057","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2774","id":524285057,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDI4NTA1Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T11:45:34Z","updated_at":"2019-08-23T11:45:34Z","author_association":"MEMBER","body":"ok so it makes sense then probably to just share the property keys and not\nthe server-only one.\n\ndo you feel confident and/or have cycles for this? (ideally both :)) either\nway is ok\n\nOn Fri, Aug 23, 2019 at 7:41 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> Yeah I think we'd need to add settings for custom TLS for the client. I\n> don't think we can really share settings between the server and client\n> since they're usually configured differently and with different settings\n> but we should add some settings to ElasticsearchProperties.\n>\n> It's a little tempting to reuse this object, but it has server-only\n> setting of ClientAuth so probably shouldn't be used for configuring a\n> client\n>\n> https://github.com/line/armeria/blob/master/spring/boot-autoconfigure/src/main/java/com/linecorp/armeria/spring/Ssl.java\n>\n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2774?email_source=notifications&email_token=AAAPVV3QQOVE3RP54RFRVGDQF7EHTA5CNFSM4IO6VYCKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD477BDI#issuecomment-524284045>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV3RXAI4SMDDSGRTX23QF7EHTANCNFSM4IO6VYCA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524285057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524288441","html_url":"https://github.com/openzipkin/zipkin/issues/2774#issuecomment-524288441","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2774","id":524288441,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDI4ODQ0MQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T11:58:50Z","updated_at":"2019-08-23T11:58:50Z","author_association":"CONTRIBUTOR","body":"Will say probably no cycles. It seems like a new feature to configure TLS of the ES client, rather than bugfix, and ends up below other things in my personal backlog right now. I wonder a little if it also blocks the patch release for the same reason.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524288441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524290768","html_url":"https://github.com/openzipkin/zipkin/issues/2774#issuecomment-524290768","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2774","id":524290768,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDI5MDc2OA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T12:07:26Z","updated_at":"2019-08-23T12:07:26Z","author_association":"CONTRIBUTOR","body":"Actually realized we might already be able to support the javax.net properties if the user disables openssl using the flag (sorry walking/ texting so haven't looked up the link to the flag yet)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524290768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524291892","html_url":"https://github.com/openzipkin/zipkin/issues/2774#issuecomment-524291892","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2774","id":524291892,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDI5MTg5Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T12:11:39Z","updated_at":"2019-08-23T12:11:39Z","author_association":"MEMBER","body":"@anuraaga good ideas.. mainly I think the old one used normal javax.net so in comparison not being able to, and having no other way to, could look like a regression. we can release a patch, but still I wouldn't announce 2.16 until it is stable with things like this.\r\n\r\n(doesn't mean you have to do this.. I can add the ssl parameters it seems not difficult to copy/paste and I'm at the computer)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524291892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524294195","html_url":"https://github.com/openzipkin/zipkin/issues/2774#issuecomment-524294195","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2774","id":524294195,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDI5NDE5NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T12:19:41Z","updated_at":"2019-08-23T12:19:41Z","author_association":"MEMBER","body":"I'm going for it :P","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524294195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524295848","html_url":"https://github.com/openzipkin/zipkin/issues/2774#issuecomment-524295848","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2774","id":524295848,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDI5NTg0OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T12:25:15Z","updated_at":"2019-08-23T12:25:15Z","author_association":"MEMBER","body":"from chat the only settings used were: keyStore, keyStorePassword, trustStore, trustStorePassword\r\n\r\nSo, it was more about overrides than client auth.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524295848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524312311","html_url":"https://github.com/openzipkin/zipkin/issues/2774#issuecomment-524312311","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2774","id":524312311,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDMxMjMxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T13:19:29Z","updated_at":"2019-08-23T13:19:29Z","author_association":"MEMBER","body":"ps I'm getting some  then coming back to this. approach is to add ssl into the ES config properties object, defaulting to the system properties. That way it is 2-for-1. Then wire into the ssl configurator for the client. I've already done all this..\r\n\r\nthe wine is needed to refactor the integration test :P luckily I have an old keystore and some things from my past life in feign. I'll cobble it together in a bit.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524312311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524340234","html_url":"https://github.com/openzipkin/zipkin/pull/2775#issuecomment-524340234","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2775","id":524340234,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDM0MDIzNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T14:38:06Z","updated_at":"2019-08-23T14:38:06Z","author_association":"MEMBER","body":"Can try like this:\r\n\r\n```bash\r\nTAG=es-ssl-SNAPSHOT\r\ncurl -sSL https://jitpack.io/com/github/openzipkin/zipkin/zipkin-server/${TAG}/zipkin-server-${TAG}-exec.jar > zipkin.jar\r\nSTORAGE_TYPE=elasticsearch ES_HOSTS=https://localhost:9200 java -Djavax.net.ssl.keyStore=blah blah blah -jar zipkin.jar\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524340234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524340461","html_url":"https://github.com/openzipkin/zipkin/issues/2774#issuecomment-524340461","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2774","id":524340461,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDM0MDQ2MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T14:38:43Z","updated_at":"2019-08-23T14:38:43Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/2775 should work.. waiting for manual verification as I don't feel like setting up elasticsearch ssl","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524340461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524499646","html_url":"https://github.com/openzipkin/zipkin/pull/2775#issuecomment-524499646","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2775","id":524499646,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDQ5OTY0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-24T00:33:03Z","updated_at":"2019-08-24T00:33:03Z","author_association":"MEMBER","body":"> hey bros, you are my hero!!! My zipkin finally can connect to the elasticsearch . Thank you so much, you are so efficient, looking forward for the official version haha\r\n\r\nI think it works :P","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524499646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524508654","html_url":"https://github.com/openzipkin/zipkin/issues/2776#issuecomment-524508654","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2776","id":524508654,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDUwODY1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-24T02:20:28Z","updated_at":"2019-08-24T02:20:28Z","author_association":"MEMBER","body":"This makes the problem a bit better, as at least we can see the `com.linecorp.armeria.common.ClosedSessionException` now. I do think it would be nicer to see the root exception, but possibly this is enough for now.. Will wait for feedback before closing.\r\n\r\nhttps://github.com/openzipkin/zipkin/pull/2777","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524508654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524530596","html_url":"https://github.com/openzipkin/zipkin/pull/2779#issuecomment-524530596","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2779","id":524530596,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDUzMDU5Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-24T08:04:30Z","updated_at":"2019-08-24T08:04:30Z","author_association":"MEMBER","body":"so still flaking on one endpoint which isn't returning a span for the storage layer..\r\n\r\n```json\r\n  [\r\n    {\r\n      \"traceId\": \"7dddc296c13a5448\",\r\n      \"id\": \"7dddc296c13a5448\",\r\n      \"kind\": \"SERVER\",\r\n      \"name\": \"post /api/v1/spans\",\r\n      \"timestamp\": 1566632878396438,\r\n      \"duration\": 14240,\r\n      \"localEndpoint\": {\r\n        \"serviceName\": \"zipkin-server\",\r\n        \"ipv4\": \"172.17.0.1\"\r\n      },\r\n      \"remoteEndpoint\": {\r\n        \"ipv4\": \"127.0.0.1\",\r\n        \"port\": 57474\r\n      },\r\n      \"annotations\": [\r\n        {\r\n          \"timestamp\": 1566632878396451,\r\n          \"value\": \"wr\"\r\n        },\r\n        {\r\n          \"timestamp\": 1566632878410664,\r\n          \"value\": \"ws\"\r\n        }\r\n      ],\r\n      \"tags\": {\r\n        \"http.method\": \"POST\",\r\n        \"http.path\": \"/api/v1/spans\"\r\n      }\r\n    }\r\n  ]\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524530596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524543446","html_url":"https://github.com/openzipkin/zipkin/issues/2781#issuecomment-524543446","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2781","id":524543446,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDU0MzQ0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-24T11:38:15Z","updated_at":"2019-08-24T11:38:15Z","author_association":"MEMBER","body":"if you just ignore the v1, the v2 will fail. I set both to ignore.\r\n\r\n```\r\norg.awaitility.core.ConditionTimeoutException: Assertion condition defined as a lambda expression in zipkin2.server.internal.brave.ITZipkinSelfTracing Wanted 3 spans: got 2. Current traces: [[{\"traceId\":\"0000000000000001\",\"id\":\"0000000000000002\",\"name\":\"test-trace\",\"timestamp\":1566604800000}], [{\"traceId\":\"fff6fd2f587752ec\",\"id\":\"fff6fd2f587752ec\",\"kind\":\"SERVER\",\"name\":\"post /api/v2/spans\",\"timestamp\":1566646125299530,\"duration\":17064,\"localEndpoint\":{\"serviceName\":\"zipkin-server\",\"ipv4\":\"172.17.0.1\"},\"remoteEndpoint\":{\"ipv4\":\"127.0.0.1\",\"port\":34992},\"annotations\":[{\"timestamp\":1566646125299541,\"value\":\"wr\"},{\"timestamp\":1566646125316581,\"value\":\"ws\"}],\"tags\":{\"http.method\":\"POST\",\"http.path\":\"/api/v2/spans\"}}]] within 10 seconds.\r\n\tat zipkin2.server.internal.brave.ITZipkinSelfTracing.awaitSpans(ITZipkinSelfTracing.java:121)\r\n\tat zipkin2.server.internal.brave.ITZipkinSelfTracing.postIsTraced_v2(ITZipkinSelfTracing.java:101)\r\nCaused by: java.lang.AssertionError: Wanted 3 spans: got 2. Current traces: [[{\"traceId\":\"0000000000000001\",\"id\":\"0000000000000002\",\"name\":\"test-trace\",\"timestamp\":1566604800000}], [{\"traceId\":\"fff6fd2f587752ec\",\"id\":\"fff6fd2f587752ec\",\"kind\":\"SERVER\",\"name\":\"post /api/v2/spans\",\"timestamp\":1566646125299530,\"duration\":17064,\"localEndpoint\":{\"serviceName\":\"zipkin-server\",\"ipv4\":\"172.17.0.1\"},\"remoteEndpoint\":{\"ipv4\":\"127.0.0.1\",\"port\":34992},\"annotations\":[{\"timestamp\":1566646125299541,\"value\":\"wr\"},{\"timestamp\":1566646125316581,\"value\":\"ws\"}],\"tags\":{\"http.method\":\"POST\",\"http.path\":\"/api/v2/spans\"}}]]\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524543446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524762118","html_url":"https://github.com/openzipkin/zipkin/issues/2266#issuecomment-524762118","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2266","id":524762118,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDc2MjExOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-26T08:04:43Z","updated_at":"2019-08-26T08:04:43Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/tree/master/zipkin-server#using-a-custom-key-store-or-trust-store-ssl","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524762118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524762243","html_url":"https://github.com/openzipkin/zipkin/issues/1683#issuecomment-524762243","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1683","id":524762243,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDc2MjI0Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-26T08:05:08Z","updated_at":"2019-08-26T08:05:08Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/tree/master/zipkin-server#using-a-custom-key-store-or-trust-store-ssl","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524762243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524762430","html_url":"https://github.com/openzipkin/zipkin/issues/2340#issuecomment-524762430","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2340","id":524762430,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDc2MjQzMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-26T08:05:40Z","updated_at":"2019-08-26T08:05:40Z","author_association":"MEMBER","body":"everything works now. we changed the implementation. please try 2.16.2 or later!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524762430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524793063","html_url":"https://github.com/openzipkin/zipkin/issues/2772#issuecomment-524793063","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2772","id":524793063,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDc5MzA2Mw==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-26T09:34:56Z","updated_at":"2019-08-26T09:34:56Z","author_association":"MEMBER","body":"Resolved by #2773 I believe","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524793063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524836512","html_url":"https://github.com/openzipkin/zipkin/issues/2646#issuecomment-524836512","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2646","id":524836512,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDgzNjUxMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-26T12:14:36Z","updated_at":"2019-08-26T12:14:36Z","author_association":"MEMBER","body":"I realize that if someone glances at this, it might seem there was only one factor into switching libraries. It would have been a mistake to only consider this.\r\n\r\nOkHttp is an extremely elegant library that solves problems well. Especially coupled with its buddies okio moshi and wire, it is very efficient.\r\n\r\nWhat isn't on this issue were several other chats around the bundling of concerns that made a transition sensible:\r\n* interest and hands: without @anuraaga nothing likely would change\r\n* mutual stake: if we didn't already use Armeria, this might not have happened\r\n* digging issue: if we didn't have people continuing to raise issues about https endpoints, this might not have happened. Ex #1611 and several variants with pings on chat\r\n\r\nDespite attempts to be very transparent, sometimes issues are raised all over the place, and discussions don't get copied everywhere. We probably weren't careful enough to elaborate here that this, if anything was a combination of above and timing of hands to do the work.\r\n\r\nI think I can speak for everyone in saying we are happy with all the help we've had from OkHttp and the change here does not imply a change from elsewhere like in Brave and Reporter where we put OkHttp forward in most examples. I tried to touch on this in release notes, but forgot to put something here https://github.com/openzipkin/zipkin/releases/tag/2.16.2\r\n\r\nEspecially in hindsight, I would recommend projects to think carefully about any transition away from OkHttp, and certainly consider using more of it. Its design is so thoughtful and we really had an easy few years depending on it. It is very efficient in practice, and has been remarkably stable. I would only expect such stability to continue.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524836512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524839660","html_url":"https://github.com/openzipkin/zipkin/issues/2646#issuecomment-524839660","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2646","id":524839660,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDgzOTY2MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-26T12:25:29Z","updated_at":"2019-08-26T12:28:18Z","author_association":"MEMBER","body":"fyi @vietj zipkin-junit still uses okhttp. I checked with v4.1 and it seems to work fine with no compile breaks. If you have any issue with zipkin-junit please open another issue. There's no plan to change that off okhttp. The only thing changed in this issue are internals of our elasticsearch driver.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/524839660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525345529","html_url":"https://github.com/openzipkin/zipkin/pull/2736#issuecomment-525345529","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2736","id":525345529,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTM0NTUyOQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T15:08:45Z","updated_at":"2019-08-27T15:08:45Z","author_association":"MEMBER","body":"Thank you everyone for your review!\r\nI am very sorry my work is late.\r\nI'm busy with other work right now...\r\nI will resume this work as soon as possible :bowing_man: ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525345529/reactions","total_count":5,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":5,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525375380","html_url":"https://github.com/openzipkin/zipkin/issues/2759#issuecomment-525375380","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2759","id":525375380,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTM3NTM4MA==","user":{"login":"jeqo","id":6180701,"node_id":"MDQ6VXNlcjYxODA3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6180701?v=4","gravatar_id":"","url":"https://api.github.com/users/jeqo","html_url":"https://github.com/jeqo","followers_url":"https://api.github.com/users/jeqo/followers","following_url":"https://api.github.com/users/jeqo/following{/other_user}","gists_url":"https://api.github.com/users/jeqo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeqo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeqo/subscriptions","organizations_url":"https://api.github.com/users/jeqo/orgs","repos_url":"https://api.github.com/users/jeqo/repos","events_url":"https://api.github.com/users/jeqo/events{/privacy}","received_events_url":"https://api.github.com/users/jeqo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T16:16:49Z","updated_at":"2019-08-27T16:16:49Z","author_association":"MEMBER","body":"One idea that comes from the development of <https://github.com/jeqo/zipkin-storage-kafka> and hope it fits under this issue: \r\n\r\nThe storage layer is based on Kafka Streams local store, that is aligned with partitioning. Currently we have specified that our implementation supports running only a standalone instance for storage, because if we scale the Zipkin instances, storage will get partitioned between servers.\r\n\r\nIn order to cope with this scenario I'd like to propose a `scatter-gather` support that allows storage layer to query other instances to build a response. \r\n\r\nExample scenario: Given a partitioned back-end with 3 zipkin servers (`a`,`b`,`c`) running as a cluster, if we receive a query from client-side, `zipkin-a` receive the request, and forward the same query to `zipkin-b` and `zipkin-c` with an additional query param (e.g. `peer=true`) so `b` and `c` don't propagate the query. `zipkin-a` receives responses and build response.\r\n\r\nKafka Streams already supports a metadata API to register peers URLs.\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525375380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525534909","html_url":"https://github.com/openzipkin/zipkin/issues/2759#issuecomment-525534909","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2759","id":525534909,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTUzNDkwOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T00:33:03Z","updated_at":"2019-08-28T00:33:03Z","author_association":"MEMBER","body":"Hi, Jorge. Is this actually a zipkin 3 issue? or could it be implemented\nwith the existing apis just possibly some other config? Want to parition\n(pun intended) things that can't be done without api changes..\n\nOn Wed, Aug 28, 2019 at 12:16 AM Jorge Quilcate Otoya <\nnotifications@github.com> wrote:\n\n> One idea that comes from the development of\n> https://github.com/jeqo/zipkin-storage-kafka and hope it fits under this\n> issue:\n>\n> The storage layer is based on Kafka Streams local store, that is aligned\n> with partitioning. Currently we have specified that our implementation\n> supports running only a standalone instance for storage, because if we\n> scale the Zipkin instances, storage will get partitioned between servers.\n>\n> In order to cope with this scenario I'd like to propose a scatter-gather\n> support that allows storage layer to query other instances to build a\n> response.\n>\n> Example scenario: Given a partitioned back-end with 3 zipkin servers (a,b,\n> c) running as a cluster, if we receive a query from client-side, zipkin-a\n> receive the request, and forward the same query to zipkin-b and zipkin-c\n> with an additional query param (e.g. peer=true) so b and c don't\n> propagate the query. zipkin-a receives responses and build response.\n>\n> Kafka Streams already supports a metadata API to register peers URLs.\n>\n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2759?email_source=notifications&email_token=AAAPVVYZMIFEV3QN7QFOXTDQGVHPHA5CNFSM4IMQZXPKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD5IJPFA#issuecomment-525375380>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV7EFKJ65OH22ENAIN3QGVHPHANCNFSM4IMQZXPA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525534909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525551650","html_url":"https://github.com/openzipkin/zipkin/issues/2783#issuecomment-525551650","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2783","id":525551650,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTU1MTY1MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T01:58:30Z","updated_at":"2019-08-28T01:58:30Z","author_association":"MEMBER","body":"please upgrade as we test against ES 7. if you have troubleshooting questions please use gitter https://gitter.im/openzipkin/zipkin","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525551650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525624059","html_url":"https://github.com/openzipkin/zipkin/issues/2759#issuecomment-525624059","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2759","id":525624059,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTYyNDA1OQ==","user":{"login":"jeqo","id":6180701,"node_id":"MDQ6VXNlcjYxODA3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6180701?v=4","gravatar_id":"","url":"https://api.github.com/users/jeqo","html_url":"https://github.com/jeqo","followers_url":"https://api.github.com/users/jeqo/followers","following_url":"https://api.github.com/users/jeqo/following{/other_user}","gists_url":"https://api.github.com/users/jeqo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeqo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeqo/subscriptions","organizations_url":"https://api.github.com/users/jeqo/orgs","repos_url":"https://api.github.com/users/jeqo/repos","events_url":"https://api.github.com/users/jeqo/events{/privacy}","received_events_url":"https://api.github.com/users/jeqo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T07:41:58Z","updated_at":"2019-08-28T07:41:58Z","author_association":"MEMBER","body":"Probably not, but got motivated by the issue tho :)\r\n\r\nI'll create it as an issue so we discuss if make sense. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525624059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525625040","html_url":"https://github.com/openzipkin/zipkin/issues/2759#issuecomment-525625040","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2759","id":525625040,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTYyNTA0MA==","user":{"login":"jeqo","id":6180701,"node_id":"MDQ6VXNlcjYxODA3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6180701?v=4","gravatar_id":"","url":"https://api.github.com/users/jeqo","html_url":"https://github.com/jeqo","followers_url":"https://api.github.com/users/jeqo/followers","following_url":"https://api.github.com/users/jeqo/following{/other_user}","gists_url":"https://api.github.com/users/jeqo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeqo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeqo/subscriptions","organizations_url":"https://api.github.com/users/jeqo/orgs","repos_url":"https://api.github.com/users/jeqo/repos","events_url":"https://api.github.com/users/jeqo/events{/privacy}","received_events_url":"https://api.github.com/users/jeqo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T07:44:49Z","updated_at":"2019-08-28T07:44:49Z","author_association":"MEMBER","body":"follow up #2784 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525625040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525638174","html_url":"https://github.com/openzipkin/zipkin/issues/2784#issuecomment-525638174","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2784","id":525638174,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTYzODE3NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T08:23:32Z","updated_at":"2019-08-28T08:23:32Z","author_association":"MEMBER","body":"main question is why does this need to affect other storage implementation?\nex what part of the query prevents you from coordinating underneath with a\nprivate api?\n\nusually we let patterns repeat prior to generalizing. so this is more a\nrequest for what is needed to facilitate this.. maybe we can brainstorm\nabout how to get one working before affecting the main api.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525638174/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525791897","html_url":"https://github.com/openzipkin/zipkin/issues/2785#issuecomment-525791897","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2785","id":525791897,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTc5MTg5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T15:15:55Z","updated_at":"2019-08-28T15:15:55Z","author_association":"MEMBER","body":"This might imply some work like partial summary which doesn't need to render the trace into a tree to do.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525791897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525792338","html_url":"https://github.com/openzipkin/zipkin/issues/2785#issuecomment-525792338","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2785","id":525792338,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTc5MjMzOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T15:16:58Z","updated_at":"2019-08-28T15:16:58Z","author_association":"MEMBER","body":"I also think jason from haystack noticed this before, we just didn't make an issue at that point. Right now, I think this is important as we want people to not want to revert from lens :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525792338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525903970","html_url":"https://github.com/openzipkin/zipkin/issues/2784#issuecomment-525903970","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2784","id":525903970,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTkwMzk3MA==","user":{"login":"jeqo","id":6180701,"node_id":"MDQ6VXNlcjYxODA3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6180701?v=4","gravatar_id":"","url":"https://api.github.com/users/jeqo","html_url":"https://github.com/jeqo","followers_url":"https://api.github.com/users/jeqo/followers","following_url":"https://api.github.com/users/jeqo/following{/other_user}","gists_url":"https://api.github.com/users/jeqo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeqo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeqo/subscriptions","organizations_url":"https://api.github.com/users/jeqo/orgs","repos_url":"https://api.github.com/users/jeqo/repos","events_url":"https://api.github.com/users/jeqo/events{/privacy}","received_events_url":"https://api.github.com/users/jeqo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T20:13:17Z","updated_at":"2019-08-28T20:13:17Z","author_association":"MEMBER","body":"@adriancole agree :) and probably moving it to the kafka-storage repo would be a better place to discuss.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525903970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525904019","html_url":"https://github.com/openzipkin/zipkin/issues/2784#issuecomment-525904019","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2784","id":525904019,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTkwNDAxOQ==","user":{"login":"jeqo","id":6180701,"node_id":"MDQ6VXNlcjYxODA3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6180701?v=4","gravatar_id":"","url":"https://api.github.com/users/jeqo","html_url":"https://github.com/jeqo","followers_url":"https://api.github.com/users/jeqo/followers","following_url":"https://api.github.com/users/jeqo/following{/other_user}","gists_url":"https://api.github.com/users/jeqo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeqo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeqo/subscriptions","organizations_url":"https://api.github.com/users/jeqo/orgs","repos_url":"https://api.github.com/users/jeqo/repos","events_url":"https://api.github.com/users/jeqo/events{/privacy}","received_events_url":"https://api.github.com/users/jeqo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T20:13:26Z","updated_at":"2019-08-28T20:13:26Z","author_association":"MEMBER","body":"Moved to https://github.com/jeqo/zipkin-storage-kafka/issues/36","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/525904019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526125727","html_url":"https://github.com/openzipkin/zipkin/pull/2786#issuecomment-526125727","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2786","id":526125727,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjEyNTcyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T10:27:16Z","updated_at":"2019-08-29T10:27:16Z","author_association":"MEMBER","body":"cc @bsideup I think you might be interested\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526125727/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526130867","html_url":"https://github.com/openzipkin/zipkin/pull/2786#issuecomment-526130867","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2786","id":526130867,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjEzMDg2Nw==","user":{"login":"bsideup","id":1050762,"node_id":"MDQ6VXNlcjEwNTA3NjI=","avatar_url":"https://avatars.githubusercontent.com/u/1050762?v=4","gravatar_id":"","url":"https://api.github.com/users/bsideup","html_url":"https://github.com/bsideup","followers_url":"https://api.github.com/users/bsideup/followers","following_url":"https://api.github.com/users/bsideup/following{/other_user}","gists_url":"https://api.github.com/users/bsideup/gists{/gist_id}","starred_url":"https://api.github.com/users/bsideup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bsideup/subscriptions","organizations_url":"https://api.github.com/users/bsideup/orgs","repos_url":"https://api.github.com/users/bsideup/repos","events_url":"https://api.github.com/users/bsideup/events{/privacy}","received_events_url":"https://api.github.com/users/bsideup/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T10:43:22Z","updated_at":"2019-08-29T10:43:22Z","author_association":"CONTRIBUTOR","body":"@adriancole nice! Commented a few things, but I like the idea \r\nNext step - [chaos testing](https://www.testcontainers.org/modules/toxiproxy/) of Zipkin? ;)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526130867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526159875","html_url":"https://github.com/openzipkin/zipkin/issues/2331#issuecomment-526159875","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2331","id":526159875,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjE1OTg3NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T12:20:15Z","updated_at":"2019-08-29T12:20:15Z","author_association":"MEMBER","body":"I have a hunch this happened","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526159875/reactions","total_count":2,"+1":0,"-1":0,"laugh":2,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526159976","html_url":"https://github.com/openzipkin/zipkin/issues/2152#issuecomment-526159976","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2152","id":526159976,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjE1OTk3Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T12:20:38Z","updated_at":"2019-08-29T12:20:38Z","author_association":"MEMBER","body":"we reverted to OpenZipkin org","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526159976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526160237","html_url":"https://github.com/openzipkin/zipkin/issues/2513#issuecomment-526160237","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2513","id":526160237,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjE2MDIzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T12:21:24Z","updated_at":"2019-08-29T12:21:24Z","author_association":"MEMBER","body":"no longer relevant","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526160237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526215314","html_url":"https://github.com/openzipkin/zipkin/pull/2787#issuecomment-526215314","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2787","id":526215314,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjIxNTMxNA==","user":{"login":"devinsba","id":139938,"node_id":"MDQ6VXNlcjEzOTkzOA==","avatar_url":"https://avatars.githubusercontent.com/u/139938?v=4","gravatar_id":"","url":"https://api.github.com/users/devinsba","html_url":"https://github.com/devinsba","followers_url":"https://api.github.com/users/devinsba/followers","following_url":"https://api.github.com/users/devinsba/following{/other_user}","gists_url":"https://api.github.com/users/devinsba/gists{/gist_id}","starred_url":"https://api.github.com/users/devinsba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinsba/subscriptions","organizations_url":"https://api.github.com/users/devinsba/orgs","repos_url":"https://api.github.com/users/devinsba/repos","events_url":"https://api.github.com/users/devinsba/events{/privacy}","received_events_url":"https://api.github.com/users/devinsba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T14:36:50Z","updated_at":"2019-08-29T14:36:50Z","author_association":"MEMBER","body":"Cool, I'll merge","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526215314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526413077","html_url":"https://github.com/openzipkin/zipkin/issues/2788#issuecomment-526413077","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2788","id":526413077,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQxMzA3Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T00:54:33Z","updated_at":"2019-08-30T00:54:33Z","author_association":"MEMBER","body":"the other thing to consider is that our http runtime doesn't support all the things actuator expects anyway (ex spring-security), by directly mounting these, we have a much more honest relationship, too. Finally anyone wanting to clone the server can just implement these and env variables  vs trying to re-implement all of spring boot. Even if we eventually unhook actuator, we can always add an optional module to add it back for sites who really want it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526413077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526413341","html_url":"https://github.com/openzipkin/zipkin/issues/2788#issuecomment-526413341","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2788","id":526413341,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQxMzM0MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T00:56:21Z","updated_at":"2019-08-30T00:56:21Z","author_association":"MEMBER","body":"here's some examples of investigations opting out of actuator\r\n\r\nhttps://github.com/dsyer/spring-boot-memory-blog#summary-of-data\r\nhttps://github.com/dsyer/spring-boot-startup-bench#actuator","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526413341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526430643","html_url":"https://github.com/openzipkin/zipkin/issues/2788#issuecomment-526430643","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2788","id":526430643,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQzMDY0Mw==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T02:26:39Z","updated_at":"2019-08-30T02:26:39Z","author_association":"MEMBER","body":"I'm not sure I'm understanding the problem or proposed solution. We explicitly enable all Actuator endpoints because this was the behavior with Spring Boot 1 and we thought some users would expect these endpoints or find them helpful (even if their path changed). I know we have used the env/configprops endpoints for troubleshooting user-reported issues in the past, at least.\r\n\r\nhttps://github.com/openzipkin/zipkin/blob/9885c8cc6ec302f7689047d17833d7c362f6dbd8/zipkin-server/src/main/resources/zipkin-server-shared.yml#L237-L241\r\n\r\nWe can limit that to a subset of endpoints if we don't want other endpoints because of some perceived cost.\r\n\r\nActuator does not require Spring Security - it's an optional dependency if you want to add security features it provides.\r\n\r\nIs the proposal that we reimplement any endpoints we care about ourselves instead of use the Actuator-provided endpoints? Is the startup and memory increase caused by Actuator that bad for us? As a datapoint, Zipkin Server 2.16.2 starts up in under 3 seconds on my laptop. And from Dave's summary of memory linked, we'd expect to save 1 MB of heap and 4 MB of non-heap assuming our replacement implementation costs virtually nothing.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526430643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526432028","html_url":"https://github.com/openzipkin/zipkin/issues/2788#issuecomment-526432028","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2788","id":526432028,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQzMjAyOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T02:33:56Z","updated_at":"2019-08-30T02:33:56Z","author_association":"MEMBER","body":"The intent here is to stop requiring dragging in the earth especially as integrated features.. people don't understand that spring security isn't there. We can make actuator opt-in, it was almost by accident that when everything broke moving to boot 2, that we migrated under that path via redirects.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526432028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526432497","html_url":"https://github.com/openzipkin/zipkin/issues/2788#issuecomment-526432497","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2788","id":526432497,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQzMjQ5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T02:36:31Z","updated_at":"2019-08-30T02:36:31Z","author_association":"MEMBER","body":"literally yesterday someone backchanneled me about 30 second startup eventually resolved when they rebooted, then down to a few seconds.\r\n\r\nThen we also had kafka having to rework to avoid compressed jars due to boot loading. When you remove actuator as a strict requirement (even if you leave it available), folks have a lot of flexibility.\r\n\r\nThis is not a general purpose app, it is a telemetry tool, we do most of the work custom and it seems suspect to be required to forever hold actuator which changes on spring boot releases outside our control, and also adds overhead.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526432497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526441052","html_url":"https://github.com/openzipkin/zipkin/issues/2788#issuecomment-526441052","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2788","id":526441052,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQ0MTA1Mg==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T03:24:27Z","updated_at":"2019-08-30T03:24:27Z","author_association":"MEMBER","body":"After chatting offline with Adrian about this, my conclusion (which may be different from his :P) is to say: I am in agreement with making Actuator optional and making our core endpoints mentioned not redirects/forwards. I do think having the option of enabling Actuator will be useful for users who do use Actuator endpoints besides our core ones.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526441052/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526451710","html_url":"https://github.com/openzipkin/zipkin/issues/2788#issuecomment-526451710","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2788","id":526451710,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQ1MTcxMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T04:34:02Z","updated_at":"2019-08-30T04:35:51Z","author_association":"MEMBER","body":"Capturing research as working on other things..\r\n\r\n* directly implement the json for /health like we do for /metrics and overwrite /actuator/health in case people saved redirect results\r\n* directly implement /info and redirect /actuator/info to it\r\n* mount directly /prometheus and /actuator/prometheus in case people saved redirect results\r\n\r\nMost of the above doesn't change our README, but worth a scrub.\r\n\r\nThen there are two code-level exposures to actuator classes:\r\n* ArmeriaSpringActuatorAutoConfiguration - we directly use this, but it is supposed to be auto-loaded via meta-inf. maybe it is an ordering concern\r\n* MeterRegistryCustomizer - this is in the actuator package.. we currently implement this, which pins us to the actuator class hierarchy. Another option @anuraaga suggests is to use `Consumer` instead for customizing until this is unwound upstream (likely not until boot 3). Then similar to others retrofit.\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526451710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526474123","html_url":"https://github.com/openzipkin/zipkin/pull/2786#issuecomment-526474123","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2786","id":526474123,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQ3NDEyMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T06:21:31Z","updated_at":"2019-08-30T06:21:31Z","author_association":"MEMBER","body":"sorry was going to address own feedback but got distracted..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526474123/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526484738","html_url":"https://github.com/openzipkin/zipkin/pull/2786#issuecomment-526484738","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2786","id":526484738,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQ4NDczOA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T07:02:31Z","updated_at":"2019-08-30T07:02:31Z","author_association":"CONTRIBUTOR","body":"Think I addressed all the comments. I changed the log level back to `info` if it's ok - I find the `info` messages showing container pulling / startup to be fairly useful. On the flip side, at least on my computer it spams an `error` log about not finding a docker credential helper and falling back to docker-java, which shows even when that's set to `warn`.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526484738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526485169","html_url":"https://github.com/openzipkin/zipkin/pull/2786#issuecomment-526485169","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2786","id":526485169,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQ4NTE2OQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T07:04:13Z","updated_at":"2019-08-30T07:04:13Z","author_association":"CONTRIBUTOR","body":"By he way, it sounds like you tried it out - I'm guessing on a Mac OS X? Any gotchas? I have to restart docker before a run of benchmarks or I get no prometheus metrics since docker time gets out of sync when my laptop sleeps. I'm wondering if this only affects Windows","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526485169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526498997","html_url":"https://github.com/openzipkin/zipkin/pull/2786#issuecomment-526498997","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2786","id":526498997,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjQ5ODk5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T07:52:15Z","updated_at":"2019-08-30T07:52:15Z","author_association":"MEMBER","body":"building was fine on os/x","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526498997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526516912","html_url":"https://github.com/openzipkin/zipkin/pull/2786#issuecomment-526516912","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2786","id":526516912,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjUxNjkxMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T08:44:32Z","updated_at":"2019-08-30T08:44:32Z","author_association":"MEMBER","body":"as this seems to crash when run in sequence one way or another (timeout, never respond etc) I think either we get to the bottom of it, or don't offer to run sequentially multiple configurations.\r\n\r\nThe first passes, the next dies either just spinning or a timeout. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526516912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526518803","html_url":"https://github.com/openzipkin/zipkin/pull/2786#issuecomment-526518803","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2786","id":526518803,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjUxODgwMw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T08:49:52Z","updated_at":"2019-08-30T08:49:52Z","author_association":"CONTRIBUTOR","body":"Will check it out think I repro that too. It didn't happen yesterday so something in the meantime made it worse so just need to find it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526518803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526544783","html_url":"https://github.com/openzipkin/zipkin/pull/2790#issuecomment-526544783","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2790","id":526544783,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjU0NDc4Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T10:06:04Z","updated_at":"2019-08-30T10:06:04Z","author_association":"MEMBER","body":"I think maybe add a README in the docker directory about migration in\nprogress and that this is a copy of the contents of the other repo. then\nsgtm\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/526544783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]