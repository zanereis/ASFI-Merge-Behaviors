[{"url":"https://api.github.com/repos/apache/druid/issues/comments/310817435","html_url":"https://github.com/apache/druid/issues/4246#issuecomment-310817435","issue_url":"https://api.github.com/repos/apache/druid/issues/4246","id":310817435,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDgxNzQzNQ==","user":{"login":"silvestre-abruzzo-fyber","id":12257776,"node_id":"MDQ6VXNlcjEyMjU3Nzc2","avatar_url":"https://avatars.githubusercontent.com/u/12257776?v=4","gravatar_id":"","url":"https://api.github.com/users/silvestre-abruzzo-fyber","html_url":"https://github.com/silvestre-abruzzo-fyber","followers_url":"https://api.github.com/users/silvestre-abruzzo-fyber/followers","following_url":"https://api.github.com/users/silvestre-abruzzo-fyber/following{/other_user}","gists_url":"https://api.github.com/users/silvestre-abruzzo-fyber/gists{/gist_id}","starred_url":"https://api.github.com/users/silvestre-abruzzo-fyber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/silvestre-abruzzo-fyber/subscriptions","organizations_url":"https://api.github.com/users/silvestre-abruzzo-fyber/orgs","repos_url":"https://api.github.com/users/silvestre-abruzzo-fyber/repos","events_url":"https://api.github.com/users/silvestre-abruzzo-fyber/events{/privacy}","received_events_url":"https://api.github.com/users/silvestre-abruzzo-fyber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-24T06:09:17Z","updated_at":"2017-06-24T06:09:17Z","author_association":"NONE","body":"Hi, We are having the same issue as well, at least one per day. Any recommendation how to solve it? Thank you\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/310817435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/310820866","html_url":"https://github.com/apache/druid/pull/4461#issuecomment-310820866","issue_url":"https://api.github.com/repos/apache/druid/issues/4461","id":310820866,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDgyMDg2Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-24T07:02:52Z","updated_at":"2017-06-24T07:02:52Z","author_association":"CONTRIBUTOR","body":"What do you think about adding timeout for ```tryLock()``` as well? I think it will be useful.\r\n\r\n> Acquiring task lock for overlapping intervals causes a deadlock.\r\n\r\nMaybe we need to return ```TaskLockPosse``` when ```tryLock()``` or ```lock()``` is failed to figure out the current lock failure is due to deadlock or not?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/310820866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/310824205","html_url":"https://github.com/apache/druid/pull/4419#issuecomment-310824205","issue_url":"https://api.github.com/repos/apache/druid/issues/4419","id":310824205,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDgyNDIwNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-24T08:11:59Z","updated_at":"2017-06-24T08:11:59Z","author_association":"CONTRIBUTOR","body":"Agree on @drcrallen's idea @warmbreeze ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/310824205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/310824535","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-310824535","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":310824535,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDgyNDUzNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-24T08:18:59Z","updated_at":"2017-06-24T08:18:59Z","author_association":"CONTRIBUTOR","body":"What do you think about making the default listDelimiter configurable? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/310824535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/310827380","html_url":"https://github.com/apache/druid/issues/4465#issuecomment-310827380","issue_url":"https://api.github.com/repos/apache/druid/issues/4465","id":310827380,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDgyNzM4MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-24T09:18:35Z","updated_at":"2017-06-24T09:18:46Z","author_association":"CONTRIBUTOR","body":"I'm not sure what the best way is. If this test is deterministic, the best is making it as a valid test class and reducing testing time. If not, we can make this class not running on travis or changing it from a test class to something another like benchmark class.\r\n\r\n@xvrl do you have any idea on this as an original author?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/310827380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/310900722","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-310900722","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":310900722,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDkwMDcyMg==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-25T12:47:07Z","updated_at":"2017-06-25T12:47:07Z","author_association":"CONTRIBUTOR","body":"@jihoonson what do you mean by \"making the default listDelimiter configurable\"? Changing \"\\^A\" to other str? If so, I don't think it essentially resolve the problem mentioned here when it contains the new default listDelimiter in user's input events.\r\nIf user don't want a column being multi-value column, I think it's better to stop trying to split the input events using the listDelimiter, like setting disableListDelimiter=true","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/310900722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/310903322","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-310903322","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":310903322,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDkwMzMyMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-25T13:42:14Z","updated_at":"2017-06-25T13:42:14Z","author_association":"CONTRIBUTOR","body":"> what do you mean by \"making the default listDelimiter configurable\"? Changing \"\\^A\" to other str? If so, I don't think it essentially resolve the problem mentioned here when it contains the new default listDelimiter in user's input events.\r\n\r\n@kaijianding yes, I meant it would be good for backward compatibility if users can change the default listDelimiter from ```\\^A``` to something. Also, we can treat empty listDelimiter (both given listDelimiter and default listDelimiter are empty) as disalbeListDelimiter=true.\r\n\r\nOr, IMO, it also makes sense to add a new configuration like ```multiValueDelimiter``` which has null as its default value, and make ```listDelimiter``` deprecated.\r\n\r\nI basically agree on this feature is needed, but think that there will be a better option rather than simply adding a turn-off flag.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/310903322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/310905248","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-310905248","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":310905248,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDkwNTI0OA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-25T14:17:51Z","updated_at":"2017-06-25T14:17:51Z","author_association":"CONTRIBUTOR","body":"how about change disableListDelimiter to nullListDelimiterAsDisable? @jihoonson \r\nif nullListDelimiterAsDisable==true and listDelimiter==null, it means to disable listDelimiter\r\nif nullListDelimiterAsDisable==false and listDelimiter==null, it means listDelimiter=\\^A, and it is backward compatible\r\nI think it's similar to change default listDelimiter to something other than \\^A","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/310905248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/310954380","html_url":"https://github.com/apache/druid/pull/4419#issuecomment-310954380","issue_url":"https://api.github.com/repos/apache/druid/issues/4419","id":310954380,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDk1NDM4MA==","user":{"login":"warmbreeze","id":4353307,"node_id":"MDQ6VXNlcjQzNTMzMDc=","avatar_url":"https://avatars.githubusercontent.com/u/4353307?v=4","gravatar_id":"","url":"https://api.github.com/users/warmbreeze","html_url":"https://github.com/warmbreeze","followers_url":"https://api.github.com/users/warmbreeze/followers","following_url":"https://api.github.com/users/warmbreeze/following{/other_user}","gists_url":"https://api.github.com/users/warmbreeze/gists{/gist_id}","starred_url":"https://api.github.com/users/warmbreeze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/warmbreeze/subscriptions","organizations_url":"https://api.github.com/users/warmbreeze/orgs","repos_url":"https://api.github.com/users/warmbreeze/repos","events_url":"https://api.github.com/users/warmbreeze/events{/privacy}","received_events_url":"https://api.github.com/users/warmbreeze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T03:14:34Z","updated_at":"2017-06-26T03:14:34Z","author_association":"NONE","body":"@drcrallenÔºåWill this need add a new field specify the joda time format, such as: 'yyyy-MM-dd HH:mm:ss.SSS' in query or other json string?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/310954380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/310955124","html_url":"https://github.com/apache/druid/issues/4400#issuecomment-310955124","issue_url":"https://api.github.com/repos/apache/druid/issues/4400","id":310955124,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDk1NTEyNA==","user":{"login":"rongzhg","id":16383228,"node_id":"MDQ6VXNlcjE2MzgzMjI4","avatar_url":"https://avatars.githubusercontent.com/u/16383228?v=4","gravatar_id":"","url":"https://api.github.com/users/rongzhg","html_url":"https://github.com/rongzhg","followers_url":"https://api.github.com/users/rongzhg/followers","following_url":"https://api.github.com/users/rongzhg/following{/other_user}","gists_url":"https://api.github.com/users/rongzhg/gists{/gist_id}","starred_url":"https://api.github.com/users/rongzhg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rongzhg/subscriptions","organizations_url":"https://api.github.com/users/rongzhg/orgs","repos_url":"https://api.github.com/users/rongzhg/repos","events_url":"https://api.github.com/users/rongzhg/events{/privacy}","received_events_url":"https://api.github.com/users/rongzhg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T03:22:36Z","updated_at":"2017-06-26T03:22:36Z","author_association":"NONE","body":"I'm working on it now and hopefully will finish it in the next few weeks :) ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/310955124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/310961314","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-310961314","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":310961314,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDk2MTMxNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T04:29:35Z","updated_at":"2017-06-26T04:29:35Z","author_association":"CONTRIBUTOR","body":"@kaijianding it looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/310961314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311015380","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-311015380","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":311015380,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTAxNTM4MA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T09:56:30Z","updated_at":"2017-06-26T09:56:30Z","author_association":"CONTRIBUTOR","body":"@leventov what do you think about changing disableListDelimiter to nullListDelimiterAsDisable?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311015380/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311097313","html_url":"https://github.com/apache/druid/pull/4401#issuecomment-311097313","issue_url":"https://api.github.com/repos/apache/druid/issues/4401","id":311097313,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTA5NzMxMw==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T15:40:17Z","updated_at":"2017-06-26T15:40:17Z","author_association":"MEMBER","body":"I think it is better to have a new tuningConfig `resetDataSourceMetadataIfKafkaTopicChanged` or something like that so that users don't opt in for other behaviour of `resetOffsetAutomatically` unintentionally. \r\n\r\nAlso I think it would be better to perform the topic check and `resetInternal` call in the supervisor `start` method  before scheduling all other supervisor threads, no need to check every time run loop runs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311097313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311118059","html_url":"https://github.com/apache/druid/issues/4400#issuecomment-311118059","issue_url":"https://api.github.com/repos/apache/druid/issues/4400","id":311118059,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTExODA1OQ==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T16:54:07Z","updated_at":"2017-06-26T17:50:31Z","author_association":"CONTRIBUTOR","body":"Interesting proposal, I think the following things should be considered closely:\r\n* Rolling restart capability. For example Mesosphere Marathon allows to keep a percentage of the cluster up while doing an upgrade/reconfiguration/maintenance restart of the cluster. That is very important for Historical clusters.\r\n* Readiness check period. When you do a rollout and need to keep a part of the cluster up, you need some status, so to decide is a new node is ready and healthy, so you can proceed with rest of the cluster. For example Historical needs some time to read cache from disk storage, this period should not be considered neither healthy nor unhealthy. If we take that period as healthy we will restart all the cluster at once (could be a huge strain for the coordinator, and could cause general unavailability of the service). If we take (cache loading period) as unhealthy then (cache loading is long enough) the task will fail the health check and will be restarted during cache loading. So health checks should trigger a restart due to a node failure, and readiness checks delay a rollout until new nodes can serve loaded segments.\r\n* I think, even if you aren't going to implement multiple running  druid containers on a single node, you have to plan the architecture for that from the start, so at the time when you start to implement you don't have to rewrite most of your previous solutions. How do you plan to provide ports/paths parameters in that case, for example?\r\n* I think, thread pool sizes should be derived from allocated vcores number dynamically.\r\n* What the capabilities of the tracking UI do you plan?\r\n\r\nAlso, I don't know whether your MiddleManager cluster is using Indexer auto-scaling feature. If yes, then why do you need Yarn for MiddleManager?\r\nDo you plan to implement any kind of resource isolation?\r\nDid you consider Mesos?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311118059/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311137295","html_url":"https://github.com/apache/druid/pull/4467#issuecomment-311137295","issue_url":"https://api.github.com/repos/apache/druid/issues/4467","id":311137295,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTEzNzI5NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T18:08:22Z","updated_at":"2017-06-26T18:08:22Z","author_association":"CONTRIBUTOR","body":"Marked 0.10.1 since this looks like a regression to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311137295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311148786","html_url":"https://github.com/apache/druid/pull/4420#issuecomment-311148786","issue_url":"https://api.github.com/repos/apache/druid/issues/4420","id":311148786,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTE0ODc4Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T18:50:55Z","updated_at":"2017-06-26T18:50:55Z","author_association":"MEMBER","body":"@jon-wei @b-slim any more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311148786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311149811","html_url":"https://github.com/apache/druid/pull/4420#issuecomment-311149811","issue_url":"https://api.github.com/repos/apache/druid/issues/4420","id":311149811,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTE0OTgxMQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T18:54:53Z","updated_at":"2017-06-26T18:54:53Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311149811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311170667","html_url":"https://github.com/apache/druid/pull/4420#issuecomment-311170667","issue_url":"https://api.github.com/repos/apache/druid/issues/4420","id":311170667,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTE3MDY2Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T20:21:21Z","updated_at":"2017-06-26T20:21:21Z","author_association":"CONTRIBUTOR","body":"LGTM, :+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311170667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311181629","html_url":"https://github.com/apache/druid/pull/4270#issuecomment-311181629","issue_url":"https://api.github.com/repos/apache/druid/issues/4270","id":311181629,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTE4MTYyOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T21:05:19Z","updated_at":"2017-06-26T21:05:19Z","author_association":"CONTRIBUTOR","body":"@pjain1 This patch mostly LGTM now, I'm okay with merging this once the discussions around the PasswordProvider are resolved.\r\n\r\nI agree with @gianm and @drcrallen on keeping the existing password handling for the metadata store unchanged in this PR, and left my thoughts on @drcrallen's comment regarding the PasswordProvider(or SecretProvider) interface. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311181629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311183296","html_url":"https://github.com/apache/druid/pull/4442#issuecomment-311183296","issue_url":"https://api.github.com/repos/apache/druid/issues/4442","id":311183296,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTE4MzI5Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T21:12:05Z","updated_at":"2017-06-26T21:12:05Z","author_association":"CONTRIBUTOR","body":"@leventov thanks for your review; I updated the patch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311183296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311184553","html_url":"https://github.com/apache/druid/pull/4429#issuecomment-311184553","issue_url":"https://api.github.com/repos/apache/druid/issues/4429","id":311184553,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTE4NDU1Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T21:17:14Z","updated_at":"2017-06-26T21:17:14Z","author_association":"CONTRIBUTOR","body":"> Looks cool! Changing around the module injection order can change the lifecycle ordering through. As such this probably needs good testing internally to make sure the different instance types can all run with this change.\r\n\r\nThe integration tests, at least, check it for the major types.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311184553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311188922","html_url":"https://github.com/apache/druid/pull/4461#issuecomment-311188922","issue_url":"https://api.github.com/repos/apache/druid/issues/4461","id":311188922,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTE4ODkyMg==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T21:35:08Z","updated_at":"2017-06-26T21:35:08Z","author_association":"CONTRIBUTOR","body":"Thanks @jihoonson.\r\nTimeout is not required for `tryLock()`  because it is non blocking and returns immediately.\r\nMade changes to throw an exception and alert incase of overlapping interval.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311188922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311209783","html_url":"https://github.com/apache/druid/pull/4444#issuecomment-311209783","issue_url":"https://api.github.com/repos/apache/druid/issues/4444","id":311209783,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTIwOTc4Mw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T23:28:16Z","updated_at":"2017-06-26T23:28:16Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311209783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311212653","html_url":"https://github.com/apache/druid/pull/4467#issuecomment-311212653","issue_url":"https://api.github.com/repos/apache/druid/issues/4467","id":311212653,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTIxMjY1Mw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T23:47:42Z","updated_at":"2017-06-26T23:47:42Z","author_association":"CONTRIBUTOR","body":"üëç after minor comment resolved","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311212653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311223189","html_url":"https://github.com/apache/druid/issues/4359#issuecomment-311223189","issue_url":"https://api.github.com/repos/apache/druid/issues/4359","id":311223189,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTIyMzE4OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T01:02:25Z","updated_at":"2017-06-27T01:02:25Z","author_association":"CONTRIBUTOR","body":"ITUnionQueryTest - no output for 10m0s\r\n\r\nhttps://travis-ci.org/druid-io/druid/jobs/247310893\r\n\r\nThis looks due to zookeeper timeout. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311223189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311229908","html_url":"https://github.com/apache/druid/pull/4468#issuecomment-311229908","issue_url":"https://api.github.com/repos/apache/druid/issues/4468","id":311229908,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTIyOTkwOA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T01:51:46Z","updated_at":"2017-06-27T01:51:46Z","author_association":"CONTRIBUTOR","body":"@jihoonson thanks üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311229908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311240437","html_url":"https://github.com/apache/druid/issues/4400#issuecomment-311240437","issue_url":"https://api.github.com/repos/apache/druid/issues/4400","id":311240437,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTI0MDQzNw==","user":{"login":"rongzhg","id":16383228,"node_id":"MDQ6VXNlcjE2MzgzMjI4","avatar_url":"https://avatars.githubusercontent.com/u/16383228?v=4","gravatar_id":"","url":"https://api.github.com/users/rongzhg","html_url":"https://github.com/rongzhg","followers_url":"https://api.github.com/users/rongzhg/followers","following_url":"https://api.github.com/users/rongzhg/following{/other_user}","gists_url":"https://api.github.com/users/rongzhg/gists{/gist_id}","starred_url":"https://api.github.com/users/rongzhg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rongzhg/subscriptions","organizations_url":"https://api.github.com/users/rongzhg/orgs","repos_url":"https://api.github.com/users/rongzhg/repos","events_url":"https://api.github.com/users/rongzhg/events{/privacy}","received_events_url":"https://api.github.com/users/rongzhg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T03:09:51Z","updated_at":"2017-06-27T03:09:51Z","author_association":"NONE","body":"Well for now, we use yarn in production and most likely druid will run on hadoop clusters with other applications like flink.  So currently I'd like to implement druid on yarn first.\r\n\r\n* The app master can support several different startup strategies:\r\n  1. exclusive -- one container on a single node \r\n  2. common -- container can be started on any node with enough resource\r\n\r\n  And more strategies could also be added dynamicly with limited code change.\r\n\r\n  The second strategy depends on a critical feature: configuration needs to be replaced on worker startup by app master.  \r\n\r\n  For example: the **historical data dir** and the **thread pool sizes**.  With multitenancy in to consideration, even the zk path need to be set by app master.\r\n\r\n  The design for this config-replace feature is to separate the binary build and config.  The configuration will be replaced and merged into binary build before worker startup by app master.\r\n\r\n* Resource isolation\r\nAs far as I know, yarn has resource isolation function using cgroup.  \r\n\r\n* MiddleManager\r\nFor now,  middle manager is considered as controller role.  So it won't be scheduled by yarn.\r\n\r\n*  Rolling restart \r\nRolling restart is a great proposal. \r\n   1. In my design, one app master is designated for one role.  So sysadmins needs to decide which role to upgrade.\r\n   2. Upgrade broker/historical. \r\n\r\n   Currently, the strategy is rather simple.  Split workers into several batches and upgrade these batches one by one with a time interval of n.  The batch size and time interval will be decided by sysadmins according to their experience.\r\n   \r\n   I can't find any good way to check the status for brokers and historical.  For my understanding,  currently, there's no interface to get the worker status.  \r\n\r\n* Tracking UI\r\nWell i haven't thought about it thoroughly yet as the yarn UI is enough for me now.  So I would be really appreciate if you have any ideas.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311240437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311277068","html_url":"https://github.com/apache/druid/pull/4238#issuecomment-311277068","issue_url":"https://api.github.com/repos/apache/druid/issues/4238","id":311277068,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTI3NzA2OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T07:31:48Z","updated_at":"2017-06-27T07:31:48Z","author_association":"CONTRIBUTOR","body":"@gianm thanks. I addressed your comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311277068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311303224","html_url":"https://github.com/apache/druid/pull/4350#issuecomment-311303224","issue_url":"https://api.github.com/repos/apache/druid/issues/4350","id":311303224,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTMwMzIyNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T09:23:14Z","updated_at":"2017-06-27T09:23:14Z","author_association":"CONTRIBUTOR","body":"Looks good to me!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311303224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311356995","html_url":"https://github.com/apache/druid/issues/4359#issuecomment-311356995","issue_url":"https://api.github.com/repos/apache/druid/issues/4359","id":311356995,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTM1Njk5NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T13:25:06Z","updated_at":"2017-06-27T13:25:06Z","author_association":"CONTRIBUTOR","body":"I think ```no output for 10m0s``` is due to exhaustion of memory. https://github.com/druid-io/druid/pull/4429 might be helpful.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311356995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311421444","html_url":"https://github.com/apache/druid/pull/4409#issuecomment-311421444","issue_url":"https://api.github.com/repos/apache/druid/issues/4409","id":311421444,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTQyMTQ0NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T17:02:36Z","updated_at":"2017-06-27T17:02:36Z","author_association":"MEMBER","body":"@drcrallen what do you think about the proposed solution?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311421444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311425529","html_url":"https://github.com/apache/druid/issues/4334#issuecomment-311425529","issue_url":"https://api.github.com/repos/apache/druid/issues/4334","id":311425529,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTQyNTUyOQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T17:18:03Z","updated_at":"2017-06-27T17:18:03Z","author_association":"MEMBER","body":"@mgastel note that you shouldn't use offHeap cache, it is broken: #3663","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311425529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311429462","html_url":"https://github.com/apache/druid/pull/4429#issuecomment-311429462","issue_url":"https://api.github.com/repos/apache/druid/issues/4429","id":311429462,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTQyOTQ2Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T17:32:05Z","updated_at":"2017-06-27T17:32:05Z","author_association":"CONTRIBUTOR","body":"Moved into 0.10.1 as discussed in the dev sync","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311429462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311442446","html_url":"https://github.com/apache/druid/pull/4472#issuecomment-311442446","issue_url":"https://api.github.com/repos/apache/druid/issues/4472","id":311442446,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTQ0MjQ0Ng==","user":{"login":"dgolitsyn","id":24657189,"node_id":"MDQ6VXNlcjI0NjU3MTg5","avatar_url":"https://avatars.githubusercontent.com/u/24657189?v=4","gravatar_id":"","url":"https://api.github.com/users/dgolitsyn","html_url":"https://github.com/dgolitsyn","followers_url":"https://api.github.com/users/dgolitsyn/followers","following_url":"https://api.github.com/users/dgolitsyn/following{/other_user}","gists_url":"https://api.github.com/users/dgolitsyn/gists{/gist_id}","starred_url":"https://api.github.com/users/dgolitsyn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgolitsyn/subscriptions","organizations_url":"https://api.github.com/users/dgolitsyn/orgs","repos_url":"https://api.github.com/users/dgolitsyn/repos","events_url":"https://api.github.com/users/dgolitsyn/events{/privacy}","received_events_url":"https://api.github.com/users/dgolitsyn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T18:19:51Z","updated_at":"2017-06-27T18:19:51Z","author_association":"CONTRIBUTOR","body":"No, this PR does not fix #4389, will create separate PR for it","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311442446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311505595","html_url":"https://github.com/apache/druid/pull/4410#issuecomment-311505595","issue_url":"https://api.github.com/repos/apache/druid/issues/4410","id":311505595,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTUwNTU5NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T22:36:00Z","updated_at":"2017-06-27T22:36:00Z","author_association":"MEMBER","body":"@gianm why intermediate result buffers are used on brokers only when chunkPeriod is applied? Broker sends queries to many nodes, and needs to merge the results from those nodes. It is done in ClientQuerySegmentWalker, `FluentQueryRunnerBuilder.mergeResults()` calls which delegates to `QueryToolChest.mergeResults()`, the same method that is used in `IntervalChunkingQueryRunner`. Also it seems to me that only groupBy queries ever use intermediate result buffers for such merge, because other query types don't use buffers in `mergeResults()`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311505595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311507344","html_url":"https://github.com/apache/druid/pull/4410#issuecomment-311507344","issue_url":"https://api.github.com/repos/apache/druid/issues/4410","id":311507344,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTUwNzM0NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T22:46:50Z","updated_at":"2017-06-27T22:46:50Z","author_association":"CONTRIBUTOR","body":"For groupBy v2, it's simple, they don't use processing buffers for merging. They might use merge buffers, but not processing buffers.\r\n\r\nFor groupBy v1, it _could_ use processing buffers for merging, but only if the incremental index is off-heap, which by default it's not. So if users enabled _two_ non-default options (groupBy v1 + offheap groupBy v1 processing) then they'll need buffers. groupBy v1 is lame that way.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311507344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311507677","html_url":"https://github.com/apache/druid/pull/4270#issuecomment-311507677","issue_url":"https://api.github.com/repos/apache/druid/issues/4270","id":311507677,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTUwNzY3Nw==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T22:48:40Z","updated_at":"2017-06-27T22:48:40Z","author_association":"MEMBER","body":"@gianm @jon-wei @drcrallen to keep things simple I have kept `PasswordProvider` interface same and changed the code so that at each place where a password is required, a new object of `PasswordProvider` is instantiated. Thus each `PasswordProvider` can be individually set using runtime properties in similar way as it is done for the metadata store password. \r\n\r\nAdded separate documentation pages for how to use and implement `PasswordProvider`, please have a look.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311507677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311511714","html_url":"https://github.com/apache/druid/pull/4410#issuecomment-311511714","issue_url":"https://api.github.com/repos/apache/druid/issues/4410","id":311511714,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTUxMTcxNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T23:13:03Z","updated_at":"2017-06-27T23:13:03Z","author_association":"MEMBER","body":"@gianm here: https://github.com/druid-io/druid/pull/4410#discussion_r122576060 as far as I understand you implied that if chunkPeriod is enabled, some other query types may use intermediate result buffers, although it seems to me that it's not true. Also I don't see how chunkPeriod is special/relevant here, because brokers do merge results anyway, regardless chunkPeriod.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311511714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311523732","html_url":"https://github.com/apache/druid/pull/4473#issuecomment-311523732","issue_url":"https://api.github.com/repos/apache/druid/issues/4473","id":311523732,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTUyMzczMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T00:35:11Z","updated_at":"2017-06-28T00:35:11Z","author_association":"CONTRIBUTOR","body":"Looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311523732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311526637","html_url":"https://github.com/apache/druid/pull/4238#issuecomment-311526637","issue_url":"https://api.github.com/repos/apache/druid/issues/4238","id":311526637,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTUyNjYzNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T00:56:34Z","updated_at":"2017-06-28T00:56:34Z","author_association":"CONTRIBUTOR","body":"Fixed conflicts","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311526637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311554891","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-311554891","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":311554891,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU1NDg5MQ==","user":{"login":"winval","id":15226789,"node_id":"MDQ6VXNlcjE1MjI2Nzg5","avatar_url":"https://avatars.githubusercontent.com/u/15226789?v=4","gravatar_id":"","url":"https://api.github.com/users/winval","html_url":"https://github.com/winval","followers_url":"https://api.github.com/users/winval/followers","following_url":"https://api.github.com/users/winval/following{/other_user}","gists_url":"https://api.github.com/users/winval/gists{/gist_id}","starred_url":"https://api.github.com/users/winval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/winval/subscriptions","organizations_url":"https://api.github.com/users/winval/orgs","repos_url":"https://api.github.com/users/winval/repos","events_url":"https://api.github.com/users/winval/events{/privacy}","received_events_url":"https://api.github.com/users/winval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T04:42:29Z","updated_at":"2017-06-28T04:42:29Z","author_association":"NONE","body":"nullListDelimiterAsDisable also looks a good choice, what do you think ? @leventov ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311554891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311560237","html_url":"https://github.com/apache/druid/issues/4477#issuecomment-311560237","issue_url":"https://api.github.com/repos/apache/druid/issues/4477","id":311560237,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU2MDIzNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T05:28:28Z","updated_at":"2017-06-28T05:28:28Z","author_association":"CONTRIBUTOR","body":"Try loading the druid-hdfs-storage extension.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311560237/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311561300","html_url":"https://github.com/apache/druid/issues/4449#issuecomment-311561300","issue_url":"https://api.github.com/repos/apache/druid/issues/4449","id":311561300,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU2MTMwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T05:36:32Z","updated_at":"2017-06-28T05:36:32Z","author_association":"CONTRIBUTOR","body":"I prefer option 1+ or 3.\r\n\r\nI'd avoid option 1 since storing floats as 32-bit works for a lot of people, and doubling their width would make segments bigger for no good reason. And I'd avoid option 2 since it's too weird in terms of API (DoubleSum and DoubleSum64 would be super confusing to new users, who would rightly think: why is there a difference? Isn't a double 64 bits?).\r\n\r\nIt'd be great to add real support for doubles throughout the query runtime. The current state of things led to the following (pretty sad) docs for Druid SQL:\r\n\r\n> Druid natively supports four main column types: \"long\" (64 bit signed int), \"float\" (32 bit float), \"string\" (UTF-8 encoded strings), and \"complex\" (catch-all for more exotic data types like hyperUnique and approxHistogram columns). [...] At runtime, Druid will widen floats to \"double\" (64 bit float) for certain features, like SUM aggregators. But this widening is not universal; some floating point operations retain 32 bit precision.\r\n\r\nRight now it's difficult for users to understand when floating point operations are 32 bit and when they're 64 bit.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311561300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311567252","html_url":"https://github.com/apache/druid/pull/4478#issuecomment-311567252","issue_url":"https://api.github.com/repos/apache/druid/issues/4478","id":311567252,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU2NzI1Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T06:19:55Z","updated_at":"2017-06-28T06:19:55Z","author_association":"MEMBER","body":"Note that this change led to a usability problem for us, when some extension includes some query-related and non-query-related stuff, and loaded on all types of nodes, and with this change that approach fails on the node types which don't include query-stuff anymore, like coordinator, because certain things couldn't be injected. The solution is #4438, so I changed it's milestone to 0.10.1 as well.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311567252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311571919","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-311571919","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":311571919,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU3MTkxOQ==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T06:47:04Z","updated_at":"2017-06-28T07:54:26Z","author_association":"CONTRIBUTOR","body":"~~~@vihag no we did not. The issue only seems to happen for us at summer/winter time change. Normally querying in other timezones works fine for us.~~~","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311571919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311573364","html_url":"https://github.com/apache/druid/issues/4434#issuecomment-311573364","issue_url":"https://api.github.com/repos/apache/druid/issues/4434","id":311573364,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU3MzM2NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T06:55:05Z","updated_at":"2018-07-19T21:09:46Z","author_association":"CONTRIBUTOR","body":"I have to admit that this proposal is quite complicated and tricky. I'll raise another proposal for this problem soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311573364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311586217","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-311586217","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":311586217,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU4NjIxNw==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T07:59:02Z","updated_at":"2017-06-28T07:59:02Z","author_association":"CONTRIBUTOR","body":"@vihag Scratch that, it's still happening for us when we run queries in a timezone that adjusts with summer time, so CST6CDT or EST5EDT for example.\r\n\r\nI guess Metamarkets, Imply and other companies that mostly commit to Druid don't allow their customers to run queries in these timezones.\r\n\r\nThe way we are fixing it now is to parse all the dates returned by druid and convert them back into the same timezone we want.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311586217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311587385","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-311587385","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":311587385,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU4NzM4NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T08:04:38Z","updated_at":"2017-06-28T08:04:38Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer, do you think you'd be able to write a unit test that shows the problem? If so, we can certainly fix it. It looks like so far the main thing stopping a fix is an inability to repro what you're seeing. I can't speak for everyone else, but at Imply we are definitely interested in having robust ability to query using non-UTC timezones.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311587385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311593670","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-311593670","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":311593670,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU5MzY3MA==","user":{"login":"vihag","id":23450847,"node_id":"MDQ6VXNlcjIzNDUwODQ3","avatar_url":"https://avatars.githubusercontent.com/u/23450847?v=4","gravatar_id":"","url":"https://api.github.com/users/vihag","html_url":"https://github.com/vihag","followers_url":"https://api.github.com/users/vihag/followers","following_url":"https://api.github.com/users/vihag/following{/other_user}","gists_url":"https://api.github.com/users/vihag/gists{/gist_id}","starred_url":"https://api.github.com/users/vihag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vihag/subscriptions","organizations_url":"https://api.github.com/users/vihag/orgs","repos_url":"https://api.github.com/users/vihag/repos","events_url":"https://api.github.com/users/vihag/events{/privacy}","received_events_url":"https://api.github.com/users/vihag/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T08:32:34Z","updated_at":"2017-06-28T08:33:03Z","author_association":"NONE","body":"@erikdubbelboer thank you for the confirmation, we are currently storing in UTC and querying at Asia/Singapore(+0800) time.  For now we are doing the exact same thing of parsing the results and making the time zones consistent.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311593670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311594799","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-311594799","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":311594799,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU5NDc5OQ==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T08:37:23Z","updated_at":"2017-06-28T08:37:23Z","author_association":"CONTRIBUTOR","body":"@vihag  That is strange since Singapore doesn't have summer/winter time.\r\n\r\n@gianm Do you have an example unit test that runs a query so I have something as a starting point?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311594799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311596240","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-311596240","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":311596240,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTU5NjI0MA==","user":{"login":"vihag","id":23450847,"node_id":"MDQ6VXNlcjIzNDUwODQ3","avatar_url":"https://avatars.githubusercontent.com/u/23450847?v=4","gravatar_id":"","url":"https://api.github.com/users/vihag","html_url":"https://github.com/vihag","followers_url":"https://api.github.com/users/vihag/followers","following_url":"https://api.github.com/users/vihag/following{/other_user}","gists_url":"https://api.github.com/users/vihag/gists{/gist_id}","starred_url":"https://api.github.com/users/vihag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vihag/subscriptions","organizations_url":"https://api.github.com/users/vihag/orgs","repos_url":"https://api.github.com/users/vihag/repos","events_url":"https://api.github.com/users/vihag/events{/privacy}","received_events_url":"https://api.github.com/users/vihag/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T08:43:48Z","updated_at":"2017-06-28T08:43:48Z","author_association":"NONE","body":"It is strange indeed, we combed through our data if there were inconsistencies in out data / cluster etc. We couldn't find any.\r\n^^ if possible, we would like to try and reproduce our issue via a unit test as well, we will need some guidelines though .","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311596240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311630835","html_url":"https://github.com/apache/druid/pull/4448#issuecomment-311630835","issue_url":"https://api.github.com/repos/apache/druid/issues/4448","id":311630835,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTYzMDgzNQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T11:18:58Z","updated_at":"2017-06-28T11:18:58Z","author_association":"CONTRIBUTOR","body":"The purpose of this PR is to provide the ability to build and load customized segment. SinkFactory and customizeIndexMerger are used to build customized segment, and the indexIo.loadSegment() is to load the customized segment  So I think the 3 modifications are better in one PR. @KurtYoung ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311630835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311643745","html_url":"https://github.com/apache/druid/pull/4448#issuecomment-311643745","issue_url":"https://api.github.com/repos/apache/druid/issues/4448","id":311643745,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTY0Mzc0NQ==","user":{"login":"KurtYoung","id":955396,"node_id":"MDQ6VXNlcjk1NTM5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/955396?v=4","gravatar_id":"","url":"https://api.github.com/users/KurtYoung","html_url":"https://github.com/KurtYoung","followers_url":"https://api.github.com/users/KurtYoung/followers","following_url":"https://api.github.com/users/KurtYoung/following{/other_user}","gists_url":"https://api.github.com/users/KurtYoung/gists{/gist_id}","starred_url":"https://api.github.com/users/KurtYoung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KurtYoung/subscriptions","organizations_url":"https://api.github.com/users/KurtYoung/orgs","repos_url":"https://api.github.com/users/KurtYoung/repos","events_url":"https://api.github.com/users/KurtYoung/events{/privacy}","received_events_url":"https://api.github.com/users/KurtYoung/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T12:22:55Z","updated_at":"2017-06-28T12:22:55Z","author_association":"CONTRIBUTOR","body":"Make sense except the third point. Overall it looks good to me. @leventov Do you have any design concerns?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311643745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311663700","html_url":"https://github.com/apache/druid/issues/4449#issuecomment-311663700","issue_url":"https://api.github.com/repos/apache/druid/issues/4449","id":311663700,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTY2MzcwMA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T13:42:59Z","updated_at":"2017-06-28T13:47:06Z","author_association":"CONTRIBUTOR","body":"@gianm thanks, i have started working on 1+, i preferred this one since it has less config to worry about form the user perspective.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311663700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311727405","html_url":"https://github.com/apache/druid/pull/4442#issuecomment-311727405","issue_url":"https://api.github.com/repos/apache/druid/issues/4442","id":311727405,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTcyNzQwNQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T17:15:55Z","updated_at":"2017-06-28T17:15:55Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311727405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311730025","html_url":"https://github.com/apache/druid/pull/4360#issuecomment-311730025","issue_url":"https://api.github.com/repos/apache/druid/issues/4360","id":311730025,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTczMDAyNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T17:25:48Z","updated_at":"2017-06-28T17:25:48Z","author_association":"CONTRIBUTOR","body":"@fjy @jihoonson @leventov @b-slim this PR is finally down to one commit that only touches the SQL module. I removed the WIP label since it's ready for review again.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311730025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311742061","html_url":"https://github.com/apache/druid/issues/4479#issuecomment-311742061","issue_url":"https://api.github.com/repos/apache/druid/issues/4479","id":311742061,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTc0MjA2MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T18:10:15Z","updated_at":"2017-06-28T18:10:15Z","author_association":"CONTRIBUTOR","body":"@jihoonson this looks good to me in general. I have one question though. Are read locks really needed? Is there any kind of task that wants a read lock but not a write lock?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311742061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311748263","html_url":"https://github.com/apache/druid/issues/4449#issuecomment-311748263","issue_url":"https://api.github.com/repos/apache/druid/issues/4449","id":311748263,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTc0ODI2Mw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T18:33:42Z","updated_at":"2017-06-28T18:34:51Z","author_association":"CONTRIBUTOR","body":"+1 4 1+","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311748263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311754893","html_url":"https://github.com/apache/druid/issues/4231#issuecomment-311754893","issue_url":"https://api.github.com/repos/apache/druid/issues/4231","id":311754893,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTc1NDg5Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T18:57:31Z","updated_at":"2017-06-28T18:57:31Z","author_association":"MEMBER","body":"Fixed in #4320","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311754893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311757191","html_url":"https://github.com/apache/druid/issues/4449#issuecomment-311757191","issue_url":"https://api.github.com/repos/apache/druid/issues/4449","id":311757191,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTc1NzE5MQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T19:05:50Z","updated_at":"2017-06-28T19:06:07Z","author_association":"CONTRIBUTOR","body":"We will need to NOT modify druid segment size footprint uncontrollably. We already have considerations for page cache thrashing and shaking that up is very problematic from our side. So whatever the solution, as long as we have the ability to retain the current on disk sizing and precision, and a smooth upgrade path, and no performance degradation for the prior behavior (float-on-disk --> double-agg), it should be good.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311757191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311779360","html_url":"https://github.com/apache/druid/pull/4472#issuecomment-311779360","issue_url":"https://api.github.com/repos/apache/druid/issues/4472","id":311779360,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTc3OTM2MA==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T20:28:33Z","updated_at":"2017-06-28T20:28:33Z","author_association":"CONTRIBUTOR","body":"@dgolitsyn @leventov This code will result in infinte wait for certain segements becuase of https://github.com/druid-io/druid/blob/master/server/src/main/java/io/druid/server/coordinator/helper/DruidCoordinatorBalancer.java#L98-L102. \r\n\r\n\"all moved segments are removed by callbacks \" - This is not true for cases like this one https://github.com/druid-io/druid/blob/master/server/src/main/java/io/druid/server/coordinator/helper/DruidCoordinatorBalancer.java#L169-L171","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311779360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311825580","html_url":"https://github.com/apache/druid/pull/4483#issuecomment-311825580","issue_url":"https://api.github.com/repos/apache/druid/issues/4483","id":311825580,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTgyNTU4MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T00:06:04Z","updated_at":"2017-06-29T00:06:04Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311825580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311830003","html_url":"https://github.com/apache/druid/issues/4479#issuecomment-311830003","issue_url":"https://api.github.com/repos/apache/druid/issues/4479","id":311830003,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTgzMDAwMw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T00:39:17Z","updated_at":"2017-06-29T00:39:17Z","author_association":"CONTRIBUTOR","body":"@gianm it relates to the current implementation of some tasks. For example, hadoop index tasks get the list of input segments when they start. Without lock types, this kind of large locks are likely to prevent other tasks from running at the same time if they read the common part of the same data source.\r\n\r\nIf we can change all task types to get fine-grained locks instead of getting a large lock at the beginning, maybe lock types aren't needed. But, I'm not sure how this change affects to performance of index tasks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311830003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311832567","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-311832567","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":311832567,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTgzMjU2Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T00:58:23Z","updated_at":"2017-06-29T00:58:23Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer hey, sorry for late response. I think ```GroupByQueryRunnerTest``` or ```ITIndexerTest``` might be a good example. I'll also run a test with your configurations and data set.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311832567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311838231","html_url":"https://github.com/apache/druid/issues/4479#issuecomment-311838231","issue_url":"https://api.github.com/repos/apache/druid/issues/4479","id":311838231,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTgzODIzMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T01:38:59Z","updated_at":"2017-06-29T01:38:59Z","author_association":"CONTRIBUTOR","body":"Do you mean hadoop tasks that have dataSource input specs? I thought that would only be for the specific intervals that the indexing job is for, meaning it would need to get a write lock for those intervals anyway. So a read lock by itself doesn't seem that useful.\r\n\r\nAm I missing something there though?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311838231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311842958","html_url":"https://github.com/apache/druid/issues/4479#issuecomment-311842958","issue_url":"https://api.github.com/repos/apache/druid/issues/4479","id":311842958,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTg0Mjk1OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T02:14:10Z","updated_at":"2017-06-29T02:14:10Z","author_association":"CONTRIBUTOR","body":"> Do you mean hadoop tasks that have dataSource input specs?\r\n\r\nAh, yes. I mean hadoop tasks which read a dataSource, but the output dataSource can be different from the input dataSource. In this case, they will get a read lock for the input dataSource and a write lock for the output dataSource.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311842958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311847146","html_url":"https://github.com/apache/druid/issues/4479#issuecomment-311847146","issue_url":"https://api.github.com/repos/apache/druid/issues/4479","id":311847146,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTg0NzE0Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T02:45:30Z","updated_at":"2017-06-29T02:45:30Z","author_association":"CONTRIBUTOR","body":"Ah, okay, I wasn't thinking about those. In that case it sounds good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311847146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311848899","html_url":"https://github.com/apache/druid/issues/4479#issuecomment-311848899","issue_url":"https://api.github.com/repos/apache/druid/issues/4479","id":311848899,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTg0ODg5OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T02:59:07Z","updated_at":"2017-06-29T02:59:07Z","author_association":"CONTRIBUTOR","body":"Ok. Thank you for the review!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311848899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311918653","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-311918653","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":311918653,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTkxODY1Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T09:51:00Z","updated_at":"2017-06-29T09:51:00Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer I tried to reproduce the bug, but your data set contains the rows of the same timestamp which makes difficult to reproduce. I think the best for us is a unit test which can reproduce the bug as @gianm said.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311918653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/311931869","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-311931869","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":311931869,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTkzMTg2OQ==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T10:52:46Z","updated_at":"2017-06-29T10:52:46Z","author_association":"CONTRIBUTOR","body":"@jihoonson I'm trying to write a test now but the issue is that all tests just compare the DateTime instances ([like here](https://github.com/druid-io/druid/blob/ae900a493479bf0be2cef5ce598a6822caa3def1/api/src/main/java/io/druid/data/input/MapBasedRow.java#L186)) of the rows, which compares the unix timestamps which are correct. The issue is that the result JSON contains different timezones for different rows.\r\n\r\nIn our cluster I can reproduce this 100% of the time by just running a query in CET for any day with a hourly granularity. Each time I run the exact same query different rows will randomly have different timezones.\r\n\r\nSo it doesn't even have anything to do with summer time since CET is always winter time.\r\n\r\nI suspect the bug is in the way the rows are serialized to JSON which I have no idea where in the code it is done yet or if there are tests for this.\r\n\r\nSo when I run a query for yesterday in CET for example I get rows back with a timezone of `2017-06-28T19:00:00.000+02:00` and other rows with a timezone of `2017-06-28T18:00:00.000Z`. If you convert them back to the same timezone the result is correct. It's only the JSON representation that is **weird** (not even strictly wrong).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/311931869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312012299","html_url":"https://github.com/apache/druid/issues/4479#issuecomment-312012299","issue_url":"https://api.github.com/repos/apache/druid/issues/4479","id":312012299,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjAxMjI5OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T16:00:03Z","updated_at":"2017-06-29T16:00:03Z","author_association":"CONTRIBUTOR","body":"For reference https://github.com/druid-io/druid/pull/1679\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312012299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312014865","html_url":"https://github.com/apache/druid/issues/4479#issuecomment-312014865","issue_url":"https://api.github.com/repos/apache/druid/issues/4479","id":312014865,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjAxNDg2NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T16:08:34Z","updated_at":"2017-06-29T16:08:34Z","author_association":"CONTRIBUTOR","body":"Good point @drcrallen, it seems this proposal has ended up more similar to #1679 than the original proposal from #4434. I think we should try to merge them.\r\n\r\n@pjain1 do you plan to keep working on #1679? Or would you like to fold that together into #4434 and @jihoonson can pick it up?\r\n\r\n@jihoonson, the comment history of #1679 probably has some content relevant to this proposal.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312014865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312037245","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-312037245","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":312037245,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjAzNzI0NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T17:31:55Z","updated_at":"2017-06-29T17:31:55Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer IIRC, DateTime equality includes timezone as well so you should be ok there. Although you're right. There are some serialization related code paths that aren't exercised in the query-runner unit tests.\r\n\r\nYour description of the problem sounds possibly related to #4343‚Ä¶¬†have you tried applying that patch? (It's available in 0.10.1-rc1, which you can get at http://druid.io/downloads.html)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312037245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312039258","html_url":"https://github.com/apache/druid/pull/4419#issuecomment-312039258","issue_url":"https://api.github.com/repos/apache/druid/issues/4419","id":312039258,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjAzOTI1OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T17:39:16Z","updated_at":"2017-06-29T17:39:16Z","author_association":"CONTRIBUTOR","body":"See also #4082. IMO, it's totally fine (and a good thing) for \"auto\" to accept iso-but-with-space-separator. \"auto\" is not really meant to be strictly iso8601 (there is \"iso\" for that) but is meant to automatically work with a few common formats.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312039258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312068579","html_url":"https://github.com/apache/druid/pull/4472#issuecomment-312068579","issue_url":"https://api.github.com/repos/apache/druid/issues/4472","id":312068579,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjA2ODU3OQ==","user":{"login":"dgolitsyn","id":24657189,"node_id":"MDQ6VXNlcjI0NjU3MTg5","avatar_url":"https://avatars.githubusercontent.com/u/24657189?v=4","gravatar_id":"","url":"https://api.github.com/users/dgolitsyn","html_url":"https://github.com/dgolitsyn","followers_url":"https://api.github.com/users/dgolitsyn/followers","following_url":"https://api.github.com/users/dgolitsyn/following{/other_user}","gists_url":"https://api.github.com/users/dgolitsyn/gists{/gist_id}","starred_url":"https://api.github.com/users/dgolitsyn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgolitsyn/subscriptions","organizations_url":"https://api.github.com/users/dgolitsyn/orgs","repos_url":"https://api.github.com/users/dgolitsyn/repos","events_url":"https://api.github.com/users/dgolitsyn/events{/privacy}","received_events_url":"https://api.github.com/users/dgolitsyn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T19:02:06Z","updated_at":"2017-06-29T19:02:06Z","author_association":"CONTRIBUTOR","body":"@niketh could you please explain how will segment in this case https://github.com/druid-io/druid/blob/master/server/src/main/java/io/druid/server/coordinator/helper/DruidCoordinatorBalancer.java#L169-L171 be added into `currentlyMovingSegments`?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312068579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312099399","html_url":"https://github.com/apache/druid/pull/4486#issuecomment-312099399","issue_url":"https://api.github.com/repos/apache/druid/issues/4486","id":312099399,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjA5OTM5OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T20:40:18Z","updated_at":"2017-06-29T20:40:18Z","author_association":"MEMBER","body":"#4472 should be merged first","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312099399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312104188","html_url":"https://github.com/apache/druid/pull/4409#issuecomment-312104188","issue_url":"https://api.github.com/repos/apache/druid/issues/4409","id":312104188,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjEwNDE4OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T20:50:34Z","updated_at":"2017-06-29T20:50:34Z","author_association":"MEMBER","body":"@drcrallen or @gianm could this PR be merged now?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312104188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312111521","html_url":"https://github.com/apache/druid/pull/4360#issuecomment-312111521","issue_url":"https://api.github.com/repos/apache/druid/issues/4360","id":312111521,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjExMTUyMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T21:19:06Z","updated_at":"2017-06-29T21:19:06Z","author_association":"CONTRIBUTOR","body":"Resolved conflicts by rebase since it looks like nobody has started reviewing yet.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312111521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312111784","html_url":"https://github.com/apache/druid/pull/4270#issuecomment-312111784","issue_url":"https://api.github.com/repos/apache/druid/issues/4270","id":312111784,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjExMTc4NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T21:20:24Z","updated_at":"2017-06-29T21:20:24Z","author_association":"CONTRIBUTOR","body":"@pjain1 the PasswordProvider approach looks good to me -- it's definitely simpler and looks like it should work well.\r\n\r\n@jon-wei could you take another look at the overall patch please?\r\n\r\nAnd @pjain1 could you please resolve the conflicts?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312111784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312142366","html_url":"https://github.com/apache/druid/issues/4479#issuecomment-312142366","issue_url":"https://api.github.com/repos/apache/druid/issues/4479","id":312142366,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE0MjM2Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T00:24:02Z","updated_at":"2017-06-30T00:24:02Z","author_association":"CONTRIBUTOR","body":"Interesting! Thanks for letting me know @drcrallen. @gianm, I'll check the comments and the patch itself of #1679. \r\n\r\n@pjain1 please let me know if you still want to work on #1679.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312142366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312142842","html_url":"https://github.com/apache/druid/pull/4474#issuecomment-312142842","issue_url":"https://api.github.com/repos/apache/druid/issues/4474","id":312142842,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE0Mjg0Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T00:27:53Z","updated_at":"2017-06-30T00:27:53Z","author_association":"CONTRIBUTOR","body":"@chrisgavin thanks for your patch. Please check the compilation error.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312142842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312143872","html_url":"https://github.com/apache/druid/pull/4360#issuecomment-312143872","issue_url":"https://api.github.com/repos/apache/druid/issues/4360","id":312143872,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE0Mzg3Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T00:36:12Z","updated_at":"2017-06-30T00:36:12Z","author_association":"CONTRIBUTOR","body":"@gianm thanks. I'll review today.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312143872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312145368","html_url":"https://github.com/apache/druid/pull/4481#issuecomment-312145368","issue_url":"https://api.github.com/repos/apache/druid/issues/4481","id":312145368,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE0NTM2OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T00:48:28Z","updated_at":"2017-06-30T00:48:28Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312145368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312146335","html_url":"https://github.com/apache/druid/pull/4463#issuecomment-312146335","issue_url":"https://api.github.com/repos/apache/druid/issues/4463","id":312146335,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE0NjMzNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T00:56:36Z","updated_at":"2017-06-30T00:56:36Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312146335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312148173","html_url":"https://github.com/apache/druid/pull/4270#issuecomment-312148173","issue_url":"https://api.github.com/repos/apache/druid/issues/4270","id":312148173,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE0ODE3Mw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T01:11:12Z","updated_at":"2017-06-30T01:11:12Z","author_association":"CONTRIBUTOR","body":"@pjain1 Reviewed the patch again, didn't have any more comments, looks good to me. The new password provider design looks good.\r\n\r\nI'll approve after resolving conflicts.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312148173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312166372","html_url":"https://github.com/apache/druid/pull/4270#issuecomment-312166372","issue_url":"https://api.github.com/repos/apache/druid/issues/4270","id":312166372,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE2NjM3Mg==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T03:37:35Z","updated_at":"2017-06-30T03:37:35Z","author_association":"MEMBER","body":"I am going to do some basic testing again tomorrow after which I think the PR will be mergeable.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312166372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312189545","html_url":"https://github.com/apache/druid/pull/4448#issuecomment-312189545","issue_url":"https://api.github.com/repos/apache/druid/issues/4448","id":312189545,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE4OTU0NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T06:48:37Z","updated_at":"2017-06-30T06:48:37Z","author_association":"CONTRIBUTOR","body":"Just a drive by comment on the public api stuff. I believe none of the segment-type extension points are public apis at this point (see http://druid.io/docs/latest/development/modules.html) and that's because we're not yet entirely sure what custom segment extensions should look like and what support they might need from core druid.\r\n\r\nIMO, if @kaijianding is ok with this then it's fine for his custom extensions to use internal apis. It's part of the learning process of what should and shouldn't be public for these kinds of extensions. At some point in the future, we might have a better idea of what should be public, and then we can make those apis public.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312189545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312192055","html_url":"https://github.com/apache/druid/pull/4448#issuecomment-312192055","issue_url":"https://api.github.com/repos/apache/druid/issues/4448","id":312192055,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE5MjA1NQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T07:04:33Z","updated_at":"2017-06-30T07:04:33Z","author_association":"CONTRIBUTOR","body":"I don't build custom segment from the very beginning but do some wrap on top of the old codes, like MetaData, Smoosh, V9 indexMerger and V9 loader, the sink and onHeapIncreamentalIndex.\r\n\r\nI modified the structure of the final smooshed file, but I didn't modify the v9 format itself. Then I need to access the metadata.drd and use v9 loader to load index from the smooshed file from position P1 to Pn. That's the reason I want MetaData and IndexLoader to be public, thus I can use it in my extension to load the custom segment from file. @gianm @leventov ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312192055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312193230","html_url":"https://github.com/apache/druid/pull/4448#issuecomment-312193230","issue_url":"https://api.github.com/repos/apache/druid/issues/4448","id":312193230,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE5MzIzMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T07:11:30Z","updated_at":"2017-06-30T07:11:30Z","author_association":"MEMBER","body":"@kaijianding I'm ok with just making (or keeping) classes and constructors public, but I'm not OK with adding properties and fields which are unused in the core codebase and protected methods to classes that have no subclasses in the core codebase. It increases complexity of the core for nothing. And it's not a step towards modular design, the ultimate goal of this PR as well.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312193230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312195129","html_url":"https://github.com/apache/druid/pull/4448#issuecomment-312195129","issue_url":"https://api.github.com/repos/apache/druid/issues/4448","id":312195129,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE5NTEyOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T07:22:21Z","updated_at":"2017-06-30T07:22:21Z","author_association":"CONTRIBUTOR","body":"Are there a lot of properties and fields in the patch that don't need to be protected or even exist at all? (Sorry, I haven't had a chance to read it yet). I'm hoping we can find a balance between keeping the core clean, and making the extension possible.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312195129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312198325","html_url":"https://github.com/apache/druid/pull/4448#issuecomment-312198325","issue_url":"https://api.github.com/repos/apache/druid/issues/4448","id":312198325,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE5ODMyNQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T07:39:26Z","updated_at":"2017-06-30T07:39:26Z","author_association":"CONTRIBUTOR","body":"Fine, will restore some changes and modify them when I provide an actually custom implement @leventov ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312198325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312335049","html_url":"https://github.com/apache/druid/pull/4270#issuecomment-312335049","issue_url":"https://api.github.com/repos/apache/druid/issues/4270","id":312335049,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjMzNTA0OQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T18:03:20Z","updated_at":"2017-06-30T18:03:26Z","author_association":"MEMBER","body":"The PR is mergeable now (if there are no more comments), note that I have added `toString` for `TLSServerConfig` and `SSLClientConfig` meaning that things like keyStorePath, keyStoreType etc. (excluding PasswordProviders) will be printed in logs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312335049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312365630","html_url":"https://github.com/apache/druid/pull/4270#issuecomment-312365630","issue_url":"https://api.github.com/repos/apache/druid/issues/4270","id":312365630,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjM2NTYzMA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T20:28:05Z","updated_at":"2017-06-30T20:28:05Z","author_association":"CONTRIBUTOR","body":"@drcrallen @nishantmonu51 Did you have any more comments on this patch?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312365630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312384389","html_url":"https://github.com/apache/druid/pull/4360#issuecomment-312384389","issue_url":"https://api.github.com/repos/apache/druid/issues/4360","id":312384389,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjM4NDM4OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T22:14:45Z","updated_at":"2017-06-30T22:14:45Z","author_association":"CONTRIBUTOR","body":"@jihoonson, thanks for your review! About your top level comments:\r\n\r\n> I tested a simple query like select sum(cast(l_linenumber, integer)) from druid.lineitem but the result was 0 even though select cast(l_linenumber, integer) from druid.lineitem returned a valid result. l_linenumber is defined as a string dimension. What is more weird is that I cannot reproduce this in unit tests. Do you have any idea?\r\n\r\nGood catch‚Ä¶¬†I'll add a test case for this. My guess is it's because the SQL layer has some code to detect when a cast is \"unnecessary\" to pass down to Druid, since it will be coerced at runtime anyway. In that case the Druid query uses a direct field access, which is often faster. I believe this is actually not ok when casting string to number for an aggregator, and that's where the problem comes from.\r\n\r\n> All works around this patch is to use Druid's expression as an internal projection layer for sql. I guess this is to avoid adding huge amount of codes to cover SQL's flexible expressiveness. However, this means, sometimes a sql query is parsed into Calcite's AST, and then some parts of the AST are converted to druid expression strings again. This will cause additional parsing overhead, and if the query size is exceptionally large like a few KB to MB, this can be significant. There will be some applications which uses large queries if we support join. What do you think about this?\r\n\r\nI think it's probably ok, since if a query is very large due to lots of joins, then I bet none of that will make it into Druid expressions anyway. If it's very large due to lots of complex expressions, then yes that will have to be parsed twice, but it should be dwarfed by execution overhead. (complex expressions are probably not cheap to execute at runtime)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312384389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312398539","html_url":"https://github.com/apache/druid/pull/4461#issuecomment-312398539","issue_url":"https://api.github.com/repos/apache/druid/issues/4461","id":312398539,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjM5ODUzOQ==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-01T00:25:04Z","updated_at":"2017-07-01T00:25:04Z","author_association":"CONTRIBUTOR","body":"Thanks @jihoonson. addressed comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312398539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312409584","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-312409584","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":312409584,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjQwOTU4NA==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-01T04:25:23Z","updated_at":"2017-07-01T04:25:23Z","author_association":"CONTRIBUTOR","body":"@gianm next week I'll upgrade our cluster to `0.10.1-rc1`. I'll let you know if it still happens after this.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312409584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312603522","html_url":"https://github.com/apache/druid/pull/4474#issuecomment-312603522","issue_url":"https://api.github.com/repos/apache/druid/issues/4474","id":312603522,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjYwMzUyMg==","user":{"login":"chrisgavin","id":5584439,"node_id":"MDQ6VXNlcjU1ODQ0Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5584439?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisgavin","html_url":"https://github.com/chrisgavin","followers_url":"https://api.github.com/users/chrisgavin/followers","following_url":"https://api.github.com/users/chrisgavin/following{/other_user}","gists_url":"https://api.github.com/users/chrisgavin/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisgavin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisgavin/subscriptions","organizations_url":"https://api.github.com/users/chrisgavin/orgs","repos_url":"https://api.github.com/users/chrisgavin/repos","events_url":"https://api.github.com/users/chrisgavin/events{/privacy}","received_events_url":"https://api.github.com/users/chrisgavin/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2017-07-03T09:59:15Z","updated_at":"2017-07-03T09:59:15Z","author_association":"CONTRIBUTOR","body":"Thanks. I have fixed it. :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312603522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312662688","html_url":"https://github.com/apache/druid/issues/4498#issuecomment-312662688","issue_url":"https://api.github.com/repos/apache/druid/issues/4498","id":312662688,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjY2MjY4OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-03T14:38:36Z","updated_at":"2017-07-03T14:38:36Z","author_association":"CONTRIBUTOR","body":"Hi Eran,\r\n\r\nregarding ```druid.coordinator.merge.on``` option, you're correct. The coordinator internally runs [mergeTasks](http://druid.io/docs/latest/ingestion/tasks.html#segment-merging-tasks) not native index tasks, which have the limitation that works for only noneShard specs. \r\n\r\nUnfortunately, the currently possible solution based on druid's native index task is to manually set up a compaction workflow using some workflow tools like oozie. For example, you can schedule your compaction task to be run every midnight for merging segments ingested for a day. \r\n\r\nFYI, there are two proposals for automatic background compaction (#4479) and improved segment generation in kafka indexing tasks (#4178). ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312662688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312711643","html_url":"https://github.com/apache/druid/pull/4474#issuecomment-312711643","issue_url":"https://api.github.com/repos/apache/druid/issues/4474","id":312711643,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjcxMTY0Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-03T18:40:31Z","updated_at":"2017-07-03T18:40:31Z","author_association":"MEMBER","body":"@chrisgavin please in the future, don't amend commits in your PR, always add new commits on top, including merge commits.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312711643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/312714944","html_url":"https://github.com/apache/druid/pull/4474#issuecomment-312714944","issue_url":"https://api.github.com/repos/apache/druid/issues/4474","id":312714944,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjcxNDk0NA==","user":{"login":"chrisgavin","id":5584439,"node_id":"MDQ6VXNlcjU1ODQ0Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5584439?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisgavin","html_url":"https://github.com/chrisgavin","followers_url":"https://api.github.com/users/chrisgavin/followers","following_url":"https://api.github.com/users/chrisgavin/following{/other_user}","gists_url":"https://api.github.com/users/chrisgavin/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisgavin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisgavin/subscriptions","organizations_url":"https://api.github.com/users/chrisgavin/orgs","repos_url":"https://api.github.com/users/chrisgavin/repos","events_url":"https://api.github.com/users/chrisgavin/events{/privacy}","received_events_url":"https://api.github.com/users/chrisgavin/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2017-07-03T19:00:55Z","updated_at":"2017-07-03T19:00:55Z","author_association":"CONTRIBUTOR","body":"@leventov Sorry about that. I could revert to the previous HEAD of this PR and then make the compilation fix as a new commit if that would be helpful.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/312714944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]