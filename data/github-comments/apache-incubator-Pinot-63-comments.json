[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635477885","html_url":"https://github.com/apache/pinot/issues/2583#issuecomment-635477885","issue_url":"https://api.github.com/repos/apache/pinot/issues/2583","id":635477885,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTQ3Nzg4NQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T17:07:36Z","updated_at":"2020-05-28T17:07:36Z","author_association":"CONTRIBUTOR","body":"closing this issue, as this was completed a while ago","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635477885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635539613","html_url":"https://github.com/apache/pinot/pull/5444#issuecomment-635539613","issue_url":"https://api.github.com/repos/apache/pinot/issues/5444","id":635539613,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTUzOTYxMw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T19:07:57Z","updated_at":"2020-05-28T19:07:57Z","author_association":"CONTRIBUTOR","body":"> This PR is too big to review effectively IMO. 89 files in total. Can you break it down to 3-4 smaller PRs for review: one covering method removal; 1 or 2 PR each covering a new added major classes (e.g., SortedIndexBasedFilterOperator.java).\r\n\r\n@chenboat There is no new added major classes. Most of the changes are making the classes compatible with the filter interface change, so it is very hard to break them into multiple PRs. I can make the removed interface in BlockValIterator a separate PR as they are independent of the filtering.\r\nThis PR is the first step of re-structuring the filtering in Pinot, so for historical reason the name for some interfaces (e.g. BlockDocIdSet) might be confusing. I wouldn't spend too much time renaming and documenting them because they are going to be re-structured in the following steps.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635539613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635647360","html_url":"https://github.com/apache/pinot/pull/5409#issuecomment-635647360","issue_url":"https://api.github.com/repos/apache/pinot/issues/5409","id":635647360,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTY0NzM2MA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T22:45:00Z","updated_at":"2020-05-28T22:48:34Z","author_association":"CONTRIBUTOR","body":"Address the review comments. Please take another look. This is standalone code at this point so want to get this in sooner and put up follow-ups in next couple of days.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635647360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635648350","html_url":"https://github.com/apache/pinot/pull/5444#issuecomment-635648350","issue_url":"https://api.github.com/repos/apache/pinot/issues/5444","id":635648350,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTY0ODM1MA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T22:47:41Z","updated_at":"2020-05-28T22:47:41Z","author_association":"CONTRIBUTOR","body":"Removed the changes not closely related to the enhancement to reduce the size of the change","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635648350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635650062","html_url":"https://github.com/apache/pinot/pull/5409#issuecomment-635650062","issue_url":"https://api.github.com/repos/apache/pinot/issues/5409","id":635650062,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTY1MDA2Mg==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T22:52:41Z","updated_at":"2020-05-28T23:02:50Z","author_association":"CONTRIBUTOR","body":"Here are the JMH results: cc @kishoreg  @Jackie-Jiang \r\n\r\nPlease see the [spreadsheet](https://docs.google.com/spreadsheets/d/1mz_TQe0rXadWPtA_Xov6cXwYrSvUpQB1p1b_ZqROTDQ/edit#gid=497160959) for additional performance numbers obtained via manual instrumentation\r\n\r\n\r\n\r\n\r\nBenchmark | Score | Mode\r\n-- | -- | --\r\nBenchmarkPinotDataBitSet.twoBitBulkWithGaps | 28.537   ops/ms | Throughpput\r\nBenchmarkPinotDataBitSet.twoBitBulkWithGapsFast | 44.332   ops/ms | Throughpput\r\nBenchmarkPinotDataBitSet.fourBitBulkWithGaps | 28.262   ops/ms | Throughpput\r\nBenchmarkPinotDataBitSet.fourBitBulkWithGapsFast | 42.449   ops/ms | Throughpput\r\nBenchmarkPinotDataBitSet.eightBitBulkWithGaps | 26.816   ops/ms | Throughpput\r\nBenchmarkPinotDataBitSet.eightBitBulkWithGapsFast | 38.777   ops/ms | Throughpput\r\nBenchmarkPinotDataBitSet.sixteenBitBulkWithGaps | 21.095   ops/ms | Throughpput\r\nBenchmarkPinotDataBitSet.sixteenBitBulkWithGapsFast | 38.380   ops/ms | Throughpput\r\n  |   |  \r\nBenchmarkPinotDataBitSet.twoBitContiguous | 26.188 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.twoBitContiguousFast | 15.692 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.fourBitContiguous | 26.113 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.fourBitContiguousFast | 15.178 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.eightBitContiguous | 26.693 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.eightBitContiguousFast | 15.726 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.sixteenBitContiguous | 43.968 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.sixteenBitContiguousFast | 21.390 ms/op | Avgt\r\n  |   |  \r\nBenchmarkPinotDataBitSet.twoBitBulkContiguous | 32.504 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.twoBitBulkContiguousFast | 14.614 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.fourBitBulkContiguous | 30.794 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.fourBitBulkContiguousFast | 14.583 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.eightBitBulkContiguous | 16.525 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.eightBitBulkContiguousFast | 10.777 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.sixteenBitBulkContiguous | 54.731 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.sixteenBitBulkContiguousFast | 19.312 ms/op | Avgt\r\n  |   |  \r\nBenchmarkPinotDataBitSet.twoBitBulkContiguousUnaligned | 32.018 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.twoBitBulkContiguousUnalignedFast | 14.344 ms/op | Avgt\r\nBenchmarkPinotDataBitSet.eightBitBulkContiguousUnaligned | 21.204   ms/op | Avgt\r\nBenchmarkPinotDataBitSet.eightBitBulkContiguousUnalignedFast | 15.393   ms/op | Avgt\r\nBenchmarkPinotDataBitSet.fourBitBulkContiguousUnaligned | 20.125   ms/op | Avgt\r\nBenchmarkPinotDataBitSet.fourBitBulkContiguousUnalignedFast | 14.836   ms/op | Avgt\r\nBenchmarkPinotDataBitSet.sixteenBitBulkContiguousUnaligned | 58.086   ms/op | Avgt\r\nBenchmarkPinotDataBitSet.sixteenBitBulkContiguousUnalignedFast | 22.002   ms/op | Avgt\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635650062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635662402","html_url":"https://github.com/apache/pinot/pull/5461#issuecomment-635662402","issue_url":"https://api.github.com/repos/apache/pinot/issues/5461","id":635662402,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTY2MjQwMg==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T23:07:26Z","updated_at":"2020-05-28T23:07:49Z","author_association":"CONTRIBUTOR","body":"> very nicely done!. You made it look simple.\r\n> \r\n> Check the datatypes compatibility of left and right transform functions.\r\n> \r\n> What happens if the right is just a constant, we use LiteralTransformFunction?\r\n\r\nCorrect, constant is represented as LiteralTransformFunction. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635662402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635802473","html_url":"https://github.com/apache/pinot/pull/5444#issuecomment-635802473","issue_url":"https://api.github.com/repos/apache/pinot/issues/5444","id":635802473,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTgwMjQ3Mw==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T07:09:56Z","updated_at":"2020-05-29T07:10:40Z","author_association":"CONTRIBUTOR","body":"> @chenboat There is no new added major classes. Most of the changes are making the classes compatible with the filter interface change, so it is very hard to break them into multiple PRs. I can make the removed interface in BlockValIterator a separate PR as they are independent of the filtering.\r\n> This PR is the first step of re-structuring the filtering in Pinot, so for historical reason the name for some interfaces (e.g. BlockDocIdSet) might be confusing. I wouldn't spend too much time renaming and documenting them because they are going to be re-structured in the following steps.\r\n\r\nThanks for reducing the number of changed files. Can you update the summary as well? I also realized some new classes are just renaming of previously existing classes -- my bad.\r\n \r\nI still think there is room for breaking up this PR. Based on your summary there are multiple things going on in this PR:\r\n > 1. Uniformed the behavior of all filter-related classes to bound the return docIds with numDocs\r\n > 2. Simplified the logic of AND/OR handling\r\n > 3. Pushed down ... \r\n\r\nCan we put the 3 items in 3 PR\b? I found there are non-trivial coding refactoring  (e.g., pinot-core/src/main/java/org/apache/pinot/core/plan/FilterPlanNode.java) mixed with interface changes in this PR. Can we separate these into smaller PRs? \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635802473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635850318","html_url":"https://github.com/apache/pinot/pull/5467#issuecomment-635850318","issue_url":"https://api.github.com/repos/apache/pinot/issues/5467","id":635850318,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTg1MDMxOA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T08:40:03Z","updated_at":"2020-05-29T08:50:55Z","author_association":"CONTRIBUTOR","body":"Does this change will start to run Travis job for all existing branches? (we have `155` branches as of writing this comment). We should be able to trigger in ad-hoc basis for branches other than master.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/635850318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636049216","html_url":"https://github.com/apache/pinot/pull/5467#issuecomment-636049216","issue_url":"https://api.github.com/repos/apache/pinot/issues/5467","id":636049216,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjA0OTIxNg==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T15:55:08Z","updated_at":"2020-05-29T15:55:08Z","author_association":"MEMBER","body":"> Does this change will start to run Travis job for all existing branches? (we have `155` branches as of writing this comment). We should be able to trigger in ad-hoc basis for branches other than master.\r\n\r\nNo, Travis build won't be triggered automatically unless we set it that way in Travis settings. Plus, it's only the repo admin that can only change that settings. So we are good to remove this restriction in the yml file.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636049216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636166279","html_url":"https://github.com/apache/pinot/pull/5444#issuecomment-636166279","issue_url":"https://api.github.com/repos/apache/pinot/issues/5444","id":636166279,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjE2NjI3OQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T20:01:46Z","updated_at":"2020-05-29T20:01:46Z","author_association":"CONTRIBUTOR","body":"@chenboat It is not trivial work to split it into 3 PRs as all of them are changing the same files. It will be a significant amount of work for me to carefully split the optimization into 3 parts and ensure all of them work properly. Also, all the changes in this PR are closely related, so IMO it is easier to review with one PR comparing to 3 PRs because the total lanes changed will be much lesser. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636166279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636166449","html_url":"https://github.com/apache/pinot/pull/5444#issuecomment-636166449","issue_url":"https://api.github.com/repos/apache/pinot/issues/5444","id":636166449,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjE2NjQ0OQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T20:01:56Z","updated_at":"2020-05-29T20:01:56Z","author_association":"CONTRIBUTOR","body":"@siddharthteotia Addressed all the comments","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636166449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636192732","html_url":"https://github.com/apache/pinot/pull/5409#issuecomment-636192732","issue_url":"https://api.github.com/repos/apache/pinot/issues/5409","id":636192732,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjE5MjczMg==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T21:07:45Z","updated_at":"2020-05-29T21:07:45Z","author_association":"CONTRIBUTOR","body":"Merging it. \r\n\r\nFollow-ups coming next:\r\n\r\n- Wire with the reader and writer. Currently the fast methods here can be used for existing reader and writer if the index is power of 2 bit encoded. \r\n- Consider changing the format to Little Endian\r\n- Consider aligning the bytes on the writer side. This will remove a few branches for 2/4 bit encoding to handle unaligned reads. It will also make it easier to add fast methods for non power of 2 bit encodings. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636192732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636196791","html_url":"https://github.com/apache/pinot/pull/5440#issuecomment-636196791","issue_url":"https://api.github.com/repos/apache/pinot/issues/5440","id":636196791,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjE5Njc5MQ==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T21:19:16Z","updated_at":"2020-05-29T21:19:46Z","author_association":"CONTRIBUTOR","body":"> @fx19880617 @siddharthteotia Should I add tests in CalciteSQL for all the functions?\r\n\r\n@KKcorps , sorry missed this. Yes, the query compilation tests should be in CalciteSqlCompilerTest. Here we can verify that PinotQuery is being built correctly and that gets converted to BrokerRequest correctly. Most other tests in this file do this validation.\r\n\r\nThe other suggestion was to also add unit tests for exercising end-to-end execution path. Please consider adding these tests to an appropriate file in `/incubator-pinot/pinot-core/src/test/java/org/apache/pinot/queries/`. May be TransformQueriesTest","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636196791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636230181","html_url":"https://github.com/apache/pinot/pull/5451#issuecomment-636230181","issue_url":"https://api.github.com/repos/apache/pinot/issues/5451","id":636230181,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjIzMDE4MQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T23:07:35Z","updated_at":"2020-05-29T23:07:35Z","author_association":"CONTRIBUTOR","body":"@siddharthteotia Addressed all the comments","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636230181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636669663","html_url":"https://github.com/apache/pinot/issues/5474#issuecomment-636669663","issue_url":"https://api.github.com/repos/apache/pinot/issues/5474","id":636669663,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjY2OTY2Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-01T07:39:29Z","updated_at":"2020-06-01T07:39:29Z","author_association":"MEMBER","body":"can you paste the sample config","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636669663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636968434","html_url":"https://github.com/apache/pinot/issues/5474#issuecomment-636968434","issue_url":"https://api.github.com/repos/apache/pinot/issues/5474","id":636968434,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjk2ODQzNA==","user":{"login":"prm-dan","id":49970746,"node_id":"MDQ6VXNlcjQ5OTcwNzQ2","avatar_url":"https://avatars.githubusercontent.com/u/49970746?v=4","gravatar_id":"","url":"https://api.github.com/users/prm-dan","html_url":"https://github.com/prm-dan","followers_url":"https://api.github.com/users/prm-dan/followers","following_url":"https://api.github.com/users/prm-dan/following{/other_user}","gists_url":"https://api.github.com/users/prm-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/prm-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prm-dan/subscriptions","organizations_url":"https://api.github.com/users/prm-dan/orgs","repos_url":"https://api.github.com/users/prm-dan/repos","events_url":"https://api.github.com/users/prm-dan/events{/privacy}","received_events_url":"https://api.github.com/users/prm-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-01T16:24:45Z","updated_at":"2020-06-01T16:24:45Z","author_association":"CONTRIBUTOR","body":"I'm working on a diff.\r\n\r\nHere's an example of the copy/paste issue (simplified since I don't want to post the full config).\r\n\r\nin the table config:\r\n```\r\n    {\r\n      \"tableName\": \"metrics\",\r\n...\r\n      \"tableIndexConfig\" : {\r\n        \"starTreeIndexConfigs\": [\r\n          {\r\n...\r\n            \"functionColumnPairs\": [\r\n              \"SUM__impressions\",\r\n...\r\n            ]\r\n          },\r\n```\r\n\r\nthen in the metrics schema:\r\n```\r\n    {\r\n      \"schemaName\": \"metrics\",\r\n      \"metricFieldSpecs\": [\r\n...\r\n        {\r\n          \"name\": \"SUM__impressions\",\r\n          \"dataType\": \"LONG\"\r\n        },\r\n...\r\n      ]\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636968434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636970008","html_url":"https://github.com/apache/pinot/issues/5474#issuecomment-636970008","issue_url":"https://api.github.com/repos/apache/pinot/issues/5474","id":636970008,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjk3MDAwOA==","user":{"login":"prm-dan","id":49970746,"node_id":"MDQ6VXNlcjQ5OTcwNzQ2","avatar_url":"https://avatars.githubusercontent.com/u/49970746?v=4","gravatar_id":"","url":"https://api.github.com/users/prm-dan","html_url":"https://github.com/prm-dan","followers_url":"https://api.github.com/users/prm-dan/followers","following_url":"https://api.github.com/users/prm-dan/following{/other_user}","gists_url":"https://api.github.com/users/prm-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/prm-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prm-dan/subscriptions","organizations_url":"https://api.github.com/users/prm-dan/orgs","repos_url":"https://api.github.com/users/prm-dan/repos","events_url":"https://api.github.com/users/prm-dan/events{/privacy}","received_events_url":"https://api.github.com/users/prm-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-01T16:27:15Z","updated_at":"2020-06-01T16:27:15Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-pinot/pull/5476","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/636970008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637213927","html_url":"https://github.com/apache/pinot/issues/5479#issuecomment-637213927","issue_url":"https://api.github.com/repos/apache/pinot/issues/5479","id":637213927,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzIxMzkyNw==","user":{"login":"prm-dan","id":49970746,"node_id":"MDQ6VXNlcjQ5OTcwNzQ2","avatar_url":"https://avatars.githubusercontent.com/u/49970746?v=4","gravatar_id":"","url":"https://api.github.com/users/prm-dan","html_url":"https://github.com/prm-dan","followers_url":"https://api.github.com/users/prm-dan/followers","following_url":"https://api.github.com/users/prm-dan/following{/other_user}","gists_url":"https://api.github.com/users/prm-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/prm-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prm-dan/subscriptions","organizations_url":"https://api.github.com/users/prm-dan/orgs","repos_url":"https://api.github.com/users/prm-dan/repos","events_url":"https://api.github.com/users/prm-dan/events{/privacy}","received_events_url":"https://api.github.com/users/prm-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T01:29:10Z","updated_at":"2020-06-02T01:29:10Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-pinot/pull/5482","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637213927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637276829","html_url":"https://github.com/apache/pinot/pull/5478#issuecomment-637276829","issue_url":"https://api.github.com/repos/apache/pinot/issues/5478","id":637276829,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzI3NjgyOQ==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T05:08:13Z","updated_at":"2020-06-02T05:08:13Z","author_association":"CONTRIBUTOR","body":"> Please add validation code (\"Must be http or https\") in TableConfigUtils.validate() thanks\r\n> Also, add more documentation on the new config variable (at least a pointer to the design doc).\r\n> Please label the PR marking it for release notes.\r\n> Make sure you add documentation on the config in gitbook (after you merge this PR)\r\n\r\nDone except that the last point about documentation.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637276829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637721377","html_url":"https://github.com/apache/pinot/pull/5394#issuecomment-637721377","issue_url":"https://api.github.com/repos/apache/pinot/issues/5394","id":637721377,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzcyMTM3Nw==","user":{"login":"jamesyfshao","id":1062786,"node_id":"MDQ6VXNlcjEwNjI3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/1062786?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesyfshao","html_url":"https://github.com/jamesyfshao","followers_url":"https://api.github.com/users/jamesyfshao/followers","following_url":"https://api.github.com/users/jamesyfshao/following{/other_user}","gists_url":"https://api.github.com/users/jamesyfshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesyfshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesyfshao/subscriptions","organizations_url":"https://api.github.com/users/jamesyfshao/orgs","repos_url":"https://api.github.com/users/jamesyfshao/repos","events_url":"https://api.github.com/users/jamesyfshao/events{/privacy}","received_events_url":"https://api.github.com/users/jamesyfshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T18:19:08Z","updated_at":"2020-06-02T18:19:08Z","author_association":"CONTRIBUTOR","body":"> Hey James, the last we discussed, I thought the only callback needed was after the realtime row was indexed.\r\n> \r\n> Can you add to your design doc the following information\r\n> \r\n> 1. At what points do you need callbacks from Pinot\r\n> 2. What does the callback do?\r\n> \r\n> For example:\r\n> Callbacks Needed:\r\n> \r\n> 1. onRowIndexed(): This callback needs to happen each time a row ingested from a realtime stream-partition is successfully indexed. upon receiving this callback, the pinot-upsert pushes an event into Kafka (see xxx of design doc). Arguments to this callback should be:\r\n>    a.  Offset of the row\r\n>    b. Table name\r\n>    c. Segment name\r\n>    d. : whatever...\r\n> 2. onSegmentLoad(): This callback needs to happen each time an offline segment is loaded successfully. ... etc.\r\n> \r\n> I know this is probably spread across your design doc, but to have it concisely in one place will help us review.\r\n> \r\n> thanks a lot, and sorry for the delay in review. I had a hard deadline of May 31 on an internal project that I have been working on.\r\n\r\nthanks for reviewing, I have added a session [here](https://docs.google.com/document/d/1SFFir7ByxCff-aVYxQeTHpNhPXeP5q7P4g_6O2iNGgU/edit#heading=h.5g392vjhtywt). Also all the current callback are contained in this [package](https://github.com/jamesyfshao/pinot/tree/ecbef927507edd4239682aab3b0ef0f65a351a78/pinot-core/src/main/java/org/apache/pinot/core/data/manager/callback). If you have time to apply the patch to our local pinot repo it will be more straight forward and the method itself is also documnted\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637721377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637813614","html_url":"https://github.com/apache/pinot/pull/5394#issuecomment-637813614","issue_url":"https://api.github.com/repos/apache/pinot/issues/5394","id":637813614,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzgxMzYxNA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T21:22:02Z","updated_at":"2020-06-02T21:22:02Z","author_association":"CONTRIBUTOR","body":"@jamesyfshao I looked over your design doc, thanks for adding the section on interfaces you need. I also looked at the repo you mentioned.\r\nIt is not clear why we need all these interfaces. If you can add some clarifications in the design doc, that will help me better. We can then discuss online what the interface should be.\r\n@kishoreg if you have additional comments","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637813614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637852570","html_url":"https://github.com/apache/pinot/pull/5394#issuecomment-637852570","issue_url":"https://api.github.com/repos/apache/pinot/issues/5394","id":637852570,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzg1MjU3MA==","user":{"login":"jamesyfshao","id":1062786,"node_id":"MDQ6VXNlcjEwNjI3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/1062786?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesyfshao","html_url":"https://github.com/jamesyfshao","followers_url":"https://api.github.com/users/jamesyfshao/followers","following_url":"https://api.github.com/users/jamesyfshao/following{/other_user}","gists_url":"https://api.github.com/users/jamesyfshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesyfshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesyfshao/subscriptions","organizations_url":"https://api.github.com/users/jamesyfshao/orgs","repos_url":"https://api.github.com/users/jamesyfshao/repos","events_url":"https://api.github.com/users/jamesyfshao/events{/privacy}","received_events_url":"https://api.github.com/users/jamesyfshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T23:04:49Z","updated_at":"2020-06-02T23:04:49Z","author_association":"CONTRIBUTOR","body":"> @jamesyfshao I looked over your design doc, thanks for adding the section on interfaces you need. I also looked at the repo you mentioned.\r\n> It is not clear why we need all these interfaces. If you can add some clarifications in the design doc, that will help me better. We can then discuss online what the interface should be.\r\n> @kishoreg if you have additional comments\r\n\r\n@mcvsubbu I totally got why you feel that way as it is hard to lay out the all the exact details in without the code context. It could be confusing when we leave out the upsert-enabled callback implementation which shows why we need them. But please understand that we leave out some of exact interface details in the design doc as we are trying to make the design doc to be flexible - code could changes/evolve over time but the design doc should capture the high-level design ideals and data flows that will be consistent over the evolution of this feature, especially considered these interface is still being involved over the next few PRs. \r\n\r\nDo you think it might be helpful if I put more comments and example in the codes (mainly the interface method) to show why those new callbacks are added and their purpose instead in the design doc? This way we can update the documentation as we evolve our interface while keeping our design doc less noisy?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637852570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637868513","html_url":"https://github.com/apache/pinot/issues/5485#issuecomment-637868513","issue_url":"https://api.github.com/repos/apache/pinot/issues/5485","id":637868513,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzg2ODUxMw==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T23:50:28Z","updated_at":"2020-06-02T23:50:28Z","author_association":"MEMBER","body":"@haibow Thanks for the heads up. I can work on this. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637868513/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637875934","html_url":"https://github.com/apache/pinot/pull/5440#issuecomment-637875934","issue_url":"https://api.github.com/repos/apache/pinot/issues/5440","id":637875934,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzg3NTkzNA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T23:58:25Z","updated_at":"2020-06-02T23:58:25Z","author_association":"CONTRIBUTOR","body":"Is the plan to use this wrapper solely for invoking scalar functions (like already done in this PR for StringFunctions) or are we expecting follow-ups to integrate it with rest of the transform functions. I think only the former?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637875934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637897871","html_url":"https://github.com/apache/pinot/pull/5440#issuecomment-637897871","issue_url":"https://api.github.com/repos/apache/pinot/issues/5440","id":637897871,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzg5Nzg3MQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T01:20:08Z","updated_at":"2020-06-03T01:20:08Z","author_association":"MEMBER","body":"@sidd only for scalarfunctions. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637897871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637918220","html_url":"https://github.com/apache/pinot/issues/5390#issuecomment-637918220","issue_url":"https://api.github.com/repos/apache/pinot/issues/5390","id":637918220,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzkxODIyMA==","user":{"login":"guruguha","id":9054682,"node_id":"MDQ6VXNlcjkwNTQ2ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9054682?v=4","gravatar_id":"","url":"https://api.github.com/users/guruguha","html_url":"https://github.com/guruguha","followers_url":"https://api.github.com/users/guruguha/followers","following_url":"https://api.github.com/users/guruguha/following{/other_user}","gists_url":"https://api.github.com/users/guruguha/gists{/gist_id}","starred_url":"https://api.github.com/users/guruguha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guruguha/subscriptions","organizations_url":"https://api.github.com/users/guruguha/orgs","repos_url":"https://api.github.com/users/guruguha/repos","events_url":"https://api.github.com/users/guruguha/events{/privacy}","received_events_url":"https://api.github.com/users/guruguha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T02:39:49Z","updated_at":"2020-06-03T02:39:49Z","author_association":"CONTRIBUTOR","body":"I have an initial approach to this issue:\r\nWe can introduce a segment state monitor that keeps track of all the segments and their index version updates. Similar to `_lastKnownSegmentMetadataVersionMap`, but it is updated whenever a segment index is updated. The monitor could be the callback passed as part of the segment reload - currently there is none. \r\n\r\nOn the API front, \r\n- provide an end point for users to query for segment status\r\n- get the version change status from the resource manager\r\n- parse the SegmentZKMetadata object to return the value as a JSON string\r\n\r\nPlease let me know your thoughts and inputs.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637918220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637941159","html_url":"https://github.com/apache/pinot/issues/5390#issuecomment-637941159","issue_url":"https://api.github.com/repos/apache/pinot/issues/5390","id":637941159,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzk0MTE1OQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T04:12:57Z","updated_at":"2020-06-03T04:12:57Z","author_association":"CONTRIBUTOR","body":"I think one approach could be as simple as:\r\nWe introduce an API for reading physical segment's metadata files `/segments/index-metadata` (need a better name)\r\n1. controller untars the segment\r\n2. reads the metadata using SegmentMetadataImpl\r\n3. extracts needed info from metadata.properties and indexMap\r\n4. deletes uncompressed segment","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637941159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637961796","html_url":"https://github.com/apache/pinot/pull/5487#issuecomment-637961796","issue_url":"https://api.github.com/repos/apache/pinot/issues/5487","id":637961796,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzk2MTc5Ng==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T05:26:06Z","updated_at":"2020-06-03T05:26:06Z","author_association":"CONTRIBUTOR","body":"@mayankshriv That's true for better code reuse. Though this PR is for a minor improvement, and I believe we could the refactoring in another PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637961796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637964051","html_url":"https://github.com/apache/pinot/pull/5483#issuecomment-637964051","issue_url":"https://api.github.com/repos/apache/pinot/issues/5483","id":637964051,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzk2NDA1MQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T05:32:59Z","updated_at":"2020-06-03T05:32:59Z","author_association":"CONTRIBUTOR","body":"Should we solve the issues in BrokerRequest, or move to PinotQuery? Latter would be ideal, except in organizations with large Pinot deployments, moving to SQL may not happen immediately.  This implies, that we would need to build PinotQuery out of brokerRequest (instead of the other way round).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/637964051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638294063","html_url":"https://github.com/apache/pinot/issues/5390#issuecomment-638294063","issue_url":"https://api.github.com/repos/apache/pinot/issues/5390","id":638294063,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODI5NDA2Mw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T16:05:01Z","updated_at":"2020-06-03T16:05:01Z","author_association":"CONTRIBUTOR","body":"How about introducing an API on the server, since that is what we are looking for.  The controller can query each replica about whether indexes are loaded correctly, which version (crc) is loaded, etc. We can also keep some statistics in the server that can be retuned about the segment (num rows scanned per query, number of queries that the segment hit, whatever..)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638294063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638298974","html_url":"https://github.com/apache/pinot/issues/5490#issuecomment-638298974","issue_url":"https://api.github.com/repos/apache/pinot/issues/5490","id":638298974,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODI5ODk3NA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T16:11:24Z","updated_at":"2020-06-03T16:11:54Z","author_association":"CONTRIBUTOR","body":"One way to use data sets which are nearly similar to production datasets is to use the Data Anonymizer tool (part of pinot-tools). This tool will generate anonymized data with similar characteristics (cardinality, distribution etc) as the given input data. It will also generate the corresponding queries.\r\n\r\nSo folks with Pinot deployments can do the following:\r\n\r\n- Take your production dataset and corresponding queries.\r\n- Provide them as input to the tool\r\n- Tool will generate anonymized data and corresponding queries\r\n\r\nPublish (hopefully allowed) the anonymized dataset and queries to the open source community so that it can be made part of the benchmark. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638298974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638302559","html_url":"https://github.com/apache/pinot/pull/5487#issuecomment-638302559","issue_url":"https://api.github.com/repos/apache/pinot/issues/5487","id":638302559,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODMwMjU1OQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T16:17:20Z","updated_at":"2020-06-03T16:17:20Z","author_association":"CONTRIBUTOR","body":"> @mayankshriv That's true for better code reuse. Though this PR is for a minor improvement, and I believe we could the refactoring in another PR.\r\n\r\nIf you use PinotSegmentRecordReader, most of the code complexity you have in this PR will just go away, it will just become as simple as loop over records, and print values. I'll leave it up to you to decide. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638302559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638303323","html_url":"https://github.com/apache/pinot/issues/5390#issuecomment-638303323","issue_url":"https://api.github.com/repos/apache/pinot/issues/5390","id":638303323,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODMwMzMyMw==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T16:18:37Z","updated_at":"2020-06-03T16:19:07Z","author_association":"CONTRIBUTOR","body":"based on our offline chat @guruguha \r\n\r\nthe only option is to contact server. The controller can read the external view to figure out servers which have the segment, and server can have an endpoint for returning info about the segment\r\nI think TableSizeReader does something similar. Server api in TableSizeResource for reference\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638303323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638305405","html_url":"https://github.com/apache/pinot/issues/5390#issuecomment-638305405","issue_url":"https://api.github.com/repos/apache/pinot/issues/5390","id":638305405,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODMwNTQwNQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T16:22:17Z","updated_at":"2020-06-03T16:22:17Z","author_association":"CONTRIBUTOR","body":"Yes, contact the server is the best. Please put up an API spec (either in this issue or in a separate doc) and send out email (and perhaps on slack as well) for people to comment. \r\nthanks\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638305405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638356820","html_url":"https://github.com/apache/pinot/pull/5444#issuecomment-638356820","issue_url":"https://api.github.com/repos/apache/pinot/issues/5444","id":638356820,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODM1NjgyMA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T17:48:44Z","updated_at":"2020-06-03T17:48:44Z","author_association":"CONTRIBUTOR","body":"> Changes to query execution engine should go through a performance benchmark.\r\n\r\n@mayankshriv Totally agree. But before the benchmark framework is ready, there is no way to test the performance thoroughly.\r\nI already tested the functionality with all the queries in the integration test, and conceptually this change will improve the performance because the it removes some redundant if checks and optimizes certain code paths. I also noticed that the tests are finished a little bit faster, but the difference is within error range.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638356820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638364905","html_url":"https://github.com/apache/pinot/pull/5438#issuecomment-638364905","issue_url":"https://api.github.com/repos/apache/pinot/issues/5438","id":638364905,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODM2NDkwNQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T18:00:12Z","updated_at":"2020-06-03T18:00:12Z","author_association":"CONTRIBUTOR","body":"Overall lgtm, could you also add some integration tests for this.\r\n\r\nAlso for the null primitive arguments functions, do we expect them to be only in nested functions? like `SELECT timezone_hour(timezone('UTC')) from myTable`\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638364905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638416573","html_url":"https://github.com/apache/pinot/pull/5444#issuecomment-638416573","issue_url":"https://api.github.com/repos/apache/pinot/issues/5444","id":638416573,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODQxNjU3Mw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T19:34:59Z","updated_at":"2020-06-03T19:34:59Z","author_association":"CONTRIBUTOR","body":"@mayankshriv Did a rough performance benchmark running all the queries in the query file for 10 times (100K queries in total) in Hybrid, MultiNodesOffline and Realtime cluster integration test and the result is very close before and after this PR (both within the range of 23-24 seconds).\r\nSo the gain of this PR is mostly for simplicity and readability of the code as well as enhancement for certain code path (e.g. the problem addressed in #5328 won't happen again)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638416573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638520191","html_url":"https://github.com/apache/pinot/issues/5490#issuecomment-638520191","issue_url":"https://api.github.com/repos/apache/pinot/issues/5490","id":638520191,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODUyMDE5MQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T23:53:58Z","updated_at":"2020-06-03T23:54:18Z","author_association":"MEMBER","body":"I like Sidd's idea, it will be good to have a framework where anyone can add their dataset and query set. \r\n\r\n```\r\nbenchmark-root\r\n-- /bin\r\n    -- setup-cluster.sh\r\n    -- run-benchmark.sh\r\n-- cluster-spec.yaml. //can be a simple helm chart that can be used to spin up a pinot cluster in k8s\r\n--   tables\r\n      -- table-1\r\n         -- table config\r\n         -- schema\r\n         -- Raw data\r\n         -- ingestion spec\r\n         -- query-runner-spec\r\n         -- queries\r\n         -- expected result\r\n--  results\r\n```\r\n  \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638520191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638597901","html_url":"https://github.com/apache/pinot/pull/5444#issuecomment-638597901","issue_url":"https://api.github.com/repos/apache/pinot/issues/5444","id":638597901,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODU5NzkwMQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T04:39:09Z","updated_at":"2020-06-04T04:39:09Z","author_association":"CONTRIBUTOR","body":"> @mayankshriv Did a rough performance benchmark running all the queries in the query file for 10 times (100K queries in total) in Hybrid, MultiNodesOffline and Realtime cluster integration test and the result is very close before and after this PR (both within the range of 23-24 seconds).\r\n> So the gain of this PR is mostly for simplicity and readability of the code as well as enhancement for certain code path (e.g. the problem addressed in #5328 won't happen again)\r\n\r\nThank you @Jackie-Jiang for performing this benchmark, much appreciated.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638597901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638601143","html_url":"https://github.com/apache/pinot/issues/5490#issuecomment-638601143","issue_url":"https://api.github.com/repos/apache/pinot/issues/5490","id":638601143,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODYwMTE0Mw==","user":{"login":"FelixGV","id":1248632,"node_id":"MDQ6VXNlcjEyNDg2MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1248632?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixGV","html_url":"https://github.com/FelixGV","followers_url":"https://api.github.com/users/FelixGV/followers","following_url":"https://api.github.com/users/FelixGV/following{/other_user}","gists_url":"https://api.github.com/users/FelixGV/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixGV/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixGV/subscriptions","organizations_url":"https://api.github.com/users/FelixGV/orgs","repos_url":"https://api.github.com/users/FelixGV/repos","events_url":"https://api.github.com/users/FelixGV/events{/privacy}","received_events_url":"https://api.github.com/users/FelixGV/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T04:52:28Z","updated_at":"2020-06-04T04:55:31Z","author_association":"NONE","body":"Hi Pinot community members :D !\r\n\r\nI am not a Pinot user (yet!) but we have been thinking of a similar problem/solution (for other projects). One aspect that we're not sure about is how best to report historical performance data.\r\n\r\nAt a high level, we would like the ability to have a CI pipeline run some performance test on each commit, but we would also like the ability to take the output of those tests (latency metrics, etc.) and publish them to a dashboard where we could track the performance improvements and regressions of a given test across historical commits. We are wondering if there is a good off-the-shelf solution for this kind of CI-driven reporting of custom metrics, or whether we'd need to build something from scratch. I am also wondering if the historical reporting aspect is in scope of this issue, or if you are narrowing it down to the performance diff between the latest master commit and one PR.\r\n\r\nCheers!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638601143/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638737266","html_url":"https://github.com/apache/pinot/pull/5492#issuecomment-638737266","issue_url":"https://api.github.com/repos/apache/pinot/issues/5492","id":638737266,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODczNzI2Ng==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T09:34:47Z","updated_at":"2020-06-04T09:36:22Z","author_association":"CONTRIBUTOR","body":"Overall LGTM, \r\nCan you also add a test of mulit-value Map?(List of Map)\r\nAnd fix the tests","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/638737266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639126761","html_url":"https://github.com/apache/pinot/pull/5492#issuecomment-639126761","issue_url":"https://api.github.com/repos/apache/pinot/issues/5492","id":639126761,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTEyNjc2MQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T21:26:28Z","updated_at":"2020-06-04T21:26:28Z","author_association":"CONTRIBUTOR","body":"> Overall LGTM,\r\n> Can you also add a test of mulit-value Map?(List of Map)\r\n> And fix the tests\r\n\r\nFixed tests. The test data had a field of type \"record\", and was relying on below code to pull out the 1st value.\r\n```\r\nif (value instanceof GenericData.Record) {\r\n      return handleSingleValue(((GenericData.Record) value).get(0));\r\n    }\r\n```\r\nSince this was incorrect behavior, and  doesn't hold true anymore, I removed \"record\" type from test data.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639126761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639127334","html_url":"https://github.com/apache/pinot/pull/5492#issuecomment-639127334","issue_url":"https://api.github.com/repos/apache/pinot/issues/5492","id":639127334,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTEyNzMzNA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T21:26:59Z","updated_at":"2020-06-04T21:26:59Z","author_association":"CONTRIBUTOR","body":"> > Overall LGTM,\r\n> > Can you also add a test of mulit-value Map?(List of Map)\r\n> > And fix the tests\r\n> \r\n> Fixed tests. The test data had a field of type \"record\", and was relying on below code to pull out the 1st value.\r\n> \r\n> ```\r\n> if (value instanceof GenericData.Record) {\r\n>       return handleSingleValue(((GenericData.Record) value).get(0));\r\n>     }\r\n> ```\r\n> \r\n> Since this was incorrect behavior, and doesn't hold true anymore, I removed \"record\" type from test data.\r\n\r\nAlso added more cases to the `AvroRecordExtractorComplexTypesTest`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639127334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639204731","html_url":"https://github.com/apache/pinot/pull/5487#issuecomment-639204731","issue_url":"https://api.github.com/repos/apache/pinot/issues/5487","id":639204731,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTIwNDczMQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T01:29:18Z","updated_at":"2020-06-05T01:29:18Z","author_association":"CONTRIBUTOR","body":"Yup. I'll address this in another PR.\r\n> > @mayankshriv That's true for better code reuse. Though this PR is for a minor improvement, and I believe we could the refactoring in another PR.\r\n> \r\n> If you use PinotSegmentRecordReader, most of the code complexity you have in this PR will just go away, it will just become as simple as loop over records, and print values. I'll leave it up to you to decide.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639204731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639279556","html_url":"https://github.com/apache/pinot/pull/5483#issuecomment-639279556","issue_url":"https://api.github.com/repos/apache/pinot/issues/5483","id":639279556,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTI3OTU1Ng==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T06:09:49Z","updated_at":"2020-06-05T06:09:49Z","author_association":"CONTRIBUTOR","body":"@kishoreg @mayankshriv Updated the description on why I prefer adding this context Object over using PinotQuery directly, and revised the code. QueryContext can be extracted from PinotQuery if exists, or BrokerRequest if PinotQuery is not available. It serves as the query context to isolate the wiring layer and the transport layer, and all the segment independent information can be stored within it to save the repetitive work currently happening inside each segment (e.g. creating Predicate).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639279556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639667992","html_url":"https://github.com/apache/pinot/issues/5490#issuecomment-639667992","issue_url":"https://api.github.com/repos/apache/pinot/issues/5490","id":639667992,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTY2Nzk5Mg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T17:55:32Z","updated_at":"2020-06-05T17:55:32Z","author_association":"CONTRIBUTOR","body":"@FelixGV Love the idea of keeping track of historical performance data","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639667992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639674061","html_url":"https://github.com/apache/pinot/pull/5492#issuecomment-639674061","issue_url":"https://api.github.com/repos/apache/pinot/issues/5492","id":639674061,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTY3NDA2MQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T18:06:17Z","updated_at":"2020-06-05T18:06:17Z","author_association":"CONTRIBUTOR","body":"Glad to see we are trying to handle more types of data.\r\nOut of the scope of this PR, I think we should come up with a standard of the data types allowed in the GenericRecord (e.g. List for multi-value, Map for map, byte[] for BYTES, using Integer for Byte, Short, using String for Boolean, Character etc.). With the standard, when we enhance the existing RecordReader or adding new ones, we know what data type to convert to; the data ingestion engine also knows what data types to expect.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639674061/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639676022","html_url":"https://github.com/apache/pinot/pull/5497#issuecomment-639676022","issue_url":"https://api.github.com/repos/apache/pinot/issues/5497","id":639676022,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTY3NjAyMg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T18:09:29Z","updated_at":"2020-06-05T18:09:29Z","author_association":"CONTRIBUTOR","body":"Quickstart failed on OpenJdk 13. Can you please check whether it is related to the change","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639676022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639679464","html_url":"https://github.com/apache/pinot/pull/5497#issuecomment-639679464","issue_url":"https://api.github.com/repos/apache/pinot/issues/5497","id":639679464,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTY3OTQ2NA==","user":{"login":"apucher","id":25439965,"node_id":"MDQ6VXNlcjI1NDM5OTY1","avatar_url":"https://avatars.githubusercontent.com/u/25439965?v=4","gravatar_id":"","url":"https://api.github.com/users/apucher","html_url":"https://github.com/apucher","followers_url":"https://api.github.com/users/apucher/followers","following_url":"https://api.github.com/users/apucher/following{/other_user}","gists_url":"https://api.github.com/users/apucher/gists{/gist_id}","starred_url":"https://api.github.com/users/apucher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apucher/subscriptions","organizations_url":"https://api.github.com/users/apucher/orgs","repos_url":"https://api.github.com/users/apucher/repos","events_url":"https://api.github.com/users/apucher/events{/privacy}","received_events_url":"https://api.github.com/users/apucher/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T18:14:32Z","updated_at":"2020-06-05T18:14:32Z","author_association":"CONTRIBUTOR","body":"Unlikely. We reverted the change and CI failures still kept coming. See conversation on #pinot-dev ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639679464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639718905","html_url":"https://github.com/apache/pinot/issues/5490#issuecomment-639718905","issue_url":"https://api.github.com/repos/apache/pinot/issues/5490","id":639718905,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTcxODkwNQ==","user":{"login":"FelixGV","id":1248632,"node_id":"MDQ6VXNlcjEyNDg2MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1248632?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixGV","html_url":"https://github.com/FelixGV","followers_url":"https://api.github.com/users/FelixGV/followers","following_url":"https://api.github.com/users/FelixGV/following{/other_user}","gists_url":"https://api.github.com/users/FelixGV/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixGV/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixGV/subscriptions","organizations_url":"https://api.github.com/users/FelixGV/orgs","repos_url":"https://api.github.com/users/FelixGV/repos","events_url":"https://api.github.com/users/FelixGV/events{/privacy}","received_events_url":"https://api.github.com/users/FelixGV/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T18:58:05Z","updated_at":"2020-06-05T18:58:05Z","author_association":"NONE","body":"I got some suggestions from a couple of other folks on existing projects that do this:\r\n\r\n- https://github.com/lightbend/benchdb\r\n- https://github.com/jzillmann/jmh-visualizer/blob/master/README.md\r\n- https://github.com/akarnokd/jmh-compare-gui\r\n- https://github.com/blackboard/jmh-jenkins\r\n\r\nI have not looked deeply at any of them, so IDK yet which is best, but hopefully some easy leverage is possible. Please LMK if you experiment with any of those! I'll also report back on our experience if we do.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639718905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639742951","html_url":"https://github.com/apache/pinot/issues/5490#issuecomment-639742951","issue_url":"https://api.github.com/repos/apache/pinot/issues/5490","id":639742951,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTc0Mjk1MQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T19:27:36Z","updated_at":"2020-06-05T19:27:36Z","author_association":"MEMBER","body":"We can always save the results in git (at least for releases). Saving historical numbers is a good feature to have but what's more important is to have the ability to run benchmark against a commit version. Once we have that ability, we can always re-generate the benchmark and save it. \r\n\r\nThe historical results can get outdated as we add/change benchmarks or change hardware. \r\n\r\nAny off the shelf solution will just provide a way to invoke run a command. But the hard part is coming up with the actual queries/right metrics to measure - which is really project-specific.  \r\n\r\nIMO, it's better to write something custom that serves the project's purpose for now unless. WDYT\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639742951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639765718","html_url":"https://github.com/apache/pinot/issues/5490#issuecomment-639765718","issue_url":"https://api.github.com/repos/apache/pinot/issues/5490","id":639765718,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTc2NTcxOA==","user":{"login":"FelixGV","id":1248632,"node_id":"MDQ6VXNlcjEyNDg2MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1248632?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixGV","html_url":"https://github.com/FelixGV","followers_url":"https://api.github.com/users/FelixGV/followers","following_url":"https://api.github.com/users/FelixGV/following{/other_user}","gists_url":"https://api.github.com/users/FelixGV/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixGV/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixGV/subscriptions","organizations_url":"https://api.github.com/users/FelixGV/orgs","repos_url":"https://api.github.com/users/FelixGV/repos","events_url":"https://api.github.com/users/FelixGV/events{/privacy}","received_events_url":"https://api.github.com/users/FelixGV/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T20:00:40Z","updated_at":"2020-06-05T20:00:40Z","author_association":"NONE","body":"I agree that the core value of this work -- coming up with the actual queries/right metrics to measure -- is project-specific.\r\n\r\nHowever, I think the generic part goes beyond just running commands. The reporting & visualization aspect could be non-trivial to build well, and moreover, the types of infrastructure projects that are very performance-sensitive are often specialized in things that are not very UI-focused, and therefore this visualization of historical data could be a weak point of an infra team.\r\n\r\nI also agree that it would be nice for the tool to provide a way to backfill data for new benchmarks.\r\n\r\nAnyway, like I said, if you do try some of these reporting tools, please report back. I'll do the same.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639765718/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639846604","html_url":"https://github.com/apache/pinot/issues/5504#issuecomment-639846604","issue_url":"https://api.github.com/repos/apache/pinot/issues/5504","id":639846604,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTg0NjYwNA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T21:57:43Z","updated_at":"2020-06-05T21:57:43Z","author_association":"MEMBER","body":"we should other queries such as select now() etc that does not require and going through the execution stack","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639846604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639849438","html_url":"https://github.com/apache/pinot/issues/5504#issuecomment-639849438","issue_url":"https://api.github.com/repos/apache/pinot/issues/5504","id":639849438,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTg0OTQzOA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T22:00:31Z","updated_at":"2020-06-05T22:00:40Z","author_association":"CONTRIBUTOR","body":"now() is translated to a literal, so it should be covered also","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639849438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639854690","html_url":"https://github.com/apache/pinot/issues/5388#issuecomment-639854690","issue_url":"https://api.github.com/repos/apache/pinot/issues/5388","id":639854690,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTg1NDY5MA==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T22:06:42Z","updated_at":"2020-06-05T22:06:42Z","author_association":"CONTRIBUTOR","body":"@kishred can you give us some more details on how you're doing the batch ingestion. How exactly are you creating the Pinot segments ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639854690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639876788","html_url":"https://github.com/apache/pinot/pull/5503#issuecomment-639876788","issue_url":"https://api.github.com/repos/apache/pinot/issues/5503","id":639876788,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTg3Njc4OA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T22:48:23Z","updated_at":"2020-06-06T10:46:09Z","author_association":"CONTRIBUTOR","body":"> If I understand the intention correctly, this PR want to let production environment to still use the `DEFAULT_VERSION`, but check in the classes of the `CURRENT_VERSION` and the tests for them. If that is the case, can we just add a separate constructor with the version info so that the tests can use that? The default constructor will create the writer with `DEFAULT_VERSION`. We don't really need to make it configurable because in production environment you never want to use `CURRENT_VERSION` before the version is verified. In order to move to the `CURRENT_VERSION`, you can simply change the default constructor to the `CURRENT_VERSION`\r\n\r\n- We want to use CURRENT_VERSION in production environment (use cases for text index are going to need the 8-byte chunk offset because of huge raw data). \r\n\r\n- CURRENT_VERSION is verified in production. We already have realtime segments that got completed and written with CURRENT_VERSION as of the currently deployed release in production. Has also been verified on our internal perf cluster.\r\n\r\n- However, for pbnj roll-out we need the flexibility temporarily to rollback the release if something **orthogonal to this** goes wrong. So even though we know, 8-byte format (CURRENT_VERSION) is itself not a problem, something else might go wrong while pbnj is being rolled out internally. In such situations, we should be able to rollback the release. The plan is to use implicit DEFAULT_VERSION while rolling out pbnj and enable CURRENT_VERSION specifically for text index tables. Once the pbnj roll-out is complete, we can remove this. \r\n\r\nComing to changing the dotted notation, I haven't yet done the migration from IndexingConfig to FieldConfig. It is only being used for text. Going to migrate soon.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639876788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639915622","html_url":"https://github.com/apache/pinot/pull/5492#issuecomment-639915622","issue_url":"https://api.github.com/repos/apache/pinot/issues/5492","id":639915622,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTkxNTYyMg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-06T00:28:02Z","updated_at":"2020-06-06T00:28:02Z","author_association":"CONTRIBUTOR","body":"> Glad to see we are trying to handle more types of data.\r\n> Out of the scope of this PR, I think we should come up with a standard of the data types allowed in the GenericRecord (e.g. List for multi-value, Map for map, byte[] for BYTES, using Integer for Byte, Short, using String for Boolean, Character etc.). With the standard, when we enhance the existing RecordReader or adding new ones, we know what data type to convert to; the data ingestion engine also knows what data types to expect.\r\n\r\nThanks for the insights. Do you want to create an issue to track?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639915622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639935027","html_url":"https://github.com/apache/pinot/pull/5502#issuecomment-639935027","issue_url":"https://api.github.com/repos/apache/pinot/issues/5502","id":639935027,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTkzNTAyNw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-06T01:10:11Z","updated_at":"2020-06-06T01:10:11Z","author_association":"CONTRIBUTOR","body":"NOTE: unit and integration tests passed. Quickstart test failed, but not related to this PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/639935027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/640681656","html_url":"https://github.com/apache/pinot/pull/5511#issuecomment-640681656","issue_url":"https://api.github.com/repos/apache/pinot/issues/5511","id":640681656,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDY4MTY1Ng==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-08T14:56:02Z","updated_at":"2020-06-08T14:56:02Z","author_association":"CONTRIBUTOR","body":"Interesting, I was under the impression that JVM is big-endian regardless of the host endianness. Would be good if you can share any stats on the speed up seen in random/sequential reads.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/640681656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/640925133","html_url":"https://github.com/apache/pinot/pull/5438#issuecomment-640925133","issue_url":"https://api.github.com/repos/apache/pinot/issues/5438","id":640925133,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDkyNTEzMw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-08T22:42:03Z","updated_at":"2020-06-08T22:42:03Z","author_association":"CONTRIBUTOR","body":"Could you try to resolve the conflict and then we can merge this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/640925133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/640962562","html_url":"https://github.com/apache/pinot/pull/5336#issuecomment-640962562","issue_url":"https://api.github.com/repos/apache/pinot/issues/5336","id":640962562,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDk2MjU2Mg==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T00:48:42Z","updated_at":"2020-06-09T00:48:42Z","author_association":"CONTRIBUTOR","body":"> May be you can introduce a multiple URI segment fetcher, provide all the peer segment URIs to it, and let the SegmentFetcher select a random uri in each retry?\r\n\r\nI am not sure if adding a new segment fetcher class is a good idea. The segmentFinder class returns a random uri in each retry already. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/640962562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641543455","html_url":"https://github.com/apache/pinot/pull/5512#issuecomment-641543455","issue_url":"https://api.github.com/repos/apache/pinot/issues/5512","id":641543455,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTU0MzQ1NQ==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T20:11:20Z","updated_at":"2020-06-09T20:11:20Z","author_association":"CONTRIBUTOR","body":"+1 on 20 concurrent jobs. \r\n\r\n@jackjlli Can you review this PR and make sure that our CRON job is also correctly migrated to Github Action?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641543455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641553854","html_url":"https://github.com/apache/pinot/pull/5531#issuecomment-641553854","issue_url":"https://api.github.com/repos/apache/pinot/issues/5531","id":641553854,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTU1Mzg1NA==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T20:33:39Z","updated_at":"2020-06-09T20:33:39Z","author_association":"CONTRIBUTOR","body":"Thanks a lot for identifying this issue, and providing a fix. Could you please elaborate a bit on how the thread safety issue leads to query compilation error?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641553854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641587051","html_url":"https://github.com/apache/pinot/pull/5512#issuecomment-641587051","issue_url":"https://api.github.com/repos/apache/pinot/issues/5512","id":641587051,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTU4NzA1MQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T21:18:44Z","updated_at":"2020-06-09T21:18:44Z","author_association":"CONTRIBUTOR","body":"> Let's keep both Github Action and Travis running for a while until we feel Github Action is stable enough to kill Travis completely.\r\n\r\nAgreed, we can let both run for a while then decide.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641587051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641612903","html_url":"https://github.com/apache/pinot/pull/5512#issuecomment-641612903","issue_url":"https://api.github.com/repos/apache/pinot/issues/5512","id":641612903,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTYxMjkwMw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T22:23:24Z","updated_at":"2020-06-09T22:23:24Z","author_association":"CONTRIBUTOR","body":"> > Let's keep both Github Action and Travis running for a while until we feel Github Action is stable enough to kill Travis completely.\r\n> \r\n> Agreed, we can let both run for a while then decide.\r\n\r\nAs long as both don't push binaries to bintray","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641612903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641655758","html_url":"https://github.com/apache/pinot/pull/5513#issuecomment-641655758","issue_url":"https://api.github.com/repos/apache/pinot/issues/5513","id":641655758,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTY1NTc1OA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T00:52:01Z","updated_at":"2020-06-12T08:12:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5513?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@f1f1c41`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `77.38%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5513/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5513?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5513   +/-   ##\n=========================================\n  Coverage          ?   66.35%           \n=========================================\n  Files             ?     1104           \n  Lines             ?    56951           \n  Branches          ?     8514           \n=========================================\n  Hits              ?    37790           \n  Misses            ?    16369           \n  Partials          ?     2792           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.91% <77.38%> (?)` | |\n| #unittests | `56.92% <63.09%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5513?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...roker/requesthandler/BaseBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/5513/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQmFzZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `78.85% <73.97%> (ø)` | |\n| [...pql/parsers/PinotQuery2BrokerRequestConverter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5513/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9QaW5vdFF1ZXJ5MkJyb2tlclJlcXVlc3RDb252ZXJ0ZXIuamF2YQ==) | `90.71% <100.00%> (ø)` | |\n| [...org/apache/pinot/sql/parsers/CalciteSqlParser.java](https://codecov.io/gh/apache/incubator-pinot/pull/5513/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsUGFyc2VyLmphdmE=) | `92.32% <100.00%> (ø)` | |\n| [...core/query/reduce/AggregationDataTableReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/5513/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvQWdncmVnYXRpb25EYXRhVGFibGVSZWR1Y2VyLmphdmE=) | `85.96% <0.00%> (ø)` | |\n| [.../transformer/datetime/BaseDateTimeTransformer.java](https://codecov.io/gh/apache/incubator-pinot/pull/5513/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vdHJhbnNmb3JtZXIvZGF0ZXRpbWUvQmFzZURhdGVUaW1lVHJhbnNmb3JtZXIuamF2YQ==) | `93.93% <0.00%> (ø)` | |\n| [...impl/fwd/SingleValueSortedForwardIndexCreator.java](https://codecov.io/gh/apache/incubator-pinot/pull/5513/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9md2QvU2luZ2xlVmFsdWVTb3J0ZWRGb3J3YXJkSW5kZXhDcmVhdG9yLmphdmE=) | `90.00% <0.00%> (ø)` | |\n| [...che/pinot/core/startree/v2/StarTreeV2Metadata.java](https://codecov.io/gh/apache/incubator-pinot/pull/5513/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS92Mi9TdGFyVHJlZVYyTWV0YWRhdGEuamF2YQ==) | `62.50% <0.00%> (ø)` | |\n| [...oller/api/resources/PinotTableIndexingConfigs.java](https://codecov.io/gh/apache/incubator-pinot/pull/5513/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90VGFibGVJbmRleGluZ0NvbmZpZ3MuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...putformat/protobuf/ProtoBufRecordReaderConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/5513/diff?src=pr&el=tree#diff-cGlub3QtcGx1Z2lucy9waW5vdC1pbnB1dC1mb3JtYXQvcGlub3QtcHJvdG9idWYvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9pbnB1dGZvcm1hdC9wcm90b2J1Zi9Qcm90b0J1ZlJlY29yZFJlYWRlckNvbmZpZy5qYXZh) | `100.00% <0.00%> (ø)` | |\n| [...r/api/resources/WebApplicationExceptionMapper.java](https://codecov.io/gh/apache/incubator-pinot/pull/5513/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1dlYkFwcGxpY2F0aW9uRXhjZXB0aW9uTWFwcGVyLmphdmE=) | `66.66% <0.00%> (ø)` | |\n| ... and [1097 more](https://codecov.io/gh/apache/incubator-pinot/pull/5513/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5513?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5513?src=pr&el=footer). Last update [f1f1c41...186c73d](https://codecov.io/gh/apache/incubator-pinot/pull/5513?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641655758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641663429","html_url":"https://github.com/apache/pinot/pull/5483#issuecomment-641663429","issue_url":"https://api.github.com/repos/apache/pinot/issues/5483","id":641663429,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTY2MzQyOQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T01:20:03Z","updated_at":"2020-06-10T01:20:03Z","author_association":"CONTRIBUTOR","body":"@kishoreg @mayankshriv @siddharthteotia This PR is ready for review.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641663429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641673684","html_url":"https://github.com/apache/pinot/pull/5531#issuecomment-641673684","issue_url":"https://api.github.com/repos/apache/pinot/issues/5531","id":641673684,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTY3MzY4NA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T01:58:43Z","updated_at":"2020-06-10T01:58:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5531?src=pr&el=h1) Report\n> Merging [#5531](https://codecov.io/gh/apache/incubator-pinot/pull/5531?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **increase** coverage by `0.29%`.\n> The diff coverage is `73.34%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5531/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5531?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5531      +/-   ##\n==========================================\n+ Coverage   66.44%   66.74%   +0.29%     \n==========================================\n  Files        1075     1096      +21     \n  Lines       54773    56414    +1641     \n  Branches     8168     8412     +244     \n==========================================\n+ Hits        36396    37655    +1259     \n- Misses      15700    15982     +282     \n- Partials     2677     2777     +100     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.35% <53.10%> (?)` | |\n| #unittests | `56.93% <63.22%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5531?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5531/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5531/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5531/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5531/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5531/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5531/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5531/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5531/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5531/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `63.63% <ø> (ø)` | |\n| [...re/io/reader/impl/v1/FixedBitMultiValueReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5531/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby9yZWFkZXIvaW1wbC92MS9GaXhlZEJpdE11bHRpVmFsdWVSZWFkZXIuamF2YQ==) | `100.00% <ø> (ø)` | |\n| ... and [422 more](https://codecov.io/gh/apache/incubator-pinot/pull/5531/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5531?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5531?src=pr&el=footer). Last update [a1a2434...503eff8](https://codecov.io/gh/apache/incubator-pinot/pull/5531?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641673684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641758773","html_url":"https://github.com/apache/pinot/pull/5461#issuecomment-641758773","issue_url":"https://api.github.com/repos/apache/pinot/issues/5461","id":641758773,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTc1ODc3Mw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T06:34:46Z","updated_at":"2020-06-10T06:40:37Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5461?src=pr&el=h1) Report\n> Merging [#5461](https://codecov.io/gh/apache/incubator-pinot/pull/5461?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **increase** coverage by `0.18%`.\n> The diff coverage is `73.30%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5461/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5461?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5461      +/-   ##\n==========================================\n+ Coverage   66.44%   66.63%   +0.18%     \n==========================================\n  Files        1075     1104      +29     \n  Lines       54773    56889    +2116     \n  Branches     8168     8504     +336     \n==========================================\n+ Hits        36396    37907    +1511     \n- Misses      15700    16190     +490     \n- Partials     2677     2792     +115     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.29% <52.65%> (?)` | |\n| #unittests | `56.83% <63.63%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5461?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5461/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5461/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5461/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5461/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5461/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5461/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5461/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5461/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5461/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `63.63% <ø> (ø)` | |\n| [...re/io/reader/impl/v1/FixedBitMultiValueReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5461/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby9yZWFkZXIvaW1wbC92MS9GaXhlZEJpdE11bHRpVmFsdWVSZWFkZXIuamF2YQ==) | `100.00% <ø> (ø)` | |\n| ... and [433 more](https://codecov.io/gh/apache/incubator-pinot/pull/5461/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5461?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5461?src=pr&el=footer). Last update [2d28c0f...eeccadb](https://codecov.io/gh/apache/incubator-pinot/pull/5461?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641758773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641760851","html_url":"https://github.com/apache/pinot/pull/5533#issuecomment-641760851","issue_url":"https://api.github.com/repos/apache/pinot/issues/5533","id":641760851,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTc2MDg1MQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T06:38:28Z","updated_at":"2020-06-10T19:45:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5533?src=pr&el=h1) Report\n> Merging [#5533](https://codecov.io/gh/apache/incubator-pinot/pull/5533?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **increase** coverage by `0.43%`.\n> The diff coverage is `73.57%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5533/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5533?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5533      +/-   ##\n==========================================\n+ Coverage   66.44%   66.88%   +0.43%     \n==========================================\n  Files        1075     1096      +21     \n  Lines       54773    56414    +1641     \n  Branches     8168     8412     +244     \n==========================================\n+ Hits        36396    37730    +1334     \n- Misses      15700    15915     +215     \n- Partials     2677     2769      +92     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.50% <53.42%> (?)` | |\n| #unittests | `56.95% <63.42%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5533?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5533/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5533/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5533/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5533/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5533/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5533/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5533/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5533/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5533/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `63.63% <ø> (ø)` | |\n| [...re/io/reader/impl/v1/FixedBitMultiValueReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5533/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby9yZWFkZXIvaW1wbC92MS9GaXhlZEJpdE11bHRpVmFsdWVSZWFkZXIuamF2YQ==) | `100.00% <ø> (ø)` | |\n| ... and [425 more](https://codecov.io/gh/apache/incubator-pinot/pull/5533/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5533?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5533?src=pr&el=footer). Last update [2d28c0f...8fde7ca](https://codecov.io/gh/apache/incubator-pinot/pull/5533?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641760851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641854962","html_url":"https://github.com/apache/pinot/issues/2715#issuecomment-641854962","issue_url":"https://api.github.com/repos/apache/pinot/issues/2715","id":641854962,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTg1NDk2Mg==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T08:55:07Z","updated_at":"2020-06-10T08:55:33Z","author_association":"CONTRIBUTOR","body":"Updated design document\r\nhttps://docs.google.com/document/d/1-AKCfXNXdoNjFIvJ87wjWwFM_38gS0NCwFrIYjYsqp8/edit?usp=sharing","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641854962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641860368","html_url":"https://github.com/apache/pinot/pull/5532#issuecomment-641860368","issue_url":"https://api.github.com/repos/apache/pinot/issues/5532","id":641860368,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTg2MDM2OA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T09:03:22Z","updated_at":"2020-06-10T10:26:12Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5532?src=pr&el=h1) Report\n> Merging [#5532](https://codecov.io/gh/apache/incubator-pinot/pull/5532?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **increase** coverage by `0.08%`.\n> The diff coverage is `72.25%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5532/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5532?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5532      +/-   ##\n==========================================\n+ Coverage   66.44%   66.52%   +0.08%     \n==========================================\n  Files        1075     1104      +29     \n  Lines       54773    56889    +2116     \n  Branches     8168     8504     +336     \n==========================================\n+ Hits        36396    37848    +1452     \n- Misses      15700    16241     +541     \n- Partials     2677     2800     +123     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.13% <52.35%> (?)` | |\n| #unittests | `56.79% <62.17%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5532?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5532/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5532/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5532/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5532/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5532/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5532/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5532/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5532/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `63.63% <ø> (ø)` | |\n| [...re/io/reader/impl/v1/FixedBitMultiValueReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5532/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby9yZWFkZXIvaW1wbC92MS9GaXhlZEJpdE11bHRpVmFsdWVSZWFkZXIuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [...e/io/reader/impl/v1/FixedBitSingleValueReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5532/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby9yZWFkZXIvaW1wbC92MS9GaXhlZEJpdFNpbmdsZVZhbHVlUmVhZGVyLmphdmE=) | `100.00% <ø> (ø)` | |\n| ... and [427 more](https://codecov.io/gh/apache/incubator-pinot/pull/5532/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5532?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5532?src=pr&el=footer). Last update [5b3837c...b4d43b3](https://codecov.io/gh/apache/incubator-pinot/pull/5532?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/641860368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642207619","html_url":"https://github.com/apache/pinot/pull/5497#issuecomment-642207619","issue_url":"https://api.github.com/repos/apache/pinot/issues/5497","id":642207619,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjIwNzYxOQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T19:21:07Z","updated_at":"2020-06-10T19:21:07Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5497?src=pr&el=h1) Report\n> Merging [#5497](https://codecov.io/gh/apache/incubator-pinot/pull/5497?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `0.13%`.\n> The diff coverage is `71.80%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5497/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5497?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5497      +/-   ##\n==========================================\n- Coverage   66.44%   66.31%   -0.14%     \n==========================================\n  Files        1075     1104      +29     \n  Lines       54773    56889    +2116     \n  Branches     8168     8504     +336     \n==========================================\n+ Hits        36396    37724    +1328     \n- Misses      15700    16370     +670     \n- Partials     2677     2795     +118     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.88% <50.82%> (?)` | |\n| #unittests | `56.77% <65.14%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5497?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5497/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5497/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5497/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5497/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5497/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5497/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5497/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5497/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5497/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `0.00% <ø> (-63.64%)` | :arrow_down: |\n| [...re/io/reader/impl/v1/FixedBitMultiValueReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5497/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby9yZWFkZXIvaW1wbC92MS9GaXhlZEJpdE11bHRpVmFsdWVSZWFkZXIuamF2YQ==) | `100.00% <ø> (ø)` | |\n| ... and [437 more](https://codecov.io/gh/apache/incubator-pinot/pull/5497/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5497?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5497?src=pr&el=footer). Last update [4f4c587...66af506](https://codecov.io/gh/apache/incubator-pinot/pull/5497?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642207619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642233517","html_url":"https://github.com/apache/pinot/pull/5535#issuecomment-642233517","issue_url":"https://api.github.com/repos/apache/pinot/issues/5535","id":642233517,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjIzMzUxNw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T20:15:09Z","updated_at":"2020-06-10T21:39:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5535?src=pr&el=h1) Report\n> Merging [#5535](https://codecov.io/gh/apache/incubator-pinot/pull/5535?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `0.12%`.\n> The diff coverage is `71.82%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5535/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5535?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5535      +/-   ##\n==========================================\n- Coverage   66.44%   66.32%   -0.13%     \n==========================================\n  Files        1075     1104      +29     \n  Lines       54773    56869    +2096     \n  Branches     8168     8503     +335     \n==========================================\n+ Hits        36396    37720    +1324     \n- Misses      15700    16364     +664     \n- Partials     2677     2785     +108     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.92% <51.11%> (?)` | |\n| #unittests | `56.86% <65.14%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5535?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5535/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5535/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5535/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5535/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `76.05% <0.00%> (-3.12%)` | :arrow_down: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5535/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5535/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5535/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5535/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5535/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `0.00% <ø> (-63.64%)` | :arrow_down: |\n| [...re/io/reader/impl/v1/FixedBitMultiValueReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5535/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby9yZWFkZXIvaW1wbC92MS9GaXhlZEJpdE11bHRpVmFsdWVSZWFkZXIuamF2YQ==) | `100.00% <ø> (ø)` | |\n| ... and [439 more](https://codecov.io/gh/apache/incubator-pinot/pull/5535/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5535?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5535?src=pr&el=footer). Last update [4f4c587...a7d5fcd](https://codecov.io/gh/apache/incubator-pinot/pull/5535?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642233517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642270763","html_url":"https://github.com/apache/pinot/pull/5282#issuecomment-642270763","issue_url":"https://api.github.com/repos/apache/pinot/issues/5282","id":642270763,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjI3MDc2Mw==","user":{"login":"xiaohui-sun","id":44730481,"node_id":"MDQ6VXNlcjQ0NzMwNDgx","avatar_url":"https://avatars.githubusercontent.com/u/44730481?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohui-sun","html_url":"https://github.com/xiaohui-sun","followers_url":"https://api.github.com/users/xiaohui-sun/followers","following_url":"https://api.github.com/users/xiaohui-sun/following{/other_user}","gists_url":"https://api.github.com/users/xiaohui-sun/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohui-sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohui-sun/subscriptions","organizations_url":"https://api.github.com/users/xiaohui-sun/orgs","repos_url":"https://api.github.com/users/xiaohui-sun/repos","events_url":"https://api.github.com/users/xiaohui-sun/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohui-sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T21:13:30Z","updated_at":"2020-06-10T21:13:30Z","author_association":"NONE","body":"@vincentchenjl already merged the change in another PR. Close this one.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642270763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642283701","html_url":"https://github.com/apache/pinot/pull/5483#issuecomment-642283701","issue_url":"https://api.github.com/repos/apache/pinot/issues/5483","id":642283701,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjI4MzcwMQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T21:43:36Z","updated_at":"2020-06-15T17:58:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5483?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@2c955ce`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `63.09%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5483/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5483?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5483   +/-   ##\n=========================================\n  Coverage          ?   66.50%           \n=========================================\n  Files             ?     1122           \n  Lines             ?    57564           \n  Branches          ?     8618           \n=========================================\n  Hits              ?    38281           \n  Misses            ?    16474           \n  Partials          ?     2809           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.85% <0.51%> (?)` | |\n| #unittests | `57.00% <63.09%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5483?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [.../request/context/predicate/IsNotNullPredicate.java](https://codecov.io/gh/apache/incubator-pinot/pull/5483/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvcHJlZGljYXRlL0lzTm90TnVsbFByZWRpY2F0ZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ery/request/context/predicate/IsNullPredicate.java](https://codecov.io/gh/apache/incubator-pinot/pull/5483/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvcHJlZGljYXRlL0lzTnVsbFByZWRpY2F0ZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ore/query/request/context/predicate/Predicate.java](https://codecov.io/gh/apache/incubator-pinot/pull/5483/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvcHJlZGljYXRlL1ByZWRpY2F0ZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...uery/request/context/predicate/NotInPredicate.java](https://codecov.io/gh/apache/incubator-pinot/pull/5483/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvcHJlZGljYXRlL05vdEluUHJlZGljYXRlLmphdmE=) | `20.00% <20.00%> (ø)` | |\n| [...e/query/request/context/predicate/EqPredicate.java](https://codecov.io/gh/apache/incubator-pinot/pull/5483/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvcHJlZGljYXRlL0VxUHJlZGljYXRlLmphdmE=) | `26.66% <26.66%> (ø)` | |\n| [...uery/request/context/predicate/NotEqPredicate.java](https://codecov.io/gh/apache/incubator-pinot/pull/5483/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvcHJlZGljYXRlL05vdEVxUHJlZGljYXRlLmphdmE=) | `26.66% <26.66%> (ø)` | |\n| [...request/context/predicate/RegexpLikePredicate.java](https://codecov.io/gh/apache/incubator-pinot/pull/5483/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvcHJlZGljYXRlL1JlZ2V4cExpa2VQcmVkaWNhdGUuamF2YQ==) | `26.66% <26.66%> (ø)` | |\n| [.../request/context/predicate/TextMatchPredicate.java](https://codecov.io/gh/apache/incubator-pinot/pull/5483/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvcHJlZGljYXRlL1RleHRNYXRjaFByZWRpY2F0ZS5qYXZh) | `46.66% <46.66%> (ø)` | |\n| [...uery/request/context/OrderByExpressionContext.java](https://codecov.io/gh/apache/incubator-pinot/pull/5483/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvT3JkZXJCeUV4cHJlc3Npb25Db250ZXh0LmphdmE=) | `50.00% <50.00%> (ø)` | |\n| [...e/query/request/context/predicate/InPredicate.java](https://codecov.io/gh/apache/incubator-pinot/pull/5483/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvcHJlZGljYXRlL0luUHJlZGljYXRlLmphdmE=) | `60.00% <60.00%> (ø)` | |\n| ... and [1131 more](https://codecov.io/gh/apache/incubator-pinot/pull/5483/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5483?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5483?src=pr&el=footer). Last update [2c955ce...c740836](https://codecov.io/gh/apache/incubator-pinot/pull/5483?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642283701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642292704","html_url":"https://github.com/apache/pinot/pull/5536#issuecomment-642292704","issue_url":"https://api.github.com/repos/apache/pinot/issues/5536","id":642292704,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjI5MjcwNA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T22:07:16Z","updated_at":"2020-06-10T22:07:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5536?src=pr&el=h1) Report\n> Merging [#5536](https://codecov.io/gh/apache/incubator-pinot/pull/5536?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `0.16%`.\n> The diff coverage is `71.80%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5536/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5536?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5536      +/-   ##\n==========================================\n- Coverage   66.44%   66.28%   -0.17%     \n==========================================\n  Files        1075     1104      +29     \n  Lines       54773    56889    +2116     \n  Branches     8168     8504     +336     \n==========================================\n+ Hits        36396    37710    +1314     \n- Misses      15700    16390     +690     \n- Partials     2677     2789     +112     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.94% <51.04%> (?)` | |\n| #unittests | `56.77% <65.14%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5536?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5536/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5536/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5536/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5536/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5536/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5536/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5536/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5536/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5536/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `0.00% <ø> (-63.64%)` | :arrow_down: |\n| [...re/io/reader/impl/v1/FixedBitMultiValueReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5536/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby9yZWFkZXIvaW1wbC92MS9GaXhlZEJpdE11bHRpVmFsdWVSZWFkZXIuamF2YQ==) | `100.00% <ø> (ø)` | |\n| ... and [438 more](https://codecov.io/gh/apache/incubator-pinot/pull/5536/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5536?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5536?src=pr&el=footer). Last update [427a6fa...6639b26](https://codecov.io/gh/apache/incubator-pinot/pull/5536?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642292704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642301046","html_url":"https://github.com/apache/pinot/pull/5336#issuecomment-642301046","issue_url":"https://api.github.com/repos/apache/pinot/issues/5336","id":642301046,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjMwMTA0Ng==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T22:29:50Z","updated_at":"2020-06-10T22:42:19Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5336?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@5ebcacf`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `55.55%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5336/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5336?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5336   +/-   ##\n=========================================\n  Coverage          ?   66.32%           \n=========================================\n  Files             ?     1105           \n  Lines             ?    56965           \n  Branches          ?     8516           \n=========================================\n  Hits              ?    37782           \n  Misses            ?    16393           \n  Partials          ?     2790           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.79% <25.25%> (?)` | |\n| #unittests | `56.77% <37.37%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5336?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5336/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <ø> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/incubator-pinot/pull/5336/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `49.40% <ø> (ø)` | |\n| [...ava/org/apache/pinot/common/utils/SchemaUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5336/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvU2NoZW1hVXRpbHMuamF2YQ==) | `9.45% <0.00%> (ø)` | |\n| [...he/pinot/common/utils/config/TableConfigUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5336/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvY29uZmlnL1RhYmxlQ29uZmlnVXRpbHMuamF2YQ==) | `87.61% <0.00%> (ø)` | |\n| [...ot/common/utils/fetcher/SegmentFetcherFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5336/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvZmV0Y2hlci9TZWdtZW50RmV0Y2hlckZhY3RvcnkuamF2YQ==) | `89.47% <ø> (ø)` | |\n| [...he/pinot/common/utils/webhdfs/WebHdfsV1Client.java](https://codecov.io/gh/apache/incubator-pinot/pull/5336/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvd2ViaGRmcy9XZWJIZGZzVjFDbGllbnQuamF2YQ==) | `0.00% <ø> (ø)` | |\n| [...org/apache/pinot/controller/ControllerStarter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5336/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyU3RhcnRlci5qYXZh) | `73.35% <0.00%> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/5336/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.00% <ø> (ø)` | |\n| [...in/java/org/apache/pinot/minion/MinionStarter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5336/diff?src=pr&el=tree#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vTWluaW9uU3RhcnRlci5qYXZh) | `82.55% <ø> (ø)` | |\n| [...va/org/apache/pinot/controller/ControllerConf.java](https://codecov.io/gh/apache/incubator-pinot/pull/5336/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyQ29uZi5qYXZh) | `49.47% <33.33%> (ø)` | |\n| ... and [1114 more](https://codecov.io/gh/apache/incubator-pinot/pull/5336/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5336?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5336?src=pr&el=footer). Last update [5ebcacf...c7fa444](https://codecov.io/gh/apache/incubator-pinot/pull/5336?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642301046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642332664","html_url":"https://github.com/apache/pinot/pull/5539#issuecomment-642332664","issue_url":"https://api.github.com/repos/apache/pinot/issues/5539","id":642332664,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjMzMjY2NA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T00:19:06Z","updated_at":"2020-06-11T05:45:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5539?src=pr&el=h1) Report\n> Merging [#5539](https://codecov.io/gh/apache/incubator-pinot/pull/5539?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **increase** coverage by `0.12%`.\n> The diff coverage is `72.74%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5539/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5539?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5539      +/-   ##\n==========================================\n+ Coverage   66.44%   66.57%   +0.12%     \n==========================================\n  Files        1075     1104      +29     \n  Lines       54773    56871    +2098     \n  Branches     8168     8503     +335     \n==========================================\n+ Hits        36396    37864    +1468     \n- Misses      15700    16220     +520     \n- Partials     2677     2787     +110     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.27% <51.75%> (?)` | |\n| #unittests | `56.81% <65.27%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5539?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5539/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5539/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5539/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5539/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5539/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5539/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5539/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5539/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5539/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5539/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `63.63% <ø> (ø)` | |\n| ... and [436 more](https://codecov.io/gh/apache/incubator-pinot/pull/5539/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5539?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5539?src=pr&el=footer). Last update [4f4c587...4c28f03](https://codecov.io/gh/apache/incubator-pinot/pull/5539?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642332664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642404127","html_url":"https://github.com/apache/pinot/pull/5537#issuecomment-642404127","issue_url":"https://api.github.com/repos/apache/pinot/issues/5537","id":642404127,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjQwNDEyNw==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T04:49:19Z","updated_at":"2020-06-11T04:49:19Z","author_association":"CONTRIBUTOR","body":"Rebuild succeeded in travis. Merging.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642404127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642448052","html_url":"https://github.com/apache/pinot/issues/5540#issuecomment-642448052","issue_url":"https://api.github.com/repos/apache/pinot/issues/5540","id":642448052,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjQ0ODA1Mg==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T06:48:51Z","updated_at":"2020-06-11T06:48:51Z","author_association":"CONTRIBUTOR","body":"We should exclude:\r\n```\r\n./docker\r\n./kubernetes\r\n./website\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642448052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642502255","html_url":"https://github.com/apache/pinot/issues/5540#issuecomment-642502255","issue_url":"https://api.github.com/repos/apache/pinot/issues/5540","id":642502255,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjUwMjI1NQ==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T08:40:12Z","updated_at":"2020-06-11T08:40:12Z","author_association":"CONTRIBUTOR","body":"Addressed in the #5541 please take a look","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642502255/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642525270","html_url":"https://github.com/apache/pinot/pull/5534#issuecomment-642525270","issue_url":"https://api.github.com/repos/apache/pinot/issues/5534","id":642525270,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjUyNTI3MA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T09:20:05Z","updated_at":"2020-06-16T02:58:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5534?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@c139488`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `67.56%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5534/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5534?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5534   +/-   ##\n=========================================\n  Coverage          ?   66.54%           \n=========================================\n  Files             ?     1123           \n  Lines             ?    57428           \n  Branches          ?     8591           \n=========================================\n  Hits              ?    38215           \n  Misses            ?    16391           \n  Partials          ?     2822           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.47% <0.00%> (?)` | |\n| #unittests | `56.92% <67.56%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5534?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...not/common/lineage/SegmentLineageAccessHelper.java](https://codecov.io/gh/apache/incubator-pinot/pull/5534/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9TZWdtZW50TGluZWFnZUFjY2Vzc0hlbHBlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/5534/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `68.53% <0.00%> (ø)` | |\n| [.../org/apache/pinot/common/lineage/LineageEntry.java](https://codecov.io/gh/apache/incubator-pinot/pull/5534/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9MaW5lYWdlRW50cnkuamF2YQ==) | `64.70% <64.70%> (ø)` | |\n| [...rg/apache/pinot/common/lineage/SegmentLineage.java](https://codecov.io/gh/apache/incubator-pinot/pull/5534/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9TZWdtZW50TGluZWFnZS5qYXZh) | `88.09% <88.09%> (ø)` | |\n| [...apache/pinot/common/lineage/LineageEntryState.java](https://codecov.io/gh/apache/incubator-pinot/pull/5534/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9MaW5lYWdlRW50cnlTdGF0ZS5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...outing/segmentselector/SegmentSelectorFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5534/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9zZWdtZW50c2VsZWN0b3IvU2VnbWVudFNlbGVjdG9yRmFjdG9yeS5qYXZh) | `60.00% <0.00%> (ø)` | |\n| [...e/pinot/core/query/config/QueryExecutorConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/5534/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9jb25maWcvUXVlcnlFeGVjdXRvckNvbmZpZy5qYXZh) | `76.47% <0.00%> (ø)` | |\n| [...e/operator/dociditerators/BitmapDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/5534/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9CaXRtYXBEb2NJZEl0ZXJhdG9yLmphdmE=) | `92.30% <0.00%> (ø)` | |\n| [...l/parsers/pql2/ast/RegexpLikePredicateAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5534/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9SZWdleHBMaWtlUHJlZGljYXRlQXN0Tm9kZS5qYXZh) | `55.17% <0.00%> (ø)` | |\n| [...pinot/spi/config/table/SegmentPartitionConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/5534/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL1NlZ21lbnRQYXJ0aXRpb25Db25maWcuamF2YQ==) | `88.88% <0.00%> (ø)` | |\n| ... and [1118 more](https://codecov.io/gh/apache/incubator-pinot/pull/5534/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5534?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5534?src=pr&el=footer). Last update [c139488...e1e77aa](https://codecov.io/gh/apache/incubator-pinot/pull/5534?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642525270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642531728","html_url":"https://github.com/apache/pinot/pull/5541#issuecomment-642531728","issue_url":"https://api.github.com/repos/apache/pinot/issues/5541","id":642531728,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjUzMTcyOA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T09:32:05Z","updated_at":"2020-06-11T09:32:05Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5541?src=pr&el=h1) Report\n> Merging [#5541](https://codecov.io/gh/apache/incubator-pinot/pull/5541?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **increase** coverage by `0.11%`.\n> The diff coverage is `71.97%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5541/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5541?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5541      +/-   ##\n==========================================\n+ Coverage   66.44%   66.56%   +0.11%     \n==========================================\n  Files        1075     1104      +29     \n  Lines       54773    56869    +2096     \n  Branches     8168     8503     +335     \n==========================================\n+ Hits        36396    37855    +1459     \n- Misses      15700    16221     +521     \n- Partials     2677     2793     +116     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.24% <50.56%> (?)` | |\n| #unittests | `56.78% <65.85%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5541?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5541/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5541/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5541/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5541/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5541/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5541/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5541/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5541/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5541/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `63.63% <ø> (ø)` | |\n| [...re/io/reader/impl/v1/FixedBitMultiValueReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5541/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby9yZWFkZXIvaW1wbC92MS9GaXhlZEJpdE11bHRpVmFsdWVSZWFkZXIuamF2YQ==) | `100.00% <ø> (ø)` | |\n| ... and [435 more](https://codecov.io/gh/apache/incubator-pinot/pull/5541/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5541?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5541?src=pr&el=footer). Last update [bd1f2c0...cf8bc8c](https://codecov.io/gh/apache/incubator-pinot/pull/5541?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642531728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642662988","html_url":"https://github.com/apache/pinot/pull/5483#issuecomment-642662988","issue_url":"https://api.github.com/repos/apache/pinot/issues/5483","id":642662988,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjY2Mjk4OA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T13:49:44Z","updated_at":"2020-06-11T14:42:31Z","author_association":"CONTRIBUTOR","body":"It seems like we are adding some duplicate code (like Predicate, FilterInfo). We already have them. \r\n\r\nI agree that on server we can move to QueryRequest and build all the execution related information once (segment independent). But that can also be done while we continue to leverage existing interfaces and POJOs. We already have Expression, FilterQueryTree, Predicate etc. Why do we need a new implementation?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642662988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642810922","html_url":"https://github.com/apache/pinot/pull/5539#issuecomment-642810922","issue_url":"https://api.github.com/repos/apache/pinot/issues/5539","id":642810922,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjgxMDkyMg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T17:01:38Z","updated_at":"2020-06-11T17:01:38Z","author_association":"MEMBER","body":"sorry missed this. why do we have another variable for read mode, I thought we already had something in table config called load mode and it was MMAP by default","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642810922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642848504","html_url":"https://github.com/apache/pinot/pull/5483#issuecomment-642848504","issue_url":"https://api.github.com/repos/apache/pinot/issues/5483","id":642848504,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mjg0ODUwNA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T18:12:26Z","updated_at":"2020-06-11T18:12:26Z","author_association":"CONTRIBUTOR","body":"> It seems like we are adding some duplicate code (like Predicate, FilterInfo). We already have them.\r\n> \r\n> I agree that on server we can move to QueryRequest and build all the execution related information once (segment independent). But that can also be done while we continue to leverage existing interfaces and POJOs. We already have Expression, FilterQueryTree, Predicate etc. Why do we need a new implementation?\r\n\r\nThis PR introduces all the classes needed to replace the `BrokerRequest`. The reason for introducing new classes instead of changing the existing ones is that we can make incremental changes to replace them layer by layer (aggregation, selection, transform, projection, filter, etc.) without touching other layers. After deprecating `BrokerRequest` completely, the old classes will be removed.\r\n`TransformExpressionTree` -> `Expression`\r\n`FilterQueryTree` -> `FilterInfo`\r\n`Predicate` -> new `Predicate` with compiled expressions","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642848504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642905349","html_url":"https://github.com/apache/pinot/pull/5542#issuecomment-642905349","issue_url":"https://api.github.com/repos/apache/pinot/issues/5542","id":642905349,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjkwNTM0OQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T20:16:30Z","updated_at":"2020-06-11T20:16:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5542?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@7b41f5a`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `79.31%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5542/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5542?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5542   +/-   ##\n=========================================\n  Coverage          ?   66.38%           \n=========================================\n  Files             ?     1104           \n  Lines             ?    56871           \n  Branches          ?     8505           \n=========================================\n  Hits              ?    37753           \n  Misses            ?    16338           \n  Partials          ?     2780           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.87% <62.06%> (?)` | |\n| #unittests | `56.82% <72.41%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5542?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/5542/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `80.58% <ø> (ø)` | |\n| [.../apache/pinot/spi/stream/LongMsgOffsetFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5542/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL0xvbmdNc2dPZmZzZXRGYWN0b3J5LmphdmE=) | `100.00% <ø> (ø)` | |\n| [...java/org/apache/pinot/spi/stream/MessageBatch.java](https://codecov.io/gh/apache/incubator-pinot/pull/5542/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL01lc3NhZ2VCYXRjaC5qYXZh) | `0.00% <ø> (ø)` | |\n| [...pache/pinot/spi/stream/PartitionLevelConsumer.java](https://codecov.io/gh/apache/incubator-pinot/pull/5542/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1BhcnRpdGlvbkxldmVsQ29uc3VtZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...metadata/segment/LLCRealtimeSegmentZKMetadata.java](https://codecov.io/gh/apache/incubator-pinot/pull/5542/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvc2VnbWVudC9MTENSZWFsdGltZVNlZ21lbnRaS01ldGFkYXRhLmphdmE=) | `47.61% <75.00%> (ø)` | |\n| [.../core/realtime/PinotLLCRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5542/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90TExDUmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `74.76% <90.00%> (ø)` | |\n| [.../helix/core/realtime/SegmentCompletionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5542/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1NlZ21lbnRDb21wbGV0aW9uTWFuYWdlci5qYXZh) | `70.84% <100.00%> (ø)` | |\n| [...manager/realtime/LLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5542/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvTExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `69.26% <100.00%> (ø)` | |\n| [...pache/pinot/spi/stream/PartitionOffsetFetcher.java](https://codecov.io/gh/apache/incubator-pinot/pull/5542/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1BhcnRpdGlvbk9mZnNldEZldGNoZXIuamF2YQ==) | `57.14% <100.00%> (ø)` | |\n| [...va/org/apache/pinot/core/query/utils/TrieNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5542/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS91dGlscy9UcmllTm9kZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| ... and [1103 more](https://codecov.io/gh/apache/incubator-pinot/pull/5542/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5542?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5542?src=pr&el=footer). Last update [7b41f5a...200bb75](https://codecov.io/gh/apache/incubator-pinot/pull/5542?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642905349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642968387","html_url":"https://github.com/apache/pinot/pull/5543#issuecomment-642968387","issue_url":"https://api.github.com/repos/apache/pinot/issues/5543","id":642968387,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mjk2ODM4Nw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T22:45:56Z","updated_at":"2020-06-11T22:45:56Z","author_association":"MEMBER","body":"Thanks @daniellavoie \r\nCan you paste sample configurations for the following scenarios\r\n\r\n- Current code \r\n- After this PR with new properties and old properties for backward compatible\r\n- future when we remove the old properties\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642968387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642983139","html_url":"https://github.com/apache/pinot/pull/5543#issuecomment-642983139","issue_url":"https://api.github.com/repos/apache/pinot/issues/5543","id":642983139,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mjk4MzEzOQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T23:38:47Z","updated_at":"2020-06-11T23:38:47Z","author_association":"CONTRIBUTOR","body":"Controller instance ID is used in the (older) way of running helix controller as well as Pinot controller in the same host (Dual mode). Or, when running helix controller alone. It is NOT used in pinot controller. \r\n\r\nThe good thing is that Helix controller (by itself) can use any name (I need to confirm this with Helix team, or else @kishoreg  can confirm as to what happens when one helix controller registers with one name and another with a differently formatted name in a multi-controller scenario).\r\n\r\nWhen running in Dual mode, however, if the leadControllerResource is NOT enabled (still a supported scenario in Pinot), the servers expect the format hostname_port in CONTROLLER/LEADER node in Helix cluster, and connect to this host name and port number to complete realtime segments.\r\n\r\n@jackjlli  has been added as a reviewer for this change.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642983139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642984859","html_url":"https://github.com/apache/pinot/pull/5543#issuecomment-642984859","issue_url":"https://api.github.com/repos/apache/pinot/issues/5543","id":642984859,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mjk4NDg1OQ==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-11T23:45:42Z","updated_at":"2020-06-11T23:45:42Z","author_association":"CONTRIBUTOR","body":"Thank you for the helix context @mcvsubbu! This is helpful. This PR is still a wip, I need to fix some licensing issues and some unit tests regression. I shared its current state to initiate the discussion around design.\r\n\r\nI don't plan on changing the current `host_port` registration with this contribution since I can't account the impact. I'm trying the keep the same behaviour regardless of the port source and configured listeners.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642984859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642992198","html_url":"https://github.com/apache/pinot/issues/5475#issuecomment-642992198","issue_url":"https://api.github.com/repos/apache/pinot/issues/5475","id":642992198,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mjk5MjE5OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T00:14:17Z","updated_at":"2020-06-12T00:14:17Z","author_association":"MEMBER","body":"@snleee  is this valid?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642992198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642992726","html_url":"https://github.com/apache/pinot/issues/5356#issuecomment-642992726","issue_url":"https://api.github.com/repos/apache/pinot/issues/5356","id":642992726,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mjk5MjcyNg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T00:16:17Z","updated_at":"2020-06-12T00:16:17Z","author_association":"MEMBER","body":"Not an issue","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/642992726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643030356","html_url":"https://github.com/apache/pinot/pull/5546#issuecomment-643030356","issue_url":"https://api.github.com/repos/apache/pinot/issues/5546","id":643030356,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzAzMDM1Ng==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T02:30:56Z","updated_at":"2020-06-12T22:21:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5546?src=pr&el=h1) Report\n> Merging [#5546](https://codecov.io/gh/apache/incubator-pinot/pull/5546?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `0.06%`.\n> The diff coverage is `70.61%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5546/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5546?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5546      +/-   ##\n==========================================\n- Coverage   66.44%   66.38%   -0.07%     \n==========================================\n  Files        1075     1105      +30     \n  Lines       54773    56988    +2215     \n  Branches     8168     8529     +361     \n==========================================\n+ Hits        36396    37832    +1436     \n- Misses      15700    16369     +669     \n- Partials     2677     2787     +110     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.10% <50.85%> (?)` | |\n| #unittests | `56.91% <63.29%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5546?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5546/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5546/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5546/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5546/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5546/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5546/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5546/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5546/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5546/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5546/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `0.00% <ø> (-63.64%)` | :arrow_down: |\n| ... and [446 more](https://codecov.io/gh/apache/incubator-pinot/pull/5546/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5546?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5546?src=pr&el=footer). Last update [fcc3144...b71fa29](https://codecov.io/gh/apache/incubator-pinot/pull/5546?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643030356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643034473","html_url":"https://github.com/apache/pinot/pull/5544#issuecomment-643034473","issue_url":"https://api.github.com/repos/apache/pinot/issues/5544","id":643034473,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzAzNDQ3Mw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T02:47:20Z","updated_at":"2020-06-12T18:49:48Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5544?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@f1f1c41`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `75.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5544/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5544?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5544   +/-   ##\n=========================================\n  Coverage          ?   66.29%           \n=========================================\n  Files             ?     1105           \n  Lines             ?    56877           \n  Branches          ?     8506           \n=========================================\n  Hits              ?    37709           \n  Misses            ?    16378           \n  Partials          ?     2790           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.88% <50.00%> (?)` | |\n| #unittests | `56.79% <75.00%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5544?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...apache/pinot/common/function/FunctionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/5544/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25SZWdpc3RyeS5qYXZh) | `82.14% <ø> (ø)` | |\n| [...e/pinot/common/function/TransformFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/5544/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25UeXBlLmphdmE=) | `88.88% <75.00%> (ø)` | |\n| [...rm/transformer/datetime/SDFToEpochTransformer.java](https://codecov.io/gh/apache/incubator-pinot/pull/5544/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vdHJhbnNmb3JtZXIvZGF0ZXRpbWUvU0RGVG9FcG9jaFRyYW5zZm9ybWVyLmphdmE=) | `100.00% <0.00%> (ø)` | |\n| [...org/apache/pinot/core/plan/ProjectionPlanNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5544/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1Byb2plY3Rpb25QbGFuTm9kZS5qYXZh) | `61.11% <0.00%> (ø)` | |\n| [...ot/core/segment/index/readers/BytesDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/5544/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L3JlYWRlcnMvQnl0ZXNEaWN0aW9uYXJ5LmphdmE=) | `100.00% <0.00%> (ø)` | |\n| [...gin/inputformat/avro/SimpleAvroMessageDecoder.java](https://codecov.io/gh/apache/incubator-pinot/pull/5544/diff?src=pr&el=tree#diff-cGlub3QtcGx1Z2lucy9waW5vdC1pbnB1dC1mb3JtYXQvcGlub3QtYXZyby9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL2lucHV0Zm9ybWF0L2F2cm8vU2ltcGxlQXZyb01lc3NhZ2VEZWNvZGVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...che/pinot/common/restlet/resources/TablesList.java](https://codecov.io/gh/apache/incubator-pinot/pull/5544/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzdGxldC9yZXNvdXJjZXMvVGFibGVzTGlzdC5qYXZh) | `100.00% <0.00%> (ø)` | |\n| [...g/apache/pinot/core/common/DataSourceMetadata.java](https://codecov.io/gh/apache/incubator-pinot/pull/5544/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZU1ldGFkYXRhLmphdmE=) | `100.00% <0.00%> (ø)` | |\n| [.../apache/pinot/controller/util/TableSizeReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5544/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1RhYmxlU2l6ZVJlYWRlci5qYXZh) | `96.15% <0.00%> (ø)` | |\n| [...ment/index/readers/text/LuceneTextIndexReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5544/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L3JlYWRlcnMvdGV4dC9MdWNlbmVUZXh0SW5kZXhSZWFkZXIuamF2YQ==) | `76.78% <0.00%> (ø)` | |\n| ... and [1097 more](https://codecov.io/gh/apache/incubator-pinot/pull/5544/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5544?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5544?src=pr&el=footer). Last update [f1f1c41...e085cfe](https://codecov.io/gh/apache/incubator-pinot/pull/5544?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643034473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643058130","html_url":"https://github.com/apache/pinot/pull/5547#issuecomment-643058130","issue_url":"https://api.github.com/repos/apache/pinot/issues/5547","id":643058130,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzA1ODEzMA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T04:28:36Z","updated_at":"2020-06-12T04:41:17Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5547?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@f1f1c41`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5547/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5547?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5547   +/-   ##\n=========================================\n  Coverage          ?   66.58%           \n=========================================\n  Files             ?     1104           \n  Lines             ?    56871           \n  Branches          ?     8505           \n=========================================\n  Hits              ?    37869           \n  Misses            ?    16210           \n  Partials          ?     2792           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.12% <ø> (?)` | |\n| #unittests | `56.85% <ø> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5547?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ava/org/apache/pinot/spi/utils/ResourceFinder.java](https://codecov.io/gh/apache/incubator-pinot/pull/5547/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvUmVzb3VyY2VGaW5kZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...e/pinot/core/segment/index/loader/LoaderUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5547/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2xvYWRlci9Mb2FkZXJVdGlscy5qYXZh) | `90.32% <0.00%> (ø)` | |\n| [...t/core/segment/index/readers/RangeIndexReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5547/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L3JlYWRlcnMvUmFuZ2VJbmRleFJlYWRlci5qYXZh) | `53.76% <0.00%> (ø)` | |\n| [...ot/common/utils/fetcher/SegmentFetcherFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5547/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvZmV0Y2hlci9TZWdtZW50RmV0Y2hlckZhY3RvcnkuamF2YQ==) | `89.47% <0.00%> (ø)` | |\n| [...pinot/controller/util/TableRetentionValidator.java](https://codecov.io/gh/apache/incubator-pinot/pull/5547/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1RhYmxlUmV0ZW50aW9uVmFsaWRhdG9yLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...t/core/data/function/FunctionEvaluatorFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5547/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2Z1bmN0aW9uL0Z1bmN0aW9uRXZhbHVhdG9yRmFjdG9yeS5qYXZh) | `94.59% <0.00%> (ø)` | |\n| [.../core/query/scheduler/MultiLevelPriorityQueue.java](https://codecov.io/gh/apache/incubator-pinot/pull/5547/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvTXVsdGlMZXZlbFByaW9yaXR5UXVldWUuamF2YQ==) | `83.33% <0.00%> (ø)` | |\n| [...apache/pinot/minion/executor/BaseTaskExecutor.java](https://codecov.io/gh/apache/incubator-pinot/pull/5547/diff?src=pr&el=tree#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vZXhlY3V0b3IvQmFzZVRhc2tFeGVjdXRvci5qYXZh) | `100.00% <0.00%> (ø)` | |\n| [...rg/apache/pinot/common/request/FilterOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/5547/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9GaWx0ZXJPcGVyYXRvci5qYXZh) | `82.75% <0.00%> (ø)` | |\n| [.../resources/PinotLeadControllerRestletResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5547/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90TGVhZENvbnRyb2xsZXJSZXN0bGV0UmVzb3VyY2UuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| ... and [1094 more](https://codecov.io/gh/apache/incubator-pinot/pull/5547/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5547?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5547?src=pr&el=footer). Last update [f1f1c41...fe1d02f](https://codecov.io/gh/apache/incubator-pinot/pull/5547?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643058130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643344043","html_url":"https://github.com/apache/pinot/pull/5483#issuecomment-643344043","issue_url":"https://api.github.com/repos/apache/pinot/issues/5483","id":643344043,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzM0NDA0Mw==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T15:46:24Z","updated_at":"2020-06-12T15:46:24Z","author_association":"CONTRIBUTOR","body":"I missed reviewing the converter earlier. Will do another pass today.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643344043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643388945","html_url":"https://github.com/apache/pinot/pull/5549#issuecomment-643388945","issue_url":"https://api.github.com/repos/apache/pinot/issues/5549","id":643388945,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzM4ODk0NQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T17:10:01Z","updated_at":"2020-06-12T17:10:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5549?src=pr&el=h1) Report\n> Merging [#5549](https://codecov.io/gh/apache/incubator-pinot/pull/5549?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **increase** coverage by `0.09%`.\n> The diff coverage is `71.51%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5549/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5549?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5549      +/-   ##\n==========================================\n+ Coverage   66.44%   66.54%   +0.09%     \n==========================================\n  Files        1075     1105      +30     \n  Lines       54773    56874    +2101     \n  Branches     8168     8505     +337     \n==========================================\n+ Hits        36396    37845    +1449     \n- Misses      15700    16230     +530     \n- Partials     2677     2799     +122     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.13% <50.51%> (?)` | |\n| #unittests | `56.80% <65.47%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5549?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5549/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5549/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5549/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5549/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5549/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5549/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5549/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5549/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5549/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5549/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `63.63% <ø> (ø)` | |\n| ... and [435 more](https://codecov.io/gh/apache/incubator-pinot/pull/5549/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5549?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5549?src=pr&el=footer). Last update [2692d9f...f54f7ca](https://codecov.io/gh/apache/incubator-pinot/pull/5549?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643388945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643399886","html_url":"https://github.com/apache/pinot/issues/5550#issuecomment-643399886","issue_url":"https://api.github.com/repos/apache/pinot/issues/5550","id":643399886,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzM5OTg4Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T17:35:53Z","updated_at":"2020-06-12T17:35:53Z","author_association":"MEMBER","body":"Relevant links\r\n- https://twitter.com/KishoreBytes/status/1250557828500090880\r\n- https://github.com/lightbend/kafka-lag-exporter\r\n- https://github.com/linkedin/Burrow/wiki\r\n\r\nAll existing methods are flawed in one way or the other. Setting alerts on them will trigger false alarms in edge cases.\r\nThe right solution is to some \r\n\r\n@pradeepgv42 offsets might not be comparable across different implementations. Maybe, we can ask each implementation to provide the lag metric.\r\n\r\nAt a high level, there are two things \r\n- kafka offset\r\n- event time\r\n\r\npurely comparing offset will not during bootstrap time but is a good start\r\n \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643399886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643405763","html_url":"https://github.com/apache/pinot/issues/5552#issuecomment-643405763","issue_url":"https://api.github.com/repos/apache/pinot/issues/5552","id":643405763,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzQwNTc2Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T17:48:42Z","updated_at":"2020-06-12T17:48:42Z","author_association":"MEMBER","body":"@npawar \r\nThis can be a good transformer to add to filter duplicate events. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643405763/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]