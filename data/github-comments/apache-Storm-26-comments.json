[{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477371","html_url":"https://github.com/apache/storm/issues/4245#issuecomment-2612477371","issue_url":"https://api.github.com/repos/apache/storm/issues/4245","id":2612477371,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzczNzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T15:20:51Z","updated_at":"2025-01-24T12:59:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/193#issuecomment-49321437\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/193#issuecomment-49321437</a></p>\n\n<p>    The code change looks fine to me, and all of the tests still pass.  I am +1.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49321526","html_url":"https://github.com/apache/storm/pull/193#issuecomment-49321526","issue_url":"https://api.github.com/repos/apache/storm/issues/193","id":49321526,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzIxNTI2","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T15:21:24Z","updated_at":"2014-07-17T15:21:24Z","author_association":"CONTRIBUTOR","body":"I forgot to mention that I'll give others some time to comment before merging this in.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49321526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477373","html_url":"https://github.com/apache/storm/issues/4245#issuecomment-2612477373","issue_url":"https://api.github.com/repos/apache/storm/issues/4245","id":2612477373,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzczNzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T15:21:26Z","updated_at":"2025-01-24T12:59:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/193#issuecomment-49321526\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/193#issuecomment-49321526</a></p>\n\n<p>    I forgot to mention that I'll give others some time to comment before merging this in.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49340669","html_url":"https://github.com/apache/storm/pull/193#issuecomment-49340669","issue_url":"https://api.github.com/repos/apache/storm/issues/193","id":49340669,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzQwNjY5","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T17:51:49Z","updated_at":"2014-07-17T17:51:49Z","author_association":"NONE","body":"@iwasakims, I am not clear on how this would fix the problem described in the jira.  The bindings for `launch-worker` and `shutdown-worker` would not be used anyway by `advance-cluster-time`.\n\nHow can we tell there is an unintentional worker launch that causes a test failure here?  Would that indicate a problem with some other test?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49340669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477377","html_url":"https://github.com/apache/storm/issues/4245#issuecomment-2612477377","issue_url":"https://api.github.com/repos/apache/storm/issues/4245","id":2612477377,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzczNzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T17:51:50Z","updated_at":"2025-01-24T12:59:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/193#issuecomment-49340669\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/193#issuecomment-49340669</a></p>\n\n<p>    @iwasakims, I am not clear on how this would fix the problem described in the jira.  The bindings for `launch-worker` and `shutdown-worker` would not be used anyway by `advance-cluster-time`.</p>\n\n<p>    How can we tell there is an unintentional worker launch that causes a test failure here?  Would that indicate a problem with some other test?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49345959","html_url":"https://github.com/apache/storm/pull/192#issuecomment-49345959","issue_url":"https://api.github.com/repos/apache/storm/issues/192","id":49345959,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzQ1OTU5","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T18:34:27Z","updated_at":"2014-07-17T18:34:27Z","author_association":"CONTRIBUTOR","body":"+1, but I want to give others some time to comment too, before I check this in.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49345959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477256","html_url":"https://github.com/apache/storm/issues/4244#issuecomment-2612477256","issue_url":"https://api.github.com/repos/apache/storm/issues/4244","id":2612477256,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzcyNTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T18:34:28Z","updated_at":"2025-01-24T12:59:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/192#issuecomment-49345959\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/192#issuecomment-49345959</a></p>\n\n<p>    +1, but I want to give others some time to comment too, before I check this in.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49348655","html_url":"https://github.com/apache/storm/pull/193#issuecomment-49348655","issue_url":"https://api.github.com/repos/apache/storm/issues/193","id":49348655,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzQ4NjU1","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T18:55:35Z","updated_at":"2014-07-17T18:55:35Z","author_association":"MEMBER","body":"@d2r, launch-worker and shutdown-worker are called from sync-processes which called every 3 seconds by even-manager thread in supervisor.\nIf you submit-local-topology inside capture-changed-workers, advance-cluster-time also should be called inside the capture-changed-worker because launch-worker and shutdown-worker are mocked only inside it.  If you advance-cluster-time outside capture-changed-worker, actual launch-worker (:local) is called and the test process halt because of interrupt at end of the test.\n\n```\n25524 [Thread-14] ERROR backtype.storm.daemon.worker - Error on initialization of server mk-worker\njava.io.InterruptedIOException: null\n    at reply.hacks.printing$print_sequential.invoke(printing.clj:31) ~[na:na]\n    at clojure.core$print_map.invoke(core_print.clj:203) ~[clojure-1.5.1.jar:na]\n    at clojure.core$fn__5431.invoke(core_print.clj:207) ~[clojure-1.5.1.jar:na]\n    at clojure.lang.MultiFn.invoke(MultiFn.java:231) [clojure-1.5.1.jar:na]\n    at clojure.core$pr_on.invoke(core.clj:3322) ~[clojure-1.5.1.jar:na]\n    at clojure.lang.Var.invoke(Var.java:419) ~[clojure-1.5.1.jar:na]\n    at clojure.lang.RT.print(RT.java:1748) [clojure-1.5.1.jar:na]\n    at clojure.lang.RT.printString(RT.java:1727) [clojure-1.5.1.jar:na]\n    at clojure.lang.APersistentMap.toString(APersistentMap.java:21) ~[clojure-1.5.1.jar:na]\n    at clojure.core$str.invoke(core.clj:513) ~[clojure-1.5.1.jar:na]\n    at clojure.core$str$fn__3896.invoke(core.clj:517) ~[clojure-1.5.1.jar:na]\n    at clojure.core$str.doInvoke(core.clj:519) ~[clojure-1.5.1.jar:na]\n    at clojure.lang.RestFn.invoke(RestFn.java:816) [clojure-1.5.1.jar:na]\n    at backtype.storm.daemon.worker$fn__6855$exec_fn__2478__auto____6856.invoke(worker.clj:356) ~[classes/:na]\n    at clojure.lang.AFn.applyToHelper(AFn.java:185) [clojure-1.5.1.jar:na]\n    at clojure.lang.AFn.applyTo(AFn.java:151) [clojure-1.5.1.jar:na]\n    at clojure.core$apply.invoke(core.clj:617) [clojure-1.5.1.jar:na]\n    at backtype.storm.daemon.worker$fn__6855$mk_worker__6911.doInvoke(worker.clj:355) [classes/:na]\n    at clojure.lang.RestFn.invoke(RestFn.java:512) [clojure-1.5.1.jar:na]\n    at backtype.storm.daemon.supervisor$fn__7382.invoke(supervisor.clj:561) [classes/:na]\n    at clojure.lang.MultiFn.invoke(MultiFn.java:241) [clojure-1.5.1.jar:na]\n    at backtype.storm.daemon.supervisor$sync_processes$iter__7226__7230$fn__7231.invoke(supervisor.clj:277) [classes/:na]\n    at clojure.lang.LazySeq.sval(LazySeq.java:42) [clojure-1.5.1.jar:na]\n    at clojure.lang.LazySeq.seq(LazySeq.java:60) [clojure-1.5.1.jar:na]\n    at clojure.lang.RT.seq(RT.java:484) [clojure-1.5.1.jar:na]\n    at clojure.core$seq.invoke(core.clj:133) [clojure-1.5.1.jar:na]\n    at clojure.core$dorun.invoke(core.clj:2780) [clojure-1.5.1.jar:na]\n    at clojure.core$doall.invoke(core.clj:2796) [clojure-1.5.1.jar:na]\n    at backtype.storm.daemon.supervisor$sync_processes.invoke(supervisor.clj:265) [classes/:na]\n    at clojure.lang.AFn.applyToHelper(AFn.java:161) [clojure-1.5.1.jar:na]\n    at clojure.lang.AFn.applyTo(AFn.java:151) [clojure-1.5.1.jar:na]\n    at clojure.core$apply.invoke(core.clj:619) [clojure-1.5.1.jar:na]\n    at clojure.core$partial$fn__4190.doInvoke(core.clj:2396) [clojure-1.5.1.jar:na]\n    at clojure.lang.RestFn.invoke(RestFn.java:397) [clojure-1.5.1.jar:na]\n    at backtype.storm.event$event_manager$fn__4814.invoke(event.clj:39) [classes/:na]\n    at clojure.lang.AFn.run(AFn.java:24) [clojure-1.5.1.jar:na]\n    at java.lang.Thread.run(Thread.java:744) [na:1.7.0_45]\n25525 [Thread-14] INFO  backtype.storm.util - Halting process: (\"Error on initialization\")\n```\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49348655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477382","html_url":"https://github.com/apache/storm/issues/4245#issuecomment-2612477382","issue_url":"https://api.github.com/repos/apache/storm/issues/4245","id":2612477382,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzczODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T18:55:36Z","updated_at":"2025-01-24T12:59:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user iwasakims commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/193#issuecomment-49348655\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/193#issuecomment-49348655</a></p>\n\n<p>    @d2r, launch-worker and shutdown-worker are called from sync-processes which called every 3 seconds by even-manager thread in supervisor.<br/>\n    If you submit-local-topology inside capture-changed-workers, advance-cluster-time also should be called inside the capture-changed-worker because launch-worker and shutdown-worker are mocked only inside it.  If you advance-cluster-time outside capture-changed-worker, actual launch-worker (:local) is called and the test process halt because of interrupt at end of the test.<br/>\n    ```<br/>\n    25524 <span class=\"error\">&#91;Thread-14&#93;</span> ERROR backtype.storm.daemon.worker - Error on initialization of server mk-worker<br/>\n    java.io.InterruptedIOException: null<br/>\n    \tat reply.hacks.printing$print_sequential.invoke(printing.clj:31) ~<span class=\"error\">&#91;na:na&#93;</span><br/>\n    \tat clojure.core$print_map.invoke(core_print.clj:203) ~<span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.core$fn__5431.invoke(core_print.clj:207) ~<span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.lang.MultiFn.invoke(MultiFn.java:231) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.core$pr_on.invoke(core.clj:3322) ~<span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.lang.Var.invoke(Var.java:419) ~<span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.lang.RT.print(RT.java:1748) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.lang.RT.printString(RT.java:1727) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.lang.APersistentMap.toString(APersistentMap.java:21) ~<span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.core$str.invoke(core.clj:513) ~<span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.core$str$fn__3896.invoke(core.clj:517) ~<span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.core$str.doInvoke(core.clj:519) ~<span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.lang.RestFn.invoke(RestFn.java:816) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat backtype.storm.daemon.worker$fn_<em>6855$exec_fn</em><em>2478</em><em>auto</em>___6856.invoke(worker.clj:356) ~<span class=\"error\">&#91;classes/:na&#93;</span><br/>\n    \tat clojure.lang.AFn.applyToHelper(AFn.java:185) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.lang.AFn.applyTo(AFn.java:151) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.core$apply.invoke(core.clj:617) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat backtype.storm.daemon.worker$fn_<em>6855$mk_worker</em>_6911.doInvoke(worker.clj:355) <span class=\"error\">&#91;classes/:na&#93;</span><br/>\n    \tat clojure.lang.RestFn.invoke(RestFn.java:512) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat backtype.storm.daemon.supervisor$fn__7382.invoke(supervisor.clj:561) <span class=\"error\">&#91;classes/:na&#93;</span><br/>\n    \tat clojure.lang.MultiFn.invoke(MultiFn.java:241) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat backtype.storm.daemon.supervisor$sync_processes$iter_<em>7226</em><em>7230$fn</em>_7231.invoke(supervisor.clj:277) <span class=\"error\">&#91;classes/:na&#93;</span><br/>\n    \tat clojure.lang.LazySeq.sval(LazySeq.java:42) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.lang.LazySeq.seq(LazySeq.java:60) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.lang.RT.seq(RT.java:484) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.core$seq.invoke(core.clj:133) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.core$dorun.invoke(core.clj:2780) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.core$doall.invoke(core.clj:2796) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat backtype.storm.daemon.supervisor$sync_processes.invoke(supervisor.clj:265) <span class=\"error\">&#91;classes/:na&#93;</span><br/>\n    \tat clojure.lang.AFn.applyToHelper(AFn.java:161) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.lang.AFn.applyTo(AFn.java:151) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.core$apply.invoke(core.clj:619) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.core$partial$fn__4190.doInvoke(core.clj:2396) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat clojure.lang.RestFn.invoke(RestFn.java:397) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat backtype.storm.event$event_manager$fn__4814.invoke(event.clj:39) <span class=\"error\">&#91;classes/:na&#93;</span><br/>\n    \tat clojure.lang.AFn.run(AFn.java:24) <span class=\"error\">&#91;clojure-1.5.1.jar:na&#93;</span><br/>\n    \tat java.lang.Thread.run(Thread.java:744) <span class=\"error\">&#91;na:1.7.0_45&#93;</span><br/>\n    25525 <span class=\"error\">&#91;Thread-14&#93;</span> INFO  backtype.storm.util - Halting process: (\"Error on initialization\")</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49354550","html_url":"https://github.com/apache/storm/pull/193#issuecomment-49354550","issue_url":"https://api.github.com/repos/apache/storm/issues/193","id":49354550,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzU0NTUw","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T19:45:51Z","updated_at":"2014-07-17T19:45:51Z","author_association":"NONE","body":"@iwasakims That is clear, thank you.  It is good that you tracked it down.\n\nI am +1 on this change.\n\nI will also file a JIRA to take a look at simulated time and mocking in this and other situations, because I think there may be a deeper issue with these kinds of tests particularly in light of another recent change to mitigate test hangs:\n\nhttps://github.com/apache/incubator-storm/blob/ff345c1fa9dcbe55e96037bec3b59d06c3f64cd4/storm-core/src/clj/backtype/storm/testing.clj#L237-L240\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49354550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477384","html_url":"https://github.com/apache/storm/issues/4245#issuecomment-2612477384","issue_url":"https://api.github.com/repos/apache/storm/issues/4245","id":2612477384,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzczODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T19:45:53Z","updated_at":"2025-01-24T12:59:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/193#issuecomment-49354550\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/193#issuecomment-49354550</a></p>\n\n<p>    @iwasakims That is clear, thank you.  It is good that you tracked it down.</p>\n\n<p>    I am +1 on this change.</p>\n\n<p>    I will also file a JIRA to take a look at simulated time and mocking in this and other situations, because I think there may be a deeper issue with these kinds of tests particularly in light of another recent change to mitigate test hangs:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/blob/ff345c1fa9dcbe55e96037bec3b59d06c3f64cd4/storm-core/src/clj/backtype/storm/testing.clj#L237-L240\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/blob/ff345c1fa9dcbe55e96037bec3b59d06c3f64cd4/storm-core/src/clj/backtype/storm/testing.clj#L237-L240</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478723","html_url":"https://github.com/apache/storm/issues/4255#issuecomment-2612478723","issue_url":"https://api.github.com/repos/apache/storm/issues/4255","id":2612478723,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Nzg3MjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T19:55:11Z","updated_at":"2025-01-24T13:00:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagit\">dagit</a>:</i>\n<p>In <a href=\"https://issues.apache.org/jira/browse/STORM-403\" title=\"heartbeats-to-nimbus in supervisor-test failed due to unintentional worker launch\" class=\"issue-link\" data-issue-key=\"STORM-403\"><del>STORM-403</del></a>, we have a test that mocks out functions that launch and shut down workers, but as is explained, the mocking did not take effect for the correct scope, resulting in a test error:</p>\n\n<p><a href=\"https://github.com/apache/incubator-storm/pull/193#issuecomment-49348655\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/193#issuecomment-49348655</a></p>\n\n\n<p>There is also a potential problem with a recent change upon shutting down a local cluster:</p>\n\n<p><a href=\"https://github.com/apache/incubator-storm/blob/ff345c1fa9dcbe55e96037bec3b59d06c3f64cd4/storm-core/src/clj/backtype/storm/testing.clj#L237-L240\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/blob/ff345c1fa9dcbe55e96037bec3b59d06c3f64cd4/storm-core/src/clj/backtype/storm/testing.clj#L237-L240</a></p>\n\n<p>The change ensures that the simulated cluster does not get stuck trying to shut down, but in doing so it also calls `advance-cluster-time` repeatedly.</p>\n\n\n<p>For these kinds of tests, it might be good to remove the submitted topology, so that its worker is not unintentionally launched after the test body is evaluated.</p>\n\n<p>Or, even better, if all we are trying to do is stub out the two functions to prevent actual launching of workers, we could wrap this entire test in a `mocking` call and thus be sure those methods will not be called even in shut down.</p>\n\n<p>```Clojure<br/>\n(deftest heartbeats-to-nimbus<br/>\n  (mocking <span class=\"error\">&#91;supervisor/launch-worker supervisor/shutdown-worker&#93;</span><br/>\n    (with-simulated-time-local-cluster [cluster :supervisors 0<br/>\n```</p>\n\n<p>In this specific test, only mocking is desired, but this will not be a complete solution in other cases.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478122","html_url":"https://github.com/apache/storm/issues/4250#issuecomment-2612478122","issue_url":"https://api.github.com/repos/apache/storm/issues/4250","id":2612478122,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzgxMjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T20:56:27Z","updated_at":"2025-01-24T13:00:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=akrishnan4doittnyc\">akrishnan4doittnyc</a>:</i>\n<p>These Cross-site Scripting security vulnerabilities are manifest in the Storm UI specifically. They were discovered using a commercial security tool that injects various attack vectors into the HTTP request and analyzes the response.</p>\n\n<p>For example, changing the following HTTP GET request URL: (*NOTE: actual server name was changed to <em>server_name</em> )</p>\n\n<p><tt><a href=\"http://server_name:8080/topology/PROCESS_STATUS_TOPOLOGY-3-1402681332\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://server_name:8080/topology/PROCESS_STATUS_TOPOLOGY-3-1402681332</a></tt></p>\n\n<p>by changing the end of parameter: <tt>1402681332</tt> <br/>\nto: <tt>1402681332%3Ciframe%20src=javascript:alert(1342)%20</tt></p>\n\n<p><tt><a href=\"http://server_name:8080/topology/PROCESS_STATUS_TOPOLOGY-3-1402681332%3Ciframe%20src=javascript:alert(1342)%20\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://server_name:8080/topology/PROCESS_STATUS_TOPOLOGY-3-1402681332%3Ciframe%20src=javascript:alert(1342)%20</a></tt></p>\n\n<p><em>Test HTTP Request and Response:</em></p>\n\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">GET /topology/PROCESS_STATUS_TOPOLOGY-3-1402681332%3Ciframe%20src=javascript:alert(1342)%20\nHTTP/1.1\nAccept: text/html, application/xhtml+xml, */*\nReferer: http:<span class=\"code-comment\">//server_name:8080/topology/PROCESS_STATUS_TOPOLOGY-3-1402681332\n</span>Accept-Language: en-US\nUser-Agent: Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0)\nConnection: Keep-Alive\nDNT: 1\nHost: server_name:8080\nCookie: sys=<span class=\"code-keyword\">true</span>\n</pre>\n</div></div>\n\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">HTTP/1.1 500 Internal Server Error\nDate: Wed, 18 Jun 2014 19:37:01 GMT\nContent-Type: text/html; charset=iso-8859-1\nContent-Length: 3183\nServer: Jetty(6.1.26)\n<!DOCTYPE html PUBLIC <span class=\"code-quote\">\"-<span class=\"code-comment\">//W3C//DTD HTML 4.01//EN\"</span> <span class=\"code-quote\">\"http://www.w3.org/TR/html4/strict.dtd\"</span>>\n</span><html><head><title>Storm UI</title><link href=<span class=\"code-quote\">\"/css/bootstrap-1.1.0.css\"</span> rel=<span class=\"code-quote\">\"stylesheet\"</span>\ntype=<span class=\"code-quote\">\"text/css\"</span>><link href=<span class=\"code-quote\">\"/css/style.css\"</span> rel=<span class=\"code-quote\">\"stylesheet\"</span> type=<span class=\"code-quote\">\"text/css\"</span>><script\nsrc=<span class=\"code-quote\">\"/js/jquery-1.6.2.min.js\"</span> type=<span class=\"code-quote\">\"text/javascript\"</span>></script><script\nsrc=<span class=\"code-quote\">\"/js/jquery.tablesorter.min.js\"</span> type=<span class=\"code-quote\">\"text/javascript\"</span>></script><script\nsrc=<span class=\"code-quote\">\"/js/jquery.cookies.2.2.0.min.js\"</span> type=<span class=\"code-quote\">\"text/javascript\"</span>></script><script src=<span class=\"code-quote\">\"/js/script.js\"</span>\ntype=<span class=\"code-quote\">\"text/javascript\"</span>></script></head><body><h1><a href=<span class=\"code-quote\">\"/\"</span>>Storm UI</a></h1><h2>Internal Server\nError</h2><pre>NotAliveException(msg:PROCESS_STATUS_TOPOLOGY-3-1402681332<iframe\nsrc=javascript:alert(1342) )\nat backtype.storm.generated.Nimbus$getTopologyInfo_result.read(Nimbus.java:11330)\nat org.apache.thrift7.TServiceClient.receiveBase(TServiceClient.java:78)\nat backtype.storm.generated.Nimbus$Client.recv_getTopologyInfo(Nimbus.java:474)\nat backtype.storm.generated.Nimbus$Client.getTopologyInfo(Nimbus.java:461)\nat backtype.storm.ui.core$topology_page.invoke(core.clj:481)\nat backtype.storm.ui.core$fn__7877.invoke(core.clj:745)\nat compojure.core$make_route$fn__3855.invoke(core.clj:93)\nat compojure.core$if_route$fn__3843.invoke(core.clj:39)\nat compojure.core$if_method$fn__3836.invoke(core.clj:24)\nat compojure.core$routing$fn__3861.invoke(core.clj:106)\nat clojure.core$some.invoke(core.clj:2390)\nat compojure.core$routing.doInvoke(core.clj:106)\nat clojure.lang.RestFn.applyTo(RestFn.java:139)\nat clojure.core$apply.invoke(core.clj:603)\nat compojure.core$routes$fn__3865.invoke(core.clj:111)\nat ring.middleware.reload$wrap_reload$fn__7170.invoke(reload.clj:14)\nat backtype.storm.ui.core$catch_errors$fn__7912.invoke(core.clj:798)\nat\nring.middleware.keyword_params$wrap_keyword_params$fn__4391.invoke(keyword_params.clj:27)\nat ring.middleware.nested_params$wrap_nested_params$fn__4428.invoke(nested_params.clj:65)\nat ring.middleware.params$wrap_params$fn__4365.invoke(params.clj:55)\nat\nring.middleware.multipart_params$wrap_multipart_params$fn__4454.invoke(multipart_params.clj:103)\nat ring.middleware.flash$wrap_flash$fn__4729.invoke(flash.clj:14)\nat ring.middleware.session$wrap_session$fn__4720.invoke(session.clj:43)\nat ring.middleware.cookies$wrap_cookies$fn__4657.invoke(cookies.clj:160)\nat ring.adapter.jetty$proxy_handler$fn__4204.invoke(jetty.clj:16)\nat ring.adapter.jetty.proxy$org.mortbay.jetty.handler.AbstractHandler$0.handle(Unknown\nSource)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat org.mortbay.jetty.Server.handle(Server.java:326)\nat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\nat\norg.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)\nat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\nat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\nat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\nat org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)\nat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</pre></body></html>\n</pre>\n</div></div>\n\n<p>The test result seems to indicate a vulnerability because the commercial security tool successfully embedded a script in the response, which will be executed when the page loads in the user's browser.</p>\n\n<p>Let me know if this is the type of detail you were interested in.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49365496","html_url":"https://github.com/apache/storm/pull/116#issuecomment-49365496","issue_url":"https://api.github.com/repos/apache/storm/issues/116","id":49365496,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzY1NDk2","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:04:46Z","updated_at":"2014-07-17T21:04:46Z","author_association":"NONE","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49365496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612465096","html_url":"https://github.com/apache/storm/issues/4163#issuecomment-2612465096","issue_url":"https://api.github.com/repos/apache/storm/issues/4163","id":2612465096,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjUwOTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:04:48Z","updated_at":"2025-01-24T12:53:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/116#issuecomment-49365496\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/116#issuecomment-49365496</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612465096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49367057","html_url":"https://github.com/apache/storm/pull/176#issuecomment-49367057","issue_url":"https://api.github.com/repos/apache/storm/issues/176","id":49367057,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzY3MDU3","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:18:40Z","updated_at":"2014-07-17T21:18:40Z","author_association":"CONTRIBUTOR","body":"I am sorry it has taken me so long to look at this.  The code change looks good.  It would be nice to have a unit test for this, but I don't think it is that critical.  I am +1 for this.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49367057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612455469","html_url":"https://github.com/apache/storm/issues/4096#issuecomment-2612455469","issue_url":"https://api.github.com/repos/apache/storm/issues/4096","id":2612455469,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTU0Njk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:18:42Z","updated_at":"2025-01-24T12:48:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/176#issuecomment-49367057\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/176#issuecomment-49367057</a></p>\n\n<p>    I am sorry it has taken me so long to look at this.  The code change looks good.  It would be nice to have a unit test for this, but I don't think it is that critical.  I am +1 for this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612455469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612473518","html_url":"https://github.com/apache/storm/issues/4215#issuecomment-2612473518","issue_url":"https://api.github.com/repos/apache/storm/issues/4215","id":2612473518,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzM1MTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:29:27Z","updated_at":"2025-01-24T12:57:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/164#discussion_r15085420\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/164#discussion_r15085420</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/Config.java &#8212;<br/>\n    @@ -469,7 +469,8 @@</p>\n\n<p> /**</p>\n<ul>\n\t<li>The jvm opts provided to workers launched by this supervisor. All \"%ID%\" substrings are replaced</li>\n</ul>\n<ul class=\"alternate\" type=\"square\">\n\t<li>* with an identifier for this worker.<br/>\n    +     * with an identifier for this worker. Also, \"%WORKER-ID%\", \"%STORM-ID%\" and \"%WORKER-PORT%\" are<br/>\n    +     * replaced with appropriate runtime values for this worker.\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Let's explain clearly what substitutions are happening.<br/>\n    ID -> port (for backward compatibility)<br/>\n    WORKER-PORT -> port<br/>\n    WORKER-ID -> worker id<br/>\n    STORM-ID -> topology's id.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612473518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469503","html_url":"https://github.com/apache/storm/issues/4188#issuecomment-2612469503","issue_url":"https://api.github.com/repos/apache/storm/issues/4188","id":2612469503,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Njk1MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:36:23Z","updated_at":"2025-01-24T12:55:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/190#discussion_r15085803\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/190#discussion_r15085803</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/security/auth/kerberos/AutoHDFS.java &#8212;<br/>\n    @@ -0,0 +1,298 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +<br/>\n    +package backtype.storm.security.auth.kerberos;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.security.auth.IAutoCredentials;<br/>\n    +import backtype.storm.security.auth.ICredentialsRenewer;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import javax.security.auth.Subject;<br/>\n    +import javax.xml.bind.DatatypeConverter;<br/>\n    +import java.io.*;<br/>\n    +import java.lang.reflect.Method;<br/>\n    +import java.net.URI;<br/>\n    +import java.util.Collection;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Automatically get HDFS delegation tokens and push it to user's topology. The class<br/>\n    + * assumes that HDFS configuration files are in your class path.<br/>\n    + */<br/>\n    +public class AutoHDFS implements IAutoCredentials, ICredentialsRenewer {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(AutoHDFS.class);<br/>\n    +    public static final String HDFS_CREDENTIALS = \"HDFS_CREDENTIALS\";<br/>\n    +    private static final String CONF_KEYTAB_KEY = \"keytab\";<br/>\n    +    private static final String CONF_USER_KEY = \"user\";<br/>\n    +<br/>\n    +    private Map conf;<br/>\n    +<br/>\n    +    public void prepare(Map conf) </p>\n{\n    +this.conf = conf;\n    +    }\n<p>    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    private Object getConfiguration() {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I think I would rather have hdfs-site.xml be configured properly rather then trying to have storm know enough about Hadoop configuration to make it work.  Configuring Hadoop is a real pain, and I think this will just end up being a losing battle.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469509","html_url":"https://github.com/apache/storm/issues/4188#issuecomment-2612469509","issue_url":"https://api.github.com/repos/apache/storm/issues/4188","id":2612469509,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Njk1MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:41:04Z","updated_at":"2025-01-24T12:55:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/190#discussion_r15086078\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/190#discussion_r15086078</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/security/auth/kerberos/AutoHDFS.java &#8212;<br/>\n    @@ -0,0 +1,298 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +<br/>\n    +package backtype.storm.security.auth.kerberos;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.security.auth.IAutoCredentials;<br/>\n    +import backtype.storm.security.auth.ICredentialsRenewer;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import javax.security.auth.Subject;<br/>\n    +import javax.xml.bind.DatatypeConverter;<br/>\n    +import java.io.*;<br/>\n    +import java.lang.reflect.Method;<br/>\n    +import java.net.URI;<br/>\n    +import java.util.Collection;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Automatically get HDFS delegation tokens and push it to user's topology. The class<br/>\n    + * assumes that HDFS configuration files are in your class path.<br/>\n    + */<br/>\n    +public class AutoHDFS implements IAutoCredentials, ICredentialsRenewer {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(AutoHDFS.class);<br/>\n    +    public static final String HDFS_CREDENTIALS = \"HDFS_CREDENTIALS\";<br/>\n    +    private static final String CONF_KEYTAB_KEY = \"keytab\";<br/>\n    +    private static final String CONF_USER_KEY = \"user\";<br/>\n    +<br/>\n    +    private Map conf;<br/>\n    +<br/>\n    +    public void prepare(Map conf) </p>\n{\n    +this.conf = conf;\n    +    }\n<p>    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    private Object getConfiguration() {<br/>\n    +try </p>\n{\n    +    final String hdfsUser = (String) conf.get(Config.HDFS_USER);\n    +    final String hdfsUserKeyTab = (String) conf.get(Config.HDFS_USER_KEYTAB);\n    +\n    +    /**\n    +     *  Configuration configuration = new Configuration();\n    +     *  configuration.set(CONF_KEYTAB_KEY, hdfsUserKeyTab);\n    +     *  configuration.set(CONF_USER_KEY, hdfsUser);\n    +     */\n    +    Class configurationClass = Class.forName(\"org.apache.hadoop.conf.Configuration\");\n    +    Object configuration = configurationClass.newInstance();\n    +\n    +    Method setMethod = configurationClass.getMethod(\"set\", String.class, String.class);\n    +    setMethod.invoke(configuration, CONF_KEYTAB_KEY, hdfsUserKeyTab);\n    +    setMethod.invoke(configuration, CONF_USER_KEY, hdfsUser);\n    +    /**\n    +     * Following are the minimum set of configuration that needs to be set,  users should have hdfs-site.xml\n    +     * and core-site.xml in the class path which should set these configuration.\n    +     * setMethod.invoke(configuration, \"hadoop.security.authentication\", \"KERBEROS\");\n    +     * setMethod.invoke(configuration,\"dfs.namenode.kerberos.principal\",\n    +     *\"hdfs/zookeeper.witzend.com@WITZEND.COM\");\n    +     * setMethod.invoke(configuration, \"hadoop.security.kerberos.ticket.cache.path\", \"/tmp/krb5cc_1002\");\n    +     */\n    +\n    +    setMethod.invoke(configuration, \"hadoop.security.authentication\", \"KERBEROS\");\n    +    setMethod.invoke(configuration, \"dfs.namenode.kerberos.principal\",\"hdfs/zookeeper.witzend.com@WITZEND.COM\");\n    +    setMethod.invoke(configuration, \"hadoop.security.kerberos.ticket.cache.path\", \"/tmp/krb5cc_1002\");\n    +\n    +    //UserGroupInformation.setConfiguration(configuration);\n    +    final Class ugiClass = Class.forName(\"org.apache.hadoop.security.UserGroupInformation\");\n    +    Method setConfigurationMethod = ugiClass.getMethod(\"setConfiguration\", configurationClass);\n    +    setConfigurationMethod.invoke(null, configuration);\n    +    return configuration;\n    +}\n<p>  catch (Exception e) </p>\n{\n    +    throw new RuntimeException(e);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    private void login(Object configuration) {<br/>\n    +try </p>\n{\n    +    Class configurationClass = Class.forName(\"org.apache.hadoop.conf.Configuration\");\n    +    final Class securityUtilClass = Class.forName(\"org.apache.hadoop.security.SecurityUtil\");\n    +    Method loginMethod = securityUtilClass.getMethod(\"login\", configurationClass, String.class, String.class);\n    +    loginMethod.invoke(null, configuration, CONF_KEYTAB_KEY, CONF_USER_KEY);\n    +}\n<p> catch (Exception e) </p>\n{\n    +   throw new RuntimeException(\"Failed to login to hdfs .\", e);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    private byte[] getHDFSCredsWithDelegationToken() throws Exception {<br/>\n    +<br/>\n    +try {<br/>\n    +    /**<br/>\n    +     * What we want to do is following:<br/>\n    +     *  Configuration configuration = new Configuration();<br/>\n    +     *  configuration.set(CONF_KEYTAB_KEY, hdfsUserKeyTab);<br/>\n    +     *  configuration.set(CONF_USER_KEY, hdfsUser);<br/>\n    +     *  UserGroupInformation.setConfiguration(configuration);<br/>\n    +     *  if(UserGroupInformation.isSecurityEnabled) </p>\n{\n    +     *      SecurityUtil.login(configuration, CONF_KEYTAB_KEY, CONF_USER_KEY);\n    +     *      FileSystem fs = FileSystem.get(nameNodeURI, configuration, topologySubmitterUser);\n    +     *      UserGroupInformation ugi = UserGroupInformation.getCurrentUser();\n    +     *      UserGroupInformation proxyUser = UserGroupInformation.createProxyUser(topologySubmitterUser, ugi);\n    +     *      Credentials credential= proxyUser.getCredentials();\n    +     *      fs.addDelegationToken(hdfsUser, credential);\n    +     * }\n<p>    +     * and then return the credential object as a bytearray.<br/>\n    +     */<br/>\n    +    Object configuration = getConfiguration();<br/>\n    +    final Class ugiClass = Class.forName(\"org.apache.hadoop.security.UserGroupInformation\");<br/>\n    +    final Method isSecurityEnabledMethod = ugiClass.getDeclaredMethod(\"isSecurityEnabled\");<br/>\n    +    boolean isSecurityEnabled = (Boolean)isSecurityEnabledMethod.invoke(null);<br/>\n    +    if(isSecurityEnabled) </p>\n{\n    +login(configuration);\n    +\n    +final URI nameNodeURI = URI.create((String) conf.get(Config.HDFS_NAMENODE_URL));\n    +final String topologySubmitterUser = (String) conf.get(Config.TOPOLOGY_SUBMITTER_USER);\n    +final String hdfsUser = (String) conf.get(Config.HDFS_USER);\n    +\n    +Class configurationClass = Class.forName(\"org.apache.hadoop.conf.Configuration\");\n    +\n    +//FileSystem fs = FileSystem.get(nameNodeURI, configuration, topologySubmitterUser);\n    +Class fileSystemClass = Class.forName(\"org.apache.hadoop.fs.FileSystem\");\n    +Method getMethod = fileSystemClass.getMethod(\"get\", URI.class, configurationClass, String.class);\n    +Object fileSystem = getMethod.invoke(null, nameNodeURI, configuration, topologySubmitterUser);\n    +\n    +//UserGroupInformation ugi = UserGroupInformation.getCurrentUser();\n    +Method getCurrentUserMethod = ugiClass.getMethod(\"getCurrentUser\");\n    +final Object ugi = getCurrentUserMethod.invoke(null);\n    +\n    +//UserGroupInformation proxyUser = UserGroupInformation.createProxyUser(topologySubmitterUser, ugi);\n    +Method createProxyUserMethod = ugiClass.getMethod(\"createProxyUser\", String.class, ugiClass);\n    +Object proxyUGI = createProxyUserMethod.invoke(null, topologySubmitterUser, ugi);\n    +\n    +//Credentials credential= proxyUser.getCredentials();\n    +Method getCredentialsMethod = ugiClass.getMethod(\"getCredentials\");\n    +Object credentials = getCredentialsMethod.invoke(proxyUGI);\n    +\n    +//fs.addDelegationToken(hdfsUser, credential);\n    +Class credentialClass = Class.forName(\"org.apache.hadoop.security.Credentials\");\n    +Method addDelegationTokensMethod = fileSystemClass.getMethod(\"addDelegationTokens\", String.class,\n    +credentialClass);\n    +addDelegationTokensMethod.invoke(fileSystem, hdfsUser, credentials);\n    +\n    +\n    +ByteArrayOutputStream bao = new ByteArrayOutputStream();\n    +ObjectOutputStream out = new ObjectOutputStream(bao);\n    +Method writeMethod = credentialClass.getMethod(\"write\", DataOutput.class);\n    +writeMethod.invoke(credentials, out);\n    +out.flush();\n    +out.close();\n    +\n    +LOG.info(bao.toString());\n    +return bao.toByteArray();\n    +    }\n<p> else </p>\n{\n    +throw new RuntimeException(\"Security is not enabled for HDFS\");\n    +    }\n<p>    +} catch (Exception ex) </p>\n{\n    +    throw new RuntimeException(\"Failed to get delegation tokens.\" , ex);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void populateCredentials(Map<String, String> credentials) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Populate credentials is called on the gateway by the end user.  As such there is no reason to use a proxyUser get a delegation token, because I can just get it.  In fact the proxyUser should fail, because regular users are not authorized to act as proxy users.</p>\n\n<p>    The idea was to change some of how nimbus used an ICredentialsRenewer, or have a different interface so that nimbus can ask AutoHDFS to populate the credentials at the very beginning. I'll try to explain better in the more general comments.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612473523","html_url":"https://github.com/apache/storm/issues/4215#issuecomment-2612473523","issue_url":"https://api.github.com/repos/apache/storm/issues/4215","id":2612473523,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzM1MjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:41:45Z","updated_at":"2025-01-24T12:57:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/164#discussion_r15086121\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/164#discussion_r15086121</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/supervisor.clj &#8212;<br/>\n    @@ -445,8 +445,17 @@<br/>\n     arch-resource-root (str resource-root File/separator os \"-\" arch)]<br/>\n (str arch-resource-root File/pathSeparator resource-root File/pathSeparator (conf JAVA-LIBRARY-PATH)))) </p>\n\n<p>    <del>(defn</del> substitute-worker-childopts <span class=\"error\">&#91;value port&#93;</span></p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let [sub-fn (fn <span class=\"error\">&#91;s&#93;</span> (.replaceAll s \"%ID%\" (str port)))]<br/>\n    +(defn substitute-childopts <br/>\n    +  <span class=\"error\">&#91;value worker-id storm-id port&#93;</span>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Let's add doc string to this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612473523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612473525","html_url":"https://github.com/apache/storm/issues/4215#issuecomment-2612473525","issue_url":"https://api.github.com/repos/apache/storm/issues/4215","id":2612473525,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzM1MjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:41:46Z","updated_at":"2025-01-24T12:57:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/164#discussion_r15086122\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/164#discussion_r15086122</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/supervisor.clj &#8212;<br/>\n    @@ -445,8 +445,17 @@<br/>\n     arch-resource-root (str resource-root File/separator os \"-\" arch)]<br/>\n (str arch-resource-root File/pathSeparator resource-root File/pathSeparator (conf JAVA-LIBRARY-PATH)))) </p>\n\n<p>    <del>(defn</del> substitute-worker-childopts <span class=\"error\">&#91;value port&#93;</span></p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let [sub-fn (fn <span class=\"error\">&#91;s&#93;</span> (.replaceAll s \"%ID%\" (str port)))]<br/>\n    +(defn substitute-childopts <br/>\n    +  <span class=\"error\">&#91;value worker-id storm-id port&#93;</span><br/>\n    +  (let [replacement-map \n{\"%ID%\"   (str port)\n    +  \"%WORKER-ID%\"   (str worker-id)\n    +  \"%STORM-ID%\"    (str storm-id)\n    +  \"%WORKER-PORT%\" (str port)}\n<p>    + sub-fn (fn <br/>\n    +  <span class=\"error\">&#91;s&#93;</span> <br/>\n    +  (reduce (fn <span class=\"error\">&#91;string entry&#93;</span><br/>\n    +    (apply clojure.string/replace string entry))<br/>\n    +     s replacement-map))]</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    This can be reformatted to be cleaner:</p>\n\n<p>    ```Clojure<br/>\n    sub-fn #(reduce (fn <span class=\"error\">&#91;string entry&#93;</span><br/>\n      (apply clojure.string/replace string entry))<br/>\n    %<br/>\n    replacement-map)]<br/>\n    ```</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612473525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49372008","html_url":"https://github.com/apache/storm/pull/190#issuecomment-49372008","issue_url":"https://api.github.com/repos/apache/storm/issues/190","id":49372008,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzcyMDA4","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:55:12Z","updated_at":"2014-07-17T21:55:12Z","author_association":"CONTRIBUTOR","body":"I really guess I didn't explain things very well in the JIRA.  So the current way IAutoCredentials and ICredentialsRenewer work with nimbus are.\n\nIAutoCredentials will run on the gateway as the topology user.  It gets handed a map that it can place any credentials in needs into.\nThose credentials are uploaded to nimbus, which places them in zookeeper.\nPeriodically nimbus will download the serialized credentials and hand them to ICredentialsRenewer which will run as the nimbus user. If it modifies the the credentials they are pushed to zookeeper.\n\nAt the same time the worker running as the topology user will download the credentials from zookeeper and pass them to IAutoCredentials to the passed in Subject with them. This repeats any time the credentials change in zookeeper.\n\nWhat I would like to see is something where IAutoCredentials has an option of not running on the gateway, or it is a noop on the gateway.  Instead after the credentials are submitted to nimbus, something similar to, or an extended version of ICredentialsRenewer would run as the nimbus user and get the credentials on behalf of the topology user.\n\nThe rest of the process would stay the same, except if a token is about to expire completely.  In that case it would fetch a brand new token.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49372008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469511","html_url":"https://github.com/apache/storm/issues/4188#issuecomment-2612469511","issue_url":"https://api.github.com/repos/apache/storm/issues/4188","id":2612469511,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Njk1MTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:55:15Z","updated_at":"2025-01-24T12:55:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/190#issuecomment-49372008\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/190#issuecomment-49372008</a></p>\n\n<p>    I really guess I didn't explain things very well in the JIRA.  So the current way IAutoCredentials and ICredentialsRenewer work with nimbus are.</p>\n\n<p>    IAutoCredentials will run on the gateway as the topology user.  It gets handed a map that it can place any credentials in needs into.<br/>\n    Those credentials are uploaded to nimbus, which places them in zookeeper.<br/>\n    Periodically nimbus will download the serialized credentials and hand them to ICredentialsRenewer which will run as the nimbus user. If it modifies the the credentials they are pushed to zookeeper.</p>\n\n<p>    At the same time the worker running as the topology user will download the credentials from zookeeper and pass them to IAutoCredentials to the passed in Subject with them. This repeats any time the credentials change in zookeeper.</p>\n\n\n<p>    What I would like to see is something where IAutoCredentials has an option of not running on the gateway, or it is a noop on the gateway.  Instead after the credentials are submitted to nimbus, something similar to, or an extended version of ICredentialsRenewer would run as the nimbus user and get the credentials on behalf of the topology user.</p>\n\n<p>    The rest of the process would stay the same, except if a token is about to expire completely.  In that case it would fetch a brand new token.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49372383","html_url":"https://github.com/apache/storm/pull/154#issuecomment-49372383","issue_url":"https://api.github.com/repos/apache/storm/issues/154","id":49372383,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzcyMzgz","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:58:32Z","updated_at":"2014-07-17T21:58:32Z","author_association":"CONTRIBUTOR","body":"The changes look fine to me.  I would like to see the new restful API docs updated to reflect the additional data, but other then that I am a +1.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49372383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472643","html_url":"https://github.com/apache/storm/issues/4208#issuecomment-2612472643","issue_url":"https://api.github.com/repos/apache/storm/issues/4208","id":2612472643,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzI2NDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:58:36Z","updated_at":"2025-01-24T12:57:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/154#issuecomment-49372383\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/154#issuecomment-49372383</a></p>\n\n<p>    The changes look fine to me.  I would like to see the new restful API docs updated to reflect the additional data, but other then that I am a +1.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49372428","html_url":"https://github.com/apache/storm/pull/155#issuecomment-49372428","issue_url":"https://api.github.com/repos/apache/storm/issues/155","id":49372428,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzcyNDI4","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:59:02Z","updated_at":"2014-07-17T21:59:02Z","author_association":"CONTRIBUTOR","body":"Same comment as for #154 \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49372428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472648","html_url":"https://github.com/apache/storm/issues/4208#issuecomment-2612472648","issue_url":"https://api.github.com/repos/apache/storm/issues/4208","id":2612472648,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzI2NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T21:59:04Z","updated_at":"2025-01-24T12:57:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/155#issuecomment-49372428\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/155#issuecomment-49372428</a></p>\n\n<p>    Same comment as for #154 </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49372724","html_url":"https://github.com/apache/storm/pull/171#issuecomment-49372724","issue_url":"https://api.github.com/repos/apache/storm/issues/171","id":49372724,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzcyNzI0","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T22:02:10Z","updated_at":"2014-07-17T22:02:10Z","author_association":"CONTRIBUTOR","body":"Sorry about not responding sooner.  It looks good. My only comment now is to update the REST API documentation to match the change here.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49372724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472430","html_url":"https://github.com/apache/storm/issues/4206#issuecomment-2612472430","issue_url":"https://api.github.com/repos/apache/storm/issues/4206","id":2612472430,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzI0MzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T22:02:11Z","updated_at":"2025-01-24T12:57:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/171#issuecomment-49372724\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/171#issuecomment-49372724</a></p>\n\n<p>    Sorry about not responding sooner.  It looks good. My only comment now is to update the REST API documentation to match the change here.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458357","html_url":"https://github.com/apache/storm/issues/4121#issuecomment-2612458357","issue_url":"https://api.github.com/repos/apache/storm/issues/4121","id":2612458357,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTgzNTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T22:03:06Z","updated_at":"2025-01-24T12:50:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/162#discussion_r15087142\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/162#discussion_r15087142</a></p>\n\n<p>    &#8212; Diff: logback/cluster.xml &#8212;<br/>\n    @@ -52,7 +52,7 @@<br/>\n       </appender></p>\n\n<p>       <appender name=\"METRICS\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"></p>\n<ul class=\"alternate\" type=\"square\">\n\t<li><file>${storm.home}/logs/metrics.log</file><br/>\n    +    <file>${storm.log.dir}/metrics.log</file><br/>\n <rollingPolicy class=\"ch.qos.logback.core.rolling.FixedWindowRollingPolicy\"><br/>\n   <fileNamePattern>${storm.home}/logs/metrics.log.%i</fileNamePattern>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    We need to change the fileNamePattern here too.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458360","html_url":"https://github.com/apache/storm/issues/4121#issuecomment-2612458360","issue_url":"https://api.github.com/repos/apache/storm/issues/4121","id":2612458360,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTgzNjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T22:06:14Z","updated_at":"2025-01-24T12:50:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/162#discussion_r15087312\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/162#discussion_r15087312</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/supervisor.clj &#8212;<br/>\n    @@ -463,6 +463,8 @@<br/>\n :distributed <span class=\"error\">&#91;supervisor storm-id port worker-id&#93;</span><br/>\n (let [conf (:conf supervisor)<br/>\n       storm-home (System/getProperty \"storm.home\")<br/>\n    +  storm-log-dir (if (System/getProperty \"storm.log.dir\")<br/>\n    +  (System/getProperty \"storm.log.dir\") (str storm-home \"/logs\"))<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    This could be:</p>\n\n<p>    ```Clojure<br/>\n    storm-log-dir (or (System/getProperty \"storm.log.dir\") (str storm-home \"/logs\"))<br/>\n    ```</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49373269","html_url":"https://github.com/apache/storm/pull/162#issuecomment-49373269","issue_url":"https://api.github.com/repos/apache/storm/issues/162","id":49373269,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzczMjY5","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T22:07:45Z","updated_at":"2014-07-17T22:07:45Z","author_association":"NONE","body":"This needs an up-merge, and it would be good if we could remove the differences that are white-space only.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49373269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458364","html_url":"https://github.com/apache/storm/issues/4121#issuecomment-2612458364","issue_url":"https://api.github.com/repos/apache/storm/issues/4121","id":2612458364,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTgzNjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-17T22:07:47Z","updated_at":"2025-01-24T12:50:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/162#issuecomment-49373269\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/162#issuecomment-49373269</a></p>\n\n<p>    This needs an up-merge, and it would be good if we could remove the differences that are white-space only.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49387876","html_url":"https://github.com/apache/storm/pull/194#issuecomment-49387876","issue_url":"https://api.github.com/repos/apache/storm/issues/194","id":49387876,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mzg3ODc2","user":{"login":"iwasakims","id":1856607,"node_id":"MDQ6VXNlcjE4NTY2MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1856607?v=4","gravatar_id":"","url":"https://api.github.com/users/iwasakims","html_url":"https://github.com/iwasakims","followers_url":"https://api.github.com/users/iwasakims/followers","following_url":"https://api.github.com/users/iwasakims/following{/other_user}","gists_url":"https://api.github.com/users/iwasakims/gists{/gist_id}","starred_url":"https://api.github.com/users/iwasakims/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iwasakims/subscriptions","organizations_url":"https://api.github.com/users/iwasakims/orgs","repos_url":"https://api.github.com/users/iwasakims/repos","events_url":"https://api.github.com/users/iwasakims/events{/privacy}","received_events_url":"https://api.github.com/users/iwasakims/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T01:55:54Z","updated_at":"2014-07-18T01:55:54Z","author_association":"MEMBER","body":"The retry of this patch happens only if the assignments read by supervisor were inconsistent in supervisor's perspective (i.e. multiple topologies have the same node+port).\n\nIn retrying case, supervisor does not launch/shutdown workers because read-assignments returns unmodified existing-assignment. Because synchronize-supervisor is called every 10 seconds, the retry interval is 10 seconds as a result. I think it is not too quick.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49387876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612442085","html_url":"https://github.com/apache/storm/issues/3997#issuecomment-2612442085","issue_url":"https://api.github.com/repos/apache/storm/issues/3997","id":2612442085,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDIwODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T01:55:55Z","updated_at":"2025-01-24T12:41:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user iwasakims commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/194#issuecomment-49387876\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/194#issuecomment-49387876</a></p>\n\n<p>    The retry of this patch happens only if the assignments read by supervisor were inconsistent in supervisor's perspective (i.e. multiple topologies have the same node+port).</p>\n\n<p>    In retrying case, supervisor does not launch/shutdown workers because read-assignments returns unmodified existing-assignment. Because synchronize-supervisor is called every 10 seconds, the retry interval is 10 seconds as a result. I think it is not too quick.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612442085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49393929","html_url":"https://github.com/apache/storm/pull/24#issuecomment-49393929","issue_url":"https://api.github.com/repos/apache/storm/issues/24","id":49393929,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzkzOTI5","user":{"login":"dashengju","id":4263520,"node_id":"MDQ6VXNlcjQyNjM1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4263520?v=4","gravatar_id":"","url":"https://api.github.com/users/dashengju","html_url":"https://github.com/dashengju","followers_url":"https://api.github.com/users/dashengju/followers","following_url":"https://api.github.com/users/dashengju/following{/other_user}","gists_url":"https://api.github.com/users/dashengju/gists{/gist_id}","starred_url":"https://api.github.com/users/dashengju/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dashengju/subscriptions","organizations_url":"https://api.github.com/users/dashengju/orgs","repos_url":"https://api.github.com/users/dashengju/repos","events_url":"https://api.github.com/users/dashengju/events{/privacy}","received_events_url":"https://api.github.com/users/dashengju/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T04:15:57Z","updated_at":"2014-07-18T04:15:57Z","author_association":"CONTRIBUTOR","body":"@revans2  I will  file a JIRA for this and file a new pull request  for this function. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49393929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478841","html_url":"https://github.com/apache/storm/issues/4256#issuecomment-2612478841","issue_url":"https://api.github.com/repos/apache/storm/issues/4256","id":2612478841,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Nzg4NDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T08:42:42Z","updated_at":"2025-01-24T13:00:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user dashengju opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/196\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/196</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-414\" title=\"support logging level to multilang protocol spout and bolt\" class=\"issue-link\" data-issue-key=\"STORM-414\"><del>STORM-414</del></a>: add loglevel to multilang protocol log method</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-414\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-414</a></p>\n\n<p>    @mahall create a PR: <a href=\"https://github.com/apache/incubator-storm/pull/24\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/24</a> , Added logging level to multilang protocol spout and bolt. But he closed it with no reason.</p>\n\n<p>    @msukmanowsky create a PR before to apache: <a href=\"https://github.com/nathanmarz/storm/pull/626\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/nathanmarz/storm/pull/626</a> , Allow ShellBolts to optionally specify the logging level. But he did not modify ShellSpout and storm.py.</p>\n\n<p>    This improvement add optional logging level to Multilang Protocol's log method. And add implementation in python and ruby.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/dashengju/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/dashengju/incubator-storm</a> Multilang_protocol_loglevel</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/196.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/196.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #196</p>\n\n<hr />\n<p>commit 4746a5757dd3acf24462e8a470b58b67f002f4e2<br/>\nAuthor: dashengju <dashengju@qq.com><br/>\nDate:   2014-07-18T08:34:49Z</p>\n\n<p>    add loglevel to multilang protocol log method</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49408747","html_url":"https://github.com/apache/storm/pull/24#issuecomment-49408747","issue_url":"https://api.github.com/repos/apache/storm/issues/24","id":49408747,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDA4NzQ3","user":{"login":"dashengju","id":4263520,"node_id":"MDQ6VXNlcjQyNjM1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4263520?v=4","gravatar_id":"","url":"https://api.github.com/users/dashengju","html_url":"https://github.com/dashengju","followers_url":"https://api.github.com/users/dashengju/followers","following_url":"https://api.github.com/users/dashengju/following{/other_user}","gists_url":"https://api.github.com/users/dashengju/gists{/gist_id}","starred_url":"https://api.github.com/users/dashengju/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dashengju/subscriptions","organizations_url":"https://api.github.com/users/dashengju/orgs","repos_url":"https://api.github.com/users/dashengju/repos","events_url":"https://api.github.com/users/dashengju/events{/privacy}","received_events_url":"https://api.github.com/users/dashengju/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T08:48:37Z","updated_at":"2014-07-18T08:48:37Z","author_association":"CONTRIBUTOR","body":"I have filed a JIRA and a new PR (https://github.com/apache/incubator-storm/pull/196) for this proposal.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49408747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49409100","html_url":"https://github.com/apache/storm/pull/176#issuecomment-49409100","issue_url":"https://api.github.com/repos/apache/storm/issues/176","id":49409100,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDA5MTAw","user":{"login":"dashengju","id":4263520,"node_id":"MDQ6VXNlcjQyNjM1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4263520?v=4","gravatar_id":"","url":"https://api.github.com/users/dashengju","html_url":"https://github.com/dashengju","followers_url":"https://api.github.com/users/dashengju/followers","following_url":"https://api.github.com/users/dashengju/following{/other_user}","gists_url":"https://api.github.com/users/dashengju/gists{/gist_id}","starred_url":"https://api.github.com/users/dashengju/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dashengju/subscriptions","organizations_url":"https://api.github.com/users/dashengju/orgs","repos_url":"https://api.github.com/users/dashengju/repos","events_url":"https://api.github.com/users/dashengju/events{/privacy}","received_events_url":"https://api.github.com/users/dashengju/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T08:52:48Z","updated_at":"2014-07-18T08:52:48Z","author_association":"CONTRIBUTOR","body":"thanks for your review\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49409100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612455474","html_url":"https://github.com/apache/storm/issues/4096#issuecomment-2612455474","issue_url":"https://api.github.com/repos/apache/storm/issues/4096","id":2612455474,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTU0NzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T08:52:50Z","updated_at":"2025-01-24T12:48:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user dashengju commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/176#issuecomment-49409100\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/176#issuecomment-49409100</a></p>\n\n<p>    thanks for your review</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612455474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49430433","html_url":"https://github.com/apache/storm/pull/122#issuecomment-49430433","issue_url":"https://api.github.com/repos/apache/storm/issues/122","id":49430433,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDMwNDMz","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T13:30:30Z","updated_at":"2014-07-18T13:30:30Z","author_association":"CONTRIBUTOR","body":"I am really sorry it has taken me so long to review things.  The changes look good I am +1, I had to do an upmerge, because of whitespace issues due to a reformatting patch that went in previously.\n\nI'll merge this into master\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49430433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612470973","html_url":"https://github.com/apache/storm/issues/4196#issuecomment-2612470973","issue_url":"https://api.github.com/repos/apache/storm/issues/4196","id":2612470973,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzA5NzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T13:30:31Z","updated_at":"2025-01-24T12:56:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/122#issuecomment-49430433\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/122#issuecomment-49430433</a></p>\n\n<p>    I am really sorry it has taken me so long to review things.  The changes look good I am +1, I had to do an upmerge, because of whitespace issues due to a reformatting patch that went in previously.</p>\n\n<p>    I'll merge this into master</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612470973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612470976","html_url":"https://github.com/apache/storm/issues/4196#issuecomment-2612470976","issue_url":"https://api.github.com/repos/apache/storm/issues/4196","id":2612470976,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzA5NzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T13:30:42Z","updated_at":"2025-01-24T12:56:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/122\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/122</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612470976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612470984","html_url":"https://github.com/apache/storm/issues/4196#issuecomment-2612470984","issue_url":"https://api.github.com/repos/apache/storm/issues/4196","id":2612470984,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzA5ODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T13:32:39Z","updated_at":"2025-01-24T12:56:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Thanks Aaron,</p>\n\n<p>Sorry again about how long this took to be pulled in.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612470984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49432886","html_url":"https://github.com/apache/storm/pull/134#issuecomment-49432886","issue_url":"https://api.github.com/repos/apache/storm/issues/134","id":49432886,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDMyODg2","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T13:53:46Z","updated_at":"2014-07-18T13:53:46Z","author_association":"CONTRIBUTOR","body":"The tests still all pass, and the code looks OK to me I am a +1, but I would like to understand the timeout question asked a little bit better. I'll try to check this in on Monday unless anyone else objects or has outstanding questions.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49432886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612470231","html_url":"https://github.com/apache/storm/issues/4192#issuecomment-2612470231","issue_url":"https://api.github.com/repos/apache/storm/issues/4192","id":2612470231,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzAyMzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T13:53:51Z","updated_at":"2025-01-24T12:56:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/134#issuecomment-49432886\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/134#issuecomment-49432886</a></p>\n\n<p>    The tests still all pass, and the code looks OK to me I am a +1, but I would like to understand the timeout question asked a little bit better. I'll try to check this in on Monday unless anyone else objects or has outstanding questions.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612470231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49434895","html_url":"https://github.com/apache/storm/pull/165#issuecomment-49434895","issue_url":"https://api.github.com/repos/apache/storm/issues/165","id":49434895,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDM0ODk1","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T14:11:20Z","updated_at":"2014-07-18T14:11:27Z","author_association":"CONTRIBUTOR","body":"The changes seem OK to me, but I would like to see a JIRA filed for this and the JIRA number (i.e. STORM-12345) added to the title of the pull request.  I really should have gotten to this a long time ago, sorry it has taken so long.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49434895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612473530","html_url":"https://github.com/apache/storm/issues/4215#issuecomment-2612473530","issue_url":"https://api.github.com/repos/apache/storm/issues/4215","id":2612473530,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzM1MzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T14:56:19Z","updated_at":"2025-01-24T12:57:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/164#discussion_r15115148\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/164#discussion_r15115148</a></p>\n\n<p>    &#8212; Diff: storm-core/test/clj/backtype/storm/supervisor_test.clj &#8212;<br/>\n    @@ -352,3 +352,98 @@<br/>\n       ;; TODO just do reassign, and check that cleans up worker states after killing but doesn't get rid of downloaded code<br/>\n       )</p>\n\n<p>    +(defn found? <br/>\n    +  <span class=\"error\">&#91;sub-str input-str&#93;</span><br/>\n    +  (if (string? input-str)<br/>\n    +    (.contains input-str sub-str)<br/>\n    +    (some? #(.substring % sub-str) input-str)))<br/>\n    +<br/>\n    +(defn not-found? <br/>\n    +  <span class=\"error\">&#91;sub-str input-str&#93;</span><br/>\n    +  (complement (found? sub-str input-str)))<br/>\n    +<br/>\n    +(deftest test-substitute-childopts-happy-path<br/>\n    +  (testing \"worker-launcher replaces ids in childopts\"<br/>\n    +    (let [ worker-id \"w-01\"<br/>\n    +   storm-id \"s-01\"<br/>\n    +   port 9999<br/>\n    +   childopts \"<del>Xloggc:/home/y/lib/storm/current/logs/gc.worker</del>%ID%<del>%STORM-ID%</del>%WORKER-ID%-%WORKER-PORT%.log\"<br/>\n    +   ]<br/>\n    +      (def childopts-with-ids (supervisor/substitute-childopts childopts worker-id storm-id port))<br/>\n    +      (is (not-found? \"%WORKER-ID%\" childopts-with-ids))<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Let's just test for the expected string here.  The way it is now, we are not testing that substitutions are happening in the right places, and that the string is otherwise unchanged besides the substitutions.  Likewise with the tests below.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612473530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478844","html_url":"https://github.com/apache/storm/issues/4256#issuecomment-2612478844","issue_url":"https://api.github.com/repos/apache/storm/issues/4256","id":2612478844,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Nzg4NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T15:38:45Z","updated_at":"2025-01-24T13:00:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/196#discussion_r15117542\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/196#discussion_r15117542</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/spout/ShellSpout.java &#8212;<br/>\n    @@ -158,6 +157,33 @@ private void querySubprocess() {<br/>\n     }<br/>\n }</p>\n\n<p>    +    private void handleLog(ShellMsg shellMsg) {<br/>\n    +String msg = shellMsg.getMsg();<br/>\n    +msg = \"ShellLog\" + _process.getProcessInfoString() + msg;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Could we have some white space in here? to split some of this up.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478850","html_url":"https://github.com/apache/storm/issues/4256#issuecomment-2612478850","issue_url":"https://api.github.com/repos/apache/storm/issues/4256","id":2612478850,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Nzg4NTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T15:39:39Z","updated_at":"2025-01-24T13:00:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/196#discussion_r15117596\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/196#discussion_r15117596</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/task/ShellBolt.java &#8212;<br/>\n    @@ -234,7 +233,34 @@ private void handleEmit(ShellMsg shellMsg) throws InterruptedException </p>\n{\n shellMsg.getStream(), anchors, shellMsg.getTuple());\n     }\n<p> }</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li><p>    +<br/>\n    +    private void handleLog(ShellMsg shellMsg) {<br/>\n    +String msg = shellMsg.getMsg();<br/>\n    +msg = \"ShellLog\" + _process.getProcessInfoString() + msg;</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    whitespace after ShellLog here too</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478856","html_url":"https://github.com/apache/storm/issues/4256#issuecomment-2612478856","issue_url":"https://api.github.com/repos/apache/storm/issues/4256","id":2612478856,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Nzg4NTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T15:41:55Z","updated_at":"2025-01-24T13:00:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/196#discussion_r15117713\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/196#discussion_r15117713</a></p>\n\n<p>    &#8212; Diff: storm-core/src/multilang/py/storm.py &#8212;<br/>\n    @@ -135,8 +135,8 @@ def fail(tup):<br/>\n     def reportError(msg):<br/>\n sendMsgToParent(</p>\n{\"command\": \"error\", \"msg\": msg}\n<p>)</p>\n\n<p>    -def log(msg):</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>sendMsgToParent(\n{\"command\": \"log\", \"msg\": msg}\n<p>)<br/>\n    +def log(msg, level=2):</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Could we add in some other methods that are specific to the levels.  It think it would make using them a lot simpler. log</p>\n{Trace,Debug,Warn,Error}\n<p> You can put in logInfo too, but it feels a bit redundant.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478862","html_url":"https://github.com/apache/storm/issues/4256#issuecomment-2612478862","issue_url":"https://api.github.com/repos/apache/storm/issues/4256","id":2612478862,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Nzg4NjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T15:42:31Z","updated_at":"2025-01-24T13:00:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/196#discussion_r15117745\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/196#discussion_r15117745</a></p>\n\n<p>    &#8212; Diff: storm-core/src/multilang/rb/storm.rb &#8212;<br/>\n    @@ -124,8 +124,8 @@ def reportError(msg)<br/>\n   send_msg_to_parent :command => :error, :msg => msg.to_s<br/>\n end</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>def log(msg)</li>\n\t<li>send_msg_to_parent :command => :log, :msg => msg.to_s<br/>\n    +    def log(msg, level=2)\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Similar here too.  More methods would be good to express the logging.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49445808","html_url":"https://github.com/apache/storm/pull/196#issuecomment-49445808","issue_url":"https://api.github.com/repos/apache/storm/issues/196","id":49445808,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDQ1ODA4","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T15:43:12Z","updated_at":"2014-07-18T15:43:12Z","author_association":"CONTRIBUTOR","body":"The code looks great as is.  I had a few minor comments though that should hopefully make this feature easier to use.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49445808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478868","html_url":"https://github.com/apache/storm/issues/4256#issuecomment-2612478868","issue_url":"https://api.github.com/repos/apache/storm/issues/4256","id":2612478868,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Nzg4Njg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T15:43:14Z","updated_at":"2025-01-24T13:00:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/196#issuecomment-49445808\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/196#issuecomment-49445808</a></p>\n\n<p>    The code looks great as is.  I had a few minor comments though that should hopefully make this feature easier to use.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49447151","html_url":"https://github.com/apache/storm/pull/194#issuecomment-49447151","issue_url":"https://api.github.com/repos/apache/storm/issues/194","id":49447151,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDQ3MTUx","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T15:53:59Z","updated_at":"2014-07-18T15:53:59Z","author_association":"CONTRIBUTOR","body":"You are right, I did not look at the code as closely as I should have, there is no loop in the method, just setting an atom for next time around.  I am +1. I'll give some more time for others to comment and try to check this in on Monday assuming everyone else is OK with it.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49447151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612442089","html_url":"https://github.com/apache/storm/issues/3997#issuecomment-2612442089","issue_url":"https://api.github.com/repos/apache/storm/issues/3997","id":2612442089,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDIwODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T15:54:02Z","updated_at":"2025-01-24T12:41:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/194#issuecomment-49447151\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/194#issuecomment-49447151</a></p>\n\n<p>    You are right, I did not look at the code as closely as I should have, there is no loop in the method, just setting an atom for next time around.  I am +1. I'll give some more time for others to comment and try to check this in on Monday assuming everyone else is OK with it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612442089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469515","html_url":"https://github.com/apache/storm/issues/4188#issuecomment-2612469515","issue_url":"https://api.github.com/repos/apache/storm/issues/4188","id":2612469515,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Njk1MTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T18:19:06Z","updated_at":"2025-01-24T12:55:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/190#discussion_r15125867\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/190#discussion_r15125867</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/security/auth/kerberos/AutoHDFS.java &#8212;<br/>\n    @@ -0,0 +1,298 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +<br/>\n    +package backtype.storm.security.auth.kerberos;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.security.auth.IAutoCredentials;<br/>\n    +import backtype.storm.security.auth.ICredentialsRenewer;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import javax.security.auth.Subject;<br/>\n    +import javax.xml.bind.DatatypeConverter;<br/>\n    +import java.io.*;<br/>\n    +import java.lang.reflect.Method;<br/>\n    +import java.net.URI;<br/>\n    +import java.util.Collection;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Automatically get HDFS delegation tokens and push it to user's topology. The class<br/>\n    + * assumes that HDFS configuration files are in your class path.<br/>\n    + */<br/>\n    +public class AutoHDFS implements IAutoCredentials, ICredentialsRenewer {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(AutoHDFS.class);<br/>\n    +    public static final String HDFS_CREDENTIALS = \"HDFS_CREDENTIALS\";<br/>\n    +    private static final String CONF_KEYTAB_KEY = \"keytab\";<br/>\n    +    private static final String CONF_USER_KEY = \"user\";<br/>\n    +<br/>\n    +    private Map conf;<br/>\n    +<br/>\n    +    public void prepare(Map conf) </p>\n{\n    +this.conf = conf;\n    +    }\n<p>    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    private Object getConfiguration() {<br/>\n    +try </p>\n{\n    +    final String hdfsUser = (String) conf.get(Config.HDFS_USER);\n    +    final String hdfsUserKeyTab = (String) conf.get(Config.HDFS_USER_KEYTAB);\n    +\n    +    /**\n    +     *  Configuration configuration = new Configuration();\n    +     *  configuration.set(CONF_KEYTAB_KEY, hdfsUserKeyTab);\n    +     *  configuration.set(CONF_USER_KEY, hdfsUser);\n    +     */\n    +    Class configurationClass = Class.forName(\"org.apache.hadoop.conf.Configuration\");\n    +    Object configuration = configurationClass.newInstance();\n    +\n    +    Method setMethod = configurationClass.getMethod(\"set\", String.class, String.class);\n    +    setMethod.invoke(configuration, CONF_KEYTAB_KEY, hdfsUserKeyTab);\n    +    setMethod.invoke(configuration, CONF_USER_KEY, hdfsUser);\n    +    /**\n    +     * Following are the minimum set of configuration that needs to be set,  users should have hdfs-site.xml\n    +     * and core-site.xml in the class path which should set these configuration.\n    +     * setMethod.invoke(configuration, \"hadoop.security.authentication\", \"KERBEROS\");\n    +     * setMethod.invoke(configuration,\"dfs.namenode.kerberos.principal\",\n    +     *\"hdfs/zookeeper.witzend.com@WITZEND.COM\");\n    +     * setMethod.invoke(configuration, \"hadoop.security.kerberos.ticket.cache.path\", \"/tmp/krb5cc_1002\");\n    +     */\n    +\n    +    setMethod.invoke(configuration, \"hadoop.security.authentication\", \"KERBEROS\");\n    +    setMethod.invoke(configuration, \"dfs.namenode.kerberos.principal\",\"hdfs/zookeeper.witzend.com@WITZEND.COM\");\n    +    setMethod.invoke(configuration, \"hadoop.security.kerberos.ticket.cache.path\", \"/tmp/krb5cc_1002\");\n    +\n    +    //UserGroupInformation.setConfiguration(configuration);\n    +    final Class ugiClass = Class.forName(\"org.apache.hadoop.security.UserGroupInformation\");\n    +    Method setConfigurationMethod = ugiClass.getMethod(\"setConfiguration\", configurationClass);\n    +    setConfigurationMethod.invoke(null, configuration);\n    +    return configuration;\n    +}\n<p>  catch (Exception e) </p>\n{\n    +    throw new RuntimeException(e);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    private void login(Object configuration) {<br/>\n    +try </p>\n{\n    +    Class configurationClass = Class.forName(\"org.apache.hadoop.conf.Configuration\");\n    +    final Class securityUtilClass = Class.forName(\"org.apache.hadoop.security.SecurityUtil\");\n    +    Method loginMethod = securityUtilClass.getMethod(\"login\", configurationClass, String.class, String.class);\n    +    loginMethod.invoke(null, configuration, CONF_KEYTAB_KEY, CONF_USER_KEY);\n    +}\n<p> catch (Exception e) </p>\n{\n    +   throw new RuntimeException(\"Failed to login to hdfs .\", e);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    private byte[] getHDFSCredsWithDelegationToken() throws Exception {<br/>\n    +<br/>\n    +try {<br/>\n    +    /**<br/>\n    +     * What we want to do is following:<br/>\n    +     *  Configuration configuration = new Configuration();<br/>\n    +     *  configuration.set(CONF_KEYTAB_KEY, hdfsUserKeyTab);<br/>\n    +     *  configuration.set(CONF_USER_KEY, hdfsUser);<br/>\n    +     *  UserGroupInformation.setConfiguration(configuration);<br/>\n    +     *  if(UserGroupInformation.isSecurityEnabled) </p>\n{\n    +     *      SecurityUtil.login(configuration, CONF_KEYTAB_KEY, CONF_USER_KEY);\n    +     *      FileSystem fs = FileSystem.get(nameNodeURI, configuration, topologySubmitterUser);\n    +     *      UserGroupInformation ugi = UserGroupInformation.getCurrentUser();\n    +     *      UserGroupInformation proxyUser = UserGroupInformation.createProxyUser(topologySubmitterUser, ugi);\n    +     *      Credentials credential= proxyUser.getCredentials();\n    +     *      fs.addDelegationToken(hdfsUser, credential);\n    +     * }\n<p>    +     * and then return the credential object as a bytearray.<br/>\n    +     */<br/>\n    +    Object configuration = getConfiguration();<br/>\n    +    final Class ugiClass = Class.forName(\"org.apache.hadoop.security.UserGroupInformation\");<br/>\n    +    final Method isSecurityEnabledMethod = ugiClass.getDeclaredMethod(\"isSecurityEnabled\");<br/>\n    +    boolean isSecurityEnabled = (Boolean)isSecurityEnabledMethod.invoke(null);<br/>\n    +    if(isSecurityEnabled) </p>\n{\n    +login(configuration);\n    +\n    +final URI nameNodeURI = URI.create((String) conf.get(Config.HDFS_NAMENODE_URL));\n    +final String topologySubmitterUser = (String) conf.get(Config.TOPOLOGY_SUBMITTER_USER);\n    +final String hdfsUser = (String) conf.get(Config.HDFS_USER);\n    +\n    +Class configurationClass = Class.forName(\"org.apache.hadoop.conf.Configuration\");\n    +\n    +//FileSystem fs = FileSystem.get(nameNodeURI, configuration, topologySubmitterUser);\n    +Class fileSystemClass = Class.forName(\"org.apache.hadoop.fs.FileSystem\");\n    +Method getMethod = fileSystemClass.getMethod(\"get\", URI.class, configurationClass, String.class);\n    +Object fileSystem = getMethod.invoke(null, nameNodeURI, configuration, topologySubmitterUser);\n    +\n    +//UserGroupInformation ugi = UserGroupInformation.getCurrentUser();\n    +Method getCurrentUserMethod = ugiClass.getMethod(\"getCurrentUser\");\n    +final Object ugi = getCurrentUserMethod.invoke(null);\n    +\n    +//UserGroupInformation proxyUser = UserGroupInformation.createProxyUser(topologySubmitterUser, ugi);\n    +Method createProxyUserMethod = ugiClass.getMethod(\"createProxyUser\", String.class, ugiClass);\n    +Object proxyUGI = createProxyUserMethod.invoke(null, topologySubmitterUser, ugi);\n    +\n    +//Credentials credential= proxyUser.getCredentials();\n    +Method getCredentialsMethod = ugiClass.getMethod(\"getCredentials\");\n    +Object credentials = getCredentialsMethod.invoke(proxyUGI);\n    +\n    +//fs.addDelegationToken(hdfsUser, credential);\n    +Class credentialClass = Class.forName(\"org.apache.hadoop.security.Credentials\");\n    +Method addDelegationTokensMethod = fileSystemClass.getMethod(\"addDelegationTokens\", String.class,\n    +credentialClass);\n    +addDelegationTokensMethod.invoke(fileSystem, hdfsUser, credentials);\n    +\n    +\n    +ByteArrayOutputStream bao = new ByteArrayOutputStream();\n    +ObjectOutputStream out = new ObjectOutputStream(bao);\n    +Method writeMethod = credentialClass.getMethod(\"write\", DataOutput.class);\n    +writeMethod.invoke(credentials, out);\n    +out.flush();\n    +out.close();\n    +\n    +LOG.info(bao.toString());\n    +return bao.toByteArray();\n    +    }\n<p> else </p>\n{\n    +throw new RuntimeException(\"Security is not enabled for HDFS\");\n    +    }\n<p>    +} catch (Exception ex) </p>\n{\n    +    throw new RuntimeException(\"Failed to get delegation tokens.\" , ex);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void populateCredentials(Map<String, String> credentials) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    completely my bad, I did not intend to keep these config lines uncommented. I had to keep them uncommented for testing as my hdfs-site.xml settings were not being picked up by the code due to some class path issue. Removing them.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469518","html_url":"https://github.com/apache/storm/issues/4188#issuecomment-2612469518","issue_url":"https://api.github.com/repos/apache/storm/issues/4188","id":2612469518,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Njk1MTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T18:19:21Z","updated_at":"2025-01-24T12:55:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/190#discussion_r15125886\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/190#discussion_r15125886</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/security/auth/kerberos/AutoHDFS.java &#8212;<br/>\n    @@ -0,0 +1,298 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +<br/>\n    +package backtype.storm.security.auth.kerberos;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.security.auth.IAutoCredentials;<br/>\n    +import backtype.storm.security.auth.ICredentialsRenewer;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import javax.security.auth.Subject;<br/>\n    +import javax.xml.bind.DatatypeConverter;<br/>\n    +import java.io.*;<br/>\n    +import java.lang.reflect.Method;<br/>\n    +import java.net.URI;<br/>\n    +import java.util.Collection;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Automatically get HDFS delegation tokens and push it to user's topology. The class<br/>\n    + * assumes that HDFS configuration files are in your class path.<br/>\n    + */<br/>\n    +public class AutoHDFS implements IAutoCredentials, ICredentialsRenewer {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(AutoHDFS.class);<br/>\n    +    public static final String HDFS_CREDENTIALS = \"HDFS_CREDENTIALS\";<br/>\n    +    private static final String CONF_KEYTAB_KEY = \"keytab\";<br/>\n    +    private static final String CONF_USER_KEY = \"user\";<br/>\n    +<br/>\n    +    private Map conf;<br/>\n    +<br/>\n    +    public void prepare(Map conf) </p>\n{\n    +this.conf = conf;\n    +    }\n<p>    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    private Object getConfiguration() {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    completely my bad, I did not intend to keep these config lines uncommented. I had to keep them uncommented for testing as my hdfs-site.xml settings were not being picked up by the code due to some class path issue. Removing them.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469521","html_url":"https://github.com/apache/storm/issues/4188#issuecomment-2612469521","issue_url":"https://api.github.com/repos/apache/storm/issues/4188","id":2612469521,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Njk1MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T18:21:59Z","updated_at":"2025-01-24T12:55:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/190#discussion_r15126024\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/190#discussion_r15126024</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/security/auth/kerberos/AutoHDFS.java &#8212;<br/>\n    @@ -0,0 +1,298 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +<br/>\n    +package backtype.storm.security.auth.kerberos;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.security.auth.IAutoCredentials;<br/>\n    +import backtype.storm.security.auth.ICredentialsRenewer;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import javax.security.auth.Subject;<br/>\n    +import javax.xml.bind.DatatypeConverter;<br/>\n    +import java.io.*;<br/>\n    +import java.lang.reflect.Method;<br/>\n    +import java.net.URI;<br/>\n    +import java.util.Collection;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Automatically get HDFS delegation tokens and push it to user's topology. The class<br/>\n    + * assumes that HDFS configuration files are in your class path.<br/>\n    + */<br/>\n    +public class AutoHDFS implements IAutoCredentials, ICredentialsRenewer {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(AutoHDFS.class);<br/>\n    +    public static final String HDFS_CREDENTIALS = \"HDFS_CREDENTIALS\";<br/>\n    +    private static final String CONF_KEYTAB_KEY = \"keytab\";<br/>\n    +    private static final String CONF_USER_KEY = \"user\";<br/>\n    +<br/>\n    +    private Map conf;<br/>\n    +<br/>\n    +    public void prepare(Map conf) </p>\n{\n    +this.conf = conf;\n    +    }\n<p>    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    private Object getConfiguration() {<br/>\n    +try </p>\n{\n    +    final String hdfsUser = (String) conf.get(Config.HDFS_USER);\n    +    final String hdfsUserKeyTab = (String) conf.get(Config.HDFS_USER_KEYTAB);\n    +\n    +    /**\n    +     *  Configuration configuration = new Configuration();\n    +     *  configuration.set(CONF_KEYTAB_KEY, hdfsUserKeyTab);\n    +     *  configuration.set(CONF_USER_KEY, hdfsUser);\n    +     */\n    +    Class configurationClass = Class.forName(\"org.apache.hadoop.conf.Configuration\");\n    +    Object configuration = configurationClass.newInstance();\n    +\n    +    Method setMethod = configurationClass.getMethod(\"set\", String.class, String.class);\n    +    setMethod.invoke(configuration, CONF_KEYTAB_KEY, hdfsUserKeyTab);\n    +    setMethod.invoke(configuration, CONF_USER_KEY, hdfsUser);\n    +    /**\n    +     * Following are the minimum set of configuration that needs to be set,  users should have hdfs-site.xml\n    +     * and core-site.xml in the class path which should set these configuration.\n    +     * setMethod.invoke(configuration, \"hadoop.security.authentication\", \"KERBEROS\");\n    +     * setMethod.invoke(configuration,\"dfs.namenode.kerberos.principal\",\n    +     *\"hdfs/zookeeper.witzend.com@WITZEND.COM\");\n    +     * setMethod.invoke(configuration, \"hadoop.security.kerberos.ticket.cache.path\", \"/tmp/krb5cc_1002\");\n    +     */\n    +\n    +    setMethod.invoke(configuration, \"hadoop.security.authentication\", \"KERBEROS\");\n    +    setMethod.invoke(configuration, \"dfs.namenode.kerberos.principal\",\"hdfs/zookeeper.witzend.com@WITZEND.COM\");\n    +    setMethod.invoke(configuration, \"hadoop.security.kerberos.ticket.cache.path\", \"/tmp/krb5cc_1002\");\n    +\n    +    //UserGroupInformation.setConfiguration(configuration);\n    +    final Class ugiClass = Class.forName(\"org.apache.hadoop.security.UserGroupInformation\");\n    +    Method setConfigurationMethod = ugiClass.getMethod(\"setConfiguration\", configurationClass);\n    +    setConfigurationMethod.invoke(null, configuration);\n    +    return configuration;\n    +}\n<p>  catch (Exception e) </p>\n{\n    +    throw new RuntimeException(e);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    private void login(Object configuration) {<br/>\n    +try </p>\n{\n    +    Class configurationClass = Class.forName(\"org.apache.hadoop.conf.Configuration\");\n    +    final Class securityUtilClass = Class.forName(\"org.apache.hadoop.security.SecurityUtil\");\n    +    Method loginMethod = securityUtilClass.getMethod(\"login\", configurationClass, String.class, String.class);\n    +    loginMethod.invoke(null, configuration, CONF_KEYTAB_KEY, CONF_USER_KEY);\n    +}\n<p> catch (Exception e) </p>\n{\n    +   throw new RuntimeException(\"Failed to login to hdfs .\", e);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    private byte[] getHDFSCredsWithDelegationToken() throws Exception {<br/>\n    +<br/>\n    +try {<br/>\n    +    /**<br/>\n    +     * What we want to do is following:<br/>\n    +     *  Configuration configuration = new Configuration();<br/>\n    +     *  configuration.set(CONF_KEYTAB_KEY, hdfsUserKeyTab);<br/>\n    +     *  configuration.set(CONF_USER_KEY, hdfsUser);<br/>\n    +     *  UserGroupInformation.setConfiguration(configuration);<br/>\n    +     *  if(UserGroupInformation.isSecurityEnabled) </p>\n{\n    +     *      SecurityUtil.login(configuration, CONF_KEYTAB_KEY, CONF_USER_KEY);\n    +     *      FileSystem fs = FileSystem.get(nameNodeURI, configuration, topologySubmitterUser);\n    +     *      UserGroupInformation ugi = UserGroupInformation.getCurrentUser();\n    +     *      UserGroupInformation proxyUser = UserGroupInformation.createProxyUser(topologySubmitterUser, ugi);\n    +     *      Credentials credential= proxyUser.getCredentials();\n    +     *      fs.addDelegationToken(hdfsUser, credential);\n    +     * }\n<p>    +     * and then return the credential object as a bytearray.<br/>\n    +     */<br/>\n    +    Object configuration = getConfiguration();<br/>\n    +    final Class ugiClass = Class.forName(\"org.apache.hadoop.security.UserGroupInformation\");<br/>\n    +    final Method isSecurityEnabledMethod = ugiClass.getDeclaredMethod(\"isSecurityEnabled\");<br/>\n    +    boolean isSecurityEnabled = (Boolean)isSecurityEnabledMethod.invoke(null);<br/>\n    +    if(isSecurityEnabled) </p>\n{\n    +login(configuration);\n    +\n    +final URI nameNodeURI = URI.create((String) conf.get(Config.HDFS_NAMENODE_URL));\n    +final String topologySubmitterUser = (String) conf.get(Config.TOPOLOGY_SUBMITTER_USER);\n    +final String hdfsUser = (String) conf.get(Config.HDFS_USER);\n    +\n    +Class configurationClass = Class.forName(\"org.apache.hadoop.conf.Configuration\");\n    +\n    +//FileSystem fs = FileSystem.get(nameNodeURI, configuration, topologySubmitterUser);\n    +Class fileSystemClass = Class.forName(\"org.apache.hadoop.fs.FileSystem\");\n    +Method getMethod = fileSystemClass.getMethod(\"get\", URI.class, configurationClass, String.class);\n    +Object fileSystem = getMethod.invoke(null, nameNodeURI, configuration, topologySubmitterUser);\n    +\n    +//UserGroupInformation ugi = UserGroupInformation.getCurrentUser();\n    +Method getCurrentUserMethod = ugiClass.getMethod(\"getCurrentUser\");\n    +final Object ugi = getCurrentUserMethod.invoke(null);\n    +\n    +//UserGroupInformation proxyUser = UserGroupInformation.createProxyUser(topologySubmitterUser, ugi);\n    +Method createProxyUserMethod = ugiClass.getMethod(\"createProxyUser\", String.class, ugiClass);\n    +Object proxyUGI = createProxyUserMethod.invoke(null, topologySubmitterUser, ugi);\n    +\n    +//Credentials credential= proxyUser.getCredentials();\n    +Method getCredentialsMethod = ugiClass.getMethod(\"getCredentials\");\n    +Object credentials = getCredentialsMethod.invoke(proxyUGI);\n    +\n    +//fs.addDelegationToken(hdfsUser, credential);\n    +Class credentialClass = Class.forName(\"org.apache.hadoop.security.Credentials\");\n    +Method addDelegationTokensMethod = fileSystemClass.getMethod(\"addDelegationTokens\", String.class,\n    +credentialClass);\n    +addDelegationTokensMethod.invoke(fileSystem, hdfsUser, credentials);\n    +\n    +\n    +ByteArrayOutputStream bao = new ByteArrayOutputStream();\n    +ObjectOutputStream out = new ObjectOutputStream(bao);\n    +Method writeMethod = credentialClass.getMethod(\"write\", DataOutput.class);\n    +writeMethod.invoke(credentials, out);\n    +out.flush();\n    +out.close();\n    +\n    +LOG.info(bao.toString());\n    +return bao.toByteArray();\n    +    }\n<p> else </p>\n{\n    +throw new RuntimeException(\"Security is not enabled for HDFS\");\n    +    }\n<p>    +} catch (Exception ex) </p>\n{\n    +    throw new RuntimeException(\"Failed to get delegation tokens.\" , ex);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void populateCredentials(Map<String, String> credentials) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Sorry for missing this, I thought the server side implementation of submitTopology is invoking populatecreds so I assume that code will be executed by nimbus and thus ended up creating a proxyUser.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469528","html_url":"https://github.com/apache/storm/issues/4188#issuecomment-2612469528","issue_url":"https://api.github.com/repos/apache/storm/issues/4188","id":2612469528,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Njk1Mjg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T19:24:17Z","updated_at":"2025-01-24T12:55:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/190#issuecomment-49469937\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/190#issuecomment-49469937</a></p>\n\n<p>    The simplest alternative seems to be no implementation for IAutoCredentials needed for AutoHDFS to work. In other words users will not  have to specify any class for \"topology.auto-credentials\" config for auto hdfs to work.</p>\n\n<p>    User will specify AutoHDFS.java as \"nimbus.credential.renewers.classes\" and AutoHDFS will only implement ICredentialsRenewer. In the prepare phase of AutoHDFS.java, which should be called on nimbus startup, we can get the HDFS credentials.</p>\n\n<p>    I have one clarifying question. The ICredentialsRenewer implementations seems to be loaded by reading \"nimbus.credential.renewers.classes\" config at startup by nimbus. If I understand correctly this means if we use ICredentialsRenewer the users who have a running nimbus and wants to use AutoHDFS will have to change the config and restart the nimbus. Is that acceptable? </p>\n\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49474731","html_url":"https://github.com/apache/storm/pull/190#issuecomment-49474731","issue_url":"https://api.github.com/repos/apache/storm/issues/190","id":49474731,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDc0NzMx","user":{"login":"Parth-Brahmbhatt","id":6914358,"node_id":"MDQ6VXNlcjY5MTQzNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6914358?v=4","gravatar_id":"","url":"https://api.github.com/users/Parth-Brahmbhatt","html_url":"https://github.com/Parth-Brahmbhatt","followers_url":"https://api.github.com/users/Parth-Brahmbhatt/followers","following_url":"https://api.github.com/users/Parth-Brahmbhatt/following{/other_user}","gists_url":"https://api.github.com/users/Parth-Brahmbhatt/gists{/gist_id}","starred_url":"https://api.github.com/users/Parth-Brahmbhatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Parth-Brahmbhatt/subscriptions","organizations_url":"https://api.github.com/users/Parth-Brahmbhatt/orgs","repos_url":"https://api.github.com/users/Parth-Brahmbhatt/repos","events_url":"https://api.github.com/users/Parth-Brahmbhatt/events{/privacy}","received_events_url":"https://api.github.com/users/Parth-Brahmbhatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T20:14:26Z","updated_at":"2014-07-18T20:14:26Z","author_association":"CONTRIBUTOR","body":"Here is what I have so far:\n\nUser can specify AutoHDFS.java as \"nimbus.credential.renewers.classes\" and AutoHDFS will only implement ICredentialsRenewer. In the prepare phase of AutoHDFS.java, which should be called on nimbus startup, we can get the HDFS credentials. However, I don't think the topology submitter user will be available at that time so we will not be able to get the token on behalf of the user but only as nimbus which I feel is unacceptable. \n\nIn order to actually get the credentials as topology submitter user, we either need a new Interface that will run on nimbus when a topology is submitted as part of submitTopologyWithOpts implementation or we can add getCredentialForUser(Map conf) method to ICredentialsRenewer interface and call that as part of submitTopologyWithOpts. I personally prefer not to pollute the ICredentialsRenewer interface. Let me know if you have better alternatives or prefer one over another.\n\nI have one last question. The ICredentialsRenewer implementations seems to be loaded by reading \"nimbus.credential.renewers.classes\" config at startup by nimbus. This means the users who have a running nimbus and wants to use AutoHDFS or any other implementation of ICredentialsRenewer will have to change the config and restart the nimbus. Is that acceptable? \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49474731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469532","html_url":"https://github.com/apache/storm/issues/4188#issuecomment-2612469532","issue_url":"https://api.github.com/repos/apache/storm/issues/4188","id":2612469532,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Njk1MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T20:14:28Z","updated_at":"2025-01-24T12:55:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/190#issuecomment-49474731\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/190#issuecomment-49474731</a></p>\n\n<p>    Here is what I have so far:</p>\n\n<p>    User can specify AutoHDFS.java as \"nimbus.credential.renewers.classes\" and AutoHDFS will only implement ICredentialsRenewer. In the prepare phase of AutoHDFS.java, which should be called on nimbus startup, we can get the HDFS credentials. However, I don't think the topology submitter user will be available at that time so we will not be able to get the token on behalf of the user but only as nimbus which I feel is unacceptable. </p>\n\n<p>    In order to actually get the credentials as topology submitter user, we either need a new Interface that will run on nimbus when a topology is submitted as part of submitTopologyWithOpts implementation or we can add getCredentialForUser(Map conf) method to ICredentialsRenewer interface and call that as part of submitTopologyWithOpts. I personally prefer not to pollute the ICredentialsRenewer interface. Let me know if you have better alternatives or prefer one over another.</p>\n\n<p>    I have one last question. The ICredentialsRenewer implementations seems to be loaded by reading \"nimbus.credential.renewers.classes\" config at startup by nimbus. This means the users who have a running nimbus and wants to use AutoHDFS or any other implementation of ICredentialsRenewer will have to change the config and restart the nimbus. Is that acceptable? </p>\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612469532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49480371","html_url":"https://github.com/apache/storm/pull/154#issuecomment-49480371","issue_url":"https://api.github.com/repos/apache/storm/issues/154","id":49480371,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDgwMzcx","user":{"login":"kishorvpatil","id":6090397,"node_id":"MDQ6VXNlcjYwOTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6090397?v=4","gravatar_id":"","url":"https://api.github.com/users/kishorvpatil","html_url":"https://github.com/kishorvpatil","followers_url":"https://api.github.com/users/kishorvpatil/followers","following_url":"https://api.github.com/users/kishorvpatil/following{/other_user}","gists_url":"https://api.github.com/users/kishorvpatil/gists{/gist_id}","starred_url":"https://api.github.com/users/kishorvpatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishorvpatil/subscriptions","organizations_url":"https://api.github.com/users/kishorvpatil/orgs","repos_url":"https://api.github.com/users/kishorvpatil/repos","events_url":"https://api.github.com/users/kishorvpatil/events{/privacy}","received_events_url":"https://api.github.com/users/kishorvpatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T21:13:39Z","updated_at":"2014-07-18T21:13:39Z","author_association":"CONTRIBUTOR","body":"@revans2 I have updated the restful API docs to reflect use of elapsed time and component errors.  Please review.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49480371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472652","html_url":"https://github.com/apache/storm/issues/4208#issuecomment-2612472652","issue_url":"https://api.github.com/repos/apache/storm/issues/4208","id":2612472652,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzI2NTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T21:13:40Z","updated_at":"2025-01-24T12:57:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user kishorvpatil commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/154#issuecomment-49480371\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/154#issuecomment-49480371</a></p>\n\n<p>    @revans2 I have updated the restful API docs to reflect use of elapsed time and component errors.  Please review.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49480443","html_url":"https://github.com/apache/storm/pull/155#issuecomment-49480443","issue_url":"https://api.github.com/repos/apache/storm/issues/155","id":49480443,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDgwNDQz","user":{"login":"kishorvpatil","id":6090397,"node_id":"MDQ6VXNlcjYwOTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6090397?v=4","gravatar_id":"","url":"https://api.github.com/users/kishorvpatil","html_url":"https://github.com/kishorvpatil","followers_url":"https://api.github.com/users/kishorvpatil/followers","following_url":"https://api.github.com/users/kishorvpatil/following{/other_user}","gists_url":"https://api.github.com/users/kishorvpatil/gists{/gist_id}","starred_url":"https://api.github.com/users/kishorvpatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishorvpatil/subscriptions","organizations_url":"https://api.github.com/users/kishorvpatil/orgs","repos_url":"https://api.github.com/users/kishorvpatil/repos","events_url":"https://api.github.com/users/kishorvpatil/events{/privacy}","received_events_url":"https://api.github.com/users/kishorvpatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T21:14:33Z","updated_at":"2014-07-18T21:14:33Z","author_association":"CONTRIBUTOR","body":"@revans2  Since security branch did not have restful API docs, I cherry-picked it and updated the restful API docs to reflect use of elapsed time and component errors.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49480443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472655","html_url":"https://github.com/apache/storm/issues/4208#issuecomment-2612472655","issue_url":"https://api.github.com/repos/apache/storm/issues/4208","id":2612472655,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzI2NTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-18T21:14:37Z","updated_at":"2025-01-24T12:57:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user kishorvpatil commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/155#issuecomment-49480443\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/155#issuecomment-49480443</a></p>\n\n<p>    @revans2  Since security branch did not have restful API docs, I cherry-picked it and updated the restful API docs to reflect use of elapsed time and component errors.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49510624","html_url":"https://github.com/apache/storm/pull/36#issuecomment-49510624","issue_url":"https://api.github.com/repos/apache/storm/issues/36","id":49510624,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTEwNjI0","user":{"login":"xiaokang","id":680838,"node_id":"MDQ6VXNlcjY4MDgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/680838?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaokang","html_url":"https://github.com/xiaokang","followers_url":"https://api.github.com/users/xiaokang/followers","following_url":"https://api.github.com/users/xiaokang/following{/other_user}","gists_url":"https://api.github.com/users/xiaokang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaokang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaokang/subscriptions","organizations_url":"https://api.github.com/users/xiaokang/orgs","repos_url":"https://api.github.com/users/xiaokang/repos","events_url":"https://api.github.com/users/xiaokang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaokang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-19T14:15:33Z","updated_at":"2014-07-19T14:15:33Z","author_association":"CONTRIBUTOR","body":"@d2r , thanks for your comment. It's reasonable and I'll update code.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49510624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612439465","html_url":"https://github.com/apache/storm/issues/3974#issuecomment-2612439465","issue_url":"https://api.github.com/repos/apache/storm/issues/3974","id":2612439465,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Mzk0NjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-19T14:15:40Z","updated_at":"2025-01-24T12:40:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user xiaokang commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/36#issuecomment-49510624\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/36#issuecomment-49510624</a></p>\n\n<p>    @d2r , thanks for your comment. It's reasonable and I'll update code.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612439465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49514066","html_url":"https://github.com/apache/storm/pull/36#issuecomment-49514066","issue_url":"https://api.github.com/repos/apache/storm/issues/36","id":49514066,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTE0MDY2","user":{"login":"xiaokang","id":680838,"node_id":"MDQ6VXNlcjY4MDgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/680838?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaokang","html_url":"https://github.com/xiaokang","followers_url":"https://api.github.com/users/xiaokang/followers","following_url":"https://api.github.com/users/xiaokang/following{/other_user}","gists_url":"https://api.github.com/users/xiaokang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaokang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaokang/subscriptions","organizations_url":"https://api.github.com/users/xiaokang/orgs","repos_url":"https://api.github.com/users/xiaokang/repos","events_url":"https://api.github.com/users/xiaokang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaokang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-19T16:28:59Z","updated_at":"2014-07-19T16:28:59Z","author_association":"CONTRIBUTOR","body":"@d2r , I'v updated the code using sort-by. \n\nI'd like to write a unit test. But I'm not sure which part of code should the unit test be against for, the whole sort-slots function or a separate function for (sort-by count (vals (group-by first all-slots)))?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49514066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612439468","html_url":"https://github.com/apache/storm/issues/3974#issuecomment-2612439468","issue_url":"https://api.github.com/repos/apache/storm/issues/3974","id":2612439468,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Mzk0Njg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-19T16:29:06Z","updated_at":"2025-01-24T12:40:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user xiaokang commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/36#issuecomment-49514066\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/36#issuecomment-49514066</a></p>\n\n<p>    @d2r , I'v updated the code using sort-by. </p>\n\n<p>    I'd like to write a unit test. But I'm not sure which part of code should the unit test be against for, the whole sort-slots function or a separate function for (sort-by count (vals (group-by first all-slots)))?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612439468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612434274","html_url":"https://github.com/apache/storm/issues/3929#issuecomment-2612434274","issue_url":"https://api.github.com/repos/apache/storm/issues/3929","id":2612434274,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0MzQyNzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-19T16:33:38Z","updated_at":"2025-01-24T12:37:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user xiaokang commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/46#discussion_r15144460\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/46#discussion_r15144460</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/task/ShellBolt.java &#8212;<br/>\n    @@ -241,5 +241,8 @@ private void handleEmit(Map action) throws InterruptedException {</p>\n\n<p> private void die(Throwable exception) {<br/>\n     _exception = exception;<br/>\n    +LOG.info(\"Halting process: ShellBolt died.\", exception);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    good idea</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612434274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612434281","html_url":"https://github.com/apache/storm/issues/3929#issuecomment-2612434281","issue_url":"https://api.github.com/repos/apache/storm/issues/3929","id":2612434281,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0MzQyODE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-19T16:33:55Z","updated_at":"2025-01-24T12:37:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user xiaokang commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/46#discussion_r15144461\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/46#discussion_r15144461</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/task/ShellBolt.java &#8212;<br/>\n    @@ -241,5 +241,8 @@ private void handleEmit(Map action) throws InterruptedException {</p>\n\n<p> private void die(Throwable exception) {<br/>\n     _exception = exception;<br/>\n    +LOG.info(\"Halting process: ShellBolt died.\", exception);<br/>\n    +_collector.reportError(exception);<br/>\n    +Runtime.getRuntime().halt(11);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    ok</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612434281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49514453","html_url":"https://github.com/apache/storm/pull/46#issuecomment-49514453","issue_url":"https://api.github.com/repos/apache/storm/issues/46","id":49514453,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTE0NDUz","user":{"login":"xiaokang","id":680838,"node_id":"MDQ6VXNlcjY4MDgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/680838?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaokang","html_url":"https://github.com/xiaokang","followers_url":"https://api.github.com/users/xiaokang/followers","following_url":"https://api.github.com/users/xiaokang/following{/other_user}","gists_url":"https://api.github.com/users/xiaokang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaokang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaokang/subscriptions","organizations_url":"https://api.github.com/users/xiaokang/orgs","repos_url":"https://api.github.com/users/xiaokang/repos","events_url":"https://api.github.com/users/xiaokang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaokang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-19T16:44:55Z","updated_at":"2014-07-19T16:44:55Z","author_association":"CONTRIBUTOR","body":"update code according to @d2r and @revans2 's comment.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49514453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612434285","html_url":"https://github.com/apache/storm/issues/3929#issuecomment-2612434285","issue_url":"https://api.github.com/repos/apache/storm/issues/3929","id":2612434285,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0MzQyODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-19T16:44:59Z","updated_at":"2025-01-24T12:37:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user xiaokang commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/46#issuecomment-49514453\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/46#issuecomment-49514453</a></p>\n\n<p>    update code according to @d2r and @revans2 's comment.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612434285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49514602","html_url":"https://github.com/apache/storm/pull/46#issuecomment-49514602","issue_url":"https://api.github.com/repos/apache/storm/issues/46","id":49514602,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTE0NjAy","user":{"login":"xiaokang","id":680838,"node_id":"MDQ6VXNlcjY4MDgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/680838?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaokang","html_url":"https://github.com/xiaokang","followers_url":"https://api.github.com/users/xiaokang/followers","following_url":"https://api.github.com/users/xiaokang/following{/other_user}","gists_url":"https://api.github.com/users/xiaokang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaokang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaokang/subscriptions","organizations_url":"https://api.github.com/users/xiaokang/orgs","repos_url":"https://api.github.com/users/xiaokang/repos","events_url":"https://api.github.com/users/xiaokang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaokang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-19T16:50:29Z","updated_at":"2014-07-19T16:50:29Z","author_association":"CONTRIBUTOR","body":"While checking the new exit-process! function, I find that it just use log-message to generate an INFO level log. Is it more suitable to use log-error? Since it should be some serious error to exit jvm.\n\nhttps://github.com/apache/incubator-storm/blob/master/storm-core/src/clj/backtype/storm/util.clj#L317\n\n```\n(defn exit-process!\n  [val & msg]\n  (log-message \"Halting process: \" msg)\n  (.exit (Runtime/getRuntime) val))\n```\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49514602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612434290","html_url":"https://github.com/apache/storm/issues/3929#issuecomment-2612434290","issue_url":"https://api.github.com/repos/apache/storm/issues/3929","id":2612434290,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0MzQyOTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-19T16:50:35Z","updated_at":"2025-01-24T12:37:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user xiaokang commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/46#issuecomment-49514602\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/46#issuecomment-49514602</a></p>\n\n<p>    While checking the new exit-process! function, I find that it just use log-message to generate an INFO level log. Is it more suitable to use log-error? Since it should be some serious error to exit jvm.</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/blob/master/storm-core/src/clj/backtype/storm/util.clj#L317\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/blob/master/storm-core/src/clj/backtype/storm/util.clj#L317</a></p>\n\n<p>(defn exit-process!<br/>\n  <span class=\"error\">&#91;val & msg&#93;</span><br/>\n  (log-message \"Halting process: \" msg)<br/>\n  (.exit (Runtime/getRuntime) val))</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612434290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49535424","html_url":"https://github.com/apache/storm/pull/171#issuecomment-49535424","issue_url":"https://api.github.com/repos/apache/storm/issues/171","id":49535424,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM1NDI0","user":{"login":"shell0dh","id":1220222,"node_id":"MDQ6VXNlcjEyMjAyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/1220222?v=4","gravatar_id":"","url":"https://api.github.com/users/shell0dh","html_url":"https://github.com/shell0dh","followers_url":"https://api.github.com/users/shell0dh/followers","following_url":"https://api.github.com/users/shell0dh/following{/other_user}","gists_url":"https://api.github.com/users/shell0dh/gists{/gist_id}","starred_url":"https://api.github.com/users/shell0dh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shell0dh/subscriptions","organizations_url":"https://api.github.com/users/shell0dh/orgs","repos_url":"https://api.github.com/users/shell0dh/repos","events_url":"https://api.github.com/users/shell0dh/events{/privacy}","received_events_url":"https://api.github.com/users/shell0dh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T02:43:19Z","updated_at":"2014-07-20T02:43:19Z","author_association":"CONTRIBUTOR","body":"@revans2 ,thanks for your comment.i have updated the REST API documentation to match the change here.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49535424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472433","html_url":"https://github.com/apache/storm/issues/4206#issuecomment-2612472433","issue_url":"https://api.github.com/repos/apache/storm/issues/4206","id":2612472433,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzI0MzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T02:43:29Z","updated_at":"2025-01-24T12:57:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user shell0dh commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/171#issuecomment-49535424\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/171#issuecomment-49535424</a></p>\n\n<p>    @revans2 ,thanks for your comment.i have updated the REST API documentation to match the change here.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49539373","html_url":"https://github.com/apache/storm/pull/168#issuecomment-49539373","issue_url":"https://api.github.com/repos/apache/storm/issues/168","id":49539373,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM5Mzcz","user":{"login":"xiaokang","id":680838,"node_id":"MDQ6VXNlcjY4MDgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/680838?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaokang","html_url":"https://github.com/xiaokang","followers_url":"https://api.github.com/users/xiaokang/followers","following_url":"https://api.github.com/users/xiaokang/following{/other_user}","gists_url":"https://api.github.com/users/xiaokang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaokang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaokang/subscriptions","organizations_url":"https://api.github.com/users/xiaokang/orgs","repos_url":"https://api.github.com/users/xiaokang/repos","events_url":"https://api.github.com/users/xiaokang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaokang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T07:23:15Z","updated_at":"2014-07-20T07:23:15Z","author_association":"CONTRIBUTOR","body":"@revans2 and @Gvain , we also have used forceSync=no to reduce disk io of zk servers. IO util jumped from nearly 100% to less than 10% for a 500 node cluster. However it's a risk to lost data according to zk's document.\n\nWe'll try this gzip compression code to reduce the network flow of zk servers.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49539373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612474001","html_url":"https://github.com/apache/storm/issues/4218#issuecomment-2612474001","issue_url":"https://api.github.com/repos/apache/storm/issues/4218","id":2612474001,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzQwMDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T07:23:22Z","updated_at":"2025-01-24T12:58:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user xiaokang commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/168#issuecomment-49539373\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/168#issuecomment-49539373</a></p>\n\n<p>    @revans2 and @Gvain , we also have used forceSync=no to reduce disk io of zk servers. IO util jumped from nearly 100% to less than 10% for a 500 node cluster. However it's a risk to lost data according to zk's document.</p>\n\n<p>    We'll try this gzip compression code to reduce the network flow of zk servers.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612474001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49539497","html_url":"https://github.com/apache/storm/pull/168#issuecomment-49539497","issue_url":"https://api.github.com/repos/apache/storm/issues/168","id":49539497,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM5NDk3","user":{"login":"xiaokang","id":680838,"node_id":"MDQ6VXNlcjY4MDgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/680838?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaokang","html_url":"https://github.com/xiaokang","followers_url":"https://api.github.com/users/xiaokang/followers","following_url":"https://api.github.com/users/xiaokang/following{/other_user}","gists_url":"https://api.github.com/users/xiaokang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaokang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaokang/subscriptions","organizations_url":"https://api.github.com/users/xiaokang/orgs","repos_url":"https://api.github.com/users/xiaokang/repos","events_url":"https://api.github.com/users/xiaokang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaokang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T07:32:37Z","updated_at":"2014-07-20T07:32:37Z","author_association":"CONTRIBUTOR","body":"@revans2 , Just a little concern about using gzip compression as the default behavior of Utils.serialize. If it's used for little object, the result size will be bigger than original since gzip can not compress on it and add a extra header.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49539497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612474008","html_url":"https://github.com/apache/storm/issues/4218#issuecomment-2612474008","issue_url":"https://api.github.com/repos/apache/storm/issues/4218","id":2612474008,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzQwMDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T07:32:43Z","updated_at":"2025-01-24T12:58:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user xiaokang commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/168#issuecomment-49539497\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/168#issuecomment-49539497</a></p>\n\n<p>    @revans2 , Just a little concern about using gzip compression as the default behavior of Utils.serialize. If it's used for little object, the result size will be bigger than original since gzip can not compress on it and add a extra header.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612474008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49539641","html_url":"https://github.com/apache/storm/pull/191#issuecomment-49539641","issue_url":"https://api.github.com/repos/apache/storm/issues/191","id":49539641,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM5NjQx","user":{"login":"xiaokang","id":680838,"node_id":"MDQ6VXNlcjY4MDgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/680838?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaokang","html_url":"https://github.com/xiaokang","followers_url":"https://api.github.com/users/xiaokang/followers","following_url":"https://api.github.com/users/xiaokang/following{/other_user}","gists_url":"https://api.github.com/users/xiaokang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaokang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaokang/subscriptions","organizations_url":"https://api.github.com/users/xiaokang/orgs","repos_url":"https://api.github.com/users/xiaokang/repos","events_url":"https://api.github.com/users/xiaokang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaokang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T07:42:22Z","updated_at":"2014-07-20T07:42:22Z","author_association":"CONTRIBUTOR","body":"@iwasakims , is there more information about why InterruptedIOException occurs in supervisor-test?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49539641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477166","html_url":"https://github.com/apache/storm/issues/4243#issuecomment-2612477166","issue_url":"https://api.github.com/repos/apache/storm/issues/4243","id":2612477166,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzcxNjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T07:42:32Z","updated_at":"2025-01-24T12:59:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user xiaokang commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/191#issuecomment-49539641\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/191#issuecomment-49539641</a></p>\n\n<p>    @iwasakims , is there more information about why InterruptedIOException occurs in supervisor-test?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612477166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49539879","html_url":"https://github.com/apache/storm/pull/167#issuecomment-49539879","issue_url":"https://api.github.com/repos/apache/storm/issues/167","id":49539879,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM5ODc5","user":{"login":"xiaokang","id":680838,"node_id":"MDQ6VXNlcjY4MDgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/680838?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaokang","html_url":"https://github.com/xiaokang","followers_url":"https://api.github.com/users/xiaokang/followers","following_url":"https://api.github.com/users/xiaokang/following{/other_user}","gists_url":"https://api.github.com/users/xiaokang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaokang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaokang/subscriptions","organizations_url":"https://api.github.com/users/xiaokang/orgs","repos_url":"https://api.github.com/users/xiaokang/repos","events_url":"https://api.github.com/users/xiaokang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaokang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T07:56:10Z","updated_at":"2014-07-20T07:56:10Z","author_association":"CONTRIBUTOR","body":"Good idea to reduce ZK read load. We will try it in busy cluster. Thanks @knusbaum!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49539879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612473895","html_url":"https://github.com/apache/storm/issues/4217#issuecomment-2612473895","issue_url":"https://api.github.com/repos/apache/storm/issues/4217","id":2612473895,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzM4OTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T07:56:20Z","updated_at":"2025-01-24T12:58:01Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user xiaokang commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/167#issuecomment-49539879\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/167#issuecomment-49539879</a></p>\n\n<p>    Good idea to reduce ZK read load. We will try it in busy cluster. Thanks @knusbaum!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612473895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478875","html_url":"https://github.com/apache/storm/issues/4256#issuecomment-2612478875","issue_url":"https://api.github.com/repos/apache/storm/issues/4256","id":2612478875,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Nzg4NzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T08:45:11Z","updated_at":"2025-01-24T13:00:44Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user dashengju commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/196#discussion_r15148217\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/196#discussion_r15148217</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/spout/ShellSpout.java &#8212;<br/>\n    @@ -158,6 +157,33 @@ private void querySubprocess() {<br/>\n     }<br/>\n }</p>\n\n<p>    +    private void handleLog(ShellMsg shellMsg) {<br/>\n    +String msg = shellMsg.getMsg();<br/>\n    +msg = \"ShellLog\" + _process.getProcessInfoString() + msg;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I have noticed the white space. Because _process.getProcessInfoString() return a string with white space at begin and end, so I did not add white space here.</p>\n\n<p>    And I think the best way is remove white space in _process.getProcessInfoString()'s return, and add white space in here explicitly, and I have change the code.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478881","html_url":"https://github.com/apache/storm/issues/4256#issuecomment-2612478881","issue_url":"https://api.github.com/repos/apache/storm/issues/4256","id":2612478881,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Nzg4ODE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T08:51:18Z","updated_at":"2025-01-24T13:00:44Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user dashengju commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/196#discussion_r15148233\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/196#discussion_r15148233</a></p>\n\n<p>    &#8212; Diff: storm-core/src/multilang/py/storm.py &#8212;<br/>\n    @@ -135,8 +135,8 @@ def fail(tup):<br/>\n     def reportError(msg):<br/>\n sendMsgToParent(</p>\n{\"command\": \"error\", \"msg\": msg}\n<p>)</p>\n\n<p>    -def log(msg):</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>sendMsgToParent(\n{\"command\": \"log\", \"msg\": msg}\n<p>)<br/>\n    +def log(msg, level=2):</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    good idea</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49542092","html_url":"https://github.com/apache/storm/pull/196#issuecomment-49542092","issue_url":"https://api.github.com/repos/apache/storm/issues/196","id":49542092,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQyMDky","user":{"login":"dashengju","id":4263520,"node_id":"MDQ6VXNlcjQyNjM1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/4263520?v=4","gravatar_id":"","url":"https://api.github.com/users/dashengju","html_url":"https://github.com/dashengju","followers_url":"https://api.github.com/users/dashengju/followers","following_url":"https://api.github.com/users/dashengju/following{/other_user}","gists_url":"https://api.github.com/users/dashengju/gists{/gist_id}","starred_url":"https://api.github.com/users/dashengju/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dashengju/subscriptions","organizations_url":"https://api.github.com/users/dashengju/orgs","repos_url":"https://api.github.com/users/dashengju/repos","events_url":"https://api.github.com/users/dashengju/events{/privacy}","received_events_url":"https://api.github.com/users/dashengju/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T09:53:47Z","updated_at":"2014-07-20T09:53:47Z","author_association":"CONTRIBUTOR","body":"@revans2 \n\nI have modified the white space problem and add more log function for easy use.\nAnd I have tested log function with python version in our test environment, at the same time, I fixed a bug in prior commit version.\n\nthanks for your review and suggestion, and please review again.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49542092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478890","html_url":"https://github.com/apache/storm/issues/4256#issuecomment-2612478890","issue_url":"https://api.github.com/repos/apache/storm/issues/4256","id":2612478890,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0Nzg4OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T09:53:52Z","updated_at":"2025-01-24T13:00:44Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user dashengju commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/196#issuecomment-49542092\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/196#issuecomment-49542092</a></p>\n\n<p>    @revans2 </p>\n\n<p>    I have modified the white space problem and add more log function for easy use.<br/>\n    And I have tested log function with python version in our test environment, at the same time, I fixed a bug in prior commit version.</p>\n\n<p>    thanks for your review and suggestion, and please review again.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612478890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458366","html_url":"https://github.com/apache/storm/issues/4121#issuecomment-2612458366","issue_url":"https://api.github.com/repos/apache/storm/issues/4121","id":2612458366,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTgzNjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T20:34:33Z","updated_at":"2025-01-24T12:50:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user harshach opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/198\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/198</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-279\" title=\"cluster.xml doesn&#39;t take in STORM_LOG_DIR values\" class=\"issue-link\" data-issue-key=\"STORM-279\"><del>STORM-279</del></a>. cluster.xml doesn't take in STORM_LOG_DIR values.</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/harshach/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/harshach/incubator-storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-279\" title=\"cluster.xml doesn&#39;t take in STORM_LOG_DIR values\" class=\"issue-link\" data-issue-key=\"STORM-279\"><del>STORM-279</del></a>-V2</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/198.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/198.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #198</p>\n\n<hr />\n<p>commit 6e6aeb9a770df6d119e0db3273981f1d12c3aac7<br/>\nAuthor: Sriharsha Chintalapani <mail@harsha.io><br/>\nDate:   2014-07-20T20:32:52Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-279\" title=\"cluster.xml doesn&#39;t take in STORM_LOG_DIR values\" class=\"issue-link\" data-issue-key=\"STORM-279\"><del>STORM-279</del></a>. cluster.xml doesn't take in STORM_LOG_DIR values.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49558723","html_url":"https://github.com/apache/storm/pull/162#issuecomment-49558723","issue_url":"https://api.github.com/repos/apache/storm/issues/162","id":49558723,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTU4NzIz","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T20:36:07Z","updated_at":"2014-07-20T20:36:07Z","author_association":"CONTRIBUTOR","body":"@d2r Thanks for the feedback. My up-merge is messed up closing this PR and opened a new PR here https://github.com/apache/incubator-storm/pull/198\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49558723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458370","html_url":"https://github.com/apache/storm/issues/4121#issuecomment-2612458370","issue_url":"https://api.github.com/repos/apache/storm/issues/4121","id":2612458370,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTgzNzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T20:36:11Z","updated_at":"2025-01-24T12:50:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/162#issuecomment-49558723\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/162#issuecomment-49558723</a></p>\n\n<p>    @d2r Thanks for the feedback. My up-merge is messed up closing this PR and opened a new PR here <a href=\"https://github.com/apache/incubator-storm/pull/198\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/198</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458376","html_url":"https://github.com/apache/storm/issues/4121#issuecomment-2612458376","issue_url":"https://api.github.com/repos/apache/storm/issues/4121","id":2612458376,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTgzNzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T20:36:18Z","updated_at":"2025-01-24T12:50:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/162\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/162</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612458376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49561446","html_url":"https://github.com/apache/storm/pull/159#issuecomment-49561446","issue_url":"https://api.github.com/repos/apache/storm/issues/159","id":49561446,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTYxNDQ2","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T22:17:17Z","updated_at":"2014-07-20T22:17:17Z","author_association":"CONTRIBUTOR","body":"@d2r Thanks for the feedback. I added the suggested changes please take a look. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49561446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472052","html_url":"https://github.com/apache/storm/issues/4203#issuecomment-2612472052","issue_url":"https://api.github.com/repos/apache/storm/issues/4203","id":2612472052,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzIwNTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T22:17:21Z","updated_at":"2025-01-24T12:57:01Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/159#issuecomment-49561446\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/159#issuecomment-49561446</a></p>\n\n<p>    @d2r Thanks for the feedback. I added the suggested changes please take a look. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612472052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49578380","html_url":"https://github.com/apache/storm/pull/168#issuecomment-49578380","issue_url":"https://api.github.com/repos/apache/storm/issues/168","id":49578380,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTc4Mzgw","user":{"login":"Gvain","id":3352351,"node_id":"MDQ6VXNlcjMzNTIzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3352351?v=4","gravatar_id":"","url":"https://api.github.com/users/Gvain","html_url":"https://github.com/Gvain","followers_url":"https://api.github.com/users/Gvain/followers","following_url":"https://api.github.com/users/Gvain/following{/other_user}","gists_url":"https://api.github.com/users/Gvain/gists{/gist_id}","starred_url":"https://api.github.com/users/Gvain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gvain/subscriptions","organizations_url":"https://api.github.com/users/Gvain/orgs","repos_url":"https://api.github.com/users/Gvain/repos","events_url":"https://api.github.com/users/Gvain/events{/privacy}","received_events_url":"https://api.github.com/users/Gvain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-21T07:36:46Z","updated_at":"2014-07-21T07:36:46Z","author_association":"CONTRIBUTOR","body":"@xiaokang  Thanks for your sharing.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49578380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612474013","html_url":"https://github.com/apache/storm/issues/4218#issuecomment-2612474013","issue_url":"https://api.github.com/repos/apache/storm/issues/4218","id":2612474013,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NzQwMTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-21T07:36:52Z","updated_at":"2025-01-24T12:58:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Gvain commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/168#issuecomment-49578380\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/168#issuecomment-49578380</a></p>\n\n<p>    @xiaokang  Thanks for your sharing.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612474013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/49617431","html_url":"https://github.com/apache/storm/pull/168#issuecomment-49617431","issue_url":"https://api.github.com/repos/apache/storm/issues/168","id":49617431,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjE3NDMx","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-21T15:06:13Z","updated_at":"2014-07-21T15:06:13Z","author_association":"CONTRIBUTOR","body":"@xiaokang you are completely correct about gzip compression making small data bigger.  I need to find some time to address Taylor's concern about configuration and your concern about size for small data.\n\nAnd yes you are correct about a risk for data loss with ZK when forceSync=no.  This would generally only happen when there is a power outage to a majority of nodes in the ensemble, but it is still a possibility you need to take into account.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/49617431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]