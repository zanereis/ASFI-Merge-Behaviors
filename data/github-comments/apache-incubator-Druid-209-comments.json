[{"url":"https://api.github.com/repos/apache/druid/issues/comments/436475386","html_url":"https://github.com/apache/druid/pull/6503#issuecomment-436475386","issue_url":"https://api.github.com/repos/apache/druid/issues/6503","id":436475386,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjQ3NTM4Ng==","user":{"login":"elloooooo","id":4433949,"node_id":"MDQ6VXNlcjQ0MzM5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4433949?v=4","gravatar_id":"","url":"https://api.github.com/users/elloooooo","html_url":"https://github.com/elloooooo","followers_url":"https://api.github.com/users/elloooooo/followers","following_url":"https://api.github.com/users/elloooooo/following{/other_user}","gists_url":"https://api.github.com/users/elloooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/elloooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elloooooo/subscriptions","organizations_url":"https://api.github.com/users/elloooooo/orgs","repos_url":"https://api.github.com/users/elloooooo/repos","events_url":"https://api.github.com/users/elloooooo/events{/privacy}","received_events_url":"https://api.github.com/users/elloooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T01:54:06Z","updated_at":"2018-11-07T01:54:06Z","author_association":"CONTRIBUTOR","body":"@clintropolis Hi~ I have used `CachedCostBalancerStrategy` in our druid cluster which has 39 historical nodes and  2.6M segment(includes replicas). It assigns 150+ segments per minute. I set maxSegmentsToMove 30. Now it works fine. \r\n\r\nBy the way, I still think this PR should be included to complete the `RandomBalancerStrategy`.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436475386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436480598","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-436480598","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":436480598,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjQ4MDU5OA==","user":{"login":"elloooooo","id":4433949,"node_id":"MDQ6VXNlcjQ0MzM5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4433949?v=4","gravatar_id":"","url":"https://api.github.com/users/elloooooo","html_url":"https://github.com/elloooooo","followers_url":"https://api.github.com/users/elloooooo/followers","following_url":"https://api.github.com/users/elloooooo/following{/other_user}","gists_url":"https://api.github.com/users/elloooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/elloooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elloooooo/subscriptions","organizations_url":"https://api.github.com/users/elloooooo/orgs","repos_url":"https://api.github.com/users/elloooooo/repos","events_url":"https://api.github.com/users/elloooooo/events{/privacy}","received_events_url":"https://api.github.com/users/elloooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T02:21:10Z","updated_at":"2018-11-07T02:21:10Z","author_association":"CONTRIBUTOR","body":"In our metrics graphs, I think no data being treated as 0 is better behaviour, because the big number in a very short time will make the metric graphs hard to show useful information.\r\n\r\nBy the way, I think the increasing messageGap when a realtime task is publishing is something I think can be improved. Because when the task is publishing, acturally the next task is always starting to consume the data. At this time the messageGap emittered by the previous task is still increasing for it has stopped consume new data and this messageGap doesn't show the right lag of the datasource's ingestion.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436480598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436499031","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-436499031","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":436499031,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjQ5OTAzMQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T04:13:18Z","updated_at":"2018-11-07T04:13:18Z","author_association":"CONTRIBUTOR","body":"Considering future time, the message gap can be 0 even minus value, so 0 messageGap makes people more confuse.\r\n@zhaojiandong @elloooooo you can add an option of default message gap and the default message gap is  CurrentTimestamp. In your case, you can make this option as 0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436499031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436559923","html_url":"https://github.com/apache/druid/issues/6579#issuecomment-436559923","issue_url":"https://api.github.com/repos/apache/druid/issues/6579","id":436559923,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjU1OTkyMw==","user":{"login":"RestfulBlue","id":32250229,"node_id":"MDQ6VXNlcjMyMjUwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/32250229?v=4","gravatar_id":"","url":"https://api.github.com/users/RestfulBlue","html_url":"https://github.com/RestfulBlue","followers_url":"https://api.github.com/users/RestfulBlue/followers","following_url":"https://api.github.com/users/RestfulBlue/following{/other_user}","gists_url":"https://api.github.com/users/RestfulBlue/gists{/gist_id}","starred_url":"https://api.github.com/users/RestfulBlue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RestfulBlue/subscriptions","organizations_url":"https://api.github.com/users/RestfulBlue/orgs","repos_url":"https://api.github.com/users/RestfulBlue/repos","events_url":"https://api.github.com/users/RestfulBlue/events{/privacy}","received_events_url":"https://api.github.com/users/RestfulBlue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T09:27:11Z","updated_at":"2018-11-07T09:27:11Z","author_association":"NONE","body":":( ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436559923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436601832","html_url":"https://github.com/apache/druid/pull/6584#issuecomment-436601832","issue_url":"https://api.github.com/repos/apache/druid/issues/6584","id":436601832,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjYwMTgzMg==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T12:04:42Z","updated_at":"2018-11-07T12:04:42Z","author_association":"MEMBER","body":"Confirmed working as expected on test cluster","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436601832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436756471","html_url":"https://github.com/apache/druid/pull/6581#issuecomment-436756471","issue_url":"https://api.github.com/repos/apache/druid/issues/6581","id":436756471,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjc1NjQ3MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T19:56:03Z","updated_at":"2018-11-07T19:56:03Z","author_association":"CONTRIBUTOR","body":"@edgan8 we'll review soon! Thanks for the contrib!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436756471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436787992","html_url":"https://github.com/apache/druid/pull/6584#issuecomment-436787992","issue_url":"https://api.github.com/repos/apache/druid/issues/6584","id":436787992,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjc4Nzk5Mg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T21:43:04Z","updated_at":"2018-11-07T21:43:04Z","author_association":"CONTRIBUTOR","body":"The original intent of PR #6222 , is to build the BloomK sketch in Hive and handed it over to Druid (via the wire as a filter) to filter down the scan, therefore, for this to work we need to make sure that both Hive and Druid are **using the same algorithm for building sketch and probing it**.\r\nThis implies that the best way to fix this is to push the fix to Hive Storage API  and drive a storage API release (FYI storage API release is independent from Hive release life cycle hence goes faster). \r\nIn the meantime to not block 0.13  I think we can go with this option where the code is copied over to Druid it self waiting on the release with the bug fix but for the longer term it is better to have it in one place to avoid issues.\r\n@clintropolis if your goal is to build your own bloom filter sketch from scratch for performance reasons or any other goal, then it is better to introduce a new kind of filter.  The other way to do it is to introduce a version blob within the sketch it self to pick the correct serde/probing implementation but this will need way more work...","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436787992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436795429","html_url":"https://github.com/apache/druid/pull/6547#issuecomment-436795429","issue_url":"https://api.github.com/repos/apache/druid/issues/6547","id":436795429,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjc5NTQyOQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T22:07:19Z","updated_at":"2018-11-07T22:07:19Z","author_association":"CONTRIBUTOR","body":"as per comment https://github.com/apache/incubator-druid/pull/6584#issuecomment-436787992\r\nthis is not the way to fix the bug thought. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436795429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436795512","html_url":"https://github.com/apache/druid/pull/6584#issuecomment-436795512","issue_url":"https://api.github.com/repos/apache/druid/issues/6584","id":436795512,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjc5NTUxMg==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T22:07:35Z","updated_at":"2018-11-07T22:07:35Z","author_association":"MEMBER","body":"I don't particularly have a goal at this point other than fixing the thread safety issue that is blocking 0.13. FWIW I did add a [handful of tests](https://github.com/apache/incubator-druid/pull/6584/files#diff-f648c52597a4eada30b95b03337cb918R364) to ensure the copied `BloomKFilter` implementation is compatible with the hive implementation.\r\n\r\nThe thing that makes it ambiguous of what is the best path forward to me is that I'm not certain the thread safety issues faced here necessarily are concerns with how hive is using this stuff (they may be, but I have no idea and don't want to depend on that). In other words, I'm unsure if the thread safety issue is a hive issue or a druid issue (and also I haven't yet even found how to open an issue on hive yetüòõ)\r\n\r\nAlso as I mentioned, the other issue is that the latest version of `BloomKFilter` in hive is incompatible with the current version we are using, which my hive compat test on 'floats' caught because I initially copied `BloomKFilter` from master. I don't know if this is intended or not, the jira associated with the change makes no mention of breaking compatibility so maybe it was accidental.\r\n\r\nI agree that if for whatever reason I need to break hive compatibility it will be more appropriate to put in another extension, or yeah, rework this one to support multiple implementations.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436795512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436818599","html_url":"https://github.com/apache/druid/pull/6563#issuecomment-436818599","issue_url":"https://api.github.com/repos/apache/druid/issues/6563","id":436818599,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjgxODU5OQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T23:40:52Z","updated_at":"2018-11-07T23:40:52Z","author_association":"CONTRIBUTOR","body":"@gianm thanks for catching that, fixed","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436818599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436824359","html_url":"https://github.com/apache/druid/issues/3562#issuecomment-436824359","issue_url":"https://api.github.com/repos/apache/druid/issues/3562","id":436824359,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjgyNDM1OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T00:08:04Z","updated_at":"2018-11-08T00:08:04Z","author_association":"MEMBER","body":"There are still some places in tests and benchmarks where `Files.map()` call could be replaced with `FileUtils.map()`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436824359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436836305","html_url":"https://github.com/apache/druid/pull/6547#issuecomment-436836305","issue_url":"https://api.github.com/repos/apache/druid/issues/6547","id":436836305,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjgzNjMwNQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T01:08:38Z","updated_at":"2018-11-08T01:08:38Z","author_association":"MEMBER","body":"Closing in favor of #6584 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436836305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436856077","html_url":"https://github.com/apache/druid/pull/6581#issuecomment-436856077","issue_url":"https://api.github.com/repos/apache/druid/issues/6581","id":436856077,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjg1NjA3Nw==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T02:56:59Z","updated_at":"2018-11-08T02:56:59Z","author_association":"CONTRIBUTOR","body":"We just became aware of the underlying [paper](https://arxiv.org/abs/1803.01969) for this submission a few days ago and are still in the process of reviewing it.  \r\n\r\nIt is not up to me whether this code should be merged into Druid as a custom aggregator. However, the code has almost no Javadocs and the paper may be difficult for many users to fully understanding the trade-offs, advantages and disadvantages for how and when to use this kind of quantiles sketch as compared to the DataSketches (DS) quantiles sketches [already available](https://github.com/apache/incubator-druid/tree/master/extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches) in Druid.  \r\n\r\nQuoting from the paper's Abstract:\r\n\r\n> Empirical evaluation shows that the moments sketch can achieve less than 1 percent quantile error with 15√ó less overhead than comparable summaries, improving end query time in the MacroBase engine by up to 7√ó and the Druid engine by up to 60√ó.\r\n\r\nThis is a very exciting claim, but understanding some of the assumptions behind this claim requires a bit of a deep-dive into the paper and unraveling what this sketch would be great at doing, and where it may not be so great.\r\n\r\nThe Moments-Quantiles (M-Sketch) has been optimized for merge-time performance and for this metric the M-Sketch really shines.  It's merge speed can be an order-of-magnitude faster than the DS-sketch.  Meanwhile, obtaining a M-Sketch quantile estimate can be milliseconds, while the DS-Sketch is in the microsecond range. \r\n\r\nThe paper defines the primary metric for sketch performance as _total query-time_, where the number of merges are large and the number of get-quantile estimate is rare, and perhaps for many Druid queries, this trade-off makes sense.\r\n \r\nThe other major tradeoff is how sketch accuracy is defined and measured. \r\n\r\n1. The paper is very clear: \"The M-Sketch accuracy is dataset dependent\". By comparison, the accuracy of the DS-Sketch is __data independent__. \r\n\r\nThis difference has several practical real-world implications. \r\n\r\nThe DS-Sketch doesn't care how ugly your input data stream is.  It can have negative values, zeros, gaps and multiple spikes or blocks in its distribution of values, the values can range over many orders-of-magnitude, and the error guarantees of the DS-Sketch will still hold. \r\n\r\nHowever, the authors of the paper make it clear in several places that M-Sketch error gurantees only apply to relatively well-behaved and smooth value distributions (what the paper calls \"non-pathological\").  Unfortunately the term \"non-pathological\" is not well-defined and the user has no way of knowing whether or not any given input data stream is appropriately \"non-pathological\" without performing extensive brute-force quantile analysis of the stream and comparing it with the M-Sketch results. \r\n\r\nAnother subtle difference between the two types of sketches is how error performance is measured and quoted. \r\n\r\n(This part is greatly simplified.) \r\n\r\nThe M-sketch paper effectively defines a total area difference between two distribution curves; one being the real underlying distribution, and the other being the curve effectively modeled by the moments computed by the sketch. Then the paper defines the maximum error as effectively the maximum average error (the integral) of all queries along all points of the distribution. The DS-Sketch defines the maximum error as the maximum difference between the two curves at any point along the full range of the distribution. \r\n\r\nThis means that the actual error from the M-Sketch could be huge (many times the quoted maximum error) for parts of the distribution, and very small for other parts of the curve so that, on average, if you perform queries over the full range of values of the distribution, the average error would be pretty good. But the user would have no clue _where_ along the distribution the error is very low, or outrageously high.\r\n\r\nIn contrast, the DS-Sketch error guarantee is for any single query and for all queries. \r\n\r\nThe other consequence of M-Sketch's error dependance on the data is that the M-sketch cannot give the user any before-the-fact guidance on what the error will be after the data has been sketched. The DS-Sketch does provide this guidance.\r\n\r\nSo as long as you know a great deal about the underlying distributions of your data, or you don't care too much about error, and you are only concerned about total-query-time, go ahead and use the M-Sketch. \r\n\r\nIf you don't know anything about the underlying distributions of your data and you do care about error, and slower total-query-time is an affordable trade-off, then I would advise you use the DataSketches/quantiles sketch.\r\n\r\nCheers,\r\n\r\nLee.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436856077/reactions","total_count":8,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436882993","html_url":"https://github.com/apache/druid/pull/6584#issuecomment-436882993","issue_url":"https://api.github.com/repos/apache/druid/issues/6584","id":436882993,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjg4Mjk5Mw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T06:01:23Z","updated_at":"2018-11-08T06:01:23Z","author_association":"MEMBER","body":"@clintropolis: Can you also submit a bug and patch against hive for fixing the same in hive-storage-api. I think its ok to have the code copied over here until these changes are merged on hive side and we get a new release. \r\n\r\nHave looked at the code changes, they seem good, will do some more testing internally and update here.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436882993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436910010","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-436910010","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":436910010,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjkxMDAxMA==","user":{"login":"zhaojiandong","id":5977839,"node_id":"MDQ6VXNlcjU5Nzc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5977839?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaojiandong","html_url":"https://github.com/zhaojiandong","followers_url":"https://api.github.com/users/zhaojiandong/followers","following_url":"https://api.github.com/users/zhaojiandong/following{/other_user}","gists_url":"https://api.github.com/users/zhaojiandong/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaojiandong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaojiandong/subscriptions","organizations_url":"https://api.github.com/users/zhaojiandong/orgs","repos_url":"https://api.github.com/users/zhaojiandong/repos","events_url":"https://api.github.com/users/zhaojiandong/events{/privacy}","received_events_url":"https://api.github.com/users/zhaojiandong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T08:18:43Z","updated_at":"2018-11-08T08:18:43Z","author_association":"CONTRIBUTOR","body":"> Considering future time, the message gap can be 0 even minus value, so 0 messageGap makes people more confuse.\r\n> @zhaojiandong @elloooooo you can add an option of default message gap and the default message gap is CurrentTimestamp. In your case, you can make this option as 0.\r\n\r\nCurrentTimestamp is a variable and very short, this makes monitor meaningless, Also make users confuse. @kaijianding\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436910010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436918359","html_url":"https://github.com/apache/druid/pull/6584#issuecomment-436918359","issue_url":"https://api.github.com/repos/apache/druid/issues/6584","id":436918359,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjkxODM1OQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T08:51:09Z","updated_at":"2018-11-08T08:51:09Z","author_association":"MEMBER","body":"Sure, I should be able to do that. Is this information at https://cwiki.apache.org/confluence/display/Hive/HowToContribute#HowToContribute still accurate? It looks like I send something to the dev mailing list, then jira, then patch? I can bring up the int/float incompatibility I saw between 2.7.0 and latest as well.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436918359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436952160","html_url":"https://github.com/apache/druid/issues/5543#issuecomment-436952160","issue_url":"https://api.github.com/repos/apache/druid/issues/5543","id":436952160,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjk1MjE2MA==","user":{"login":"davidzollo","id":15833811,"node_id":"MDQ6VXNlcjE1ODMzODEx","avatar_url":"https://avatars.githubusercontent.com/u/15833811?v=4","gravatar_id":"","url":"https://api.github.com/users/davidzollo","html_url":"https://github.com/davidzollo","followers_url":"https://api.github.com/users/davidzollo/followers","following_url":"https://api.github.com/users/davidzollo/following{/other_user}","gists_url":"https://api.github.com/users/davidzollo/gists{/gist_id}","starred_url":"https://api.github.com/users/davidzollo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidzollo/subscriptions","organizations_url":"https://api.github.com/users/davidzollo/orgs","repos_url":"https://api.github.com/users/davidzollo/repos","events_url":"https://api.github.com/users/davidzollo/events{/privacy}","received_events_url":"https://api.github.com/users/davidzollo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T10:45:55Z","updated_at":"2018-11-08T15:28:35Z","author_association":"NONE","body":"This is very useful! üëçüëçüëç\r\nI'm going crazy because the library versions of Hadoop and Druid can't match. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436952160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437039017","html_url":"https://github.com/apache/druid/issues/6589#issuecomment-437039017","issue_url":"https://api.github.com/repos/apache/druid/issues/6589","id":437039017,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzAzOTAxNw==","user":{"login":"janvanoort","id":40766414,"node_id":"MDQ6VXNlcjQwNzY2NDE0","avatar_url":"https://avatars.githubusercontent.com/u/40766414?v=4","gravatar_id":"","url":"https://api.github.com/users/janvanoort","html_url":"https://github.com/janvanoort","followers_url":"https://api.github.com/users/janvanoort/followers","following_url":"https://api.github.com/users/janvanoort/following{/other_user}","gists_url":"https://api.github.com/users/janvanoort/gists{/gist_id}","starred_url":"https://api.github.com/users/janvanoort/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janvanoort/subscriptions","organizations_url":"https://api.github.com/users/janvanoort/orgs","repos_url":"https://api.github.com/users/janvanoort/repos","events_url":"https://api.github.com/users/janvanoort/events{/privacy}","received_events_url":"https://api.github.com/users/janvanoort/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T15:35:38Z","updated_at":"2018-11-08T15:35:38Z","author_association":"NONE","body":"BTW both \r\n\r\nmvn validate\r\n\r\nand \r\n\r\nmvn compile\r\n\r\nfail","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437039017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437060278","html_url":"https://github.com/apache/druid/issues/6589#issuecomment-437060278","issue_url":"https://api.github.com/repos/apache/druid/issues/6589","id":437060278,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzA2MDI3OA==","user":{"login":"janvanoort","id":40766414,"node_id":"MDQ6VXNlcjQwNzY2NDE0","avatar_url":"https://avatars.githubusercontent.com/u/40766414?v=4","gravatar_id":"","url":"https://api.github.com/users/janvanoort","html_url":"https://github.com/janvanoort","followers_url":"https://api.github.com/users/janvanoort/followers","following_url":"https://api.github.com/users/janvanoort/following{/other_user}","gists_url":"https://api.github.com/users/janvanoort/gists{/gist_id}","starred_url":"https://api.github.com/users/janvanoort/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janvanoort/subscriptions","organizations_url":"https://api.github.com/users/janvanoort/orgs","repos_url":"https://api.github.com/users/janvanoort/repos","events_url":"https://api.github.com/users/janvanoort/events{/privacy}","received_events_url":"https://api.github.com/users/janvanoort/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T16:30:06Z","updated_at":"2018-11-08T16:30:06Z","author_association":"NONE","body":"This happens on master and on branch druid-0.9.2, although \"mvn validate\" does fail on the former, not on the latter. \r\nDidn't check any other branches. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437060278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437061580","html_url":"https://github.com/apache/druid/issues/6589#issuecomment-437061580","issue_url":"https://api.github.com/repos/apache/druid/issues/6589","id":437061580,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzA2MTU4MA==","user":{"login":"janvanoort","id":40766414,"node_id":"MDQ6VXNlcjQwNzY2NDE0","avatar_url":"https://avatars.githubusercontent.com/u/40766414?v=4","gravatar_id":"","url":"https://api.github.com/users/janvanoort","html_url":"https://github.com/janvanoort","followers_url":"https://api.github.com/users/janvanoort/followers","following_url":"https://api.github.com/users/janvanoort/following{/other_user}","gists_url":"https://api.github.com/users/janvanoort/gists{/gist_id}","starred_url":"https://api.github.com/users/janvanoort/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janvanoort/subscriptions","organizations_url":"https://api.github.com/users/janvanoort/orgs","repos_url":"https://api.github.com/users/janvanoort/repos","events_url":"https://api.github.com/users/janvanoort/events{/privacy}","received_events_url":"https://api.github.com/users/janvanoort/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T16:33:35Z","updated_at":"2018-11-08T16:33:35Z","author_association":"NONE","body":"Doesn't happen on branch druid-0.9.1 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437061580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437087808","html_url":"https://github.com/apache/druid/issues/6589#issuecomment-437087808","issue_url":"https://api.github.com/repos/apache/druid/issues/6589","id":437087808,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzA4NzgwOA==","user":{"login":"dylwylie","id":3107079,"node_id":"MDQ6VXNlcjMxMDcwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3107079?v=4","gravatar_id":"","url":"https://api.github.com/users/dylwylie","html_url":"https://github.com/dylwylie","followers_url":"https://api.github.com/users/dylwylie/followers","following_url":"https://api.github.com/users/dylwylie/following{/other_user}","gists_url":"https://api.github.com/users/dylwylie/gists{/gist_id}","starred_url":"https://api.github.com/users/dylwylie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dylwylie/subscriptions","organizations_url":"https://api.github.com/users/dylwylie/orgs","repos_url":"https://api.github.com/users/dylwylie/repos","events_url":"https://api.github.com/users/dylwylie/events{/privacy}","received_events_url":"https://api.github.com/users/dylwylie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T17:31:51Z","updated_at":"2018-11-08T17:34:07Z","author_association":"CONTRIBUTOR","body":"use -DskipTests instead of -Dmaven.test.skip \r\n\r\nNot sure what's happening under the hood but the latter causes the unit test jars not to be built but the application expresses a dependency on them.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437087808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437088936","html_url":"https://github.com/apache/druid/issues/6582#issuecomment-437088936","issue_url":"https://api.github.com/repos/apache/druid/issues/6582","id":437088936,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzA4ODkzNg==","user":{"login":"dylwylie","id":3107079,"node_id":"MDQ6VXNlcjMxMDcwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3107079?v=4","gravatar_id":"","url":"https://api.github.com/users/dylwylie","html_url":"https://github.com/dylwylie","followers_url":"https://api.github.com/users/dylwylie/followers","following_url":"https://api.github.com/users/dylwylie/following{/other_user}","gists_url":"https://api.github.com/users/dylwylie/gists{/gist_id}","starred_url":"https://api.github.com/users/dylwylie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dylwylie/subscriptions","organizations_url":"https://api.github.com/users/dylwylie/orgs","repos_url":"https://api.github.com/users/dylwylie/repos","events_url":"https://api.github.com/users/dylwylie/events{/privacy}","received_events_url":"https://api.github.com/users/dylwylie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T17:35:21Z","updated_at":"2018-11-08T17:35:21Z","author_association":"CONTRIBUTOR","body":"Hey @qweed00 can you give an example of what you'd like to achieve? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437088936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437091717","html_url":"https://github.com/apache/druid/issues/6583#issuecomment-437091717","issue_url":"https://api.github.com/repos/apache/druid/issues/6583","id":437091717,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzA5MTcxNw==","user":{"login":"dylwylie","id":3107079,"node_id":"MDQ6VXNlcjMxMDcwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3107079?v=4","gravatar_id":"","url":"https://api.github.com/users/dylwylie","html_url":"https://github.com/dylwylie","followers_url":"https://api.github.com/users/dylwylie/followers","following_url":"https://api.github.com/users/dylwylie/following{/other_user}","gists_url":"https://api.github.com/users/dylwylie/gists{/gist_id}","starred_url":"https://api.github.com/users/dylwylie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dylwylie/subscriptions","organizations_url":"https://api.github.com/users/dylwylie/orgs","repos_url":"https://api.github.com/users/dylwylie/repos","events_url":"https://api.github.com/users/dylwylie/events{/privacy}","received_events_url":"https://api.github.com/users/dylwylie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T17:43:49Z","updated_at":"2018-11-08T17:43:49Z","author_association":"CONTRIBUTOR","body":"It seems better for user's to understand that a single row may contain aggregated events rather than try to hide the optimisation. \r\n\r\nIf you do try to hide it, you might end up with strange behaviour\r\n\r\nE.G.\r\n\r\nA user runs \"SELECT count(field)\" and gets a result of 1000\r\nThe user then runs \"SELECT field\" but only gets back 10 rows.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437091717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437099550","html_url":"https://github.com/apache/druid/issues/6583#issuecomment-437099550","issue_url":"https://api.github.com/repos/apache/druid/issues/6583","id":437099550,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzA5OTU1MA==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T18:07:58Z","updated_at":"2018-11-08T18:07:58Z","author_association":"MEMBER","body":"I don't agree, in my scenario, our users are not data experts and they don't care the details. Besides, it's hard to explain to everyone that a single row may contain aggregated events in druid. \r\n\r\nWhat's more, what I suggested just provided a additional option, users can decide whether to use rollup mode or not, it's a property which can be set in the query context.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437099550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437104344","html_url":"https://github.com/apache/druid/pull/6584#issuecomment-437104344","issue_url":"https://api.github.com/repos/apache/druid/issues/6584","id":437104344,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzEwNDM0NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T18:22:55Z","updated_at":"2018-11-08T18:22:55Z","author_association":"CONTRIBUTOR","body":"@clintropolis there is 2 ways to submit your contribution.\r\nOption 1 open a pull request against https://github.com/apache/hive with `HIVE-20893: Your_PR_Title XXX`.\r\nOption 2 is to submit a diff using https://reviews.apache.org/r/new/ against `hive-git`\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437104344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437125477","html_url":"https://github.com/apache/druid/issues/5158#issuecomment-437125477","issue_url":"https://api.github.com/repos/apache/druid/issues/5158","id":437125477,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzEyNTQ3Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T19:27:46Z","updated_at":"2018-11-08T19:27:46Z","author_association":"CONTRIBUTOR","body":"Hi @QiuMM, https://github.com/apache/incubator-druid/pull/4004 has some of the history here. It is complicated by the fact that chunkPeriod was historically used for two different goals (see https://github.com/apache/incubator-druid/pull/4004#issuecomment-284171911). It has a bit of a weird history.\r\n\r\nI think we could support an idea like this in groupBy v2 but we would need to be clear about _why_, given that chunkPeriod has been used for a variety of things in the past, and some of them didn't even work!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437125477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437126236","html_url":"https://github.com/apache/druid/issues/6583#issuecomment-437126236","issue_url":"https://api.github.com/repos/apache/druid/issues/6583","id":437126236,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzEyNjIzNg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T19:30:07Z","updated_at":"2018-11-08T19:30:07Z","author_association":"CONTRIBUTOR","body":"I don't call this \r\n\r\n> A user runs \"SELECT count(field)\" and gets a result of 1000\r\n>The user then runs \"SELECT field\" but only gets back 10 rows.\r\n\r\na detail, it is actually correctness, am assuming your users are actually SQL fanatics thus they care about correctness, FYI that might be also the same issue with Average, once the data is rolled up you need to break SQL AVG into SUM and Sum(SUM(__count))  as well not sure if the current SQL integration is doing that.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437126236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437135374","html_url":"https://github.com/apache/druid/issues/6583#issuecomment-437135374","issue_url":"https://api.github.com/repos/apache/druid/issues/6583","id":437135374,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzEzNTM3NA==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T19:58:35Z","updated_at":"2018-11-09T02:53:25Z","author_association":"MEMBER","body":"> once the data is rolled up you need to break SQL AVG into SUM and Sum(SUM(__count)) as well not sure if the current SQL integration is doing that.\r\n\r\nNo, I plan to do that. But before accomplish it, I need to fix #6578 in a good way.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437135374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437141238","html_url":"https://github.com/apache/druid/pull/6584#issuecomment-437141238","issue_url":"https://api.github.com/repos/apache/druid/issues/6584","id":437141238,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzE0MTIzOA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T20:18:13Z","updated_at":"2018-11-08T20:18:13Z","author_association":"MEMBER","body":"Thanks @b-slim I will open a PR on github today :+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437141238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437142013","html_url":"https://github.com/apache/druid/issues/6589#issuecomment-437142013","issue_url":"https://api.github.com/repos/apache/druid/issues/6589","id":437142013,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzE0MjAxMw==","user":{"login":"janvanoort","id":40766414,"node_id":"MDQ6VXNlcjQwNzY2NDE0","avatar_url":"https://avatars.githubusercontent.com/u/40766414?v=4","gravatar_id":"","url":"https://api.github.com/users/janvanoort","html_url":"https://github.com/janvanoort","followers_url":"https://api.github.com/users/janvanoort/followers","following_url":"https://api.github.com/users/janvanoort/following{/other_user}","gists_url":"https://api.github.com/users/janvanoort/gists{/gist_id}","starred_url":"https://api.github.com/users/janvanoort/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janvanoort/subscriptions","organizations_url":"https://api.github.com/users/janvanoort/orgs","repos_url":"https://api.github.com/users/janvanoort/repos","events_url":"https://api.github.com/users/janvanoort/events{/privacy}","received_events_url":"https://api.github.com/users/janvanoort/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T20:20:53Z","updated_at":"2018-11-08T20:20:53Z","author_association":"NONE","body":"Correct: with -DskipTests this doesn't happen, and the build completes. \r\nHowever, this does not provide an explanation for the build to successfully execute on  branch druid-0.9.1 with -Dmaven.test.skip. \r\nStrange. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437142013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437155597","html_url":"https://github.com/apache/druid/pull/6581#issuecomment-437155597","issue_url":"https://api.github.com/repos/apache/druid/issues/6581","id":437155597,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzE1NTU5Nw==","user":{"login":"edgan8","id":2577963,"node_id":"MDQ6VXNlcjI1Nzc5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2577963?v=4","gravatar_id":"","url":"https://api.github.com/users/edgan8","html_url":"https://github.com/edgan8","followers_url":"https://api.github.com/users/edgan8/followers","following_url":"https://api.github.com/users/edgan8/following{/other_user}","gists_url":"https://api.github.com/users/edgan8/gists{/gist_id}","starred_url":"https://api.github.com/users/edgan8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgan8/subscriptions","organizations_url":"https://api.github.com/users/edgan8/orgs","repos_url":"https://api.github.com/users/edgan8/repos","events_url":"https://api.github.com/users/edgan8/events{/privacy}","received_events_url":"https://api.github.com/users/edgan8/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T21:05:30Z","updated_at":"2018-11-08T21:14:02Z","author_association":"CONTRIBUTOR","body":"@leerho thanks for posting the great summary! Author of the paper here, I wanted to confirm that I fully agree with your analysis of when the M-sketch would or would not be appropriate. The actual error is data dependent. In many situations I would prefer to use the datasketches library as well which I found to be fairly reliable in my experiments. One other point to keep in mind is that the space usage of the M-sketch is also extremely low (usually < 150 bytes) so I often think of it as serving as a supplement to basic statistics and tiny histograms rather than a full-fledged sketch. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437155597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437217455","html_url":"https://github.com/apache/druid/issues/6176#issuecomment-437217455","issue_url":"https://api.github.com/repos/apache/druid/issues/6176","id":437217455,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzIxNzQ1NQ==","user":{"login":"waixiaoyu","id":17443542,"node_id":"MDQ6VXNlcjE3NDQzNTQy","avatar_url":"https://avatars.githubusercontent.com/u/17443542?v=4","gravatar_id":"","url":"https://api.github.com/users/waixiaoyu","html_url":"https://github.com/waixiaoyu","followers_url":"https://api.github.com/users/waixiaoyu/followers","following_url":"https://api.github.com/users/waixiaoyu/following{/other_user}","gists_url":"https://api.github.com/users/waixiaoyu/gists{/gist_id}","starred_url":"https://api.github.com/users/waixiaoyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waixiaoyu/subscriptions","organizations_url":"https://api.github.com/users/waixiaoyu/orgs","repos_url":"https://api.github.com/users/waixiaoyu/repos","events_url":"https://api.github.com/users/waixiaoyu/events{/privacy}","received_events_url":"https://api.github.com/users/waixiaoyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T01:26:58Z","updated_at":"2018-11-09T01:26:58Z","author_association":"NONE","body":"It seems like this bug https://issues.apache.org/jira/browse/CURATOR-476","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437217455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437326196","html_url":"https://github.com/apache/druid/issues/6583#issuecomment-437326196","issue_url":"https://api.github.com/repos/apache/druid/issues/6583","id":437326196,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzMyNjE5Ng==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T11:00:49Z","updated_at":"2018-11-09T11:00:49Z","author_association":"MEMBER","body":"@Dylan1312 druid support rolling up data at ingestion time, so we need to define metric columns before ingestion. However, for traditional data analysts, they just care about dimension columns, they might not even know the existence of metric columns. In most scenarios, metric columns are added by software engineers who are familiar with druid and these metrics are transparent to their users. Even if the data analysts know about the metric columns, they also have to switch their mindset between druid and other OLAP engines. So I consider it more friendly to users to let druid sql api support rollup mode.\r\n\r\n@b-slim for #6578, do you have any ideas.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437326196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437338571","html_url":"https://github.com/apache/druid/issues/6586#issuecomment-437338571","issue_url":"https://api.github.com/repos/apache/druid/issues/6586","id":437338571,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzMzODU3MQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T11:55:56Z","updated_at":"2018-11-09T11:55:56Z","author_association":"MEMBER","body":"Please add more info - \r\n1) Version of Druid \r\n2) Were there new nodes that were added ? Did you waited enough time for the coordinator to rebalance the segments ? \r\n3) Coordinator balancing related configs, if using non-default \r\n4) provide distribution snapshot over time, e.g at t, t+6, t+12, t+24 hrs\r\n5) Coordinator logs after masking any sensitive info. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437338571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437362449","html_url":"https://github.com/apache/druid/issues/5158#issuecomment-437362449","issue_url":"https://api.github.com/repos/apache/druid/issues/5158","id":437362449,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzM2MjQ0OQ==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T13:40:43Z","updated_at":"2018-11-09T13:40:43Z","author_association":"MEMBER","body":"@gianm I see, thanks for your explanation.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437362449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437456928","html_url":"https://github.com/apache/druid/pull/6588#issuecomment-437456928","issue_url":"https://api.github.com/repos/apache/druid/issues/6588","id":437456928,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzQ1NjkyOA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T18:46:40Z","updated_at":"2018-11-09T18:46:40Z","author_association":"MEMBER","body":"I have seen users set maxDirectMemory to arbitrary high values when they get the error that we have for not enough memory available. This change can potentially break such clusters. \r\n\r\nI think to make it more useful we need to also have a upper threshold on the calculated values.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437456928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437488803","html_url":"https://github.com/apache/druid/pull/6584#issuecomment-437488803","issue_url":"https://api.github.com/repos/apache/druid/issues/6584","id":437488803,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzQ4ODgwMw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T20:41:09Z","updated_at":"2018-11-09T20:41:09Z","author_association":"MEMBER","body":"Updated the PR description to match what was merged","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437488803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437492538","html_url":"https://github.com/apache/druid/pull/6594#issuecomment-437492538","issue_url":"https://api.github.com/repos/apache/druid/issues/6594","id":437492538,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzQ5MjUzOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T20:56:13Z","updated_at":"2018-11-09T20:56:13Z","author_association":"CONTRIBUTOR","body":"@QiuMM thanks for the quick review. \r\n\r\nBTW, would you mind checking your gmail? I sent an email several days ago. Please check it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437492538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437494777","html_url":"https://github.com/apache/druid/pull/6588#issuecomment-437494777","issue_url":"https://api.github.com/repos/apache/druid/issues/6588","id":437494777,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzQ5NDc3Nw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T21:04:51Z","updated_at":"2018-11-09T21:04:51Z","author_association":"MEMBER","body":"> I have seen users set maxDirectMemory to arbitrary high values when they get the error that we have for not enough memory available. This change can potentially break such clusters.\r\n> \r\n> I think to make it more useful we need to also have a upper threshold on the calculated values.\r\n\r\nIt does have an [upper threshold of 2GiB](https://github.com/apache/incubator-druid/pull/6588/files#diff-92edb0e55ced854443349a5580d48257R65), is this too large?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437494777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437556679","html_url":"https://github.com/apache/druid/pull/6594#issuecomment-437556679","issue_url":"https://api.github.com/repos/apache/druid/issues/6594","id":437556679,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzU1NjY3OQ==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-10T04:11:07Z","updated_at":"2018-11-10T04:36:54Z","author_association":"MEMBER","body":"@jihoonson sorry, I have not signed in that gmail for a long time. I'll check it now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437556679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437568149","html_url":"https://github.com/apache/druid/pull/6503#issuecomment-437568149","issue_url":"https://api.github.com/repos/apache/druid/issues/6503","id":437568149,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzU2ODE0OQ==","user":{"login":"elloooooo","id":4433949,"node_id":"MDQ6VXNlcjQ0MzM5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4433949?v=4","gravatar_id":"","url":"https://api.github.com/users/elloooooo","html_url":"https://github.com/elloooooo","followers_url":"https://api.github.com/users/elloooooo/followers","following_url":"https://api.github.com/users/elloooooo/following{/other_user}","gists_url":"https://api.github.com/users/elloooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/elloooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elloooooo/subscriptions","organizations_url":"https://api.github.com/users/elloooooo/orgs","repos_url":"https://api.github.com/users/elloooooo/repos","events_url":"https://api.github.com/users/elloooooo/events{/privacy}","received_events_url":"https://api.github.com/users/elloooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-10T08:34:41Z","updated_at":"2018-11-10T08:34:49Z","author_association":"CONTRIBUTOR","body":"@gianm Would you please review this PR? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437568149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437580529","html_url":"https://github.com/apache/druid/issues/5202#issuecomment-437580529","issue_url":"https://api.github.com/repos/apache/druid/issues/5202","id":437580529,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzU4MDUyOQ==","user":{"login":"davidzollo","id":15833811,"node_id":"MDQ6VXNlcjE1ODMzODEx","avatar_url":"https://avatars.githubusercontent.com/u/15833811?v=4","gravatar_id":"","url":"https://api.github.com/users/davidzollo","html_url":"https://github.com/davidzollo","followers_url":"https://api.github.com/users/davidzollo/followers","following_url":"https://api.github.com/users/davidzollo/following{/other_user}","gists_url":"https://api.github.com/users/davidzollo/gists{/gist_id}","starred_url":"https://api.github.com/users/davidzollo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidzollo/subscriptions","organizations_url":"https://api.github.com/users/davidzollo/orgs","repos_url":"https://api.github.com/users/davidzollo/repos","events_url":"https://api.github.com/users/davidzollo/events{/privacy}","received_events_url":"https://api.github.com/users/davidzollo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-10T12:28:17Z","updated_at":"2018-11-10T12:28:17Z","author_association":"NONE","body":"it's useful for me to add parameter like this\r\n \"jobProperties\": {\r\n\t\t\t\t\"mapreduce.job.user.classpath.first\": \"true\"\r\n                        }","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437580529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437643375","html_url":"https://github.com/apache/druid/pull/5109#issuecomment-437643375","issue_url":"https://api.github.com/repos/apache/druid/issues/5109","id":437643375,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzY0MzM3NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-11T04:38:46Z","updated_at":"2018-11-11T04:38:46Z","author_association":"CONTRIBUTOR","body":"It turns out this patch is not necessary, since #5048 accomplished the same goal. String expressions on the __time column work by first building a base primitive selector, and #5048 optimizes those. That optimization ends up being inherited by the dimension selector.\r\n\r\n#6599 extends the optimization to apply to Long columns that are not __time.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437643375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/437646763","html_url":"https://github.com/apache/druid/issues/6556#issuecomment-437646763","issue_url":"https://api.github.com/repos/apache/druid/issues/6556","id":437646763,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzY0Njc2Mw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-11T06:19:35Z","updated_at":"2018-11-11T06:19:35Z","author_association":"CONTRIBUTOR","body":"@vogievetsky  thought in sql SELECT 'abc' + NULL yields NULL and not to 'abc'. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/437646763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438003965","html_url":"https://github.com/apache/druid/pull/6594#issuecomment-438003965","issue_url":"https://api.github.com/repos/apache/druid/issues/6594","id":438003965,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODAwMzk2NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-12T19:39:33Z","updated_at":"2018-11-12T19:39:33Z","author_association":"CONTRIBUTOR","body":"I also changed the api to set max compaction task slots from `/druid/coordinator/v1/config/compaction` to `/druid/coordinator/v1/config/compaction/taskslots`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438003965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438004088","html_url":"https://github.com/apache/druid/pull/6594#issuecomment-438004088","issue_url":"https://api.github.com/repos/apache/druid/issues/6594","id":438004088,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODAwNDA4OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-12T19:39:57Z","updated_at":"2018-11-12T19:39:57Z","author_association":"CONTRIBUTOR","body":"@QiuMM thanks for checking!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438004088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438059831","html_url":"https://github.com/apache/druid/issues/6582#issuecomment-438059831","issue_url":"https://api.github.com/repos/apache/druid/issues/6582","id":438059831,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODA1OTgzMQ==","user":{"login":"qweed00","id":44787284,"node_id":"MDQ6VXNlcjQ0Nzg3Mjg0","avatar_url":"https://avatars.githubusercontent.com/u/44787284?v=4","gravatar_id":"","url":"https://api.github.com/users/qweed00","html_url":"https://github.com/qweed00","followers_url":"https://api.github.com/users/qweed00/followers","following_url":"https://api.github.com/users/qweed00/following{/other_user}","gists_url":"https://api.github.com/users/qweed00/gists{/gist_id}","starred_url":"https://api.github.com/users/qweed00/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qweed00/subscriptions","organizations_url":"https://api.github.com/users/qweed00/orgs","repos_url":"https://api.github.com/users/qweed00/repos","events_url":"https://api.github.com/users/qweed00/events{/privacy}","received_events_url":"https://api.github.com/users/qweed00/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-12T23:00:19Z","updated_at":"2018-11-12T23:00:19Z","author_association":"NONE","body":"Thanks for looking into this @Dylan1312, I am currently investigating to see if I can migrate an existing OLAP project to druid. Just trying to do a like for like port as much as possible at this stage.  \r\n\r\nThere are a few instances in the original code where it execute another query in the post aggregator based on dimension values\r\ne.g. Measure 2 in the below executes another query to grab Measure 1 for DIM A :( (no idea why it was implemented this way)\r\n```\r\n DIM1 | Measure 1 | Measure 2\r\n---------------------------\r\n A    | 1         | Measure 1 + a bunch of other measures\r\n B    | 2         | Measure 1 + a bunch of other measures\r\n C    | 3         | Measure 1 (from DIM A) + a bunch of other measures\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438059831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438061278","html_url":"https://github.com/apache/druid/pull/6596#issuecomment-438061278","issue_url":"https://api.github.com/repos/apache/druid/issues/6596","id":438061278,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODA2MTI3OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-12T23:05:09Z","updated_at":"2018-11-12T23:05:09Z","author_association":"CONTRIBUTOR","body":"I think it will be negligible once expressions are optimized a bit more (a project for a later time).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438061278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438145079","html_url":"https://github.com/apache/druid/pull/6592#issuecomment-438145079","issue_url":"https://api.github.com/repos/apache/druid/issues/6592","id":438145079,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODE0NTA3OQ==","user":{"login":"seoeun25","id":764939,"node_id":"MDQ6VXNlcjc2NDkzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/764939?v=4","gravatar_id":"","url":"https://api.github.com/users/seoeun25","html_url":"https://github.com/seoeun25","followers_url":"https://api.github.com/users/seoeun25/followers","following_url":"https://api.github.com/users/seoeun25/following{/other_user}","gists_url":"https://api.github.com/users/seoeun25/gists{/gist_id}","starred_url":"https://api.github.com/users/seoeun25/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seoeun25/subscriptions","organizations_url":"https://api.github.com/users/seoeun25/orgs","repos_url":"https://api.github.com/users/seoeun25/repos","events_url":"https://api.github.com/users/seoeun25/events{/privacy}","received_events_url":"https://api.github.com/users/seoeun25/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T05:47:02Z","updated_at":"2018-11-13T06:23:17Z","author_association":"CONTRIBUTOR","body":"It references the created_date at tasks table since tasklogs table have no created_date column.\r\nIt marks @Deprecated to getSqlRemoveLogsOlderThan since tasklogs deprecated.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438145079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438328518","html_url":"https://github.com/apache/druid/pull/6592#issuecomment-438328518","issue_url":"https://api.github.com/repos/apache/druid/issues/6592","id":438328518,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODMyODUxOA==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T16:18:59Z","updated_at":"2018-11-13T16:18:59Z","author_association":"MEMBER","body":"> It marks @deprecated to getSqlRemoveLogsOlderThan since tasklogs deprecated.\r\n\r\n@seoeun25  Auditlog has been deprecated, not tasklogs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438328518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438364884","html_url":"https://github.com/apache/druid/issues/6580#issuecomment-438364884","issue_url":"https://api.github.com/repos/apache/druid/issues/6580","id":438364884,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODM2NDg4NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T17:35:58Z","updated_at":"2018-11-13T17:35:58Z","author_association":"CONTRIBUTOR","body":"Moved to 0.13.1, since this doesn't seem to be a regression in 0.13.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438364884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438365031","html_url":"https://github.com/apache/druid/pull/6599#issuecomment-438365031","issue_url":"https://api.github.com/repos/apache/druid/issues/6599","id":438365031,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODM2NTAzMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T17:36:25Z","updated_at":"2018-11-13T17:36:25Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438365031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438370136","html_url":"https://github.com/apache/druid/pull/6584#issuecomment-438370136","issue_url":"https://api.github.com/repos/apache/druid/issues/6584","id":438370136,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODM3MDEzNg==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T17:50:40Z","updated_at":"2018-11-13T17:50:40Z","author_association":"CONTRIBUTOR","body":"@clintropolis could you do a backport to 0.13.0 for this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438370136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438370297","html_url":"https://github.com/apache/druid/pull/6488#issuecomment-438370297","issue_url":"https://api.github.com/repos/apache/druid/issues/6488","id":438370297,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODM3MDI5Nw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T17:51:07Z","updated_at":"2018-11-13T17:51:07Z","author_association":"CONTRIBUTOR","body":"@clintropolis could you do a backport to 0.13.0 for this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438370297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438370597","html_url":"https://github.com/apache/druid/pull/6552#issuecomment-438370597","issue_url":"https://api.github.com/repos/apache/druid/issues/6552","id":438370597,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODM3MDU5Nw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T17:51:55Z","updated_at":"2018-11-13T17:51:55Z","author_association":"CONTRIBUTOR","body":"@surekhasaharan could you do a backport to 0.13.0 for this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438370597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438370909","html_url":"https://github.com/apache/druid/pull/6552#issuecomment-438370909","issue_url":"https://api.github.com/repos/apache/druid/issues/6552","id":438370909,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODM3MDkwOQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T17:52:46Z","updated_at":"2018-11-13T17:52:46Z","author_association":"CONTRIBUTOR","body":"Nevermind, I think Gian might have just done it!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438370909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438374642","html_url":"https://github.com/apache/druid/pull/6490#issuecomment-438374642","issue_url":"https://api.github.com/repos/apache/druid/issues/6490","id":438374642,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODM3NDY0Mg==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T18:01:21Z","updated_at":"2018-11-13T18:01:21Z","author_association":"CONTRIBUTOR","body":"@leventov could you do a backport of just the bugfixes here to the 0.13.0-incubating branch?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438374642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438407780","html_url":"https://github.com/apache/druid/pull/6614#issuecomment-438407780","issue_url":"https://api.github.com/repos/apache/druid/issues/6614","id":438407780,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQwNzc4MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T19:38:14Z","updated_at":"2018-11-13T19:38:14Z","author_association":"CONTRIBUTOR","body":"I believe the **continuous-integration/travis-ci/push** failure can be ignored. I (accidentally) pushed this branch to the apache repo, and Travis must have picked it up and started running tests on it. I've deleted the branch and moved it to my fork, but the **continuous-integration/travis-ci/push** thing seems to be stuck here.\r\n\r\nI would consider tests here passing if the other two are ok: **continuous-integration/travis-ci/pr** and **Inspections: pull requests (Druid)**.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438407780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438423278","html_url":"https://github.com/apache/druid/pull/6618#issuecomment-438423278","issue_url":"https://api.github.com/repos/apache/druid/issues/6618","id":438423278,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQyMzI3OA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T20:23:50Z","updated_at":"2018-11-13T20:23:50Z","author_association":"MEMBER","body":"Backporting this to allow backport of #6584 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438423278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438438378","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-438438378","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":438438378,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQzODM3OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T21:12:47Z","updated_at":"2018-11-13T21:12:47Z","author_association":"CONTRIBUTOR","body":"For 0.13.0's default config I am fine keeping the new metric, or removing it (either way I'm going to enable it at my site). But after 0.13.0 I think we need a better way of handling this. I don't think it's user-friendly to ask users, especially new users, to write private extensions or even long configuration files in order to get metrics emission to work. There are two questions packed in here.\r\n\r\nFirst, what metrics do we emit by default? It could be some \"reasonable\" level, it could be everything, or it could be nothing. @jon-wei and I have advocated for \"reasonable\". @leventov has said he would prefer \"nothing\", but in a concession to backwards compatibility, is ok with \"the level that was in place when the QueryMetrics system was set up\".\r\n\r\nSecond, how do cluster operators customize metrics emitting? Today, they have to write a private extension. It sounds like everyone things configuration would be a good option, but it's not implemented yet.\r\n\r\nI would like to propose the following.\r\n\r\n- Adopt the \"reasonable\" standard for new metrics (if a new user comes in, with zero configuration, they get this \"reasonable\" set). The names of these metrics and metric-dimensions are part of Druid's public API. Other metrics and metric-dimensions, that are not in the default set, are _not_ in Druid's public API.\r\n- Continue to support QueryMetrics extensions as a way for advanced operators to have full control over how metrics emission works. It will work the same way as it works now. If a new kind of metric or metric-dimension is added, then QueryMetrics extension authors will still be 'notified' and have the opportunity to decide what to do about it.\r\n- Consider building a configuration-based approach that lets intermediate users do some customizations through config only.\r\n\r\nI feel that this approach will provide stability for a core set of most-useful metrics, while still allowing customizability, and allowing some mechanism to add \"advanced\" metrics that aren't part of the public API, if we want to do that for some reason.\r\n\r\nBtw, with regard to the suggestion below for how configuration works, I don't see how it adds value beyond making the name \"query/node/backpressure\" part of the public API of Druid. It eliminates that, but introduces a new thing \"nodeBackPressureTime\" that _is_ part of the public API (we can't change it without breaking old configs).\r\n\r\n```\r\ndruid.query.queryMetrics.default.metrics.nodeBackPressureTime.name=query/node/backpressure\r\ndruid.query.queryMetrics.default.metrics.nodeBackPressureTime.unit=nanoseconds\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438438378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438447015","html_url":"https://github.com/apache/druid/pull/6605#issuecomment-438447015","issue_url":"https://api.github.com/repos/apache/druid/issues/6605","id":438447015,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ0NzAxNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T21:36:53Z","updated_at":"2018-11-13T21:36:53Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @deiwin! We'll take a look soon. By the way, there is a doc conflict, could you take a look at that please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438447015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438449865","html_url":"https://github.com/apache/druid/pull/6592#issuecomment-438449865","issue_url":"https://api.github.com/repos/apache/druid/issues/6592","id":438449865,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ0OTg2NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T21:45:44Z","updated_at":"2018-11-13T21:45:44Z","author_association":"CONTRIBUTOR","body":"It looks like this is adding new behavior (deleting old tasks) to a pre-existing config (druid.indexer.logs.kill.durationToRetain). Is that right? What's the default for these? I'm just thinking about whether people will be surprised by the new behavior.\r\n\r\nAt any rate, I'll add a \"release notes\" label so we can call out what would change, if anything.\r\n\r\nThis patch should also include a doc update.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438449865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438456745","html_url":"https://github.com/apache/druid/pull/6588#issuecomment-438456745","issue_url":"https://api.github.com/repos/apache/druid/issues/6588","id":438456745,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ1Njc0NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T22:07:50Z","updated_at":"2018-11-13T22:07:50Z","author_association":"CONTRIBUTOR","body":"I haven't seen 2GB buffers be super useful except in niche cases (really big aggregator states). So it might be better to have the cap be 1GB, which is the current default, which means nobody should run into the problem @nishantmonu51 brought up.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438456745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438458548","html_url":"https://github.com/apache/druid/pull/6587#issuecomment-438458548","issue_url":"https://api.github.com/repos/apache/druid/issues/6587","id":438458548,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ1ODU0OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T22:13:56Z","updated_at":"2018-11-13T22:13:56Z","author_association":"CONTRIBUTOR","body":"How about adding a metric `ingest/kafka/partitionLag` with a dimension \"partition\" on it? Then you could take the average or max of those to get the average/max per-partition lag. But you could also look at the lag for each individual partition, which would be useful too.\r\n\r\nMaybe include the task ID as a dimension too?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438458548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438459529","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-438459529","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":438459529,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ1OTUyOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T22:17:11Z","updated_at":"2018-11-13T22:17:11Z","author_association":"CONTRIBUTOR","body":"Would it make sense to just emit nothing if there is no gap known? To me, that makes the most sense -- we don't know the value yet, so treat it like a null and don't emit it.\r\n\r\n@kaijianding, @zhaojiandong what do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438459529/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438460201","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-438460201","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":438460201,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ2MDIwMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T22:19:31Z","updated_at":"2018-11-13T22:19:31Z","author_association":"MEMBER","body":"@gianm the advantage of `druid.query.queryMetrics.default.metrics.nodeBackPressureTime.name` style configs is that a user must specify them explicitly in order to get this metric. Then, if one day we migrate to a different network comm mechanism and `nodeBackPressureTime` becomes irrelevant, we could remove this thing and add another metric `druid.query.queryMetrics.default.metrics.somethingCompletelyDifferent` for network comm health telemetry. Then user's configs become invalid, and Druid will fail to start with an exception with old config. It will *force* users to recognize that the metric has been removed.\r\n\r\nWhat is possible with \"reasonable\" metrics emitted by default being public API:\r\n 1) Users depend on those metrics and set up alerts for them exceeding some thresholds.\r\n 2) At some point we remove those metrics, or change their units, or resolution, or due to some architectural changes in Druid \"normal\" and \"ill\" values for the metric become completely different.\r\n 3) Users don't notice that, their alerting dashboards keep silence because they are happy with the metrics being apparently zero or very low.\r\n\r\nAlso, again, the reasonable per-query metric could significantly increase the total metric volume, so that the metric collecting system becomes overloaded, or if this is a commercial SaaS service, the cost is suddenly up.\r\n\r\nSo ultimately I don't believe this is a safe default path. We should assume that users don't read the documentation at all, or skip some parts of it arbitrarily.\r\n\r\nI agree there could be a *non-default* metrics option \"reasonable\", the doc of which (assuming that if users set some option in their config, they read at least the doc of that particular option) says that:\r\n - The emitted metrics are *not* public Druid API, they could be renamed, revoked, unit changed, etc. at any release;\r\n - Setting up alerts based on those metrics, be prepared to re-check each metric on each Druid update;\r\n - The amount of emitted \"reasonable\" metrics could significantly increase on a Druid update; the metric collecting system could get choked or become more expensive.\r\n\r\nIf a user reads this and agrees with this, then fine.\r\n\r\n> Consider building a configuration-based approach that lets intermediate users do some customizations through config only.\r\n\r\nI think it's not something just to consider, it should be in place and should be the default.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438460201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438460738","html_url":"https://github.com/apache/druid/pull/6503#issuecomment-438460738","issue_url":"https://api.github.com/repos/apache/druid/issues/6503","id":438460738,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ2MDczOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T22:21:23Z","updated_at":"2018-11-13T22:21:23Z","author_association":"CONTRIBUTOR","body":"I'll try to take a look and have an opinion on it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438460738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438523967","html_url":"https://github.com/apache/druid/pull/6587#issuecomment-438523967","issue_url":"https://api.github.com/repos/apache/druid/issues/6587","id":438523967,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODUyMzk2Nw==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T03:22:09Z","updated_at":"2018-11-14T13:35:34Z","author_association":"MEMBER","body":"@gianm for metrics, I think it's enough to emit max lag, average lag and total lag across all partitions. In my scenario, some kafka topics may have 1000 partitions, so there will be lots of metric events if emit lag for each individual partition. If people want to look at the lag for each individual partition, they can get status of a supervisor through endpoint `/druid/indexer/v1/supervisor/{id}/status`. (overlord console ui has enabled this `status` endpoint).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438523967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438524716","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-438524716","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":438524716,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODUyNDcxNg==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T03:27:18Z","updated_at":"2018-11-14T03:27:18Z","author_association":"CONTRIBUTOR","body":"@gianm good idea, RealtimeMetricsMonitor should not report message gap if it is not an actual gap.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438524716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438554612","html_url":"https://github.com/apache/druid/pull/6623#issuecomment-438554612","issue_url":"https://api.github.com/repos/apache/druid/issues/6623","id":438554612,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODU1NDYxMg==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T06:37:27Z","updated_at":"2018-11-14T08:34:40Z","author_association":"MEMBER","body":"@hate13 you should explain why `consumer#endOffsets` is more efficient than `foreach + consumer#position` in your PR description.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438554612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438556339","html_url":"https://github.com/apache/druid/pull/6592#issuecomment-438556339","issue_url":"https://api.github.com/repos/apache/druid/issues/6592","id":438556339,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODU1NjMzOQ==","user":{"login":"seoeun25","id":764939,"node_id":"MDQ6VXNlcjc2NDkzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/764939?v=4","gravatar_id":"","url":"https://api.github.com/users/seoeun25","html_url":"https://github.com/seoeun25","followers_url":"https://api.github.com/users/seoeun25/followers","following_url":"https://api.github.com/users/seoeun25/following{/other_user}","gists_url":"https://api.github.com/users/seoeun25/gists{/gist_id}","starred_url":"https://api.github.com/users/seoeun25/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seoeun25/subscriptions","organizations_url":"https://api.github.com/users/seoeun25/orgs","repos_url":"https://api.github.com/users/seoeun25/repos","events_url":"https://api.github.com/users/seoeun25/events{/privacy}","received_events_url":"https://api.github.com/users/seoeun25/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T06:46:45Z","updated_at":"2018-11-14T06:46:45Z","author_association":"CONTRIBUTOR","body":"This commit contains:\r\n1. change the variable name and comment.\r\n2. update the doc to `druid.indexer.logs.kill.enabled`.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438556339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438585604","html_url":"https://github.com/apache/druid/pull/6605#issuecomment-438585604","issue_url":"https://api.github.com/repos/apache/druid/issues/6605","id":438585604,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODU4NTYwNA==","user":{"login":"deiwin","id":2261897,"node_id":"MDQ6VXNlcjIyNjE4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2261897?v=4","gravatar_id":"","url":"https://api.github.com/users/deiwin","html_url":"https://github.com/deiwin","followers_url":"https://api.github.com/users/deiwin/followers","following_url":"https://api.github.com/users/deiwin/following{/other_user}","gists_url":"https://api.github.com/users/deiwin/gists{/gist_id}","starred_url":"https://api.github.com/users/deiwin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiwin/subscriptions","organizations_url":"https://api.github.com/users/deiwin/orgs","repos_url":"https://api.github.com/users/deiwin/repos","events_url":"https://api.github.com/users/deiwin/events{/privacy}","received_events_url":"https://api.github.com/users/deiwin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T08:54:18Z","updated_at":"2018-11-14T08:54:18Z","author_association":"CONTRIBUTOR","body":"> By the way, there is a doc conflict, could you take a look at that please?\r\n\r\nOf course. Fixed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438585604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438662501","html_url":"https://github.com/apache/druid/issues/6589#issuecomment-438662501","issue_url":"https://api.github.com/repos/apache/druid/issues/6589","id":438662501,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODY2MjUwMQ==","user":{"login":"janvanoort","id":40766414,"node_id":"MDQ6VXNlcjQwNzY2NDE0","avatar_url":"https://avatars.githubusercontent.com/u/40766414?v=4","gravatar_id":"","url":"https://api.github.com/users/janvanoort","html_url":"https://github.com/janvanoort","followers_url":"https://api.github.com/users/janvanoort/followers","following_url":"https://api.github.com/users/janvanoort/following{/other_user}","gists_url":"https://api.github.com/users/janvanoort/gists{/gist_id}","starred_url":"https://api.github.com/users/janvanoort/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janvanoort/subscriptions","organizations_url":"https://api.github.com/users/janvanoort/orgs","repos_url":"https://api.github.com/users/janvanoort/repos","events_url":"https://api.github.com/users/janvanoort/events{/privacy}","received_events_url":"https://api.github.com/users/janvanoort/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T13:31:58Z","updated_at":"2018-11-14T13:31:58Z","author_association":"NONE","body":"Closing, as nobody seems to have a better solution than @Dylan1312 (which is an actual, working solution) and investigating maven itself is out of scope. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438662501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438719650","html_url":"https://github.com/apache/druid/issues/6626#issuecomment-438719650","issue_url":"https://api.github.com/repos/apache/druid/issues/6626","id":438719650,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODcxOTY1MA==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T16:12:39Z","updated_at":"2018-11-14T16:12:39Z","author_association":"MEMBER","body":"It's a bug, you can check #6202 for more details.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438719650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438744987","html_url":"https://github.com/apache/druid/issues/6626#issuecomment-438744987","issue_url":"https://api.github.com/repos/apache/druid/issues/6626","id":438744987,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODc0NDk4Nw==","user":{"login":"maver1ck","id":4006010,"node_id":"MDQ6VXNlcjQwMDYwMTA=","avatar_url":"https://avatars.githubusercontent.com/u/4006010?v=4","gravatar_id":"","url":"https://api.github.com/users/maver1ck","html_url":"https://github.com/maver1ck","followers_url":"https://api.github.com/users/maver1ck/followers","following_url":"https://api.github.com/users/maver1ck/following{/other_user}","gists_url":"https://api.github.com/users/maver1ck/gists{/gist_id}","starred_url":"https://api.github.com/users/maver1ck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maver1ck/subscriptions","organizations_url":"https://api.github.com/users/maver1ck/orgs","repos_url":"https://api.github.com/users/maver1ck/repos","events_url":"https://api.github.com/users/maver1ck/events{/privacy}","received_events_url":"https://api.github.com/users/maver1ck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T17:21:16Z","updated_at":"2018-11-14T17:21:16Z","author_association":"CONTRIBUTOR","body":"I found a workaround. \r\nChange plaintextPort to port in middleManager config.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438744987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438768381","html_url":"https://github.com/apache/druid/pull/1679#issuecomment-438768381","issue_url":"https://api.github.com/repos/apache/druid/issues/1679","id":438768381,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODc2ODM4MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T18:30:25Z","updated_at":"2018-11-14T18:30:25Z","author_association":"CONTRIBUTOR","body":"Revived and implemented as part of https://github.com/apache/incubator-druid/pull/4550.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438768381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438796189","html_url":"https://github.com/apache/druid/pull/6588#issuecomment-438796189","issue_url":"https://api.github.com/repos/apache/druid/issues/6588","id":438796189,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODc5NjE4OQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T19:54:14Z","updated_at":"2018-11-14T19:54:14Z","author_association":"MEMBER","body":"agree with @gianm an upper limit of 1G seems better. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438796189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438802626","html_url":"https://github.com/apache/druid/pull/2394#issuecomment-438802626","issue_url":"https://api.github.com/repos/apache/druid/issues/2394","id":438802626,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODgwMjYyNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T20:14:38Z","updated_at":"2018-11-14T20:14:38Z","author_association":"CONTRIBUTOR","body":"Similar functionality was added in another PR (I don't have the number handy) and then improved in #5586 to handle more formats.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438802626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438820108","html_url":"https://github.com/apache/druid/issues/6626#issuecomment-438820108","issue_url":"https://api.github.com/repos/apache/druid/issues/6626","id":438820108,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODgyMDEwOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T21:11:19Z","updated_at":"2018-11-14T21:11:19Z","author_association":"CONTRIBUTOR","body":"Closing this issue since the bug was already fixed in #6202.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438820108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438860406","html_url":"https://github.com/apache/druid/pull/6431#issuecomment-438860406","issue_url":"https://api.github.com/repos/apache/druid/issues/6431","id":438860406,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODg2MDQwNg==","user":{"login":"jsun98","id":11185501,"node_id":"MDQ6VXNlcjExMTg1NTAx","avatar_url":"https://avatars.githubusercontent.com/u/11185501?v=4","gravatar_id":"","url":"https://api.github.com/users/jsun98","html_url":"https://github.com/jsun98","followers_url":"https://api.github.com/users/jsun98/followers","following_url":"https://api.github.com/users/jsun98/following{/other_user}","gists_url":"https://api.github.com/users/jsun98/gists{/gist_id}","starred_url":"https://api.github.com/users/jsun98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsun98/subscriptions","organizations_url":"https://api.github.com/users/jsun98/orgs","repos_url":"https://api.github.com/users/jsun98/repos","events_url":"https://api.github.com/users/jsun98/events{/privacy}","received_events_url":"https://api.github.com/users/jsun98/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T23:41:27Z","updated_at":"2018-11-14T23:41:27Z","author_association":"CONTRIBUTOR","body":"@dclim thanks for the comments! just fixed them please take a look.\r\n\r\nAlso added the refactored Kinesis Indexing Task and implemented incremental handoff. Major changes are in `SeekableStreamIndexTask`, `SeekableStreamIndexTaskRunner`, `IncrementalPublishingIndexTaskRunner`, `KinesisIndexTaskRunner`. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438860406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438879906","html_url":"https://github.com/apache/druid/pull/6622#issuecomment-438879906","issue_url":"https://api.github.com/repos/apache/druid/issues/6622","id":438879906,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODg3OTkwNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T01:18:20Z","updated_at":"2018-11-15T01:18:20Z","author_association":"CONTRIBUTOR","body":"@gianm thanks for the quick review. Added a test.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438879906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/438958548","html_url":"https://github.com/apache/druid/pull/6588#issuecomment-438958548","issue_url":"https://api.github.com/repos/apache/druid/issues/6588","id":438958548,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODk1ODU0OA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T08:31:01Z","updated_at":"2018-11-15T08:31:01Z","author_association":"MEMBER","body":"> one more change needed is in the exception messages in groupby queries when the processing buffer size is not enough.\r\n\r\nI was going to do this, but then noticed it's already printing the current buffer capacity at the start of that message if you're referring to the exception in `BufferArrayGrouper`\r\n\r\n```\r\nA record of size [%d] cannot be written to the array buffer at offset[%d] because it exceeds the buffer capacity[%d]. Try increasing druid.processing.buffer.sizeBytes\r\n```\r\nso it looks like someone beat me to it for that one at least. `ParallelCombiner` also has a similar message, I've added the current processing buffer size to it's messaging.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/438958548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439103091","html_url":"https://github.com/apache/druid/issues/6537#issuecomment-439103091","issue_url":"https://api.github.com/repos/apache/druid/issues/6537","id":439103091,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTEwMzA5MQ==","user":{"login":"eranbranovate","id":14150226,"node_id":"MDQ6VXNlcjE0MTUwMjI2","avatar_url":"https://avatars.githubusercontent.com/u/14150226?v=4","gravatar_id":"","url":"https://api.github.com/users/eranbranovate","html_url":"https://github.com/eranbranovate","followers_url":"https://api.github.com/users/eranbranovate/followers","following_url":"https://api.github.com/users/eranbranovate/following{/other_user}","gists_url":"https://api.github.com/users/eranbranovate/gists{/gist_id}","starred_url":"https://api.github.com/users/eranbranovate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eranbranovate/subscriptions","organizations_url":"https://api.github.com/users/eranbranovate/orgs","repos_url":"https://api.github.com/users/eranbranovate/repos","events_url":"https://api.github.com/users/eranbranovate/events{/privacy}","received_events_url":"https://api.github.com/users/eranbranovate/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T16:32:45Z","updated_at":"2018-11-15T16:32:45Z","author_association":"NONE","body":"i see the same problem with version 0.12.3 and i see it everyday and i ingest data hourly so i see it more frequently, i described my problem here https://groups.google.com/forum/#!topic/druid-user/GAYgulwblIs","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439103091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439171030","html_url":"https://github.com/apache/druid/issues/3562#issuecomment-439171030","issue_url":"https://api.github.com/repos/apache/druid/issues/3562","id":439171030,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTE3MTAzMA==","user":{"login":"Shimi","id":218553,"node_id":"MDQ6VXNlcjIxODU1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/218553?v=4","gravatar_id":"","url":"https://api.github.com/users/Shimi","html_url":"https://github.com/Shimi","followers_url":"https://api.github.com/users/Shimi/followers","following_url":"https://api.github.com/users/Shimi/following{/other_user}","gists_url":"https://api.github.com/users/Shimi/gists{/gist_id}","starred_url":"https://api.github.com/users/Shimi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shimi/subscriptions","organizations_url":"https://api.github.com/users/Shimi/orgs","repos_url":"https://api.github.com/users/Shimi/repos","events_url":"https://api.github.com/users/Shimi/events{/privacy}","received_events_url":"https://api.github.com/users/Shimi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T20:00:20Z","updated_at":"2018-11-20T08:32:06Z","author_association":"CONTRIBUTOR","body":"thanks @leventov \r\nI made the changes to VSizeSerdeBenchmark. Except for the benchmarks, all places require write access and FileUtils.map() map the files as read-only.\r\nIf I understand it right the main motivation for this ticket (according to https://github.com/metamx/java-util/pull/50#issue-83823490) is to control the release of the memory and not leave it for the GC. I wonder if it's important for the benchmarks since the GC will release the memory when the benchmark ends.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439171030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439196530","html_url":"https://github.com/apache/druid/pull/6629#issuecomment-439196530","issue_url":"https://api.github.com/repos/apache/druid/issues/6629","id":439196530,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTE5NjUzMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T21:28:29Z","updated_at":"2018-11-15T21:28:29Z","author_association":"CONTRIBUTOR","body":"@drcrallen would you please review this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439196530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439222950","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-439222950","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":439222950,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTIyMjk1MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T23:06:34Z","updated_at":"2018-11-15T23:06:34Z","author_association":"CONTRIBUTOR","body":"> @gianm the advantage of druid.query.queryMetrics.default.metrics.nodeBackPressureTime.name style configs is that a user must specify them explicitly in order to get this metric. Then, if one day we migrate to a different network comm mechanism and nodeBackPressureTime becomes irrelevant, we could remove this thing and add another metric druid.query.queryMetrics.default.metrics.somethingCompletelyDifferent for network comm health telemetry. Then user's configs become invalid, and Druid will fail to start with an exception with old config. It will force users to recognize that the metric has been removed.\r\n> ‚Ä¶\r\n> I agree there could be a non-default metrics option \"reasonable\", the doc of which (assuming that if users set some option in their config, they read at least the doc of that particular option) says that:\r\n>\r\n> - The emitted metrics are not public Druid API, they could be renamed, revoked, unit changed, etc. at any release;\r\n> - Setting up alerts based on those metrics, be prepared to re-check each metric on each Druid update;\r\n> - The amount of emitted \"reasonable\" metrics could significantly increase on a Druid update; the metric collecting system could get choked or become more expensive.\r\n\r\nI just don't think this method is a user-friendly way of handling metrics. It means that users won't get metrics unless they manually specify a line of configuration for each one. New users don't generally know what metrics are useful until they run into some problem that metrics help debug. At that point, it would be best if the metric were already available in their metrics collection system, rather than requiring the user to go back and turn it on with a cluster redeploy. Requiring users to think about each metric ahead of time is a setup burden.\r\n\r\nI also think it would be better to abandon the desire to be able to change any query metrics on any release. We should think carefully about new metrics we add to the \"public API\" set, and then once we add them, don't change their names or units. We should feel free retire them if they become obsolete (like in your example of using a totally different network communication mechanism), but we should avoid changing their names or meanings. I don't think a mechanism to automatically notify users of such changes and force them to deal with them is the right solution, since that still makes upgrading a tougher process, which we should be trying to avoid.\r\n\r\nI think it's also best if the \"public API\" set of metrics is relatively large, as a percentage of overall metrics. It makes the system even more user friendly and easier to upgrade.\r\n\r\n> Also, again, the reasonable per-query metric could significantly increase the total metric volume, so that the metric collecting system becomes overloaded, or if this is a commercial SaaS service, the cost is suddenly up.\r\n\r\nI definitely have a lot more sympathy for this concern than for the concern about wanting to make backwards-incompatible changes. I think that we can address this metrics size concern by having it be part of the thought process for adding new metrics. I don't think the thought process needs to be as severe as \"no new metric-dimensions¬†by default, ever\" but I can see it making sense to avoid adding any new _metrics_ to the default set. Since new metrics mean big increases in volumes, but new metric-dimensions are relatively small increases, and can be worth it.\r\n\r\nMy experience has been that the per-segment metrics are the vast majority of bulk of query metrics, by volume. I am down for a policy that we shouldn't add more of those by default. I would also be fine with _removing_ them from the default set, if we had an easy configuration-based way to turn them back on. I have definitely seen those per-segment metrics overwhelm peoples' metric collection systems, so yeah, agreed that is a real issue.\r\n\r\nConcretely, I could see it making sense to do the following.\r\n\r\n- Not include the backpressure metric in the default set.\r\n- Maybe even remove per-segment metrics from the default set?\r\n- Create a configuration based approach that lets people set their query metrics to \"none\" or \"default\" or \"all\". Maybe even more customization than that, I dunno.\r\n- Allow the \"default\" set to evolve over time to add new dimensions if they are broadly useful, but avoid adding new metrics to the default set. The goal is to avoid increasing the size of metrics by too much. I think \"identity\" is a good example of a metric that makes sense to add to the default set. It is broadly useful to anyone that enabled authentication, and to people that didn't, it always has the same value so will compress well.\r\n- Consider metric names and units part of Druid's public API and avoid changing them (but feel free to remove obsolete ones).\r\n- Keep doing the QueryMetrics thing to allow full customization and force-notification for people that want that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439222950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439290848","html_url":"https://github.com/apache/druid/pull/6623#issuecomment-439290848","issue_url":"https://api.github.com/repos/apache/druid/issues/6623","id":439290848,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTI5MDg0OA==","user":{"login":"hate13","id":16034463,"node_id":"MDQ6VXNlcjE2MDM0NDYz","avatar_url":"https://avatars.githubusercontent.com/u/16034463?v=4","gravatar_id":"","url":"https://api.github.com/users/hate13","html_url":"https://github.com/hate13","followers_url":"https://api.github.com/users/hate13/followers","following_url":"https://api.github.com/users/hate13/following{/other_user}","gists_url":"https://api.github.com/users/hate13/gists{/gist_id}","starred_url":"https://api.github.com/users/hate13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hate13/subscriptions","organizations_url":"https://api.github.com/users/hate13/orgs","repos_url":"https://api.github.com/users/hate13/repos","events_url":"https://api.github.com/users/hate13/events{/privacy}","received_events_url":"https://api.github.com/users/hate13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T05:58:44Z","updated_at":"2018-11-16T05:58:44Z","author_association":"CONTRIBUTOR","body":"@QiuMM @asdf2014 We made some simple test as follows.\r\n\r\npartitions: 1000,\r\nkafka.network.RequestMetrics.TotalTimeMs.Offsets.99thPercentile: 500ms\r\n\r\nUsing KafkaConsumer#endOffsets takes about 300~3000ms, while the previous way takes almost 100s. However, it depends on the state of the kafka cluster which contains many factors.\r\n\r\nIn the underlying implementation, the previous will execute several times, getting just one partition's offset each time. But KafkaConsumer#endOffsets could fetch all offsets in once.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439290848/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439342446","html_url":"https://github.com/apache/druid/issues/5582#issuecomment-439342446","issue_url":"https://api.github.com/repos/apache/druid/issues/5582","id":439342446,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTM0MjQ0Ng==","user":{"login":"maver1ck","id":4006010,"node_id":"MDQ6VXNlcjQwMDYwMTA=","avatar_url":"https://avatars.githubusercontent.com/u/4006010?v=4","gravatar_id":"","url":"https://api.github.com/users/maver1ck","html_url":"https://github.com/maver1ck","followers_url":"https://api.github.com/users/maver1ck/followers","following_url":"https://api.github.com/users/maver1ck/following{/other_user}","gists_url":"https://api.github.com/users/maver1ck/gists{/gist_id}","starred_url":"https://api.github.com/users/maver1ck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maver1ck/subscriptions","organizations_url":"https://api.github.com/users/maver1ck/orgs","repos_url":"https://api.github.com/users/maver1ck/repos","events_url":"https://api.github.com/users/maver1ck/events{/privacy}","received_events_url":"https://api.github.com/users/maver1ck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T09:58:18Z","updated_at":"2018-11-16T10:05:34Z","author_association":"CONTRIBUTOR","body":"https://github.com/helm/charts/pull/9314\r\nPS. There is no option for multi-tier configuration in this Chart. And I don't want to add it in initial PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439342446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439442209","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-439442209","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":439442209,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ0MjIwOQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T16:09:44Z","updated_at":"2018-11-16T16:09:44Z","author_association":"MEMBER","body":"Sounds like a good plan to me.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439442209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439443861","html_url":"https://github.com/apache/druid/pull/6633#issuecomment-439443861","issue_url":"https://api.github.com/repos/apache/druid/issues/6633","id":439443861,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ0Mzg2MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T16:14:50Z","updated_at":"2018-11-16T16:14:50Z","author_association":"MEMBER","body":"@clintropolis is this #3878?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439443861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439445730","html_url":"https://github.com/apache/druid/pull/6558#issuecomment-439445730","issue_url":"https://api.github.com/repos/apache/druid/issues/6558","id":439445730,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ0NTczMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T16:20:31Z","updated_at":"2018-11-16T16:20:31Z","author_association":"MEMBER","body":"@jihoonson could you please review?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439445730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439473049","html_url":"https://github.com/apache/druid/issues/6634#issuecomment-439473049","issue_url":"https://api.github.com/repos/apache/druid/issues/6634","id":439473049,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ3MzA0OQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T17:50:37Z","updated_at":"2018-11-16T17:50:37Z","author_association":"MEMBER","body":"mapping runtime.properties to a Config class can be done by using JsonConfigProvider. \r\ne.g Refer to how LookupConfig is binded in LookupModule. \r\n```\r\n    JsonConfigProvider.bind(binder, PROPERTY_BASE, LookupConfig.class);\r\n```\r\nConfigs can then be specified in runtime.properties like <PROPERTY_BASE>.<PROPERTY_NAME> e.g. \r\n`druid.lookupsnapshotWorkingDir` for this example.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439473049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439477509","html_url":"https://github.com/apache/druid/issues/6634#issuecomment-439477509","issue_url":"https://api.github.com/repos/apache/druid/issues/6634","id":439477509,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ3NzUwOQ==","user":{"login":"QubitPi","id":16126939,"node_id":"MDQ6VXNlcjE2MTI2OTM5","avatar_url":"https://avatars.githubusercontent.com/u/16126939?v=4","gravatar_id":"","url":"https://api.github.com/users/QubitPi","html_url":"https://github.com/QubitPi","followers_url":"https://api.github.com/users/QubitPi/followers","following_url":"https://api.github.com/users/QubitPi/following{/other_user}","gists_url":"https://api.github.com/users/QubitPi/gists{/gist_id}","starred_url":"https://api.github.com/users/QubitPi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QubitPi/subscriptions","organizations_url":"https://api.github.com/users/QubitPi/orgs","repos_url":"https://api.github.com/users/QubitPi/repos","events_url":"https://api.github.com/users/QubitPi/events{/privacy}","received_events_url":"https://api.github.com/users/QubitPi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T18:05:50Z","updated_at":"2018-11-16T18:07:32Z","author_association":"CONTRIBUTOR","body":"Thank you very much, @nishantmonu51 !\r\n\r\nSo we just added \r\n\r\n```java\r\nJsonConfigProvider.bind(binder, CONFIG_BASE, PayPalCreditCardProcessor.class, PayPal.class);\r\n\r\nbinder.bind(CreditCardProcessor.class)\r\n                .annotatedWith(PayPal.class)\r\n                .to(PayPalCreditCardProcessor.class);\r\n```\r\n\r\nThis gives us a runtime error on historical:\r\n\r\n```\r\nCould not find a suitable constructor in java.lang.String.\r\nClasses must have either one (and only one) constructor annotated with @Inject or a zero-argument constructor that is not private.\r\n```\r\n\r\nThis error appears to me that Guice is asking for an instance binding on `cardNumber`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439477509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439478467","html_url":"https://github.com/apache/druid/pull/6633#issuecomment-439478467","issue_url":"https://api.github.com/repos/apache/druid/issues/6633","id":439478467,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ3ODQ2Nw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T18:09:19Z","updated_at":"2018-11-16T18:09:19Z","author_association":"MEMBER","body":"I think figuring whether to use a bitmap index or not, would be bit too much for the clients sending the queries for making an optimal decision on.  \r\n\r\nInstead of this, how about adding a config for cardinality threshold in bloom filter for using the bitmap index and we only use bitmaps for columns with cardinality below the configured threshold.  \r\n\r\nAdditionally, for more flexibility, we can make this threshold overridable via query context. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439478467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439480528","html_url":"https://github.com/apache/druid/issues/6634#issuecomment-439480528","issue_url":"https://api.github.com/repos/apache/druid/issues/6634","id":439480528,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ4MDUyOA==","user":{"login":"QubitPi","id":16126939,"node_id":"MDQ6VXNlcjE2MTI2OTM5","avatar_url":"https://avatars.githubusercontent.com/u/16126939?v=4","gravatar_id":"","url":"https://api.github.com/users/QubitPi","html_url":"https://github.com/QubitPi","followers_url":"https://api.github.com/users/QubitPi/followers","following_url":"https://api.github.com/users/QubitPi/following{/other_user}","gists_url":"https://api.github.com/users/QubitPi/gists{/gist_id}","starred_url":"https://api.github.com/users/QubitPi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QubitPi/subscriptions","organizations_url":"https://api.github.com/users/QubitPi/orgs","repos_url":"https://api.github.com/users/QubitPi/repos","events_url":"https://api.github.com/users/QubitPi/events{/privacy}","received_events_url":"https://api.github.com/users/QubitPi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T18:17:12Z","updated_at":"2018-11-16T18:17:27Z","author_association":"CONTRIBUTOR","body":"Update:\r\n\r\nIf we remove\r\n\r\n```java\r\nbinder.bind(CreditCardProcessor.class)\r\n                .annotatedWith(PayPal.class)\r\n                .to(PayPalCreditCardProcessor.class);\r\n```\r\n\r\nThe error becomes\r\n\r\n```\r\nNo implementation for CreditCardProcessor annotated with @PayPal() was bound.\r\n  while locating CreditCardProcessor annotated with @PayPay()\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439480528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439485419","html_url":"https://github.com/apache/druid/pull/6633#issuecomment-439485419","issue_url":"https://api.github.com/repos/apache/druid/issues/6633","id":439485419,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTQ4NTQxOQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T18:34:51Z","updated_at":"2018-11-16T18:35:08Z","author_association":"MEMBER","body":"I agree that there should be a threshold rather than flag. However global config doesn't make a lot of sense. There should be a heuristic (in the future the heuristic could be aided with constantly sized info written in the segment format), overridable through a query context.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439485419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439512719","html_url":"https://github.com/apache/druid/issues/6442#issuecomment-439512719","issue_url":"https://api.github.com/repos/apache/druid/issues/6442","id":439512719,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTUxMjcxOQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T20:10:19Z","updated_at":"2018-11-16T20:10:19Z","author_association":"CONTRIBUTOR","body":"@glasser Just to close the loop here - RC2 has now been published along with the proposed Maven artifacts. The artifacts are in a staging directory on Apache Nexus and will be promoted for release once that vote is approved. You can view them here: https://repository.apache.org/content/repositories/orgapachedruid-1000/","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439512719/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439528523","html_url":"https://github.com/apache/druid/issues/6634#issuecomment-439528523","issue_url":"https://api.github.com/repos/apache/druid/issues/6634","id":439528523,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTUyODUyMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T21:11:26Z","updated_at":"2018-11-16T21:11:26Z","author_association":"CONTRIBUTOR","body":"Does your \"Foo\" class need to be injected somewhere by Guice (usually this means it's going to be created at startup)?\r\n\r\nIf so, then Guice doesn't understand Jackson annotations. You could either modify PayPalCreditCardProcessor to use Guice annotations (`@Inject`, etc) and add bindings for it, or, keep the Jackson annotations but use @nishantmonu51's suggestion of the JsonConfigProvider bridge. However, that bridge has some specific requirements.\r\n\r\n- The constructor must be empty, or something Guice can understand (i.e. uses Guice-bound inputs, not Jackson style inputs).\r\n- Stuff that you want Jackson to set should be class fields annotated with `@JsonProperty`.\r\n\r\nCheck out the other examples of JsonConfigProvider for some examples of how to set up the classes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439528523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439553699","html_url":"https://github.com/apache/druid/pull/6639#issuecomment-439553699","issue_url":"https://api.github.com/repos/apache/druid/issues/6639","id":439553699,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTU1MzY5OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T22:53:43Z","updated_at":"2018-11-16T22:53:43Z","author_association":"CONTRIBUTOR","body":"@jsun98 thanks for finding! It was supposed to be `orElseGet()` instead of `orElse()`. This patch also looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439553699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439558715","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-439558715","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":439558715,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTU1ODcxNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T23:22:09Z","updated_at":"2018-11-16T23:22:09Z","author_association":"CONTRIBUTOR","body":"@Guadrado sorry for delayed review. The latest change looks good to me. Would you please fix the conflict?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439558715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]