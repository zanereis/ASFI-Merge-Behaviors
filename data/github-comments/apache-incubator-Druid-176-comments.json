[{"url":"https://api.github.com/repos/apache/druid/issues/comments/364473617","html_url":"https://github.com/apache/druid/pull/5276#issuecomment-364473617","issue_url":"https://api.github.com/repos/apache/druid/issues/5276","id":364473617,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDQ3MzYxNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T15:55:10Z","updated_at":"2018-02-09T15:55:10Z","author_association":"MEMBER","body":"@b-slim please register on https://teamcity.jetbrains.com and then tell me your handle","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364473617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364478020","html_url":"https://github.com/apache/druid/pull/5276#issuecomment-364478020","issue_url":"https://api.github.com/repos/apache/druid/issues/5276","id":364478020,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDQ3ODAyMA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T16:09:58Z","updated_at":"2018-02-09T16:09:58Z","author_association":"CONTRIBUTOR","body":"@leventov thanks am logged via my Github account id (b-slim) is that enough? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364478020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364523704","html_url":"https://github.com/apache/druid/pull/5369#issuecomment-364523704","issue_url":"https://api.github.com/repos/apache/druid/issues/5369","id":364523704,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDUyMzcwNA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T18:51:05Z","updated_at":"2018-02-09T18:51:05Z","author_association":"MEMBER","body":"have not reviewed the code changes yet,\r\ndoes this feature also allows users to proxy coordinator/overlord console UI too ? \r\nAny plans to support that too if not already supported ? \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364523704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364529780","html_url":"https://github.com/apache/druid/pull/5369#issuecomment-364529780","issue_url":"https://api.github.com/repos/apache/druid/issues/5369","id":364529780,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDUyOTc4MA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T19:09:03Z","updated_at":"2018-02-09T19:09:03Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 interesting, I didn't consider that and I'm fairly sure it won't work right now. We can consider adding support for this if it's a requested feature, but I think it makes sense to implement that in a different PR since it'll be pretty different from forwarding API calls (the router may need to serve the js/css/img resources files, it may need to rewrite the URLs in the HTML, etc.)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364529780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364535674","html_url":"https://github.com/apache/druid/pull/5297#issuecomment-364535674","issue_url":"https://api.github.com/repos/apache/druid/issues/5297","id":364535674,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDUzNTY3NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T19:26:17Z","updated_at":"2018-02-09T19:26:17Z","author_association":"CONTRIBUTOR","body":"@himanshug I tested the backward compatibility by stopping/restarting MM and checking the running tasks were restored properly. It looks working well.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364535674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364544700","html_url":"https://github.com/apache/druid/issues/1926#issuecomment-364544700","issue_url":"https://api.github.com/repos/apache/druid/issues/1926","id":364544700,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDU0NDcwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T19:52:32Z","updated_at":"2018-02-09T19:52:32Z","author_association":"CONTRIBUTOR","body":"Fwiw when you group by `FLOOR(__time TO X)` then Druid SQL will run a query similar to @vogievetsky's suggested workaround. The reason is because that's more like what SQL semantics would expect.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364544700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364551477","html_url":"https://github.com/apache/druid/pull/5276#issuecomment-364551477","issue_url":"https://api.github.com/repos/apache/druid/issues/5276","id":364551477,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDU1MTQ3Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T20:13:32Z","updated_at":"2018-02-09T20:13:32Z","author_association":"MEMBER","body":"@b-slim yes. You should be now able to click the \"Run\" button on the build page, it restarts the build. Please try.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364551477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364560487","html_url":"https://github.com/apache/druid/pull/5374#issuecomment-364560487","issue_url":"https://api.github.com/repos/apache/druid/issues/5374","id":364560487,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDU2MDQ4Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T20:44:05Z","updated_at":"2018-02-09T20:44:21Z","author_association":"CONTRIBUTOR","body":"@drcrallen I tried a test with adding an uncaught exception handler at the start of IndexTask.run() and throwing exceptions in AppenderatorDriver.add() and persist(), it doesn't seem to help with logging the first exception thrown in add():\r\n\r\ntest code here: https://github.com/druid-io/druid/commit/1189a4648fb1cdbc50ac8f74e0af283483911c15\r\n\r\n```\r\n2018-02-09T20:10:55,246 INFO [task-runner-0-priority-0] io.druid.segment.realtime.appenderator.AppenderatorImpl - Loading sinks from[var/druid/task/index_wikiticker_2018-02-09T20:10:49.440Z/work/persist]: []\r\n2018-02-09T20:10:55,247 INFO [task-runner-0-priority-0] io.druid.segment.realtime.appenderator.AppenderatorDriver - Restored metadata[null].\r\n2018-02-09T20:10:55,276 INFO [task-runner-0-priority-0] io.druid.segment.realtime.appenderator.AppenderatorDriver - About to throw exception A\r\n2018-02-09T20:10:55,279 INFO [task-runner-0-priority-0] io.druid.segment.realtime.appenderator.AppenderatorDriver - About to throw exception B\r\n2018-02-09T20:10:55,280 INFO [task-runner-0-priority-0] io.druid.segment.realtime.appenderator.AppenderatorImpl - Shutting down...\r\n2018-02-09T20:10:55,284 ERROR [task-runner-0-priority-0] io.druid.indexing.overlord.ThreadPoolTaskRunner - Exception while running task[IndexTask{id=index_wikiticker_2018-02-09T20:10:49.440Z, type=index, dataSource=wikiticker}]\r\njava.lang.RuntimeException: Test exception B\r\n\tat io.druid.segment.realtime.appenderator.AppenderatorDriver.persist(AppenderatorDriver.java:335) ~[druid-server-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.common.task.IndexTask.generateAndPublishSegments(IndexTask.java:750) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.common.task.IndexTask.run(IndexTask.java:279) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:450) [druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:422) [druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_144]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_144]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_144]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_144]\r\n2018-02-09T20:10:55,289 INFO [task-runner-0-priority-0] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_wikiticker_2018-02-09T20:10:49.440Z] status changed to [FAILED].\r\n2018-02-09T20:10:55,292 INFO [task-runner-0-priority-0] io.druid.indexing.worker.executor.ExecutorLifecycle - Task completed with status: {\r\n  \"id\" : \"index_wikiticker_2018-02-09T20:10:49.440Z\",\r\n  \"status\" : \"FAILED\",\r\n  \"duration\" : 379\r\n}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364560487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364588579","html_url":"https://github.com/apache/druid/pull/5376#issuecomment-364588579","issue_url":"https://api.github.com/repos/apache/druid/issues/5376","id":364588579,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDU4ODU3OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T22:32:13Z","updated_at":"2018-02-09T22:32:13Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch!\r\n\r\nCan you please sign the CLA (http://druid.io/community/cla.html)?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364588579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364590564","html_url":"https://github.com/apache/druid/pull/3091#issuecomment-364590564","issue_url":"https://api.github.com/repos/apache/druid/issues/3091","id":364590564,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDU5MDU2NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T22:42:18Z","updated_at":"2018-02-09T22:42:18Z","author_association":"CONTRIBUTOR","body":"Hi @SpyderRivera, yes I think this PR is defunct, however some of the functionality contemplated by it is available with the expression subsystem (https://github.com/druid-io/druid/blob/master/docs/content/misc/math-expr.md). For example you can do a lookup of a concat of two columns. So I think that is the direction we are going instead.\r\n\r\nNote: the expression subsystem, as of this writing, isn't fully documented or optimized yet (the perf overhead is higher than it really should be). But it does work!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364590564/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364616242","html_url":"https://github.com/apache/druid/issues/4645#issuecomment-364616242","issue_url":"https://api.github.com/repos/apache/druid/issues/4645","id":364616242,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDYxNjI0Mg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-10T01:49:53Z","updated_at":"2018-02-10T01:49:53Z","author_association":"CONTRIBUTOR","body":"@gianm  and @vvc11 can we add a list of exclusion that by defaults includes the sensible information like metadata passwords and AWS key if any. This should be straightforward. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364616242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364616417","html_url":"https://github.com/apache/druid/pull/5276#issuecomment-364616417","issue_url":"https://api.github.com/repos/apache/druid/issues/5276","id":364616417,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDYxNjQxNw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-10T01:52:21Z","updated_at":"2018-02-10T01:52:21Z","author_association":"CONTRIBUTOR","body":"@vvc11 after giving this I second thought I think is better to filter out sensitive properties like passwords. You can add a List of blacklisted properties prefixes that by default it contains metadata storage password prefix. Then use can change the list as needed via configs. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364616417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364635693","html_url":"https://github.com/apache/druid/issues/5338#issuecomment-364635693","issue_url":"https://api.github.com/repos/apache/druid/issues/5338","id":364635693,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDYzNTY5Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-10T08:27:16Z","updated_at":"2018-02-10T08:27:16Z","author_association":"MEMBER","body":"@pjain1 \"s\" thread must complete `onSealExclusive()` successfully, but for some reason it didn't do this. Please continue to debug this by adding logging in `onSealExclusive()`, and also in the \"s\" thread, wrap the while loop with try-catch (Throwable), to print anything that might be thrown from there (I suspect IllegalStateException)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364635693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364653248","html_url":"https://github.com/apache/druid/pull/5303#issuecomment-364653248","issue_url":"https://api.github.com/repos/apache/druid/issues/5303","id":364653248,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDY1MzI0OA==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-10T13:23:43Z","updated_at":"2018-02-10T13:23:43Z","author_association":"MEMBER","body":"@jon-wei Sorry, I deleted the branch by accident. I will open a new one.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364653248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364692834","html_url":"https://github.com/apache/druid/pull/5379#issuecomment-364692834","issue_url":"https://api.github.com/repos/apache/druid/issues/5379","id":364692834,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDY5MjgzNA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-10T21:13:30Z","updated_at":"2018-02-10T21:13:30Z","author_association":"CONTRIBUTOR","body":"@leventov thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364692834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364729533","html_url":"https://github.com/apache/druid/issues/5375#issuecomment-364729533","issue_url":"https://api.github.com/repos/apache/druid/issues/5375","id":364729533,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDcyOTUzMw==","user":{"login":"licl2014","id":6941514,"node_id":"MDQ6VXNlcjY5NDE1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6941514?v=4","gravatar_id":"","url":"https://api.github.com/users/licl2014","html_url":"https://github.com/licl2014","followers_url":"https://api.github.com/users/licl2014/followers","following_url":"https://api.github.com/users/licl2014/following{/other_user}","gists_url":"https://api.github.com/users/licl2014/gists{/gist_id}","starred_url":"https://api.github.com/users/licl2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/licl2014/subscriptions","organizations_url":"https://api.github.com/users/licl2014/orgs","repos_url":"https://api.github.com/users/licl2014/repos","events_url":"https://api.github.com/users/licl2014/events{/privacy}","received_events_url":"https://api.github.com/users/licl2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-11T07:26:40Z","updated_at":"2018-02-11T07:26:40Z","author_association":"CONTRIBUTOR","body":"i think this problem has happened because your overlord has a disk which can not be accessed or writed, you can check your `tmp dir ` in overlord configuration file . ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364729533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364729742","html_url":"https://github.com/apache/druid/issues/5381#issuecomment-364729742","issue_url":"https://api.github.com/repos/apache/druid/issues/5381","id":364729742,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDcyOTc0Mg==","user":{"login":"licl2014","id":6941514,"node_id":"MDQ6VXNlcjY5NDE1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6941514?v=4","gravatar_id":"","url":"https://api.github.com/users/licl2014","html_url":"https://github.com/licl2014","followers_url":"https://api.github.com/users/licl2014/followers","following_url":"https://api.github.com/users/licl2014/following{/other_user}","gists_url":"https://api.github.com/users/licl2014/gists{/gist_id}","starred_url":"https://api.github.com/users/licl2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/licl2014/subscriptions","organizations_url":"https://api.github.com/users/licl2014/orgs","repos_url":"https://api.github.com/users/licl2014/repos","events_url":"https://api.github.com/users/licl2014/events{/privacy}","received_events_url":"https://api.github.com/users/licl2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-11T07:30:31Z","updated_at":"2018-02-11T07:30:31Z","author_association":"CONTRIBUTOR","body":"my druid version is 0.9.2","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364729742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364733982","html_url":"https://github.com/apache/druid/issues/5343#issuecomment-364733982","issue_url":"https://api.github.com/repos/apache/druid/issues/5343","id":364733982,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDczMzk4Mg==","user":{"login":"erankor","id":4777488,"node_id":"MDQ6VXNlcjQ3Nzc0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4777488?v=4","gravatar_id":"","url":"https://api.github.com/users/erankor","html_url":"https://github.com/erankor","followers_url":"https://api.github.com/users/erankor/followers","following_url":"https://api.github.com/users/erankor/following{/other_user}","gists_url":"https://api.github.com/users/erankor/gists{/gist_id}","starred_url":"https://api.github.com/users/erankor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erankor/subscriptions","organizations_url":"https://api.github.com/users/erankor/orgs","repos_url":"https://api.github.com/users/erankor/repos","events_url":"https://api.github.com/users/erankor/events{/privacy}","received_events_url":"https://api.github.com/users/erankor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-11T08:38:35Z","updated_at":"2018-02-11T08:38:35Z","author_association":"NONE","body":"@pjain1, got a few more failed tasks, I'm not sure if it's exactly the same as the first one, but I'm seeing these warnings/errors on the overlord - \r\n```\r\n2018-02-09T15:00:23,603 WARN [qtp1120043781-71] io.druid.java.util.common.RetryUtils - Failed on try 4, retrying in 8,149ms.\r\norg.skife.jdbi.v2.exceptions.CallbackFailedException: org.skife.jdbi.v2.exceptions.UnableToExecuteStatementException: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'player-events-realtime_2018-02-09T15:00:00.000Z_2018-02-09T16:00' for key 'PRIMARY' [statement:\"INSERT INTO druid_pendingSegments (id, dataSource, created_date, start, `end`, sequence_name, sequence_prev_id, sequence_name_prev_id_sha1, payload) VALUES (:id, :dataSource, :created_date, :start, :end, :sequence_name, :sequence_prev_id, :sequence_name_prev_id_sha1, :payload)\", located:\"INSERT INTO druid_pendingSegments (id, dataSource, created_date, start, `end`, sequence_name, sequence_prev_id, sequence_name_prev_id_sha1, payload) VALUES (:id, :dataSource, :created_date, :start, :end, :sequence_name, :sequence_prev_id, :sequence_name_prev_id_sha1, :payload)\", rewritten:\"INSERT INTO druid_pendingSegments (id, dataSource, created_date, start, `end`, sequence_name, sequence_prev_id, sequence_name_prev_id_sha1, payload) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\", arguments:{ positional:{}, named:{sequence_prev_id:'player-events-realtime_2018-02-09T14:00:00.000Z_2018-02-09T15:00:00.000Z_2018-02-09T13:59:55.530Z_48',payload:[123, 34, 100, 97, 116, 97, 83, 111, 117, 114, 99, 101, 34, 58, 34, 112, 108, 97, 121, 101, 114, 45, 101, 118, 101, 110, 116, 115, 45, 114, 101, 97, 108, 116, 105, 109, 101, 34, 44, 34, 105, 110, 116, 101, 114, 118, 97, 108, 34, 58, 34, 50, 48, 49, 56, 45, 48, 50, 45, 48, 57, 84, 49, 53, 58, 48, 48, 58, 48, 48, 46, 48, 48, 48, 90, 47, 50, 48, 49, 56, 45, 48, 50, 45, 48, 57, 84, 49, 54, 58, 48, 48, 58, 48, 48, 46, 48, 48, 48, 90, 34, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 50, 48, 49, 56, 45, 48, 50, 45, 48, 57, 84, 49, 52, 58, 53, 57, 58, 53, 54, 46, 51, 50, 56, 90, 34, 44, 34, 115, 104, 97, 114, 100, 83, 112, 101, 99, 34, 58, 123, 34, 116, 121, 112, 101, 34, 58, 34, 110, 117, 109, 98, 101, 114, 101, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 78, 117, 109, 34, 58, 52, 4\r\n4, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 115, 34, 58, 48, 125, 125],start:'2018-02-09T15:00:00.000Z',end:'2018-02-09T16:00:00.000Z',id:'player-events-realtime_2018-02-09T15:00:00.000Z_2018-02-09T16:00:00.000Z_2018-02-09T14:59:56.328Z_4',created_date:'2018-02-09T15:00:23.596Z',dataSource:'player-events-realtime',sequence_name:'index_kafka_player-events-realtime_440403813632ad2_4',sequence_name_prev_id_sha1:'EBB6811BF3BF43A785EF99106E7B3AA1DE272AA9'}, finder:[]}]\r\n2018-02-09T15:01:07,983 ERROR [KafkaIndexTaskClient-player-events-historical-0] io.druid.indexing.kafka.KafkaIndexTaskClient - Task [index_kafka_player-events-historical_230f6eabcaa661a_gogiiikl] failed to pause, aborting\r\n2018-02-09T15:01:07,984 WARN \r\n[KafkaSupervisor-player-events-historical-Worker-3] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Task [index_kafka_player-events-historical_230f6eabcaa661a_gogiiikl] failed to respond to [pause] in a timely manner, killing task\r\n```\r\nLooks like the integrity constraint violation happens quite often, don't know if this is expected - \r\n```\r\n$ journalctl -u druid_* -S -864000  | grep UnableToExecuteStatementException | grep 'Duplicate entry' | awk '{print $1\" \"$2\" \"$3}' | uniq -c\r\n      2 Feb 11 03:00:32\r\n      2 Feb 11 03:00:35\r\n      2 Feb 11 03:00:38\r\n      2 Feb 11 03:00:47\r\n      2 Feb 11 03:00:59\r\n      2 Feb 11 04:00:23\r\n      3 Feb 11 04:00:24\r\n      2 Feb 11 04:00:44\r\n      2 Feb 11 04:00:52\r\n      2 Feb 11 05:00:22\r\n      4 Feb 11 05:00:23\r\n      6 Feb 11 05:00:24\r\n      2 Feb 11 05:00:33\r\n      2 Feb 11 05:00:34\r\n      2 Feb 11 05:00:36\r\n      2 Feb 11 05:00:45\r\n      2 Feb 11 05:00:49\r\n      2 Feb 11 06:00:24\r\n      3 Feb 11 06:00:26\r\n      4 Feb 11 07:00:23\r\n      1 Feb 11 07:00:24\r\n      2 Feb 11 07:00:47\r\n      2 Feb 11 07:00:53\r\n      2 Feb 11 08:00:21\r\n      2 Feb 11 08:00:22\r\n      8 Feb 11 08:00:24\r\n      2 Feb 11 08:00:30\r\n      2 Feb 11 08:00:58\r\n```\r\nFull log - [kafkaIssue.log](https://github.com/druid-io/druid/files/1714186/kafkaIssue.log)\r\n\r\nThanks!\r\n\r\nEran","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364733982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364748876","html_url":"https://github.com/apache/druid/pull/5115#issuecomment-364748876","issue_url":"https://api.github.com/repos/apache/druid/issues/5115","id":364748876,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDc0ODg3Ng==","user":{"login":"zhaown","id":3255910,"node_id":"MDQ6VXNlcjMyNTU5MTA=","avatar_url":"https://avatars.githubusercontent.com/u/3255910?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaown","html_url":"https://github.com/zhaown","followers_url":"https://api.github.com/users/zhaown/followers","following_url":"https://api.github.com/users/zhaown/following{/other_user}","gists_url":"https://api.github.com/users/zhaown/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaown/subscriptions","organizations_url":"https://api.github.com/users/zhaown/orgs","repos_url":"https://api.github.com/users/zhaown/repos","events_url":"https://api.github.com/users/zhaown/events{/privacy}","received_events_url":"https://api.github.com/users/zhaown/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-11T12:43:01Z","updated_at":"2018-02-11T12:43:01Z","author_association":"CONTRIBUTOR","body":"@Igosuki I think it should work if you set `fromPigAvroStorage` to false which is default, how did you get hit by this issue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364748876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364749892","html_url":"https://github.com/apache/druid/pull/5115#issuecomment-364749892","issue_url":"https://api.github.com/repos/apache/druid/issues/5115","id":364749892,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDc0OTg5Mg==","user":{"login":"Igosuki","id":406150,"node_id":"MDQ6VXNlcjQwNjE1MA==","avatar_url":"https://avatars.githubusercontent.com/u/406150?v=4","gravatar_id":"","url":"https://api.github.com/users/Igosuki","html_url":"https://github.com/Igosuki","followers_url":"https://api.github.com/users/Igosuki/followers","following_url":"https://api.github.com/users/Igosuki/following{/other_user}","gists_url":"https://api.github.com/users/Igosuki/gists{/gist_id}","starred_url":"https://api.github.com/users/Igosuki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Igosuki/subscriptions","organizations_url":"https://api.github.com/users/Igosuki/orgs","repos_url":"https://api.github.com/users/Igosuki/repos","events_url":"https://api.github.com/users/Igosuki/events{/privacy}","received_events_url":"https://api.github.com/users/Igosuki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-11T12:58:49Z","updated_at":"2018-02-11T12:58:49Z","author_association":"CONTRIBUTOR","body":"@zhaown The content of a GenericData.Array may not be a GenericRecord but\njust avro.Utf8 for instance. Furthermore, that is true all the time for\navro generated code (I used 1.8.1 and 1.8.2) so fromPigAvroStorage became a\nuseless clause.\nSpecifically, this occurred when when deserializing Avro binary data\nserialized as specific records, sent over to the http firehose by\ntranquility.\n\nOn Sun, Feb 11, 2018, 1:43 PM zhaown <notifications@github.com> wrote:\n\n> @Igosuki <https://github.com/igosuki> I think it should work if you set\n> fromPigAvroStorage to false which is default, how did you get hit by this\n> issue?\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/druid-io/druid/pull/5115#issuecomment-364748876>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AAYyhhtCskn6OnSJNi2W4OeO3_9xb3qJks5tTuBigaJpZM4QogZW>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364749892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364772354","html_url":"https://github.com/apache/druid/pull/5380#issuecomment-364772354","issue_url":"https://api.github.com/repos/apache/druid/issues/5380","id":364772354,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDc3MjM1NA==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-11T17:59:51Z","updated_at":"2018-02-11T17:59:51Z","author_association":"MEMBER","body":"The travis-ci build failed, but it's not due to my commits. @jon-wei Can you help restart the failed job.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364772354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364782239","html_url":"https://github.com/apache/druid/pull/5276#issuecomment-364782239","issue_url":"https://api.github.com/repos/apache/druid/issues/5276","id":364782239,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDc4MjIzOQ==","user":{"login":"vvc11","id":6641529,"node_id":"MDQ6VXNlcjY2NDE1Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/6641529?v=4","gravatar_id":"","url":"https://api.github.com/users/vvc11","html_url":"https://github.com/vvc11","followers_url":"https://api.github.com/users/vvc11/followers","following_url":"https://api.github.com/users/vvc11/following{/other_user}","gists_url":"https://api.github.com/users/vvc11/gists{/gist_id}","starred_url":"https://api.github.com/users/vvc11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvc11/subscriptions","organizations_url":"https://api.github.com/users/vvc11/orgs","repos_url":"https://api.github.com/users/vvc11/repos","events_url":"https://api.github.com/users/vvc11/events{/privacy}","received_events_url":"https://api.github.com/users/vvc11/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-11T19:54:31Z","updated_at":"2018-02-11T19:54:31Z","author_association":"CONTRIBUTOR","body":"@b-slim , yes, it makes sense to hide sensitive properties. I'm assuming that by making them configurable you mean those values will be stored in a properties file and not be an HTTP endpoint. So my current change freezes these properties at deploy time and not makes them configurable in runtime.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364782239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364884744","html_url":"https://github.com/apache/druid/pull/5376#issuecomment-364884744","issue_url":"https://api.github.com/repos/apache/druid/issues/5376","id":364884744,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDg4NDc0NA==","user":{"login":"Scorpil","id":157797,"node_id":"MDQ6VXNlcjE1Nzc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/157797?v=4","gravatar_id":"","url":"https://api.github.com/users/Scorpil","html_url":"https://github.com/Scorpil","followers_url":"https://api.github.com/users/Scorpil/followers","following_url":"https://api.github.com/users/Scorpil/following{/other_user}","gists_url":"https://api.github.com/users/Scorpil/gists{/gist_id}","starred_url":"https://api.github.com/users/Scorpil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Scorpil/subscriptions","organizations_url":"https://api.github.com/users/Scorpil/orgs","repos_url":"https://api.github.com/users/Scorpil/repos","events_url":"https://api.github.com/users/Scorpil/events{/privacy}","received_events_url":"https://api.github.com/users/Scorpil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T10:36:50Z","updated_at":"2018-02-12T10:36:50Z","author_association":"CONTRIBUTOR","body":"@jon-wei done.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364884744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/364935438","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-364935438","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":364935438,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDkzNTQzOA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T14:19:24Z","updated_at":"2018-02-12T14:19:24Z","author_association":"MEMBER","body":"@nishantmonu51 could you please review this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/364935438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365044548","html_url":"https://github.com/apache/druid/issues/5378#issuecomment-365044548","issue_url":"https://api.github.com/repos/apache/druid/issues/5378","id":365044548,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA0NDU0OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T20:02:33Z","updated_at":"2018-02-12T20:02:33Z","author_association":"CONTRIBUTOR","body":"> IMO, it looks to make sense to compare metrics as well as dimensions before timestamp if sortByDimsFirst is set to true, because sortByDimsFirst option is introduced to avoid sorting in each time bucket and thus get the result sorted by columns.\r\n\r\n@jihoonson yes I agree. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365044548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365054582","html_url":"https://github.com/apache/druid/issues/5338#issuecomment-365054582","issue_url":"https://api.github.com/repos/apache/druid/issues/5338","id":365054582,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA1NDU4Mg==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T20:39:49Z","updated_at":"2018-02-12T20:39:49Z","author_association":"MEMBER","body":"After wrapping the while loop in try-catch I found that the `acquireBuffer` call in `onSealExclusive` method in `HttpPostEmitter` was throwing `java.lang.OutOfMemoryError: Java heap space` exception and after this the `HttpPostEmitter` will get into situation where it cannot emit anymore and keeps on spinning in while(true) loop in `emitAndReturnBatch` method indefinitely as `concurrentBatch` will never get updated with new batch and the old batch would have been sealed. Here's the stack trace -\r\n\r\n```\r\n2018-02-12T20:29:09,946 INFO [s] com.metamx.emitter.core.Batch - Unlocked and sealed batch [692]\r\n2018-02-12T20:29:09,946 INFO [s] com.metamx.emitter.core.Batch - old state[bufferWatermark=85500, parties=1, isSealed=false]\r\n2018-02-12T20:29:09,946 INFO [s] com.metamx.emitter.core.Batch - new state[bufferWatermark=85500, parties=0, isSealed=true]\r\n2018-02-12T20:29:09,946 INFO [s] com.metamx.emitter.core.HttpPostEmitter - Added batch Batch{batchNumber=692, bufferWatermark=85500, parties=0, isSealed=true} for emitting\r\n2018-02-12T20:29:09,946 INFO [s] com.metamx.emitter.core.HttpPostEmitter - Next batch number is 693\r\n2018-02-12T20:29:10,852 ERROR [s] io.druid.server.coordinator.DruidCoordinator - Error in emit thread\r\njava.lang.OutOfMemoryError: Java heap space\r\n\tat com.metamx.emitter.core.HttpPostEmitter.acquireBuffer(HttpPostEmitter.java:578) ~[emitter-0.6.0-SNAPSHOT.jar:?]\r\n\tat com.metamx.emitter.core.HttpPostEmitter.onSealExclusive(HttpPostEmitter.java:245) ~[emitter-0.6.0-SNAPSHOT.jar:?]\r\n\tat com.metamx.emitter.core.Batch.tryReleaseShared(Batch.java:296) ~[emitter-0.6.0-SNAPSHOT.jar:?]\r\n\tat java.util.concurrent.locks.AbstractQueuedLongSynchronizer.releaseShared(AbstractQueuedLongSynchronizer.java:1119) ~[?:1.8.0_65]\r\n\tat com.metamx.emitter.core.Batch.unlockAndSeal(Batch.java:248) ~[emitter-0.6.0-SNAPSHOT.jar:?]\r\n\tat com.metamx.emitter.core.Batch.unlockAndSealIfNeeded(Batch.java:216) ~[emitter-0.6.0-SNAPSHOT.jar:?]\r\n\tat com.metamx.emitter.core.Batch.tryAddNonFirstEvent(Batch.java:184) ~[emitter-0.6.0-SNAPSHOT.jar:?]\r\n\tat com.metamx.emitter.core.Batch.tryAddEvent(Batch.java:135) ~[emitter-0.6.0-SNAPSHOT.jar:?]\r\n\tat com.metamx.emitter.core.HttpPostEmitter.emitAndReturnBatch(HttpPostEmitter.java:208) ~[emitter-0.6.0-SNAPSHOT.jar:?]\r\n\tat com.metamx.emitter.core.HttpPostEmitter.emit(HttpPostEmitter.java:178) ~[emitter-0.6.0-SNAPSHOT.jar:?]\r\n\tat com.metamx.emitter.service.ServiceEmitter.emit(ServiceEmitter.java:72) ~[emitter-0.6.0-SNAPSHOT.jar:?]\r\n\tat com.metamx.emitter.service.ServiceEmitter.emit(ServiceEmitter.java:77) ~[emitter-0.6.0-SNAPSHOT.jar:?]\r\n\tat io.druid.server.coordinator.DruidCoordinator.lambda$new$2(DruidCoordinator.java:222) [classes/:?]\r\n\tat io.druid.server.coordinator.DruidCoordinator$$Lambda$10/1983283775.run(Unknown Source) [classes/:?]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_65]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_65]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_65]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_65]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_65]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_65]\r\n\tat java.lang.Thread.run(Thread.java:745) [?:1.8.0_65]\r\n2018-02-12T20:29:10,858 INFO [Coordinator-Exec--0] io.druid.server.coordinator.helper.DruidCoordinatorSegmentInfoLoader - Starting coordination. Getting available segments.\r\n2018-02-12T20:29:10,859 INFO [Coordinator-Exec--0] io.druid.server.coordinator.helper.DruidCoordinatorSegmentInfoLoader - Found [0] available segments.\r\njava.lang.OutOfMemoryError: Java heap space\r\n\tat com.metamx.emitter.core.HttpPostEmitter.acquireBuffer(HttpPostEmitter.java:578)\r\n\tat com.metamx.emitter.core.HttpPostEmitter.onSealExclusive(HttpPostEmitter.java:245)\r\n\tat com.metamx.emitter.core.Batch.tryReleaseShared(Batch.java:296)\r\n\tat java.util.concurrent.locks.AbstractQueuedLongSynchronizer.releaseShared(AbstractQueuedLongSynchronizer.java:1119)\r\n\tat com.metamx.emitter.core.Batch.unlockAndSeal(Batch.java:248)\r\n\tat com.metamx.emitter.core.Batch.unlockAndSealIfNeeded(Batch.java:216)\r\n\tat com.metamx.emitter.core.Batch.tryAddNonFirstEvent(Batch.java:184)\r\n\tat com.metamx.emitter.core.Batch.tryAddEvent(Batch.java:135)\r\n\tat com.metamx.emitter.core.HttpPostEmitter.emitAndReturnBatch(HttpPostEmitter.java:208)\r\n\tat com.metamx.emitter.core.HttpPostEmitter.emit(HttpPostEmitter.java:178)\r\n\tat com.metamx.emitter.service.ServiceEmitter.emit(ServiceEmitter.java:72)\r\n\tat com.metamx.emitter.service.ServiceEmitter.emit(ServiceEmitter.java:77)\r\n\tat io.druid.server.coordinator.DruidCoordinator.lambda$new$2(DruidCoordinator.java:222)\r\n\tat io.druid.server.coordinator.DruidCoordinator$$Lambda$10/1983283775.run(Unknown Source)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n2018-02-12T20:29:10,865 WARN [Coordinator-Exec--0] io.druid.server.coordinator.helper.DruidCoordinatorRuleRunner - Uh... I have no servers. Not assigning anything...\r\n2018-02-12T20:29:10,865 INFO [Coordinator-Exec--0] io.druid.server.coordinator.helper.DruidCoordinatorCleanupUnneeded - Found 0 availableSegments, skipping the cleanup of segments from historicals. This is done to prevent a race condition in which the coordinator would drop all segments if it started running cleanup before it finished polling the metadata storage for available segments for the first time.\r\n2018-02-12T20:29:10,875 INFO [Coordinator-Exec--0] com.metamx.emitter.core.HttpPostEmitter - Failed to emit an event in batch [Batch{batchNumber=692, bufferWatermark=85500, parties=0, isSealed=true}]\r\n2018-02-12T20:29:10,875 INFO [Coordinator-Exec--0] com.metamx.emitter.core.HttpPostEmitter - Failed to emit an event in batch [Batch{batchNumber=692, bufferWatermark=85500, parties=0, isSealed=true}]\r\n2018-02-12T20:29:10,875 INFO [Coordinator-Exec--0] com.metamx.emitter.core.HttpPostEmitter - Failed to emit an event in batch [Batch{batchNumber=692, bufferWatermark=85500, parties=0, isSealed=true}]\r\n2018-02-12T20:29:10,875 INFO [Coordinator-Exec--0] com.metamx.emitter.core.HttpPostEmitter - Failed to emit an event in batch [Batch{batchNumber=692, bufferWatermark=85500, parties=0, isSealed=true}]\r\n2018-02-12T20:29:10,875 INFO [Coordinator-Exec--0] com.metamx.emitter.core.HttpPostEmitter - Failed to emit an event in batch [Batch{batchNumber=692, bufferWatermark=85500, parties=0, isSealed=true}]\r\n2018-02-12T20:29:10,875 INFO [Coordinator-Exec--0] com.metamx.emitter.core.HttpPostEmitter - Failed to emit an event in batch [Batch{batchNumber=692, bufferWatermark=85500, parties=0, isSealed=true}]\r\n```\r\n\r\nLooks like because of https://github.com/druid-io/druid/pull/5300 Java heap space problem is not happening in master code, that's why it is not easily reproducible in master. Nonetheless, there is a bug as if any exception happens while creating new batch, `concurrentBatch` will not be updated causing the future emit calls to loop infinitely.\r\n\r\n@leventov ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365054582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365056677","html_url":"https://github.com/apache/druid/issues/5378#issuecomment-365056677","issue_url":"https://api.github.com/repos/apache/druid/issues/5378","id":365056677,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA1NjY3Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T20:47:41Z","updated_at":"2018-02-12T20:47:41Z","author_association":"CONTRIBUTOR","body":"@himanshug thanks. I'll raise a PR to fix this issue shortly.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365056677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365058435","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365058435","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365058435,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA1ODQzNQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T20:54:10Z","updated_at":"2018-02-12T20:54:10Z","author_association":"CONTRIBUTOR","body":"@jihoonson does this means we are dropping support for Hadoop < 2.9.0 ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365058435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365062725","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365062725","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365062725,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA2MjcyNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T21:09:38Z","updated_at":"2018-02-12T21:09:38Z","author_association":"CONTRIBUTOR","body":"@b-slim yes. I tested with 2.7.5, but it didn't work because of the mismatched version of aws-sdk library.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365062725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365063183","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365063183","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365063183,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA2MzE4Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T21:11:08Z","updated_at":"2018-02-12T21:11:08Z","author_association":"CONTRIBUTOR","body":"I added `WIP` label because this PR needs more testing on larger clusters. My tests were done only in my laptop. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365063183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365063571","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365063571","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365063571,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA2MzU3MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T21:12:28Z","updated_at":"2018-02-12T21:12:28Z","author_association":"CONTRIBUTOR","body":"Also, there are some `TODO` notes I left which should be addressed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365063571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365063749","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365063749","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365063749,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA2Mzc0OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T21:13:10Z","updated_at":"2018-02-12T21:13:10Z","author_association":"CONTRIBUTOR","body":"Is it possible to keep the same version of aws-java-sdk as we have now, and do this patch without changing the Hadoop version? Or is there a reason they both need to be upgraded?\r\n\r\nI am just asking because people struggle with upgrades every time we change the Hadoop version, so I was hoping it wouldn't be necessary (I was hoping the next upgrade after 2.7.3 would be to 3.x, sometime in the future after its deployment becomes more widespread).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365063749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365066977","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365066977","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365066977,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA2Njk3Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T21:24:41Z","updated_at":"2018-02-12T21:24:41Z","author_association":"CONTRIBUTOR","body":"@gianm yes, there is a reason. To use aws-java-sdk, we need to match its version to that used by Hadoop as well as other libraries' versions like jackson, httpclient, and so on. (Unfortunately, I lost my note listing the libraries needing version change.) From my testing, 2.9.0 was the oldest working version.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365066977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365072243","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365072243","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365072243,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA3MjI0Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T21:43:15Z","updated_at":"2018-02-12T21:43:15Z","author_association":"CONTRIBUTOR","body":"> @gianm yes, there is a reason. To use aws-java-sdk, we need to match its version to that used by Hadoop as well as other libraries' versions like jackson, httpclient, and so on. (Unfortunately, I lost my note listing the libraries needing version change.) From my testing, 2.9.0 was the oldest working version.\r\n\r\nI don't understand why we need to use aws-java-sdk from Hadoop at all. I thought that when we run Hadoop jobs, we use its FileSystem implementations both for reading (possibly from S3) and writing (to a possibly S3 deep storage) and do not call jets3t directly. Could we solve this by excluding the java sdk from the main classloader when we are running Hadoop jobs, meaning we only load the one provided in `hadoop-dependencies`?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365072243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365073583","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365073583","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365073583,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA3MzU4Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T21:48:04Z","updated_at":"2018-02-12T21:48:04Z","author_association":"CONTRIBUTOR","body":"> I don't understand why we need to use aws-java-sdk from Hadoop at all. \r\n\r\nThis should say: I don't understand why we need to use _Druid's version of_ aws-java-sdk from Hadoop at all. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365073583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365074521","html_url":"https://github.com/apache/druid/issues/5343#issuecomment-365074521","issue_url":"https://api.github.com/repos/apache/druid/issues/5343","id":365074521,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA3NDUyMQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T21:51:03Z","updated_at":"2018-02-12T21:51:03Z","author_association":"MEMBER","body":"I don't think integrity constraint violation is the problem, the problem is `failed to respond to [pause] in a timely manner, killing task`. So, I would check the task logs around this time to figure out why it did not pause, what was the task doing ? Or I would just wait and upgrade druid to 0.12.0 once it is out and see if the problem still persists.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365074521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365078011","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365078011","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365078011,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA3ODAxMQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-12T22:02:56Z","updated_at":"2018-02-12T22:02:56Z","author_association":"CONTRIBUTOR","body":"FYI am all in to move to 3.0 but I really think we should be able to support hadoop 2.7 line (if possible) 2.9 is not really popular and I don't think it will be, the most likely, the users will stick with 2.7 line or do the leap and move to 3.0.  \r\n@jihoonson can you please elaborate around https://github.com/druid-io/druid/pull/5382#issuecomment-365062725 ? what is the test that failed and what kind of dependency is breaking? Thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365078011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365107146","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-365107146","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":365107146,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTEwNzE0Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T00:12:05Z","updated_at":"2018-02-13T00:12:05Z","author_association":"CONTRIBUTOR","body":"> Another reason why this PR doesn't seem so appealing yet, is because the current way of storing data in the incremental index (dims is an array of objects; e. g. double-typed dimension is stored as Double object) doesn't penalize the current way of merging indexes (explained in #4622). I. e. it's just moving Double object from one place to another, no new objects are created.\r\n>\r\n> However, I'm going to replace the current way of storing data in the incremental index as Object[] with some based on ByteBuffers to reduce memory footprint (and finally remove Aggregators, leaving only BufferAggregators that could work in both realtime and historical). When that is done, with the current way of index merging a lot of new objects will need to be created when index merging is started, although no difference for the new index merging structures, presented in this PR.\r\n\r\n@leventov - in this PR you write that it may take several months to complete the series of changes you proposed, but you have also recently written elsewhere that you are \"probably going to stop being involved in [Druid] development soon\". Forgive me for asking, but are you going to be an active contributor long enough to complete this series of contributions and help with follow up? I ask because right now this area of the code is quite stable, and may become less stable as a result of major changes. Improvements are good, but it's always best if the original author is around to fix bugs, help with problems that may arise, comment on why things were done certain ways, and so on.\r\n\r\nFor example one potential bug could be a performance bug -- I have done experiments with replacing all uses of Aggregator with BufferAggregator before, and ran into problems with timeseries queries slowing down and growable aggregators in IncrementalIndex taking more memory than expected (I don't remember the exact details, but IIRC, some aggregator in datasketches has a buffer version that allocates the max upfront but the non-buffer versions can start small). If you are using the same approach I did in those experiments then your approach might run into the same problems. But even if not, that's just one example -- there are other potential bugs that could occur too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365107146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365126739","html_url":"https://github.com/apache/druid/issues/5383#issuecomment-365126739","issue_url":"https://api.github.com/repos/apache/druid/issues/5383","id":365126739,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTEyNjczOQ==","user":{"login":"raravena80","id":7659560,"node_id":"MDQ6VXNlcjc2NTk1NjA=","avatar_url":"https://avatars.githubusercontent.com/u/7659560?v=4","gravatar_id":"","url":"https://api.github.com/users/raravena80","html_url":"https://github.com/raravena80","followers_url":"https://api.github.com/users/raravena80/followers","following_url":"https://api.github.com/users/raravena80/following{/other_user}","gists_url":"https://api.github.com/users/raravena80/gists{/gist_id}","starred_url":"https://api.github.com/users/raravena80/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raravena80/subscriptions","organizations_url":"https://api.github.com/users/raravena80/orgs","repos_url":"https://api.github.com/users/raravena80/repos","events_url":"https://api.github.com/users/raravena80/events{/privacy}","received_events_url":"https://api.github.com/users/raravena80/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T02:00:35Z","updated_at":"2018-02-13T20:01:47Z","author_association":"NONE","body":"Confirmed that we need this somewhere:\r\n\r\n```\r\nthis.amazonEC2Client.setRegion(RegionUtils.getRegion(\"region-id\"));\r\n// For example\r\nthis.amazonEC2Client.setRegion(RegionUtils.getRegion(\"us-west-1\"));\r\n```\r\n\r\nPerhaps in this file, in the constructor:\r\n\r\nhttps://github.com/druid-io/druid/blob/master/indexing-service/src/main/java/io/druid/indexing/overlord/autoscaling/ec2/EC2AutoScaler.java#L68\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365126739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365152085","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365152085","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365152085,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTE1MjA4NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T05:04:12Z","updated_at":"2018-02-13T05:04:12Z","author_association":"CONTRIBUTOR","body":"> I don't understand why we need to use aws-java-sdk from Hadoop at all. I thought that when we run Hadoop jobs, we use its FileSystem implementations both for reading (possibly from S3) and writing (to a possibly S3 deep storage) and do not call jets3t directly.\r\n\r\nYes, this is correct. What I meant is the old implementation of S3AFileSystem uses some deprecated APIs of aws-sdk which are not in the recent versions. This is not just an issue of aws-sdk, but also some other libraries like jackson.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365152085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365154065","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365154065","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365154065,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTE1NDA2NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T05:19:31Z","updated_at":"2018-02-13T05:19:31Z","author_association":"CONTRIBUTOR","body":"@b-slim when I tested with hadoop 2.7.5, I could see the below error.\r\n\r\n```\r\n2018-02-13T05:02:23,061 ERROR [task-runner-0-priority-0] io.druid.indexing.overlord.ThreadPoolTaskRunner - Exception while running task[HadoopIndexTask{id=index_hadoop_lineitem_2018-02-13T05:02:00.954Z, type=index_hadoop, dataSource=lineitem}]\r\njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat com.google.common.base.Throwables.propagate(Throwables.java:160) ~[guava-16.0.1.jar:?]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:222) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.common.task.HadoopIndexTask.run(HadoopIndexTask.java:184) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:450) [druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:422) [druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_161]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:219) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\t... 7 more\r\nCaused by: java.lang.NoSuchMethodError: com.amazonaws.services.s3.transfer.TransferManager.<init>(Lcom/amazonaws/services/s3/AmazonS3;Ljava/util/concurrent/ThreadPoolExecutor;)V\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:287) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2667) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:93) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2701) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2683) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:372) ~[?:?]\r\n\tat org.apache.hadoop.fs.Path.getFileSystem(Path.java:295) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.setInputPaths(FileInputFormat.java:500) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.lib.input.DelegatingInputFormat.getSplits(DelegatingInputFormat.java:110) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.writeNewSplits(JobSubmitter.java:301) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.writeSplits(JobSubmitter.java:318) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:196) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1290) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1287) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_161]\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422) ~[?:1.8.0_161]\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1754) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.Job.submit(Job.java:1287) ~[?:?]\r\n\tat io.druid.indexer.DetermineHashedPartitionsJob.run(DetermineHashedPartitionsJob.java:119) ~[druid-indexing-hadoop-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexer.JobHelper.runJobs(JobHelper.java:362) ~[druid-indexing-hadoop-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexer.HadoopDruidDetermineConfigurationJob.run(HadoopDruidDetermineConfigurationJob.java:91) ~[druid-indexing-hadoop-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.common.task.HadoopIndexTask$HadoopDetermineConfigInnerProcessing.runTask(HadoopIndexTask.java:325) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:219) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\t... 7 more\r\n```\r\n\r\nThis error means that S3AFileSystem of 2.7.5 is using a constructor of TransferManager which is not in the recent version of aws-sdk. So, I added an older version (1.7.4) of aws-sdk to the classpath, and changed the dependency order in the classpath for aws-sdk 1.7.4 to be appeared earlier. This caused another error shown below.\r\n\r\n```\r\nError: class com.fasterxml.jackson.datatype.guava.deser.HostAndPortDeserializer overrides final method deserialize.(Lcom/fasterxml/jackson/core/JsonParser;Lcom/fasterxml/jackson/databind/DeserializationContext;)Ljava/lang/Object;\r\nError: class com.fasterxml.jackson.datatype.guava.deser.HostAndPortDeserializer overrides final method deserialize.(Lcom/fasterxml/jackson/core/JsonParser;Lcom/fasterxml/jackson/databind/DeserializationContext;)Ljava/lang/Object;\r\nContainer killed by the ApplicationMaster.\r\nContainer killed on request. Exit code is 143\r\nContainer exited with a non-zero exit code 143\r\n\r\nError: class com.fasterxml.jackson.datatype.guava.deser.HostAndPortDeserializer overrides final method deserialize.(Lcom/fasterxml/jackson/core/JsonParser;Lcom/fasterxml/jackson/databind/DeserializationContext;)Ljava/lang/Object;\r\nError: class com.fasterxml.jackson.datatype.guava.deser.HostAndPortDeserializer overrides final method deserialize.(Lcom/fasterxml/jackson/core/JsonParser;Lcom/fasterxml/jackson/databind/DeserializationContext;)Ljava/lang/Object;\r\nError: class com.fasterxml.jackson.datatype.guava.deser.HostAndPortDeserializer overrides final method deserialize.(Lcom/fasterxml/jackson/core/JsonParser;Lcom/fasterxml/jackson/databind/DeserializationContext;)Ljava/lang/Object;\r\nError: class com.fasterxml.jackson.datatype.guava.deser.HostAndPortDeserializer overrides final method deserialize.(Lcom/fasterxml/jackson/core/JsonParser;Lcom/fasterxml/jackson/databind/DeserializationContext;)Ljava/lang/Object;\r\nError: class com.fasterxml.jackson.datatype.guava.deser.HostAndPortDeserializer overrides final method deserialize.(Lcom/fasterxml/jackson/core/JsonParser;Lcom/fasterxml/jackson/databind/DeserializationContext;)Ljava/lang/Object;\r\nError: class com.fasterxml.jackson.datatype.guava.deser.HostAndPortDeserializer overrides final method deserialize.(Lcom/fasterxml/jackson/core/JsonParser;Lcom/fasterxml/jackson/databind/DeserializationContext;)Ljava/lang/Object;\r\nError: class com.fasterxml.jackson.datatype.guava.deser.HostAndPortDeserializer overrides final method deserialize.(Lcom/fasterxml/jackson/core/JsonParser;Lcom/fasterxml/jackson/databind/DeserializationContext;)Ljava/lang/Object;\r\n2018-02-12T23:37:31,308 ERROR [task-runner-0-priority-0] io.druid.indexing.overlord.ThreadPoolTaskRunner - Exception while running task[HadoopIndexTask{id=index_hadoop_lineitem_2018-02-12T23:36:37.550Z, type=index_hadoop, dataSource=lineitem}]\r\njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat com.google.common.base.Throwables.propagate(Throwables.java:160) ~[guava-16.0.1.jar:?]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:231) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.common.task.HadoopIndexTask.run(HadoopIndexTask.java:184) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:450) [druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:422) [druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_161]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:228) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\t... 7 more\r\nCaused by: io.druid.java.util.common.ISE: Job[class io.druid.indexer.DetermineHashedPartitionsJob] failed!\r\n\tat io.druid.indexer.JobHelper.runJobs(JobHelper.java:384) ~[druid-indexing-hadoop-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexer.HadoopDruidDetermineConfigurationJob.run(HadoopDruidDetermineConfigurationJob.java:91) ~[druid-indexing-hadoop-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.common.task.HadoopIndexTask$HadoopDetermineConfigInnerProcessing.runTask(HadoopIndexTask.java:325) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:228) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\t... 7 more\r\n```\r\n\r\nThis error came from the mismatched version of Jackson, so I also added an older version of Jackson to the classpath as well and adjusted the order. This causes the below error.\r\n\r\n```\r\n2018-02-12T23:56:18,757 ERROR [task-runner-0-priority-0] io.druid.indexing.overlord.ThreadPoolTaskRunner - Exception while running task[HadoopIndexTask{id=index_hadoop_lineitem_2018-02-12T23:56:12.573Z, type=index_hadoop, dataSource=lineitem}]\r\njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat com.google.common.base.Throwables.propagate(Throwables.java:160) ~[guava-16.0.1.jar:?]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:231) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.common.task.HadoopIndexTask.run(HadoopIndexTask.java:184) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:450) [druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:422) [druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_161]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:228) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\t... 7 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat io.druid.indexing.common.task.HadoopIndexTask$HadoopDetermineConfigInnerProcessing.runTask(HadoopIndexTask.java:311) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:228) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\t... 7 more\r\nCaused by: com.google.inject.CreationException: Unable to create injector, see the following errors:\r\n\r\n1) Error in custom provider, java.lang.VerifyError: Cannot inherit from final class\r\n  at io.druid.jackson.JacksonModule.jsonMapper(JacksonModule.java:46)\r\n  at io.druid.jackson.JacksonModule.jsonMapper(JacksonModule.java:46)\r\n  while locating com.fasterxml.jackson.databind.ObjectMapper annotated with interface io.druid.guice.annotations.Json\r\n  while locating com.fasterxml.jackson.databind.ObjectMapper\r\n    for the 1st parameter of io.druid.guice.JsonConfigurator.<init>(JsonConfigurator.java:67)\r\n  at io.druid.guice.ConfigModule.configure(ConfigModule.java:40)\r\n  while locating io.druid.guice.JsonConfigurator\r\n    for the 2nd parameter of io.druid.guice.JsonConfigProvider.inject(JsonConfigProvider.java:188)\r\n  at io.druid.guice.JsonConfigProvider.bind(JsonConfigProvider.java:133)\r\n\r\n2) Error in custom provider, java.lang.VerifyError: Cannot inherit from final class\r\n  at io.druid.jackson.JacksonModule.jsonMapper(JacksonModule.java:46)\r\n  at io.druid.jackson.JacksonModule.jsonMapper(JacksonModule.java:46)\r\n  while locating com.fasterxml.jackson.databind.ObjectMapper annotated with interface io.druid.guice.annotations.Json\r\n  while locating com.fasterxml.jackson.databind.ObjectMapper\r\n    for the 1st parameter of io.druid.guice.JsonConfigurator.<init>(JsonConfigurator.java:67)\r\n  at io.druid.guice.ConfigModule.configure(ConfigModule.java:40)\r\n  while locating io.druid.guice.JsonConfigurator\r\n    for the 2nd parameter of io.druid.guice.JsonConfigProvider.inject(JsonConfigProvider.java:188)\r\n  at io.druid.guice.JsonConfigProvider.bind(JsonConfigProvider.java:133)\r\n\r\n2 errors\r\n\tat com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Errors.java:470) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:176) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:110) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.Guice.createInjector(Guice.java:99) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.Guice.createInjector(Guice.java:73) ~[guice-4.1.0.jar:?]\r\n\tat io.druid.guice.GuiceInjectors.makeStartupInjector(GuiceInjectors.java:60) ~[druid-processing-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexer.HadoopDruidIndexerConfig.<clinit>(HadoopDruidIndexerConfig.java:106) ~[druid-indexing-hadoop-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.common.task.HadoopIndexTask$HadoopDetermineConfigInnerProcessing.runTask(HadoopIndexTask.java:311) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:228) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\t... 7 more\r\nCaused by: java.lang.VerifyError: Cannot inherit from final class\r\n\tat java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_161]\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[?:1.8.0_161]\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.8.0_161]\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467) ~[?:1.8.0_161]\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:73) ~[?:1.8.0_161]\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:368) ~[?:1.8.0_161]\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:362) ~[?:1.8.0_161]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_161]\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:361) ~[?:1.8.0_161]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_161]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_161]\r\n\tat com.fasterxml.jackson.datatype.guava.GuavaModule.setupModule(GuavaModule.java:55) ~[jackson-datatype-guava-2.8.10.jar:2.8.10]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.registerModule(ObjectMapper.java:524) ~[jackson-databind-2.8.10.jar:2.8.10]\r\n\tat io.druid.jackson.DefaultObjectMapper.<init>(DefaultObjectMapper.java:47) ~[druid-processing-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.jackson.DefaultObjectMapper.<init>(DefaultObjectMapper.java:35) ~[druid-processing-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.jackson.JacksonModule.jsonMapper(JacksonModule.java:46) ~[druid-processing-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.jackson.JacksonModule$$FastClassByGuice$$fa1bdb70.invoke(<generated>) ~[druid-processing-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat com.google.inject.internal.ProviderMethod$FastClassProviderMethod.doProvision(ProviderMethod.java:264) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.ProviderMethod$Factory.provision(ProviderMethod.java:401) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.ProviderMethod$Factory.get(ProviderMethod.java:376) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:194) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:56) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:110) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:90) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:268) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:194) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.SingleMethodInjector.inject(SingleMethodInjector.java:82) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.MembersInjectorImpl$1.call(MembersInjectorImpl.java:93) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.MembersInjectorImpl$1.call(MembersInjectorImpl.java:80) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1085) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.MembersInjectorImpl.injectAndNotify(MembersInjectorImpl.java:80) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.Initializer$InjectableReference.get(Initializer.java:223) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.Initializer.injectAll(Initializer.java:132) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:174) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:110) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.Guice.createInjector(Guice.java:99) ~[guice-4.1.0.jar:?]\r\n\tat com.google.inject.Guice.createInjector(Guice.java:73) ~[guice-4.1.0.jar:?]\r\n\tat io.druid.guice.GuiceInjectors.makeStartupInjector(GuiceInjectors.java:60) ~[druid-processing-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexer.HadoopDruidIndexerConfig.<clinit>(HadoopDruidIndexerConfig.java:106) ~[druid-indexing-hadoop-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat io.druid.indexing.common.task.HadoopIndexTask$HadoopDetermineConfigInnerProcessing.runTask(HadoopIndexTask.java:311) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_161]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:228) ~[druid-indexing-service-0.13.0-SNAPSHOT.jar:0.13.0-SNAPSHOT]\r\n\t... 7 more\r\n```\r\n\r\nI guess the last error is because of the mismatched Jackson version when the peon tries to initialize some variables using Guice injection which means a newer version of Jackson is required. I'm not sure how the second and the third errors can be fixed (maybe by shading?).\r\n\r\nI understand what @gianm and @b-slim are concerned with. I'm doing further testing to figure out what's the best way. I'll post the result here once my testing is done.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365154065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365274611","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-365274611","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":365274611,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTI3NDYxMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T14:00:17Z","updated_at":"2018-04-29T15:46:29Z","author_association":"MEMBER","body":"> @leventov - in this PR you write that it may take several months to complete the series of changes you proposed, but you have also recently written elsewhere that you are \"probably going to stop being involved in [Druid] development soon\". Forgive me for asking, but are you going to be an active contributor long enough to complete this series of contributions and help with follow up? I ask because right now this area of the code is quite stable, and may become less stable as a result of major changes.\r\n\r\nAmount of work is not so big, I envision that it may take several months because for example it will require to propose some changes to https://github.com/DataSketches/memory, wait them merged (with PR review discussions, etc.), then wait until the library with needed changes is released in Maven central. After that (but not in parallel), do the same in https://github.com/RoaringBitmap/RoaringBitmap. After that, some PR(s) in Druid. There might be some delays along the way.\r\n\r\nAnother reason why it may take several months *is* that I'm going to reduce my involvement in Druid. But it doesn't take several months of full-time work.\r\n\r\n> Improvements are good, but it's always best if the original author is around to fix bugs, help with problems that may arise, comment on why things were done certain ways, and so on.\r\n\r\nI'm definitely going to be available for such things.\r\n\r\n<hr>\r\n\r\n> For example one potential bug could be a performance bug -- I have done experiments with replacing all uses of Aggregator with BufferAggregator before, and ran into problems with timeseries queries slowing down and growable aggregators in IncrementalIndex taking more memory than expected (I don't remember the exact details, but IIRC, some aggregator in datasketches has a buffer version that allocates the max upfront but the non-buffer versions can start small). If you are using the same approach I did in those experiments then your approach might run into the same problems. But even if not, that's just one example -- there are other potential bugs that could occur too.\r\n\r\nThanks for this notice, I didn't think about this, but I now see that it could be a problem, if all dimensions and metrics are required to be stored in a single inflexible (because of the shared base) ByteBuffer. Possible solution could be to allow certain Object metrics to be stored as separate (not shared, hence resizable) ByteBuffers, and when a metric Object requires a resize, it just abandons the former heap buffer and allocates a new, bigger one and stores the data in it. API may look like\r\n```java\r\ninterface AggregatorFactory {\r\n  /** true return designates that metrics aggregated with this factory need to be stored\r\n      in separate buffers */\r\n  default boolean needsFlexibleAggregate() { return false; }\r\n}\r\n\r\ninterface BufferAggregator {\r\n  void aggregate(ByteBuffer buf, int position); // this method already exists\r\n\r\n  /** If the aggregated object doesn't fit the given buffer (from pos 0 to capacity),\r\n      this method needs to allocate a new one and return from this method */\r\n  default ByteBuffer aggregateFlexible(ByteBuffer buf) {\r\n    aggregate(buf, 0);\r\n    return buf;\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365274611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365290484","html_url":"https://github.com/apache/druid/pull/5365#issuecomment-365290484","issue_url":"https://api.github.com/repos/apache/druid/issues/5365","id":365290484,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTI5MDQ4NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T14:54:48Z","updated_at":"2018-02-13T14:54:48Z","author_association":"MEMBER","body":"@pjain1 could you please review and merge this if it is ok?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365290484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365304734","html_url":"https://github.com/apache/druid/issues/5338#issuecomment-365304734","issue_url":"https://api.github.com/repos/apache/druid/issues/5338","id":365304734,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTMwNDczNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T15:40:02Z","updated_at":"2018-02-13T15:40:02Z","author_association":"MEMBER","body":"@pjain1 please try #5386.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365304734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365337778","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365337778","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365337778,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTMzNzc3OA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T17:18:17Z","updated_at":"2018-02-13T17:18:17Z","author_association":"CONTRIBUTOR","body":"@jihoonson does this deprecate https://github.com/druid-io/druid/blob/druid-0.12.0-rc1/pom.xml#L1170-L1176 the `spark2` profile?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365337778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365338362","html_url":"https://github.com/apache/druid/pull/5374#issuecomment-365338362","issue_url":"https://api.github.com/repos/apache/druid/issues/5374","id":365338362,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTMzODM2Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T17:20:03Z","updated_at":"2018-02-13T17:20:03Z","author_association":"CONTRIBUTOR","body":"Already has 2 approvals, i'm merging","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365338362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365339157","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365339157","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365339157,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTMzOTE1Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T17:22:27Z","updated_at":"2018-02-13T17:22:27Z","author_association":"CONTRIBUTOR","body":"Related: https://github.com/druid-io/druid/pull/5288","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365339157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365339852","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365339852","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365339852,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTMzOTg1Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T17:24:46Z","updated_at":"2018-02-13T17:24:46Z","author_association":"CONTRIBUTOR","body":"Please add the removal of `AWSSessionCredentialsAdapter` to the master PR comment with justification (i.e. does the aws sdk do this already?)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365339852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365459830","html_url":"https://github.com/apache/druid/pull/5386#issuecomment-365459830","issue_url":"https://api.github.com/repos/apache/druid/issues/5386","id":365459830,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTQ1OTgzMA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T01:00:53Z","updated_at":"2018-02-14T01:00:53Z","author_association":"CONTRIBUTOR","body":"I see two approvals. Merging to master and the discussion on what to do about backporting can continue either here or in the druid dev list.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365459830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365462312","html_url":"https://github.com/apache/druid/issues/5384#issuecomment-365462312","issue_url":"https://api.github.com/repos/apache/druid/issues/5384","id":365462312,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTQ2MjMxMg==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T01:13:57Z","updated_at":"2018-02-14T01:13:57Z","author_association":"MEMBER","body":"I can modify the docs","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365462312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365474477","html_url":"https://github.com/apache/druid/pull/5386#issuecomment-365474477","issue_url":"https://api.github.com/repos/apache/druid/issues/5386","id":365474477,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTQ3NDQ3Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T02:20:54Z","updated_at":"2018-02-14T02:20:54Z","author_association":"CONTRIBUTOR","body":"Would #5289 apply (relatively) cleanly to 0.12.0?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365474477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365478064","html_url":"https://github.com/apache/druid/pull/5386#issuecomment-365478064","issue_url":"https://api.github.com/repos/apache/druid/issues/5386","id":365478064,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTQ3ODA2NA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T02:42:39Z","updated_at":"2018-02-14T02:42:39Z","author_association":"CONTRIBUTOR","body":"The backport of #5289 was relatively clean (only about 5-6 files with conflicts), I've opened a backport PR here if that's the route we want to go:\r\n\r\nhttps://github.com/druid-io/druid/pull/5387","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365478064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365478220","html_url":"https://github.com/apache/druid/pull/5386#issuecomment-365478220","issue_url":"https://api.github.com/repos/apache/druid/issues/5386","id":365478220,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTQ3ODIyMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T02:43:40Z","updated_at":"2018-02-14T02:43:40Z","author_association":"CONTRIBUTOR","body":"I think that route makes sense","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365478220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365479432","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365479432","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365479432,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTQ3OTQzMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T02:51:51Z","updated_at":"2018-02-14T03:02:26Z","author_association":"CONTRIBUTOR","body":"@drcrallen \r\n\r\n> @jihoonson does this deprecate https://github.com/druid-io/druid/blob/druid-0.12.0-rc1/pom.xml#L1170-L1176 the spark2 profile?\r\n\r\nYes, maybe. I didn't test yet.\r\n\r\n> Please add the removal of AWSSessionCredentialsAdapter to the master PR comment with justification (i.e. does the aws sdk do this already?)\r\n\r\n`AWSSessionCredentialsAdapter` was used by only `S3StorageDruidModule` to pass credentials from  aws-java-sdk's `AWSCredentialsProvider` to jet3t's `Rest3Client`. We don't need it anymore. Updated the master PR description.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365479432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365480919","html_url":"https://github.com/apache/druid/pull/5297#issuecomment-365480919","issue_url":"https://api.github.com/repos/apache/druid/issues/5297","id":365480919,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTQ4MDkxOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T03:01:18Z","updated_at":"2018-02-14T03:01:18Z","author_association":"CONTRIBUTOR","body":"@gianm thanks fixed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365480919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365678740","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-365678740","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":365678740,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTY3ODc0MA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T17:15:37Z","updated_at":"2018-02-14T17:15:37Z","author_association":"MEMBER","body":"@leventov I am on vacations for this week, will start reviewing this from next week.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365678740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365680339","html_url":"https://github.com/apache/druid/pull/5278#issuecomment-365680339","issue_url":"https://api.github.com/repos/apache/druid/issues/5278","id":365680339,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTY4MDMzOQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T17:20:50Z","updated_at":"2018-02-14T17:20:50Z","author_association":"MEMBER","body":"@leventov: addressed your comments. please continue the review. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365680339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365686571","html_url":"https://github.com/apache/druid/pull/5297#issuecomment-365686571","issue_url":"https://api.github.com/repos/apache/druid/issues/5297","id":365686571,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTY4NjU3MQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T17:40:50Z","updated_at":"2018-02-14T17:40:50Z","author_association":"CONTRIBUTOR","body":"Restarted failed travis component","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365686571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365688208","html_url":"https://github.com/apache/druid/issues/5383#issuecomment-365688208","issue_url":"https://api.github.com/repos/apache/druid/issues/5383","id":365688208,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTY4ODIwOA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T17:46:34Z","updated_at":"2018-02-14T17:46:34Z","author_association":"CONTRIBUTOR","body":"Can you just set `aws.region` as per https://github.com/aws/aws-sdk-java/blob/1.11.277/aws-java-sdk-core/src/main/java/com/amazonaws/SDKGlobalConfiguration.java#L62 ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365688208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365695101","html_url":"https://github.com/apache/druid/issues/5377#issuecomment-365695101","issue_url":"https://api.github.com/repos/apache/druid/issues/5377","id":365695101,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTY5NTEwMQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T18:10:12Z","updated_at":"2018-02-14T18:10:12Z","author_association":"CONTRIBUTOR","body":"hmmm\r\n\r\nhttps://github.com/druid-io/druid/blob/druid-0.11.0/extensions-core/mysql-metadata-storage/src/main/java/io/druid/metadata/storage/mysql/MySQLConnector.java#L98-L108 is where the check is enforced. Do you have any good suggestions on how to make sure the DB is configured sanely?\r\n\r\nAlso, if it does need to change to not just utf8, then https://github.com/druid-io/druid/blob/druid-0.11.0/docs/content/development/extensions-core/mysql.md will need updated as well","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365695101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365695520","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-365695520","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":365695520,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTY5NTUyMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T18:11:37Z","updated_at":"2018-02-14T18:11:37Z","author_association":"CONTRIBUTOR","body":"I will start to review in a few days.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365695520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365695565","html_url":"https://github.com/apache/druid/issues/5373#issuecomment-365695565","issue_url":"https://api.github.com/repos/apache/druid/issues/5373","id":365695565,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTY5NTU2NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T18:11:47Z","updated_at":"2018-02-14T18:11:56Z","author_association":"CONTRIBUTOR","body":"is the problem here that the file pointed to by `java.io.tmpdir` does not exist, so the `mkdir` fails?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365695565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365696233","html_url":"https://github.com/apache/druid/issues/5340#issuecomment-365696233","issue_url":"https://api.github.com/repos/apache/druid/issues/5340","id":365696233,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTY5NjIzMw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T18:14:14Z","updated_at":"2018-02-14T18:14:14Z","author_association":"CONTRIBUTOR","body":"If I recall this was fixed recently to allow peons to soft-shutdown and not just kill queries.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365696233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365701314","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-365701314","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":365701314,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTcwMTMxNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T18:31:38Z","updated_at":"2018-02-14T18:31:38Z","author_association":"CONTRIBUTOR","body":"@drcrallen thanks! I'm doing further tests to support older versions of Hadoop (especially 2.7 line) as well as resolving my TODOs. I'll update this PR once it's ready.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365701314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365731318","html_url":"https://github.com/apache/druid/issues/5377#issuecomment-365731318","issue_url":"https://api.github.com/repos/apache/druid/issues/5377","id":365731318,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTczMTMxOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T20:14:44Z","updated_at":"2018-02-14T20:14:44Z","author_association":"CONTRIBUTOR","body":"It sounds like utf8mb4 is the right thing to do these days. @hoesler would you mind doing a PR to loosen up the check in Druid?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365731318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365766195","html_url":"https://github.com/apache/druid/issues/5389#issuecomment-365766195","issue_url":"https://api.github.com/repos/apache/druid/issues/5389","id":365766195,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTc2NjE5NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T22:28:37Z","updated_at":"2018-02-14T22:28:37Z","author_association":"CONTRIBUTOR","body":"Hi @hetul, as far as I know we inherit this behavior from Calcite (which we use for SQL parsing & planning). I don't know if it's customizable. If it is, I'd definitely merge a PR that changed the behavior to be less finicky. Otherwise I think we should close this wontfix.\r\n\r\nDo you (or anyone else listening) happen to know?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365766195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365766806","html_url":"https://github.com/apache/druid/issues/5389#issuecomment-365766806","issue_url":"https://api.github.com/repos/apache/druid/issues/5389","id":365766806,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTc2NjgwNg==","user":{"login":"hetul","id":1137080,"node_id":"MDQ6VXNlcjExMzcwODA=","avatar_url":"https://avatars.githubusercontent.com/u/1137080?v=4","gravatar_id":"","url":"https://api.github.com/users/hetul","html_url":"https://github.com/hetul","followers_url":"https://api.github.com/users/hetul/followers","following_url":"https://api.github.com/users/hetul/following{/other_user}","gists_url":"https://api.github.com/users/hetul/gists{/gist_id}","starred_url":"https://api.github.com/users/hetul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hetul/subscriptions","organizations_url":"https://api.github.com/users/hetul/orgs","repos_url":"https://api.github.com/users/hetul/repos","events_url":"https://api.github.com/users/hetul/events{/privacy}","received_events_url":"https://api.github.com/users/hetul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T22:31:00Z","updated_at":"2018-02-14T22:31:00Z","author_association":"NONE","body":"Thanks @gianm, it does sound like a Calcite issue. I don't have experience with Calcite, so I don't know if it's configurable.\r\n\r\nTotally fair to close as wontfix since the workaround is simple enough, though mildly surprising. I just wanted to point it out if it was an unknown issue!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365766806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365768366","html_url":"https://github.com/apache/druid/issues/5389#issuecomment-365768366","issue_url":"https://api.github.com/repos/apache/druid/issues/5389","id":365768366,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTc2ODM2Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T22:37:35Z","updated_at":"2018-02-14T22:37:35Z","author_association":"CONTRIBUTOR","body":"Hmm, I checked the Calcite SQL parser config briefly and don't see an obvious way to change this. So I'll close this. Hope it's not too bad of an inconvenience!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365768366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365774528","html_url":"https://github.com/apache/druid/pull/4116#issuecomment-365774528","issue_url":"https://api.github.com/repos/apache/druid/issues/4116","id":365774528,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTc3NDUyOA==","user":{"login":"palanieppan-m","id":27789414,"node_id":"MDQ6VXNlcjI3Nzg5NDE0","avatar_url":"https://avatars.githubusercontent.com/u/27789414?v=4","gravatar_id":"","url":"https://api.github.com/users/palanieppan-m","html_url":"https://github.com/palanieppan-m","followers_url":"https://api.github.com/users/palanieppan-m/followers","following_url":"https://api.github.com/users/palanieppan-m/following{/other_user}","gists_url":"https://api.github.com/users/palanieppan-m/gists{/gist_id}","starred_url":"https://api.github.com/users/palanieppan-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/palanieppan-m/subscriptions","organizations_url":"https://api.github.com/users/palanieppan-m/orgs","repos_url":"https://api.github.com/users/palanieppan-m/repos","events_url":"https://api.github.com/users/palanieppan-m/events{/privacy}","received_events_url":"https://api.github.com/users/palanieppan-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T23:03:51Z","updated_at":"2018-02-14T23:03:51Z","author_association":"CONTRIBUTOR","body":"@moscowart, your proposal is workaround for the default behavior of Druid\nwhich uses S3N URL scheme. To get that to work, you have to configure\nHadoop to support it.\n\nIn this PR though, it looks like behavior can be changed such that Druid\nalways S3A URL scheme instead, provided you turn on a config. I was\nenquiring whether why understanding is correct and what's the config name\nto turn on this behavior.\n\nOn Wed, Feb 14, 2018 at 1:15 AM, Artem Moskvin <notifications@github.com>\nwrote:\n\n> *@moscowart* commented on this pull request.\n> ------------------------------\n>\n> In extensions-core/s3-extensions/src/main/java/io/druid/storage/s3/\n> S3DataSegmentPusherConfig.java\n> <https://github.com/druid-io/druid/pull/4116#discussion_r168113171>:\n>\n> > @@ -39,6 +39,9 @@\n>    @JsonProperty\n>    @Min(0)\n>    private int maxListingLength = 1000;\n> +  // use s3n by default for backward compatibility\n> +  @JsonProperty\n> +  private boolean useS3aSchema = false;\n>\n> @palanieppan-m <https://github.com/palanieppan-m> you have to add this to\n> hadoop config file like core-site.xml. If you don't have any other\n> configurations it would look something like:\n>\n> <configuration>\n>   <property>\n>     <name>fs.s3a.endpoint</name>\n>     <value>s3.eu-central-1.amazonaws.com</value>\n>   </property>\n>\n>   <property>\n>     <name>fs.s3.impl</name>\n>     <value>org.apache.hadoop.fs.s3a.S3AFileSystem</value>\n>   </property>\n>\n>   <property>\n>     <name>fs.s3n.impl</name>\n>     <value>org.apache.hadoop.fs.s3a.S3AFileSystem</value>\n>   </property>\n>\n>   <property>\n>     <name>fs.s3a.access.key</name>\n>     <value>${S3_ACCESS_KEY}</value>\n>   </property>\n>\n>   <property>\n>     <name>fs.s3a.secret.key</name>\n>     <value>${S3_SECRET_KEY}</value>\n>   </property>\n> </configuration>\n>\n> Don't forget to change endpoint if you're using different region.\n>\n> Next create another config file named jets3t.properties with the\n> following:\n>\n> s3service.s3-endpoint = s3.eu-central-1.amazonaws.com\n>\n> storage-service.request-signature-version=AWS4-HMAC-SHA256\n>\n> Again change region if needed.\n>\n> And lastly all this thing will only work with patched Hadoop libraries. I\n> used Hadoop 2.7.3 from HDP 2.5.3 distribution. It is patched with\n> aws-java-sdk-*:1.10.6 and works perfectly with it. So I replaced hadoop and\n> aws jars and only then it worked. For more info you can take a look at this\n> discussion: #4977 <https://github.com/druid-io/druid/issues/4977>\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/druid-io/druid/pull/4116#discussion_r168113171>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AagIZiqQTDyw49K2Qf7LXprXIHY8AwRsks5tUqQ9gaJpZM4MpKUL>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365774528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365782786","html_url":"https://github.com/apache/druid/issues/5388#issuecomment-365782786","issue_url":"https://api.github.com/repos/apache/druid/issues/5388","id":365782786,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTc4Mjc4Ng==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T23:45:50Z","updated_at":"2018-02-14T23:45:50Z","author_association":"MEMBER","body":"Its same as https://github.com/druid-io/druid/issues/5317 and its resetting automatically because you might have set `resetOffsetAutomatically` to `true`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365782786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365786014","html_url":"https://github.com/apache/druid/issues/4080#issuecomment-365786014","issue_url":"https://api.github.com/repos/apache/druid/issues/4080","id":365786014,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTc4NjAxNA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T00:02:58Z","updated_at":"2018-02-15T00:02:58Z","author_association":"CONTRIBUTOR","body":"@gianm Am also wondering if we are taking advantage of the fact that the array of ints is sorted with known min and max, I guess that should help. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365786014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365787505","html_url":"https://github.com/apache/druid/issues/4080#issuecomment-365787505","issue_url":"https://api.github.com/repos/apache/druid/issues/4080","id":365787505,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTc4NzUwNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T00:11:00Z","updated_at":"2018-02-15T00:11:00Z","author_association":"CONTRIBUTOR","body":"@b-slim Binary packing definitely takes advantage of the fact that the mins and maxes are known. I didn't pick encodings that take advantage of sortedness, however, because in general we can only expect at most one dimension's values to be sorted (the first one, and only if segmentGranularity = queryGranularity). In some cases this does happen and would be a useful optimization, but I wasn't worrying about it at this point.\r\n\r\n`__time` we can always expect to be sorted, however it's int64 not int32 and I was only looking at int32 compression recently. But for `__time` I'm hoping we can switch the default to one of the strategies from https://imply.io/post/2016/12/07/compressing-longs.html soon. I'd expect both delta and table encoding should work very well on `__time` columns (table for coarse granularities and delta for fine ones).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365787505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365791017","html_url":"https://github.com/apache/druid/pull/5363#issuecomment-365791017","issue_url":"https://api.github.com/repos/apache/druid/issues/5363","id":365791017,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTc5MTAxNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T00:33:05Z","updated_at":"2018-02-15T00:33:05Z","author_association":"CONTRIBUTOR","body":"@dansuzuki does this patch support nested Map types as well? If not, please leave a comment somewhere.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365791017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365794446","html_url":"https://github.com/apache/druid/pull/5363#issuecomment-365794446","issue_url":"https://api.github.com/repos/apache/druid/issues/5363","id":365794446,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTc5NDQ0Ng==","user":{"login":"dansuzuki","id":10105476,"node_id":"MDQ6VXNlcjEwMTA1NDc2","avatar_url":"https://avatars.githubusercontent.com/u/10105476?v=4","gravatar_id":"","url":"https://api.github.com/users/dansuzuki","html_url":"https://github.com/dansuzuki","followers_url":"https://api.github.com/users/dansuzuki/followers","following_url":"https://api.github.com/users/dansuzuki/following{/other_user}","gists_url":"https://api.github.com/users/dansuzuki/gists{/gist_id}","starred_url":"https://api.github.com/users/dansuzuki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dansuzuki/subscriptions","organizations_url":"https://api.github.com/users/dansuzuki/orgs","repos_url":"https://api.github.com/users/dansuzuki/repos","events_url":"https://api.github.com/users/dansuzuki/events{/privacy}","received_events_url":"https://api.github.com/users/dansuzuki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T00:53:59Z","updated_at":"2018-02-15T00:53:59Z","author_association":"CONTRIBUTOR","body":"@jihoonson no, not yet. For now, I can't think of not-so-crude way to resolve column names for nested map types.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365794446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365797450","html_url":"https://github.com/apache/druid/pull/5363#issuecomment-365797450","issue_url":"https://api.github.com/repos/apache/druid/issues/5363","id":365797450,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTc5NzQ1MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T01:12:37Z","updated_at":"2018-02-15T01:12:37Z","author_association":"CONTRIBUTOR","body":"@dansuzuki ok. I think we should improve Druid's schema system to fundamentally support nested types in the future.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365797450/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365805080","html_url":"https://github.com/apache/druid/pull/5363#issuecomment-365805080","issue_url":"https://api.github.com/repos/apache/druid/issues/5363","id":365805080,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTgwNTA4MA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T02:00:45Z","updated_at":"2018-02-15T02:00:45Z","author_association":"CONTRIBUTOR","body":"@dansuzuki Can you please sign the CLA? http://druid.io/community/cla.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365805080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365806017","html_url":"https://github.com/apache/druid/pull/5363#issuecomment-365806017","issue_url":"https://api.github.com/repos/apache/druid/issues/5363","id":365806017,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTgwNjAxNw==","user":{"login":"dansuzuki","id":10105476,"node_id":"MDQ6VXNlcjEwMTA1NDc2","avatar_url":"https://avatars.githubusercontent.com/u/10105476?v=4","gravatar_id":"","url":"https://api.github.com/users/dansuzuki","html_url":"https://github.com/dansuzuki","followers_url":"https://api.github.com/users/dansuzuki/followers","following_url":"https://api.github.com/users/dansuzuki/following{/other_user}","gists_url":"https://api.github.com/users/dansuzuki/gists{/gist_id}","starred_url":"https://api.github.com/users/dansuzuki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dansuzuki/subscriptions","organizations_url":"https://api.github.com/users/dansuzuki/orgs","repos_url":"https://api.github.com/users/dansuzuki/repos","events_url":"https://api.github.com/users/dansuzuki/events{/privacy}","received_events_url":"https://api.github.com/users/dansuzuki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T02:06:53Z","updated_at":"2018-02-15T02:06:53Z","author_association":"CONTRIBUTOR","body":"@jon-wei just signed it. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365806017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365815361","html_url":"https://github.com/apache/druid/issues/5332#issuecomment-365815361","issue_url":"https://api.github.com/repos/apache/druid/issues/5332","id":365815361,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTgxNTM2MQ==","user":{"login":"Gauravshah","id":620559,"node_id":"MDQ6VXNlcjYyMDU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/620559?v=4","gravatar_id":"","url":"https://api.github.com/users/Gauravshah","html_url":"https://github.com/Gauravshah","followers_url":"https://api.github.com/users/Gauravshah/followers","following_url":"https://api.github.com/users/Gauravshah/following{/other_user}","gists_url":"https://api.github.com/users/Gauravshah/gists{/gist_id}","starred_url":"https://api.github.com/users/Gauravshah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gauravshah/subscriptions","organizations_url":"https://api.github.com/users/Gauravshah/orgs","repos_url":"https://api.github.com/users/Gauravshah/repos","events_url":"https://api.github.com/users/Gauravshah/events{/privacy}","received_events_url":"https://api.github.com/users/Gauravshah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T03:21:11Z","updated_at":"2018-02-15T03:21:11Z","author_association":"NONE","body":"thanks @treidco spent couple of hours before stumbling upon this","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365815361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365831048","html_url":"https://github.com/apache/druid/pull/5299#issuecomment-365831048","issue_url":"https://api.github.com/repos/apache/druid/issues/5299","id":365831048,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTgzMTA0OA==","user":{"login":"NirajaM","id":15151939,"node_id":"MDQ6VXNlcjE1MTUxOTM5","avatar_url":"https://avatars.githubusercontent.com/u/15151939?v=4","gravatar_id":"","url":"https://api.github.com/users/NirajaM","html_url":"https://github.com/NirajaM","followers_url":"https://api.github.com/users/NirajaM/followers","following_url":"https://api.github.com/users/NirajaM/following{/other_user}","gists_url":"https://api.github.com/users/NirajaM/gists{/gist_id}","starred_url":"https://api.github.com/users/NirajaM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NirajaM/subscriptions","organizations_url":"https://api.github.com/users/NirajaM/orgs","repos_url":"https://api.github.com/users/NirajaM/repos","events_url":"https://api.github.com/users/NirajaM/events{/privacy}","received_events_url":"https://api.github.com/users/NirajaM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T05:42:00Z","updated_at":"2018-02-15T05:42:00Z","author_association":"CONTRIBUTOR","body":"@gianm I fixed all the review comments. Regarding project CLA, I already sent out mail.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365831048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365848359","html_url":"https://github.com/apache/druid/issues/5388#issuecomment-365848359","issue_url":"https://api.github.com/repos/apache/druid/issues/5388","id":365848359,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTg0ODM1OQ==","user":{"login":"kaytrance","id":6768891,"node_id":"MDQ6VXNlcjY3Njg4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6768891?v=4","gravatar_id":"","url":"https://api.github.com/users/kaytrance","html_url":"https://github.com/kaytrance","followers_url":"https://api.github.com/users/kaytrance/followers","following_url":"https://api.github.com/users/kaytrance/following{/other_user}","gists_url":"https://api.github.com/users/kaytrance/gists{/gist_id}","starred_url":"https://api.github.com/users/kaytrance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaytrance/subscriptions","organizations_url":"https://api.github.com/users/kaytrance/orgs","repos_url":"https://api.github.com/users/kaytrance/repos","events_url":"https://api.github.com/users/kaytrance/events{/privacy}","received_events_url":"https://api.github.com/users/kaytrance/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T07:45:37Z","updated_at":"2018-02-15T07:45:37Z","author_association":"NONE","body":"It keeps resetting due to error in UPDATE section, so it seems. Everything was fine before and suddenly we started to experience this.\r\nWhat may be the reason of \"Still waiting for Handoff for Segments\" messages? It seems that it waits with that messages until `completionTimeout` is hit and then we loose some of the data.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365848359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365855433","html_url":"https://github.com/apache/druid/pull/5221#issuecomment-365855433","issue_url":"https://api.github.com/repos/apache/druid/issues/5221","id":365855433,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTg1NTQzMw==","user":{"login":"spyk","id":812009,"node_id":"MDQ6VXNlcjgxMjAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/812009?v=4","gravatar_id":"","url":"https://api.github.com/users/spyk","html_url":"https://github.com/spyk","followers_url":"https://api.github.com/users/spyk/followers","following_url":"https://api.github.com/users/spyk/following{/other_user}","gists_url":"https://api.github.com/users/spyk/gists{/gist_id}","starred_url":"https://api.github.com/users/spyk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spyk/subscriptions","organizations_url":"https://api.github.com/users/spyk/orgs","repos_url":"https://api.github.com/users/spyk/repos","events_url":"https://api.github.com/users/spyk/events{/privacy}","received_events_url":"https://api.github.com/users/spyk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T08:22:35Z","updated_at":"2018-02-15T08:22:35Z","author_association":"CONTRIBUTOR","body":"Hi @leventov , updated the code with your comments (removed StringUtils.format from log.info). Let me know if you need anything else, thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365855433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/365990220","html_url":"https://github.com/apache/druid/pull/5390#issuecomment-365990220","issue_url":"https://api.github.com/repos/apache/druid/issues/5390","id":365990220,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTk5MDIyMA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T16:53:13Z","updated_at":"2018-02-15T16:53:13Z","author_association":"MEMBER","body":"@gianm does this look ok now ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/365990220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366007852","html_url":"https://github.com/apache/druid/pull/5392#issuecomment-366007852","issue_url":"https://api.github.com/repos/apache/druid/issues/5392","id":366007852,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjAwNzg1Mg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T17:51:30Z","updated_at":"2018-02-15T17:51:30Z","author_association":"CONTRIBUTOR","body":"@jcollado thanks, can you please fill the CLA http://druid.io/community/cla.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366007852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366009529","html_url":"https://github.com/apache/druid/pull/5390#issuecomment-366009529","issue_url":"https://api.github.com/repos/apache/druid/issues/5390","id":366009529,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjAwOTUyOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T17:57:28Z","updated_at":"2018-02-15T17:57:28Z","author_association":"CONTRIBUTOR","body":"Going to merge this without CI completing since there is no way it will complain about a doc change.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366009529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366010577","html_url":"https://github.com/apache/druid/pull/5390#issuecomment-366010577","issue_url":"https://api.github.com/repos/apache/druid/issues/5390","id":366010577,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjAxMDU3Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T18:01:01Z","updated_at":"2018-02-15T18:01:01Z","author_association":"CONTRIBUTOR","body":"Backport in #5393","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366010577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366010778","html_url":"https://github.com/apache/druid/pull/5392#issuecomment-366010778","issue_url":"https://api.github.com/repos/apache/druid/issues/5392","id":366010778,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjAxMDc3OA==","user":{"login":"jcollado","id":43780,"node_id":"MDQ6VXNlcjQzNzgw","avatar_url":"https://avatars.githubusercontent.com/u/43780?v=4","gravatar_id":"","url":"https://api.github.com/users/jcollado","html_url":"https://github.com/jcollado","followers_url":"https://api.github.com/users/jcollado/followers","following_url":"https://api.github.com/users/jcollado/following{/other_user}","gists_url":"https://api.github.com/users/jcollado/gists{/gist_id}","starred_url":"https://api.github.com/users/jcollado/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcollado/subscriptions","organizations_url":"https://api.github.com/users/jcollado/orgs","repos_url":"https://api.github.com/users/jcollado/repos","events_url":"https://api.github.com/users/jcollado/events{/privacy}","received_events_url":"https://api.github.com/users/jcollado/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T18:01:49Z","updated_at":"2018-02-15T18:01:49Z","author_association":"CONTRIBUTOR","body":"@b-slim Done!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366010778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366031798","html_url":"https://github.com/apache/druid/pull/5028#issuecomment-366031798","issue_url":"https://api.github.com/repos/apache/druid/issues/5028","id":366031798,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjAzMTc5OA==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-15T19:15:55Z","updated_at":"2018-02-15T19:15:55Z","author_association":"CONTRIBUTOR","body":"@drcrallen could you please review","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366031798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366117563","html_url":"https://github.com/apache/druid/issues/5362#issuecomment-366117563","issue_url":"https://api.github.com/repos/apache/druid/issues/5362","id":366117563,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjExNzU2Mw==","user":{"login":"visualskyrim","id":2673434,"node_id":"MDQ6VXNlcjI2NzM0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/2673434?v=4","gravatar_id":"","url":"https://api.github.com/users/visualskyrim","html_url":"https://github.com/visualskyrim","followers_url":"https://api.github.com/users/visualskyrim/followers","following_url":"https://api.github.com/users/visualskyrim/following{/other_user}","gists_url":"https://api.github.com/users/visualskyrim/gists{/gist_id}","starred_url":"https://api.github.com/users/visualskyrim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/visualskyrim/subscriptions","organizations_url":"https://api.github.com/users/visualskyrim/orgs","repos_url":"https://api.github.com/users/visualskyrim/repos","events_url":"https://api.github.com/users/visualskyrim/events{/privacy}","received_events_url":"https://api.github.com/users/visualskyrim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-16T01:19:50Z","updated_at":"2018-02-16T01:19:50Z","author_association":"NONE","body":"Thanks a lot for making those changes!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366117563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366122790","html_url":"https://github.com/apache/druid/pull/5255#issuecomment-366122790","issue_url":"https://api.github.com/repos/apache/druid/issues/5255","id":366122790,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjEyMjc5MA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-16T01:53:06Z","updated_at":"2018-02-16T01:53:06Z","author_association":"MEMBER","body":"@jihoonson any more comments ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366122790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366287326","html_url":"https://github.com/apache/druid/pull/5385#issuecomment-366287326","issue_url":"https://api.github.com/repos/apache/druid/issues/5385","id":366287326,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjI4NzMyNg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-16T16:36:12Z","updated_at":"2018-02-16T16:36:12Z","author_association":"CONTRIBUTOR","body":"\n\n\n\nReview status: 0 of 6 files reviewed at latest revision, 2 unresolved discussions.\n\n---\n\n*[processing/src/main/java/io/druid/query/groupby/orderby/LimitSpec.java, line 54 at r1](https://reviewable.io:443/reviews/druid-io/druid/5385#-L5URWzxlOQ-HzXRIQLP:-L5URWzxlOQ-HzXRIQLQ:bbrcxuh) ([raw file](https://github.com/druid-io/druid/blob/0105cdbc19828009d21de57a30ba55794a518d30/processing/src/main/java/io/druid/query/groupby/orderby/LimitSpec.java#L54)):*\n> ```Java\n>    * @param aggs       query aggregators\n>    * @param postAggs   query postAggregators\n>    *\n> ```\n\nHow about adding the new Params instead of removing this?\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/druid-io/druid/5385)*\n<!-- Sent from Reviewable.io -->\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366287326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366287350","html_url":"https://github.com/apache/druid/pull/5385#issuecomment-366287350","issue_url":"https://api.github.com/repos/apache/druid/issues/5385","id":366287350,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjI4NzM1MA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-16T16:36:19Z","updated_at":"2018-02-16T16:36:19Z","author_association":"CONTRIBUTOR","body":"<img class=\"emoji\" title=\":lgtm:\" alt=\":lgtm:\" align=\"absmiddle\" src=\"https://reviewable.io/lgtm.png\" height=\"20\" width=\"61\"/>\n\n---\n\nReview status: 0 of 6 files reviewed at latest revision, 2 unresolved discussions.\n\n---\n\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/druid-io/druid/5385#-:-L5UTHjo2QtkgFa1ZYBw:bnfp4nl)*\n<!-- Sent from Reviewable.io -->\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366287350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366287476","html_url":"https://github.com/apache/druid/pull/5385#issuecomment-366287476","issue_url":"https://api.github.com/repos/apache/druid/issues/5385","id":366287476,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjI4NzQ3Ng==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-16T16:36:42Z","updated_at":"2018-02-16T16:36:42Z","author_association":"CONTRIBUTOR","body":"\n\n\n\nReviewed 4 of 6 files at r1, 2 of 2 files at r2.\nReview status: all files reviewed at latest revision, 2 unresolved discussions.\n\n---\n\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/druid-io/druid/5385)*\n<!-- Sent from Reviewable.io -->\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366287476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366363349","html_url":"https://github.com/apache/druid/pull/5385#issuecomment-366363349","issue_url":"https://api.github.com/repos/apache/druid/issues/5385","id":366363349,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjM2MzM0OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-16T21:27:50Z","updated_at":"2018-02-16T21:27:50Z","author_association":"CONTRIBUTOR","body":"@b-slim added.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366363349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366387923","html_url":"https://github.com/apache/druid/pull/5385#issuecomment-366387923","issue_url":"https://api.github.com/repos/apache/druid/issues/5385","id":366387923,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjM4NzkyMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-16T23:26:25Z","updated_at":"2018-02-16T23:26:25Z","author_association":"CONTRIBUTOR","body":"LGTM, thanks @jihoonson.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366387923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366391986","html_url":"https://github.com/apache/druid/pull/5028#issuecomment-366391986","issue_url":"https://api.github.com/repos/apache/druid/issues/5028","id":366391986,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjM5MTk4Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-16T23:54:03Z","updated_at":"2018-02-16T23:54:03Z","author_association":"CONTRIBUTOR","body":"Yes, I'll put it on my list. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366391986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366455867","html_url":"https://github.com/apache/druid/issues/5377#issuecomment-366455867","issue_url":"https://api.github.com/repos/apache/druid/issues/5377","id":366455867,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjQ1NTg2Nw==","user":{"login":"hoesler","id":1052770,"node_id":"MDQ6VXNlcjEwNTI3NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1052770?v=4","gravatar_id":"","url":"https://api.github.com/users/hoesler","html_url":"https://github.com/hoesler","followers_url":"https://api.github.com/users/hoesler/followers","following_url":"https://api.github.com/users/hoesler/following{/other_user}","gists_url":"https://api.github.com/users/hoesler/gists{/gist_id}","starred_url":"https://api.github.com/users/hoesler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hoesler/subscriptions","organizations_url":"https://api.github.com/users/hoesler/orgs","repos_url":"https://api.github.com/users/hoesler/repos","events_url":"https://api.github.com/users/hoesler/events{/privacy}","received_events_url":"https://api.github.com/users/hoesler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-17T17:13:38Z","updated_at":"2018-02-17T17:13:38Z","author_association":"CONTRIBUTOR","body":"Okay, I'll take a look.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366455867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366476037","html_url":"https://github.com/apache/druid/pull/5399#issuecomment-366476037","issue_url":"https://api.github.com/repos/apache/druid/issues/5399","id":366476037,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjQ3NjAzNw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-17T22:28:11Z","updated_at":"2018-02-17T22:28:11Z","author_association":"CONTRIBUTOR","body":"ðŸ‘ after tests.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366476037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366490544","html_url":"https://github.com/apache/druid/pull/5276#issuecomment-366490544","issue_url":"https://api.github.com/repos/apache/druid/issues/5276","id":366490544,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjQ5MDU0NA==","user":{"login":"vvc11","id":6641529,"node_id":"MDQ6VXNlcjY2NDE1Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/6641529?v=4","gravatar_id":"","url":"https://api.github.com/users/vvc11","html_url":"https://github.com/vvc11","followers_url":"https://api.github.com/users/vvc11/followers","following_url":"https://api.github.com/users/vvc11/following{/other_user}","gists_url":"https://api.github.com/users/vvc11/gists{/gist_id}","starred_url":"https://api.github.com/users/vvc11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvc11/subscriptions","organizations_url":"https://api.github.com/users/vvc11/orgs","repos_url":"https://api.github.com/users/vvc11/repos","events_url":"https://api.github.com/users/vvc11/events{/privacy}","received_events_url":"https://api.github.com/users/vvc11/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-18T03:50:46Z","updated_at":"2018-02-18T03:50:46Z","author_association":"CONTRIBUTOR","body":"hi @b-slim , made the changes as required. Please review","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366490544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366546574","html_url":"https://github.com/apache/druid/pull/5276#issuecomment-366546574","issue_url":"https://api.github.com/repos/apache/druid/issues/5276","id":366546574,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjU0NjU3NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-18T20:50:46Z","updated_at":"2018-02-18T20:50:46Z","author_association":"CONTRIBUTOR","body":"ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366546574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/366712674","html_url":"https://github.com/apache/druid/pull/5278#issuecomment-366712674","issue_url":"https://api.github.com/repos/apache/druid/issues/5278","id":366712674,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjcxMjY3NA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-19T14:42:24Z","updated_at":"2018-02-19T14:42:24Z","author_association":"MEMBER","body":"@leventov: updated based on your comments, Hope you have completed the review and we can get this merged sooner. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/366712674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]