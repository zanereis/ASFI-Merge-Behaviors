[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2018680384","html_url":"https://github.com/apache/couchdb/issues/4489#issuecomment-2018680384","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4489","id":2018680384,"node_id":"IC_kwDOAAMmUc54Up5A","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-25T18:50:08Z","updated_at":"2024-03-25T18:50:08Z","author_association":"CONTRIBUTOR","body":"fyi: all should be functional again!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2018680384/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2018682370","html_url":"https://github.com/apache/couchdb/issues/5010#issuecomment-2018682370","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5010","id":2018682370,"node_id":"IC_kwDOAAMmUc54UqYC","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-25T18:51:16Z","updated_at":"2024-03-25T18:51:16Z","author_association":"CONTRIBUTOR","body":"All should work again!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2018682370/reactions","total_count":6,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":3,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2018682967","html_url":"https://github.com/apache/couchdb/issues/5016#issuecomment-2018682967","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5016","id":2018682967,"node_id":"IC_kwDOAAMmUc54UqhX","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-25T18:51:41Z","updated_at":"2024-03-25T18:51:41Z","author_association":"CONTRIBUTOR","body":"All should work again!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2018682967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2019336436","html_url":"https://github.com/apache/couchdb/pull/4627#issuecomment-2019336436","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4627","id":2019336436,"node_id":"IC_kwDOAAMmUc54XKD0","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T03:55:49Z","updated_at":"2024-03-26T03:55:49Z","author_association":"CONTRIBUTOR","body":"Another update:\r\n\r\n  * The scanner app moved to it's own PR https://github.com/apache/couchdb/pull/5014. With a sample plugin to detect CouchDB 4.x planned deprecated ddoc features.\r\n  \r\n  * As requested by a CouchDB user, added the ability to not build with Spidermonkey (completely disable Spidermonkey).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2019336436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2019338794","html_url":"https://github.com/apache/couchdb/issues/4448#issuecomment-2019338794","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4448","id":2019338794,"node_id":"IC_kwDOAAMmUc54XKoq","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T03:59:36Z","updated_at":"2024-03-26T03:59:36Z","author_association":"CONTRIBUTOR","body":"@joaohf there is now an option to completely disable Spidermonkey. For that add the `--disable-spidermonkey` option to `./configure`. Give that a try, I didn't test it extensively just locally on macos so far.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2019338794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2019878585","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2019878585","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2019878585,"node_id":"IC_kwDOAAMmUc54ZOa5","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T09:05:40Z","updated_at":"2024-03-26T09:05:40Z","author_association":"MEMBER","body":"rehi (I've been out on vacation the last few weeks).\r\n\r\nI've mocked up a few approaches to this locally and I don't like any of them, they all either have a non-trivial overhead or other odd side-effects more surprising than what you've encountered.\r\n\r\nI think the right move is to clarify that if you index with type \"string\" _and_ you intend to search on that field (as opposed to only sorting on it, for example), then you need to specify the \"keyword\" analyzer for that field in the index definition. If you do that, everything works out nicely.\r\n\r\nIn your case I think you actually do want the \"text\" type for \"lastName\", so that you can search case-insensitively, but only you know for sure.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2019878585/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2019891010","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2019891010","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2019891010,"node_id":"IC_kwDOAAMmUc54ZRdC","user":{"login":"GMishx","id":18077542,"node_id":"MDQ6VXNlcjE4MDc3NTQy","avatar_url":"https://avatars.githubusercontent.com/u/18077542?v=4","gravatar_id":"","url":"https://api.github.com/users/GMishx","html_url":"https://github.com/GMishx","followers_url":"https://api.github.com/users/GMishx/followers","following_url":"https://api.github.com/users/GMishx/following{/other_user}","gists_url":"https://api.github.com/users/GMishx/gists{/gist_id}","starred_url":"https://api.github.com/users/GMishx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GMishx/subscriptions","organizations_url":"https://api.github.com/users/GMishx/orgs","repos_url":"https://api.github.com/users/GMishx/repos","events_url":"https://api.github.com/users/GMishx/events{/privacy}","received_events_url":"https://api.github.com/users/GMishx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T09:11:51Z","updated_at":"2024-03-26T09:11:51Z","author_association":"CONTRIBUTOR","body":"Hey, thanks for the updates. The documentation makes the type field more clear in #5018.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2019891010/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2019907296","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2019907296","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2019907296,"node_id":"IC_kwDOAAMmUc54ZVbg","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T09:19:53Z","updated_at":"2024-03-26T09:19:53Z","author_association":"MEMBER","body":"no problem!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2019907296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2020405862","html_url":"https://github.com/apache/couchdb/issues/1227#issuecomment-2020405862","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1227","id":2020405862,"node_id":"IC_kwDOAAMmUc54bPJm","user":{"login":"mwasson74","id":12786751,"node_id":"MDQ6VXNlcjEyNzg2NzUx","avatar_url":"https://avatars.githubusercontent.com/u/12786751?v=4","gravatar_id":"","url":"https://api.github.com/users/mwasson74","html_url":"https://github.com/mwasson74","followers_url":"https://api.github.com/users/mwasson74/followers","following_url":"https://api.github.com/users/mwasson74/following{/other_user}","gists_url":"https://api.github.com/users/mwasson74/gists{/gist_id}","starred_url":"https://api.github.com/users/mwasson74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwasson74/subscriptions","organizations_url":"https://api.github.com/users/mwasson74/orgs","repos_url":"https://api.github.com/users/mwasson74/repos","events_url":"https://api.github.com/users/mwasson74/events{/privacy}","received_events_url":"https://api.github.com/users/mwasson74/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T13:16:31Z","updated_at":"2024-03-26T13:16:31Z","author_association":"NONE","body":"+1 in 2024","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2020405862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2020672652","html_url":"https://github.com/apache/couchdb/issues/4489#issuecomment-2020672652","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4489","id":2020672652,"node_id":"IC_kwDOAAMmUc54cQSM","user":{"login":"hcgrove","id":661624,"node_id":"MDQ6VXNlcjY2MTYyNA==","avatar_url":"https://avatars.githubusercontent.com/u/661624?v=4","gravatar_id":"","url":"https://api.github.com/users/hcgrove","html_url":"https://github.com/hcgrove","followers_url":"https://api.github.com/users/hcgrove/followers","following_url":"https://api.github.com/users/hcgrove/following{/other_user}","gists_url":"https://api.github.com/users/hcgrove/gists{/gist_id}","starred_url":"https://api.github.com/users/hcgrove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hcgrove/subscriptions","organizations_url":"https://api.github.com/users/hcgrove/orgs","repos_url":"https://api.github.com/users/hcgrove/repos","events_url":"https://api.github.com/users/hcgrove/events{/privacy}","received_events_url":"https://api.github.com/users/hcgrove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T15:00:57Z","updated_at":"2024-03-26T15:18:17Z","author_association":"NONE","body":"We have our own mirror of the Ubuntu packages, and that still seems affected? \r\nWe use `apt-mirror` to make that repo, the repositories apt-mirror is configured to mirror are:\r\n```\r\ndeb https://apache.jfrog.io/artifactory/couchdb-deb xenial main\r\ndeb https://apache.jfrog.io/artifactory/couchdb-deb bionic main\r\ndeb https://apache.jfrog.io/artifactory/couchdb-deb focal main\r\ndeb https://apache.jfrog.io/artifactory/couchdb-deb jammy main\r\n```\r\nBut  e.g. `dists/jammy/InRelease` becomes a HTML file with a lot of references to javascript, but also a body that says\r\n\r\n> MyJFrog doesn't work properly without JavaScript enabled. Please enable it to continue.\r\n\r\nWe can't enable javascript in apt-mirror, and it also doesn't make sense to require that.\r\n\r\n(It's not so much jfrog's uptime as security reasons that made us set that up, and it has worked for years.)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2020672652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2021731343","html_url":"https://github.com/apache/couchdb/issues/4448#issuecomment-2021731343","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4448","id":2021731343,"node_id":"IC_kwDOAAMmUc54gSwP","user":{"login":"joaohf","id":278690,"node_id":"MDQ6VXNlcjI3ODY5MA==","avatar_url":"https://avatars.githubusercontent.com/u/278690?v=4","gravatar_id":"","url":"https://api.github.com/users/joaohf","html_url":"https://github.com/joaohf","followers_url":"https://api.github.com/users/joaohf/followers","following_url":"https://api.github.com/users/joaohf/following{/other_user}","gists_url":"https://api.github.com/users/joaohf/gists{/gist_id}","starred_url":"https://api.github.com/users/joaohf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joaohf/subscriptions","organizations_url":"https://api.github.com/users/joaohf/orgs","repos_url":"https://api.github.com/users/joaohf/repos","events_url":"https://api.github.com/users/joaohf/events{/privacy}","received_events_url":"https://api.github.com/users/joaohf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-27T00:56:29Z","updated_at":"2024-03-27T00:56:29Z","author_association":"NONE","body":"Hi @nickva \r\n\r\nI did a first round building your branch in yocto context. The build was ok after some changes (please see the WIP patch https://github.com/meta-erlang/meta-erlang/pull/293/files#diff-e118f4df7011f6445d77896486ad074c2b9c15bb0c84a31bfc33d2e82ff97125) around cross compilation environment. As my patch is WIP, I want to better isolate the changes before suggest any changes.\r\n\r\nNow, I'll test the build results.\r\n\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2021731343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2021869435","html_url":"https://github.com/apache/couchdb/issues/4448#issuecomment-2021869435","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4448","id":2021869435,"node_id":"IC_kwDOAAMmUc54g0d7","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-27T03:45:21Z","updated_at":"2024-03-27T03:45:21Z","author_association":"CONTRIBUTOR","body":"@joaohf very interesting, I don't know much about Yocto project, so may not be able to help much with the diff. \r\n\r\nI did however apply this patch to make it easier for you a bit:\r\n\r\n```diff\r\n-    {\"CFLAGS\", \"-flto -g -Wall -D_GNU_SOURCE -DCONFIG_LTO=y -O2 -Iquickjs\"},\r\n-    {\"LDFLAGS\", \"-flto -lm quickjs/libquickjs.lto.a\"},\r\n+    {\"CFLAGS\", \"$CFLAGS -flto -g -Wall -D_GNU_SOURCE -DCONFIG_LTO=y -O2 -Iquickjs\"},\r\n+    {\"LDFLAGS\", \"$LDFLAGS -flto -lm quickjs/libquickjs.lto.a\"},\r\n```\r\n\r\nIt seems to work on macos and debian so far with it.\r\n\r\nI can see `AR?=`, `CC?=` patch for `quickjs/Makefile` being useful in general too but I haven't applied the patch yet. \r\n\r\nI tried this patch to `build_js.escript` but it didn't work as the path where `build_js.escript` runs in a level above `qjsc` so it doesn't find just `qjsc` using `os:cmd` it must be added to the PATH somehow in Yocto?\r\n```diff\r\n-    os:cmd(\"quickjs/qjsc -c -N bytecode -o c_src/\" ++ Tmp ++ \" priv/\" ++ Js),\r\n+    os:cmd(\"qjsc -c -N bytecode -o c_src/\" ++ Tmp ++ \" priv/\" ++ Js),\r\n```\r\n\r\nWhile at it I also rebased the QuickJS on the latest master \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2021869435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2022886142","html_url":"https://github.com/apache/couchdb/pull/4958#issuecomment-2022886142","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4958","id":2022886142,"node_id":"IC_kwDOAAMmUc54ksr-","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-27T14:17:06Z","updated_at":"2024-03-27T14:17:06Z","author_association":"CONTRIBUTOR","body":"Thank you all for your help too!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2022886142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2022888634","html_url":"https://github.com/apache/couchdb/pull/4735#issuecomment-2022888634","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4735","id":2022888634,"node_id":"IC_kwDOAAMmUc54ktS6","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-27T14:18:08Z","updated_at":"2024-03-27T14:18:08Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of #4958.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2022888634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024182609","html_url":"https://github.com/apache/couchdb/issues/4448#issuecomment-2024182609","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4448","id":2024182609,"node_id":"IC_kwDOAAMmUc54ppNR","user":{"login":"joaohf","id":278690,"node_id":"MDQ6VXNlcjI3ODY5MA==","avatar_url":"https://avatars.githubusercontent.com/u/278690?v=4","gravatar_id":"","url":"https://api.github.com/users/joaohf","html_url":"https://github.com/joaohf","followers_url":"https://api.github.com/users/joaohf/followers","following_url":"https://api.github.com/users/joaohf/following{/other_user}","gists_url":"https://api.github.com/users/joaohf/gists{/gist_id}","starred_url":"https://api.github.com/users/joaohf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joaohf/subscriptions","organizations_url":"https://api.github.com/users/joaohf/orgs","repos_url":"https://api.github.com/users/joaohf/repos","events_url":"https://api.github.com/users/joaohf/events{/privacy}","received_events_url":"https://api.github.com/users/joaohf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-28T00:12:05Z","updated_at":"2024-03-28T00:12:05Z","author_association":"NONE","body":"Hi,\r\n\r\nThe patch for src/couch_quickjs/rebar.config.script is really handy. And I think it makes sense.\r\n\r\nMost of Yocto Project work is related to fix cross compile build scripts, like the quickjs/Makefile. Sometimes the upstream is not perfect and some patches are needed.\r\n\r\nJust some yocto related details:\r\n\r\nBut, for the couchdb and yocto scenario I had to use a different strategy which was to compile a native quickjs binary using the following recipe https://github.com/meta-erlang/meta-erlang/blob/e1c631d2af795f989f5dca770d8703d923950d93/recipes-extended/quickjs/quickjs_git.bb. Because when I build couchdb, it is a cross compilation for example to ARM and without the quickjs native recipe, I could not run quickjs if it was build by couchdb.\r\n\r\nThat is why I had also to patch the build_js.escript in order to remove the hardcoded quickjs path. In yocto build the quickjs will be available in PATH for couchdb build. I think the build_js.escript is very yocto specific :)\r\n\r\nI'll keep you informed as soon I finish my tests.\r\n\r\nThanks.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024182609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024385080","html_url":"https://github.com/apache/couchdb/issues/4448#issuecomment-2024385080","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4448","id":2024385080,"node_id":"IC_kwDOAAMmUc54qao4","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-28T04:46:12Z","updated_at":"2024-03-28T04:46:12Z","author_association":"CONTRIBUTOR","body":"> That is why I had also to patch the build_js.escript in order to remove the hardcoded quickjs path. In yocto build the quickjs will be available in PATH for couchdb build. I think the build_js.escript is very yocto specific :)\r\n\r\nAh! that makes perfect sense. Thank you for explaining and for sharing more info about the Yocto Project.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024385080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024829125","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2024829125","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2024829125,"node_id":"IC_kwDOAAMmUc54sHDF","user":{"login":"GMishx","id":18077542,"node_id":"MDQ6VXNlcjE4MDc3NTQy","avatar_url":"https://avatars.githubusercontent.com/u/18077542?v=4","gravatar_id":"","url":"https://api.github.com/users/GMishx","html_url":"https://github.com/GMishx","followers_url":"https://api.github.com/users/GMishx/followers","following_url":"https://api.github.com/users/GMishx/following{/other_user}","gists_url":"https://api.github.com/users/GMishx/gists{/gist_id}","starred_url":"https://api.github.com/users/GMishx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GMishx/subscriptions","organizations_url":"https://api.github.com/users/GMishx/orgs","repos_url":"https://api.github.com/users/GMishx/repos","events_url":"https://api.github.com/users/GMishx/events{/privacy}","received_events_url":"https://api.github.com/users/GMishx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-28T10:06:22Z","updated_at":"2024-03-28T10:06:22Z","author_association":"CONTRIBUTOR","body":"@rnewson Even using the provided suggestions from #5018 fail for different case.\r\n\r\nI have a document with fields name and version. Version is stored as a string in couchdb and sample values are `\"1\", \"2\", \"4.2.0\"`. With default analyzer (`simple_asciifolding`), these values were getting lost:\r\n```bash\r\n$ curl --user \"admin:admin\" 'http://localhost:5984/_nouveau_analyze' -X POST -H 'Content-Type: application/json' -d '{\"analyzer\": \"simple_asciifolding\", \"text\": \"4.2.0\"}' | jq\r\n{\r\n  \"tokens\": []\r\n}\r\n```\r\n\r\nThus I created the index as following:\r\n```json\r\n{\r\n  \"_id\": \"_design/lucene\",\r\n  \"_rev\": \"238-6e02d3801cc64311f5244cb242855e82\",\r\n  \"nouveau\": {\r\n    \"projects\": {\r\n      \"default_analyzer\": \"keyword\",\r\n      \"field_analyzers\": {\r\n        \"version\": \"keyword\"\r\n      },\r\n      \"index\": \"function(doc) {\\nif(doc.version !== undefined && doc.version != null && doc.version.length >0) {\\n      index('text', 'version', doc.version, {'store': true});\\n    }\\n}\"\r\n    }\r\n}\r\n```\r\n\r\nNotice I added `field_analyzer` on the `version` field to `keyword` as #5018 suggested. I also tried using field type as `string` as well as `text`. But in all cases, I cannot query the document containing `\"version:4.2.0\"` or `\"version:1\"`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024829125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024846858","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2024846858","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2024846858,"node_id":"IC_kwDOAAMmUc54sLYK","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-28T10:17:39Z","updated_at":"2024-03-28T10:17:39Z","author_association":"MEMBER","body":"You specify the `keyword` analyzer for all fields. for input \"4.2.0\" that tokenizes to \"4.2.0\".\r\n\r\nCan you show the result of querying the view with `?q=version:4.2.0`, `?q=version:\"4.2.0\"` and finally a `?q=_id:` with the doc id of the doc with a version of 4.2.0 (e.g, `?q=_id:doc1`).\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024846858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024866438","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2024866438","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2024866438,"node_id":"IC_kwDOAAMmUc54sQKG","user":{"login":"GMishx","id":18077542,"node_id":"MDQ6VXNlcjE4MDc3NTQy","avatar_url":"https://avatars.githubusercontent.com/u/18077542?v=4","gravatar_id":"","url":"https://api.github.com/users/GMishx","html_url":"https://github.com/GMishx","followers_url":"https://api.github.com/users/GMishx/followers","following_url":"https://api.github.com/users/GMishx/following{/other_user}","gists_url":"https://api.github.com/users/GMishx/gists{/gist_id}","starred_url":"https://api.github.com/users/GMishx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GMishx/subscriptions","organizations_url":"https://api.github.com/users/GMishx/orgs","repos_url":"https://api.github.com/users/GMishx/repos","events_url":"https://api.github.com/users/GMishx/events{/privacy}","received_events_url":"https://api.github.com/users/GMishx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-28T10:28:53Z","updated_at":"2024-03-28T10:28:53Z","author_association":"CONTRIBUTOR","body":"Here are the outputs as requested. I am getting same results for GET and POST queries.\r\n\r\nOutput of analyze:\r\n```\r\n$ curl --user \"admin:admin\" --silent 'http://localhost:5984/_nouveau_analyze' -X POST -H 'Content-Type: application/json' -d '{\"analyzer\": \"keyword\", \"text\": \"4.2.0\"}' | jq\r\n{\r\n  \"tokens\": [\r\n    \"4.2.0\"\r\n  ]\r\n}\r\n```\r\n\r\nOutput of `version:4.2.0`:\r\n```\r\n$ curl --user \"admin:admin\" --silent 'http://localhost:5984/sw360db/_design/lucene/_nouveau/projects' -X POST -H 'Content-Type: application/json' -d '{\"q\": \"version:4.2.0\"}' | jq\r\n{\r\n  \"total_hits_relation\": \"EQUAL_TO\",\r\n  \"total_hits\": 0,\r\n  \"ranges\": null,\r\n  \"hits\": [],\r\n  \"counts\": null,\r\n  \"bookmark\": \"W10=\"\r\n}\r\n```\r\n\r\nOutput of `version:\"4.2.0\"`:\r\n```\r\n$ curl --user \"admin:admin\" --silent 'http://localhost:5984/sw360db/_design/lucene/_nouveau/projects' -X POST -H 'Content-Type: application/json' -d '{\"q\": \"version:\\\"4.2.0\\\"\"}' | jq\r\n{\r\n  \"total_hits_relation\": \"EQUAL_TO\",\r\n  \"total_hits\": 0,\r\n  \"ranges\": null,\r\n  \"hits\": [],\r\n  \"counts\": null,\r\n  \"bookmark\": \"W10=\"\r\n}\r\n```\r\n\r\nOutput with the doc match:\r\n```\r\n$ curl --user \"admin:admin\" --silent 'http://localhost:5984/sw360db/_design/lucene/_nouveau/projects' -X POST -H 'Content-Type: application/json' -d '{\"q\": \"_id:c26ccf0179c14f22bf6f9d0d55acd2dc\"}' | jq\r\n{\r\n  \"total_hits_relation\": \"EQUAL_TO\",\r\n  \"total_hits\": 1,\r\n  \"ranges\": null,\r\n  \"hits\": [\r\n    {\r\n      \"order\": [\r\n        {\r\n          \"value\": 0.44583148,\r\n          \"@type\": \"float\"\r\n        },\r\n        {\r\n          \"value\": \"c26ccf0179c14f22bf6f9d0d55acd2dc\",\r\n          \"@type\": \"string\"\r\n        }\r\n      ],\r\n      \"id\": \"c26ccf0179c14f22bf6f9d0d55acd2dc\",\r\n      \"fields\": {\r\n        \"version\": \"4.2.0\",\r\n        \"state\": \"ACTIVE\",\r\n        \"projectType\": \"CUSTOMER\",\r\n        \"name\": \"fossology\",\r\n        \"clearingState\": \"IN_PROGRESS\",\r\n        \"businessUnit\": \"DEPARTMENT\"\r\n      }\r\n    }\r\n  ],\r\n  \"counts\": null,\r\n  \"bookmark\": \"W1t7InZhbHVlIjowLjQ0NTgzMTQ4LCJAdHlwZSI6ImZsb2F0In0seyJ2YWx1ZSI6ImMyNmNjZjAxNzljMTRmMjJiZjZmOWQwZDU1YWNkMmRjIiwiQHR5cGUiOiJzdHJpbmcifV1d\"\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024866438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024928403","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2024928403","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2024928403,"node_id":"IC_kwDOAAMmUc54sfST","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-28T11:08:06Z","updated_at":"2024-03-28T11:08:06Z","author_association":"MEMBER","body":"thanks.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024928403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024958991","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2024958991","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2024958991,"node_id":"IC_kwDOAAMmUc54smwP","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-28T11:27:28Z","updated_at":"2024-03-28T11:27:28Z","author_association":"MEMBER","body":"ok, the short answer is that the (nouveau-specific) query parser interprets \"4.2.0\" as a number and performs a numeric query, not a text/string query. I'm surprised by that, but obviously the same would be true for \"4\", etc.\r\n\r\nThis is a very helpful thread btw, these are exactly the issues I want to confront before removing the 'experimental' label from nouveau.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024958991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024959631","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2024959631","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2024959631,"node_id":"IC_kwDOAAMmUc54sm6P","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-28T11:27:56Z","updated_at":"2024-03-28T11:28:16Z","author_association":"MEMBER","body":"```\r\njshell> var nf = NumberFormat.getInstance(Locale.getDefault());\r\nnf ==> java.text.DecimalFormat@674dc\r\n\r\njshell> nf.parse(\"4\");\r\n$5 ==> 4\r\n\r\njshell> nf.parse(\"4.2\");\r\n$6 ==> 4.2\r\n\r\njshell> nf.parse(\"4.2.0\");\r\n$7 ==> 4.2\r\n```\r\n\r\nThat's core Java behaviour.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024959631/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024970658","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2024970658","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2024970658,"node_id":"IC_kwDOAAMmUc54spmi","user":{"login":"GMishx","id":18077542,"node_id":"MDQ6VXNlcjE4MDc3NTQy","avatar_url":"https://avatars.githubusercontent.com/u/18077542?v=4","gravatar_id":"","url":"https://api.github.com/users/GMishx","html_url":"https://github.com/GMishx","followers_url":"https://api.github.com/users/GMishx/followers","following_url":"https://api.github.com/users/GMishx/following{/other_user}","gists_url":"https://api.github.com/users/GMishx/gists{/gist_id}","starred_url":"https://api.github.com/users/GMishx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GMishx/subscriptions","organizations_url":"https://api.github.com/users/GMishx/orgs","repos_url":"https://api.github.com/users/GMishx/repos","events_url":"https://api.github.com/users/GMishx/events{/privacy}","received_events_url":"https://api.github.com/users/GMishx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-28T11:34:57Z","updated_at":"2024-03-28T11:34:57Z","author_association":"CONTRIBUTOR","body":"BTW for context, I am translating the project [sw360](https://github.com/eclipse-sw360/sw360) which currently uses [couchdb-lucene](https://github.com/rnewson/couchdb-lucene) to nouveau.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2024970658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2025166485","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2025166485","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2025166485,"node_id":"IC_kwDOAAMmUc54tZaV","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-28T13:17:24Z","updated_at":"2024-03-28T13:17:24Z","author_association":"MEMBER","body":"that's helpful to know, thanks. I'm looking at changing the \"magical\" nature of numeric queries. I extended/altered the basic lucene query syntax to auto-detect numbers but it has always been a bit awkward (as you've re-discovered).\r\n\r\nso I'm looking at a syntax extension that lets you tell nouveau that you intend to look for \"2\" as a string or as a number, explicitly.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2025166485/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2027509718","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2027509718","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2027509718,"node_id":"IC_kwDOAAMmUc542VfW","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-29T17:13:42Z","updated_at":"2024-03-29T17:13:42Z","author_association":"MEMBER","body":"posted a draft PR that addresses this, with some extensive prose on whether it's a good idea or not.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2027509718/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2029154672","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2029154672","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2029154672,"node_id":"IC_kwDOAAMmUc548nFw","user":{"login":"GMishx","id":18077542,"node_id":"MDQ6VXNlcjE4MDc3NTQy","avatar_url":"https://avatars.githubusercontent.com/u/18077542?v=4","gravatar_id":"","url":"https://api.github.com/users/GMishx","html_url":"https://github.com/GMishx","followers_url":"https://api.github.com/users/GMishx/followers","following_url":"https://api.github.com/users/GMishx/following{/other_user}","gists_url":"https://api.github.com/users/GMishx/gists{/gist_id}","starred_url":"https://api.github.com/users/GMishx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GMishx/subscriptions","organizations_url":"https://api.github.com/users/GMishx/orgs","repos_url":"https://api.github.com/users/GMishx/repos","events_url":"https://api.github.com/users/GMishx/events{/privacy}","received_events_url":"https://api.github.com/users/GMishx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-01T04:51:23Z","updated_at":"2024-04-01T04:51:23Z","author_association":"CONTRIBUTOR","body":"Will it make sense to use the field type of the index? We already have types `double`, `string` and `text` to differentiate the types of values. (just guessing)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2029154672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2032743122","html_url":"https://github.com/apache/couchdb/issues/5009#issuecomment-2032743122","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5009","id":2032743122,"node_id":"IC_kwDOAAMmUc55KTLS","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-02T18:19:33Z","updated_at":"2024-04-02T18:19:33Z","author_association":"MEMBER","body":"looks simple. we use lists:ukeymerge but did not ensure the original list was in key order. probably change this to a map now, though.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2032743122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2032778865","html_url":"https://github.com/apache/couchdb/issues/5009#issuecomment-2032778865","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5009","id":2032778865,"node_id":"IC_kwDOAAMmUc55Kb5x","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-02T18:31:05Z","updated_at":"2024-04-02T18:31:05Z","author_association":"CONTRIBUTOR","body":"@rnewson good idea to use a map, I had actually started on a PR during the weekend but didn't add tests yet. I'll add some test and push it later to day for the review.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2032778865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2032783656","html_url":"https://github.com/apache/couchdb/issues/5009#issuecomment-2032783656","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5009","id":2032783656,"node_id":"IC_kwDOAAMmUc55KdEo","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-02T18:34:21Z","updated_at":"2024-04-02T18:34:21Z","author_association":"MEMBER","body":"as for why it also uses rotate_list at the start is a mystery to me given the later assumption that it is in key order.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2032783656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2032831185","html_url":"https://github.com/apache/couchdb/issues/5009#issuecomment-2032831185","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5009","id":2032831185,"node_id":"IC_kwDOAAMmUc55KorR","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-02T18:57:03Z","updated_at":"2024-04-02T18:57:03Z","author_association":"CONTRIBUTOR","body":"Gave it a try here https://github.com/apache/couchdb/pull/5025\r\n\r\nWe didn't have any tests for `_up` and few other \"misc\" chttpd handler likes `_uuid` so added a few those.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2032831185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034589442","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2034589442","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2034589442,"node_id":"IC_kwDOAAMmUc55RV8C","user":{"login":"sergey-safarov","id":2562241,"node_id":"MDQ6VXNlcjI1NjIyNDE=","avatar_url":"https://avatars.githubusercontent.com/u/2562241?v=4","gravatar_id":"","url":"https://api.github.com/users/sergey-safarov","html_url":"https://github.com/sergey-safarov","followers_url":"https://api.github.com/users/sergey-safarov/followers","following_url":"https://api.github.com/users/sergey-safarov/following{/other_user}","gists_url":"https://api.github.com/users/sergey-safarov/gists{/gist_id}","starred_url":"https://api.github.com/users/sergey-safarov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergey-safarov/subscriptions","organizations_url":"https://api.github.com/users/sergey-safarov/orgs","repos_url":"https://api.github.com/users/sergey-safarov/repos","events_url":"https://api.github.com/users/sergey-safarov/events{/privacy}","received_events_url":"https://api.github.com/users/sergey-safarov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T13:16:55Z","updated_at":"2024-04-03T13:16:55Z","author_association":"NONE","body":"We have reproduced the same issue on the server without docker.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034589442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034724358","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2034724358","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2034724358,"node_id":"IC_kwDOAAMmUc55R24G","user":{"login":"jcoglan","id":9265,"node_id":"MDQ6VXNlcjkyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9265?v=4","gravatar_id":"","url":"https://api.github.com/users/jcoglan","html_url":"https://github.com/jcoglan","followers_url":"https://api.github.com/users/jcoglan/followers","following_url":"https://api.github.com/users/jcoglan/following{/other_user}","gists_url":"https://api.github.com/users/jcoglan/gists{/gist_id}","starred_url":"https://api.github.com/users/jcoglan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcoglan/subscriptions","organizations_url":"https://api.github.com/users/jcoglan/orgs","repos_url":"https://api.github.com/users/jcoglan/repos","events_url":"https://api.github.com/users/jcoglan/events{/privacy}","received_events_url":"https://api.github.com/users/jcoglan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T14:08:11Z","updated_at":"2024-04-03T14:08:30Z","author_association":"CONTRIBUTOR","body":"It appears that it is possible for the design doc signature to vary according to something we have not yet determined. The client's cluster that we (Neighbourhoodie) are investigating gives the following results for one of the design docs affected by a bad index signature:\r\n\r\n```\r\n$ cdb '/' | jq '{ version, git_sha }'\r\n{\r\n  \"version\": \"3.3.3\",\r\n  \"git_sha\": \"40afbcfc7\"\r\n}\r\n\r\n$ cdb '/{db}/_design/{id}' | md5sum\r\nef932f29b40bc1795360ea095051d782  -\r\n\r\n$ cdb '/{db}/_design/{id}/_info' | jq '.view_index.signature'\r\n\"c15a2c0300aefa07abdea125eba80a98\"\r\n```\r\n\r\nWe copied this design doc and saved into a local dev cluster running the same CouchDB version/commit, and it gave the same md5sum and signature.\r\n\r\nHowever, when putting this same design doc into the CouchDB service installed by Homebrew, it gives the same md5sum but a different signature:\r\n\r\n```\r\n$ cdb '/{db}/_design/{id}/_info' | jq '.view_index.signature'\r\n\"20ae103a2d660c16f4cbbc43703ede09\"\r\n```\r\n\r\nThis indicates that its possible for the same design document to produce a different signature on different systems, possibly on different nodes of the same cluster depending on what the cause is.\r\n\r\nEnvironment of each test:\r\n\r\n- Customer production system: Linux, CouchDB v3.3.3, SpiderMonkey 1.8.5, Erlang 24.3.4.15, ICU library 60.3, collator 153.80, algorithm 10\r\n\r\n- Local dev cluster: macOS 13.6.4, CouchDB v3.3.3, SpiderMonkey 91, Erlang 25.3.2.9, ICU library 74.2, collator 153.121, algorithm 15.1\r\n\r\n- Homebrew install: macOS 13.6.4, CouchDB v3.3.3, SpiderMonkey 91, Erlang 26.2.1, ICU library 73.2, collator 153.120, algorithm 15","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034724358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034858367","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2034858367","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2034858367,"node_id":"IC_kwDOAAMmUc55SXl_","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T14:58:57Z","updated_at":"2024-04-03T14:58:57Z","author_association":"CONTRIBUTOR","body":"@jcoglan I suspect if term_to_binary output is different between architectures or erlang versions somehow.\r\n\r\nView signatures are computed in: https://github.com/apache/couchdb/blob/33bfa1328ed7f20de2983c9394fb473cf4ca5ecf/src/couch_mrview/src/couch_mrview_util.erl#L280-L281\r\n\r\nSee if you can an add a log statement and dump the `SigInfo` term there and try running the term through the term_to_binary in an erlang prompt on all erlang/architecture versions and see it  produces the same result.\r\n\r\nErlang 26 had introduced the `deterministic` term_to_binary option so maybe we should start using that (though it only guarantees to be stable for the same Erlang/OTP release).\r\n\r\nThe other thing that's changed is UTF8 encoding of atoms. That's probably what the problem is here.\r\n\r\nSee some discussion from last year about it: https://github.com/apache/couchdb/issues/4467#issuecomment-1464005748\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034858367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034862858","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2034862858","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2034862858,"node_id":"IC_kwDOAAMmUc55SYsK","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T15:01:03Z","updated_at":"2024-04-03T15:01:03Z","author_association":"MEMBER","body":"```\r\n(node1@127.0.0.1)17> Views.\r\n[{mrview,0,0,0,[],\r\n         [{<<\"consumed\">>,<<\"_sum\">>}],\r\n         <<\"function (doc) { if (doc.pvt_type != 'allotment_consumption' || doc.pvt_deleted) ret\"...>>,\r\n         nil,[]},\r\n {mrview,1,0,0,\r\n         [<<\"consumed_by_callid\">>],\r\n         [],\r\n         <<\"function (doc) { if (doc.pvt_type != 'allotment_consumption' || doc.pvt_deleted)\"...>>,\r\n         nil,[]}]\r\n(node1@127.0.0.1)18> Language.\r\n<<\"javascript\">>\r\n(node1@127.0.0.1)19> DesignOpts.\r\n[]\r\n(node1@127.0.0.1)20> Libs.\r\n[]\r\n(node1@127.0.0.1)21> couch_util:to_hex_bin(couch_hash:md5_hash(term_to_binary({Views, Language, DesignOpts, Libs}))).\r\n<<\"c15a2c0300aefa07abdea125eba80a98\">>\r\n(node1@127.0.0.1)22> couch_util:to_hex_bin(couch_hash:md5_hash(term_to_binary({Views, Language, DesignOpts, Libs}, [{minor_version, 2}]))).\r\n<<\"20ae103a2d660c16f4cbbc43703ede09\">>\r\n```\r\n\r\ncouchdb 3.3.3 does not use term_to_bin everywhere, so its output will vary based on whether it runs inside OTP 26 or earler.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034862858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034864899","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2034864899","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2034864899,"node_id":"IC_kwDOAAMmUc55SZMD","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T15:01:47Z","updated_at":"2024-04-03T15:01:47Z","author_association":"MEMBER","body":"fixed since 3.3.3 with commit https://github.com/apache/couchdb/commit/453c698a51b36b68e316a7f772d9120bd492670f","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034864899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034867697","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2034867697","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2034867697,"node_id":"IC_kwDOAAMmUc55SZ3x","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T15:03:06Z","updated_at":"2024-04-03T15:03:06Z","author_association":"MEMBER","body":"noting that couchdb 3.3.3 explicitly rejects OTP 26;\r\n\r\n```\r\nmake\r\n==> snappy (compile)\r\nERROR: OTP release 26 does not match required regex 23|24|25\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034867697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034869105","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2034869105","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2034869105,"node_id":"IC_kwDOAAMmUc55SaNx","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T15:03:45Z","updated_at":"2024-04-03T15:03:45Z","author_association":"MEMBER","body":"```\r\nrebar.config.script:    {require_otp_vsn, \"23|24|25\"},\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034869105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034889690","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2034889690","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2034889690,"node_id":"IC_kwDOAAMmUc55SfPa","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T15:12:00Z","updated_at":"2024-04-03T15:12:16Z","author_association":"CONTRIBUTOR","body":"Good find @rnewson it's the `{minor_version, 1}` and atom encoding. Any terms with atoms produced running with Erlang 26 before that would definitely have a different hash.\r\n\r\nOn 26\r\n```\r\n> term_to_binary(foo, [{minor_version,1}]).\r\n<<131,100,0,3,102,111,111>>\r\n\r\n> term_to_binary(foo).\r\n<<131,119,3,102,111,111>>\r\n```\r\n\r\nBut I wonder if there is something else besides atoms there that would cause in-determinism, I'd hope not because that would be terrible. We don't use maps there, ref and pids but binary reference chunks might sneak in...?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034889690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034898631","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2034898631","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2034898631,"node_id":"IC_kwDOAAMmUc55ShbH","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T15:16:03Z","updated_at":"2024-04-03T15:16:03Z","author_association":"MEMBER","body":"@nickva term_to_binary is fragile and we should not be using it for view signatures (at least). The original decision was done I'm sure out of expediency and/or (benign) ignorance. forcing {minor_version, 1} is likely a solid fix for years to come, but the only truly safe path out is to define the view signature algorithm explicitly.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2034898631/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2035727591","html_url":"https://github.com/apache/couchdb/pull/5025#issuecomment-2035727591","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5025","id":2035727591,"node_id":"IC_kwDOAAMmUc55Vrzn","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T22:39:49Z","updated_at":"2024-04-03T22:39:49Z","author_association":"CONTRIBUTOR","body":"I'll add a few tests for the success path. Would have to mock the internal replicator we don't have a multi-node test framework.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2035727591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2035772489","html_url":"https://github.com/apache/couchdb/pull/5025#issuecomment-2035772489","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5025","id":2035772489,"node_id":"IC_kwDOAAMmUc55V2xJ","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-03T23:06:27Z","updated_at":"2024-04-03T23:06:27Z","author_association":"CONTRIBUTOR","body":"Coverage looks a bit better:\r\n\r\n<img width=\"516\" alt=\"Screenshot 2024-04-03 at 7 05 18 PM\" src=\"https://github.com/apache/couchdb/assets/211822/be739231-690e-4242-a3f0-02cc796f6e64\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2035772489/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2036059357","html_url":"https://github.com/apache/couchdb/issues/5026#issuecomment-2036059357","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5026","id":2036059357,"node_id":"IC_kwDOAAMmUc55W8zd","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T02:41:25Z","updated_at":"2024-04-04T02:41:25Z","author_association":"CONTRIBUTOR","body":"Conflicted shards means that the database metadata doc in the `_dbs` has a conflicts. That database is replicated in a circle (n1->n2->n3->n1) and since any node can receive database creation requests it's possible to get conflicts in those documents. We only use the winning (latest) version of the db but warn the user via custodian (a helper background watcher service) if there are conflicts present. I believe you can delete the conflicted revision one of the nodes (via `/_node/_local/_dbs/$dbname`) and then custodian will stop reporting it.\r\n\r\nThe code that detects is somewhere here: https://github.com/apache/couchdb/blob/main/src/custodian/src/custodian_util.erl#L206-L208","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2036059357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2036064986","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2036064986","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2036064986,"node_id":"IC_kwDOAAMmUc55W-La","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T02:45:10Z","updated_at":"2024-04-04T02:45:10Z","author_association":"CONTRIBUTOR","body":"> We have reproduced the same issue on the server without docker.\r\n\r\n@sergey-safarov that's good news. Can it turned into a script or it's fairly simple to describe steps?\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2036064986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2037289935","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2037289935","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2037289935,"node_id":"IC_kwDOAAMmUc55bpPP","user":{"login":"sergey-safarov","id":2562241,"node_id":"MDQ6VXNlcjI1NjIyNDE=","avatar_url":"https://avatars.githubusercontent.com/u/2562241?v=4","gravatar_id":"","url":"https://api.github.com/users/sergey-safarov","html_url":"https://github.com/sergey-safarov","followers_url":"https://api.github.com/users/sergey-safarov/followers","following_url":"https://api.github.com/users/sergey-safarov/following{/other_user}","gists_url":"https://api.github.com/users/sergey-safarov/gists{/gist_id}","starred_url":"https://api.github.com/users/sergey-safarov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergey-safarov/subscriptions","organizations_url":"https://api.github.com/users/sergey-safarov/orgs","repos_url":"https://api.github.com/users/sergey-safarov/repos","events_url":"https://api.github.com/users/sergey-safarov/events{/privacy}","received_events_url":"https://api.github.com/users/sergey-safarov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T13:56:04Z","updated_at":"2024-04-04T13:56:04Z","author_association":"NONE","body":"For me, it isn't easy to reproduce. It randomly happens.\r\nThe CouchDB server works several weeks without this error and then it can happen.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2037289935/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2037319284","html_url":"https://github.com/apache/couchdb/issues/5027#issuecomment-2037319284","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5027","id":2037319284,"node_id":"IC_kwDOAAMmUc55bwZ0","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T14:08:53Z","updated_at":"2024-04-04T14:08:53Z","author_association":"MEMBER","body":"This will not be supported for the same reason that Lucene itself recommends against it, it is very inefficient (all documents with the field must be read, you get no benefit from an index).\r\n\r\nIf you truly need this a common trick is to reverse your index input and reverse your query, converting a suffix query into a more efficient prefix query.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2037319284/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2037323789","html_url":"https://github.com/apache/couchdb/issues/5027#issuecomment-2037323789","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5027","id":2037323789,"node_id":"IC_kwDOAAMmUc55bxgN","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T14:10:47Z","updated_at":"2024-04-04T14:10:47Z","author_association":"MEMBER","body":"https://lucene.apache.org/core/9_10_0/queryparser/org/apache/lucene/queryparser/flexible/standard/CommonQueryParserConfiguration.html#setAllowLeadingWildcard(boolean)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2037323789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2038065919","html_url":"https://github.com/apache/couchdb/issues/5022#issuecomment-2038065919","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5022","id":2038065919,"node_id":"IC_kwDOAAMmUc55emr_","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T19:37:11Z","updated_at":"2024-04-04T19:37:11Z","author_association":"CONTRIBUTOR","body":"Thank you for your  report @tahirshak.\r\n\r\nIs there any log emitted right before that?\r\n\r\nAfter that happens does couchdb still work? Can you use the Fauxton interface or make API calls to it?\r\n\r\nDoes its resources usage seem to change during that time (uses more CPU/memory or less?).\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2038065919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2038088151","html_url":"https://github.com/apache/couchdb/issues/5023#issuecomment-2038088151","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5023","id":2038088151,"node_id":"IC_kwDOAAMmUc55esHX","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T19:51:52Z","updated_at":"2024-04-04T19:51:52Z","author_association":"CONTRIBUTOR","body":"Hey @Nidhi-Patel20,\r\n\r\nI tried to reproduce your issues, with no luck. All is working for me.\r\n\r\nAt the moment, there is no way to configure your ports during (silent) installation! This needs to be implemented.\r\n\r\nNext, try to start CouchDB from a normal command prompt for example with (install dir `C:\\CouchDB-3.3.3`):\r\n```\r\nC:\\>CouchDB-3.3.3\\bin\\couchdb.cmd\r\n```\r\n\r\nThis should start CouchDB (and there should be no output). \r\nIf you get a crash report, please append the message here!\r\nBefore we proceed, give this a try and show your findings.\r\n\r\nCheers, Ronny","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2038088151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2038090471","html_url":"https://github.com/apache/couchdb/issues/5028#issuecomment-2038090471","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5028","id":2038090471,"node_id":"IC_kwDOAAMmUc55esrn","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T19:53:35Z","updated_at":"2024-04-04T19:53:35Z","author_association":"CONTRIBUTOR","body":"Hey,\r\n\r\nyour user account has no write permissions on your installation directory. Check your users security settings.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2038090471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2038105007","html_url":"https://github.com/apache/couchdb/issues/5028#issuecomment-2038105007","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5028","id":2038105007,"node_id":"IC_kwDOAAMmUc55ewOv","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T20:00:51Z","updated_at":"2024-04-04T20:00:51Z","author_association":"MEMBER","body":"`{error,eacces}` is the important bit. couchdb is not permitted to write to the log file location you've configured.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2038105007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2038341782","html_url":"https://github.com/apache/couchdb/issues/5028#issuecomment-2038341782","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5028","id":2038341782,"node_id":"IC_kwDOAAMmUc55fqCW","user":{"login":"sht2017","id":29155206,"node_id":"MDQ6VXNlcjI5MTU1MjA2","avatar_url":"https://avatars.githubusercontent.com/u/29155206?v=4","gravatar_id":"","url":"https://api.github.com/users/sht2017","html_url":"https://github.com/sht2017","followers_url":"https://api.github.com/users/sht2017/followers","following_url":"https://api.github.com/users/sht2017/following{/other_user}","gists_url":"https://api.github.com/users/sht2017/gists{/gist_id}","starred_url":"https://api.github.com/users/sht2017/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sht2017/subscriptions","organizations_url":"https://api.github.com/users/sht2017/orgs","repos_url":"https://api.github.com/users/sht2017/repos","events_url":"https://api.github.com/users/sht2017/events{/privacy}","received_events_url":"https://api.github.com/users/sht2017/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-04T22:18:19Z","updated_at":"2024-04-04T22:19:01Z","author_association":"NONE","body":"> `{error,eacces}` is the important bit. couchdb is not permitted to write to the log file location you've configured.\r\n\r\n\r\n\r\n> Hey,\r\n> \r\n> your user account has no write permissions on your installation directory. Check your users security settings.\r\n\r\n\r\nThanks, for solving it by manually resetting the installation path's permission. However, somehow the setup program for Windows would alternate the installation path permission. I doubt that might be a bug because it won't make the installation path auto-inherit the parent-path's permission.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2038341782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2039130154","html_url":"https://github.com/apache/couchdb/issues/5027#issuecomment-2039130154","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5027","id":2039130154,"node_id":"IC_kwDOAAMmUc55iqgq","user":{"login":"GMishx","id":18077542,"node_id":"MDQ6VXNlcjE4MDc3NTQy","avatar_url":"https://avatars.githubusercontent.com/u/18077542?v=4","gravatar_id":"","url":"https://api.github.com/users/GMishx","html_url":"https://github.com/GMishx","followers_url":"https://api.github.com/users/GMishx/followers","following_url":"https://api.github.com/users/GMishx/following{/other_user}","gists_url":"https://api.github.com/users/GMishx/gists{/gist_id}","starred_url":"https://api.github.com/users/GMishx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GMishx/subscriptions","organizations_url":"https://api.github.com/users/GMishx/orgs","repos_url":"https://api.github.com/users/GMishx/repos","events_url":"https://api.github.com/users/GMishx/events{/privacy}","received_events_url":"https://api.github.com/users/GMishx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-05T07:23:16Z","updated_at":"2024-04-05T07:23:16Z","author_association":"CONTRIBUTOR","body":"Thanks for the explanation and inputs.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2039130154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2039268864","html_url":"https://github.com/apache/couchdb/issues/5026#issuecomment-2039268864","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5026","id":2039268864,"node_id":"IC_kwDOAAMmUc55jMYA","user":{"login":"sergey-safarov","id":2562241,"node_id":"MDQ6VXNlcjI1NjIyNDE=","avatar_url":"https://avatars.githubusercontent.com/u/2562241?v=4","gravatar_id":"","url":"https://api.github.com/users/sergey-safarov","html_url":"https://github.com/sergey-safarov","followers_url":"https://api.github.com/users/sergey-safarov/followers","following_url":"https://api.github.com/users/sergey-safarov/following{/other_user}","gists_url":"https://api.github.com/users/sergey-safarov/gists{/gist_id}","starred_url":"https://api.github.com/users/sergey-safarov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergey-safarov/subscriptions","organizations_url":"https://api.github.com/users/sergey-safarov/orgs","repos_url":"https://api.github.com/users/sergey-safarov/repos","events_url":"https://api.github.com/users/sergey-safarov/events{/privacy}","received_events_url":"https://api.github.com/users/sergey-safarov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-05T08:59:17Z","updated_at":"2024-04-05T08:59:59Z","author_association":"NONE","body":"Could you update the log message to\r\n```\r\n1 conflicted shard in the cluster, please check document revisions for \"_dbs\" REST endpoint on all cluster nodes\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2039268864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2040160442","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2040160442","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2040160442,"node_id":"IC_kwDOAAMmUc55mmC6","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-05T15:57:40Z","updated_at":"2024-04-05T15:57:40Z","author_association":"CONTRIBUTOR","body":"I searched through our logs and found a few of \"has the wrong signature\" errors as well. In our case they all happened on nodes were being decommissioned and database shards were migrating to new nodes. Wonder if there is a higher chance of it happening if there is a network partition or shard map changes when a the design document updates at the same time...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2040160442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2040405365","html_url":"https://github.com/apache/couchdb/issues/5028#issuecomment-2040405365","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5028","id":2040405365,"node_id":"IC_kwDOAAMmUc55nh11","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-05T18:32:59Z","updated_at":"2024-04-05T18:32:59Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\ncommenting on your video from above:\r\nThe msi is doing an administrative installation of CouchDB (UAC window is opening during setup), so the install directory has system rights. Looking at the wix installer we have this:\r\n```\r\n<CreateFolder>\r\n  <Permission User=\"[WIX_ACCOUNT_LOCALSYSTEM]\" GenericAll=\"yes\" />\r\n  <Permission User=\"[WIX_ACCOUNT_ADMINISTRATORS]\" GenericAll=\"yes\" />\r\n  <Permission User=\"[WIX_ACCOUNT_USERS]\" GenericRead=\"yes\" GenericExecute=\"yes\" />\r\n</CreateFolder>\r\n```\r\nSo users in the USERS group will get read/execute access by default ...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2040405365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2041225562","html_url":"https://github.com/apache/couchdb/issues/5028#issuecomment-2041225562","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5028","id":2041225562,"node_id":"IC_kwDOAAMmUc55qqFa","user":{"login":"sht2017","id":29155206,"node_id":"MDQ6VXNlcjI5MTU1MjA2","avatar_url":"https://avatars.githubusercontent.com/u/29155206?v=4","gravatar_id":"","url":"https://api.github.com/users/sht2017","html_url":"https://github.com/sht2017","followers_url":"https://api.github.com/users/sht2017/followers","following_url":"https://api.github.com/users/sht2017/following{/other_user}","gists_url":"https://api.github.com/users/sht2017/gists{/gist_id}","starred_url":"https://api.github.com/users/sht2017/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sht2017/subscriptions","organizations_url":"https://api.github.com/users/sht2017/orgs","repos_url":"https://api.github.com/users/sht2017/repos","events_url":"https://api.github.com/users/sht2017/events{/privacy}","received_events_url":"https://api.github.com/users/sht2017/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-06T22:56:01Z","updated_at":"2024-04-06T23:01:22Z","author_association":"NONE","body":"> Hi,\r\n> \r\n> commenting on your video from above: The msi is doing an administrative installation of CouchDB (UAC window is opening during setup), so the install directory has system rights. Looking at the wix installer we have this:\r\n> \r\n> ```\r\n> <CreateFolder>\r\n>   <Permission User=\"[WIX_ACCOUNT_LOCALSYSTEM]\" GenericAll=\"yes\" />\r\n>   <Permission User=\"[WIX_ACCOUNT_ADMINISTRATORS]\" GenericAll=\"yes\" />\r\n>   <Permission User=\"[WIX_ACCOUNT_USERS]\" GenericRead=\"yes\" GenericExecute=\"yes\" />\r\n> </CreateFolder>\r\n> ```\r\n> \r\n> So users in the USERS group will get read/execute access by default ...\r\n\r\nI still believe so. \r\nSince the part you provide,\r\n`<Permission User=\"[WIX_ACCOUNT_USERS]\" GenericRead=\"yes\" GenericExecute=\"yes\" />`\r\nObviously, the USERS group will not get write access by default. If anyone tries to start CouchDB server without the administrator's permission it will fail anyway due to the lack of write access to the default log path as I occoured.\r\n```\r\n{\"Kernel pid terminated\",application_controller,\"{application_start_failure,couch_log,{{shutdown,{failed_to_start_child,couch_log_server,{{badmatch,{error,eacces}},[{couch_log_writer,init,0,[{file,\\\"src/couch_log_writer.erl\\\"},{line,36}]},{couch_log_server,init,1,[{file,\\\"src/couch_log_server.erl\\\"},{line,56}]},{gen_server,init_it,2,[{file,\\\"gen_server.erl\\\"},{line,423}]},{gen_server,init_it,6,[{file,\\\"gen_server.erl\\\"},{line,390}]},{proc_lib,init_p_do_apply,3,[{file,\\\"proc_lib.erl\\\"},{line,226}]}]}}},{couch_log_app,start,[normal,[]]}}}\"}\r\nKernel pid terminated (application_controller) ({application_start_failure,couch_log,{{shutdown,{failed_to_start_child,couch_log_server,{{badmatch,{error,eacces}},[{couch_log_writer,init,0,[{file,\"src/couch_log_writer.erl\"},{line,36}]},{couch_log_server,init,1,[{file,\"src/couch_log_server.erl\"},{line,56}]},{gen_server,init_it,2,[{file,\"gen_server.erl\"},{line,423}]},{gen_server,init_it,6,[{file,\"gen_server.erl\"},{line,390}]},{proc_lib,init_p_do_apply,3,[{file,\"proc_lib.erl\"},{line,226}]}]}}},{couch_log_app,start,[normal,[]]}}})\r\n\r\nCrash dump is being written to: erl_crash.dump...\r\n```\r\nSo I guess we may need to consider that to let the USERs group obtain write access to the path, or change the default path for log file...\r\nOr at least, I guess we need to put it in document","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2041225562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2041630476","html_url":"https://github.com/apache/couchdb/issues/5022#issuecomment-2041630476","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5022","id":2041630476,"node_id":"IC_kwDOAAMmUc55sM8M","user":{"login":"tahirshak","id":107314521,"node_id":"U_kgDOBmV9WQ","avatar_url":"https://avatars.githubusercontent.com/u/107314521?v=4","gravatar_id":"","url":"https://api.github.com/users/tahirshak","html_url":"https://github.com/tahirshak","followers_url":"https://api.github.com/users/tahirshak/followers","following_url":"https://api.github.com/users/tahirshak/following{/other_user}","gists_url":"https://api.github.com/users/tahirshak/gists{/gist_id}","starred_url":"https://api.github.com/users/tahirshak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tahirshak/subscriptions","organizations_url":"https://api.github.com/users/tahirshak/orgs","repos_url":"https://api.github.com/users/tahirshak/repos","events_url":"https://api.github.com/users/tahirshak/events{/privacy}","received_events_url":"https://api.github.com/users/tahirshak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-07T22:34:46Z","updated_at":"2024-04-07T22:34:46Z","author_association":"NONE","body":"Hi @nickva , Please see the response to your questions.\r\n\r\nQ: Is there any log emitted right before that?\r\n\r\nLooking at the logs leading to when couchdb stopped writing to the journal, in just 5 minutes it emitted about 45k logs entries. Most of those messages are about the indexer such as `Starting index update for db: shards` and `Index update finished for db: shards` . \r\n\r\nQ: After that happens does couchdb still work? Can you use the Fauxton interface or make API calls to it?\r\n\r\nCouchdb still works and functioning, we can login to Fauxton and run the curl commands.\r\n\r\nQ: Does its resources usage seem to change during that time (uses more CPU/memory or less?).\r\n\r\nYes, the CPU spiked little bit to 40% and the memory spiked as well to 15%.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2041630476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2041644001","html_url":"https://github.com/apache/couchdb/issues/5028#issuecomment-2041644001","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5028","id":2041644001,"node_id":"IC_kwDOAAMmUc55sQPh","user":{"login":"sht2017","id":29155206,"node_id":"MDQ6VXNlcjI5MTU1MjA2","avatar_url":"https://avatars.githubusercontent.com/u/29155206?v=4","gravatar_id":"","url":"https://api.github.com/users/sht2017","html_url":"https://github.com/sht2017","followers_url":"https://api.github.com/users/sht2017/followers","following_url":"https://api.github.com/users/sht2017/following{/other_user}","gists_url":"https://api.github.com/users/sht2017/gists{/gist_id}","starred_url":"https://api.github.com/users/sht2017/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sht2017/subscriptions","organizations_url":"https://api.github.com/users/sht2017/orgs","repos_url":"https://api.github.com/users/sht2017/repos","events_url":"https://api.github.com/users/sht2017/events{/privacy}","received_events_url":"https://api.github.com/users/sht2017/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-07T23:28:29Z","updated_at":"2024-04-07T23:28:29Z","author_association":"NONE","body":"@big-r81 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2041644001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2042710242","html_url":"https://github.com/apache/couchdb/pull/5021#issuecomment-2042710242","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5021","id":2042710242,"node_id":"IC_kwDOAAMmUc55wUji","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-08T13:05:09Z","updated_at":"2024-04-08T13:05:09Z","author_association":"MEMBER","body":"note I added a new field comparator source for the niche case where one shard range hasn't yet indexed a document with a given field and then is asked to sort on that field. the sort value of all documents for such a field is defined as null, which sorts first in the nouveau results because that's how couch_ejson_compare is defined. \r\n\r\nThis can trigger if your index function doesn't always index a value for the field you wish to sort on or you have so few documents in your index that one or more shard ranges have not yet indexed anything.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2042710242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2044077000","html_url":"https://github.com/apache/couchdb/issues/5026#issuecomment-2044077000","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5026","id":2044077000,"node_id":"IC_kwDOAAMmUc551iPI","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-09T03:12:13Z","updated_at":"2024-04-09T03:12:13Z","author_association":"CONTRIBUTOR","body":"I think it may work as a documentation string better as opposed a longer log message. Maybe a paragraph in the docs indicating what the error means, with a few examples, so it's easy to search, and how to react to it.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2044077000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2044080839","html_url":"https://github.com/apache/couchdb/issues/5022#issuecomment-2044080839","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5022","id":2044080839,"node_id":"IC_kwDOAAMmUc551jLH","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-09T03:17:54Z","updated_at":"2024-04-09T03:17:54Z","author_association":"CONTRIBUTOR","body":"@tahirshak thank you for responding. That's interesting about the CPU spiking a bit afterwards. I still don't quite have a clue what might be going on.\r\n\r\nIn production I only have experience with the syslog writer. That one never seems to behave this way. The journald log writer just seems to write to `standard_error` https://github.com/apache/couchdb/commit/c2ff7da78e3be137f6790b5d64aaf157348b1e4b but I can't think why it would stop. Wonder if a log gets full or can't be rotated then standard_error would lock up?\r\n\r\nWould it be possible for you try a syslog writer and have a system rsyslog package installed to see if it would behave the same way?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2044080839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2044330305","html_url":"https://github.com/apache/couchdb/issues/5028#issuecomment-2044330305","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5028","id":2044330305,"node_id":"IC_kwDOAAMmUc552gFB","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-09T07:32:56Z","updated_at":"2024-04-09T07:32:56Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\nI think we should not mix things here. The current setup is an administrative installation (exactly a system-wide install) with the possibility to install and run CouchDB as a Windows service (with administrator privileges). So far, all is working as expected. Currently, CouchDB is not intended to run under a \"normal\" user after installation.\r\nAt the moment you have the possibility (workaround) change the installation folder permissions to have write access for the current user after the installation.\r\n\r\nTo fix this as a whole, there need to be more changes to the process of distributing it for Windows:\r\n\r\n1. Create an installer, which allows a system-wide or user-wide installation of CouchDB and / or\r\n2. Distribute CouchDB as a zipped package without installation at all\r\n\r\nI would welcome any PRs which provide more flexible and user-friendly installation methods in the [CouchDB Glazier](https://github.com/apache/couchdb-glazier) repository.  \r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2044330305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2045270650","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2045270650","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2045270650,"node_id":"IC_kwDOAAMmUc556Fp6","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-09T14:07:02Z","updated_at":"2024-04-09T14:07:02Z","author_association":"MEMBER","body":"> noting that couchdb 3.3.3 explicitly rejects OTP 26;\r\n\r\nI seem to have been naughty when making the 3.3.3 Mac binaries, I swear I did this for a good reason, but I dont recall it at the moment. I think the 25-jit failed on arm Mac, but Im not sure: https://github.com/janl/build-couchdb-mac/blob/master/build.sh#L72-L73\r\n\r\nNone of this is relevant to the issue in the ticket, it just clarifies what @jcoglan reported","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2045270650/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2045417602","html_url":"https://github.com/apache/couchdb/issues/5022#issuecomment-2045417602","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5022","id":2045417602,"node_id":"IC_kwDOAAMmUc556piC","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-09T15:07:04Z","updated_at":"2024-04-09T15:12:38Z","author_association":"CONTRIBUTOR","body":"Perhaps it's similar to https://github.com/coreos/bugs/issues/990, a systemd issue?\r\n\r\nIf it's triggered by log volume can try lowering the log level to `error`: https://docs.couchdb.org/en/stable/config/logging.html#log/level\r\n\r\nI don't know if you want to dive in and debug journald/systemd but I owuld to bypass systemd altogether and log to a file or use rsyslog and use the syslog backend: https://docs.couchdb.org/en/stable/config/logging.html#log/syslog_host\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2045417602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2045989505","html_url":"https://github.com/apache/couchdb/issues/5005#issuecomment-2045989505","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5005","id":2045989505,"node_id":"IC_kwDOAAMmUc5581KB","user":{"login":"jungalwala","id":1099499,"node_id":"MDQ6VXNlcjEwOTk0OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1099499?v=4","gravatar_id":"","url":"https://api.github.com/users/jungalwala","html_url":"https://github.com/jungalwala","followers_url":"https://api.github.com/users/jungalwala/followers","following_url":"https://api.github.com/users/jungalwala/following{/other_user}","gists_url":"https://api.github.com/users/jungalwala/gists{/gist_id}","starred_url":"https://api.github.com/users/jungalwala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jungalwala/subscriptions","organizations_url":"https://api.github.com/users/jungalwala/orgs","repos_url":"https://api.github.com/users/jungalwala/repos","events_url":"https://api.github.com/users/jungalwala/events{/privacy}","received_events_url":"https://api.github.com/users/jungalwala/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-09T20:23:26Z","updated_at":"2024-04-09T20:23:26Z","author_association":"NONE","body":"I just tried uninstalling couchdb and it worked with no errors (etc files kept).  \r\nI tried to install again using \"apt-get install couchdb -y\" and it again fails.\r\n\r\n`\r\napt-get install couchdb -y\r\nReading package lists... Done\r\nBuilding dependency tree... Done\r\nReading state information... Done\r\nThe following packages were automatically installed and are no longer required:\r\n  gyp libc-ares2 libfile-basedir-perl libfile-desktopentry-perl libfile-mimeinfo-perl libfontenc1 libipc-system-simple-perl libjs-highlight.js libjs-inherits libjs-is-typedarray libjs-psl libjs-typedarray-to-buffer liblua5.3-0 libnet-dbus-perl libssl-dev libtext-iconv-perl libtie-ixhash-perl\r\n  libuv1-dev libvte-2.91-0 libvte-2.91-common libx11-protocol-perl libxaw7 libxcb-shape0 libxkbfile1 libxml-parser-perl libxml-twig-perl libxml-xpathengine-perl libxmu6 libxmuu1 libxv1 libxxf86dga1 node-abbrev node-agent-base node-ajv node-ansi node-ansi-regex node-ansi-styles node-ansistyles\r\n  node-aproba node-archy node-are-we-there-yet node-asap node-asn1 node-assert-plus node-asynckit node-aws-sign2 node-aws4 node-balanced-match node-bcrypt-pbkdf node-brace-expansion node-builtins node-cacache node-caseless node-chalk node-chownr node-clone node-color-convert node-color-name\r\n  node-colors node-columnify node-combined-stream node-concat-map node-console-control-strings node-copy-concurrently node-core-util-is node-dashdash node-debug node-defaults node-delayed-stream node-delegates node-depd node-ecc-jsbn node-encoding node-err-code node-escape-string-regexp\r\n  node-extend node-extsprintf node-fast-deep-equal node-forever-agent node-form-data node-fs-write-stream-atomic node-fs.realpath node-function-bind node-gauge node-getpass node-glob node-graceful-fs node-har-schema node-har-validator node-has-flag node-has-unicode node-hosted-git-info\r\n  node-http-signature node-https-proxy-agent node-iconv-lite node-iferr node-imurmurhash node-indent-string node-inflight node-inherits node-ini node-ip node-ip-regex node-is-typedarray node-isarray node-isexe node-isstream node-jsbn node-json-parse-better-errors node-json-schema\r\n  node-json-schema-traverse node-json-stable-stringify node-json-stringify-safe node-jsonify node-jsonparse node-jsonstream node-jsprim node-leven node-lockfile node-lru-cache node-mime node-mime-types node-minimatch node-mkdirp node-move-concurrently node-ms node-mute-stream node-nopt\r\n  node-normalize-package-data node-npm-bundled node-npm-package-arg node-npmlog node-number-is-nan node-oauth-sign node-object-assign node-once node-opener node-osenv node-p-map node-path-is-absolute node-performance-now node-process-nextick-args node-promise-inflight node-promise-retry\r\n  node-promzard node-psl node-puka node-punycode node-qs node-read node-read-package-json node-readable-stream node-request node-resolve node-resolve-from node-retry node-rimraf node-run-queue node-safe-buffer node-semver node-set-blocking node-signal-exit node-slash node-spdx-correct\r\n  node-spdx-exceptions node-spdx-expression-parse node-spdx-license-ids node-sshpk node-ssri node-string-decoder node-string-width node-strip-ansi node-supports-color node-tar node-text-table node-through node-tough-cookie node-tunnel-agent node-tweetnacl node-typedarray-to-buffer\r\n  node-unique-filename node-universalify node-uri-js node-util-deprecate node-uuid node-validate-npm-package-license node-validate-npm-package-name node-verror node-wcwidth.js node-which node-wide-align node-wrappy node-write-file-atomic node-yallist python3-pkg-resources termit x11-utils\r\n  x11-xserver-utils xdg-utils\r\nUse 'apt autoremove' to remove them.\r\nThe following NEW packages will be installed:\r\n  couchdb\r\n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\r\nNeed to get 0 B/30.9 MB of archives.\r\nAfter this operation, 54.2 MB of additional disk space will be used.\r\nPreconfiguring packages ...\r\ncouchdb failed to preconfigure, with exit status 128\r\nSelecting previously unselected package couchdb.\r\n(Reading database ... 103815 files and directories currently installed.)\r\nPreparing to unpack .../couchdb_3.3.3-1~bullseye_amd64.deb ...\r\nUnpacking couchdb (3.3.3-1~bullseye) ...\r\nSetting up couchdb (3.3.3-1~bullseye) ...\r\ndpkg: error processing package couchdb (--configure):\r\n installed couchdb package post-installation script subprocess returned error exit status 128\r\nProcessing triggers for man-db (2.9.4-2) ...\r\nErrors were encountered while processing:\r\n couchdb\r\nE: Sub-process /usr/bin/dpkg returned an error code (1)\r\n\r\n`\r\n\r\nI think it may have to do with the configuration directory existing already.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2045989505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2046218905","html_url":"https://github.com/apache/couchdb/issues/4825#issuecomment-2046218905","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4825","id":2046218905,"node_id":"IC_kwDOAAMmUc559tKZ","user":{"login":"chenrui333","id":1580956,"node_id":"MDQ6VXNlcjE1ODA5NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1580956?v=4","gravatar_id":"","url":"https://api.github.com/users/chenrui333","html_url":"https://github.com/chenrui333","followers_url":"https://api.github.com/users/chenrui333/followers","following_url":"https://api.github.com/users/chenrui333/following{/other_user}","gists_url":"https://api.github.com/users/chenrui333/gists{/gist_id}","starred_url":"https://api.github.com/users/chenrui333/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenrui333/subscriptions","organizations_url":"https://api.github.com/users/chenrui333/orgs","repos_url":"https://api.github.com/users/chenrui333/repos","events_url":"https://api.github.com/users/chenrui333/events{/privacy}","received_events_url":"https://api.github.com/users/chenrui333/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-09T23:59:09Z","updated_at":"2024-04-09T23:59:09Z","author_association":"NONE","body":"any updates on the thread?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2046218905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2047612282","html_url":"https://github.com/apache/couchdb/issues/5023#issuecomment-2047612282","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5023","id":2047612282,"node_id":"IC_kwDOAAMmUc56DBV6","user":{"login":"siddheshmalpani","id":30528176,"node_id":"MDQ6VXNlcjMwNTI4MTc2","avatar_url":"https://avatars.githubusercontent.com/u/30528176?v=4","gravatar_id":"","url":"https://api.github.com/users/siddheshmalpani","html_url":"https://github.com/siddheshmalpani","followers_url":"https://api.github.com/users/siddheshmalpani/followers","following_url":"https://api.github.com/users/siddheshmalpani/following{/other_user}","gists_url":"https://api.github.com/users/siddheshmalpani/gists{/gist_id}","starred_url":"https://api.github.com/users/siddheshmalpani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddheshmalpani/subscriptions","organizations_url":"https://api.github.com/users/siddheshmalpani/orgs","repos_url":"https://api.github.com/users/siddheshmalpani/repos","events_url":"https://api.github.com/users/siddheshmalpani/events{/privacy}","received_events_url":"https://api.github.com/users/siddheshmalpani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-10T13:53:06Z","updated_at":"2024-04-10T13:54:56Z","author_association":"NONE","body":"Hey Ronny,\r\n\r\nNidhi works with me, so I know her use case and let explain that to you.\r\n\r\nOurs is a desktop based enterprise application for Windows. The application has a mobile app which uses CouchDB. The entire product is shipped in the form on an installer (.exe). The executable takes care of installing Tomcat, ActiveMQ, MariaDB and CouchDB as Windows services.\r\n\r\n**CouchDB v2.1.0:**\r\nTill now we have been using this version. The way we packaged it with our installer is:\r\n- Install CouchDB using msi installer. Stop the services and zip the installation directory. This was just one time activity.\r\n- Use the zip in all the enterprise installer bundling.\r\n- When the installer is run, identify the open ports and use them in the config properties and run the commands like following to install the CouchDB service -\r\n```\r\n> C:/NS/Production/Mobile/CouchDB/bin/nssm.exe install NS-COUCHDB-5985 C:/NS/Production/Mobile/CouchDB/bin/couchdb.cmd C:/NS/Production/Mobile/CouchDB/bin SERVICE_AUTO_START\r\n> sc start NS-COUCHDB-5985\r\n```\r\n\r\n**CouchDB v3.3.3:**\r\nWe're now upgrading to this version of CouchDB. We tried using the above steps. The service gets installed, but it doesn't start up. So this doesn't work anymore for us.\r\nNext we tried the silent installation. This installs the CouchDB but we're now not in control to **identify and specify the ports** beforehand and **customize the service name**.\r\n\r\nControlling the ports and service name before installation is important to us, because if we don't follow this and there's any deviation in the port consumption or service name, our customers won't be happy.\r\nSo, with v3.3.3, is there any workaround with which we can achieve this?\r\n\r\nThanks in advance!\r\n\r\nRegards,\r\nSiddhesh Malpani\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2047612282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2047881363","html_url":"https://github.com/apache/couchdb/issues/5023#issuecomment-2047881363","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5023","id":2047881363,"node_id":"IC_kwDOAAMmUc56EDCT","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-10T15:37:38Z","updated_at":"2024-04-10T15:37:38Z","author_association":"CONTRIBUTOR","body":"Hi Siddhesh,\r\n\r\n> **CouchDB v3.3.3:** We're now upgrading to this version of CouchDB. We tried using the above steps. The service gets installed, but it doesn't start up. So this doesn't work anymore for us. Next we tried the silent installation. This installs the CouchDB but we're now not in control to **identify and specify the ports** beforehand and **customize the service name**.\r\n> \r\n> Controlling the ports and service name before installation is important to us, because if we don't follow this and there's any deviation in the port consumption or service name, our customers won't be happy. So, with v3.3.3, is there any workaround with which we can achieve this?\r\n\r\nthanks, understood! But if we go further, please do the steps I mentioned above:\r\n\r\n> Next, try to start CouchDB from a normal command prompt for example with (install dir C:\\CouchDB-3.3.3):\r\n>\r\n>C:\\>CouchDB-3.3.3\\bin\\couchdb.cmd\r\n>\r\n>This should start CouchDB (and there should be no output in the command prompt).\r\n>If you get a crash report, please append the message here!\r\n>Before we proceed, give this a try and show your findings.\r\n\r\nWith this steps, I want to see if you can run CouchDB as a normal user.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2047881363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2048048416","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2048048416","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2048048416,"node_id":"IC_kwDOAAMmUc56Er0g","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-10T16:57:21Z","updated_at":"2024-04-10T16:57:21Z","author_association":"MEMBER","body":"@GMishx I merged a fix for this, but note that I had to change how some things work (you can see the documentation diff in https://github.com/apache/couchdb/pull/5021). Essentially you don't need to put a type indicator at the end of the field name when sorting.\r\n\r\nwhat should now happen is you can index a field as a number or a string and the right kind of query will be used. Please give it a try.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2048048416/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2048319508","html_url":"https://github.com/apache/couchdb/issues/4994#issuecomment-2048319508","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4994","id":2048319508,"node_id":"IC_kwDOAAMmUc56FuAU","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-10T19:47:18Z","updated_at":"2024-04-10T19:47:18Z","author_association":"MEMBER","body":"@jcoglan and I have come up with a repro for the 'wrong signature' event: https://gist.github.com/jcoglan/0a5feb4af2a496ce10c9b80cf02ea28f. Our theory is that when an index is first queried following a v2->v3 upgrade, https://github.com/apache/couchdb/blob/3.3.3/src/couch_mrview/src/couch_mrview_index.erl#L121 will rename the file and return the old signature. however, maybe_update_index_file/1 just renames the file, it does not change its content. https://github.com/apache/couchdb/blob/3.3.3/src/couch_mrview/src/couch_mrview_index.erl#L127 matches and the normal index update path is followed, but if the index is empty then no new content and no new header is written, so the old signature remains in the file. the next time the view is queried, maybe_update_index_file/1 will do nothing (the old file does not exist) and return ok, so we hit this clause where wrong signature appears https://github.com/apache/couchdb/blob/3.3.3/src/couch_mrview/src/couch_mrview_index.erl#L139","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2048319508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2050611974","html_url":"https://github.com/apache/couchdb/issues/5028#issuecomment-2050611974","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5028","id":2050611974,"node_id":"IC_kwDOAAMmUc56OdsG","user":{"login":"sht2017","id":29155206,"node_id":"MDQ6VXNlcjI5MTU1MjA2","avatar_url":"https://avatars.githubusercontent.com/u/29155206?v=4","gravatar_id":"","url":"https://api.github.com/users/sht2017","html_url":"https://github.com/sht2017","followers_url":"https://api.github.com/users/sht2017/followers","following_url":"https://api.github.com/users/sht2017/following{/other_user}","gists_url":"https://api.github.com/users/sht2017/gists{/gist_id}","starred_url":"https://api.github.com/users/sht2017/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sht2017/subscriptions","organizations_url":"https://api.github.com/users/sht2017/orgs","repos_url":"https://api.github.com/users/sht2017/repos","events_url":"https://api.github.com/users/sht2017/events{/privacy}","received_events_url":"https://api.github.com/users/sht2017/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-11T21:48:27Z","updated_at":"2024-04-11T21:48:27Z","author_association":"NONE","body":"> Hi,\r\n> \r\n> I think we should not mix things here. The current setup is an administrative installation (exactly a system-wide install) with the possibility to install and run CouchDB as a Windows service (with administrator privileges). So far, all is working as expected. Currently, CouchDB is not intended to run under a \"normal\" user after installation. At the moment you have the possibility (workaround) change the installation folder permissions to have write access for the current user after the installation.\r\n> \r\n> To fix this as a whole, there need to be more changes to the process of distributing it for Windows:\r\n> \r\n> 1. Create an installer, which allows a system-wide or user-wide installation of CouchDB and / or\r\n> 2. Distribute CouchDB as a zipped package without installation at all\r\n> \r\n> I would welcome any PRs which provide more flexible and user-friendly installation methods in the [CouchDB Glazier](https://github.com/apache/couchdb-glazier) repository. \r\n\r\nSure, I'll look into the [CouchDB Glazier](https://github.com/apache/couchdb-glazier) repository =)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2050611974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2055805589","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2055805589","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2055805589,"node_id":"IC_kwDOAAMmUc56iRqV","user":{"login":"GMishx","id":18077542,"node_id":"MDQ6VXNlcjE4MDc3NTQy","avatar_url":"https://avatars.githubusercontent.com/u/18077542?v=4","gravatar_id":"","url":"https://api.github.com/users/GMishx","html_url":"https://github.com/GMishx","followers_url":"https://api.github.com/users/GMishx/followers","following_url":"https://api.github.com/users/GMishx/following{/other_user}","gists_url":"https://api.github.com/users/GMishx/gists{/gist_id}","starred_url":"https://api.github.com/users/GMishx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GMishx/subscriptions","organizations_url":"https://api.github.com/users/GMishx/orgs","repos_url":"https://api.github.com/users/GMishx/repos","events_url":"https://api.github.com/users/GMishx/events{/privacy}","received_events_url":"https://api.github.com/users/GMishx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-15T07:19:58Z","updated_at":"2024-04-15T07:19:58Z","author_association":"CONTRIBUTOR","body":"I can confirm the indexing is now working as expected for mentioned issue. Thanks for the quick fix @rnewson I can index and query values \"4.2.0\", \"1\" and \"2\".\r\n\r\nI will test it further with other values as well and update here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2055805589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2056323984","html_url":"https://github.com/apache/couchdb/issues/4997#issuecomment-2056323984","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4997","id":2056323984,"node_id":"IC_kwDOAAMmUc56kQOQ","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-15T09:09:41Z","updated_at":"2024-04-15T09:09:41Z","author_association":"MEMBER","body":"thanks for the confirmation, I like this change and your issue was the nudge I needed to make this improvement, so thank you.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2056323984/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2058422643","html_url":"https://github.com/apache/couchdb/issues/5023#issuecomment-2058422643","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5023","id":2058422643,"node_id":"IC_kwDOAAMmUc56sQlz","user":{"login":"siddheshmalpani","id":30528176,"node_id":"MDQ6VXNlcjMwNTI4MTc2","avatar_url":"https://avatars.githubusercontent.com/u/30528176?v=4","gravatar_id":"","url":"https://api.github.com/users/siddheshmalpani","html_url":"https://github.com/siddheshmalpani","followers_url":"https://api.github.com/users/siddheshmalpani/followers","following_url":"https://api.github.com/users/siddheshmalpani/following{/other_user}","gists_url":"https://api.github.com/users/siddheshmalpani/gists{/gist_id}","starred_url":"https://api.github.com/users/siddheshmalpani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddheshmalpani/subscriptions","organizations_url":"https://api.github.com/users/siddheshmalpani/orgs","repos_url":"https://api.github.com/users/siddheshmalpani/repos","events_url":"https://api.github.com/users/siddheshmalpani/events{/privacy}","received_events_url":"https://api.github.com/users/siddheshmalpani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-16T07:31:11Z","updated_at":"2024-04-16T09:18:55Z","author_association":"NONE","body":"Hi Ronny,\r\n\r\nAs suggested by you, by running `C:>CouchDB-3.3.3\\bin\\couchdb.cmd` we could run the CouchDB and it didn't not generate any crash dump.\r\nHowever, if we create a service out of it and try to run, it fails to start and generates a crash dump. PFA, I hope it helps.\r\n\r\n[erl_crash.zip](https://github.com/apache/couchdb/files/14988430/erl_crash.zip)\r\n\r\nRegards,\r\nSiddhesh Malpani","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2058422643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2063048707","html_url":"https://github.com/apache/couchdb/issues/5023#issuecomment-2063048707","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5023","id":2063048707,"node_id":"IC_kwDOAAMmUc5696AD","user":{"login":"siddheshmalpani","id":30528176,"node_id":"MDQ6VXNlcjMwNTI4MTc2","avatar_url":"https://avatars.githubusercontent.com/u/30528176?v=4","gravatar_id":"","url":"https://api.github.com/users/siddheshmalpani","html_url":"https://github.com/siddheshmalpani","followers_url":"https://api.github.com/users/siddheshmalpani/followers","following_url":"https://api.github.com/users/siddheshmalpani/following{/other_user}","gists_url":"https://api.github.com/users/siddheshmalpani/gists{/gist_id}","starred_url":"https://api.github.com/users/siddheshmalpani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddheshmalpani/subscriptions","organizations_url":"https://api.github.com/users/siddheshmalpani/orgs","repos_url":"https://api.github.com/users/siddheshmalpani/repos","events_url":"https://api.github.com/users/siddheshmalpani/events{/privacy}","received_events_url":"https://api.github.com/users/siddheshmalpani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-18T05:47:43Z","updated_at":"2024-04-18T05:47:43Z","author_association":"NONE","body":"Hi Ronny,\r\n\r\nDid you get a chance to look at the crash dump?\r\n\r\nRegards,\r\nSiddhesh Malpani","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2063048707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2063192996","html_url":"https://github.com/apache/couchdb/issues/5023#issuecomment-2063192996","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5023","id":2063192996,"node_id":"IC_kwDOAAMmUc56-dOk","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-18T07:21:06Z","updated_at":"2024-04-18T07:21:06Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\nmhh, I can't reproduce this!\r\n\r\nI did this steps to install CouchDB (without the automatic service installation):\r\n\r\nSilenty install CouchDB to `C:\\CouchDB-Test`:\r\n```\r\nmsiexec /i apache-couchdb-3.3.3.msi /quiet APPLICATIONFOLDER=C:\\CouchDB-Test ADMINUSER=a ADMINPASSWORD=a /norestart\r\n```\r\nAfterwards CouchDB should be installed into `C:\\CouchDB-Test`.\r\n\r\nNow you can manually install the service with (you need admin rights):\r\n\r\n```\r\nC:\\CouchDB-Test\\bin\\nssm.exe install \"Apache CouchDB Test\" \"C:\\CouchDB-Test\\bin\\couchdb.cmd\"\r\nService \"Apache CouchDB Test\" installed successfully!\r\n```\r\n\r\nNow you can check the installation and the status of the service (should be stopped):\r\n```\r\nC:\\CouchDB-Test\\bin\\nssm.exe status \"Apache CouchDB Test\"\r\nSERVICE_STOPPED\r\n```\r\n\r\nThe service should start with:\r\n```\r\nC:\\CouchDB-Test\\bin\\nssm.exe start \"Apache CouchDB Test\"\r\nApache CouchDB Test: START: Der Vorgang wurde erfolgreich beendet. (<-- translating: starting was successful)\r\n\r\nC:\\CouchDB-Test\\bin\\nssm.exe status \"Apache CouchDB Test\"\r\nSERVICE_RUNNING\r\n```\r\n\r\nTesting:\r\n```\r\ncurl.exe http://127.0.0.1:5984/_up\r\n{\"status\":\"ok\",\"seeds\":{}}\r\n```\r\n\r\nSo the crash dump doesn't show me anything interesting. Do you have any logs while starting the service?\r\nImportant is, that the install directory of CouchDB needs admin rights, so your (service) user needs that too, \r\nor you have to change this permissions of the install dir after the installation!\r\n\r\nOnly informational if you want to install the service as well do:\r\n```\r\nmsiexec /i apache-couchdb-3.3.3.msi /quiet INSTALLSERVICE=1 APPLICATIONFOLDER=C:\\CouchDB-Test ADMINUSER=a ADMINPASSWORD=a /norestart\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2063192996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2063199647","html_url":"https://github.com/apache/couchdb/issues/5033#issuecomment-2063199647","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5033","id":2063199647,"node_id":"IC_kwDOAAMmUc56-e2f","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-18T07:25:12Z","updated_at":"2024-04-18T07:25:12Z","author_association":"CONTRIBUTOR","body":"A little tip: Nobody will be able to help you with this extremely short and meaningless (error) description. You should give more context and describe your problem in more detail.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2063199647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2063306002","html_url":"https://github.com/apache/couchdb/issues/5033#issuecomment-2063306002","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5033","id":2063306002,"node_id":"IC_kwDOAAMmUc56-40S","user":{"login":"Aakash1247","id":125426691,"node_id":"U_kgDOB3ncAw","avatar_url":"https://avatars.githubusercontent.com/u/125426691?v=4","gravatar_id":"","url":"https://api.github.com/users/Aakash1247","html_url":"https://github.com/Aakash1247","followers_url":"https://api.github.com/users/Aakash1247/followers","following_url":"https://api.github.com/users/Aakash1247/following{/other_user}","gists_url":"https://api.github.com/users/Aakash1247/gists{/gist_id}","starred_url":"https://api.github.com/users/Aakash1247/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aakash1247/subscriptions","organizations_url":"https://api.github.com/users/Aakash1247/orgs","repos_url":"https://api.github.com/users/Aakash1247/repos","events_url":"https://api.github.com/users/Aakash1247/events{/privacy}","received_events_url":"https://api.github.com/users/Aakash1247/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-18T08:22:33Z","updated_at":"2024-04-18T08:22:33Z","author_association":"NONE","body":"i have made a admin account on local server on couchdb and i can access it using my chrome browser even though i have created local account abt i'm getting frequent error *Failed to load list of nodes.You are not a server admin.* even though i am loged in using my admin credentials.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2063306002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2063799701","html_url":"https://github.com/apache/couchdb/pull/5032#issuecomment-2063799701","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5032","id":2063799701,"node_id":"IC_kwDOAAMmUc57AxWV","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-18T12:53:51Z","updated_at":"2024-04-18T12:53:51Z","author_association":"MEMBER","body":"> Would `couch_auth_lock[out].erl` be a clearer name for the module instead of `couch_lockout.erl`?\r\n\r\nlockout is its own thing, e.g. https://en.wikipedia.org/wiki/Lockout_%28industry%29","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2063799701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2064494130","html_url":"https://github.com/apache/couchdb/issues/5033#issuecomment-2064494130","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5033","id":2064494130,"node_id":"IC_kwDOAAMmUc57Da4y","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-18T16:38:21Z","updated_at":"2024-04-18T16:38:21Z","author_association":"CONTRIBUTOR","body":"> i have made a admin account on local server on couchdb and i can access it using my chrome browser\r\n\r\nSo your are using Fauxton - the shipped web UI - to access and operate CouchDB?\r\n\r\nIf your are doing requests via the API, you have to send your credentials / token (depending which auth method you use) with every request. Maybe your read some more [docs](https://docs.couchdb.org/en/stable/intro/security.html#security) before you proceed, or describe what you exactly do / want to do (with examples of your requests).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2064494130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2064899488","html_url":"https://github.com/apache/couchdb/issues/2931#issuecomment-2064899488","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2931","id":2064899488,"node_id":"IC_kwDOAAMmUc57E92g","user":{"login":"Renato28","id":23478461,"node_id":"MDQ6VXNlcjIzNDc4NDYx","avatar_url":"https://avatars.githubusercontent.com/u/23478461?v=4","gravatar_id":"","url":"https://api.github.com/users/Renato28","html_url":"https://github.com/Renato28","followers_url":"https://api.github.com/users/Renato28/followers","following_url":"https://api.github.com/users/Renato28/following{/other_user}","gists_url":"https://api.github.com/users/Renato28/gists{/gist_id}","starred_url":"https://api.github.com/users/Renato28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Renato28/subscriptions","organizations_url":"https://api.github.com/users/Renato28/orgs","repos_url":"https://api.github.com/users/Renato28/repos","events_url":"https://api.github.com/users/Renato28/events{/privacy}","received_events_url":"https://api.github.com/users/Renato28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-18T18:41:27Z","updated_at":"2024-04-18T18:41:27Z","author_association":"NONE","body":"Estou com esse erro: The Claim 'iss' is not present in the JWT","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2064899488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2068201340","html_url":"https://github.com/apache/couchdb/issues/2931#issuecomment-2068201340","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2931","id":2068201340,"node_id":"IC_kwDOAAMmUc57Rj98","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-21T21:14:09Z","updated_at":"2024-04-21T21:14:09Z","author_association":"CONTRIBUTOR","body":"@Renato28 \r\n\r\nPlease create a new ticket and give more details.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2068201340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2077044031","html_url":"https://github.com/apache/couchdb/pull/5038#issuecomment-2077044031","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5038","id":2077044031,"node_id":"IC_kwDOAAMmUc57zS0_","user":{"login":"jonasplaum","id":9090041,"node_id":"MDQ6VXNlcjkwOTAwNDE=","avatar_url":"https://avatars.githubusercontent.com/u/9090041?v=4","gravatar_id":"","url":"https://api.github.com/users/jonasplaum","html_url":"https://github.com/jonasplaum","followers_url":"https://api.github.com/users/jonasplaum/followers","following_url":"https://api.github.com/users/jonasplaum/following{/other_user}","gists_url":"https://api.github.com/users/jonasplaum/gists{/gist_id}","starred_url":"https://api.github.com/users/jonasplaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonasplaum/subscriptions","organizations_url":"https://api.github.com/users/jonasplaum/orgs","repos_url":"https://api.github.com/users/jonasplaum/repos","events_url":"https://api.github.com/users/jonasplaum/events{/privacy}","received_events_url":"https://api.github.com/users/jonasplaum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-25T12:16:24Z","updated_at":"2024-04-25T12:16:24Z","author_association":"CONTRIBUTOR","body":"Should pass now","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2077044031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2077154627","html_url":"https://github.com/apache/couchdb/pull/5038#issuecomment-2077154627","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5038","id":2077154627,"node_id":"IC_kwDOAAMmUc57zt1D","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-25T13:14:42Z","updated_at":"2024-04-25T13:14:42Z","author_association":"MEMBER","body":"thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2077154627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2081492387","html_url":"https://github.com/apache/couchdb/issues/5041#issuecomment-2081492387","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5041","id":2081492387,"node_id":"IC_kwDOAAMmUc58EQ2j","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-28T13:56:26Z","updated_at":"2024-04-28T13:56:26Z","author_association":"MEMBER","body":"It is not possible. Clients must call through to the appropriate _update handler url explicitly.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2081492387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2081492779","html_url":"https://github.com/apache/couchdb/issues/5042#issuecomment-2081492779","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5042","id":2081492779,"node_id":"IC_kwDOAAMmUc58EQ8r","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-28T13:58:05Z","updated_at":"2024-04-28T13:58:05Z","author_association":"MEMBER","body":"This is deliberately prohibited. a validate_doc_update function can only depend on the input parameters and is sandboxed to prevent any network or file access. This is to ensure the result is deterministic.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2081492779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2081572502","html_url":"https://github.com/apache/couchdb/issues/5041#issuecomment-2081572502","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5041","id":2081572502,"node_id":"IC_kwDOAAMmUc58EkaW","user":{"login":"hubodz","id":11424487,"node_id":"MDQ6VXNlcjExNDI0NDg3","avatar_url":"https://avatars.githubusercontent.com/u/11424487?v=4","gravatar_id":"","url":"https://api.github.com/users/hubodz","html_url":"https://github.com/hubodz","followers_url":"https://api.github.com/users/hubodz/followers","following_url":"https://api.github.com/users/hubodz/following{/other_user}","gists_url":"https://api.github.com/users/hubodz/gists{/gist_id}","starred_url":"https://api.github.com/users/hubodz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hubodz/subscriptions","organizations_url":"https://api.github.com/users/hubodz/orgs","repos_url":"https://api.github.com/users/hubodz/repos","events_url":"https://api.github.com/users/hubodz/events{/privacy}","received_events_url":"https://api.github.com/users/hubodz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-28T17:43:37Z","updated_at":"2024-04-28T17:43:37Z","author_association":"NONE","body":"Thank you!\r\nDo you think the idea I described could be proposed as enhancement to Couch, or there are reasons to not go that way?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2081572502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2081572629","html_url":"https://github.com/apache/couchdb/issues/5042#issuecomment-2081572629","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5042","id":2081572629,"node_id":"IC_kwDOAAMmUc58EkcV","user":{"login":"hubodz","id":11424487,"node_id":"MDQ6VXNlcjExNDI0NDg3","avatar_url":"https://avatars.githubusercontent.com/u/11424487?v=4","gravatar_id":"","url":"https://api.github.com/users/hubodz","html_url":"https://github.com/hubodz","followers_url":"https://api.github.com/users/hubodz/followers","following_url":"https://api.github.com/users/hubodz/following{/other_user}","gists_url":"https://api.github.com/users/hubodz/gists{/gist_id}","starred_url":"https://api.github.com/users/hubodz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hubodz/subscriptions","organizations_url":"https://api.github.com/users/hubodz/orgs","repos_url":"https://api.github.com/users/hubodz/repos","events_url":"https://api.github.com/users/hubodz/events{/privacy}","received_events_url":"https://api.github.com/users/hubodz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-28T17:44:10Z","updated_at":"2024-04-28T17:44:10Z","author_association":"NONE","body":"Thank you!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2081572629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2081988264","html_url":"https://github.com/apache/couchdb/issues/5041#issuecomment-2081988264","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5041","id":2081988264,"node_id":"IC_kwDOAAMmUc58GJ6o","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-29T06:41:43Z","updated_at":"2024-04-29T06:41:43Z","author_association":"MEMBER","body":"The idea has come up before but it is has always been rejected, for similar reasons to your other ticket.\r\n\r\nWhat you can do is use a validate_doc_update function to ensure only valid updates are made (you can compare the new incoming update to the current document to ensure any state transition constraints) and provide an update handler to your clients to make it easier to create a valid update.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2081988264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2089141941","html_url":"https://github.com/apache/couchdb/pull/4627#issuecomment-2089141941","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4627","id":2089141941,"node_id":"IC_kwDOAAMmUc58hca1","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-01T21:07:37Z","updated_at":"2024-05-01T21:07:47Z","author_association":"CONTRIBUTOR","body":"After another update, now ready for review:\r\n   * Added Windows support using MSYS2 glazier [PR](https://github.com/apache/couchdb-glazier/pull/32)\r\n   * A [Scanner](https://github.com/apache/couchdb/pull/5014) plugin.\r\n   * Documentation\r\n   * CI jobs with QuickJS as the default","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2089141941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2089147124","html_url":"https://github.com/apache/couchdb/issues/4448#issuecomment-2089147124","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4448","id":2089147124,"node_id":"IC_kwDOAAMmUc58hdr0","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-01T21:11:48Z","updated_at":"2024-05-01T21:11:48Z","author_association":"CONTRIBUTOR","body":"As discussed in one of the CouchDB dev meetings, the last two required features for https://github.com/apache/couchdb/pull/4627 support  were:\r\n 1) Windows support\r\n 2) A way to scan and find compatibility issues vs current Spidermonkey\r\n\r\nNow both of those features are implemented in [PR](https://github.com/apache/couchdb/pull/4627).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2089147124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2089942205","html_url":"https://github.com/apache/couchdb/pull/4627#issuecomment-2089942205","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4627","id":2089942205,"node_id":"IC_kwDOAAMmUc58kfy9","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-02T08:57:34Z","updated_at":"2024-05-02T08:57:34Z","author_association":"CONTRIBUTOR","body":"Hey Nick,\r\n\r\nthats really great work. I installed the MSYS2 choco package to the Win-CI and was able to compile CouchDB with QuickJS on Windows.\r\n\r\nWe need an additional small change ([PR](https://github.com/apache/couchdb-glazier/pull/33)) in CouchDB Glazier that this works out-of-the-box. \r\n\r\n```\r\n==> couch_quickjs (compile)\r\nmake[1]: Entering directory '/c/Users/couchdb/Documents/couchdb/src/couch_quickjs/quickjs'\r\nmkdir -p .obj .obj/examples .obj/tests\r\ngcc -g -Wall -MMD -MF .obj/qjsc.o.d -Wno-array-bounds -Wno-format-truncation -fwrapv  -D_GNU_SOURCE -DCONFIG_VERSION=\\\"2024-02-14\\\" -DCONFIG_BIGNUM -DCONFIG_CC=\\\"gcc\\\" -DCONFIG_PREFIX=\\\"/usr/local\\\" -O2 -c -o .obj/qjsc.o qjsc.c\r\ngcc -g -Wall -MMD -MF .obj/quickjs.o.d -Wno-array-bounds -Wno-format-truncation -fwrapv  -D_GNU_SOURCE -DCONFIG_VERSION=\\\"2024-02-14\\\" -DCONFIG_BIGNUM -O2 -c -o .obj/quickjs.o quickjs.c\r\ngcc -g -Wall -MMD -MF .obj/libregexp.o.d -Wno-array-bounds -Wno-format-truncation -fwrapv  -D_GNU_SOURCE -DCONFIG_VERSION=\\\"2024-02-14\\\" -DCONFIG_BIGNUM -O2 -c -o .obj/libregexp.o libregexp.c\r\ngcc -g -Wall -MMD -MF .obj/libunicode.o.d -Wno-array-bounds -Wno-format-truncation -fwrapv  -D_GNU_SOURCE -DCONFIG_VERSION=\\\"2024-02-14\\\" -DCONFIG_BIGNUM -O2 -c -o .obj/libunicode.o libunicode.c\r\ngcc -g -Wall -MMD -MF .obj/cutils.o.d -Wno-array-bounds -Wno-format-truncation -fwrapv  -D_GNU_SOURCE -DCONFIG_VERSION=\\\"2024-02-14\\\" -DCONFIG_BIGNUM -O2 -c -o .obj/cutils.o cutils.c\r\ngcc -g -Wall -MMD -MF .obj/quickjs-libc.o.d -Wno-array-bounds -Wno-format-truncation -fwrapv  -D_GNU_SOURCE -DCONFIG_VERSION=\\\"2024-02-14\\\" -DCONFIG_BIGNUM -O2 -c -o .obj/quickjs-libc.o quickjs-libc.c\r\ngcc -g -Wall -MMD -MF .obj/libbf.o.d -Wno-array-bounds -Wno-format-truncation -fwrapv  -D_GNU_SOURCE -DCONFIG_VERSION=\\\"2024-02-14\\\" -DCONFIG_BIGNUM -O2 -c -o .obj/libbf.o libbf.c\r\ngcc -g -o qjsc .obj/qjsc.o .obj/quickjs.o .obj/libregexp.o .obj/libunicode.o .obj/cutils.o .obj/quickjs-libc.o .obj/libbf.o -lm -ldl -lpthread\r\nmake[1]: Leaving directory '/c/Users/couchdb/Documents/couchdb/src/couch_quickjs/quickjs'\r\nCompiled src/couch_quickjs.erl\r\nc:/Users/couchdb/Documents/couchdb/src/couch_quickjs/src/couch_quickjs_scanner_plugin.erl:14:2: Warning: behaviour couch_scanner_plugin undefined\r\nCompiled src/couch_quickjs_scanner_plugin.erl\r\nCompiling quickjs/quickjs.c\r\nCompiling quickjs/libregexp.c\r\nCompiling quickjs/libunicode.c\r\nCompiling quickjs/cutils.c\r\nCompiling quickjs/libbf.c\r\nCompiling quickjs/quickjs-libc.c\r\nCompiling c_src/couchjs.c\r\nCompiling c_src/couchjs_mainjs_bytecode.c\r\nCompiling c_src/couchjs_coffee_bytecode.c\r\n```\r\n\r\nRunning the tests:\r\n```\r\n==> couch_quickjs (eunit)\r\n======================== EUnit ========================\r\nmodule 'couch_quickjs_scanner_plugin'\r\n  module 'couch_quickjs_scanner_plugin_tests'\r\n    couch_quickjs_scanner_plugin_tests:24: -couch_quickjs_scanner_plugin_test_/0-fun-0- (t_basic)...[0.008 s] ok\r\n    [done in 0.011 s]\r\n  [done in 9.601 s]\r\nmodule 'couch_quickjs'\r\n  module 'couch_quickjs_tests'\r\n=======================================================\r\n  Test passed.\r\nCover analysis: c:/Users/couchdb/Documents/couchdb/src/couch_quickjs/.eunit/index.html\r\n\r\nCode Coverage:\r\ncouch_quickjs                :  77%\r\ncouch_quickjs_scanner_plugin :   1%\r\n\r\nTotal                        : 6%\r\n==> rel (eunit)\r\n==> couchdb (eunit)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2089942205/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090364461","html_url":"https://github.com/apache/couchdb/issues/5044#issuecomment-2090364461","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5044","id":2090364461,"node_id":"IC_kwDOAAMmUc58mG4t","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-02T12:21:43Z","updated_at":"2024-05-02T12:21:43Z","author_association":"MEMBER","body":"Your expectation is well-founded, and couchdb does behave that way. So there must be something wrong somewhere. Could it be that the number of in-progress requests keeps climbing? That is, making more and more queries even though previous ones have not yet completed? If so, increased latency on the latter requests is expected due to internal queues. \r\n\r\nI suggest using a tool like ApacheBench to confirm or refute this, set it with some modest concurrency and point it at a view with some appropriate query parameters (i.e, don't read the entire view on each request). \r\n\r\nNote that a view query operates in two phases. the first phase is to ensure the view is up to date with respect to any database updates (by running any new updates through the map and reduce functions). The second phase is the actual query. It will help us to know if the database in question is being written to (and, if so, how intensely) during these queries. e.g, we would expect a view query to take longer if a large number of updates were made to the database just beforehand.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090364461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090460806","html_url":"https://github.com/apache/couchdb/issues/5044#issuecomment-2090460806","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5044","id":2090460806,"node_id":"IC_kwDOAAMmUc58meaG","user":{"login":"luca-simonetti","id":44196863,"node_id":"MDQ6VXNlcjQ0MTk2ODYz","avatar_url":"https://avatars.githubusercontent.com/u/44196863?v=4","gravatar_id":"","url":"https://api.github.com/users/luca-simonetti","html_url":"https://github.com/luca-simonetti","followers_url":"https://api.github.com/users/luca-simonetti/followers","following_url":"https://api.github.com/users/luca-simonetti/following{/other_user}","gists_url":"https://api.github.com/users/luca-simonetti/gists{/gist_id}","starred_url":"https://api.github.com/users/luca-simonetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luca-simonetti/subscriptions","organizations_url":"https://api.github.com/users/luca-simonetti/orgs","repos_url":"https://api.github.com/users/luca-simonetti/repos","events_url":"https://api.github.com/users/luca-simonetti/events{/privacy}","received_events_url":"https://api.github.com/users/luca-simonetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-02T13:08:26Z","updated_at":"2024-05-02T13:08:26Z","author_association":"NONE","body":"Thanks for the reply!\r\nI don't think the issue is with queries not being completed, since \r\n\r\na. we do them in series - i.e. we wait for one response before throwing the new query\r\nb. we even have a sleep(.5) after each request before throwing another one.\r\nc. resources -- namely CPU and memory -- are pretty good (like 10% CPU and 10% memory usage)\r\n\r\nfrom an outside point of view looks like there's some kind of _short term memory cache_ which gets bigger and bigger and each query traverses the whole object which gets bigger and bigger all the time.\r\n\r\nfor the record: the requests right after the service restart take somethink like few milliseconds, whereas request after some few thousands get even to 120.000 ms (which is the maximum amount of time for us before calling it a day and raising an exception)\r\n\r\nwe'll try benchmarking with `ab` ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090460806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090483998","html_url":"https://github.com/apache/couchdb/issues/5044#issuecomment-2090483998","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5044","id":2090483998,"node_id":"IC_kwDOAAMmUc58mkEe","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-02T13:19:45Z","updated_at":"2024-05-02T13:20:21Z","author_association":"MEMBER","body":"there is no cache of query results inside couchdb, for sure.\r\n\r\nIs the database growing during this? we'd expect longer query times for larger views, even if the view is up-to-date when queried (it's ultimately B+Tree's, so the more data the taller the tree, and the larger the database the more likely we have to read more nodes from disk)\r\n\r\nAt this point it would help to see your specific map/reduce functions and an example document.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090483998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090487149","html_url":"https://github.com/apache/couchdb/issues/5044#issuecomment-2090487149","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5044","id":2090487149,"node_id":"IC_kwDOAAMmUc58mk1t","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-02T13:21:21Z","updated_at":"2024-05-02T13:21:21Z","author_association":"MEMBER","body":"also check `/_active_tasks` as view compaction tasks may be running. you can still query while those run, but they'll obviously be using more i/o and perhaps this is a factor in performance (less of an issue on SSD which, hopefully, you are already using).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090487149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090514057","html_url":"https://github.com/apache/couchdb/issues/5044#issuecomment-2090514057","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5044","id":2090514057,"node_id":"IC_kwDOAAMmUc58mraJ","user":{"login":"luca-simonetti","id":44196863,"node_id":"MDQ6VXNlcjQ0MTk2ODYz","avatar_url":"https://avatars.githubusercontent.com/u/44196863?v=4","gravatar_id":"","url":"https://api.github.com/users/luca-simonetti","html_url":"https://github.com/luca-simonetti","followers_url":"https://api.github.com/users/luca-simonetti/followers","following_url":"https://api.github.com/users/luca-simonetti/following{/other_user}","gists_url":"https://api.github.com/users/luca-simonetti/gists{/gist_id}","starred_url":"https://api.github.com/users/luca-simonetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luca-simonetti/subscriptions","organizations_url":"https://api.github.com/users/luca-simonetti/orgs","repos_url":"https://api.github.com/users/luca-simonetti/repos","events_url":"https://api.github.com/users/luca-simonetti/events{/privacy}","received_events_url":"https://api.github.com/users/luca-simonetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-02T13:33:13Z","updated_at":"2024-05-02T13:33:13Z","author_association":"NONE","body":"no the database is not growing during the read operations (the actual platform is a QA environment where the only operation is the \"mega read\"). We're speaking of  100.000 reads.\r\nAlso: right after the restart the whole thing gets back to normal (200ms) and starts degrade again in a couple of minutes.\r\n\r\n`_active_tasks` is empty (`[]`)\r\nI'm not sure what do you mean by our map/reduce since we're using the Hyperledger API to access the CouchDB\r\n\r\nI can show you the go code for the chaincode we does the reads though:\r\n\r\n```go\r\nfunc (c *xxxxx) Token(ctx contractapi.TransactionContextInterface, tokenId string) (string, error) {\r\n\r\n\ttoken, err := GetTokenData(ctx, tokenId)\r\n\tif err != nil {\r\n\t\treturn \"\", err\r\n\t}\r\n\r\n\ttokenxxxxx := xxxxxx\r\n\titerator, err := ctx.GetStub().GetStateByPartialCompositeKey(PrefixTokenxxxxxx, []string{tokenId})\r\n\tif err != nil {\r\n\t\treturn \"\", fmt.Errorf(\"error creating asset chaincode: %v\", err)\r\n\t}\r\n\tfor iterator.HasNext() {\r\n\t\tqueryResponse, err := iterator.Next()\r\n\t\tif err != nil {\r\n\t\t\treturn \"\", err\r\n\t\t}\r\n\t\t// Recupero il tokenId\r\n\t\t_, compositeKeyParts, err := ctx.GetStub().SplitCompositeKey(queryResponse.Key)\r\n\t\tif err != nil {\r\n\t\t\treturn \"\", err\r\n\t\t}\r\n\r\n\t\t/// OTHER CODE REDACTED BUT OF NO CONCERN\r\n\t}\r\n\t_ = iterator.Close()\r\n\tresultByte, err := json.Marshal(tokenWithxxxxxxx)\r\n\treturn string(resultByte), nil\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090514057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090529834","html_url":"https://github.com/apache/couchdb/issues/5044#issuecomment-2090529834","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5044","id":2090529834,"node_id":"IC_kwDOAAMmUc58mvQq","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-02T13:40:13Z","updated_at":"2024-05-02T13:40:13Z","author_association":"MEMBER","body":"Can you express that as an http request?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090529834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090643048","html_url":"https://github.com/apache/couchdb/issues/5044#issuecomment-2090643048","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5044","id":2090643048,"node_id":"IC_kwDOAAMmUc58nK5o","user":{"login":"luca-simonetti","id":44196863,"node_id":"MDQ6VXNlcjQ0MTk2ODYz","avatar_url":"https://avatars.githubusercontent.com/u/44196863?v=4","gravatar_id":"","url":"https://api.github.com/users/luca-simonetti","html_url":"https://github.com/luca-simonetti","followers_url":"https://api.github.com/users/luca-simonetti/followers","following_url":"https://api.github.com/users/luca-simonetti/following{/other_user}","gists_url":"https://api.github.com/users/luca-simonetti/gists{/gist_id}","starred_url":"https://api.github.com/users/luca-simonetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luca-simonetti/subscriptions","organizations_url":"https://api.github.com/users/luca-simonetti/orgs","repos_url":"https://api.github.com/users/luca-simonetti/repos","events_url":"https://api.github.com/users/luca-simonetti/events{/privacy}","received_events_url":"https://api.github.com/users/luca-simonetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-02T14:32:26Z","updated_at":"2024-05-02T14:33:02Z","author_association":"NONE","body":"I think that gets translated to two kind of queries:\r\n\r\n1. `/xxxxxx_yyyyyy/_all_docs?attachments=true&endkey=\"\\\\^@xxxxx\\\\^@14302\\\\uxxxxx\"&include_docs=true&inclusive_end=false&limit=1001&startkey=\"\\\\^@xxxxx\\\\^@14302\\\\^@\"`\r\n2. `/xxxxxx_yyyyyy/\\x00xxxxx\\x0014520\\x009892299\\x00?attachments=true`\r\n\r\nthe first is the one I'm benchmarking now (-c=10 -n=100000) and is sometimes really slow\r\nthe second seems to take around 10-20ms  and is run over the 100 results of the first query\r\n\r\nbut still I don't understand why if I run the requests one after another and not in parallel  they influence each other.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090643048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090674505","html_url":"https://github.com/apache/couchdb/pull/4627#issuecomment-2090674505","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4627","id":2090674505,"node_id":"IC_kwDOAAMmUc58nSlJ","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-02T14:41:14Z","updated_at":"2024-05-02T14:41:14Z","author_association":"CONTRIBUTOR","body":"Thanks for checking, Ronny!\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2090674505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]