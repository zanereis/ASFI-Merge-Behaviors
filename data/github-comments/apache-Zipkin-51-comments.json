[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288604518","html_url":"https://github.com/openzipkin/zipkin/issues/1279#issuecomment-288604518","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1279","id":288604518,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODYwNDUxOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T03:06:53Z","updated_at":"2017-03-23T03:06:53Z","author_association":"MEMBER","body":"@joel-airspring thx.. for laziness it is easier to review code on a pull request than clicking on commits. Can you raise a PR with those 2?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288604518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288606116","html_url":"https://github.com/openzipkin/zipkin/pull/1540#issuecomment-288606116","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1540","id":288606116,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODYwNjExNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T03:18:26Z","updated_at":"2017-03-23T03:18:26Z","author_association":"MEMBER","body":"leaving this open for a day or two in case someone isn't looking","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288606116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288662489","html_url":"https://github.com/openzipkin/zipkin/issues/1279#issuecomment-288662489","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1279","id":288662489,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY2MjQ4OQ==","user":{"login":"joel-airspring","id":4552139,"node_id":"MDQ6VXNlcjQ1NTIxMzk=","avatar_url":"https://avatars.githubusercontent.com/u/4552139?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-airspring","html_url":"https://github.com/joel-airspring","followers_url":"https://api.github.com/users/joel-airspring/followers","following_url":"https://api.github.com/users/joel-airspring/following{/other_user}","gists_url":"https://api.github.com/users/joel-airspring/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-airspring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-airspring/subscriptions","organizations_url":"https://api.github.com/users/joel-airspring/orgs","repos_url":"https://api.github.com/users/joel-airspring/repos","events_url":"https://api.github.com/users/joel-airspring/events{/privacy}","received_events_url":"https://api.github.com/users/joel-airspring/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T09:27:29Z","updated_at":"2017-03-23T09:27:29Z","author_association":"CONTRIBUTOR","body":"PR #1543 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288662489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288754871","html_url":"https://github.com/openzipkin/zipkin/issues/1541#issuecomment-288754871","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1541","id":288754871,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODc1NDg3MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T15:24:04Z","updated_at":"2017-03-23T15:24:04Z","author_association":"MEMBER","body":"@cburroughs @virtuald either of you bored? :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288754871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288762140","html_url":"https://github.com/openzipkin/zipkin/pull/1144#issuecomment-288762140","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1144","id":288762140,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODc2MjE0MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T15:45:33Z","updated_at":"2017-03-23T15:45:33Z","author_association":"MEMBER","body":"hi all. I just noticed that prometheus' java client now ships with spring boot support. any thoughts on whether we should switch? https://github.com/prometheus/client_java/tree/master/simpleclient_spring_boot/src/main/java/io/prometheus/client/spring/boot\r\n\r\ncc @shakuzen ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288762140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288771247","html_url":"https://github.com/openzipkin/zipkin/issues/1541#issuecomment-288771247","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1541","id":288771247,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODc3MTI0Nw==","user":{"login":"virtuald","id":567900,"node_id":"MDQ6VXNlcjU2NzkwMA==","avatar_url":"https://avatars.githubusercontent.com/u/567900?v=4","gravatar_id":"","url":"https://api.github.com/users/virtuald","html_url":"https://github.com/virtuald","followers_url":"https://api.github.com/users/virtuald/followers","following_url":"https://api.github.com/users/virtuald/following{/other_user}","gists_url":"https://api.github.com/users/virtuald/gists{/gist_id}","starred_url":"https://api.github.com/users/virtuald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/virtuald/subscriptions","organizations_url":"https://api.github.com/users/virtuald/orgs","repos_url":"https://api.github.com/users/virtuald/repos","events_url":"https://api.github.com/users/virtuald/events{/privacy}","received_events_url":"https://api.github.com/users/virtuald/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T16:10:50Z","updated_at":"2017-03-23T16:10:50Z","author_association":"CONTRIBUTOR","body":"@adriancole sorry, got moved to another project, so haven't been using zipkin in a few months. I expect in a few months a different project will start that will need zipkin... we'll see what happens.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288771247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288838599","html_url":"https://github.com/openzipkin/zipkin/issues/1528#issuecomment-288838599","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1528","id":288838599,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODgzODU5OQ==","user":{"login":"tajdars","id":17749391,"node_id":"MDQ6VXNlcjE3NzQ5Mzkx","avatar_url":"https://avatars.githubusercontent.com/u/17749391?v=4","gravatar_id":"","url":"https://api.github.com/users/tajdars","html_url":"https://github.com/tajdars","followers_url":"https://api.github.com/users/tajdars/followers","following_url":"https://api.github.com/users/tajdars/following{/other_user}","gists_url":"https://api.github.com/users/tajdars/gists{/gist_id}","starred_url":"https://api.github.com/users/tajdars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tajdars/subscriptions","organizations_url":"https://api.github.com/users/tajdars/orgs","repos_url":"https://api.github.com/users/tajdars/repos","events_url":"https://api.github.com/users/tajdars/events{/privacy}","received_events_url":"https://api.github.com/users/tajdars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T19:45:16Z","updated_at":"2017-03-23T19:45:16Z","author_association":"NONE","body":"+1 for bounded InMemoryStorage.\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288838599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288932012","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-288932012","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":288932012,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODkzMjAxMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-24T04:42:14Z","updated_at":"2017-03-24T04:42:14Z","author_association":"MEMBER","body":"Thanks for the start.\r\n\r\nI'm not sure how this is supposed to work. Can you mention the steps that would preserve order?\r\n\r\nI go and find traces, set the order to oldest, then click on a trace. Regardless of how I navigate to the search screen (back button, clicking on find trace etc), the order isn't kept.\r\n\r\nthis is using chrome, in case this helps.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288932012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288952530","html_url":"https://github.com/openzipkin/zipkin/issues/1544#issuecomment-288952530","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1544","id":288952530,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODk1MjUzMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-24T07:30:43Z","updated_at":"2017-03-24T07:30:43Z","author_association":"MEMBER","body":"It looks like the 5 spans is relating to the amount of service * spans in the trace (ex if you look at the image, clientapp.com X2 + desktop-prbarl *2 + localhost * 1 = 5\r\n\r\na unit test could probably prove this out https://github.com/openzipkin/zipkin/blob/master/zipkin-ui/test/component_ui/traceSummary.test.js#L329","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288952530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288952709","html_url":"https://github.com/openzipkin/zipkin/issues/1544#issuecomment-288952709","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1544","id":288952709,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODk1MjcwOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-24T07:32:00Z","updated_at":"2017-03-24T07:32:00Z","author_association":"MEMBER","body":"As suspected by @prbarl this looks like a dupe of #842","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288952709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288984047","html_url":"https://github.com/openzipkin/zipkin/issues/1541#issuecomment-288984047","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1541","id":288984047,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODk4NDA0Nw==","user":{"login":"ys","id":483012,"node_id":"MDQ6VXNlcjQ4MzAxMg==","avatar_url":"https://avatars.githubusercontent.com/u/483012?v=4","gravatar_id":"","url":"https://api.github.com/users/ys","html_url":"https://github.com/ys","followers_url":"https://api.github.com/users/ys/followers","following_url":"https://api.github.com/users/ys/following{/other_user}","gists_url":"https://api.github.com/users/ys/gists{/gist_id}","starred_url":"https://api.github.com/users/ys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ys/subscriptions","organizations_url":"https://api.github.com/users/ys/orgs","repos_url":"https://api.github.com/users/ys/repos","events_url":"https://api.github.com/users/ys/events{/privacy}","received_events_url":"https://api.github.com/users/ys/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-24T10:16:48Z","updated_at":"2017-03-24T10:16:48Z","author_association":"CONTRIBUTOR","body":"@adriancole I can try to take a look. Am I correct seeing this broken or am I doing something wrong?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/288984047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289004299","html_url":"https://github.com/openzipkin/zipkin/issues/1541#issuecomment-289004299","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1541","id":289004299,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTAwNDI5OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-24T11:56:41Z","updated_at":"2017-03-24T11:56:41Z","author_association":"MEMBER","body":"One thing surprising in that span is that the client and server annotations\nhave the same endpoint.. was that a loopback?\n\nOn 24 Mar 2017 18:16, \"Yannick Schutz\" <notifications@github.com> wrote:\n\n@adriancole <https://github.com/adriancole> I can try to take a look. Am I\ncorrect seeing this broken or am I doing something wrong?\n\n—\nYou are receiving this because you were mentioned.\n\nReply to this email directly, view it on GitHub\n<https://github.com/openzipkin/zipkin/issues/1541#issuecomment-288984047>,\nor mute the thread\n<https://github.com/notifications/unsubscribe-auth/AAD61yyrGrD89lsXWfC4JEtqU2k59jX5ks5ro5gRgaJpZM4MljZP>\n.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289004299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289005890","html_url":"https://github.com/openzipkin/zipkin/issues/1541#issuecomment-289005890","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1541","id":289005890,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTAwNTg5MA==","user":{"login":"ys","id":483012,"node_id":"MDQ6VXNlcjQ4MzAxMg==","avatar_url":"https://avatars.githubusercontent.com/u/483012?v=4","gravatar_id":"","url":"https://api.github.com/users/ys","html_url":"https://github.com/ys","followers_url":"https://api.github.com/users/ys/followers","following_url":"https://api.github.com/users/ys/following{/other_user}","gists_url":"https://api.github.com/users/ys/gists{/gist_id}","starred_url":"https://api.github.com/users/ys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ys/subscriptions","organizations_url":"https://api.github.com/users/ys/orgs","repos_url":"https://api.github.com/users/ys/repos","events_url":"https://api.github.com/users/ys/events{/privacy}","received_events_url":"https://api.github.com/users/ys/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-24T12:05:37Z","updated_at":"2017-03-24T12:05:37Z","author_association":"CONTRIBUTOR","body":"It is a sidekiq background job. \r\nSo yeah async tasks on same app.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289005890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289007440","html_url":"https://github.com/openzipkin/zipkin/issues/1541#issuecomment-289007440","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1541","id":289007440,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTAwNzQ0MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-24T12:14:56Z","updated_at":"2017-03-24T12:14:56Z","author_association":"MEMBER","body":"If it doesnt make a remote call, maybe best to not add cs sr in that span.\nIt is possible there is some ui logic that is looking at that. This is just\na guess\n\nOn 24 Mar 2017 20:05, \"Yannick Schutz\" <notifications@github.com> wrote:\n\n> It is a sidekiq background job.\n> So yeah async tasks on same app.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/1541#issuecomment-289005890>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD6124khNW-aWrUkHKzshiht0dN4L-Pks5ro7GSgaJpZM4MljZP>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289007440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289019342","html_url":"https://github.com/openzipkin/zipkin/issues/1541#issuecomment-289019342","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1541","id":289019342,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTAxOTM0Mg==","user":{"login":"ys","id":483012,"node_id":"MDQ6VXNlcjQ4MzAxMg==","avatar_url":"https://avatars.githubusercontent.com/u/483012?v=4","gravatar_id":"","url":"https://api.github.com/users/ys","html_url":"https://github.com/ys","followers_url":"https://api.github.com/users/ys/followers","following_url":"https://api.github.com/users/ys/following{/other_user}","gists_url":"https://api.github.com/users/ys/gists{/gist_id}","starred_url":"https://api.github.com/users/ys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ys/subscriptions","organizations_url":"https://api.github.com/users/ys/orgs","repos_url":"https://api.github.com/users/ys/repos","events_url":"https://api.github.com/users/ys/events{/privacy}","received_events_url":"https://api.github.com/users/ys/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-24T13:15:09Z","updated_at":"2017-03-24T13:15:09Z","author_association":"CONTRIBUTOR","body":"This enqueue the job into redis.\r\nSide question is how would you render that ?\r\nIt is async jobs with a queue that is redis.\r\n\r\nDifferent instances","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289019342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289035254","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-289035254","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":289035254,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTAzNTI1NA==","user":{"login":"joel-airspring","id":4552139,"node_id":"MDQ6VXNlcjQ1NTIxMzk=","avatar_url":"https://avatars.githubusercontent.com/u/4552139?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-airspring","html_url":"https://github.com/joel-airspring","followers_url":"https://api.github.com/users/joel-airspring/followers","following_url":"https://api.github.com/users/joel-airspring/following{/other_user}","gists_url":"https://api.github.com/users/joel-airspring/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-airspring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-airspring/subscriptions","organizations_url":"https://api.github.com/users/joel-airspring/orgs","repos_url":"https://api.github.com/users/joel-airspring/repos","events_url":"https://api.github.com/users/joel-airspring/events{/privacy}","received_events_url":"https://api.github.com/users/joel-airspring/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-24T14:20:06Z","updated_at":"2017-03-24T14:20:06Z","author_association":"CONTRIBUTOR","body":"1. Create two or more traces so you can see changes in sort order.\r\n2. Open up the zipkin web page.\r\n3. Click on 'Find Traces'.  You should see your traces listed below in the default sort order.\r\n4. Change the sort order to Newest First.  You should see the traces re-sorted to match.\r\n5. Click on 'Find Traces' again.\r\n\r\nIn the release version I was using (1.20.1), step 5 results in the traces being show with the default sort order.  With this PR, the traces will be shown with the Newest First sort order.  You'll notice that after clicking on 'Find Traces' for the second time, the sortOrder= query parameter shows up in the URL.\r\n\r\nClicking 'Find Traces' after changing the sort order is the only path that works, however, because the sort order HTML elements are not present in the default page but only after finding traces.  Since the default page doesn't have the sort order elements present, they can't be remembered.  So, this works:\r\na. Load page\r\nb. Find traces\r\nc. Change sort order\r\nd. Find traces\r\ne. Click on a trace.\r\nf. Navigate back (sort order preserved)\r\nbut this does not work:\r\na. Load page\r\nb. Find traces\r\nc. Change sort order\r\nd. ---- skip this step ------\r\ne. Click on a trace.\r\nf. Navigate back (sort order NOT preserved)\r\n\r\nThe {{#queryWasPerformed}} section of index.mustache is conditionally included.  If it were always included, the sort order would be a part of every page load and could always be remembered, so both scenarios above would work.  This PR provides a path that works with minimal changes.  Perhaps a slightly larger change would be less confusing.\r\n\r\nWould do you think is the right approach here?\r\n\r\nThanks!\r\nJoel\r\n\r\n\r\n\r\nNotes:\r\nI'm on OSX, using Chrome 56.0.2924.87.\r\nI built my zipkin server locally using this command:\r\n  ./mvnw -DskipTests --also-make -pl zipkin-server clean install\r\nAnd ran it using this command:\r\n  java -jar zipkin-server/target/zipkin-server-1.21.1-SNAPSHOT-exec.jar","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289035254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289035430","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-289035430","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":289035430,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTAzNTQzMA==","user":{"login":"joel-airspring","id":4552139,"node_id":"MDQ6VXNlcjQ1NTIxMzk=","avatar_url":"https://avatars.githubusercontent.com/u/4552139?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-airspring","html_url":"https://github.com/joel-airspring","followers_url":"https://api.github.com/users/joel-airspring/followers","following_url":"https://api.github.com/users/joel-airspring/following{/other_user}","gists_url":"https://api.github.com/users/joel-airspring/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-airspring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-airspring/subscriptions","organizations_url":"https://api.github.com/users/joel-airspring/orgs","repos_url":"https://api.github.com/users/joel-airspring/repos","events_url":"https://api.github.com/users/joel-airspring/events{/privacy}","received_events_url":"https://api.github.com/users/joel-airspring/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-24T14:20:41Z","updated_at":"2017-03-24T14:20:41Z","author_association":"CONTRIBUTOR","body":"I just noticed that this PR accidentally changed the default sort order.  I'll push a fix for that.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289035430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289175502","html_url":"https://github.com/openzipkin/zipkin/issues/1541#issuecomment-289175502","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1541","id":289175502,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTE3NTUwMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-25T00:51:24Z","updated_at":"2017-03-25T00:51:24Z","author_association":"MEMBER","body":"Existing code (zipkin-js and finagle) render redis as a client span (cs\ncr). There wouldnt be a 'sr' until redis itself has zipkin support. cr is\nthe end of a span.. if theres something later that happens as a callback\nfrom the redis command.. probably a child span?\n\nAscii art flow of what is going on in real life might help. Usually the\nboxes in a flow diagram end up as spans.\n\nOn 24 Mar 2017 9:15 pm, \"Yannick Schutz\" <notifications@github.com> wrote:\n\n> This enqueue the job into redis.\n> Side question is how would you render that ?\n> It is async jobs with a queue that is redis.\n>\n> Different instances\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/1541#issuecomment-289019342>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD612Ao1upv4YA-IpfQM6v933InnuyNks5ro8HegaJpZM4MljZP>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289175502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289430778","html_url":"https://github.com/openzipkin/zipkin/issues/1545#issuecomment-289430778","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1545","id":289430778,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTQzMDc3OA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T11:50:44Z","updated_at":"2017-03-27T11:51:17Z","author_association":"NONE","body":"StackTrace:\r\n\r\n```\r\njava.lang.NoSuchMethodError: zipkin.internal.MergeById.apply(Ljava/lang/Iterable;)Ljava/util/List;\r\n\tat zipkin.storage.cassandra3.CassandraSpanStore$AdjustTrace.apply(CassandraSpanStore.java:257) ~[zipkin-storage-cassandra3-1.21.0.jar:na]\r\n\tat zipkin.storage.cassandra3.CassandraSpanStore$AdjustTrace.apply(CassandraSpanStore.java:253) ~[zipkin-storage-cassandra3-1.21.0.jar:na]\r\n\tat com.google.common.util.concurrent.Futures$2.apply(Futures.java:760) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.Futures$ChainingListenableFuture.run(Futures.java:906) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:457) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.ExecutionList.executeListener(ExecutionList.java:156) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.ExecutionList.execute(ExecutionList.java:145) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:185) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.Futures$ChainingListenableFuture$1.run(Futures.java:918) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:457) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.Futures$ImmediateFuture.addListener(Futures.java:106) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.Futures$ChainingListenableFuture.run(Futures.java:914) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:457) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.ExecutionList.executeListener(ExecutionList.java:156) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.ExecutionList.execute(ExecutionList.java:145) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:185) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.Futures$ChainingListenableFuture$1.run(Futures.java:918) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:457) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.Futures$ImmediateFuture.addListener(Futures.java:106) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.Futures$ChainingListenableFuture.run(Futures.java:914) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:457) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.ExecutionList.executeListener(ExecutionList.java:156) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.ExecutionList.execute(ExecutionList.java:145) ~[guava-18.0.jar:na]\r\n\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:185) ~[guava-18.0.jar:na]\r\n\tat com.datastax.driver.core.DefaultResultSetFuture.onSet(DefaultResultSetFuture.java:174) ~[cassandra-driver-core-3.1.4.jar:na]\r\n\tat com.datastax.driver.core.RequestHandler.setFinalResult(RequestHandler.java:177) ~[cassandra-driver-core-3.1.4.jar:na]\r\n\tat com.datastax.driver.core.RequestHandler.access$2500(RequestHandler.java:46) ~[cassandra-driver-core-3.1.4.jar:na]\r\n\tat com.datastax.driver.core.RequestHandler$SpeculativeExecution.setFinalResult(RequestHandler.java:799) ~[cassandra-driver-core-3.1.4.jar:na]\r\n\tat com.datastax.driver.core.RequestHandler$SpeculativeExecution.onSet(RequestHandler.java:502) ~[cassandra-driver-core-3.1.4.jar:na]\r\n\tat com.datastax.driver.core.Connection$Dispatcher.channelRead0(Connection.java:1070) ~[cassandra-driver-core-3.1.4.jar:na]\r\n\tat com.datastax.driver.core.Connection$Dispatcher.channelRead0(Connection.java:993) ~[cassandra-driver-core-3.1.4.jar:na]\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:328) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:321) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:266) ~[netty-handler-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:328) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:321) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102) ~[netty-codec-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:328) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:321) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:293) ~[netty-codec-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:267) ~[netty-codec-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:328) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:321) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1280) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:328) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:890) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:131) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:564) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:505) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:419) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:391) ~[netty-transport-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:112) ~[netty-common-4.0.37.Final.jar:4.0.37.Final]\r\n\tat io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:145) ~[netty-common-4.0.37.Final.jar:4.0.37.Final]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289430778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289439434","html_url":"https://github.com/openzipkin/zipkin/issues/1545#issuecomment-289439434","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1545","id":289439434,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTQzOTQzNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T12:31:55Z","updated_at":"2017-03-27T12:31:55Z","author_association":"MEMBER","body":"it looks like your zipkin versions are not aligned. I'd set everything under the io.zipkin.java group id to the same version. gradle can do this I think.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289439434/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289439794","html_url":"https://github.com/openzipkin/zipkin/issues/1545#issuecomment-289439794","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1545","id":289439794,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTQzOTc5NA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T12:33:34Z","updated_at":"2017-03-27T12:33:34Z","author_association":"NONE","body":"Sorry for disturbing you, I simply added whole library 'io.zipkin.java:zipkin:1.21.0' and it fixed my problem","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289439794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289444754","html_url":"https://github.com/openzipkin/zipkin/issues/1541#issuecomment-289444754","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1541","id":289444754,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTQ0NDc1NA==","user":{"login":"ys","id":483012,"node_id":"MDQ6VXNlcjQ4MzAxMg==","avatar_url":"https://avatars.githubusercontent.com/u/483012?v=4","gravatar_id":"","url":"https://api.github.com/users/ys","html_url":"https://github.com/ys","followers_url":"https://api.github.com/users/ys/followers","following_url":"https://api.github.com/users/ys/following{/other_user}","gists_url":"https://api.github.com/users/ys/gists{/gist_id}","starred_url":"https://api.github.com/users/ys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ys/subscriptions","organizations_url":"https://api.github.com/users/ys/orgs","repos_url":"https://api.github.com/users/ys/repos","events_url":"https://api.github.com/users/ys/events{/privacy}","received_events_url":"https://api.github.com/users/ys/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T12:55:08Z","updated_at":"2017-03-27T12:55:08Z","author_association":"CONTRIBUTOR","body":"```\r\n+-------------+       +-------------------------+       +-----------------------------------+\r\n| web request |  --> | Enqueuing job in sidekiq |  --> | worker pick the job and process it  |\r\n+-------------+       +-------------------------+       +-----------------------------------+\r\n```\r\n\r\nhttps://gist.github.com/ys/a7190081d466747e1d42376cd65928fa here are the two classes responsible for serializing the trace and deserialize it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289444754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289643658","html_url":"https://github.com/openzipkin/zipkin/issues/1541#issuecomment-289643658","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1541","id":289643658,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTY0MzY1OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T02:27:10Z","updated_at":"2017-03-28T02:27:10Z","author_association":"MEMBER","body":"here's my 2p:\n\nso I think the client enquing the span would be a one-way \"cs\"\nthe worker pulling the message extracts trace ids and adds \"sr\" to the same\nspan as the client.\na child span of that should be made for the processing of that message\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289643658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289645078","html_url":"https://github.com/openzipkin/zipkin/issues/1544#issuecomment-289645078","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1544","id":289645078,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTY0NTA3OA==","user":{"login":"praveenbarli","id":22087406,"node_id":"MDQ6VXNlcjIyMDg3NDA2","avatar_url":"https://avatars.githubusercontent.com/u/22087406?v=4","gravatar_id":"","url":"https://api.github.com/users/praveenbarli","html_url":"https://github.com/praveenbarli","followers_url":"https://api.github.com/users/praveenbarli/followers","following_url":"https://api.github.com/users/praveenbarli/following{/other_user}","gists_url":"https://api.github.com/users/praveenbarli/gists{/gist_id}","starred_url":"https://api.github.com/users/praveenbarli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveenbarli/subscriptions","organizations_url":"https://api.github.com/users/praveenbarli/orgs","repos_url":"https://api.github.com/users/praveenbarli/repos","events_url":"https://api.github.com/users/praveenbarli/events{/privacy}","received_events_url":"https://api.github.com/users/praveenbarli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T02:35:45Z","updated_at":"2017-03-28T02:35:45Z","author_association":"NONE","body":"@adriancole  I debugged throught the code and I see that span count on search details page is calculated as \"Sum of  (Unique services (part of annotation and binary annotation endpoints) in each span ) \". As this is happeing at UI end the Span's are merged ones coming from API. However I didn't understand why it is called Span count. I would describe this count as sum of unique events across spans.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289645078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289646790","html_url":"https://github.com/openzipkin/zipkin/issues/1544#issuecomment-289646790","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1544","id":289646790,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTY0Njc5MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T02:47:56Z","updated_at":"2017-03-28T02:47:56Z","author_association":"MEMBER","body":"I'm answering eventhough this logic predated me by quite a while.\r\n\r\nthe search screen is primarily partitioned by service. a guess is that this was originally Span count (in service) as opposed to Total Spans.\r\n\r\nIn that case, span count in this screen is implicitly count of spans that passed through the selected service. For example, there's a percentage of time in the same panel which is also \"current service\" specific.\r\n\r\nIf it were more clear, it could be a fraction ex. \"Span count: 5/10\"\r\n\r\nThe trace detail screen isn't scoped to a specific service by default, and the \"Total spans\" there should be in fact the total. The \"per service\" boxes below it should be accurate. For example, if you click on a span which had the service \"foo\" selected in the search screen, then the Span count on the search screen should match \"foo x NNN\" on the detail screen.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289646790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289937555","html_url":"https://github.com/openzipkin/zipkin/issues/1525#issuecomment-289937555","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1525","id":289937555,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTkzNzU1NQ==","user":{"login":"StephenWithPH","id":2990492,"node_id":"MDQ6VXNlcjI5OTA0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2990492?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenWithPH","html_url":"https://github.com/StephenWithPH","followers_url":"https://api.github.com/users/StephenWithPH/followers","following_url":"https://api.github.com/users/StephenWithPH/following{/other_user}","gists_url":"https://api.github.com/users/StephenWithPH/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenWithPH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenWithPH/subscriptions","organizations_url":"https://api.github.com/users/StephenWithPH/orgs","repos_url":"https://api.github.com/users/StephenWithPH/repos","events_url":"https://api.github.com/users/StephenWithPH/events{/privacy}","received_events_url":"https://api.github.com/users/StephenWithPH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T23:37:43Z","updated_at":"2017-03-29T00:04:35Z","author_association":"NONE","body":"We also need this feature. We're considering implementing it... with a PR to follow. Here's the **rough** draft sketch:\r\n\r\n- add additional [zipkin.storage.elasticsearch](https://github.com/openzipkin/zipkin/blob/release-1.21.0/zipkin-autoconfigure/storage-elasticsearch-http/src/main/java/zipkin/autoconfigure/storage/elasticsearch/http/ZipkinElasticsearchHttpStorageProperties.java#L22) properties for username and password (plaintext throughout)\r\n- propagate these properties to [ElasticsearchHttpStorage](https://github.com/openzipkin/zipkin/blob/release-1.21.0/zipkin-storage/elasticsearch-http/src/main/java/zipkin/storage/elasticsearch/http/ElasticsearchHttpStorage.java#L52)\r\n- via [asyncSpanStore](https://github.com/openzipkin/zipkin/blob/release-1.21.0/zipkin-storage/elasticsearch-http/src/main/java/zipkin/storage/elasticsearch/http/ElasticsearchHttpStorage.java#L203), propagate properties to [ElasticsearchHttpSpanStore](https://github.com/openzipkin/zipkin/blob/release-1.21.0/zipkin-storage/elasticsearch-http/src/main/java/zipkin/storage/elasticsearch/http/ElasticsearchHttpSpanStore.java#L51), and from there to [SearchCallFactory](https://github.com/openzipkin/zipkin/blob/release-1.21.0/zipkin-storage/elasticsearch-http/src/main/java/zipkin/storage/elasticsearch/http/internal/client/SearchCallFactory.java#L31)\r\n- at this time, memoize them using [okhttp3.Credentials](https://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/Authenticate.java#L39)\r\n- update [newCall](https://github.com/openzipkin/zipkin/blob/release-1.21.0/zipkin-storage/elasticsearch-http/src/main/java/zipkin/storage/elasticsearch/http/internal/client/SearchCallFactory.java#L38) to pass (previously memoized) authorization headers on **every request** which should take care of anything originating from ElasticsearchHttpSpanStore.\r\n- via [asyncSpanConsumer](https://github.com/openzipkin/zipkin/blob/release-1.21.0/zipkin-storage/elasticsearch-http/src/main/java/zipkin/storage/elasticsearch/http/ElasticsearchHttpStorage.java#L209), propagate the original properties to [ElasticsearchHttpSpanConsumer](https://github.com/openzipkin/zipkin/blob/release-1.21.0/zipkin-storage/elasticsearch-http/src/main/java/zipkin/storage/elasticsearch/http/ElasticsearchHttpSpanConsumer.java#L31) and memoize them as before\r\n- during every call to [accept](https://github.com/openzipkin/zipkin/blob/release-1.21.0/zipkin-storage/elasticsearch-http/src/main/java/zipkin/storage/elasticsearch/http/ElasticsearchHttpSpanConsumer.java#L42) pass the memoized credentials to [HttpBulkIndexer](https://github.com/openzipkin/zipkin/blob/release-1.21.0/zipkin-storage/elasticsearch-http/src/main/java/zipkin/storage/elasticsearch/http/HttpBulkIndexer.java#L80) where they'll be used as a header on **every request**\r\n- take care of all the similar things for [EnsureIndexTemplate](https://github.com/openzipkin/zipkin/blob/release-1.21.0/zipkin-storage/elasticsearch-http/src/main/java/zipkin/storage/elasticsearch/http/EnsureIndexTemplate.java)\r\n\r\n\r\nComments:\r\n- we're adding authorization headers to every request per https://www.elastic.co/guide/en/x-pack/current/http-clients.html\r\n- for $reasons, our implementation of Zipkin only _reads_ data from Elasticsearch; with all of the above, we're somewhat confident on the reading path; we appreciate more scrutiny on the _writing_ path\r\n- we're not using AWS-hosted Elasticsearch, so we appreciate more scrutiny on this as well\r\n- we're purposefully addressing only elasticsearch-http; we feel this is much better than dealing with embedded or transport nodes. From other discussions in this repo, that feels consistent with the Zipkin roadmap.\r\n\r\n\r\nGiven all of the above, does this path seem reasonable? Before we start work, we'd like to make sure this is something we can ultimately contribute back.\r\n\r\nEDIT: add cc @openzipkin/elasticsearch","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289937555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289960167","html_url":"https://github.com/openzipkin/zipkin/issues/1525#issuecomment-289960167","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1525","id":289960167,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTk2MDE2Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T02:07:11Z","updated_at":"2017-03-29T02:07:11Z","author_association":"MEMBER","body":"I'd prefer a much tighter scope change, in line with how aws works.. Make authentication an http-layer concern, which is already possible via interceptor. Doing this removes all impact from the base code.\r\n\r\nThis would be like so..\r\n\r\n1. Add username and password properties to ZipkinElasticsearchHttpStorageProperties, documented as being for basic authentication per the url.\r\n\r\n2. make ZipkinElasticsearchHttpStorageAutoConfiguration.basicAuth which is similar to awsSignatureVersion4 in the aws configuration class. This should be conditional on the \r\nusername and password properties being set. the resulting interceptor should be a normal okhttp authentication one. Make sure it is tested\r\n\r\n3. update the yaml and readme with a shortcut env name of the env properties. \r\n\r\nsg?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/289960167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290264257","html_url":"https://github.com/openzipkin/zipkin/issues/1525#issuecomment-290264257","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1525","id":290264257,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI2NDI1Nw==","user":{"login":"StephenWithPH","id":2990492,"node_id":"MDQ6VXNlcjI5OTA0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2990492?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenWithPH","html_url":"https://github.com/StephenWithPH","followers_url":"https://api.github.com/users/StephenWithPH/followers","following_url":"https://api.github.com/users/StephenWithPH/following{/other_user}","gists_url":"https://api.github.com/users/StephenWithPH/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenWithPH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenWithPH/subscriptions","organizations_url":"https://api.github.com/users/StephenWithPH/orgs","repos_url":"https://api.github.com/users/StephenWithPH/repos","events_url":"https://api.github.com/users/StephenWithPH/events{/privacy}","received_events_url":"https://api.github.com/users/StephenWithPH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T00:14:28Z","updated_at":"2017-03-30T00:14:28Z","author_association":"NONE","body":"Sounds great. We're in motion on this. Back soon(ish) for feedback.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290264257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290273025","html_url":"https://github.com/openzipkin/zipkin/issues/1546#issuecomment-290273025","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1546","id":290273025,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI3MzAyNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T01:14:45Z","updated_at":"2017-03-30T01:14:45Z","author_association":"MEMBER","body":"I assigned mick (as a polite request) but if anyone @openzipkin/cassandra can help, would be great. One way to help is to ask on one of the cassandra forums as I don't expect this to be zipkin specific (except the table names)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290273025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290273212","html_url":"https://github.com/openzipkin/zipkin/issues/1546#issuecomment-290273212","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1546","id":290273212,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI3MzIxMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T01:16:00Z","updated_at":"2017-03-30T01:16:00Z","author_association":"MEMBER","body":"from gitter @maryoush Mar 29 23:51\r\n> in my case only what effectively allows me to get rid of old traces is to run globally script on cassandra to adjust the ( gc_grace_seconds , default_time_to_live )","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290273212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290274237","html_url":"https://github.com/openzipkin/zipkin/issues/1511#issuecomment-290274237","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1511","id":290274237,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI3NDIzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T01:23:14Z","updated_at":"2017-03-30T01:23:14Z","author_association":"MEMBER","body":"going to drop this shortly","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290274237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290281794","html_url":"https://github.com/openzipkin/zipkin/pull/1547#issuecomment-290281794","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1547","id":290281794,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI4MTc5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T02:14:06Z","updated_at":"2017-03-30T02:14:06Z","author_association":"MEMBER","body":"cc @openzipkin/elasticsearch ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290281794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290281900","html_url":"https://github.com/openzipkin/zipkin/issues/1511#issuecomment-290281900","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1511","id":290281900,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI4MTkwMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T02:14:43Z","updated_at":"2017-03-30T02:14:43Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/1547 drops this","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290281900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290282054","html_url":"https://github.com/openzipkin/zipkin/pull/1533#issuecomment-290282054","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1533","id":290282054,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI4MjA1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T02:15:44Z","updated_at":"2017-03-30T02:15:44Z","author_association":"MEMBER","body":"opened another issue for how to modify ttl after the fact","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290282054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290282680","html_url":"https://github.com/openzipkin/zipkin/pull/1533#issuecomment-290282680","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1533","id":290282680,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI4MjY4MA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T02:20:04Z","updated_at":"2017-03-30T02:20:04Z","author_association":"CONTRIBUTOR","body":"Curious as to the reasoning behind different TTLs","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290282680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290284558","html_url":"https://github.com/openzipkin/zipkin/pull/1533#issuecomment-290284558","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1533","id":290284558,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI4NDU1OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T02:32:38Z","updated_at":"2017-03-30T02:32:38Z","author_association":"MEMBER","body":"This has been in place in some fashion since zipkin was around iirc. A\ndifferent ttl for data vs indexes supports retrieval by id for a longer\nperiod without impacting the size or performance of search requests\n(indexes). Runbooks in twitter had info go get trace by id when they were\nin log files for example. This wouldnt need a search to work. Not sure if\nthis split is popular anymore though.\n\nOn 30 Mar 2017 10:20 am, \"Yuri Shkuro\" <notifications@github.com> wrote:\n\n> Curious as to the reasoning behind different TTLs\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/1533#issuecomment-290282680>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD612bLYJeXE_rKDzG0xabWbfw9xLdNks5rqxFVgaJpZM4MUUEE>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290284558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290308998","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-290308998","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":290308998,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDMwODk5OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T05:49:33Z","updated_at":"2017-03-30T05:49:33Z","author_association":"MEMBER","body":"The trouble I have here is that I don't know how natural it is for someone to change the sort order then click search, and the problem is only sorted (no pun intended) when that's the case. It sounds fragile, because it requires someone to know the way to not make it break :)\r\n\r\n@eirslett other ideas?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290308998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290318557","html_url":"https://github.com/openzipkin/zipkin/issues/1546#issuecomment-290318557","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1546","id":290318557,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDMxODU1Nw==","user":{"login":"maryoush","id":3878520,"node_id":"MDQ6VXNlcjM4Nzg1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/3878520?v=4","gravatar_id":"","url":"https://api.github.com/users/maryoush","html_url":"https://github.com/maryoush","followers_url":"https://api.github.com/users/maryoush/followers","following_url":"https://api.github.com/users/maryoush/following{/other_user}","gists_url":"https://api.github.com/users/maryoush/gists{/gist_id}","starred_url":"https://api.github.com/users/maryoush/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maryoush/subscriptions","organizations_url":"https://api.github.com/users/maryoush/orgs","repos_url":"https://api.github.com/users/maryoush/repos","events_url":"https://api.github.com/users/maryoush/events{/privacy}","received_events_url":"https://api.github.com/users/maryoush/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T06:50:10Z","updated_at":"2017-03-30T06:50:10Z","author_association":"NONE","body":"The proper cql could look like - AA arbitrary TTL in seconds\r\n```\r\nALTER TABLE zipkin.traces\r\n    WITH compaction = {'class': 'org.apache.cassandra.db.compaction.DateTieredCompactionStrategy', 'max_window_size_seconds': 'AA'}\r\n    AND gc_grace_seconds = AA\r\n    AND default_time_to_live =  AA;\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290318557/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290380670","html_url":"https://github.com/openzipkin/zipkin/issues/1546#issuecomment-290380670","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1546","id":290380670,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDM4MDY3MA==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T11:15:57Z","updated_at":"2017-03-30T11:15:57Z","author_association":"MEMBER","body":"I'm pretty sure in all versions that TTL is only stored in the cell.\r\n\r\nThe table setting is a default value that gets added to the write. Each column or cell of data contains a timestamp of when it was written and a TTL value.\r\n\r\nTherefore changing the table's TTL setting will have no impact on data already on in C*.\r\nIt will have an impact on subsequent writes though and @maryoush example is correct. \r\n\r\nYou can reduce gc_grace_seconds though and trigger a user defined compaction on those sstables that then have high tombstone ratios in them. This will help alleviate disk space issues.\r\n\r\nGiven the nature of zipkin's data you may also want to reduce the gc_grace_seconds. There are some consequences to too low a gc_grace_second value, see http://docs.datastax.com/en/cql/3.3/cql/cql_reference/cqlCreateTable.html#tabProp__cqlTableGc_grace_seconds ,but for the case of Zipkin where the need for durability isn't critical it probably isn't an issue.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290380670/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290406757","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-290406757","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":290406757,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDQwNjc1Nw==","user":{"login":"joel-airspring","id":4552139,"node_id":"MDQ6VXNlcjQ1NTIxMzk=","avatar_url":"https://avatars.githubusercontent.com/u/4552139?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-airspring","html_url":"https://github.com/joel-airspring","followers_url":"https://api.github.com/users/joel-airspring/followers","following_url":"https://api.github.com/users/joel-airspring/following{/other_user}","gists_url":"https://api.github.com/users/joel-airspring/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-airspring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-airspring/subscriptions","organizations_url":"https://api.github.com/users/joel-airspring/orgs","repos_url":"https://api.github.com/users/joel-airspring/repos","events_url":"https://api.github.com/users/joel-airspring/events{/privacy}","received_events_url":"https://api.github.com/users/joel-airspring/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T13:14:27Z","updated_at":"2017-03-30T13:14:27Z","author_association":"CONTRIBUTOR","body":"If the {{#queryWasPerformed}} section of index.mustache was always included, then the problem goes away.  The only thing that would change would be the default view from 0 traces showing.\r\n\r\nFrom: \r\n\r\n![current](https://cloud.githubusercontent.com/assets/4552139/24505570/529d3898-1528-11e7-96ee-1d4da15f7b27.png)\r\n\r\nTo:\r\n\r\n![always](https://cloud.githubusercontent.com/assets/4552139/24505582/5fde1f22-1528-11e7-9645-965a11ea5b8f.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290406757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290421785","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-290421785","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":290421785,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDQyMTc4NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T14:08:21Z","updated_at":"2017-03-30T14:08:21Z","author_association":"MEMBER","body":"sounds ok to me..\n\nOn Thu, Mar 30, 2017 at 9:14 PM, joel-airspring <notifications@github.com>\nwrote:\n\n> If the {{#queryWasPerformed}} section of index.mustache was always\n> included, then the problem goes away. The only thing that would change\n> would be the default view from 0 traces showing.\n>\n> From:\n>\n> [image: current]\n> <https://cloud.githubusercontent.com/assets/4552139/24505570/529d3898-1528-11e7-96ee-1d4da15f7b27.png>\n>\n> To:\n>\n> [image: always]\n> <https://cloud.githubusercontent.com/assets/4552139/24505582/5fde1f22-1528-11e7-9645-965a11ea5b8f.png>\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/1543#issuecomment-290406757>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD6172PAzPmDOvuyDWmi9T0_KWokG6Aks5rq6q0gaJpZM4MmdeD>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290421785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290428177","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-290428177","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":290428177,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDQyODE3Nw==","user":{"login":"joel-airspring","id":4552139,"node_id":"MDQ6VXNlcjQ1NTIxMzk=","avatar_url":"https://avatars.githubusercontent.com/u/4552139?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-airspring","html_url":"https://github.com/joel-airspring","followers_url":"https://api.github.com/users/joel-airspring/followers","following_url":"https://api.github.com/users/joel-airspring/following{/other_user}","gists_url":"https://api.github.com/users/joel-airspring/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-airspring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-airspring/subscriptions","organizations_url":"https://api.github.com/users/joel-airspring/orgs","repos_url":"https://api.github.com/users/joel-airspring/repos","events_url":"https://api.github.com/users/joel-airspring/events{/privacy}","received_events_url":"https://api.github.com/users/joel-airspring/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T14:28:41Z","updated_at":"2017-03-30T14:28:41Z","author_association":"CONTRIBUTOR","body":"I've made the change, plush squashed down to two commits:\r\n\r\n* Mustache-ize UI sort order.\r\n* Pass sort order as a query parameter.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290428177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290428880","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-290428880","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":290428880,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDQyODg4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T14:30:51Z","updated_at":"2017-03-30T14:30:51Z","author_association":"MEMBER","body":"I will take a look tomorrow.. if works and needs no changes, and no one objects, it will get in the next cut this weekend. thx for the help!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290428880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290476426","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-290476426","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":290476426,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDQ3NjQyNg==","user":{"login":"joel-airspring","id":4552139,"node_id":"MDQ6VXNlcjQ1NTIxMzk=","avatar_url":"https://avatars.githubusercontent.com/u/4552139?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-airspring","html_url":"https://github.com/joel-airspring","followers_url":"https://api.github.com/users/joel-airspring/followers","following_url":"https://api.github.com/users/joel-airspring/following{/other_user}","gists_url":"https://api.github.com/users/joel-airspring/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-airspring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-airspring/subscriptions","organizations_url":"https://api.github.com/users/joel-airspring/orgs","repos_url":"https://api.github.com/users/joel-airspring/repos","events_url":"https://api.github.com/users/joel-airspring/events{/privacy}","received_events_url":"https://api.github.com/users/joel-airspring/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T17:05:47Z","updated_at":"2017-03-30T17:05:47Z","author_association":"CONTRIBUTOR","body":"No problem.  We're beginning to use zipkin here at my job, and it's a great tool!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290476426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290510302","html_url":"https://github.com/openzipkin/zipkin/issues/1525#issuecomment-290510302","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1525","id":290510302,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDUxMDMwMg==","user":{"login":"StephenWithPH","id":2990492,"node_id":"MDQ6VXNlcjI5OTA0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2990492?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenWithPH","html_url":"https://github.com/StephenWithPH","followers_url":"https://api.github.com/users/StephenWithPH/followers","following_url":"https://api.github.com/users/StephenWithPH/following{/other_user}","gists_url":"https://api.github.com/users/StephenWithPH/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenWithPH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenWithPH/subscriptions","organizations_url":"https://api.github.com/users/StephenWithPH/orgs","repos_url":"https://api.github.com/users/StephenWithPH/repos","events_url":"https://api.github.com/users/StephenWithPH/events{/privacy}","received_events_url":"https://api.github.com/users/StephenWithPH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T18:56:18Z","updated_at":"2017-03-30T18:56:18Z","author_association":"NONE","body":"@adriancole see #1548 from @NithinMadhavanpillai. Comments?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290510302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290585766","html_url":"https://github.com/openzipkin/zipkin/issues/1546#issuecomment-290585766","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1546","id":290585766,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU4NTc2Ng==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T00:52:26Z","updated_at":"2017-03-31T00:52:26Z","author_association":"MEMBER","body":"> Each column or cell of data contains a timestamp of when it was written and a TTL value.\r\n> Therefore changing the table's TTL setting will have no impact on data already on in C*.\r\n\r\nTo elaborate a bit on this…\r\n\r\nYou can't \"change\" TTL of existing data. The data on disk is immutable, so updating data with a new TTL effectively means duplicating it with only the newer version having the new TTL. Further updating old data is a bad idea when using the TimeWindowCompactionStrategy, as it's expecting data written in chronological order (at least not across days).","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290585766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290589805","html_url":"https://github.com/openzipkin/zipkin/issues/1525#issuecomment-290589805","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1525","id":290589805,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU4OTgwNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T01:22:04Z","updated_at":"2017-03-31T01:22:04Z","author_association":"MEMBER","body":"yep. made some! mostly there thanks!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290589805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290590119","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-290590119","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":290590119,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU5MDExOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T01:24:26Z","updated_at":"2017-03-31T01:24:26Z","author_association":"MEMBER","body":"is your job air spring mattress or air spring software? :D","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290590119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290590396","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-290590396","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":290590396,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU5MDM5Ng==","user":{"login":"joel-airspring","id":4552139,"node_id":"MDQ6VXNlcjQ1NTIxMzk=","avatar_url":"https://avatars.githubusercontent.com/u/4552139?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-airspring","html_url":"https://github.com/joel-airspring","followers_url":"https://api.github.com/users/joel-airspring/followers","following_url":"https://api.github.com/users/joel-airspring/following{/other_user}","gists_url":"https://api.github.com/users/joel-airspring/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-airspring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-airspring/subscriptions","organizations_url":"https://api.github.com/users/joel-airspring/orgs","repos_url":"https://api.github.com/users/joel-airspring/repos","events_url":"https://api.github.com/users/joel-airspring/events{/privacy}","received_events_url":"https://api.github.com/users/joel-airspring/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T01:26:13Z","updated_at":"2017-03-31T01:26:13Z","author_association":"CONTRIBUTOR","body":"The latter.\r\n\r\nIf we hit it big, we're going to buy the mattress company though.  Ha ha!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290590396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290598994","html_url":"https://github.com/openzipkin/zipkin/pull/1543#issuecomment-290598994","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1543","id":290598994,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU5ODk5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T02:31:09Z","updated_at":"2017-03-31T02:31:09Z","author_association":"MEMBER","body":"works for me. if anyone complains, we'll revisit","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/290598994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291032992","html_url":"https://github.com/openzipkin/zipkin/pull/1548#issuecomment-291032992","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1548","id":291032992,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTAzMjk5Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-03T01:57:34Z","updated_at":"2017-04-03T01:57:34Z","author_association":"MEMBER","body":"lets try to wrap this up today, as I'd like to cut a release that sorts out the elasticsearch stuff","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291032992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291049755","html_url":"https://github.com/openzipkin/zipkin/pull/1548#issuecomment-291049755","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1548","id":291049755,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTA0OTc1NQ==","user":{"login":"StephenWithPH","id":2990492,"node_id":"MDQ6VXNlcjI5OTA0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2990492?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenWithPH","html_url":"https://github.com/StephenWithPH","followers_url":"https://api.github.com/users/StephenWithPH/followers","following_url":"https://api.github.com/users/StephenWithPH/following{/other_user}","gists_url":"https://api.github.com/users/StephenWithPH/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenWithPH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenWithPH/subscriptions","organizations_url":"https://api.github.com/users/StephenWithPH/orgs","repos_url":"https://api.github.com/users/StephenWithPH/repos","events_url":"https://api.github.com/users/StephenWithPH/events{/privacy}","received_events_url":"https://api.github.com/users/StephenWithPH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-03T05:08:15Z","updated_at":"2017-04-03T17:33:03Z","author_association":"NONE","body":"open to-dos that we know about:\r\n\r\n- [x] yaml mapping in in zipkin-server-shared.yaml\r\n- [x] update zipkin-server/README.md\r\n- [x] documentation on the auth filter\r\n- [x] unit test the auth filter","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291049755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291215973","html_url":"https://github.com/openzipkin/zipkin/pull/1548#issuecomment-291215973","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1548","id":291215973,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTIxNTk3Mw==","user":{"login":"StephenWithPH","id":2990492,"node_id":"MDQ6VXNlcjI5OTA0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2990492?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenWithPH","html_url":"https://github.com/StephenWithPH","followers_url":"https://api.github.com/users/StephenWithPH/followers","following_url":"https://api.github.com/users/StephenWithPH/following{/other_user}","gists_url":"https://api.github.com/users/StephenWithPH/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenWithPH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenWithPH/subscriptions","organizations_url":"https://api.github.com/users/StephenWithPH/orgs","repos_url":"https://api.github.com/users/StephenWithPH/repos","events_url":"https://api.github.com/users/StephenWithPH/events{/privacy}","received_events_url":"https://api.github.com/users/StephenWithPH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-03T17:35:40Z","updated_at":"2017-04-03T17:35:40Z","author_association":"NONE","body":"@adriancole I believe we've checked all the boxes. We can rebase and squash, rebase, or merge upstream/master. Let us know on this. Also let us know of any other changes.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291215973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291386684","html_url":"https://github.com/openzipkin/zipkin/pull/1548#issuecomment-291386684","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1548","id":291386684,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTM4NjY4NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T03:54:35Z","updated_at":"2017-04-04T03:54:35Z","author_association":"MEMBER","body":"I went ahead and resolved conflicts.. will merge on green!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291386684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291393642","html_url":"https://github.com/openzipkin/zipkin/pull/1548#issuecomment-291393642","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1548","id":291393642,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTM5MzY0Mg==","user":{"login":"StephenWithPH","id":2990492,"node_id":"MDQ6VXNlcjI5OTA0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2990492?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenWithPH","html_url":"https://github.com/StephenWithPH","followers_url":"https://api.github.com/users/StephenWithPH/followers","following_url":"https://api.github.com/users/StephenWithPH/following{/other_user}","gists_url":"https://api.github.com/users/StephenWithPH/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenWithPH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenWithPH/subscriptions","organizations_url":"https://api.github.com/users/StephenWithPH/orgs","repos_url":"https://api.github.com/users/StephenWithPH/repos","events_url":"https://api.github.com/users/StephenWithPH/events{/privacy}","received_events_url":"https://api.github.com/users/StephenWithPH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T04:58:44Z","updated_at":"2017-04-04T04:58:44Z","author_association":"NONE","body":"What timing. I just force pushed the rebased update (about ~45 seconds after your merge)... ran into some issues with the license checker. Who knew that 2016 != 2017?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291393642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291394081","html_url":"https://github.com/openzipkin/zipkin/pull/1548#issuecomment-291394081","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1548","id":291394081,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTM5NDA4MQ==","user":{"login":"StephenWithPH","id":2990492,"node_id":"MDQ6VXNlcjI5OTA0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2990492?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenWithPH","html_url":"https://github.com/StephenWithPH","followers_url":"https://api.github.com/users/StephenWithPH/followers","following_url":"https://api.github.com/users/StephenWithPH/following{/other_user}","gists_url":"https://api.github.com/users/StephenWithPH/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenWithPH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenWithPH/subscriptions","organizations_url":"https://api.github.com/users/StephenWithPH/orgs","repos_url":"https://api.github.com/users/StephenWithPH/repos","events_url":"https://api.github.com/users/StephenWithPH/events{/privacy}","received_events_url":"https://api.github.com/users/StephenWithPH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T05:02:41Z","updated_at":"2017-04-04T05:02:41Z","author_association":"NONE","body":"see https://github.com/Nordstrom/zipkin/commit/7272f457e7451a34d19f4388ecdac5c7f7b9d436 and  https://github.com/Nordstrom/zipkin/commit/638045a8048de82993d77b8fd84496c85afbadd3","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291394081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291394893","html_url":"https://github.com/openzipkin/zipkin/pull/1548#issuecomment-291394893","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1548","id":291394893,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTM5NDg5Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T05:09:40Z","updated_at":"2017-04-04T05:09:40Z","author_association":"MEMBER","body":"indeed. sorry if I messed up anything for you","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291394893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291401118","html_url":"https://github.com/openzipkin/zipkin/pull/1549#issuecomment-291401118","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1549","id":291401118,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTQwMTExOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T05:58:11Z","updated_at":"2017-04-04T05:58:11Z","author_association":"MEMBER","body":"cc @felixbarny ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291401118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291401601","html_url":"https://github.com/openzipkin/zipkin/pull/1549#issuecomment-291401601","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1549","id":291401601,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTQwMTYwMQ==","user":{"login":"felixbarny","id":2163464,"node_id":"MDQ6VXNlcjIxNjM0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2163464?v=4","gravatar_id":"","url":"https://api.github.com/users/felixbarny","html_url":"https://github.com/felixbarny","followers_url":"https://api.github.com/users/felixbarny/followers","following_url":"https://api.github.com/users/felixbarny/following{/other_user}","gists_url":"https://api.github.com/users/felixbarny/gists{/gist_id}","starred_url":"https://api.github.com/users/felixbarny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixbarny/subscriptions","organizations_url":"https://api.github.com/users/felixbarny/orgs","repos_url":"https://api.github.com/users/felixbarny/repos","events_url":"https://api.github.com/users/felixbarny/events{/privacy}","received_events_url":"https://api.github.com/users/felixbarny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T06:01:01Z","updated_at":"2017-04-04T06:01:01Z","author_association":"NONE","body":"Nice!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291401601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291404211","html_url":"https://github.com/openzipkin/zipkin/issues/1544#issuecomment-291404211","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1544","id":291404211,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTQwNDIxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T06:18:22Z","updated_at":"2017-04-04T06:18:22Z","author_association":"MEMBER","body":"The following trace can reproduce the issue.. the search page is reporting service * span (I think) as opposed to total spans as span count\r\n\r\n```json\r\n[\r\n  {\r\n    \"traceId\": \"5c53ab5f3f2ac9ff\",\r\n    \"id\": \"5c53ab5f3f2ac9ff\",\r\n    \"name\": \"get\",\r\n    \"timestamp\": 1491286274031591,\r\n    \"duration\": 37217,\r\n    \"annotations\": [\r\n      {\r\n        \"timestamp\": 1491286274031591,\r\n        \"value\": \"sr\",\r\n        \"endpoint\": {\r\n          \"serviceName\": \"zipkin-server\",\r\n          \"ipv4\": \"172.18.0.4\",\r\n          \"port\": 9411\r\n        }\r\n      },\r\n      {\r\n        \"timestamp\": 1491286274068808,\r\n        \"value\": \"ss\",\r\n        \"endpoint\": {\r\n          \"serviceName\": \"zipkin-server\",\r\n          \"ipv4\": \"172.18.0.4\",\r\n          \"port\": 9411\r\n        }\r\n      }\r\n    ],\r\n    \"binaryAnnotations\": [\r\n      {\r\n        \"key\": \"ca\",\r\n        \"value\": true,\r\n        \"endpoint\": {\r\n          \"serviceName\": \"\",\r\n          \"ipv4\": \"192.168.99.1\",\r\n          \"port\": 59656\r\n        }\r\n      },\r\n      {\r\n        \"key\": \"http.status_code\",\r\n        \"value\": \"200\",\r\n        \"endpoint\": {\r\n          \"serviceName\": \"zipkin-server\",\r\n          \"ipv4\": \"172.18.0.4\",\r\n          \"port\": 9411\r\n        }\r\n      },\r\n      {\r\n        \"key\": \"http.url\",\r\n        \"value\": \"/api/v1/spans\",\r\n        \"endpoint\": {\r\n          \"serviceName\": \"zipkin-server\",\r\n          \"ipv4\": \"172.18.0.4\",\r\n          \"port\": 9411\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"traceId\": \"5c53ab5f3f2ac9ff\",\r\n    \"id\": \"331fc2da6e9d74cf\",\r\n    \"name\": \"get-span-names\",\r\n    \"parentId\": \"5c53ab5f3f2ac9ff\",\r\n    \"timestamp\": 1491286274031937,\r\n    \"duration\": 35797,\r\n    \"binaryAnnotations\": [\r\n      {\r\n        \"key\": \"lc\",\r\n        \"value\": \"AutoValue_ElasticsearchHttpStorage\",\r\n        \"endpoint\": {\r\n          \"serviceName\": \"zipkin-server\",\r\n          \"ipv4\": \"172.18.0.4\",\r\n          \"port\": 9411\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"traceId\": \"5c53ab5f3f2ac9ff\",\r\n    \"id\": \"fcd1101cae5fc528\",\r\n    \"name\": \"aggregation\",\r\n    \"parentId\": \"331fc2da6e9d74cf\",\r\n    \"timestamp\": 1491286274037720,\r\n    \"duration\": 29791,\r\n    \"binaryAnnotations\": [\r\n      {\r\n        \"key\": \"lc\",\r\n        \"value\": \"okhttp\",\r\n        \"endpoint\": {\r\n          \"serviceName\": \"zipkin-server\",\r\n          \"ipv4\": \"172.18.0.4\",\r\n          \"port\": 9411\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    \"traceId\": \"5c53ab5f3f2ac9ff\",\r\n    \"id\": \"a69778605c1e1a00\",\r\n    \"name\": \"post\",\r\n    \"parentId\": \"fcd1101cae5fc528\",\r\n    \"timestamp\": 1491286274043711,\r\n    \"duration\": 23671,\r\n    \"annotations\": [\r\n      {\r\n        \"timestamp\": 1491286274043711,\r\n        \"value\": \"cs\",\r\n        \"endpoint\": {\r\n          \"serviceName\": \"zipkin-server\",\r\n          \"ipv4\": \"172.18.0.4\",\r\n          \"port\": 9411\r\n        }\r\n      },\r\n      {\r\n        \"timestamp\": 1491286274067382,\r\n        \"value\": \"cr\",\r\n        \"endpoint\": {\r\n          \"serviceName\": \"zipkin-server\",\r\n          \"ipv4\": \"172.18.0.4\",\r\n          \"port\": 9411\r\n        }\r\n      }\r\n    ],\r\n    \"binaryAnnotations\": [\r\n      {\r\n        \"key\": \"http.url\",\r\n        \"value\": \"http://elasticsearch:9200/zipkin-2017-04-03,zipkin-2017-04-04/span/_search?allow_no_indices=true&expand_wildcards=open&ignore_unavailable=true\",\r\n        \"endpoint\": {\r\n          \"serviceName\": \"zipkin-server\",\r\n          \"ipv4\": \"172.18.0.4\",\r\n          \"port\": 9411\r\n        }\r\n      },\r\n      {\r\n        \"key\": \"sa\",\r\n        \"value\": true,\r\n        \"endpoint\": {\r\n          \"serviceName\": \"elasticsearch\",\r\n          \"ipv4\": \"172.18.0.2\",\r\n          \"port\": 9200\r\n        }\r\n      }\r\n    ]\r\n  }\r\n]\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291404211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291404480","html_url":"https://github.com/openzipkin/zipkin/issues/1544#issuecomment-291404480","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1544","id":291404480,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTQwNDQ4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T06:20:07Z","updated_at":"2017-04-04T06:20:07Z","author_association":"MEMBER","body":"so you see something like this.. note that the number 5 matches the count summed below it.\r\n\r\n<img width=\"278\" alt=\"screen shot 2017-04-04 at 2 18 47 pm\" src=\"https://cloud.githubusercontent.com/assets/64215/24643621/af5043f6-1941-11e7-8bc9-117c793b3cac.png\">\r\n\r\nWe either need to change the name to something besides \"spans\" or replace the value with totalSpans","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291404480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291411811","html_url":"https://github.com/openzipkin/zipkin/issues/1544#issuecomment-291411811","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1544","id":291411811,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTQxMTgxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T06:59:51Z","updated_at":"2017-04-04T06:59:51Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/1550","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291411811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291441521","html_url":"https://github.com/openzipkin/zipkin/issues/1551#issuecomment-291441521","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1551","id":291441521,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTQ0MTUyMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T09:15:07Z","updated_at":"2017-04-04T09:15:07Z","author_association":"MEMBER","body":"have you tried https://github.com/openzipkin/zipkin/blob/master/zipkin-server/README.md#logging\r\n\r\nif you have more problems try https://gitter.im/openzipkin/zipkin or worst case stackoverflow thx!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291441521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291704888","html_url":"https://github.com/openzipkin/zipkin/issues/1243#issuecomment-291704888","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1243","id":291704888,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTcwNDg4OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T01:34:51Z","updated_at":"2017-04-05T01:34:51Z","author_association":"MEMBER","body":"docs https://github.com/openzipkin/openzipkin.github.io/pull/76\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291704888/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291738815","html_url":"https://github.com/openzipkin/zipkin/issues/1512#issuecomment-291738815","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1512","id":291738815,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTczODgxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T03:24:52Z","updated_at":"2017-04-05T03:24:52Z","author_association":"MEMBER","body":"note. this is still popping up on circleci builds from master. This is leading me to believe this isn't travis specific, but perhaps something in common between the circle and travis builds\r\n\r\nhttps://circleci.com/gh/openzipkin/zipkin/703\r\n\r\ncc @openzipkin/devops-tooling ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/291738815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292050490","html_url":"https://github.com/openzipkin/zipkin/issues/1551#issuecomment-292050490","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1551","id":292050490,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjA1MDQ5MA==","user":{"login":"ruinanchen","id":15167618,"node_id":"MDQ6VXNlcjE1MTY3NjE4","avatar_url":"https://avatars.githubusercontent.com/u/15167618?v=4","gravatar_id":"","url":"https://api.github.com/users/ruinanchen","html_url":"https://github.com/ruinanchen","followers_url":"https://api.github.com/users/ruinanchen/followers","following_url":"https://api.github.com/users/ruinanchen/following{/other_user}","gists_url":"https://api.github.com/users/ruinanchen/gists{/gist_id}","starred_url":"https://api.github.com/users/ruinanchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruinanchen/subscriptions","organizations_url":"https://api.github.com/users/ruinanchen/orgs","repos_url":"https://api.github.com/users/ruinanchen/repos","events_url":"https://api.github.com/users/ruinanchen/events{/privacy}","received_events_url":"https://api.github.com/users/ruinanchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-06T02:19:47Z","updated_at":"2017-04-06T02:19:47Z","author_association":"NONE","body":"@adriancole Thank you very very much, I solve the problem.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292050490/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292096650","html_url":"https://github.com/openzipkin/zipkin/issues/1552#issuecomment-292096650","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1552","id":292096650,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjA5NjY1MA==","user":{"login":"eirslett","id":1872593,"node_id":"MDQ6VXNlcjE4NzI1OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1872593?v=4","gravatar_id":"","url":"https://api.github.com/users/eirslett","html_url":"https://github.com/eirslett","followers_url":"https://api.github.com/users/eirslett/followers","following_url":"https://api.github.com/users/eirslett/following{/other_user}","gists_url":"https://api.github.com/users/eirslett/gists{/gist_id}","starred_url":"https://api.github.com/users/eirslett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eirslett/subscriptions","organizations_url":"https://api.github.com/users/eirslett/orgs","repos_url":"https://api.github.com/users/eirslett/repos","events_url":"https://api.github.com/users/eirslett/events{/privacy}","received_events_url":"https://api.github.com/users/eirslett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-06T07:50:58Z","updated_at":"2017-04-06T07:50:58Z","author_association":"CONTRIBUTOR","body":"I'll close this issue since it's a duplicate of #1229.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292096650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292526047","html_url":"https://github.com/openzipkin/zipkin/issues/1330#issuecomment-292526047","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1330","id":292526047,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjUyNjA0Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-07T12:41:57Z","updated_at":"2017-04-07T12:41:57Z","author_association":"MEMBER","body":"here's another I just noticed https://github.com/mc0/php-zipkin","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292526047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292930947","html_url":"https://github.com/openzipkin/zipkin/pull/1554#issuecomment-292930947","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1554","id":292930947,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjkzMDk0Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T12:10:17Z","updated_at":"2017-04-10T12:10:17Z","author_association":"MEMBER","body":"Here are two related issues on this topic to review before we talk about\nnew code and where:\n\ncache control:\nhttps://github.com/openzipkin/zipkin/issues/718#issuecomment-264052551\nelasticsearch performance: https://github.com/openzipkin/zipkin/issues/1526\n\ndo you mind commenting inside each, particularly in #1526 note how much you\nare ingesting and if you are doing any sampling.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292930947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292931326","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-292931326","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":292931326,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjkzMTMyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T12:12:00Z","updated_at":"2017-04-10T12:12:00Z","author_association":"MEMBER","body":"another thing I thought of is that we should collect notes about what sort of data they are putting into zipkin. For example, historically spans had very few tags and people used sampling. Particularly OpenTracing tend to put a lot of tags (each of which ends up in the subquery for service names). It will be interesting to know how many spans and how big they tend to be when users experience problems.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292931326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292935545","html_url":"https://github.com/openzipkin/zipkin/pull/1554#issuecomment-292935545","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1554","id":292935545,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjkzNTU0NQ==","user":{"login":"semyonslepov","id":27204211,"node_id":"MDQ6VXNlcjI3MjA0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/27204211?v=4","gravatar_id":"","url":"https://api.github.com/users/semyonslepov","html_url":"https://github.com/semyonslepov","followers_url":"https://api.github.com/users/semyonslepov/followers","following_url":"https://api.github.com/users/semyonslepov/following{/other_user}","gists_url":"https://api.github.com/users/semyonslepov/gists{/gist_id}","starred_url":"https://api.github.com/users/semyonslepov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/semyonslepov/subscriptions","organizations_url":"https://api.github.com/users/semyonslepov/orgs","repos_url":"https://api.github.com/users/semyonslepov/repos","events_url":"https://api.github.com/users/semyonslepov/events{/privacy}","received_events_url":"https://api.github.com/users/semyonslepov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T12:31:37Z","updated_at":"2017-04-10T12:31:37Z","author_association":"NONE","body":"Sure, I've seen these issues before, but I'll look for them again and put comments.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292935545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292964626","html_url":"https://github.com/openzipkin/zipkin/pull/1554#issuecomment-292964626","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1554","id":292964626,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk2NDYyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T14:23:15Z","updated_at":"2017-04-10T14:23:15Z","author_association":"MEMBER","body":"one last thing to verify. we recently compensated for this in #1538 \r\nare you running latest?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292964626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292968184","html_url":"https://github.com/openzipkin/zipkin/pull/1554#issuecomment-292968184","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1554","id":292968184,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk2ODE4NA==","user":{"login":"semyonslepov","id":27204211,"node_id":"MDQ6VXNlcjI3MjA0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/27204211?v=4","gravatar_id":"","url":"https://api.github.com/users/semyonslepov","html_url":"https://github.com/semyonslepov","followers_url":"https://api.github.com/users/semyonslepov/followers","following_url":"https://api.github.com/users/semyonslepov/following{/other_user}","gists_url":"https://api.github.com/users/semyonslepov/gists{/gist_id}","starred_url":"https://api.github.com/users/semyonslepov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/semyonslepov/subscriptions","organizations_url":"https://api.github.com/users/semyonslepov/orgs","repos_url":"https://api.github.com/users/semyonslepov/repos","events_url":"https://api.github.com/users/semyonslepov/events{/privacy}","received_events_url":"https://api.github.com/users/semyonslepov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T14:34:52Z","updated_at":"2017-04-10T14:34:52Z","author_association":"NONE","body":"Yes, we're already using it, it's a great thing and helps a lot! But I suppose if we increase our workload significantly (and yes, we will do it), we will again face the same problem (and we won't be able to decrease QUERY_LOOPBACK because it's not affordable for our users). ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292968184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292968275","html_url":"https://github.com/openzipkin/zipkin/pull/1555#issuecomment-292968275","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1555","id":292968275,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk2ODI3NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T14:35:07Z","updated_at":"2017-04-10T14:35:07Z","author_association":"MEMBER","body":"would be interesting to see what the trace had when it had no timestamp. possibly could be a one-way span which hasn't seen its caller yet (in-flight). if you have a trace that results in a blank page, possibly anonymizing that trace could lead to test data to put in the unit test for this.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292968275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292971149","html_url":"https://github.com/openzipkin/zipkin/pull/1554#issuecomment-292971149","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1554","id":292971149,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk3MTE0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T14:44:23Z","updated_at":"2017-04-10T14:44:23Z","author_association":"MEMBER","body":">\n> Yes, we're already using it, it's a great thing and helps a lot! But I\n> suppose if we increase our workload significantly (and yes, we will do it),\n> we will again face the same problem (and we won't be able to decrease\n> QUERY_LOOPBACK because it's not affordable for our users).\n>\ncool. just covering the bases..\n\nI think we'll end up with a decision about where to introduce a cache if we\ndo (in UI code vs in the ES impl).\n\nAlso, if that cache needs to be managed like it is here (the response is so\nslow that you can't rely on users to ever succeed). I kindof prefer not\nhaving machinery in-process, as it would be handy regardless of the cache\nimpl for it to be user scheduled. maybe there's something we can do in the\nUI to not block, but not make repeated calls, when a user first calls for\nservice and span names?\n\nthen there's also the chance we toy with data format.. I forget which issue\nis tracking that one, but flattening service+span names inside ES might end\nup being a way out.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292971149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292989310","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-292989310","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":292989310,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk4OTMxMA==","user":{"login":"semyonslepov","id":27204211,"node_id":"MDQ6VXNlcjI3MjA0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/27204211?v=4","gravatar_id":"","url":"https://api.github.com/users/semyonslepov","html_url":"https://github.com/semyonslepov","followers_url":"https://api.github.com/users/semyonslepov/followers","following_url":"https://api.github.com/users/semyonslepov/following{/other_user}","gists_url":"https://api.github.com/users/semyonslepov/gists{/gist_id}","starred_url":"https://api.github.com/users/semyonslepov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/semyonslepov/subscriptions","organizations_url":"https://api.github.com/users/semyonslepov/orgs","repos_url":"https://api.github.com/users/semyonslepov/repos","events_url":"https://api.github.com/users/semyonslepov/events{/privacy}","received_events_url":"https://api.github.com/users/semyonslepov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T15:42:25Z","updated_at":"2017-04-10T15:42:25Z","author_association":"NONE","body":"There are some statistics about our \"bad\" experience:\r\n\r\n- ~6 Gb of traces in each of daily indices (keeping 5 last indices)\r\n- ~1 Kb per span\r\n- 3-4 tags per span \r\n\r\n( - running on m3.medium.elasticsearch in AWS, if it matters)\r\n\r\nThe main workload is writing and some users accidentally come to a web-interface for looking their traces.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/292989310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293117812","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293117812","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293117812,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzExNzgxMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T00:43:56Z","updated_at":"2017-04-11T00:43:56Z","author_association":"MEMBER","body":"Thanks very interesting. You have very few but large tags. Is it safe to do\nmath to extrapolate span count from this?\n\nOn 10 Apr 2017 11:42 pm, \"Semyon Slepov\" <notifications@github.com> wrote:\n\n> There are some statistics about our \"bad\" experience:\n>\n>    - ~6 Gb of traces in each of daily indices (keeping 5 last indices)\n>    - ~1 Kb per span\n>    - 3-4 tags per span\n>\n> ( - running on m3.medium.elasticsearch in AWS, if it matters)\n>\n> The main workload is writing and some users accidentally come to a\n> web-interface for looking their traces.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/1526#issuecomment-292989310>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD615yRdvh0JxcWakH5BoLoEb4AkJwrks5ruk3lgaJpZM4MKsNW>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293117812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293142923","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293142923","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293142923,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE0MjkyMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T03:56:16Z","updated_at":"2017-04-11T03:56:16Z","author_association":"MEMBER","body":"I have been thinking about this and believe adding a new index for service and span name is the best option. This would be just like cassandra where we keep a separate document for service/span lookup:\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS zipkin3.span_name_by_service (\r\n    service_name text,\r\n    span_name    text,\r\n    PRIMARY KEY (service_name, span_name)\r\n)\r\n```\r\n\r\nBackfilling this index would be relatively simple and could be done a myriad of ways. Unlike adding new data to the span index, this approach doesn't risk people accidentally clobbering their spans to support it. It also doesn't depend on any specific span representation (current or future).\r\n\r\nIn implementation, easiest would be a daily index like we use for dependency links. We could set the document ID to service and span name so that the data doesn't grow unbounded.  If daily is too course granularity, we could make the ID naming convention include the hour of the day or minute of the hour and still significantly bound the data size.\r\n\r\nWe could make the read side look at both, and only execute the slow nested query when the ideal index contains no data. This means users don't have to do anything to start using it.\r\n\r\nOperationally, I like this approach as being similar to cassandra means less cognitive overhead for cross-storage maintainers.\r\n\r\n@openzipkin/elasticsearch @semyonslepov wdyt?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293142923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293143035","html_url":"https://github.com/openzipkin/zipkin/pull/1554#issuecomment-293143035","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1554","id":293143035,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE0MzAzNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T03:57:18Z","updated_at":"2017-04-11T03:57:18Z","author_association":"MEMBER","body":"moved my last comment to #1526 which was the issue I thought I was on!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293143035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293143698","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293143698","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293143698,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE0MzY5OA==","user":{"login":"mansu","id":93836,"node_id":"MDQ6VXNlcjkzODM2","avatar_url":"https://avatars.githubusercontent.com/u/93836?v=4","gravatar_id":"","url":"https://api.github.com/users/mansu","html_url":"https://github.com/mansu","followers_url":"https://api.github.com/users/mansu/followers","following_url":"https://api.github.com/users/mansu/following{/other_user}","gists_url":"https://api.github.com/users/mansu/gists{/gist_id}","starred_url":"https://api.github.com/users/mansu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mansu/subscriptions","organizations_url":"https://api.github.com/users/mansu/orgs","repos_url":"https://api.github.com/users/mansu/repos","events_url":"https://api.github.com/users/mansu/events{/privacy}","received_events_url":"https://api.github.com/users/mansu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T04:03:12Z","updated_at":"2017-04-11T04:03:12Z","author_association":"NONE","body":"This sounds great! A couple of questions:\r\n\r\n* When is this new index populated? Is it when a span is written to storage?\r\n* Having the ability to set the granularity of the index name would be awesome. So, it would be nice to set the granularity to weekly or monthly also. That way, we may not need to clean up this index if we so desire.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293143698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293146754","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293146754","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293146754,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE0Njc1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T04:30:02Z","updated_at":"2017-04-11T04:30:02Z","author_association":"MEMBER","body":">\n>\n>    - When is this new index populated? Is it when a span is written to\n>    storage?\n>\n> yes when written, although we can also provide a script to apply to old\ndata\n\n>\n>    - Having the ability to set the granularity of the index name would be\n>    awesome. So, it would be nice to set the granularity to weekly or monthly\n>    also. That way, we may not need to clean up this index if we so desire.\n>\n> It is important to note that all of this assumes the index is the same as\nthe others.. this is just another document type in the existing index\n(another beyond span and dependencyLink). The current strategy for cleaning\nup any daily index would be curator or similar, and through that you can\nchoose to retain as much as you like (caveat being performance will\neventually degrade)\n\nSo the naming pattern I'm referring to is on the *document id* .. and doing\nsomething different would only be needed if we want less than a day\ngranularity on queries.\n\nex. The proposal is that inside the zipkin-2017-04-18/serviceSpan\nindex/type, there would be documents with ids like.. accounting|get-users\naccounting|update-users (this is the exact approach used for dependencyLink)\n\nIf this is good enough, we should leave it at that. If for some reason less\nthan daily is needed, we could add a timestamp, though it will make query\nmore complex and also visually looking at the data will be annoying. In\ncase you don't know.. I don't like this option :)\n\nex. for hourly\n00-accounting|get-users,\n01-accounting|get-users,  01-accounting|update-users,\n02-accounting|get-users, ... 23-accounting|get-users\n    * to do this, we'd need to store a timestamp in the json, too, which\nwould make the query a bit more expensive because if we go daily we don't\nneed to do anything except grab everything in the daily bucket.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293146754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293162212","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293162212","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293162212,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE2MjIxMg==","user":{"login":"mansu","id":93836,"node_id":"MDQ6VXNlcjkzODM2","avatar_url":"https://avatars.githubusercontent.com/u/93836?v=4","gravatar_id":"","url":"https://api.github.com/users/mansu","html_url":"https://github.com/mansu","followers_url":"https://api.github.com/users/mansu/followers","following_url":"https://api.github.com/users/mansu/following{/other_user}","gists_url":"https://api.github.com/users/mansu/gists{/gist_id}","starred_url":"https://api.github.com/users/mansu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mansu/subscriptions","organizations_url":"https://api.github.com/users/mansu/orgs","repos_url":"https://api.github.com/users/mansu/repos","events_url":"https://api.github.com/users/mansu/events{/privacy}","received_events_url":"https://api.github.com/users/mansu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T06:19:52Z","updated_at":"2017-04-11T06:19:52Z","author_association":"NONE","body":"Thanks for the explanation. +1 in this case. \r\n\r\nI was asking a longer term index since it would mean cleaning up one more index when we purge the data. But, if this is added an additional index type on the daily zipkin index, daily granularity is an awesome solution.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293162212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293163757","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293163757","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293163757,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE2Mzc1Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T06:28:33Z","updated_at":"2017-04-11T06:28:33Z","author_association":"MEMBER","body":"np and thanks for your feedback! will wait for other feedback before\nheading towards impl.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293163757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293174079","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293174079","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293174079,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE3NDA3OQ==","user":{"login":"semyonslepov","id":27204211,"node_id":"MDQ6VXNlcjI3MjA0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/27204211?v=4","gravatar_id":"","url":"https://api.github.com/users/semyonslepov","html_url":"https://github.com/semyonslepov","followers_url":"https://api.github.com/users/semyonslepov/followers","following_url":"https://api.github.com/users/semyonslepov/following{/other_user}","gists_url":"https://api.github.com/users/semyonslepov/gists{/gist_id}","starred_url":"https://api.github.com/users/semyonslepov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/semyonslepov/subscriptions","organizations_url":"https://api.github.com/users/semyonslepov/orgs","repos_url":"https://api.github.com/users/semyonslepov/repos","events_url":"https://api.github.com/users/semyonslepov/events{/privacy}","received_events_url":"https://api.github.com/users/semyonslepov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T07:25:18Z","updated_at":"2017-04-11T07:25:18Z","author_association":"NONE","body":"> Is it safe to do\r\nmath to extrapolate span count from this?\r\n\r\nYes, it's fair enough. Actual counts may differ, but it's correct on average.\r\n\r\nAbout indexes: sounds good and transparent for users. Am I right that we will use the same index for spans' names lookup and it's going to be faster too?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293174079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293175052","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293175052","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293175052,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE3NTA1Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T07:30:03Z","updated_at":"2017-04-11T07:30:03Z","author_association":"MEMBER","body":">\n> About indexes: sounds good and transparent for users. Am I right that we\n> will use the same index for spans' names lookup and it's going to be faster\n> too?\n>\nyes this index will support both. basically the query will be a lot\nsimpler, so it should be much faster. What won't be faster are trace\nqueries, as they still use nested stuff.\n\nI won't be able to benchmark as I don't know how besides laptop test which\nisn't likely very realistic.. hopefully you can help let us know how much\nbetter it goes. is that ok?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293175052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293179352","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293179352","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293179352,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE3OTM1Mg==","user":{"login":"semyonslepov","id":27204211,"node_id":"MDQ6VXNlcjI3MjA0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/27204211?v=4","gravatar_id":"","url":"https://api.github.com/users/semyonslepov","html_url":"https://github.com/semyonslepov","followers_url":"https://api.github.com/users/semyonslepov/followers","following_url":"https://api.github.com/users/semyonslepov/following{/other_user}","gists_url":"https://api.github.com/users/semyonslepov/gists{/gist_id}","starred_url":"https://api.github.com/users/semyonslepov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/semyonslepov/subscriptions","organizations_url":"https://api.github.com/users/semyonslepov/orgs","repos_url":"https://api.github.com/users/semyonslepov/repos","events_url":"https://api.github.com/users/semyonslepov/events{/privacy}","received_events_url":"https://api.github.com/users/semyonslepov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T07:50:26Z","updated_at":"2017-04-11T07:50:26Z","author_association":"NONE","body":"So, we still don't have huge enough data, but of course, I will run some measurements on current and new versions and post the results.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293179352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293185990","html_url":"https://github.com/openzipkin/zipkin/pull/1555#issuecomment-293185990","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1555","id":293185990,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE4NTk5MA==","user":{"login":"semyonslepov","id":27204211,"node_id":"MDQ6VXNlcjI3MjA0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/27204211?v=4","gravatar_id":"","url":"https://api.github.com/users/semyonslepov","html_url":"https://github.com/semyonslepov","followers_url":"https://api.github.com/users/semyonslepov/followers","following_url":"https://api.github.com/users/semyonslepov/following{/other_user}","gists_url":"https://api.github.com/users/semyonslepov/gists{/gist_id}","starred_url":"https://api.github.com/users/semyonslepov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/semyonslepov/subscriptions","organizations_url":"https://api.github.com/users/semyonslepov/orgs","repos_url":"https://api.github.com/users/semyonslepov/repos","events_url":"https://api.github.com/users/semyonslepov/events{/privacy}","received_events_url":"https://api.github.com/users/semyonslepov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T08:20:49Z","updated_at":"2017-04-11T08:20:49Z","author_association":"NONE","body":"There is an example of such trace (notice again that it is self-trace of Zipkin, haven't found such traces in other places yet):\r\n\r\n    {\r\n      \"traceId\": \"03ac7fee421c76a0\",\r\n      \"id\": \"6c353b6ed9baabf1\",\r\n      \"name\": \"get-service-names\",\r\n      \"parentId\": \"2cb3257011291dfe\",\r\n      \"annotations\": [\r\n        {\r\n          \"timestamp\": 1491454307215328,\r\n          \"value\": \"brave.flush\",\r\n          \"endpoint\": {\r\n            \"serviceName\": \"zipkin-server\",\r\n            \"ipv4\": \"X.X.X.X\",\r\n            \"port\": 9411\r\n          }\r\n        }\r\n      ],\r\n      \"binaryAnnotations\": [\r\n        {\r\n          \"key\": \"lc\",\r\n          \"value\": \"AutoValue_ElasticsearchHttpStorage\",\r\n          \"endpoint\": {\r\n            \"serviceName\": \"zipkin-server\",\r\n            \"ipv4\": \"X.X.X.X\",\r\n            \"port\": 9411\r\n          }\r\n        }\r\n      ]\r\n    },\r\n\r\n    {\r\n      \"traceId\": \"03ac7fee421c76a0\",\r\n      \"id\": \"21e299b050cd0a85\",\r\n      \"name\": \"get-service-names\",\r\n      \"parentId\": \"5ecae66e040c3a35\",\r\n      \"timestamp\": 1491436907215516,\r\n      \"duration\": 13820,\r\n      \"binaryAnnotations\": [\r\n        {\r\n          \"key\": \"lc\",\r\n          \"value\": \"AutoValue_ElasticsearchHttpStorage\",\r\n          \"endpoint\": {\r\n            \"serviceName\": \"zipkin-server\",\r\n            \"ipv4\": \"X.X.X.X\",\r\n            \"port\": 9411\r\n          }\r\n        }\r\n      ]\r\n    },\r\n\r\n    {\r\n      \"traceId\": \"03ac7fee421c76a0\",\r\n      \"id\": \"01944d480bd78a91\",\r\n      \"name\": \"get-service-names\",\r\n      \"parentId\": \"21e299b050cd0a85\",\r\n      \"timestamp\": 1491437207215343,\r\n      \"duration\": 17292,\r\n      \"binaryAnnotations\": [\r\n        {\r\n          \"key\": \"lc\",\r\n          \"value\": \"AutoValue_ElasticsearchHttpStorage\",\r\n          \"endpoint\": {\r\n            \"serviceName\": \"zipkin-server\",\r\n            \"ipv4\": \"X.X.X.X\",\r\n            \"port\": 9411\r\n          }\r\n        }\r\n      ]\r\n    },\r\n\r\n// other spans with timestamps \\\\\r\n\r\nWhat really surprises me is the fact that we have a timestamp in annotation of the first span, but not in the span.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293185990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293194366","html_url":"https://github.com/openzipkin/zipkin/pull/1555#issuecomment-293194366","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1555","id":293194366,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE5NDM2Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T08:54:51Z","updated_at":"2017-04-11T08:54:51Z","author_association":"MEMBER","body":"heh looks like self-tracing is broke :) there's a brave.flush annotation!\n\nOn Tue, Apr 11, 2017 at 4:20 PM, Semyon Slepov <notifications@github.com>\nwrote:\n\n> There is an example of such trace (notice again that it is self-trace of\n> Zipkin, haven't found such traces in other places yet):\n>\n> {\n>   \"traceId\": \"03ac7fee421c76a0\",\n>   \"id\": \"6c353b6ed9baabf1\",\n>   \"name\": \"get-service-names\",\n>   \"parentId\": \"2cb3257011291dfe\",\n>   \"annotations\": [\n>     {\n>       \"timestamp\": 1491454307215328,\n>       \"value\": \"brave.flush\",\n>       \"endpoint\": {\n>         \"serviceName\": \"zipkin-server\",\n>         \"ipv4\": \"X.X.X.X\",\n>         \"port\": 9411\n>       }\n>     }\n>   ],\n>   \"binaryAnnotations\": [\n>     {\n>       \"key\": \"lc\",\n>       \"value\": \"AutoValue_ElasticsearchHttpStorage\",\n>       \"endpoint\": {\n>         \"serviceName\": \"zipkin-server\",\n>         \"ipv4\": \"X.X.X.X\",\n>         \"port\": 9411\n>       }\n>     }\n>   ]\n> },\n>\n> {\n>   \"traceId\": \"03ac7fee421c76a0\",\n>   \"id\": \"21e299b050cd0a85\",\n>   \"name\": \"get-service-names\",\n>   \"parentId\": \"5ecae66e040c3a35\",\n>   \"timestamp\": 1491436907215516,\n>   \"duration\": 13820,\n>   \"binaryAnnotations\": [\n>     {\n>       \"key\": \"lc\",\n>       \"value\": \"AutoValue_ElasticsearchHttpStorage\",\n>       \"endpoint\": {\n>         \"serviceName\": \"zipkin-server\",\n>         \"ipv4\": \"X.X.X.X\",\n>         \"port\": 9411\n>       }\n>     }\n>   ]\n> },\n>\n> {\n>   \"traceId\": \"03ac7fee421c76a0\",\n>   \"id\": \"01944d480bd78a91\",\n>   \"name\": \"get-service-names\",\n>   \"parentId\": \"21e299b050cd0a85\",\n>   \"timestamp\": 1491437207215343,\n>   \"duration\": 17292,\n>   \"binaryAnnotations\": [\n>     {\n>       \"key\": \"lc\",\n>       \"value\": \"AutoValue_ElasticsearchHttpStorage\",\n>       \"endpoint\": {\n>         \"serviceName\": \"zipkin-server\",\n>         \"ipv4\": \"X.X.X.X\",\n>         \"port\": 9411\n>       }\n>     }\n>   ]\n> },\n>\n> // other spans with timestamps \\\n>\n> What really surprises me is the fact that we have a timestamp in\n> annotation of the first span, but not in the span.\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/1555#issuecomment-293185990>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD61_BKBbjtfCtNX0NPPq2cC4k88HJTks5ruzfjgaJpZM4M4trJ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293194366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293224225","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293224225","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293224225,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzIyNDIyNQ==","user":{"login":"tramchamploo","id":708349,"node_id":"MDQ6VXNlcjcwODM0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/708349?v=4","gravatar_id":"","url":"https://api.github.com/users/tramchamploo","html_url":"https://github.com/tramchamploo","followers_url":"https://api.github.com/users/tramchamploo/followers","following_url":"https://api.github.com/users/tramchamploo/following{/other_user}","gists_url":"https://api.github.com/users/tramchamploo/gists{/gist_id}","starred_url":"https://api.github.com/users/tramchamploo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tramchamploo/subscriptions","organizations_url":"https://api.github.com/users/tramchamploo/orgs","repos_url":"https://api.github.com/users/tramchamploo/repos","events_url":"https://api.github.com/users/tramchamploo/events{/privacy}","received_events_url":"https://api.github.com/users/tramchamploo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T11:05:14Z","updated_at":"2017-04-11T11:09:54Z","author_association":"NONE","body":"+1 for a new index, but is there any payload that is from existence check when persisting service/span names?\r\nAlso would change shape of spans be a long-term consideration that will be helpful for overall performance?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293224225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293259675","html_url":"https://github.com/openzipkin/zipkin/issues/1558#issuecomment-293259675","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1558","id":293259675,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzI1OTY3NQ==","user":{"login":"yzfshuijing","id":20573092,"node_id":"MDQ6VXNlcjIwNTczMDky","avatar_url":"https://avatars.githubusercontent.com/u/20573092?v=4","gravatar_id":"","url":"https://api.github.com/users/yzfshuijing","html_url":"https://github.com/yzfshuijing","followers_url":"https://api.github.com/users/yzfshuijing/followers","following_url":"https://api.github.com/users/yzfshuijing/following{/other_user}","gists_url":"https://api.github.com/users/yzfshuijing/gists{/gist_id}","starred_url":"https://api.github.com/users/yzfshuijing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yzfshuijing/subscriptions","organizations_url":"https://api.github.com/users/yzfshuijing/orgs","repos_url":"https://api.github.com/users/yzfshuijing/repos","events_url":"https://api.github.com/users/yzfshuijing/events{/privacy}","received_events_url":"https://api.github.com/users/yzfshuijing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T13:19:56Z","updated_at":"2017-04-11T13:19:56Z","author_association":"NONE","body":"I can not understand what 60 means?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293259675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293278214","html_url":"https://github.com/openzipkin/zipkin/issues/1558#issuecomment-293278214","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1558","id":293278214,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzI3ODIxNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T14:19:35Z","updated_at":"2017-04-11T14:19:35Z","author_association":"MEMBER","body":"in the javadoc, you'll see that the \"target storage rate in spans/minute\"\r\nthe updateFrequency is documented as \"Frequency in seconds which to update the store and sample rate\"\r\n\r\nso 60 here is seconds in a minute","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293278214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293279218","html_url":"https://github.com/openzipkin/zipkin/issues/1558#issuecomment-293279218","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1558","id":293279218,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzI3OTIxOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T14:22:40Z","updated_at":"2017-04-11T14:22:40Z","author_association":"MEMBER","body":"to be more specific, the calculation you copy/pasted is how to get the storage rate in spans/minute, given spans since updateFrequency (defaults to every 30s).","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293279218/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293280366","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293280366","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293280366,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzI4MDM2Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T14:26:16Z","updated_at":"2017-04-11T14:26:16Z","author_association":"MEMBER","body":">\n> +1 for a new index, but is there any payload that is from existence check\n> when persisting service/span names?\n>\nyes, there would have to be a payload so we can do the span name query. it\nwould be a document including the service name and the span name\n\nex. for id = accounting|update-users\n\nthe document would be:\n{ \"serviceName\": \"accounting\", \"spanName\": \"update-users\" }\n\nThat way, when we do a span name query, we can retrieve the spanName keys\nwith a term query where serviceName is the input.\nThis is needed because you cannot do a query against an id field.\n\nmake sense?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293280366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293470316","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293470316","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293470316,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzQ3MDMxNg==","user":{"login":"tramchamploo","id":708349,"node_id":"MDQ6VXNlcjcwODM0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/708349?v=4","gravatar_id":"","url":"https://api.github.com/users/tramchamploo","html_url":"https://github.com/tramchamploo","followers_url":"https://api.github.com/users/tramchamploo/followers","following_url":"https://api.github.com/users/tramchamploo/following{/other_user}","gists_url":"https://api.github.com/users/tramchamploo/gists{/gist_id}","starred_url":"https://api.github.com/users/tramchamploo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tramchamploo/subscriptions","organizations_url":"https://api.github.com/users/tramchamploo/orgs","repos_url":"https://api.github.com/users/tramchamploo/repos","events_url":"https://api.github.com/users/tramchamploo/events{/privacy}","received_events_url":"https://api.github.com/users/tramchamploo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T04:22:19Z","updated_at":"2017-04-12T04:22:19Z","author_association":"NONE","body":"Great, this improvement on service/span name query will greatly improve user experience.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293470316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293473522","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293473522","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293473522,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzQ3MzUyMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T04:52:00Z","updated_at":"2017-04-12T04:52:00Z","author_association":"MEMBER","body":"ok moving to impl as no one is against. thx for feedback, folks\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293473522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293490700","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293490700","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293490700,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzQ5MDcwMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T06:56:19Z","updated_at":"2017-04-12T06:56:19Z","author_association":"MEMBER","body":"will take a bit to refactor properly, but the more important code change at query time will look something like this...\r\n\r\nservice name query\r\n```diff\r\n-    SearchRequest.Filters filters = new SearchRequest.Filters();\r\n-    filters.addRange(\"timestamp_millis\", beginMillis, endMillis);\r\n-    SearchRequest request = SearchRequest.forIndicesAndType(indices, SPAN)\r\n-        .filters(filters)\r\n-        .addAggregation(Aggregation.nestedTerms(\"annotations.endpoint.serviceName\"))\r\n-        .addAggregation(Aggregation.nestedTerms(\"binaryAnnotations.endpoint.serviceName\"));\r\n+    SearchRequest request = SearchRequest.forIndicesAndType(indices, SERVICE_SPAN)\r\n+        .addAggregation(Aggregation.terms(\"serviceName\", Integer.MAX_VALUE));\r\n```\r\n\r\nspan name query\r\n```diff\r\n-    SearchRequest.Filters filters = new SearchRequest.Filters();\r\n-    filters.addRange(\"timestamp_millis\", beginMillis, endMillis);\r\n-    filters.addNestedTerms(asList(\r\n-        \"annotations.endpoint.serviceName\",\r\n-        \"binaryAnnotations.endpoint.serviceName\"\r\n-    ), serviceName.toLowerCase(Locale.ROOT));\r\n-    SearchRequest request = SearchRequest.forIndicesAndType(indices, SPAN)\r\n-        .filters(filters)\r\n-        .addAggregation(Aggregation.terms(\"name\", Integer.MAX_VALUE));\r\n+    SearchRequest request = SearchRequest.forIndicesAndType(indices, SERVICE_SPAN)\r\n+        .term(\"serviceName\", serviceName.toLowerCase(Locale.ROOT))\r\n+        .addAggregation(Aggregation.terms(\"spanName\", Integer.MAX_VALUE));\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293490700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293805615","html_url":"https://github.com/openzipkin/zipkin/pull/1560#issuecomment-293805615","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1560","id":293805615,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzgwNTYxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T06:49:28Z","updated_at":"2017-04-13T06:49:28Z","author_association":"MEMBER","body":"ok code now sends service/span indexes in the same batch command. This should help with AWS transfer charges, especially since we gzip requests. cc @devinsba @semyonslepov  \r\n\r\nstill need some code cleanup and other notes in the TODO","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293805615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293828738","html_url":"https://github.com/openzipkin/zipkin/issues/1558#issuecomment-293828738","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1558","id":293828738,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzgyODczOA==","user":{"login":"yzfshuijing","id":20573092,"node_id":"MDQ6VXNlcjIwNTczMDky","avatar_url":"https://avatars.githubusercontent.com/u/20573092?v=4","gravatar_id":"","url":"https://api.github.com/users/yzfshuijing","html_url":"https://github.com/yzfshuijing","followers_url":"https://api.github.com/users/yzfshuijing/followers","following_url":"https://api.github.com/users/yzfshuijing/following{/other_user}","gists_url":"https://api.github.com/users/yzfshuijing/gists{/gist_id}","starred_url":"https://api.github.com/users/yzfshuijing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yzfshuijing/subscriptions","organizations_url":"https://api.github.com/users/yzfshuijing/orgs","repos_url":"https://api.github.com/users/yzfshuijing/repos","events_url":"https://api.github.com/users/yzfshuijing/events{/privacy}","received_events_url":"https://api.github.com/users/yzfshuijing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T08:39:29Z","updated_at":"2017-04-13T08:39:29Z","author_association":"NONE","body":"@adriancole thanks so much for you explanation, i'v got it \r\nand i'v the last question \r\nint discountedAverage = discountedAverage(measurements, discountRate)\r\nWhere there is a specific description of the algorithm called 'discountedAverage' \r\nit's difficult to understand it \r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293828738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293834495","html_url":"https://github.com/openzipkin/zipkin/pull/1560#issuecomment-293834495","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1560","id":293834495,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzgzNDQ5NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T09:06:02Z","updated_at":"2017-04-13T09:06:02Z","author_association":"MEMBER","body":"backport logic in place. going to give a stab at a backport script as particularly serviceNames being current helps.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293834495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293835031","html_url":"https://github.com/openzipkin/zipkin/issues/1526#issuecomment-293835031","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1526","id":293835031,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzgzNTAzMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T09:08:35Z","updated_at":"2017-04-13T09:08:35Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/1560 is ready, just looking to make a backport script or at least pseudocode for adding \"servicespan\" into old indexes","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/293835031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]