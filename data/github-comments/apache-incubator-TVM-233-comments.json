[{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754380843","html_url":"https://github.com/apache/tvm/issues/7203#issuecomment-754380843","issue_url":"https://api.github.com/repos/apache/tvm/issues/7203","id":754380843,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDM4MDg0Mw==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T04:12:15Z","updated_at":"2021-01-05T04:12:15Z","author_association":"CONTRIBUTOR","body":"This bug is also fixed in #7208 and was caused by the same issue as #7202.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754380843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754387174","html_url":"https://github.com/apache/tvm/issues/7186#issuecomment-754387174","issue_url":"https://api.github.com/repos/apache/tvm/issues/7186","id":754387174,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDM4NzE3NA==","user":{"login":"insop","id":1240382,"node_id":"MDQ6VXNlcjEyNDAzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1240382?v=4","gravatar_id":"","url":"https://api.github.com/users/insop","html_url":"https://github.com/insop","followers_url":"https://api.github.com/users/insop/followers","following_url":"https://api.github.com/users/insop/following{/other_user}","gists_url":"https://api.github.com/users/insop/gists{/gist_id}","starred_url":"https://api.github.com/users/insop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/insop/subscriptions","organizations_url":"https://api.github.com/users/insop/orgs","repos_url":"https://api.github.com/users/insop/repos","events_url":"https://api.github.com/users/insop/events{/privacy}","received_events_url":"https://api.github.com/users/insop/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2021-01-05T04:31:31Z","updated_at":"2021-01-05T04:31:31Z","author_association":"CONTRIBUTOR","body":"For `_npi_stack ` : https://github.com/apache/tvm/pull/7209 is submitted.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754387174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754398110","html_url":"https://github.com/apache/tvm/pull/7208#issuecomment-754398110","issue_url":"https://api.github.com/repos/apache/tvm/issues/7208","id":754398110,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDM5ODExMA==","user":{"login":"luyaor","id":7541296,"node_id":"MDQ6VXNlcjc1NDEyOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7541296?v=4","gravatar_id":"","url":"https://api.github.com/users/luyaor","html_url":"https://github.com/luyaor","followers_url":"https://api.github.com/users/luyaor/followers","following_url":"https://api.github.com/users/luyaor/following{/other_user}","gists_url":"https://api.github.com/users/luyaor/gists{/gist_id}","starred_url":"https://api.github.com/users/luyaor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luyaor/subscriptions","organizations_url":"https://api.github.com/users/luyaor/orgs","repos_url":"https://api.github.com/users/luyaor/repos","events_url":"https://api.github.com/users/luyaor/events{/privacy}","received_events_url":"https://api.github.com/users/luyaor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T05:02:49Z","updated_at":"2021-01-05T05:02:59Z","author_association":"CONTRIBUTOR","body":"Hi @jwfromm @mbrookhart , thanks for the response and effort on this case. The PR looks good to me.\r\n\r\nI am currently working on a research project related to TVM, would like to make more contributions to TVM and also looking forward to the feedback from community.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754398110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754406762","html_url":"https://github.com/apache/tvm/pull/7208#issuecomment-754406762","issue_url":"https://api.github.com/repos/apache/tvm/issues/7208","id":754406762,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDQwNjc2Mg==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T05:30:12Z","updated_at":"2021-01-05T05:30:12Z","author_association":"CONTRIBUTOR","body":"These two errors that you generated were excellent real bugs with the importer and were very easy to understand and replicate with your post. If they're being auto-generated they look excellent!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754406762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754410295","html_url":"https://github.com/apache/tvm/pull/7208#issuecomment-754410295","issue_url":"https://api.github.com/repos/apache/tvm/issues/7208","id":754410295,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDQxMDI5NQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T05:40:33Z","updated_at":"2021-01-05T05:41:00Z","author_association":"MEMBER","body":"Hi @luyaor you are welcome to poke at pytorch frontend too, I hope it is more robust than onnx frontend :)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754410295/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754430231","html_url":"https://github.com/apache/tvm/pull/7185#issuecomment-754430231","issue_url":"https://api.github.com/repos/apache/tvm/issues/7185","id":754430231,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDQzMDIzMQ==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T06:29:29Z","updated_at":"2021-01-05T06:29:29Z","author_association":"MEMBER","body":"Thanks for the great work @leowang1225 and thanks for the reviewing @jcf94 , it is merged now.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754430231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754497941","html_url":"https://github.com/apache/tvm/pull/7212#issuecomment-754497941","issue_url":"https://api.github.com/repos/apache/tvm/issues/7212","id":754497941,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDQ5Nzk0MQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T08:50:53Z","updated_at":"2021-01-05T08:50:53Z","author_association":"MEMBER","body":"Do not open a PR like this.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754497941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754498507","html_url":"https://github.com/apache/tvm/pull/7212#issuecomment-754498507","issue_url":"https://api.github.com/repos/apache/tvm/issues/7212","id":754498507,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDQ5ODUwNw==","user":{"login":"fantasyRqg","id":3463310,"node_id":"MDQ6VXNlcjM0NjMzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/3463310?v=4","gravatar_id":"","url":"https://api.github.com/users/fantasyRqg","html_url":"https://github.com/fantasyRqg","followers_url":"https://api.github.com/users/fantasyRqg/followers","following_url":"https://api.github.com/users/fantasyRqg/following{/other_user}","gists_url":"https://api.github.com/users/fantasyRqg/gists{/gist_id}","starred_url":"https://api.github.com/users/fantasyRqg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fantasyRqg/subscriptions","organizations_url":"https://api.github.com/users/fantasyRqg/orgs","repos_url":"https://api.github.com/users/fantasyRqg/repos","events_url":"https://api.github.com/users/fantasyRqg/events{/privacy}","received_events_url":"https://api.github.com/users/fantasyRqg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T08:52:03Z","updated_at":"2021-01-05T08:52:03Z","author_association":"CONTRIBUTOR","body":"test run OK on my ubuntu , don't know why ci test failed","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754498507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754500048","html_url":"https://github.com/apache/tvm/pull/7212#issuecomment-754500048","issue_url":"https://api.github.com/repos/apache/tvm/issues/7212","id":754500048,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDUwMDA0OA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T08:55:00Z","updated_at":"2021-01-05T08:55:00Z","author_association":"MEMBER","body":"If you want to run CI again, you can do a dummy commit and push. Make sure the failure is not due to your change. If you believe it is indeed a flaky test, you can open an issue. \r\n\r\nBut since the test fails with segfault, which should not happen, it is likely there is some problem with your change.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754500048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754726173","html_url":"https://github.com/apache/tvm/issues/7201#issuecomment-754726173","issue_url":"https://api.github.com/repos/apache/tvm/issues/7201","id":754726173,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDcyNjE3Mw==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T15:59:16Z","updated_at":"2021-01-05T15:59:16Z","author_association":"CONTRIBUTOR","body":"I will debug this morning.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754726173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754726305","html_url":"https://github.com/apache/tvm/issues/7200#issuecomment-754726305","issue_url":"https://api.github.com/repos/apache/tvm/issues/7200","id":754726305,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDcyNjMwNQ==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T15:59:28Z","updated_at":"2021-01-05T15:59:28Z","author_association":"CONTRIBUTOR","body":"This is simply because the DynamicToStatic pass is defined at opt level 3, not 2. We \r\ncan lower it to make this pass, if we think that's a robust thing to do more generally. \r\n\r\ncc @tqchen @jroesch @masahi @jwfromm ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754726305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754737437","html_url":"https://github.com/apache/tvm/issues/7200#issuecomment-754737437","issue_url":"https://api.github.com/repos/apache/tvm/issues/7200","id":754737437,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDczNzQzNw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T16:16:35Z","updated_at":"2021-01-05T16:16:35Z","author_association":"MEMBER","body":"I agree that given DynamicToStatic brings no harm, it should be applied more generally.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754737437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754739627","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-754739627","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":754739627,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDczOTYyNw==","user":{"login":"trevor-m","id":12981474,"node_id":"MDQ6VXNlcjEyOTgxNDc0","avatar_url":"https://avatars.githubusercontent.com/u/12981474?v=4","gravatar_id":"","url":"https://api.github.com/users/trevor-m","html_url":"https://github.com/trevor-m","followers_url":"https://api.github.com/users/trevor-m/followers","following_url":"https://api.github.com/users/trevor-m/following{/other_user}","gists_url":"https://api.github.com/users/trevor-m/gists{/gist_id}","starred_url":"https://api.github.com/users/trevor-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevor-m/subscriptions","organizations_url":"https://api.github.com/users/trevor-m/orgs","repos_url":"https://api.github.com/users/trevor-m/repos","events_url":"https://api.github.com/users/trevor-m/events{/privacy}","received_events_url":"https://api.github.com/users/trevor-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T16:19:56Z","updated_at":"2021-01-05T16:19:56Z","author_association":"CONTRIBUTOR","body":"Hi @mbrookhart thanks for this performance improvment! \r\n\r\nI found that this PR is causing `CUDA: an illegal memory access was encountered` during inference for a TensorFlow SSD object detection model. I can't reproduce it in a standalone unit test, so I think there may be some race condition or code relying on unitialized memory. I'll let you know if I find out anything more.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754739627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754745252","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-754745252","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":754745252,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDc0NTI1Mg==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T16:29:14Z","updated_at":"2021-01-05T16:29:14Z","author_association":"CONTRIBUTOR","body":"Thanks, Trevor. If you can share the model script you're using, I can also work to debug today.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754745252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754770183","html_url":"https://github.com/apache/tvm/pull/7165#issuecomment-754770183","issue_url":"https://api.github.com/repos/apache/tvm/issues/7165","id":754770183,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDc3MDE4Mw==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T17:10:33Z","updated_at":"2021-01-05T17:10:33Z","author_association":"CONTRIBUTOR","body":"@tqchen ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754770183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754802181","html_url":"https://github.com/apache/tvm/pull/7210#issuecomment-754802181","issue_url":"https://api.github.com/repos/apache/tvm/issues/7210","id":754802181,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDgwMjE4MQ==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T18:04:24Z","updated_at":"2021-01-05T18:04:24Z","author_association":"CONTRIBUTOR","body":"I like this, I think it makes a lot of sense, but I'll defer mainly to @zhiics and @icemelon9 since they mainly implemented the infrastructure for heterogeneous shape functions.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754802181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754846907","html_url":"https://github.com/apache/tvm/pull/7083#issuecomment-754846907","issue_url":"https://api.github.com/repos/apache/tvm/issues/7083","id":754846907,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDg0NjkwNw==","user":{"login":"altanh","id":3124994,"node_id":"MDQ6VXNlcjMxMjQ5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3124994?v=4","gravatar_id":"","url":"https://api.github.com/users/altanh","html_url":"https://github.com/altanh","followers_url":"https://api.github.com/users/altanh/followers","following_url":"https://api.github.com/users/altanh/following{/other_user}","gists_url":"https://api.github.com/users/altanh/gists{/gist_id}","starred_url":"https://api.github.com/users/altanh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/altanh/subscriptions","organizations_url":"https://api.github.com/users/altanh/orgs","repos_url":"https://api.github.com/users/altanh/repos","events_url":"https://api.github.com/users/altanh/events{/privacy}","received_events_url":"https://api.github.com/users/altanh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T19:24:42Z","updated_at":"2021-01-05T19:24:42Z","author_association":"CONTRIBUTOR","body":"bump @antinucleon @junrushao1994 @eric-haibin-lin @MarisaKirisame \r\n\r\n(please cc anyone else interested in PRNG for review, thanks!)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754846907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754863440","html_url":"https://github.com/apache/tvm/pull/7215#issuecomment-754863440","issue_url":"https://api.github.com/repos/apache/tvm/issues/7215","id":754863440,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDg2MzQ0MA==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T19:56:33Z","updated_at":"2021-01-05T19:56:33Z","author_association":"CONTRIBUTOR","body":"@mbrookhart @tmoreau89 can you take a look at this PR?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754863440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754891319","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-754891319","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":754891319,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDg5MTMxOQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T20:50:37Z","updated_at":"2021-01-05T20:51:09Z","author_association":"MEMBER","body":"I can reproduce the issue by running ssd test in tensorflow/test_forward.py with cuda target (I looked at this test yesterday for my PR, so I have a fresh memory):\r\n\r\n```\r\nterminate called after throwing an instance of 'dmlc::Error'\r\n  what():  [05:42:13] /home/masa/projects/dev/tvm/src/runtime/cuda/cuda_device_api.cc:126: \r\n---------------------------------------------------------------\r\nAn internal invariant was violated during the execution of TVM.\r\nPlease read TVM's error reporting guidelines.\r\nMore details can be found here: https://discuss.tvm.ai/t/error-reporting/7793.\r\n---------------------------------------------------------------\r\n  Check failed: e == cudaSuccess || e == cudaErrorCudartUnloading == false: CUDA: an illegal memory access was encountered\r\nStack trace:\r\n  [bt] (0) /home/masa/projects/dev/tvm/build/libtvm.so(+0x14aa8e8) [0x7f4fcb8ca8e8]\r\n  [bt] (1) /home/masa/projects/dev/tvm/build/libtvm.so(tvm::runtime::CUDADeviceAPI::FreeDataSpace(DLContext, void*)+0xe4) [0x7f4fcb8cabe4]\r\n  [bt] (2) /home/masa/projects/dev/tvm/build/libtvm.so(tvm::runtime::NDArray::Internal::DefaultDeleter(tvm::runtime::Object*)+0x5b) [0x7f4fcb8593fb]\r\n  [bt] (3) /home/masa/projects/dev/tvm/build/libtvm.so(tvm::runtime::NDArray::CopyTo(DLContext const&) const+0x325) [0x7f4fcb5e4915]\r\n  [bt] (4) /home/masa/projects/dev/tvm/build/libtvm.so(tvm::runtime::vm::CopyTo(tvm::runtime::ObjectRef, DLContext const&)+0x311) [0x7f4fcb884b11]\r\n  [bt] (5) /home/masa/projects/dev/tvm/build/libtvm.so(tvm::runtime::vm::VirtualMachine::RunLoop()+0x2aee) [0x7f4fcb880dde]\r\n  [bt] (6) /home/masa/projects/dev/tvm/build/libtvm.so(tvm::runtime::vm::VirtualMachine::Invoke(tvm::runtime::vm::VMFunction const&, std::vector<tvm::runtime::ObjectRef, std::allocator<tvm::runtime::ObjectRef> > const&)+0x27) [0x7f4fcb881c17]\r\n  [bt] (7) /home/masa/projects/dev/tvm/build/libtvm.so(+0x14621f0) [0x7f4fcb8821f0]\r\n  [bt] (8) /home/masa/projects/dev/tvm/build/libtvm.so(TVMFuncCall+0x63) [0x7f4fcb835613]\r\n```\r\n\r\n@trevor-m Are you sure this is caused by `get_valid_counts` change? I've also changed NMS in https://github.com/apache/tvm/pull/7172,  I hope that change is fine.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754891319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754903121","html_url":"https://github.com/apache/tvm/pull/7120#issuecomment-754903121","issue_url":"https://api.github.com/repos/apache/tvm/issues/7120","id":754903121,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkwMzEyMQ==","user":{"login":"icemelon","id":2696494,"node_id":"MDQ6VXNlcjI2OTY0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2696494?v=4","gravatar_id":"","url":"https://api.github.com/users/icemelon","html_url":"https://github.com/icemelon","followers_url":"https://api.github.com/users/icemelon/followers","following_url":"https://api.github.com/users/icemelon/following{/other_user}","gists_url":"https://api.github.com/users/icemelon/gists{/gist_id}","starred_url":"https://api.github.com/users/icemelon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icemelon/subscriptions","organizations_url":"https://api.github.com/users/icemelon/orgs","repos_url":"https://api.github.com/users/icemelon/repos","events_url":"https://api.github.com/users/icemelon/events{/privacy}","received_events_url":"https://api.github.com/users/icemelon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T21:14:28Z","updated_at":"2021-01-05T21:14:28Z","author_association":"MEMBER","body":"Thanks @mbrookhart ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754903121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754912340","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-754912340","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":754912340,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkxMjM0MA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T21:32:57Z","updated_at":"2021-01-05T21:33:39Z","author_association":"MEMBER","body":"hmm strange, after running the ssd test on GPU a few times, I cannot reproduce the error anymore. Could this error be random? \r\n\r\nOne annoying thing about this model is that compilation time is extremely slow. It also requires increasing the stack size limit, otherwise it segfaults. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754912340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754921537","html_url":"https://github.com/apache/tvm/pull/7216#issuecomment-754921537","issue_url":"https://api.github.com/repos/apache/tvm/issues/7216","id":754921537,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkyMTUzNw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T21:46:08Z","updated_at":"2021-01-05T21:46:36Z","author_association":"MEMBER","body":"cc @spectrometerHBH @junrushao1994 @Hzfengsy @tkonolige @ZihengJiang @hypercubestart ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754921537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754938818","html_url":"https://github.com/apache/tvm/pull/7164#issuecomment-754938818","issue_url":"https://api.github.com/repos/apache/tvm/issues/7164","id":754938818,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkzODgxOA==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T22:23:46Z","updated_at":"2021-01-05T22:23:46Z","author_association":"CONTRIBUTOR","body":"@tqchen ready for another look","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754938818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754952503","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-754952503","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":754952503,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk1MjUwMw==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T22:58:20Z","updated_at":"2021-01-05T22:58:20Z","author_association":"CONTRIBUTOR","body":"Yeah, ouch:\r\n`447.33s (0:07:27)`\r\n\r\nI'm not needing to increase the stack limit, and I haven't gotten this test to fail yet.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754952503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754954515","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-754954515","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":754954515,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk1NDUxNQ==","user":{"login":"trevor-m","id":12981474,"node_id":"MDQ6VXNlcjEyOTgxNDc0","avatar_url":"https://avatars.githubusercontent.com/u/12981474?v=4","gravatar_id":"","url":"https://api.github.com/users/trevor-m","html_url":"https://github.com/trevor-m","followers_url":"https://api.github.com/users/trevor-m/followers","following_url":"https://api.github.com/users/trevor-m/following{/other_user}","gists_url":"https://api.github.com/users/trevor-m/gists{/gist_id}","starred_url":"https://api.github.com/users/trevor-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevor-m/subscriptions","organizations_url":"https://api.github.com/users/trevor-m/orgs","repos_url":"https://api.github.com/users/trevor-m/repos","events_url":"https://api.github.com/users/trevor-m/events{/privacy}","received_events_url":"https://api.github.com/users/trevor-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T23:03:41Z","updated_at":"2021-01-05T23:03:41Z","author_association":"CONTRIBUTOR","body":"> hmm strange, after running the ssd test on GPU a few times, I cannot reproduce the error anymore. Could this error be random?\r\n> \r\n> One annoying thing about this model is that compilation time is extremely slow. It also requires increasing the stack size limit, otherwise it segfaults.\r\n\r\nYeah the error is a bit random. However, I was able to reproduce it 100% of the time with TRT offload enabled. I can share a script shortly.\r\n\r\n> @trevor-m Are you sure this is caused by get_valid_counts change? I've also changed NMS in #7172, I hope that change is fine.\r\n\r\nYeah, I did a git bisect to determine this PR was the source of the issue, and #7172 was fine.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754954515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754954590","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-754954590","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":754954590,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk1NDU5MA==","user":{"login":"anijain2305","id":13822661,"node_id":"MDQ6VXNlcjEzODIyNjYx","avatar_url":"https://avatars.githubusercontent.com/u/13822661?v=4","gravatar_id":"","url":"https://api.github.com/users/anijain2305","html_url":"https://github.com/anijain2305","followers_url":"https://api.github.com/users/anijain2305/followers","following_url":"https://api.github.com/users/anijain2305/following{/other_user}","gists_url":"https://api.github.com/users/anijain2305/gists{/gist_id}","starred_url":"https://api.github.com/users/anijain2305/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anijain2305/subscriptions","organizations_url":"https://api.github.com/users/anijain2305/orgs","repos_url":"https://api.github.com/users/anijain2305/repos","events_url":"https://api.github.com/users/anijain2305/events{/privacy}","received_events_url":"https://api.github.com/users/anijain2305/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T23:03:54Z","updated_at":"2021-01-05T23:03:54Z","author_association":"CONTRIBUTOR","body":"> hmm strange, after running the ssd test on GPU a few times, I cannot reproduce the error anymore. Could this error be random?\r\n> \r\n> One annoying thing about this model is that compilation time is extremely slow. It also requires increasing the stack size limit, otherwise it segfaults.\r\n\r\nMaybe it depends on the input data. Trevor and I ran it across a bunch of models, and it fails for few of them (not all). I believe that it can be because of input data (as number of boxes etc change with input image)\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754954590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754964148","html_url":"https://github.com/apache/tvm/pull/7215#issuecomment-754964148","issue_url":"https://api.github.com/repos/apache/tvm/issues/7215","id":754964148,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk2NDE0OA==","user":{"login":"tmoreau89","id":5974488,"node_id":"MDQ6VXNlcjU5NzQ0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5974488?v=4","gravatar_id":"","url":"https://api.github.com/users/tmoreau89","html_url":"https://github.com/tmoreau89","followers_url":"https://api.github.com/users/tmoreau89/followers","following_url":"https://api.github.com/users/tmoreau89/following{/other_user}","gists_url":"https://api.github.com/users/tmoreau89/gists{/gist_id}","starred_url":"https://api.github.com/users/tmoreau89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmoreau89/subscriptions","organizations_url":"https://api.github.com/users/tmoreau89/orgs","repos_url":"https://api.github.com/users/tmoreau89/repos","events_url":"https://api.github.com/users/tmoreau89/events{/privacy}","received_events_url":"https://api.github.com/users/tmoreau89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T23:30:31Z","updated_at":"2021-01-05T23:30:31Z","author_association":"CONTRIBUTOR","body":"Thanks everyone, the PR has been merged.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754964148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754965956","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-754965956","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":754965956,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk2NTk1Ng==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T23:35:47Z","updated_at":"2021-01-05T23:35:47Z","author_association":"CONTRIBUTOR","body":"@trevor-m I'm in mountain time, so I'll need to leave in about half an hour. If you can post the script that consistently fails tonight, I'll jump in first thing tomorrow morning and start hunting for which line causes the issue.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754965956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754966258","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-754966258","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":754966258,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk2NjI1OA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T23:36:44Z","updated_at":"2021-01-05T23:36:44Z","author_association":"MEMBER","body":"@anijain2305 @trevor-m We should definitely use a fixed, real image for CI testing, like pytorch MaskRCNN test does. Please send a PR\r\n\r\nhttps://github.com/apache/tvm/blob/4c13ae9d17d1709ed7a777ce1bb72212e8d2559d/tests/python/frontend/pytorch/test_object_detection.py#L90-L95","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754966258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754969011","html_url":"https://github.com/apache/tvm/pull/7209#issuecomment-754969011","issue_url":"https://api.github.com/repos/apache/tvm/issues/7209","id":754969011,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk2OTAxMQ==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T23:45:17Z","updated_at":"2021-01-05T23:45:17Z","author_association":"MEMBER","body":"Thanks for the contribution! CC @sxjscience for a second look","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754969011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754996397","html_url":"https://github.com/apache/tvm/pull/7164#issuecomment-754996397","issue_url":"https://api.github.com/repos/apache/tvm/issues/7164","id":754996397,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk5NjM5Nw==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T01:00:03Z","updated_at":"2021-01-06T01:00:03Z","author_association":"CONTRIBUTOR","body":"thanks for the review! sorry my editor was a bit messed up so it was hard to see the alignment issues. I believe they're all good now","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/754996397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755028119","html_url":"https://github.com/apache/tvm/pull/7197#issuecomment-755028119","issue_url":"https://api.github.com/repos/apache/tvm/issues/7197","id":755028119,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTAyODExOQ==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T02:04:58Z","updated_at":"2021-01-06T02:04:58Z","author_association":"CONTRIBUTOR","body":"Thanks @jcf94 @merrymercy @areusch @junrushao1994 ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755028119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755062862","html_url":"https://github.com/apache/tvm/pull/6370#issuecomment-755062862","issue_url":"https://api.github.com/repos/apache/tvm/issues/6370","id":755062862,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTA2Mjg2Mg==","user":{"login":"yzhliu","id":631860,"node_id":"MDQ6VXNlcjYzMTg2MA==","avatar_url":"https://avatars.githubusercontent.com/u/631860?v=4","gravatar_id":"","url":"https://api.github.com/users/yzhliu","html_url":"https://github.com/yzhliu","followers_url":"https://api.github.com/users/yzhliu/followers","following_url":"https://api.github.com/users/yzhliu/following{/other_user}","gists_url":"https://api.github.com/users/yzhliu/gists{/gist_id}","starred_url":"https://api.github.com/users/yzhliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yzhliu/subscriptions","organizations_url":"https://api.github.com/users/yzhliu/orgs","repos_url":"https://api.github.com/users/yzhliu/repos","events_url":"https://api.github.com/users/yzhliu/events{/privacy}","received_events_url":"https://api.github.com/users/yzhliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T03:59:32Z","updated_at":"2021-01-06T03:59:32Z","author_association":"MEMBER","body":"will do shortly.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755062862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755328940","html_url":"https://github.com/apache/tvm/pull/7216#issuecomment-755328940","issue_url":"https://api.github.com/repos/apache/tvm/issues/7216","id":755328940,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTMyODk0MA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T14:26:31Z","updated_at":"2021-01-06T14:26:31Z","author_association":"MEMBER","body":"Thanks @junrushao1994 @tkonolige comments are addressed","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755328940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755332065","html_url":"https://github.com/apache/tvm/pull/7218#issuecomment-755332065","issue_url":"https://api.github.com/repos/apache/tvm/issues/7218","id":755332065,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTMzMjA2NQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T14:32:01Z","updated_at":"2021-01-06T14:32:01Z","author_association":"MEMBER","body":"cc @jwfromm ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755332065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755392079","html_url":"https://github.com/apache/tvm/pull/7084#issuecomment-755392079","issue_url":"https://api.github.com/repos/apache/tvm/issues/7084","id":755392079,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTM5MjA3OQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T16:08:34Z","updated_at":"2021-01-06T16:08:34Z","author_association":"MEMBER","body":"@ZihengJiang would be great if we can act on the thread and bring it in :)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755392079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755433952","html_url":"https://github.com/apache/tvm/pull/7218#issuecomment-755433952","issue_url":"https://api.github.com/repos/apache/tvm/issues/7218","id":755433952,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTQzMzk1Mg==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T17:10:45Z","updated_at":"2021-01-06T17:10:45Z","author_association":"CONTRIBUTOR","body":"Whoops, I guess I missed this and it isn't used externally. Definitely good to fix it before it causes issues though, thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755433952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755459243","html_url":"https://github.com/apache/tvm/pull/7152#issuecomment-755459243","issue_url":"https://api.github.com/repos/apache/tvm/issues/7152","id":755459243,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTQ1OTI0Mw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T17:56:48Z","updated_at":"2021-01-06T17:56:48Z","author_association":"MEMBER","body":"Taking a closer look, i think we need to put more thoughts into it to make sure that the addition of name is optional, and we can get close to zero overhead in building these functions.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755459243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755751768","html_url":"https://github.com/apache/tvm/pull/7220#issuecomment-755751768","issue_url":"https://api.github.com/repos/apache/tvm/issues/7220","id":755751768,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTc1MTc2OA==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T22:18:41Z","updated_at":"2021-01-06T22:18:41Z","author_association":"MEMBER","body":"The PR looks reasonable. I was wondering from time to time, when compiler cache could be potentially useful?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755751768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755762632","html_url":"https://github.com/apache/tvm/pull/7220#issuecomment-755762632","issue_url":"https://api.github.com/repos/apache/tvm/issues/7220","id":755762632,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTc2MjYzMg==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T22:44:59Z","updated_at":"2021-01-06T22:44:59Z","author_association":"CONTRIBUTOR","body":"> The PR looks reasonable. I was wondering from time to time, when compiler cache could be potentially useful?\r\n\r\nI think it's useful to reduce the compile time when building a model? Like we only extract 25 tasks from a model with 50 conv2ds, meaning that we only compile 25 of them instead of 50.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755762632/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755815361","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-755815361","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":755815361,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgxNTM2MQ==","user":{"login":"trevor-m","id":12981474,"node_id":"MDQ6VXNlcjEyOTgxNDc0","avatar_url":"https://avatars.githubusercontent.com/u/12981474?v=4","gravatar_id":"","url":"https://api.github.com/users/trevor-m","html_url":"https://github.com/trevor-m","followers_url":"https://api.github.com/users/trevor-m/followers","following_url":"https://api.github.com/users/trevor-m/following{/other_user}","gists_url":"https://api.github.com/users/trevor-m/gists{/gist_id}","starred_url":"https://api.github.com/users/trevor-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevor-m/subscriptions","organizations_url":"https://api.github.com/users/trevor-m/orgs","repos_url":"https://api.github.com/users/trevor-m/repos","events_url":"https://api.github.com/users/trevor-m/events{/privacy}","received_events_url":"https://api.github.com/users/trevor-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T00:56:46Z","updated_at":"2021-01-07T01:14:01Z","author_association":"CONTRIBUTOR","body":"I ran the model that was failing (ssd_mobilenet_v1_fpn_shared_box_predictor_640x640_coco14_sync_2018_07_03) under `cuda-gdb` and was able to get some information from the crash:\r\n\r\n```\r\nCUDA Exception: Warp Out-of-range Address\r\nThe exception was triggered at PC 0x55556b2ef890\r\n\r\nThread 1 \"python3\" received signal CUDA_EXCEPTION_5, Warp Out-of-range Address.\r\n[Switching focus to CUDA kernel 2, grid 894452, block (0,0,0), thread (864,0,0), device 0, sm 0, warp 24, lane 0]\r\n0x000055556b2ef8b0 in fused_vision_non_max_suppression_kernel1<<<(1,1,1),(1024,1,1)>>> ()\r\n```\r\n\r\n@masahi Any thoughts?\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755815361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755824086","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-755824086","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":755824086,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgyNDA4Ng==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T01:25:57Z","updated_at":"2021-01-07T01:25:57Z","author_association":"MEMBER","body":"Does this mean NMS and not `get_valid_counts` kernel have an issue? I recognize the thread launch config `(1,1,1),(1024,1,1)`, this is due to my NMS change. But that kernel should be `fused_vision_non_max_suppression_kernel2` and not `fused_vision_non_max_suppression_kernel1` as shown above, so this is weird.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755824086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755853588","html_url":"https://github.com/apache/tvm/issues/7217#issuecomment-755853588","issue_url":"https://api.github.com/repos/apache/tvm/issues/7217","id":755853588,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTg1MzU4OA==","user":{"login":"insop","id":1240382,"node_id":"MDQ6VXNlcjEyNDAzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1240382?v=4","gravatar_id":"","url":"https://api.github.com/users/insop","html_url":"https://github.com/insop","followers_url":"https://api.github.com/users/insop/followers","following_url":"https://api.github.com/users/insop/following{/other_user}","gists_url":"https://api.github.com/users/insop/gists{/gist_id}","starred_url":"https://api.github.com/users/insop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/insop/subscriptions","organizations_url":"https://api.github.com/users/insop/orgs","repos_url":"https://api.github.com/users/insop/repos","events_url":"https://api.github.com/users/insop/events{/privacy}","received_events_url":"https://api.github.com/users/insop/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2021-01-07T03:08:05Z","updated_at":"2021-01-07T03:08:05Z","author_association":"CONTRIBUTOR","body":"@AzazelHD\r\nIt would help others if you add details, such as from what software frame you convert, what type of model you are referring, and so on.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755853588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755865416","html_url":"https://github.com/apache/tvm/pull/7219#issuecomment-755865416","issue_url":"https://api.github.com/repos/apache/tvm/issues/7219","id":755865416,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTg2NTQxNg==","user":{"login":"liangfu","id":857821,"node_id":"MDQ6VXNlcjg1NzgyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/857821?v=4","gravatar_id":"","url":"https://api.github.com/users/liangfu","html_url":"https://github.com/liangfu","followers_url":"https://api.github.com/users/liangfu/followers","following_url":"https://api.github.com/users/liangfu/following{/other_user}","gists_url":"https://api.github.com/users/liangfu/gists{/gist_id}","starred_url":"https://api.github.com/users/liangfu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liangfu/subscriptions","organizations_url":"https://api.github.com/users/liangfu/orgs","repos_url":"https://api.github.com/users/liangfu/repos","events_url":"https://api.github.com/users/liangfu/events{/privacy}","received_events_url":"https://api.github.com/users/liangfu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T03:49:31Z","updated_at":"2021-01-07T03:49:31Z","author_association":"MEMBER","body":"Jenkins is reporting failure on test_padded_load with tsim. For chisel vta, I think we have to do something similar to https://github.com/apache/tvm-vta/pull/17 .","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755865416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755882450","html_url":"https://github.com/apache/tvm/pull/7219#issuecomment-755882450","issue_url":"https://api.github.com/repos/apache/tvm/issues/7219","id":755882450,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTg4MjQ1MA==","user":{"login":"tmoreau89","id":5974488,"node_id":"MDQ6VXNlcjU5NzQ0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5974488?v=4","gravatar_id":"","url":"https://api.github.com/users/tmoreau89","html_url":"https://github.com/tmoreau89","followers_url":"https://api.github.com/users/tmoreau89/followers","following_url":"https://api.github.com/users/tmoreau89/following{/other_user}","gists_url":"https://api.github.com/users/tmoreau89/gists{/gist_id}","starred_url":"https://api.github.com/users/tmoreau89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmoreau89/subscriptions","organizations_url":"https://api.github.com/users/tmoreau89/orgs","repos_url":"https://api.github.com/users/tmoreau89/repos","events_url":"https://api.github.com/users/tmoreau89/events{/privacy}","received_events_url":"https://api.github.com/users/tmoreau89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T04:51:30Z","updated_at":"2021-01-07T04:51:30Z","author_association":"CONTRIBUTOR","body":"I'll look into what's causing the unit test to fail. It's possible it's due to the ISA changes that came from the recent OpenCL-based VTA PR. Will report back tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/755882450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756106197","html_url":"https://github.com/apache/tvm/issues/7217#issuecomment-756106197","issue_url":"https://api.github.com/repos/apache/tvm/issues/7217","id":756106197,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjEwNjE5Nw==","user":{"login":"AzazelHD","id":47080553,"node_id":"MDQ6VXNlcjQ3MDgwNTUz","avatar_url":"https://avatars.githubusercontent.com/u/47080553?v=4","gravatar_id":"","url":"https://api.github.com/users/AzazelHD","html_url":"https://github.com/AzazelHD","followers_url":"https://api.github.com/users/AzazelHD/followers","following_url":"https://api.github.com/users/AzazelHD/following{/other_user}","gists_url":"https://api.github.com/users/AzazelHD/gists{/gist_id}","starred_url":"https://api.github.com/users/AzazelHD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AzazelHD/subscriptions","organizations_url":"https://api.github.com/users/AzazelHD/orgs","repos_url":"https://api.github.com/users/AzazelHD/repos","events_url":"https://api.github.com/users/AzazelHD/events{/privacy}","received_events_url":"https://api.github.com/users/AzazelHD/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T13:08:51Z","updated_at":"2021-01-07T13:10:20Z","author_association":"NONE","body":"Yeah. I got a model that is on pytorch format. I used ``pytorch2keras`` library (python), and posted this error there. They said it must be an ``onnx2keras`` error.\r\n\r\nThe model was trained on GPU, but on keras I wanna predict using CPU since my GPU is AMD. \r\n\r\nModel was on format BCHW, but CPU only admits BHWC format, so I passed ``pytorch_to_keras`` ``change_ordering=True``. This arguments attempts to convert BCHW to BHWC.\r\n\r\nBut then I got that error","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756106197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756221819","html_url":"https://github.com/apache/tvm/pull/7045#issuecomment-756221819","issue_url":"https://api.github.com/repos/apache/tvm/issues/7045","id":756221819,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjIyMTgxOQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T16:24:40Z","updated_at":"2021-01-07T16:24:40Z","author_association":"MEMBER","body":"Thanks @hzfan @junrushao1994 ! This is now merged","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756221819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756223503","html_url":"https://github.com/apache/tvm/issues/7224#issuecomment-756223503","issue_url":"https://api.github.com/repos/apache/tvm/issues/7224","id":756223503,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjIyMzUwMw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T16:27:34Z","updated_at":"2021-01-07T16:27:34Z","author_association":"MEMBER","body":"The Module has been moved to ir.Module. Please open new discussion thread on https://discuss.tvm.apache.org/ for further related questions","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756223503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756239725","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756239725","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756239725,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjIzOTcyNQ==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T16:54:42Z","updated_at":"2021-01-07T16:55:23Z","author_association":"CONTRIBUTOR","body":"Looking at the code, assuming you have thrust enabled, this should be kernel0:\r\nhttps://github.com/apache/tvm/blob/9815ae2d9e17eece1a1009eb6436c80f931c734e/python/tvm/topi/cuda/nms.py#L798-L811\r\nthe thrust argsort wont get a number:\r\nhttps://github.com/apache/tvm/blob/9815ae2d9e17eece1a1009eb6436c80f931c734e/python/tvm/topi/cuda/nms.py#L818-L820\r\nAnd this should be 1:\r\nhttps://github.com/apache/tvm/blob/9815ae2d9e17eece1a1009eb6436c80f931c734e/python/tvm/topi/cuda/nms.py#L543-L579\r\n\r\nThat could have threads `(1,1,1),(1024,1,1)` if we have batch_size=1 and num_anchors <= 1024. I'm not seeing anything in there that jumps out as having an issue though. Every use of j is gaurded by and if scope with j<num_anchors, j< nkeep, or j< valid_count, and nkeep <= valid_count. The only way it could fail is if valid_count > num_anchors...\r\n\r\nSo possibly it's failing because my changes to get_valid_count are returning the wrong valid_count.\r\n\r\n@trevor-m any chance we can dump the inputs/attrs for get_valid_count so I can make a unit test to check that hypothesis? I haven't been able to get it to fail with random inputs, but possibly there's an edge case in my exclusive_scan algorithm for this input data.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756239725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756277499","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756277499","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756277499,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjI3NzQ5OQ==","user":{"login":"trevor-m","id":12981474,"node_id":"MDQ6VXNlcjEyOTgxNDc0","avatar_url":"https://avatars.githubusercontent.com/u/12981474?v=4","gravatar_id":"","url":"https://api.github.com/users/trevor-m","html_url":"https://github.com/trevor-m","followers_url":"https://api.github.com/users/trevor-m/followers","following_url":"https://api.github.com/users/trevor-m/following{/other_user}","gists_url":"https://api.github.com/users/trevor-m/gists{/gist_id}","starred_url":"https://api.github.com/users/trevor-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevor-m/subscriptions","organizations_url":"https://api.github.com/users/trevor-m/orgs","repos_url":"https://api.github.com/users/trevor-m/repos","events_url":"https://api.github.com/users/trevor-m/events{/privacy}","received_events_url":"https://api.github.com/users/trevor-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T17:55:44Z","updated_at":"2021-01-07T17:56:03Z","author_association":"CONTRIBUTOR","body":"Thanks for looking into it and finding that info @mbrookhart !\r\n\r\nHere is the relevant relay graph:\r\n```\r\nboxes = relay.var(\"boxes\", shape=(1, relay.Any(), 5), dtype=\"float32\")\r\n\r\nmax_output_size = relay.shape_of(boxes)\r\nmax_output_size = relay.strided_slice(max_output_size, begin=[1], end=[2], strides=[1])\r\nmax_output_size = relay.squeeze(max_output_size)\r\nmax_output_size = relay.minimum(relay.const(100, dtype=\"int32\"), max_output_size)\r\n\r\nct, data, indices = relay.vision.get_valid_counts(\r\n    boxes, score_threshold=0.0, id_index=-1, score_index=0\r\n)\r\n\r\nnms_ret = relay.vision.non_max_suppression(\r\n    data=boxes,\r\n    valid_count=ct,\r\n    indices=indices,\r\n    max_output_size=max_output_size,\r\n    iou_threshold=0.6,\r\n    force_suppress=True,\r\n    top_k=-1,\r\n    coord_start=1,\r\n    score_index=0,\r\n    id_index=-1,\r\n    return_indices=True,\r\n    invalid_to_bottom=False,\r\n)\r\n```\r\n\r\nThe input shape is `[1, 0, 5]` during the model execution when the crash occurs. I haven't been able to reproduce with this standalone test yet. Maybe there is an edge case for size 0 max_output_size or num_anchors?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756277499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756278828","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756278828","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756278828,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjI3ODgyOA==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T17:57:49Z","updated_at":"2021-01-07T17:57:49Z","author_association":"CONTRIBUTOR","body":"Ooh, interesting, doing NMS on no boxes, I'll take a look with that idea.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756278828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756289695","html_url":"https://github.com/apache/tvm/pull/7225#issuecomment-756289695","issue_url":"https://api.github.com/repos/apache/tvm/issues/7225","id":756289695,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjI4OTY5NQ==","user":{"login":"tom-gall","id":1486358,"node_id":"MDQ6VXNlcjE0ODYzNTg=","avatar_url":"https://avatars.githubusercontent.com/u/1486358?v=4","gravatar_id":"","url":"https://api.github.com/users/tom-gall","html_url":"https://github.com/tom-gall","followers_url":"https://api.github.com/users/tom-gall/followers","following_url":"https://api.github.com/users/tom-gall/following{/other_user}","gists_url":"https://api.github.com/users/tom-gall/gists{/gist_id}","starred_url":"https://api.github.com/users/tom-gall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tom-gall/subscriptions","organizations_url":"https://api.github.com/users/tom-gall/orgs","repos_url":"https://api.github.com/users/tom-gall/repos","events_url":"https://api.github.com/users/tom-gall/events{/privacy}","received_events_url":"https://api.github.com/users/tom-gall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T18:17:13Z","updated_at":"2021-01-07T18:17:13Z","author_association":"CONTRIBUTOR","body":"@areusch @gromero ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756289695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756298093","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756298093","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756298093,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjI5ODA5Mw==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T18:31:16Z","updated_at":"2021-01-07T18:34:40Z","author_association":"CONTRIBUTOR","body":"I don't this this is valid if num_anchors is zero, it could lead to undefined behavior. Could you wrap that in an `with ib.if_scope(num_anchors > 0)` and see if that fixes the problem?\r\n\r\nhttps://github.com/apache/tvm/blob/9815ae2d9e17eece1a1009eb6436c80f931c734e/python/tvm/topi/cuda/nms.py#L209-L214","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756298093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756298316","html_url":"https://github.com/apache/tvm/issues/7207#issuecomment-756298316","issue_url":"https://api.github.com/repos/apache/tvm/issues/7207","id":756298316,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjI5ODMxNg==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T18:31:40Z","updated_at":"2021-01-07T18:31:40Z","author_association":"MEMBER","body":"I suppose the bug has been fixed by #7197, is that correct?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756298316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756305451","html_url":"https://github.com/apache/tvm/pull/7225#issuecomment-756305451","issue_url":"https://api.github.com/repos/apache/tvm/issues/7225","id":756305451,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjMwNTQ1MQ==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T18:43:55Z","updated_at":"2021-01-07T18:43:55Z","author_association":"CONTRIBUTOR","body":"@tom-gall want to add discovery board to the [list of supported boards](https://github.com/apache/tvm/blob/main/docs/microtvm/index.rst#supported-hardware)? in practice I think we'll likely distribute this elsewhere in the future, but for now it'd be nice to keep it up to date.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756305451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756305889","html_url":"https://github.com/apache/tvm/issues/7207#issuecomment-756305889","issue_url":"https://api.github.com/repos/apache/tvm/issues/7207","id":756305889,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjMwNTg4OQ==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T18:44:46Z","updated_at":"2021-01-07T18:44:46Z","author_association":"CONTRIBUTOR","body":"no, it was tangential to that PR, so this issue is open to track a follow-on to fix","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756305889/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756327373","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756327373","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756327373,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjMyNzM3Mw==","user":{"login":"anijain2305","id":13822661,"node_id":"MDQ6VXNlcjEzODIyNjYx","avatar_url":"https://avatars.githubusercontent.com/u/13822661?v=4","gravatar_id":"","url":"https://api.github.com/users/anijain2305","html_url":"https://github.com/anijain2305","followers_url":"https://api.github.com/users/anijain2305/followers","following_url":"https://api.github.com/users/anijain2305/following{/other_user}","gists_url":"https://api.github.com/users/anijain2305/gists{/gist_id}","starred_url":"https://api.github.com/users/anijain2305/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anijain2305/subscriptions","organizations_url":"https://api.github.com/users/anijain2305/orgs","repos_url":"https://api.github.com/users/anijain2305/repos","events_url":"https://api.github.com/users/anijain2305/events{/privacy}","received_events_url":"https://api.github.com/users/anijain2305/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T19:24:41Z","updated_at":"2021-01-07T19:26:53Z","author_association":"CONTRIBUTOR","body":"> I don't this this is valid if num_anchors is zero, it could lead to undefined behavior. Could you wrap that in an `with ib.if_scope(num_anchors > 0)` and see if that fixes the problem?\r\n> \r\n> https://github.com/apache/tvm/blob/9815ae2d9e17eece1a1009eb6436c80f931c734e/python/tvm/topi/cuda/nms.py#L209-L214\r\n\r\n\r\n~~~\r\n@@ -210,8 +211,9 @@ def get_valid_indices_ir(valid_boxes, valid_count, valid_indices):\r\n         bx = te.thread_axis(\"blockIdx.x\")\r\n         ib.scope_attr(bx, \"thread_extent\", batch_size)\r\n         with ib.if_scope(bx < batch_size):\r\n-            valid_count[bx] = valid_indices[(bx + 1) * num_anchors - 1]\r\n-            valid_indices[(bx + 1) * num_anchors - 1] = 0\r\n+            with ib.if_scope(num_anchors > 0):\r\n+                valid_count[bx] = valid_indices[(bx + 1) * num_anchors - 1]\r\n+                valid_indices[(bx + 1) * num_anchors - 1] = 0\r\n\r\n     with ib.for_range(0, lim, dtype=\"int64\") as l2_width:\r\n         width = 2 << (lim - l2_width - 1)\r\n~~~\r\n\r\nI tried this yesterday. Unfortunately, this is not the source. The test still failed.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756327373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756333652","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756333652","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756333652,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjMzMzY1Mg==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T19:32:51Z","updated_at":"2021-01-07T19:32:51Z","author_association":"CONTRIBUTOR","body":"Alas. I would still very much appreciate the script to reproduce this so I can hunt it down.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756333652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756334561","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756334561","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756334561,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjMzNDU2MQ==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T19:34:26Z","updated_at":"2021-01-07T19:34:26Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/tvm/blob/9815ae2d9e17eece1a1009eb6436c80f931c734e/python/tvm/topi/cuda/nms.py#L177-L179\r\nLog(0) is undefined, we should probably just wrap the entire thing in a if num_anchors > 0","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756334561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756337655","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756337655","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756337655,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjMzNzY1NQ==","user":{"login":"anijain2305","id":13822661,"node_id":"MDQ6VXNlcjEzODIyNjYx","avatar_url":"https://avatars.githubusercontent.com/u/13822661?v=4","gravatar_id":"","url":"https://api.github.com/users/anijain2305","html_url":"https://github.com/anijain2305","followers_url":"https://api.github.com/users/anijain2305/followers","following_url":"https://api.github.com/users/anijain2305/following{/other_user}","gists_url":"https://api.github.com/users/anijain2305/gists{/gist_id}","starred_url":"https://api.github.com/users/anijain2305/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anijain2305/subscriptions","organizations_url":"https://api.github.com/users/anijain2305/orgs","repos_url":"https://api.github.com/users/anijain2305/repos","events_url":"https://api.github.com/users/anijain2305/events{/privacy}","received_events_url":"https://api.github.com/users/anijain2305/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T19:40:14Z","updated_at":"2021-01-07T19:40:14Z","author_association":"CONTRIBUTOR","body":"> Alas. I would still very much appreciate the script to reproduce this so I can hunt it down.\r\n\r\nYes, Trevor is working on it. It needs TRT workflow and thats why the delay.\r\n\r\n\r\n\r\n\r\n> https://github.com/apache/tvm/blob/9815ae2d9e17eece1a1009eb6436c80f931c734e/python/tvm/topi/cuda/nms.py#L177-L179\r\n> \r\n> \r\n> Log(0) is undefined, we should probably just wrap the entire thing in a if num_anchors > 0\r\n\r\nLet me try this as well.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756337655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756338926","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756338926","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756338926,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjMzODkyNg==","user":{"login":"trevor-m","id":12981474,"node_id":"MDQ6VXNlcjEyOTgxNDc0","avatar_url":"https://avatars.githubusercontent.com/u/12981474?v=4","gravatar_id":"","url":"https://api.github.com/users/trevor-m","html_url":"https://github.com/trevor-m","followers_url":"https://api.github.com/users/trevor-m/followers","following_url":"https://api.github.com/users/trevor-m/following{/other_user}","gists_url":"https://api.github.com/users/trevor-m/gists{/gist_id}","starred_url":"https://api.github.com/users/trevor-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevor-m/subscriptions","organizations_url":"https://api.github.com/users/trevor-m/orgs","repos_url":"https://api.github.com/users/trevor-m/repos","events_url":"https://api.github.com/users/trevor-m/events{/privacy}","received_events_url":"https://api.github.com/users/trevor-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T19:42:29Z","updated_at":"2021-01-07T19:42:29Z","author_association":"CONTRIBUTOR","body":"Thanks @mbrookhart , I tried that but it didn't fix the error.\r\n\r\nHere is a script to reproduce the error: https://gist.github.com/trevor-m/f44d3d0e7edcaee12722e518e5959b82\r\n\r\nI also noticed this line in the kernel where cuda-gdb found a crash: https://github.com/apache/tvm/blob/main/python/tvm/topi/cuda/nms.py#L545\r\nShouldn't `nthread_bx` be 0 if `num_anchors` is 0? Does this mean num_anchors is wrong?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756338926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756340257","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756340257","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756340257,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjM0MDI1Nw==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T19:44:44Z","updated_at":"2021-01-07T19:44:44Z","author_association":"CONTRIBUTOR","body":"Thanks, I'll try to reproduce. You're building with thrust and TRT, right?\r\n\r\nyou can't compile a cuda kernel with zero threads, so we always make sure it's at least 1: https://github.com/apache/tvm/blob/9815ae2d9e17eece1a1009eb6436c80f931c734e/python/tvm/tir/ir_builder.py#L205-L206\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756340257/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756341660","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756341660","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756341660,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjM0MTY2MA==","user":{"login":"trevor-m","id":12981474,"node_id":"MDQ6VXNlcjEyOTgxNDc0","avatar_url":"https://avatars.githubusercontent.com/u/12981474?v=4","gravatar_id":"","url":"https://api.github.com/users/trevor-m","html_url":"https://github.com/trevor-m","followers_url":"https://api.github.com/users/trevor-m/followers","following_url":"https://api.github.com/users/trevor-m/following{/other_user}","gists_url":"https://api.github.com/users/trevor-m/gists{/gist_id}","starred_url":"https://api.github.com/users/trevor-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevor-m/subscriptions","organizations_url":"https://api.github.com/users/trevor-m/orgs","repos_url":"https://api.github.com/users/trevor-m/repos","events_url":"https://api.github.com/users/trevor-m/events{/privacy}","received_events_url":"https://api.github.com/users/trevor-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T19:46:24Z","updated_at":"2021-01-07T19:46:24Z","author_association":"CONTRIBUTOR","body":"> Thanks, I'll try to reproduce. You're building with thrust and TRT, right?\r\n> \r\n> you can't compile a cuda kernel with zero threads, so we always make sure it's at least 1:\r\n> \r\n> https://github.com/apache/tvm/blob/9815ae2d9e17eece1a1009eb6436c80f931c734e/python/tvm/tir/ir_builder.py#L205-L206\r\n\r\nYes, that's right, thrust + TRT. Thank you for your help with debugging this.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756341660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756343478","html_url":"https://github.com/apache/tvm/pull/7083#issuecomment-756343478","issue_url":"https://api.github.com/repos/apache/tvm/issues/7083","id":756343478,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjM0MzQ3OA==","user":{"login":"tmoreau89","id":5974488,"node_id":"MDQ6VXNlcjU5NzQ0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5974488?v=4","gravatar_id":"","url":"https://api.github.com/users/tmoreau89","html_url":"https://github.com/tmoreau89","followers_url":"https://api.github.com/users/tmoreau89/followers","following_url":"https://api.github.com/users/tmoreau89/following{/other_user}","gists_url":"https://api.github.com/users/tmoreau89/gists{/gist_id}","starred_url":"https://api.github.com/users/tmoreau89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmoreau89/subscriptions","organizations_url":"https://api.github.com/users/tmoreau89/orgs","repos_url":"https://api.github.com/users/tmoreau89/repos","events_url":"https://api.github.com/users/tmoreau89/events{/privacy}","received_events_url":"https://api.github.com/users/tmoreau89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T19:49:28Z","updated_at":"2021-01-07T19:49:28Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews, @junrushao1994 @MarisaKirisame @eric-haibin-lin if you have some cycles, input would be appreciated!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756343478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756419891","html_url":"https://github.com/apache/tvm/pull/7227#issuecomment-756419891","issue_url":"https://api.github.com/repos/apache/tvm/issues/7227","id":756419891,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQxOTg5MQ==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T22:13:26Z","updated_at":"2021-01-07T22:13:26Z","author_association":"CONTRIBUTOR","body":"@tqchen @junrushao1994 @FrozenGene","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756419891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756439217","html_url":"https://github.com/apache/tvm/pull/7214#issuecomment-756439217","issue_url":"https://api.github.com/repos/apache/tvm/issues/7214","id":756439217,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQzOTIxNw==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T23:02:32Z","updated_at":"2021-01-07T23:02:32Z","author_association":"CONTRIBUTOR","body":"Thanks @anijain2305 @jcf94 ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756439217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756487144","html_url":"https://github.com/apache/tvm/pull/7227#issuecomment-756487144","issue_url":"https://api.github.com/repos/apache/tvm/issues/7227","id":756487144,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ4NzE0NA==","user":{"login":"jcf94","id":12119698,"node_id":"MDQ6VXNlcjEyMTE5Njk4","avatar_url":"https://avatars.githubusercontent.com/u/12119698?v=4","gravatar_id":"","url":"https://api.github.com/users/jcf94","html_url":"https://github.com/jcf94","followers_url":"https://api.github.com/users/jcf94/followers","following_url":"https://api.github.com/users/jcf94/following{/other_user}","gists_url":"https://api.github.com/users/jcf94/gists{/gist_id}","starred_url":"https://api.github.com/users/jcf94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcf94/subscriptions","organizations_url":"https://api.github.com/users/jcf94/orgs","repos_url":"https://api.github.com/users/jcf94/repos","events_url":"https://api.github.com/users/jcf94/events{/privacy}","received_events_url":"https://api.github.com/users/jcf94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:23:17Z","updated_at":"2021-01-08T01:23:17Z","author_association":"CONTRIBUTOR","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756487144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756490687","html_url":"https://github.com/apache/tvm/pull/7229#issuecomment-756490687","issue_url":"https://api.github.com/repos/apache/tvm/issues/7229","id":756490687,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ5MDY4Nw==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:32:27Z","updated_at":"2021-01-08T01:32:27Z","author_association":"CONTRIBUTOR","body":"cc @masahi ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756490687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756513178","html_url":"https://github.com/apache/tvm/pull/7229#issuecomment-756513178","issue_url":"https://api.github.com/repos/apache/tvm/issues/7229","id":756513178,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjUxMzE3OA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T02:47:09Z","updated_at":"2021-01-08T02:52:01Z","author_association":"MEMBER","body":"This is not important, but I'd suggest swapping the outer most `then block` and `else block` (`with ib.if_scope(num_anchors == 0):`), since the else block is so far apart and hard to read. Alternatively, if you wrap the content of `then block` into a function (like `nms_inner_loop`), it might make the diff smaller (just my guess).\r\n\r\nYou don't have to do that change, maybe I can do that for my scan PR. \r\n\r\n@trevor-m @anijain2305 Does this solve your issue?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756513178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756541283","html_url":"https://github.com/apache/tvm/pull/7229#issuecomment-756541283","issue_url":"https://api.github.com/repos/apache/tvm/issues/7229","id":756541283,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjU0MTI4Mw==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T04:37:47Z","updated_at":"2021-01-08T04:37:47Z","author_association":"MEMBER","body":"Thanks @mbrookhart ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756541283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756577894","html_url":"https://github.com/apache/tvm/pull/7146#issuecomment-756577894","issue_url":"https://api.github.com/repos/apache/tvm/issues/7146","id":756577894,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjU3Nzg5NA==","user":{"login":"Meteorix","id":3805278,"node_id":"MDQ6VXNlcjM4MDUyNzg=","avatar_url":"https://avatars.githubusercontent.com/u/3805278?v=4","gravatar_id":"","url":"https://api.github.com/users/Meteorix","html_url":"https://github.com/Meteorix","followers_url":"https://api.github.com/users/Meteorix/followers","following_url":"https://api.github.com/users/Meteorix/following{/other_user}","gists_url":"https://api.github.com/users/Meteorix/gists{/gist_id}","starred_url":"https://api.github.com/users/Meteorix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meteorix/subscriptions","organizations_url":"https://api.github.com/users/Meteorix/orgs","repos_url":"https://api.github.com/users/Meteorix/repos","events_url":"https://api.github.com/users/Meteorix/events{/privacy}","received_events_url":"https://api.github.com/users/Meteorix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T06:33:40Z","updated_at":"2021-01-08T06:33:40Z","author_association":"CONTRIBUTOR","body":"@jcf94 @merrymercy @Laurawly finally the ci passed. Also I have fixed the dtype check for batch_matmul. Please review this mr again.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756577894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756578686","html_url":"https://github.com/apache/tvm/issues/7186#issuecomment-756578686","issue_url":"https://api.github.com/repos/apache/tvm/issues/7186","id":756578686,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjU3ODY4Ng==","user":{"login":"insop","id":1240382,"node_id":"MDQ6VXNlcjEyNDAzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1240382?v=4","gravatar_id":"","url":"https://api.github.com/users/insop","html_url":"https://github.com/insop","followers_url":"https://api.github.com/users/insop/followers","following_url":"https://api.github.com/users/insop/following{/other_user}","gists_url":"https://api.github.com/users/insop/gists{/gist_id}","starred_url":"https://api.github.com/users/insop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/insop/subscriptions","organizations_url":"https://api.github.com/users/insop/orgs","repos_url":"https://api.github.com/users/insop/repos","events_url":"https://api.github.com/users/insop/events{/privacy}","received_events_url":"https://api.github.com/users/insop/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2021-01-08T06:35:49Z","updated_at":"2021-01-08T06:35:49Z","author_association":"CONTRIBUTOR","body":"For `_npi_advanced_indexing_multiple ` is at https://github.com/apache/tvm/pull/7230#pullrequestreview-564031534, PTAL.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756578686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756674827","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-756674827","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":756674827,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjY3NDgyNw==","user":{"login":"codeislife99","id":17168743,"node_id":"MDQ6VXNlcjE3MTY4NzQz","avatar_url":"https://avatars.githubusercontent.com/u/17168743?v=4","gravatar_id":"","url":"https://api.github.com/users/codeislife99","html_url":"https://github.com/codeislife99","followers_url":"https://api.github.com/users/codeislife99/followers","following_url":"https://api.github.com/users/codeislife99/following{/other_user}","gists_url":"https://api.github.com/users/codeislife99/gists{/gist_id}","starred_url":"https://api.github.com/users/codeislife99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeislife99/subscriptions","organizations_url":"https://api.github.com/users/codeislife99/orgs","repos_url":"https://api.github.com/users/codeislife99/repos","events_url":"https://api.github.com/users/codeislife99/events{/privacy}","received_events_url":"https://api.github.com/users/codeislife99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T10:19:01Z","updated_at":"2021-01-08T10:19:01Z","author_association":"CONTRIBUTOR","body":"cc: @anijain2305 @trevor-m ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756674827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756693366","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-756693366","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":756693366,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjY5MzM2Ng==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T10:59:07Z","updated_at":"2021-01-08T11:05:56Z","author_association":"MEMBER","body":"cc @t-vi @yongwww \r\n\r\nThis is probably not how we should support `copy_`. We discussed this issue before.\r\n\r\nLater I found a promising way to support inplace copy/assignment: We first convert `aten::copy_` to `aten::index_put` (see https://pytorch.org/docs/stable/tensors.html#torch.Tensor.index_put_) using PyTorch jit passes, and then convert `aten::index_put` to relay `scatter_nd`. This is also how PyTorch ONNX export supports inplace assignment, see https://github.com/pytorch/pytorch/pull/26941\r\n\r\nRelay `scatter_nd` op was added in https://github.com/apache/tvm/pull/6854. You can convert `aten::copy_` to `aten::inplace_put` by adding the following after https://github.com/apache/tvm/blob/d1399f378e37e9e4d9bfadc5cdae57fdc5bcaf7f/python/tvm/relay/frontend/pytorch.py#L2643\r\n\r\n```\r\ntorch._C._jit_pass_onnx_prepare_inplace_ops_for_onnx(graph)\r\ntorch._C._jit_pass_dce_allow_deleting_nodes_with_side_effects(graph)\r\n```\r\n\r\n@t-vi Does this sound a reasonable way to support inplace assignment?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756693366/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756695634","html_url":"https://github.com/apache/tvm/pull/7113#issuecomment-756695634","issue_url":"https://api.github.com/repos/apache/tvm/issues/7113","id":756695634,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjY5NTYzNA==","user":{"login":"d-smirnov","id":25180015,"node_id":"MDQ6VXNlcjI1MTgwMDE1","avatar_url":"https://avatars.githubusercontent.com/u/25180015?v=4","gravatar_id":"","url":"https://api.github.com/users/d-smirnov","html_url":"https://github.com/d-smirnov","followers_url":"https://api.github.com/users/d-smirnov/followers","following_url":"https://api.github.com/users/d-smirnov/following{/other_user}","gists_url":"https://api.github.com/users/d-smirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/d-smirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d-smirnov/subscriptions","organizations_url":"https://api.github.com/users/d-smirnov/orgs","repos_url":"https://api.github.com/users/d-smirnov/repos","events_url":"https://api.github.com/users/d-smirnov/events{/privacy}","received_events_url":"https://api.github.com/users/d-smirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T11:03:47Z","updated_at":"2021-01-08T11:03:47Z","author_association":"CONTRIBUTOR","body":" @siju-samuel @FrozenGene\r\nbump","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756695634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756705288","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-756705288","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":756705288,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjcwNTI4OA==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T11:25:52Z","updated_at":"2021-01-08T11:26:22Z","author_association":"CONTRIBUTOR","body":"@masahi can you elaborate a bit how you want to do that?\r\n\r\nSo to my mind there are two parts to this. For slice assignments\r\n```python\r\n@torch.jit.script\r\ndef foo(x):\r\n  x[:5] = 0\r\n  return 2 * x\r\n```\r\nwe get\r\n```\r\ngraph(%x.1 : Tensor):\r\n  %10 : bool = prim::Constant[value=0]()\r\n  %6 : int = prim::Constant[value=1]()\r\n  %1 : int = prim::Constant[value=0]()\r\n  %4 : int = prim::Constant[value=5]()\r\n  %14 : int = prim::Constant[value=2]()\r\n  %7 : Tensor = aten::slice(%x.1, %1, %1, %4, %6)\r\n  %8 : int = prim::dtype(%7)\r\n  %9 : Device = prim::device(%7)\r\n  %11 : Tensor = aten::tensor(%1, %8, %9, %10)\r\n  %13 : Tensor = aten::copy_(%7, %11, %10)\r\n  %16 : Tensor = aten::mul(%x.1, %14) # <string>:3:9\r\n  return (%16)\r\n```\r\n\r\nNote how `%x.1` and `%7` change their values in the line defining `%13`. In this sense, TorchScript with inplace isn't a true SSA form.\r\n\r\nSo we need three things:\r\n- scatter (or some form of where) may provide us how to compute the tensor that is `%x.1` after the copy, \r\n- we would still need to track views,\r\n- we would need to replace all tensors affected by the update with the new version.\r\n\r\nNote that while for this simple case, using the pattern\r\n```\r\n  out = copy_(slice(inp, ...), something)\r\n```\r\nwould be possible, but \r\n```python\r\n@torch.jit.script\r\ndef foo(x):\r\n  y = x[:2]\r\n  y[:5] = 0\r\n  return 2 * x\r\n```\r\nwill mess that up for you.\r\n\r\nP.S.: While you mention working on the TorchScript , I have a concrete plan (see my blog) to support more graph operations in TorchScript from python, so if you need something in particular, we might try to get that.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756705288/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756716845","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-756716845","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":756716845,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjcxNjg0NQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T11:54:16Z","updated_at":"2021-01-08T11:55:56Z","author_association":"MEMBER","body":"For the first case,\r\n\r\n```\r\ndef foo(x):\r\n  x[:5] = 0\r\n  return 2 * x\r\n```\r\nUsing the two passes I mentioned, I get this graph:\r\n\r\n```\r\ngraph(%x : Float(10:1, requires_grad=0, device=cpu)):\r\n  %1 : int = prim::Constant[value=0]() # test.py:8:0\r\n  %2 : int = prim::Constant[value=0]() # test.py:8:0\r\n  %3 : int = prim::Constant[value=5]() # test.py:8:0\r\n  %4 : int = prim::Constant[value=1]() # test.py:8:0\r\n  %5 : Float(5:1, requires_grad=0, device=cpu) = aten::slice(%x, %1, %2, %3, %4) # test.py:8:0\r\n  %6 : Float(requires_grad=0, device=cpu) = prim::Constant[value={0}]() # test.py:8:0\r\n  %7 : int[] = prim::ListConstruct()\r\n  %8 : Float(requires_grad=0, device=cpu) = aten::view(%6, %7) # test.py:8:0\r\n  %9 : int = prim::Constant[value=5]() # test.py:8:0\r\n  %10 : int[] = prim::ListConstruct(%9)\r\n  %11 : bool = prim::Constant[value=1]() # test.py:8:0\r\n  %12 : Float(5:0, requires_grad=0, device=cpu) = aten::expand(%8, %10, %11) # test.py:8:0\r\n  %13 : bool = prim::Constant[value=0]()\r\n  %18 : Float(5:0, requires_grad=0, device=cpu) = aten::expand_as(%12, %5) # test.py:8:0\r\n  %20 : int = prim::Constant[value=0]()\r\n  %21 : int = aten::size(%x, %20)\r\n  %22 : int = prim::Constant[value=4]()\r\n  %23 : None = prim::Constant()\r\n  %24 : None = prim::Constant()\r\n  %25 : None = prim::Constant()\r\n  %26 : Tensor = aten::arange(%21, %22, %23, %24, %25)\r\n  %27 : int = prim::Constant[value=0]()\r\n  %28 : Tensor = aten::slice(%26, %27, %2, %3, %4)\r\n  %30 : int[] = prim::Constant[value=[-1]]()\r\n  %31 : Tensor = aten::view(%28, %30)\r\n  %32 : Tensor?[] = prim::ListConstruct(%31)\r\n  %33 : Float(5:1, requires_grad=0, device=cpu) = aten::index_put(%x, %32, %18, %13)\r\n  %15 : Long(requires_grad=0, device=cpu) = prim::Constant[value={2}]() # test.py:9:0\r\n  %16 : Float(10:1, requires_grad=0, device=cpu) = aten::mul(%33, %15) # test.py:9:0\r\n  return (%16)\r\n```\r\ni.e. It seems `torch._C._jit_pass_onnx_prepare_inplace_ops_for_onnx` does some of the requirement you mentioned (first and third, not sure about second)?\r\nIf we convert this graph to relay using `scatter_nd`, I think the output tensor would be correct but we cannot modify the input like torch does.\r\n\r\nBut right, your second example results in\r\n```\r\ngraph(%x : Float(10:1, requires_grad=0, device=cpu)):\r\n  %20 : Long(requires_grad=0, device=cpu) = prim::Constant[value={2}]() # test.py:15:0\r\n  %21 : Float(10:1, requires_grad=0, device=cpu) = aten::mul(%x, %20) # test.py:15:0\r\n  return (%21)\r\n```\r\nbecause `torch._C._jit_pass_dce_allow_deleting_nodes_with_side_effects` will consider side-effect only operation as dead code (`y` is not used to compute output).","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756716845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756717849","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-756717849","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":756717849,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjcxNzg0OQ==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T11:56:52Z","updated_at":"2021-01-08T11:56:52Z","author_association":"CONTRIBUTOR","body":"Maybe they tried to take the same matching shortcut internally...","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756717849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756720013","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-756720013","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":756720013,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjcyMDAxMw==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T12:02:04Z","updated_at":"2021-01-08T12:04:03Z","author_association":"MEMBER","body":"I experimented with this approach to support inplace update in torchvision faster rcnn / mask rcnn:\r\n\r\nhttps://github.com/pytorch/vision/blob/6315358dd06e3a2bcbe9c1e8cdaa10898ac2b308/torchvision/ops/poolers.py#L269\r\n\r\nThis code path will not hit during tracing mode, so it is not an issue for us. But I tried anyway to experiment if `aten::copy_` to `aten::index_put` conversion would work, and indeed for faster rcnn / maskrcnn it cleanly replaced `aten::copy_`.\r\n\r\n I thought it might be promissing, but indeed there could be many limitation / corner cases ...","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756720013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756764112","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-756764112","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":756764112,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njc2NDExMg==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T13:48:11Z","updated_at":"2021-01-21T07:25:42Z","author_association":"CONTRIBUTOR","body":"I don't want to ruin the party, but does `unsqueeze_` work as is?\r\nWe would want to update future use of the input to refer to the output (same for any of the \"simple\" inplace).\r\nI can see that there is clearly interest in building support for inplace ops, but I think we would need to actually put in substantial effort if we want this to be a happy story.\r\n\r\n```python\r\n@torch.jit.script\r\ndef foo(x):\r\n  y = x.unsqueeze_(0)\r\n  return x\r\n```\r\n\r\nAs far as I know, we're only supporting \"strided\" tensors (i.e. blob of memory + sizes + strides define the tensor), so tracking views across these should be doable (one could, but doesn't have to) see the signature annotations in ATen's native_functions.yaml to see which of the ops we have need to be handled. One of the tricky ones would be reshape which is sometimes just a view and at other times (when viewing is impossible, eg `a[:, :-1].reshape(-1)`) it is a copy.\r\n\r\nThe other option could be to do this on the PyTorch side, improving the pass that @masahi highlighted.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756764112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756871097","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-756871097","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":756871097,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njg3MTA5Nw==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T16:58:29Z","updated_at":"2021-01-08T16:58:29Z","author_association":"CONTRIBUTOR","body":"For posperity, @trevor-m and I did some offline debugging yesterday, and #7229 seems to fix the issue.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756871097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756896071","html_url":"https://github.com/apache/tvm/pull/7226#issuecomment-756896071","issue_url":"https://api.github.com/repos/apache/tvm/issues/7226","id":756896071,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njg5NjA3MQ==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T17:31:23Z","updated_at":"2021-01-08T17:31:23Z","author_association":"CONTRIBUTOR","body":"Thanks @jcf94 @merrymercy ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756896071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756903730","html_url":"https://github.com/apache/tvm/issues/3545#issuecomment-756903730","issue_url":"https://api.github.com/repos/apache/tvm/issues/3545","id":756903730,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjkwMzczMA==","user":{"login":"aidamanzano","id":40214590,"node_id":"MDQ6VXNlcjQwMjE0NTkw","avatar_url":"https://avatars.githubusercontent.com/u/40214590?v=4","gravatar_id":"","url":"https://api.github.com/users/aidamanzano","html_url":"https://github.com/aidamanzano","followers_url":"https://api.github.com/users/aidamanzano/followers","following_url":"https://api.github.com/users/aidamanzano/following{/other_user}","gists_url":"https://api.github.com/users/aidamanzano/gists{/gist_id}","starred_url":"https://api.github.com/users/aidamanzano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aidamanzano/subscriptions","organizations_url":"https://api.github.com/users/aidamanzano/orgs","repos_url":"https://api.github.com/users/aidamanzano/repos","events_url":"https://api.github.com/users/aidamanzano/events{/privacy}","received_events_url":"https://api.github.com/users/aidamanzano/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T17:47:35Z","updated_at":"2021-01-08T17:47:35Z","author_association":"NONE","body":"Hello I have checked the discussion on the website[ here](https://discuss.tvm.apache.org/t/error-tvm-build-cmakefiles-cmaketmp-checksymbolexists-c10-fatal-error-opencl-include-dir-notfound-cl-cl-h-no-such-file-or-directory/3362) and no solution has been provided, how did you solve this issue?\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756903730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756929498","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-756929498","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":756929498,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjkyOTQ5OA==","user":{"login":"codeislife99","id":17168743,"node_id":"MDQ6VXNlcjE3MTY4NzQz","avatar_url":"https://avatars.githubusercontent.com/u/17168743?v=4","gravatar_id":"","url":"https://api.github.com/users/codeislife99","html_url":"https://github.com/codeislife99","followers_url":"https://api.github.com/users/codeislife99/followers","following_url":"https://api.github.com/users/codeislife99/following{/other_user}","gists_url":"https://api.github.com/users/codeislife99/gists{/gist_id}","starred_url":"https://api.github.com/users/codeislife99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeislife99/subscriptions","organizations_url":"https://api.github.com/users/codeislife99/orgs","repos_url":"https://api.github.com/users/codeislife99/repos","events_url":"https://api.github.com/users/codeislife99/events{/privacy}","received_events_url":"https://api.github.com/users/codeislife99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T18:40:29Z","updated_at":"2021-01-08T18:40:39Z","author_association":"CONTRIBUTOR","body":"Thanks for the detailed discussion and uncovering some things which I didn't know about. I will remove `copy_` from this PR since its not as trivial as I thought it would be. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756929498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756939901","html_url":"https://github.com/apache/tvm/pull/7083#issuecomment-756939901","issue_url":"https://api.github.com/repos/apache/tvm/issues/7083","id":756939901,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjkzOTkwMQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T19:03:23Z","updated_at":"2021-01-08T19:03:23Z","author_association":"MEMBER","body":"also cc @yzhliu @hzfan @comaniac who might be interested","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756939901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756960926","html_url":"https://github.com/apache/tvm/pull/6758#issuecomment-756960926","issue_url":"https://api.github.com/repos/apache/tvm/issues/6758","id":756960926,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njk2MDkyNg==","user":{"login":"ptrendx","id":8398980,"node_id":"MDQ6VXNlcjgzOTg5ODA=","avatar_url":"https://avatars.githubusercontent.com/u/8398980?v=4","gravatar_id":"","url":"https://api.github.com/users/ptrendx","html_url":"https://github.com/ptrendx","followers_url":"https://api.github.com/users/ptrendx/followers","following_url":"https://api.github.com/users/ptrendx/following{/other_user}","gists_url":"https://api.github.com/users/ptrendx/gists{/gist_id}","starred_url":"https://api.github.com/users/ptrendx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptrendx/subscriptions","organizations_url":"https://api.github.com/users/ptrendx/orgs","repos_url":"https://api.github.com/users/ptrendx/repos","events_url":"https://api.github.com/users/ptrendx/events{/privacy}","received_events_url":"https://api.github.com/users/ptrendx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T19:51:10Z","updated_at":"2021-01-08T19:51:10Z","author_association":"MEMBER","body":"I don't think change to the NNVM directory is right - NNVM does not rely on the rest of TVM so it does not know about `ICHECK` macros and compiling it results in a bunch of `not declared` errors. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756960926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756990130","html_url":"https://github.com/apache/tvm/pull/6758#issuecomment-756990130","issue_url":"https://api.github.com/repos/apache/tvm/issues/6758","id":756990130,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njk5MDEzMA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T20:45:31Z","updated_at":"2021-01-08T20:45:31Z","author_association":"MEMBER","body":"@ptrendx you are right, please send another PR to revert the change in NNVM part","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/756990130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757000179","html_url":"https://github.com/apache/tvm/pull/7233#issuecomment-757000179","issue_url":"https://api.github.com/repos/apache/tvm/issues/7233","id":757000179,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAwMDE3OQ==","user":{"login":"tkonolige","id":1501680,"node_id":"MDQ6VXNlcjE1MDE2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1501680?v=4","gravatar_id":"","url":"https://api.github.com/users/tkonolige","html_url":"https://github.com/tkonolige","followers_url":"https://api.github.com/users/tkonolige/followers","following_url":"https://api.github.com/users/tkonolige/following{/other_user}","gists_url":"https://api.github.com/users/tkonolige/gists{/gist_id}","starred_url":"https://api.github.com/users/tkonolige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkonolige/subscriptions","organizations_url":"https://api.github.com/users/tkonolige/orgs","repos_url":"https://api.github.com/users/tkonolige/repos","events_url":"https://api.github.com/users/tkonolige/events{/privacy}","received_events_url":"https://api.github.com/users/tkonolige/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T21:12:05Z","updated_at":"2021-01-08T21:12:47Z","author_association":"CONTRIBUTOR","body":"Would it be a better idea to have to separate scatter implementations (the parallel one and the sequential one) and let autotvm figure out which is better? Then we don't have to have all this special casing and magic input sizes.\r\n\r\nDo you also have some benchmarks you could show for these changes? (I'm not clear what the second text block is showing)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757000179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757002649","html_url":"https://github.com/apache/tvm/pull/7232#issuecomment-757002649","issue_url":"https://api.github.com/repos/apache/tvm/issues/7232","id":757002649,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAwMjY0OQ==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T21:17:59Z","updated_at":"2021-01-08T21:17:59Z","author_association":"CONTRIBUTOR","body":"I didn't know we could use None. Is there a way to test it in the unit tests? \r\n\r\nI'd like to see a unit test, but otherwise it looks good.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757002649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757006403","html_url":"https://github.com/apache/tvm/pull/7233#issuecomment-757006403","issue_url":"https://api.github.com/repos/apache/tvm/issues/7233","id":757006403,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAwNjQwMw==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T21:28:00Z","updated_at":"2021-01-08T21:35:48Z","author_association":"MEMBER","body":"The second text block is an excerpt from the output of `nvprof --print-gpu-trace`, showing elapsed time, launch config etc of each kernel executed, in order. The first line is for the initialization kernel, the second one the actual scatter kernel.\r\n\r\nI don't have benchmark other than the data from MaskRCNN. For the first kernel of 4D scatter, since it is just a memcpy, I don't see why we should do threading differently than other injective ops. I hope we don't need thorough benchmarking to justify this change.  After this change, the trace becomes (only the first line changes, note the elapsed time and thread launch config).\r\n\r\n```\r\n31.2518s  495.68us          (12250 1 1)      (1024 1 1)         8        0B        0B         -           -           -           -  GeForce GTX 107         1         7  fused_scatter_1_kernel0 [2980]\r\n31.2523s  522.78us            (1 256 7)        (32 1 1)        16        0B        0B         -           -           -           -  GeForce GTX 107         1         7  fused_scatter_1_kernel1 [2982]\r\n```\r\n\r\n> Would it be a better idea to have to separate scatter implementations (the parallel one and the sequential one) and let autotvm figure out which is better? Then we don't have to have all this special casing and magic input sizes.\r\n\r\nhmm, this sounds better than picking a random threshold, but do we have existing uses of autotvm to make such decision? Given that scatter kernels are extern, I'm not sure if autotvm can work with them.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757006403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757009645","html_url":"https://github.com/apache/tvm/pull/7233#issuecomment-757009645","issue_url":"https://api.github.com/repos/apache/tvm/issues/7233","id":757009645,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAwOTY0NQ==","user":{"login":"tkonolige","id":1501680,"node_id":"MDQ6VXNlcjE1MDE2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1501680?v=4","gravatar_id":"","url":"https://api.github.com/users/tkonolige","html_url":"https://github.com/tkonolige","followers_url":"https://api.github.com/users/tkonolige/followers","following_url":"https://api.github.com/users/tkonolige/following{/other_user}","gists_url":"https://api.github.com/users/tkonolige/gists{/gist_id}","starred_url":"https://api.github.com/users/tkonolige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkonolige/subscriptions","organizations_url":"https://api.github.com/users/tkonolige/orgs","repos_url":"https://api.github.com/users/tkonolige/repos","events_url":"https://api.github.com/users/tkonolige/events{/privacy}","received_events_url":"https://api.github.com/users/tkonolige/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T21:36:46Z","updated_at":"2021-01-08T21:36:46Z","author_association":"CONTRIBUTOR","body":"> hmm, this sounds better than picking a random threshold, but do we have existing uses of autotvm to make such decision? Given that scatter kernels are extern, I'm not sure if autotvm can work with them.\r\n\r\nAutotvm does this for external libraries which are all extern, so it will work here.\r\n\r\nI trust you when you say these are faster, I just wondered if you had done any benchmarking. Looking at the code, it seems it should be equally as fast, but sometimes it surprises you. That is when benchmarks are useful.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757009645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757011786","html_url":"https://github.com/apache/tvm/pull/7232#issuecomment-757011786","issue_url":"https://api.github.com/repos/apache/tvm/issues/7232","id":757011786,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAxMTc4Ng==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T21:42:53Z","updated_at":"2021-01-08T21:42:53Z","author_association":"CONTRIBUTOR","body":"> I didn't know we could use None. Is there a way to test it in the unit tests?\r\n> \r\n> I'd like to see a unit test, but otherwise it looks good.\r\n\r\nIt is supported here: https://github.com/apache/tvm/blob/main/include/tvm/topi/transform.h#L658 (so does `begin`). A test case is also added.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757011786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757016060","html_url":"https://github.com/apache/tvm/pull/7233#issuecomment-757016060","issue_url":"https://api.github.com/repos/apache/tvm/issues/7233","id":757016060,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAxNjA2MA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T21:55:28Z","updated_at":"2021-01-08T21:55:28Z","author_association":"MEMBER","body":"Yes, there are 4 calls to 4D scatter in MaskRCNN, the old kernel was taking 11.6 milli seconds on them in total, making it one of the bottlenecks as shown in the profile above. This change brings it down to 1.9873 milli seconds total and it is no longer a bottleneck. So this is a solid improvement. \r\n\r\nI think the reason the old kernel was slow for this input (1000, 256, 7, 7) is because thread block is too small (32, 1, 1) and we are launching too many of them (1000 * 256 * 7 blocks). ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757016060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757023959","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-757023959","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":757023959,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAyMzk1OQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T22:10:17Z","updated_at":"2021-01-08T22:11:44Z","author_association":"MEMBER","body":"I'm also not sure if inplace unsqueeze can be supported without any concern, or more generally how well we are doing with other inplace ops. @codeislife99 Does this change work for your real model (passing your contrived test is not enough) ?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757023959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757032109","html_url":"https://github.com/apache/tvm/pull/7233#issuecomment-757032109","issue_url":"https://api.github.com/repos/apache/tvm/issues/7233","id":757032109,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAzMjEwOQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T22:34:38Z","updated_at":"2021-01-08T22:34:56Z","author_association":"MEMBER","body":"> Autotvm does this for external libraries which are all extern, so it will work here\r\n\r\n@tkonolige I like the idea of separating sorting based implementation of scatter, so I want to try this. Can you point me where in the codebase autotvm deals with external libs?  I found something like `@autotvm.register_topi_compute(\"conv2d_cudnn.cuda\")` but I'm not sure how it interacts with normal conv2d ops. \r\n\r\nOne issue is that currently sorting based approach is only implemented for 1D scatter. For higher dimensions, I think sorting based approach is a bad idea. So dispatching decision needs to take input dimension into account (not sure if this could be a problem for autotvm or relay strategy).\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757032109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757032872","html_url":"https://github.com/apache/tvm/pull/7235#issuecomment-757032872","issue_url":"https://api.github.com/repos/apache/tvm/issues/7235","id":757032872,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAzMjg3Mg==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T22:37:16Z","updated_at":"2021-01-08T22:37:16Z","author_association":"MEMBER","body":"@tkonolige wonder what the behavior looks like in the case of two upstreams. e.g. one that points to the fork and another points to the upstream.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757032872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757036217","html_url":"https://github.com/apache/tvm/pull/7231#issuecomment-757036217","issue_url":"https://api.github.com/repos/apache/tvm/issues/7231","id":757036217,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAzNjIxNw==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T22:48:15Z","updated_at":"2021-01-08T22:48:15Z","author_association":"CONTRIBUTOR","body":"@masahi , @codeislife99 : I mentioned this to one of the other PyTorch devs and he mentioned that there is a remove mutation pass in PyTorch that should take care of the cases where the PyTorch alias analysis can prove it is safe to remove it:\r\nhttps://github.com/pytorch/pytorch/blob/aa18d174553e1c2ab4d9e09ae45c6ac323f04af5/torch/csrc/jit/passes/remove_mutation.h#L92\r\nIt doesn't do the slice bits, obviously, but I think running that before conversion might be an alternative that seems better than the implicit assumption it is safe.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757036217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757037556","html_url":"https://github.com/apache/tvm/pull/7233#issuecomment-757037556","issue_url":"https://api.github.com/repos/apache/tvm/issues/7233","id":757037556,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAzNzU1Ng==","user":{"login":"tkonolige","id":1501680,"node_id":"MDQ6VXNlcjE1MDE2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1501680?v=4","gravatar_id":"","url":"https://api.github.com/users/tkonolige","html_url":"https://github.com/tkonolige","followers_url":"https://api.github.com/users/tkonolige/followers","following_url":"https://api.github.com/users/tkonolige/following{/other_user}","gists_url":"https://api.github.com/users/tkonolige/gists{/gist_id}","starred_url":"https://api.github.com/users/tkonolige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkonolige/subscriptions","organizations_url":"https://api.github.com/users/tkonolige/orgs","repos_url":"https://api.github.com/users/tkonolige/repos","events_url":"https://api.github.com/users/tkonolige/events{/privacy}","received_events_url":"https://api.github.com/users/tkonolige/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T22:52:45Z","updated_at":"2021-01-08T22:54:22Z","author_association":"CONTRIBUTOR","body":"@masahi Here is an example of having multiple implementations for the same op, with some of them being external. https://github.com/apache/tvm/blob/main/python/tvm/relay/op/strategy/x86.py#L371-L393 In this example, `schedule_dense_cblas` is just `schedule_extern` (https://github.com/apache/tvm/blob/54c995dbf7c96c1184c2baf64de87bc9566fe33a/python/tvm/topi/x86/dense.py#L265).\r\n\r\nYou can conditionally call `strategy.add_implementation` based on the input sizes (also in this example).","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757037556/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757044548","html_url":"https://github.com/apache/tvm/pull/6370#issuecomment-757044548","issue_url":"https://api.github.com/repos/apache/tvm/issues/6370","id":757044548,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzA0NDU0OA==","user":{"login":"yzhliu","id":631860,"node_id":"MDQ6VXNlcjYzMTg2MA==","avatar_url":"https://avatars.githubusercontent.com/u/631860?v=4","gravatar_id":"","url":"https://api.github.com/users/yzhliu","html_url":"https://github.com/yzhliu","followers_url":"https://api.github.com/users/yzhliu/followers","following_url":"https://api.github.com/users/yzhliu/following{/other_user}","gists_url":"https://api.github.com/users/yzhliu/gists{/gist_id}","starred_url":"https://api.github.com/users/yzhliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yzhliu/subscriptions","organizations_url":"https://api.github.com/users/yzhliu/orgs","repos_url":"https://api.github.com/users/yzhliu/repos","events_url":"https://api.github.com/users/yzhliu/events{/privacy}","received_events_url":"https://api.github.com/users/yzhliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T23:19:28Z","updated_at":"2021-01-08T23:19:28Z","author_association":"MEMBER","body":"pls also rebase and retrigger the ci.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757044548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757045420","html_url":"https://github.com/apache/tvm/pull/7235#issuecomment-757045420","issue_url":"https://api.github.com/repos/apache/tvm/issues/7235","id":757045420,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzA0NTQyMA==","user":{"login":"tkonolige","id":1501680,"node_id":"MDQ6VXNlcjE1MDE2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1501680?v=4","gravatar_id":"","url":"https://api.github.com/users/tkonolige","html_url":"https://github.com/tkonolige","followers_url":"https://api.github.com/users/tkonolige/followers","following_url":"https://api.github.com/users/tkonolige/following{/other_user}","gists_url":"https://api.github.com/users/tkonolige/gists{/gist_id}","starred_url":"https://api.github.com/users/tkonolige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkonolige/subscriptions","organizations_url":"https://api.github.com/users/tkonolige/orgs","repos_url":"https://api.github.com/users/tkonolige/repos","events_url":"https://api.github.com/users/tkonolige/events{/privacy}","received_events_url":"https://api.github.com/users/tkonolige/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T23:23:09Z","updated_at":"2021-01-08T23:23:09Z","author_association":"CONTRIBUTOR","body":"I don't think you can have two upstreams?\r\n\r\nWhat I originally had was incorrect. My `main` branch is tracking `apache/tvm` instead of my local repository, which is why it worked. I've pushed a new version that correctly finds this repository by grepping through the remotes. It also uses merge-base so you won't have issues if you're behind main.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/757045420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]