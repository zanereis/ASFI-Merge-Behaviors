[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190124","html_url":"https://github.com/apache/couchdb/issues/4344#issuecomment-1371190124","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4344","id":1371190124,"node_id":"IC_kwDOAAMmUc5RurNs","user":{"login":"jcheger","id":4332314,"node_id":"MDQ6VXNlcjQzMzIzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4332314?v=4","gravatar_id":"","url":"https://api.github.com/users/jcheger","html_url":"https://github.com/jcheger","followers_url":"https://api.github.com/users/jcheger/followers","following_url":"https://api.github.com/users/jcheger/following{/other_user}","gists_url":"https://api.github.com/users/jcheger/gists{/gist_id}","starred_url":"https://api.github.com/users/jcheger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcheger/subscriptions","organizations_url":"https://api.github.com/users/jcheger/orgs","repos_url":"https://api.github.com/users/jcheger/repos","events_url":"https://api.github.com/users/jcheger/events{/privacy}","received_events_url":"https://api.github.com/users/jcheger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T14:33:21Z","updated_at":"2023-01-04T14:33:21Z","author_association":"NONE","body":"N.B. I did start on CouchDB few hours ago - I'm a total newbie\r\n\r\nUsing Fauxton 3.3.0, here is how to reproduce the error (local sync):\r\n- create a brand new \"test1\" database\r\n- replication / New Replication\r\n- Source\r\n  - Type: local database\r\n  - Name: test1\r\n  - Authentication: Username and password\r\n    - (user): *admin*\r\n    - (pass): *admin*\r\n- Target\r\n  - Type: New local database (or existing, it doesn't matter)\r\n  - Name: test2\r\n  - Authentication: Username and password\r\n    - (user): *admin*\r\n    - (pass): *admin*\r\n\r\nIt's enough to make it fail. The problem is beween Fauxton's replication wizard and the local server.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190129","html_url":"https://github.com/apache/couchdb/issues/4344#issuecomment-1371190129","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4344","id":1371190129,"node_id":"IC_kwDOAAMmUc5RurNx","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T16:02:04Z","updated_at":"2023-01-04T16:02:04Z","author_association":"CONTRIBUTOR","body":"Moved the issue to the Fauxton repo.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190131","html_url":"https://github.com/apache/couchdb/issues/4344#issuecomment-1371190131","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4344","id":1371190131,"node_id":"IC_kwDOAAMmUc5RurNz","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T16:22:46Z","updated_at":"2023-01-04T16:22:46Z","author_association":"MEMBER","body":"can you please grep your couch.log for 'undef' and report the full line with stacktrace if you find it?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371172172","html_url":"https://github.com/apache/couchdb/pull/4342#issuecomment-1371172172","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4342","id":1371172172,"node_id":"IC_kwDOAAMmUc5Rum1M","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T16:49:17Z","updated_at":"2023-01-04T16:49:28Z","author_association":"MEMBER","body":"letâ€™s not remove support just yet. +1 for moving the default forward tho","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371172172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190137","html_url":"https://github.com/apache/couchdb/issues/4344#issuecomment-1371190137","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4344","id":1371190137,"node_id":"IC_kwDOAAMmUc5RurN5","user":{"login":"glynnbird","id":697925,"node_id":"MDQ6VXNlcjY5NzkyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/697925?v=4","gravatar_id":"","url":"https://api.github.com/users/glynnbird","html_url":"https://github.com/glynnbird","followers_url":"https://api.github.com/users/glynnbird/followers","following_url":"https://api.github.com/users/glynnbird/following{/other_user}","gists_url":"https://api.github.com/users/glynnbird/gists{/gist_id}","starred_url":"https://api.github.com/users/glynnbird/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glynnbird/subscriptions","organizations_url":"https://api.github.com/users/glynnbird/orgs","repos_url":"https://api.github.com/users/glynnbird/repos","events_url":"https://api.github.com/users/glynnbird/events{/privacy}","received_events_url":"https://api.github.com/users/glynnbird/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T16:56:42Z","updated_at":"2023-01-04T16:56:42Z","author_association":"CONTRIBUTOR","body":"I attempted to reproduce and creating a document using Fauxton in the `_replicator` database, with a valid `source` and `target` worked just fine. But using form (e.g. http://127.0.0.1:5984/_utils/#/replication/_create) instead did fail with HTTP 403:\r\n\r\n```\r\n{\"error\":\"forbidden\",\"reason\":\"{error,undef}\"}\r\n```\r\n\r\n(Mac M1 using Firefox)\r\n\r\nIn the logs, from the point when I submit the form I see:\r\n\r\n```\r\n[notice] 2023-01-04T16:54:43.991445Z couchdb@localhost <0.17434.0> 27974b6a26 127.0.0.1:5984 127.0.0.1 admin GET /_replicator/yyy 404 ok 2\r\n[notice] 2023-01-04T16:54:44.012962Z couchdb@localhost <0.17818.0> c91eb7297a 127.0.0.1:5984 127.0.0.1 admin GET / 200 ok 4\r\n[notice] 2023-01-04T16:54:44.020925Z couchdb@localhost <0.17818.0> 8726111c37 127.0.0.1:5984 127.0.0.1 admin GET / 200 ok 4\r\n[notice] 2023-01-04T16:54:44.036423Z couchdb@localhost <0.17434.0> 5af0cdfc7c 127.0.0.1:5984 127.0.0.1 admin POST /_replicator 403 ok 8\r\n[notice] 2023-01-04T16:54:44.848812Z couchdb@localhost <0.407.0> -------- chttpd_auth_cache changes listener died because the _users database does not exist. Create the database to silence this notice.\r\n[error] 2023-01-04T16:54:44.848940Z couchdb@localhost emulator -------- Error in process <0.17848.0> on node couchdb@localhost with exit value:\r\n{database_does_not_exist,[{mem3_shards,load_shards_from_db,\"_users\",[{file,\"src/mem3_shards.erl\"},{line,430}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,405}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,434}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,100}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,39}]},{chttpd_auth_cache,ensure_auth_ddoc_exists,2,[{file,\"src/chttpd_auth_cache.erl\"},{line,214}]},{chttpd_auth_cache,listen_for_changes,1,[{file,\"src/chttpd_auth_cache.erl\"},{line,160}]}]}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190142","html_url":"https://github.com/apache/couchdb/issues/4344#issuecomment-1371190142","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4344","id":1371190142,"node_id":"IC_kwDOAAMmUc5RurN-","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T17:02:29Z","updated_at":"2023-01-04T17:02:29Z","author_association":"MEMBER","body":"Not a fauxton issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190150","html_url":"https://github.com/apache/couchdb/issues/4344#issuecomment-1371190150","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4344","id":1371190150,"node_id":"IC_kwDOAAMmUc5RurOG","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T17:03:02Z","updated_at":"2023-01-04T17:03:02Z","author_association":"MEMBER","body":"fixed by https://github.com/apache/couchdb/pull/4343","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371190150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371360376","html_url":"https://github.com/apache/couchdb/pull/4342#issuecomment-1371360376","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4342","id":1371360376,"node_id":"IC_kwDOAAMmUc5RvUx4","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T20:01:27Z","updated_at":"2023-01-04T20:01:27Z","author_association":"CONTRIBUTOR","body":"Okay, setting only the default sm version to 91 and reverted the remove of 1.8.5.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371360376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371470067","html_url":"https://github.com/apache/couchdb/issues/4315#issuecomment-1371470067","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4315","id":1371470067,"node_id":"IC_kwDOAAMmUc5Rvvjz","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T21:50:50Z","updated_at":"2023-01-04T21:50:50Z","author_association":"MEMBER","body":"Thank you for the ticket. We're aware that couchdb could improve its sharding system, and particularly we see value in higher level tools to allow resharding in place, and so on. \r\n\r\nThis is a huge topic and not one that this issue will advance at all, unless you are willing to do this work in substantial part.\r\n\r\nI note that neither project you mention would be appropriate for CouchDB.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371470067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371483584","html_url":"https://github.com/apache/couchdb/pull/4346#issuecomment-1371483584","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4346","id":1371483584,"node_id":"IC_kwDOAAMmUc5Rvy3A","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T22:05:12Z","updated_at":"2023-01-04T22:05:12Z","author_association":"MEMBER","body":"current output on main \r\n\r\n```\r\n make find_bugs | grep Warn | grep -v hastin\r\nWarning: couch_config:delete/2 is undefined function (Xref)\r\nWarning: couch_config:get/2 is undefined function (Xref)\r\nWarning: couch_config:parse_ini_file/1 is undefined function (Xref)\r\nWarning: couch_config:set/3 is undefined function (Xref)\r\nsrc/couch_plugins.erl:121: Warning: couch_plugins:delete_config/1 calls undefined function couch_config:delete/2 (Xref)\r\nsrc/couch_plugins.erl:112: Warning: couch_plugins:load_config_file/2 calls undefined function couch_config:parse_ini_file/1 (Xref)\r\nsrc/couch_plugins.erl:19: Warning: couch_plugins:plugin_dir/0 calls undefined function couch_config:get/2 (Xref)\r\nsrc/couch_plugins.erl:83: Warning: couch_plugins:register_plugin/2 calls undefined function couch_config:set/3 (Xref)\r\nsrc/couch_plugins.erl:117: Warning: couch_plugins:set_config/1 calls undefined function couch_config:set/3 (Xref)\r\nsrc/couch_plugins.erl:87: Warning: couch_plugins:unregister_plugin/1 calls undefined function couch_config:delete/2 (Xref)\r\nsrc/couch_plugins_httpd.erl:18: Warning: couch_plugins_httpd:handle_req/1 calls undefined function couch_config:get/2 (Xref)\r\nsrc/couch_plugins_httpd.erl:53: Warning: couch_plugins_httpd:plugin_dir/0 calls undefined function couch_config:get/2 (Xref)\r\nfile.erl: Warning: file:delete/2 is undefined function (Xref)\r\nsrc/smoosh_persist.erl:136: Warning: smoosh_persist:delete_file/1 calls undefined function file:delete/2 (Xref)\r\nsrc/ioq.erl: Warning: ioq:get_disk_queues/0 is undefined function (Xref)\r\nsrc/weatherreport_check_ioq.erl:88: Warning: weatherreport_check_ioq:check_legacy/1 calls undefined function ioq:get_disk_queues/0 (Xref)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371483584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371484238","html_url":"https://github.com/apache/couchdb/pull/4346#issuecomment-1371484238","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4346","id":1371484238,"node_id":"IC_kwDOAAMmUc5RvzBO","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T22:05:54Z","updated_at":"2023-01-04T22:05:54Z","author_association":"MEMBER","body":"the smoosh_persist one is because it uses a function only present in OTP 24 and I tested on OTP 23 which is the lowest OTP couchdb officially supports (and thus it needs fixing).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1371484238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1373462751","html_url":"https://github.com/apache/couchdb/pull/4355#issuecomment-1373462751","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4355","id":1373462751,"node_id":"IC_kwDOAAMmUc5R3WDf","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-06T10:48:54Z","updated_at":"2023-01-06T10:48:54Z","author_association":"CONTRIBUTOR","body":"Can we also prevent â€žmergeâ€œ commits for a cleaner git history?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1373462751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1373483172","html_url":"https://github.com/apache/couchdb/pull/4355#issuecomment-1373483172","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4355","id":1373483172,"node_id":"IC_kwDOAAMmUc5R3bCk","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-06T11:12:45Z","updated_at":"2023-01-06T11:12:45Z","author_association":"MEMBER","body":"> Can we also prevent â€žmergeâ€œ commits for a cleaner git history?\r\n\r\nWeâ€™d have to discuss this on dev@","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1373483172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1373978465","html_url":"https://github.com/apache/couchdb/pull/4355#issuecomment-1373978465","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4355","id":1373978465,"node_id":"IC_kwDOAAMmUc5R5T9h","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-06T18:17:57Z","updated_at":"2023-01-06T18:24:14Z","author_association":"CONTRIBUTOR","body":"Good idea to encourage using rebases if possible, especially for small or medium PRs. But it could just be an admonishment rather than an enforcement. I can see in cases when large features are merged a merge commit might make sense. \r\n\r\nAnother thing I often watch out for is that I avoid merging main into my PR branch and then merging back into main. That often ends up making a rather confusing git history.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1373978465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1374050147","html_url":"https://github.com/apache/couchdb/pull/4342#issuecomment-1374050147","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4342","id":1374050147,"node_id":"IC_kwDOAAMmUc5R5ldj","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-06T19:44:13Z","updated_at":"2023-01-06T19:44:13Z","author_association":"CONTRIBUTOR","body":"@janl separated all non sm91-default changes to standalone PRs","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1374050147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1374594793","html_url":"https://github.com/apache/couchdb/pull/4355#issuecomment-1374594793","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4355","id":1374594793,"node_id":"IC_kwDOAAMmUc5R7qbp","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-07T20:04:40Z","updated_at":"2023-01-07T20:04:40Z","author_association":"CONTRIBUTOR","body":"@nickva @janl We have 3.2.2 and 3.2.2-docs. Should we integrate 3.2.2-docs into 3.2.x to clean up and change RTD to 3.2.x?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1374594793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1374680076","html_url":"https://github.com/apache/couchdb/pull/4355#issuecomment-1374680076","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4355","id":1374680076,"node_id":"IC_kwDOAAMmUc5R7_QM","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-08T01:23:58Z","updated_at":"2023-01-08T01:23:58Z","author_association":"CONTRIBUTOR","body":"@big-r81 3.2.2-docs might not be a proper 3.2.x branch. It's sort of almost 3.3.x (main) but with docs pointing to 3.2.2. This is to let us update and add 3.2.2 doc updates without having to go back to the couchdb-documentation repo. Since that one is archived.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1374680076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1378674160","html_url":"https://github.com/apache/couchdb/issues/4368#issuecomment-1378674160","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4368","id":1378674160,"node_id":"IC_kwDOAAMmUc5SLOXw","user":{"login":"guillermo-jano","id":47788757,"node_id":"MDQ6VXNlcjQ3Nzg4NzU3","avatar_url":"https://avatars.githubusercontent.com/u/47788757?v=4","gravatar_id":"","url":"https://api.github.com/users/guillermo-jano","html_url":"https://github.com/guillermo-jano","followers_url":"https://api.github.com/users/guillermo-jano/followers","following_url":"https://api.github.com/users/guillermo-jano/following{/other_user}","gists_url":"https://api.github.com/users/guillermo-jano/gists{/gist_id}","starred_url":"https://api.github.com/users/guillermo-jano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillermo-jano/subscriptions","organizations_url":"https://api.github.com/users/guillermo-jano/orgs","repos_url":"https://api.github.com/users/guillermo-jano/repos","events_url":"https://api.github.com/users/guillermo-jano/events{/privacy}","received_events_url":"https://api.github.com/users/guillermo-jano/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-11T12:25:52Z","updated_at":"2023-01-11T12:25:52Z","author_association":"NONE","body":"EL 8 package exhibits the same problem:\r\n\r\n```\r\n$ rpm --checksig https://apache.jfrog.io/artifactory/couchdb-rpm/el8/x86_64/couchdb-3.3.1-1.el8.x86_64.rpm https://apache.jfrog.io/artifactory/couchdb-rpm/el8/x86_64/couchdb-3.3.0-1.el8.x86_64.rpm\r\nhttps://apache.jfrog.io/artifactory/couchdb-rpm/el8/x86_64/couchdb-3.3.1-1.el8.x86_64.rpm: digests OK\r\nhttps://apache.jfrog.io/artifactory/couchdb-rpm/el8/x86_64/couchdb-3.3.0-1.el8.x86_64.rpm: digests signatures OK\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1378674160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1378801972","html_url":"https://github.com/apache/couchdb/issues/4368#issuecomment-1378801972","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4368","id":1378801972,"node_id":"IC_kwDOAAMmUc5SLtk0","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-11T14:04:58Z","updated_at":"2023-01-11T14:04:58Z","author_association":"MEMBER","body":"thanks, weâ€™re looking into it!\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1378801972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1378974246","html_url":"https://github.com/apache/couchdb/issues/4368#issuecomment-1378974246","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4368","id":1378974246,"node_id":"IC_kwDOAAMmUc5SMXom","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-11T15:38:44Z","updated_at":"2023-01-11T15:40:19Z","author_association":"CONTRIBUTOR","body":"Thanks for your report @guillermo-jano \r\n\r\nThe rpms should be fixed. A command failed when signing them and I didn't noticed and uploaded them unsigned. Give it another try when you get a chance.\r\n\r\nI verified centos 7 upgrade and centos 8 (rocky 8) install:\r\n\r\n```\r\ncouchdb                                                                                                                                   14/14\r\nResolving Dependencies\r\n--> Running transaction check\r\n---> Package couchdb.x86_64 0:3.2.1-2.el7 will be updated\r\n---> Package couchdb.x86_64 0:3.3.1-1.el7 will be an update\r\n--> Finished Dependency Resolution\r\n\r\nDependencies Resolved\r\n\r\n================================================================================================================================================\r\n Package                          Arch                            Version                                Repository                        Size\r\n================================================================================================================================================\r\nUpdating:\r\n couchdb                          x86_64                          3.3.1-1.el7                            couchdb                           31 M\r\n\r\nTransaction Summary\r\n================================================================================================================================================\r\nUpgrade  1 Package\r\n\r\nTotal download size: 31 M\r\nIs this ok [y/d/N]: y\r\nDownloading packages:\r\nDelta RPMs disabled because /usr/bin/applydeltarpm not installed.\r\ncouchdb-3.3.1-1.el7.x86_64.rpm                                                                                           |  31 MB  00:00:06     \r\nRunning transaction check\r\nRunning transaction test\r\nTransaction test succeeded\r\nRunning transaction\r\n  Updating   : couchdb-3.3.1-1.el7.x86_64                                                                                                   1/2 \r\nwarning: /opt/couchdb/etc/local.ini created as /opt/couchdb/etc/local.ini.rpmnew\r\nGenerating random cookie value.\r\n  Cleanup    : couchdb-3.2.1-2.el7.x86_64                                                                                                   2/2 \r\n  Verifying  : couchdb-3.3.1-1.el7.x86_64                                                                                                   1/2 \r\n  Verifying  : couchdb-3.2.1-2.el7.x86_64                                                                                                   2/2 \r\n\r\nUpdated:\r\n  couchdb.x86_64 0:3.3.1-1.el7                                                                                                                  \r\n\r\nComplete!\r\n```\r\n\r\n```\r\nyum install couchdb\r\nLast metadata expiration check: 0:02:16 ago on Wed Jan 11 10:35:31 2023.\r\nDependencies resolved.\r\n================================================================================================================================================\r\n Package                          Architecture                    Version                                Repository                        Size\r\n================================================================================================================================================\r\nInstalling:\r\n couchdb                          x86_64                          3.3.1-1.el8                            couchdb                           37 M\r\n\r\nTransaction Summary\r\n================================================================================================================================================\r\nInstall  1 Package\r\n\r\nTotal download size: 37 M\r\nInstalled size: 101 M\r\nIs this ok [y/N]: y\r\nDownloading Packages:\r\ncouchdb-3.3.1-1.el8.x86_64.rpm                                                                                  5.5 MB/s |  37 MB     00:06    \r\n------------------------------------------------------------------------------------------------------------------------------------------------\r\nTotal                                                                                                           5.5 MB/s |  37 MB     00:06     \r\ncouchdb                                                                                                          33 kB/s | 3.8 kB     00:00    \r\nImporting GPG key 0x7A00258D:\r\n Userid     : \"The Apache Software Foundation (Package repository signing key) <root@apache.org>\"\r\n Fingerprint: 390E F70B B1EA 12B2 7739 6295 0EE6 2FB3 7A00 258D\r\n From       : https://couchdb.apache.org/repo/keys.asc\r\nIs this ok [y/N]: y\r\nKey imported successfully\r\ncouchdb                                                                                                          44 kB/s | 3.9 kB     00:00    \r\nImporting GPG key 0x9657A78E:\r\n Userid     : \"Nicolae Vatamaniuc <vatamane@apache.org>\"\r\n Fingerprint: 0BD7 A984 99C4 AB41 C910 EE65 FC04 DFBC 9657 A78E\r\n From       : https://couchdb.apache.org/repo/rpm-package-key.asc\r\nIs this ok [y/N]: y\r\nKey imported successfully\r\nRunning transaction check\r\nTransaction check succeeded.\r\nRunning transaction test\r\nTransaction test succeeded.\r\nRunning transaction\r\n  Preparing        :                                                                                                                        1/1 \r\n  Running scriptlet: couchdb-3.3.1-1.el8.x86_64                                                                                             1/1 \r\n  Installing       : couchdb-3.3.1-1.el8.x86_64                                                                                             1/1 \r\n  Running scriptlet: couchdb-3.3.1-1.el8.x86_64                                                                                             1/1 \r\nGenerating random cookie value.\r\n\r\n  Verifying        : couchdb-3.3.1-1.el8.x86_64                                                                                             1/1 \r\n\r\nInstalled:\r\n  couchdb-3.3.1-1.el8.x86_64                                                                                                                    \r\n\r\nComplete!\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1378974246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1379020145","html_url":"https://github.com/apache/couchdb/issues/4368#issuecomment-1379020145","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4368","id":1379020145,"node_id":"IC_kwDOAAMmUc5SMi1x","user":{"login":"guillermo-jano","id":47788757,"node_id":"MDQ6VXNlcjQ3Nzg4NzU3","avatar_url":"https://avatars.githubusercontent.com/u/47788757?v=4","gravatar_id":"","url":"https://api.github.com/users/guillermo-jano","html_url":"https://github.com/guillermo-jano","followers_url":"https://api.github.com/users/guillermo-jano/followers","following_url":"https://api.github.com/users/guillermo-jano/following{/other_user}","gists_url":"https://api.github.com/users/guillermo-jano/gists{/gist_id}","starred_url":"https://api.github.com/users/guillermo-jano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guillermo-jano/subscriptions","organizations_url":"https://api.github.com/users/guillermo-jano/orgs","repos_url":"https://api.github.com/users/guillermo-jano/repos","events_url":"https://api.github.com/users/guillermo-jano/events{/privacy}","received_events_url":"https://api.github.com/users/guillermo-jano/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-11T15:58:10Z","updated_at":"2023-01-11T15:58:10Z","author_association":"NONE","body":"Yes both EL 7 and 8 3.3.1-1 packages seem to be signed now. Thanks for fixing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1379020145/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1380718306","html_url":"https://github.com/apache/couchdb/pull/4370#issuecomment-1380718306","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4370","id":1380718306,"node_id":"IC_kwDOAAMmUc5STBbi","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-12T16:55:47Z","updated_at":"2023-01-12T19:18:16Z","author_association":"CONTRIBUTOR","body":"@rnewson good question, I should have explained that a bit better in the commit.\r\n\r\nThat is to preserve an already existing behavior which we had in the replicator without _bulk_get usage for more than 2 years. It was introduced here: https://github.com/apache/couchdb/pull/2426 related to these issues https://github.com/apache/couchdb/issues/2415 and https://github.com/apache/couchdb/issues/2413\r\n\r\nEDIT: updated commit and PR comment with the references as well","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1380718306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1380862162","html_url":"https://github.com/apache/couchdb/pull/4370#issuecomment-1380862162","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4370","id":1380862162,"node_id":"IC_kwDOAAMmUc5STkjS","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-12T18:49:47Z","updated_at":"2023-01-12T18:49:47Z","author_association":"CONTRIBUTOR","body":"Updated with the minor optimization and added references in the commit message and PR comment to the previous PR which introduced this behavior and the related issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1380862162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1381071910","html_url":"https://github.com/apache/couchdb/issues/4373#issuecomment-1381071910","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4373","id":1381071910,"node_id":"IC_kwDOAAMmUc5SUXwm","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-12T22:39:12Z","updated_at":"2023-01-12T22:39:12Z","author_association":"CONTRIBUTOR","body":"Perhaps we're hitting a limit somewhere - disk usage, CPU, network. What about other requests, just _revs_diffs or do _bulk_docs also do this sometimes?\r\n\r\nSee if there is a log on the server with that timestamp. Is there a difference between payloads (bodies) between the succeeding requests and failing ones?\r\n\r\nAlso, 3.3.1 has a few _revs_diff optimizations, if you have a chance could try experimenting upgrading on a test instance to see if you still see the same issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1381071910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1382003048","html_url":"https://github.com/apache/couchdb/pull/4370#issuecomment-1382003048","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4370","id":1382003048,"node_id":"IC_kwDOAAMmUc5SX7Fo","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-13T15:15:16Z","updated_at":"2023-01-13T15:15:16Z","author_association":"MEMBER","body":"@nickva thanks for the links. It still seems to be a (perhaps necessary) hack around a problem elsewhere. We should do The Right Thing for any _bulk_doc write that writes multiple design documents. It is not right imo to just teach our replicator to avoid triggering those bugs, no other client will be similarly protected.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1382003048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1382047815","html_url":"https://github.com/apache/couchdb/pull/4370#issuecomment-1382047815","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4370","id":1382047815,"node_id":"IC_kwDOAAMmUc5SYGBH","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-13T15:54:59Z","updated_at":"2023-01-13T15:56:58Z","author_association":"CONTRIBUTOR","body":"@rnewson with the replicator we are trying to be compatible even with old, or possibly broken clients. But most of all, in this PR, we are trying to bring back the previous behavior before the recent _bulk_get optimization. Currently, it's odd that the there is a difference based on whether `[replicator] use_bulk_get` is toggled or not.\r\n\r\nSo agree, we should do the right thing, but it should be in a separate PR. If we don't want this behavior we'd rip it out regardless of _bulk_get feature usage.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1382047815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1383086115","html_url":"https://github.com/apache/couchdb/issues/4375#issuecomment-1383086115","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4375","id":1383086115,"node_id":"IC_kwDOAAMmUc5ScDgj","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-15T08:20:50Z","updated_at":"2023-01-15T16:40:15Z","author_association":"CONTRIBUTOR","body":"Thanks for your report. Unfortunately we have not built the packages for arm64 for Ubuntu. Currently the only deb packages with arm64 support is Debian Bullseye [couchdb_3.3.1~bullseye_arm64.deb](https://apache.jfrog.io/artifactory/couchdb-deb/pool/C/CouchDB/couchdb_3.3.1~bullseye_arm64.deb)\r\n\r\nThe whole list looks like:\r\n```\r\n couchdb_3.3.1~bionic_amd64.deb \r\n couchdb_3.3.1~bullseye_amd64.deb\r\n couchdb_3.3.1~bullseye_arm64.deb\r\n couchdb_3.3.1~bullseye_ppc64el.deb\r\n couchdb_3.3.1~buster_amd64.deb\r\n couchdb_3.3.1~focal_amd64.deb\r\n couchdb_3.3.1~jammy_amd64.deb\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1383086115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1383646471","html_url":"https://github.com/apache/couchdb/issues/4372#issuecomment-1383646471","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4372","id":1383646471,"node_id":"IC_kwDOAAMmUc5SeMUH","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-16T08:18:00Z","updated_at":"2023-01-16T08:18:00Z","author_association":"CONTRIBUTOR","body":"If you install Spidermonkey v91 with homebrew, the error should be gone.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1383646471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1383693014","html_url":"https://github.com/apache/couchdb/issues/4372#issuecomment-1383693014","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4372","id":1383693014,"node_id":"IC_kwDOAAMmUc5SeXrW","user":{"login":"nenadra","id":36261644,"node_id":"MDQ6VXNlcjM2MjYxNjQ0","avatar_url":"https://avatars.githubusercontent.com/u/36261644?v=4","gravatar_id":"","url":"https://api.github.com/users/nenadra","html_url":"https://github.com/nenadra","followers_url":"https://api.github.com/users/nenadra/followers","following_url":"https://api.github.com/users/nenadra/following{/other_user}","gists_url":"https://api.github.com/users/nenadra/gists{/gist_id}","starred_url":"https://api.github.com/users/nenadra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nenadra/subscriptions","organizations_url":"https://api.github.com/users/nenadra/orgs","repos_url":"https://api.github.com/users/nenadra/repos","events_url":"https://api.github.com/users/nenadra/events{/privacy}","received_events_url":"https://api.github.com/users/nenadra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-16T09:00:51Z","updated_at":"2023-01-16T09:00:51Z","author_association":"NONE","body":"Thanks, I did that and it is OK now","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1383693014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1384308086","html_url":"https://github.com/apache/couchdb/issues/4378#issuecomment-1384308086","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4378","id":1384308086,"node_id":"IC_kwDOAAMmUc5Sgt12","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-16T16:42:00Z","updated_at":"2023-01-16T16:42:00Z","author_association":"CONTRIBUTOR","body":"@tophe the reason is likely because of how the default channels were disabled by removing them from the config. As of 3.3 those channel are always present (to allow adding new default system channel to the list). If you don't want the them to be active, you may set their `concurrency` to 0 as a better way to disable them. But removing from the config list doesn't work a disabling mechanism any longer.\r\n\r\nSo you could try doing:\r\n\r\n```\r\n[smoosh.$channel]\r\nconcurrency = 0\r\n...\r\n```\r\n\r\nWhere `$channel` could be one of `upgrade_dbs, ratio_dbs,slack_dbs, upgrade_views, ratio_views, slack_views, index_cleanup` + other custom channels you may have.\r\n\r\nAnother reason, I which may affect you is the change in the size calculation. Previously the document bodies which would have been deleted during compaction would have counted for the active size calculation. That is no longer the case. See the commit https://github.com/apache/couchdb/pull/4264 for more details. You may have to adjust your ratio value if it was previously set too low accounting for how the active size was erroneously inflated. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1384308086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385202465","html_url":"https://github.com/apache/couchdb/issues/4378#issuecomment-1385202465","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4378","id":1385202465,"node_id":"IC_kwDOAAMmUc5SkIMh","user":{"login":"tophe","id":55964,"node_id":"MDQ6VXNlcjU1OTY0","avatar_url":"https://avatars.githubusercontent.com/u/55964?v=4","gravatar_id":"","url":"https://api.github.com/users/tophe","html_url":"https://github.com/tophe","followers_url":"https://api.github.com/users/tophe/followers","following_url":"https://api.github.com/users/tophe/following{/other_user}","gists_url":"https://api.github.com/users/tophe/gists{/gist_id}","starred_url":"https://api.github.com/users/tophe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tophe/subscriptions","organizations_url":"https://api.github.com/users/tophe/orgs","repos_url":"https://api.github.com/users/tophe/repos","events_url":"https://api.github.com/users/tophe/events{/privacy}","received_events_url":"https://api.github.com/users/tophe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T10:42:50Z","updated_at":"2023-01-17T10:42:50Z","author_association":"NONE","body":"\r\nso, I have disable the \r\n[smoosh.upgrade_dbs]\r\nconcurrency = 0\r\ndon't change anything.\r\n\r\nthen\r\n[smoosh.ratio_dbs]\r\nconcurrency = 0\r\ndon't change anything\r\n\r\nthen\r\n[smoosh.slack_dbs]\r\nconcurrency = 0\r\n\r\noh great the compaction stop on restart. So I guess the problem come from slack_dbs, but looking to the documentation.\r\nI don't find anything about him.\r\nI have updated all my configurations removing the slack_dbs channel, and everything run fine now.\r\nHaving some mention about that in documentation, could be a great help.\r\n\r\n@nickva thank you for your help, issue closed.\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385202465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385324941","html_url":"https://github.com/apache/couchdb/issues/4373#issuecomment-1385324941","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4373","id":1385324941,"node_id":"IC_kwDOAAMmUc5SkmGN","user":{"login":"chiraganand","id":678876,"node_id":"MDQ6VXNlcjY3ODg3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/678876?v=4","gravatar_id":"","url":"https://api.github.com/users/chiraganand","html_url":"https://github.com/chiraganand","followers_url":"https://api.github.com/users/chiraganand/followers","following_url":"https://api.github.com/users/chiraganand/following{/other_user}","gists_url":"https://api.github.com/users/chiraganand/gists{/gist_id}","starred_url":"https://api.github.com/users/chiraganand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chiraganand/subscriptions","organizations_url":"https://api.github.com/users/chiraganand/orgs","repos_url":"https://api.github.com/users/chiraganand/repos","events_url":"https://api.github.com/users/chiraganand/events{/privacy}","received_events_url":"https://api.github.com/users/chiraganand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T12:05:09Z","updated_at":"2023-01-17T12:05:09Z","author_association":"NONE","body":"> Perhaps we're hitting a limit somewhere - disk usage, CPU, network. What about other requests, just _revs_diffs or do _bulk_docs also do this sometimes?\r\n\r\nI checked `_revs_diff` endpoint by running JMeter (10 threads x 100 iterations) and it kind of hangs after some 700 requests. The request times out after 120 seconds or so even before making a connection. Though I could not see any load increase on the server. No CPU waiting times, enough physical memory available, and enough bandwidth available.\r\n\r\n> See if there is a log on the server with that timestamp. Is there a difference between payloads (bodies) between the succeeding requests and failing ones?\r\n\r\nNo, I used the same request.\r\n\r\n> Also, 3.3.1 has a few _revs_diff optimizations, if you have a chance could try experimenting upgrading on a test instance to see if you still see the same issue.\r\n\r\nYes, will try this. Just want to gather some more evidence before trying with the new Couch version.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385324941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385473347","html_url":"https://github.com/apache/couchdb/pull/4380#issuecomment-1385473347","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4380","id":1385473347,"node_id":"IC_kwDOAAMmUc5SlKVD","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T14:03:08Z","updated_at":"2023-01-17T14:03:08Z","author_association":"CONTRIBUTOR","body":"Hi, we should always port changes in configure and Makefile to the windows powershell scripts tooâ€¦","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385473347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385486336","html_url":"https://github.com/apache/couchdb/pull/4380#issuecomment-1385486336","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4380","id":1385486336,"node_id":"IC_kwDOAAMmUc5SlNgA","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T14:11:07Z","updated_at":"2023-01-17T14:11:07Z","author_association":"CONTRIBUTOR","body":"Oh, and it seems I also did not consider the `--skip-deps` flag either.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385486336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385488222","html_url":"https://github.com/apache/couchdb/pull/4380#issuecomment-1385488222","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4380","id":1385488222,"node_id":"IC_kwDOAAMmUc5SlN9e","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T14:12:19Z","updated_at":"2023-01-17T14:12:19Z","author_association":"CONTRIBUTOR","body":"Hi @big-r81 : I tried to mention that this is for Unix-based systems -- I do not have a Windows instance around to experiment with the changes.  But I can take a chance with that.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385488222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385496488","html_url":"https://github.com/apache/couchdb/pull/4380#issuecomment-1385496488","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4380","id":1385496488,"node_id":"IC_kwDOAAMmUc5SlP-o","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T14:17:31Z","updated_at":"2023-01-17T14:18:10Z","author_association":"CONTRIBUTOR","body":"It's only a reminder, because it ends in like #4376 and #4377. We hopefully have our Windows CI soon in our Jenkins-[Pipeline](https://github.com/apache/couchdb/pull/4371)... ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385496488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385507303","html_url":"https://github.com/apache/couchdb/pull/4380#issuecomment-1385507303","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4380","id":1385507303,"node_id":"IC_kwDOAAMmUc5SlSnn","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T14:25:09Z","updated_at":"2023-01-17T14:25:09Z","author_association":"CONTRIBUTOR","body":"Sure, I am happy to consider the Windows bits as well.  Maybe I can find a Windows system somewhere to poke around with this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385507303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385509568","html_url":"https://github.com/apache/couchdb/pull/4380#issuecomment-1385509568","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4380","id":1385509568,"node_id":"IC_kwDOAAMmUc5SlTLA","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T14:26:51Z","updated_at":"2023-01-17T14:26:51Z","author_association":"CONTRIBUTOR","body":"@big-r81 do you have any ideas why this current version fails on the CI?  Initially I thought that is due to `--skip-deps` but by browsing the code, it seems to be unrelated.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385509568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385520096","html_url":"https://github.com/apache/couchdb/pull/4380#issuecomment-1385520096","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4380","id":1385520096,"node_id":"IC_kwDOAAMmUc5SlVvg","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T14:34:30Z","updated_at":"2023-01-17T14:34:30Z","author_association":"CONTRIBUTOR","body":"Are these the only possibilities for the paths? On my macOs it's\r\n```\r\n/usr/local/Cellar/spidermonkey/91.13.0_1/include/mozjs-91/\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385520096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385529390","html_url":"https://github.com/apache/couchdb/pull/4380#issuecomment-1385529390","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4380","id":1385529390,"node_id":"IC_kwDOAAMmUc5SlYAu","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T14:40:32Z","updated_at":"2023-01-17T14:40:32Z","author_association":"CONTRIBUTOR","body":"Hrm, that is interesting.  I have checked the corresponding `rebar` scripts and only these paths were included on the C compiler flags.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385529390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385538700","html_url":"https://github.com/apache/couchdb/pull/4380#issuecomment-1385538700","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4380","id":1385538700,"node_id":"IC_kwDOAAMmUc5SlaSM","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T14:46:24Z","updated_at":"2023-01-17T14:50:06Z","author_association":"CONTRIBUTOR","body":"Yeah, I'm wondering too atm...\r\n\r\nUpdate:\r\n`/usr/local/include/mozjs-*` is symlinked by homebrew...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385538700/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385724686","html_url":"https://github.com/apache/couchdb/issues/4378#issuecomment-1385724686","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4378","id":1385724686,"node_id":"IC_kwDOAAMmUc5SmHsO","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-17T16:52:49Z","updated_at":"2023-01-17T16:52:49Z","author_association":"CONTRIBUTOR","body":"Thank you for reaching out, @tophe. Good idea to add this info documentation, that's would have helped in this case.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1385724686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1386434026","html_url":"https://github.com/apache/couchdb/pull/4382#issuecomment-1386434026","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4382","id":1386434026,"node_id":"IC_kwDOAAMmUc5So03q","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T03:31:00Z","updated_at":"2023-01-18T03:31:00Z","author_association":"CONTRIBUTOR","body":"Closing PR now that the check is complete.\r\n\r\nPulled out the Jenkinsfile.pr bit into a separate PR https://github.com/apache/couchdb/pull/4383 to help the original one make progress.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1386434026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1386457446","html_url":"https://github.com/apache/couchdb/pull/4380#issuecomment-1386457446","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4380","id":1386457446,"node_id":"IC_kwDOAAMmUc5So6lm","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T04:08:15Z","updated_at":"2023-01-18T04:08:15Z","author_association":"CONTRIBUTOR","body":"I extracted the commit which modified the `Jenkinsfile.pr` into a separate PR to allow this PR to run in the CI again https://github.com/apache/couchdb/pull/4383","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1386457446/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1387150304","html_url":"https://github.com/apache/couchdb/issues/4376#issuecomment-1387150304","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4376","id":1387150304,"node_id":"IC_kwDOAAMmUc5Srjvg","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T14:20:02Z","updated_at":"2023-01-18T14:20:02Z","author_association":"CONTRIBUTOR","body":"Update:\r\n\r\nDiscussion with Robert on Slack:\r\n> weatherreport was built with Linux in mind and nothing else afaicr\r\nsince it was for when Cloudant had customers running a build local to them, we needed a tool to extract basic \"wtf\" info. and we only permitted installs on Linux.\r\n\r\nIt seems, the weatherreport needs some linux tools (ps) to work. These needs to be evaluated to find a equivalent for Windows with the same function/command output.\r\n\r\nTo get weatherreport running, there needs to be added the following files:\r\n\r\n`bin/weatherreport.cmd` (Needs to be created, when CouchDB compiles):\r\n```\r\n@echo off\r\nescript.exe \"%~dpn0\" %*\r\n```\r\n\r\n`Makefile.win`:\r\n```\r\nindex a897554e7..55c4f3b33 100644\r\n--- a/Makefile.win\r\n+++ b/Makefile.win\r\n@@ -97,7 +97,7 @@ TEST_OPTS=-c startup_jitter=0 -c default_security=admin_local\r\n\r\n .PHONY: all\r\n # target: all - Build everything\r\n-all: couch fauxton docs\r\n+all: couch fauxton docs escriptize\r\n\r\n\r\n ################################################################################\r\n@@ -124,6 +124,11 @@ endif\r\n # target: fauxton - Build Fauxton web UI\r\n fauxton: share\\www\r\n\r\n+.PHONY: escriptize\r\n+# target: escriptize - Build CLI tools\r\n+escriptize: couch\r\n+       @$(REBAR) -r escriptize apps=weatherreport\r\n+       @cp src/weatherreport/weatherreport bin/weatherreport\r\n\r\n ################################################################################\r\n # Testing\r\n@@ -264,6 +269,11 @@ mango-test: devclean all\r\n                .venv\\Scripts\\pip.exe install -r requirements.txt\r\n        @cd src\\mango && .venv\\Scripts\\python.exe ..\\..\\dev\\run -n 1 --admin=testuser:testpass .venv\\Scripts\\nose2\r\n\r\n+.PHONY: weatherreport-test\r\n+# target: weatherreport-test - Run weatherreport against dev cluster\r\n+weatherreport-test: devclean escriptize\r\n+       @dev\\run -n 1 -a adm:pass --no-eval \\\r\n+               'bin\\weatherreport --etc dev\\lib\\node1\\etc --level error'\r\n\r\n ################################################################################\r\n # Developing\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1387150304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1387223459","html_url":"https://github.com/apache/couchdb/pull/4387#issuecomment-1387223459","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4387","id":1387223459,"node_id":"IC_kwDOAAMmUc5Sr1mj","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T15:07:39Z","updated_at":"2023-01-18T15:07:39Z","author_association":"CONTRIBUTOR","body":"Use the `jenkins-*`-like branch name so the full CI will run on the PR. That's a good way to test full CI changes in a PR.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1387223459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1387497652","html_url":"https://github.com/apache/couchdb/issues/4385#issuecomment-1387497652","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4385","id":1387497652,"node_id":"IC_kwDOAAMmUc5Ss4i0","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T18:08:28Z","updated_at":"2023-01-18T18:08:28Z","author_association":"CONTRIBUTOR","body":"@tophe thanks for your report.\r\n\r\nI had tried setting up a local replication with the 3.3.1 release and I couldn't not reproduce the same issue.\r\n\r\nI had created database a and b then continuous replication a ->b. Added 3 docs to a and they were replicated to b. In about 10-30 seconds the replication checkpointed. \r\n\r\n```\r\n[notice] 2023-01-18T17:56:53.418762Z couchdb@127.0.0.1 <0.2488.0> 95114e5b09 localhost:5984 127.0.0.1 adm POST /_replicator 201 ok 63\r\n[notice] 2023-01-18T17:56:53.434113Z couchdb@127.0.0.1 <0.452.0> -------- couch_replicator_scheduler: Job {\"0a62088f656e39570a8b89ff61c55a32\",\"+continuous\"} started as <0.3587.0>\r\n[notice] 2023-01-18T17:56:54.160151Z couchdb@127.0.0.1 <0.3587.0> -------- Starting replication 0a62088f656e39570a8b89ff61c55a32+continuous (http://localhost:5984/a/ -> http://localhost:5984/b/) from doc _replicator:a_b worker_procesess:4 worker_batch_size:500 session_id:3835f379fc390834e23283ac1ee96921\r\n[notice] 2023-01-18T17:56:54.160194Z couchdb@127.0.0.1 <0.3587.0> -------- Document `a_b` triggered replication `0a62088f656e39570a8b89ff61c55a32+continuous`\r\n[notice] 2023-01-18T17:57:04.154748Z couchdb@127.0.0.1 <0.3508.0> adf93f2899 localhost:5984 127.0.0.1 adm GET /a/_changes?feed=continuous&style=all_docs&since=0&timeout=10000 200 ok 10002\r\n[notice] 2023-01-18T17:57:10.375115Z couchdb@127.0.0.1 <0.3848.0> f244ad9969 127.0.0.1:5984 127.0.0.1 adm PUT /a/doc1 201 ok 45\r\n[notice] 2023-01-18T17:57:10.380111Z couchdb@127.0.0.1 <0.3508.0> b9e856c7f2 localhost:5984 127.0.0.1 adm POST /b/_revs_diff 200 ok 3\r\n[notice] 2023-01-18T17:57:10.383908Z couchdb@127.0.0.1 <0.3508.0> dbd855b8ef localhost:5984 127.0.0.1 adm POST /a/_bulk_get?latest=true&revs=true&attachments=false 200 ok 3\r\n[notice] 2023-01-18T17:57:10.429121Z couchdb@127.0.0.1 <0.3508.0> 2d0a333f54 localhost:5984 127.0.0.1 adm POST /b/_bulk_docs 201 ok 45\r\n[notice] 2023-01-18T17:57:13.487160Z couchdb@127.0.0.1 <0.3934.0> a9b147a109 127.0.0.1:5984 127.0.0.1 adm PUT /a/doc2 201 ok 45\r\n[notice] 2023-01-18T17:57:13.489662Z couchdb@127.0.0.1 <0.3508.0> 63619c5d6c localhost:5984 127.0.0.1 adm POST /b/_revs_diff 200 ok 1\r\n[notice] 2023-01-18T17:57:13.491367Z couchdb@127.0.0.1 <0.3508.0> c0cacc79b7 localhost:5984 127.0.0.1 adm POST /a/_bulk_get?latest=true&revs=true&attachments=false 200 ok 1\r\n[notice] 2023-01-18T17:57:13.535906Z couchdb@127.0.0.1 <0.3508.0> 2d41df816b localhost:5984 127.0.0.1 adm POST /b/_bulk_docs 201 ok 44\r\n[notice] 2023-01-18T17:57:16.258849Z couchdb@127.0.0.1 <0.3996.0> 2d94c3294d 127.0.0.1:5984 127.0.0.1 adm PUT /a/doc3 201 ok 47\r\n[notice] 2023-01-18T17:57:16.261490Z couchdb@127.0.0.1 <0.3508.0> e31b4295ae localhost:5984 127.0.0.1 adm POST /b/_revs_diff 200 ok 1\r\n[notice] 2023-01-18T17:57:16.263704Z couchdb@127.0.0.1 <0.3508.0> ff5130158b localhost:5984 127.0.0.1 adm POST /a/_bulk_get?latest=true&revs=true&attachments=false 200 ok 2\r\n[notice] 2023-01-18T17:57:16.308776Z couchdb@127.0.0.1 <0.3508.0> cca6245826 localhost:5984 127.0.0.1 adm POST /b/_bulk_docs 201 ok 44\r\n[notice] 2023-01-18T17:57:24.150590Z couchdb@127.0.0.1 <0.3508.0> 28eb6a2108 localhost:5984 127.0.0.1 adm POST /b/_ensure_full_commit 201 ok 1\r\n[notice] 2023-01-18T17:57:24.153638Z couchdb@127.0.0.1 <0.4101.0> 058625e2ed localhost:5984 127.0.0.1 adm POST /a/_ensure_full_commit 201 ok 1\r\n[notice] 2023-01-18T17:57:24.153885Z couchdb@127.0.0.1 <0.3587.0> -------- recording a checkpoint for `http://localhost:5984/a/` -> `http://localhost:5984/b/` at source update_seq <<\"3-g1AAAACbeJzLYWBgYMpgTmEQTM4vTc5ISXIwNDLXMwBCwxyQVCJDUv3___-zMpgTmXKBAuwpSZYpKYZG2DTgMSaPBUgyNACp_1DTGMGmGSUbpJqlpWLTlwUAQGgo3g\">>\r\n[notice] 2023-01-18T17:57:24.201998Z couchdb@127.0.0.1 <0.4101.0> 755dff440c localhost:5984 127.0.0.1 adm PUT /a/_local/0a62088f656e39570a8b89ff61c55a32 201 ok 44\r\n[notice] 2023-01-18T17:57:24.247853Z couchdb@127.0.0.1 <0.4101.0> d74241de62 localhost:5984 127.0.0.1 adm PUT /b/_local/0a62088f656e39570a8b89ff61c55a32 201 ok 45\r\n```\r\n\r\nThen I stopped the server and restarted it.\r\n\r\n```\r\n[notice] 2023-01-18T17:59:42.941977Z couchdb@127.0.0.1 <0.463.0> -------- couch_replicator_scheduler: Job {\"0a62088f656e39570a8b89ff61c55a32\",\"+continuous\"} started as <0.604.0>\r\n[notice] 2023-01-18T17:59:47.455475Z couchdb@127.0.0.1 <0.621.0> 6ac77267da localhost:5984 127.0.0.1 undefined POST /_session 200 ok 22\r\n[notice] 2023-01-18T17:59:47.486406Z couchdb@127.0.0.1 <0.621.0> cdc7a9e140 localhost:5984 127.0.0.1 adm GET /a/ 200 ok 30\r\n[notice] 2023-01-18T17:59:47.487452Z couchdb@127.0.0.1 <0.621.0> 67d6faf300 localhost:5984 127.0.0.1 undefined POST /_session 200 ok 1\r\n[notice] 2023-01-18T17:59:47.490253Z couchdb@127.0.0.1 <0.621.0> f51f7e3d93 localhost:5984 127.0.0.1 adm GET /b/ 200 ok 2\r\n[notice] 2023-01-18T17:59:47.491681Z couchdb@127.0.0.1 <0.621.0> 3590309197 localhost:5984 127.0.0.1 adm GET /a/ 200 ok 1\r\n[notice] 2023-01-18T17:59:47.492940Z couchdb@127.0.0.1 <0.621.0> 4e4b45f4cd localhost:5984 127.0.0.1 adm GET /b/ 200 ok 1\r\n[notice] 2023-01-18T17:59:47.494291Z couchdb@127.0.0.1 <0.621.0> bdecdebada localhost:5984 127.0.0.1 adm GET /a/_local/0a62088f656e39570a8b89ff61c55a32 200 ok 1\r\n[notice] 2023-01-18T17:59:47.495478Z couchdb@127.0.0.1 <0.621.0> 6fd838bdff localhost:5984 127.0.0.1 adm GET /b/_local/0a62088f656e39570a8b89ff61c55a32 200 ok 1\r\n[notice] 2023-01-18T17:59:47.507424Z couchdb@127.0.0.1 <0.622.0> 9347dc859c localhost:5984 127.0.0.1 adm GET /a/ 200 ok 1\r\n[notice] 2023-01-18T17:59:47.507672Z couchdb@127.0.0.1 <0.604.0> -------- Starting replication 0a62088f656e39570a8b89ff61c55a32+continuous (http://localhost:5984/a/ -> http://localhost:5984/b/) from doc _replicator:a_b worker_procesess:4 worker_batch_size:500 session_id:f3d85f800e7e5346b0ec12cd82fe5e76\r\n[notice] 2023-01-18T17:59:47.507709Z couchdb@127.0.0.1 <0.604.0> -------- Document `a_b` triggered replication `0a62088f656e39570a8b89ff61c55a32+continuous`\r\n...\r\n[notice] 2023-01-18T17:59:57.501970Z couchdb@127.0.0.1 <0.621.0> 0bc5cc2eeb localhost:5984 127.0.0.1 adm GET /a/_changes?feed=continuous&style=all_docs&since=3-g1AAAACbeJzLYWBgYMpgTmEQTM4vTc5ISXIwNDLXMwBCwxyQVCJDUv3___-zMpgTmXKBAuwpSZYpKYZG2DTgMSaPBUgyNACp_1DTGMGmGSUbpJqlpWLTlwUAQGgo3g&timeout=10000 200 ok 10003\r\n```\r\n\r\nAfter restart, it re-read the `_local/...` checkpoints and continued on starting `_changes` with `since=3-g1AAAAC...`\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1387497652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1387498995","html_url":"https://github.com/apache/couchdb/issues/4385#issuecomment-1387498995","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4385","id":1387498995,"node_id":"IC_kwDOAAMmUc5Ss43z","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T18:09:40Z","updated_at":"2023-01-18T18:09:40Z","author_association":"CONTRIBUTOR","body":"@tophe would you be able to share more details how to reproduce the issue or show some sanitized logs.  See if there are any errors / exceptions in the logs which may prevent checkpointing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1387498995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1396062541","html_url":"https://github.com/apache/couchdb/issues/4259#issuecomment-1396062541","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4259","id":1396062541,"node_id":"IC_kwDOAAMmUc5TNjlN","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T20:44:23Z","updated_at":"2023-01-18T20:44:23Z","author_association":"CONTRIBUTOR","body":"@Tom-python0121 sorry for the delayed response. It looks like there is some exception throw. The eunit (the test framework used to run the tests) dumps extra logs in `src/$app/.eunit/couch.log`. In this case it looks like it might be `src/chttpd/.eunit/couch.log`. See if there are any errors or exception there? Since it involves view tests I suspect the spidermonkey (couch js runtime) might not linked or built properly. \r\n\r\nTo run just one test module could try:\r\n\r\n```\r\n $ make && make eunit apps=chttpd suites=chttpd_view_test\r\n $ cat src/chttpd/.eunit/couch.log\r\n```\r\n\r\nreq_timedout might also have sometime to do with network or socket setup not working properly and either the server unable to bind to a socket to listen or the test client from reaching the server.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1396062541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1396069370","html_url":"https://github.com/apache/couchdb/issues/4373#issuecomment-1396069370","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4373","id":1396069370,"node_id":"IC_kwDOAAMmUc5TNlP6","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-18T20:50:33Z","updated_at":"2023-01-18T20:50:33Z","author_association":"CONTRIBUTOR","body":"It's strange that it times out before even making a connection. \r\n\r\nCould try also tweaking the number of replication workers, maybe try 1 instead of 4\r\n\r\nhttps://docs.couchdb.org/en/stable/config/replicator.html\r\n\r\n```\r\n[replicator]\r\nworker_processes = 1\r\n```\r\n\r\nOr try increasing or decreasing the number of connections:\r\n```\r\n[replicator]\r\nhttp_connections = 40\r\n```\r\n\r\nIf there are proxies in between they could also be blocking or timing out the connections. It might help inspecting logs there for connection states.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1396069370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1396964894","html_url":"https://github.com/apache/couchdb/issues/4385#issuecomment-1396964894","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4385","id":1396964894,"node_id":"IC_kwDOAAMmUc5TQ_4e","user":{"login":"tophe","id":55964,"node_id":"MDQ6VXNlcjU1OTY0","avatar_url":"https://avatars.githubusercontent.com/u/55964?v=4","gravatar_id":"","url":"https://api.github.com/users/tophe","html_url":"https://github.com/tophe","followers_url":"https://api.github.com/users/tophe/followers","following_url":"https://api.github.com/users/tophe/following{/other_user}","gists_url":"https://api.github.com/users/tophe/gists{/gist_id}","starred_url":"https://api.github.com/users/tophe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tophe/subscriptions","organizations_url":"https://api.github.com/users/tophe/orgs","repos_url":"https://api.github.com/users/tophe/repos","events_url":"https://api.github.com/users/tophe/events{/privacy}","received_events_url":"https://api.github.com/users/tophe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T13:18:24Z","updated_at":"2023-01-19T13:18:24Z","author_association":"NONE","body":"hello, \r\n\r\nI have do many test stopping and starting all the replication nodes in different order and I can't reproduce the problem, it seem every things are working fine. After restart replication start from their last checkpoint, and start quickly, and run quite fast in 3.3.1.\r\n\r\nPerhaps this was caused by the upgrade from 3.2.1 to 3.3.1 which restart replication from beginning in the upgrade process ? I see that on many node.\r\n\r\nthank's for your help (and for that great peace of code). I close the issue.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1396964894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1397041792","html_url":"https://github.com/apache/couchdb/issues/4385#issuecomment-1397041792","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4385","id":1397041792,"node_id":"IC_kwDOAAMmUc5TRSqA","user":{"login":"tophe","id":55964,"node_id":"MDQ6VXNlcjU1OTY0","avatar_url":"https://avatars.githubusercontent.com/u/55964?v=4","gravatar_id":"","url":"https://api.github.com/users/tophe","html_url":"https://github.com/tophe","followers_url":"https://api.github.com/users/tophe/followers","following_url":"https://api.github.com/users/tophe/following{/other_user}","gists_url":"https://api.github.com/users/tophe/gists{/gist_id}","starred_url":"https://api.github.com/users/tophe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tophe/subscriptions","organizations_url":"https://api.github.com/users/tophe/orgs","repos_url":"https://api.github.com/users/tophe/repos","events_url":"https://api.github.com/users/tophe/events{/privacy}","received_events_url":"https://api.github.com/users/tophe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T14:12:22Z","updated_at":"2023-01-19T14:12:22Z","author_association":"NONE","body":"I have just find the problem, it is docker dependent.\r\nwhen you do a docker stop/start everything is ok with replication.\r\n\r\nbut when you update the container, running a docker run, with a new container, the replication restart from the beginning. (I have made change in local.ini)\r\n\r\n[start_log.txt](https://github.com/apache/couchdb/files/10457293/start_log.txt)\r\n[checkpoint_logs.txt](https://github.com/apache/couchdb/files/10457294/checkpoint_logs.txt)\r\nI have attache some logs to the post. in checkpoint_log.txt, you can see the last checkpoint for replication lotimages_new.\r\nat g1AAAAMLeJzLYWBg4MhgTmGQSs4vTc5ISXIoLskvStVLLCopKMpMTtVLyszJAaphSmRIkv\r\nin start log, you can see  log asked from g1AAAACReJzLYWBgYMpgTmHgzcvPy09JdcjLz8gvLskBCScyJNX\r\n\r\nin futon, I can see that replication restart from beginning.\r\n\r\nare the replication checkpoints stored in /opt/couchdb/data, that is a docker binded volume, or are they stored in the container ? and if so where are they stored ? \r\n\r\nI have attach some docker config in order to reproduce my setup.\r\n[dock.zip](https://github.com/apache/couchdb/files/10457471/dock.zip)\r\n\r\nyou can download all the file and then run docker-compose build, docker-compose up to start couchdb container. \r\nset up a replication with some datas. \r\nafter checkpointing, change local.ini\r\n\r\n, and docker-compose build, docker-compose up, to redeploy a new container.\r\nthen compare starting point, with checkpoint.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1397041792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1397116512","html_url":"https://github.com/apache/couchdb/pull/4387#issuecomment-1397116512","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4387","id":1397116512,"node_id":"IC_kwDOAAMmUc5TRk5g","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T15:04:30Z","updated_at":"2023-01-19T15:04:30Z","author_association":"MEMBER","body":"PATH issue, thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1397116512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1397474748","html_url":"https://github.com/apache/couchdb/pull/4389#issuecomment-1397474748","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4389","id":1397474748,"node_id":"IC_kwDOAAMmUc5TS8W8","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T19:09:32Z","updated_at":"2023-01-19T19:09:32Z","author_association":"CONTRIBUTOR","body":"Original PR's full CI now passes. Closing this one.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1397474748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1397565505","html_url":"https://github.com/apache/couchdb/issues/4385#issuecomment-1397565505","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4385","id":1397565505,"node_id":"IC_kwDOAAMmUc5TTShB","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-19T20:32:58Z","updated_at":"2023-01-19T21:26:49Z","author_association":"CONTRIBUTOR","body":"In dock.zip I had noticed local.ini wasn't at text file but some kind of a binary.\r\n\r\n```\r\n % cat local.ini\r\nï¿½Eï¿½c'Kï¿½cnOï¿½cuxUT\r\n```\r\n\r\nOne thing to pay attention is if the replication ID changes. Based on your start_log I see that the checkpoint was *not* found for the catalogues endpoint\r\n\r\n```\r\nnotice] 2023-01-19T13:30:16.056403Z nonode@nohost <0.1150.0> 34af135719 couch1:5984 192.168.100.227 admin GET /catalogues/ 200 ok 2\r\n[notice] 2023-01-19T13:30:16.131009Z nonode@nohost <0.1150.0> fb7b32c9cd couch1:5984 192.168.100.227 admin GET /catalogues/_local/475a01ff4762aae18390232479a85acd 404 ok 16\r\n[notice] 2023-01-19T13:30:16.133231Z nonode@nohost <0.1150.0> ca52dcf06f couch1:5984 192.168.100.227 admin GET /catalogues/_local/21d33a0db3bd438bc2fe58ef3e64a1a7 404 ok 2\r\n[notice] 2023-01-19T13:30:16.171877Z nonode@nohost <0.1150.0> 9adcacce61 couch1:5984 192.168.100.227 admin GET /catalogues/_local/9dea40c7f506f19799311d927b321449 404 ok 38\r\n[notice] 2023-01-19T13:30:16.173819Z nonode@nohost <0.1150.0> 0ab11d84ae couch1:5984 192.168.100.227 admin GET /catalogues/_local/294224beca58e21bde9e0a5676df7d05 404 ok 1\r\n```\r\n\r\nNotice the 404 on the `_local/$replicationid` docs.\r\n\r\nNot sure about lotimages_new as the logs start after \"Starting replication...\" already. \r\n\r\nSo what may be happening is your replication IDs change inadvertently when you update docker configs. If replication IDs change, that means previous checkpoints won't be found, and replication will rewind from 0. Now, if your source, target and other replication parameters stay the same it's most like the the server uuid `[couchdb] uuid = ...` value that's not consistent. The setting is described [here](https://docs.couchdb.org/en/stable/config/couchdb.html#couchdb/uuid)\r\n\r\nHere is the description on the replication ID generation algorithm: https://docs.couchdb.org/en/stable/replication/protocol.html#generate-replication-id\r\n\r\nIf that is not specified, a random value will be generated, and that would cause your replications IDs to be random every time if you spin up docker containers unless you persist your config or explicitly set `[couchdb] uuid ...`.\r\n\r\nThat value doesn't have to be a proper UUID. You could use a hostname or some other identifier that uniquely identifies the same \"cluster\". In addition, make sure it's set to the same value on all the nodes in the cluster. If you have 3 nodes (couch1, couch2, couch3 ensure uuid is the same).\r\n\r\nCheckpoints are persisted on both source and target endpoints (database) in `_local/$base_replication_id` docs. Replications will only resume from a checkpoint if it can find the checkpoint  on *both* source and target. So in your logs you could monitor for those 404s and hopefully finally it should find the last one is found (a 200 response). There are usually a few 404s expected as we try to load older versions of replication ID since the algorithm to generate has evolved at least 4 times. Then monitor if replication ID values stay the same or change.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1397565505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1398211068","html_url":"https://github.com/apache/couchdb/issues/4385#issuecomment-1398211068","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4385","id":1398211068,"node_id":"IC_kwDOAAMmUc5TVwH8","user":{"login":"tophe","id":55964,"node_id":"MDQ6VXNlcjU1OTY0","avatar_url":"https://avatars.githubusercontent.com/u/55964?v=4","gravatar_id":"","url":"https://api.github.com/users/tophe","html_url":"https://github.com/tophe","followers_url":"https://api.github.com/users/tophe/followers","following_url":"https://api.github.com/users/tophe/following{/other_user}","gists_url":"https://api.github.com/users/tophe/gists{/gist_id}","starred_url":"https://api.github.com/users/tophe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tophe/subscriptions","organizations_url":"https://api.github.com/users/tophe/orgs","repos_url":"https://api.github.com/users/tophe/repos","events_url":"https://api.github.com/users/tophe/events{/privacy}","received_events_url":"https://api.github.com/users/tophe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T10:47:28Z","updated_at":"2023-01-20T10:47:28Z","author_association":"NONE","body":"hi, \r\n\r\nsorry for the local.ini, if you have get it, you should see that I haven't set the uuid, as you guessed.\r\nI set it on each cluster, and restart. Now every thing work as expected.\r\n\r\nthank you for your support.\r\nI closed the issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1398211068/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1398652971","html_url":"https://github.com/apache/couchdb/pull/4395#issuecomment-1398652971","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4395","id":1398652971,"node_id":"IC_kwDOAAMmUc5TXcAr","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T16:46:08Z","updated_at":"2023-01-20T16:46:08Z","author_association":"MEMBER","body":"Clean bill of health & nice and fast\r\n\r\n<img width=\"617\" alt=\"Screenshot 2023-01-20 at 17 44 47\" src=\"https://user-images.githubusercontent.com/11321/213755187-48c2ef9c-4198-4c68-9524-924aee0847f4.png\">\r\n\r\n<img width=\"620\" alt=\"Screenshot 2023-01-20 at 17 45 08\" src=\"https://user-images.githubusercontent.com/11321/213755199-eb574f20-634a-429c-8951-7dd789c236c9.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1398652971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1398665264","html_url":"https://github.com/apache/couchdb/issues/4373#issuecomment-1398665264","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4373","id":1398665264,"node_id":"IC_kwDOAAMmUc5TXfAw","user":{"login":"chiraganand","id":678876,"node_id":"MDQ6VXNlcjY3ODg3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/678876?v=4","gravatar_id":"","url":"https://api.github.com/users/chiraganand","html_url":"https://github.com/chiraganand","followers_url":"https://api.github.com/users/chiraganand/followers","following_url":"https://api.github.com/users/chiraganand/following{/other_user}","gists_url":"https://api.github.com/users/chiraganand/gists{/gist_id}","starred_url":"https://api.github.com/users/chiraganand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chiraganand/subscriptions","organizations_url":"https://api.github.com/users/chiraganand/orgs","repos_url":"https://api.github.com/users/chiraganand/repos","events_url":"https://api.github.com/users/chiraganand/events{/privacy}","received_events_url":"https://api.github.com/users/chiraganand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T16:57:29Z","updated_at":"2023-01-20T16:57:29Z","author_association":"NONE","body":"I tried v3.3.1 and was able to reproduce the error exactly after 800 requests on an EC2 _m4.large VM_.\r\n\r\nSome more observations:\r\n1. If I reduced the number of concurrent threads to 5 from 10 then no request would timeout among a total of 1000 requests.\r\n2. I would not see this same behaviour on a bigger machine (_m4.xlarge_). All the 1000 requests would respond before timing out on the bigger machine with 10 concurrent threads.\r\n3. Surprisingly, I encountered the original issue while there was only one active user not 10 concurrent users. I used JMeter to pin down the problem.\r\n\r\n> If there are proxies in between they could also be blocking or timing out the connections. It might help inspecting logs there for connection states.\r\n\r\nOn _m4.large_ VM there are no proxies but on _m4.xlarge_ there is a Nginx reverse proxy.\r\n\r\nBecause of an internal requirement we had to wipe off the core databases on both the servers and I am now unable to reproduce this issue. There is not even a single error in 100 iterations with 50 concurrent threads! I guess I will populate more data and then test again.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1398665264/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1398666738","html_url":"https://github.com/apache/couchdb/issues/4373#issuecomment-1398666738","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4373","id":1398666738,"node_id":"IC_kwDOAAMmUc5TXfXy","user":{"login":"chiraganand","id":678876,"node_id":"MDQ6VXNlcjY3ODg3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/678876?v=4","gravatar_id":"","url":"https://api.github.com/users/chiraganand","html_url":"https://github.com/chiraganand","followers_url":"https://api.github.com/users/chiraganand/followers","following_url":"https://api.github.com/users/chiraganand/following{/other_user}","gists_url":"https://api.github.com/users/chiraganand/gists{/gist_id}","starred_url":"https://api.github.com/users/chiraganand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chiraganand/subscriptions","organizations_url":"https://api.github.com/users/chiraganand/orgs","repos_url":"https://api.github.com/users/chiraganand/repos","events_url":"https://api.github.com/users/chiraganand/events{/privacy}","received_events_url":"https://api.github.com/users/chiraganand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T16:58:52Z","updated_at":"2023-01-20T16:58:52Z","author_association":"NONE","body":"> Could try also tweaking the number of replication workers, maybe try 1 instead of 4\r\n> \r\n> https://docs.couchdb.org/en/stable/config/replicator.html\r\n> \r\n> ```\r\n> [replicator]\r\n> worker_processes = 1\r\n> ```\r\n> \r\n> Or try increasing or decreasing the number of connections:\r\n> \r\n> ```\r\n> [replicator]\r\n> http_connections = 40\r\n> ```\r\n\r\nCan't try these right now because I am unable to reproduce the original issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1398666738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1398677113","html_url":"https://github.com/apache/couchdb/issues/4391#issuecomment-1398677113","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4391","id":1398677113,"node_id":"IC_kwDOAAMmUc5TXh55","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-20T17:06:47Z","updated_at":"2023-01-20T17:06:47Z","author_association":"MEMBER","body":"this feature does not exist at the moment but would be a great addition. Closing in favour of the earlier https://github.com/apache/couchdb/issues/1254","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1398677113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1399405229","html_url":"https://github.com/apache/couchdb/issues/4400#issuecomment-1399405229","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4400","id":1399405229,"node_id":"IC_kwDOAAMmUc5TaTqt","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-22T04:57:58Z","updated_at":"2023-01-22T04:57:58Z","author_association":"CONTRIBUTOR","body":"That's a good idea. We've even discussed it 7 years or so ago :-)\r\n\r\nhttps://lists.apache.org/thread/kvvjodld2ly0t9rrllfd4d27pwf43hy5\r\n\r\nMy comment from 2016 was:\r\n\r\n> There has been a surprising resurgence of compression research lately with things like Brotli from Google and zstd from Facebook (http://facebook.github.io/zstd/). zstd has an interesting \"training\" mode where it can do a pass over small documents and learn a common dictionary, and CouchDB already passed over data during compaction, would that be a good time to train a compression dictionary?\r\n\r\n\r\nAt the time it wasn't sure how zstd would do, but it seems to have survived pretty well and even made its way into the Linux kernel.\r\n\r\nThat being said, if we just do the naive compression of doc bodies like we do now, it might not be worth it as there is a real future backward compatibility cost having to support another compression scheme essentially forever. It's kind of like that with snappy already. Now, one motivating factor about zstd would be if we could apply per-btree or per db compression using a dictionary. CouchDB's compaction provides a nice place to learn the dictionary and update during each compaction cycle.\r\n\r\n> CouchDB already supports multiple compression codecs (by the way, which exactly?\r\n\r\nThe current compression methods include snappy and the built-in Erlang term compression. See the [docs](https://docs.couchdb.org/en/latest/config/couchdb.html#couchdb/file_compression) for more details. The built-in Erlang compression is essentially deflate with 10 configurable levels.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1399405229/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1401511199","html_url":"https://github.com/apache/couchdb/pull/4401#issuecomment-1401511199","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4401","id":1401511199,"node_id":"IC_kwDOAAMmUc5TiV0f","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-24T07:53:43Z","updated_at":"2023-01-24T07:53:43Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\nseeing this errors from `build-report` under Windows:\r\n\r\n```\r\nErrors\r\n======\r\n\r\nchttpd_changes_test:97 with (t_design_filter)\r\n---------------------------------------------\r\n\r\n::in function chttpd_changes_test:t_design_filter/1 (test/eunit/chttpd_changes_test.erl, line 373)\r\nin call from eunit_test:run_testfun/1 (eunit_test.erl, line 71)\r\nin call from eunit_proc:run_test/1 (eunit_proc.erl, line 531)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 356)\r\nin call from eunit_proc:handle_test/2 (eunit_proc.erl, line 514)\r\nin call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 456)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 346)\r\nin call from eunit_proc:run_group/2 (eunit_proc.erl, line 570)\r\n**error:{assertEqual,[{module,chttpd_changes_test},\r\n              {line,373},\r\n              {expression,\"Pending\"},\r\n              {expected,2},\r\n              {value,0}]}\r\n\r\nchttpd_changes_test:97 with (t_docs_id_filter_over_limit)\r\n---------------------------------------------------------\r\n\r\n::in function chttpd_changes_test:t_docs_id_filter_over_limit/1 (test/eunit/chttpd_changes_test.erl, line 409)\r\nin call from eunit_test:run_testfun/1 (eunit_test.erl, line 71)\r\nin call from eunit_proc:run_test/1 (eunit_proc.erl, line 531)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 356)\r\nin call from eunit_proc:handle_test/2 (eunit_proc.erl, line 514)\r\nin call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 456)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 346)\r\nin call from eunit_proc:run_group/2 (eunit_proc.erl, line 570)\r\n**error:{assertEqual,[{module,chttpd_changes_test},\r\n              {line,409},\r\n              {expression,\"meck : num_calls ( couch_changes , send_changes_doc_ids , 6 )\"},\r\n              {expected,0},\r\n              {value,1}]}\r\n\r\nchttpd_changes_test:97 with (t_design_filter)\r\n---------------------------------------------\r\n\r\n::in function chttpd_changes_test:t_design_filter/1 (test/eunit/chttpd_changes_test.erl, line 373)\r\nin call from eunit_test:run_testfun/1 (eunit_test.erl, line 71)\r\nin call from eunit_proc:run_test/1 (eunit_proc.erl, line 531)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 356)\r\nin call from eunit_proc:handle_test/2 (eunit_proc.erl, line 514)\r\nin call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 456)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 346)\r\nin call from eunit_proc:run_group/2 (eunit_proc.erl, line 570)\r\n**error:{assertEqual,[{module,chttpd_changes_test},\r\n              {line,373},\r\n              {expression,\"Pending\"},\r\n              {expected,2},\r\n              {value,0}]}\r\n\r\nchttpd_db_test:329 should_return_409_for_put_att_nonexistent_rev\r\n----------------------------------------------------------------\r\n\r\n::in function chttpd_db_test:'-should_return_409_for_put_att_nonexistent_rev/1-fun-2-'/1 (test/eunit/chttpd_db_test.erl, line 330)\r\nin call from eunit_test:run_testfun/1 (eunit_test.erl, line 71)\r\nin call from eunit_proc:run_test/1 (eunit_proc.erl, line 531)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 356)\r\nin call from eunit_proc:handle_test/2 (eunit_proc.erl, line 514)\r\nin call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 456)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 346)\r\nin call from eunit_proc:run_group/2 (eunit_proc.erl, line 570)\r\n**error:{badmatch,{error,connection_closed}}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1401511199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1402256054","html_url":"https://github.com/apache/couchdb/pull/4401#issuecomment-1402256054","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4401","id":1402256054,"node_id":"IC_kwDOAAMmUc5TlLq2","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-24T16:45:01Z","updated_at":"2023-01-24T16:45:01Z","author_association":"CONTRIBUTOR","body":"Thanks for investigating, @big-r81. Does it happen on every run or is it random?\r\n\r\nI could see how `{expression,\"Pending\"}, {expected,2}`  might happen, I think in case of a Q=8 we made too strong of an assertion that Pending will always be 2, it doesn't have to unless Q=1. I think we can relax that to Pending is an integer >= 0 and < 7.\r\n\r\nThe other ones are bit unexpected:\r\n\r\n`{expression,\"meck : num_calls ( couch_changes , send_changes_doc_ids , 6 )\"},`\r\n\r\nIndicates somehow we failed to set the config value or didn't pass the parameters correctly through in the test request. See if you run a few times in a row if keep seeing this error. I checked on other architectures and macs, arm64 and various other OS seem to pass this test consistently.\r\n\r\n> in function chttpd_db_test:'-should_return_409_for_put_att_nonexistent_rev/1-fun-2-'/1 (test/eunit/chttpd_db_test.erl, line 330)\r\nin call from eunit_test:run_testfun/1 (eunit_test.erl, line 71)\r\n\r\nThis ones looks rather generic and points to something being off with the network code and sometimes it fails unexpectedly.  `{error,connection_closed}` comes from ibrowse and just indicates that the connection Erlang process suddenly died. Wonder if we could add more debug logic to ibrowse or use Wireshark and the like to see what the connect state was and what the lower level error was.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1402256054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1402311085","html_url":"https://github.com/apache/couchdb/issues/4372#issuecomment-1402311085","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4372","id":1402311085,"node_id":"IC_kwDOAAMmUc5TlZGt","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-24T17:22:19Z","updated_at":"2023-01-24T17:22:19Z","author_association":"MEMBER","body":"this is a bug in the binary, thanks for filing!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1402311085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1402618817","html_url":"https://github.com/apache/couchdb/issues/4372#issuecomment-1402618817","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4372","id":1402618817,"node_id":"IC_kwDOAAMmUc5TmkPB","user":{"login":"nenadra","id":36261644,"node_id":"MDQ6VXNlcjM2MjYxNjQ0","avatar_url":"https://avatars.githubusercontent.com/u/36261644?v=4","gravatar_id":"","url":"https://api.github.com/users/nenadra","html_url":"https://github.com/nenadra","followers_url":"https://api.github.com/users/nenadra/followers","following_url":"https://api.github.com/users/nenadra/following{/other_user}","gists_url":"https://api.github.com/users/nenadra/gists{/gist_id}","starred_url":"https://api.github.com/users/nenadra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nenadra/subscriptions","organizations_url":"https://api.github.com/users/nenadra/orgs","repos_url":"https://api.github.com/users/nenadra/repos","events_url":"https://api.github.com/users/nenadra/events{/privacy}","received_events_url":"https://api.github.com/users/nenadra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-24T20:40:18Z","updated_at":"2023-01-24T20:40:18Z","author_association":"NONE","body":"you're welcome!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1402618817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1404264390","html_url":"https://github.com/apache/couchdb/issues/4327#issuecomment-1404264390","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4327","id":1404264390,"node_id":"IC_kwDOAAMmUc5Ts1_G","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-25T21:43:45Z","updated_at":"2023-01-25T21:43:45Z","author_association":"CONTRIBUTOR","body":"I am interested in working on this task.  Looks like I cannot assign it to myself though -- could somebody help me with this please?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1404264390/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1404268042","html_url":"https://github.com/apache/couchdb/issues/4327#issuecomment-1404268042","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4327","id":1404268042,"node_id":"IC_kwDOAAMmUc5Ts24K","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-25T21:46:36Z","updated_at":"2023-01-25T21:46:36Z","author_association":"CONTRIBUTOR","body":"@pgj thank you for taking a look at it","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1404268042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1404464875","html_url":"https://github.com/apache/couchdb/issues/4381#issuecomment-1404464875","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4381","id":1404464875,"node_id":"IC_kwDOAAMmUc5Ttm7r","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-26T01:50:55Z","updated_at":"2023-01-26T01:50:55Z","author_association":"CONTRIBUTOR","body":"Closing this, duplicate, see #4372.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1404464875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1404707413","html_url":"https://github.com/apache/couchdb/issues/3603#issuecomment-1404707413","issue_url":"https://api.github.com/repos/apache/couchdb/issues/3603","id":1404707413,"node_id":"IC_kwDOAAMmUc5TuiJV","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-26T08:54:11Z","updated_at":"2023-01-26T08:54:11Z","author_association":"MEMBER","body":"fixed by https://github.com/apache/couchdb/pull/4404","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1404707413/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1404963228","html_url":"https://github.com/apache/couchdb/pull/4406#issuecomment-1404963228","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4406","id":1404963228,"node_id":"IC_kwDOAAMmUc5Tvgmc","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-26T12:52:30Z","updated_at":"2023-01-26T12:52:30Z","author_association":"CONTRIBUTOR","body":"Runs through...\r\nSee [log](https://paste.apache.org/2b3tr).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1404963228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1405375973","html_url":"https://github.com/apache/couchdb/pull/4406#issuecomment-1405375973","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4406","id":1405375973,"node_id":"IC_kwDOAAMmUc5TxFXl","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-26T17:50:26Z","updated_at":"2023-01-26T17:50:26Z","author_association":"CONTRIBUTOR","body":"Running\r\n\r\n`.\\make.cmd eunit apps=chttpd suites=chttpd_socket_buffer_size_test,chttpd_changes_test`\r\n\r\n```\r\nCollections\r\n===========\r\n\r\n     Total    Fixture       Test      Count     Failed     Errors    Skipped\r\n     11.9s      10.5s       1.4s         40          0          0          0 EUnit        \r\n      0.0s       0.0s       0.0s          0          0          0          0 EXUnit        \r\n      0.0s       0.0s       0.0s          0          0          0          0 JavaScript        \r\n      0.0s       0.0s       0.0s          0          0          0          0 Mango        \r\n\r\nSuites\r\n======\r\n\r\n     Total    Fixture       Test      Count     Failed     Errors    Skipped\r\n     11.9s      10.5s       1.4s         38          0          0          0 EUnit - chttpd_changes_test\r\n      0.0s       0.0s       0.0s          2          0          0          0 EUnit - chttpd_socket_buffer_size_test\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1405375973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1405394166","html_url":"https://github.com/apache/couchdb/pull/4406#issuecomment-1405394166","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4406","id":1405394166,"node_id":"IC_kwDOAAMmUc5TxJz2","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-26T18:04:32Z","updated_at":"2023-01-26T18:04:32Z","author_association":"CONTRIBUTOR","body":"Would add one additional fixture setup failure...\r\n\r\n```\r\nfixture setup [39,1,1,6]\r\n------------------------\r\n\r\n::in function chttpd_security_tests:create_db/1 (test/eunit/chttpd_security_tests.erl, line 60)\r\nin call from chttpd_security_tests:setup/0 (test/eunit/chttpd_security_tests.erl, line 47)\r\n**error:{badmatch,{error,connection_closed}}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1405394166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1405420902","html_url":"https://github.com/apache/couchdb/pull/4406#issuecomment-1405420902","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4406","id":1405420902,"node_id":"IC_kwDOAAMmUc5TxQVm","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-26T18:25:18Z","updated_at":"2023-01-26T18:27:47Z","author_association":"CONTRIBUTOR","body":"> ::in function chttpd_security_tests:create_db/1 (test/eunit/chttpd_security_tests.erl, line 60)\r\nin call from chttpd_security_tests:setup/0 (test/eunit/chttpd_security_tests.erl, line 47)\r\n**error:{badmatch,{error,connection_closed}}\r\n\r\nHmm, that one is unexpected. We're just trying to create a db with a PUT and we should expect that to always work:\r\n\r\nhttps://github.com/apache/couchdb/blob/23efd8e5b1aa96ef01640fec03a5fedc945ba8b9/src/chttpd/test/eunit/chttpd_security_tests.erl#L60\r\n\r\nWith the small buffer socket test, I can see how connection might be closed suddenly or in a different way on Windows but the simple doc PUT in a security test setup points to something else going on.\r\n\r\nCould we be running out of sockets? Not sure descriptor limit a thing on Windows?. Try running just that one security test separately, wonder if that would fail.\r\n\r\nAnother idea is that there is a genuine race or bug somewhere in couch/ibrowse/mochiweb/erlang vm code that is exposed on Windows only.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1405420902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1406269856","html_url":"https://github.com/apache/couchdb/pull/4409#issuecomment-1406269856","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4409","id":1406269856,"node_id":"IC_kwDOAAMmUc5T0fmg","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-27T09:53:15Z","updated_at":"2023-01-27T09:53:15Z","author_association":"CONTRIBUTOR","body":"maybe a duplicate of #4386, as Nick mentioned, we only need Python3 installed, because the necessary packages are installed in a venv for the docs... See https://github.com/apache/couchdb/pull/4386/files#r1073714355","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1406269856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1406327167","html_url":"https://github.com/apache/couchdb/pull/4409#issuecomment-1406327167","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4409","id":1406327167,"node_id":"IC_kwDOAAMmUc5T0tl_","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-27T10:46:15Z","updated_at":"2023-01-27T10:46:15Z","author_association":"CONTRIBUTOR","body":"I believe that #4386 is for the developer instructions.  (It was inspired by that, for what it is worth.)  But this PR wants to talk about the generic \"non-developer\" instructions that users bump into when they want to build and run CouchDB on a macOS (like I did when I joined).  @nickva's argument may apply in this case as well, but I will have to double check.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1406327167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1409118690","html_url":"https://github.com/apache/couchdb/issues/1524#issuecomment-1409118690","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1524","id":1409118690,"node_id":"IC_kwDOAAMmUc5T_XHi","user":{"login":"alexandrulesi","id":37101969,"node_id":"MDQ6VXNlcjM3MTAxOTY5","avatar_url":"https://avatars.githubusercontent.com/u/37101969?v=4","gravatar_id":"","url":"https://api.github.com/users/alexandrulesi","html_url":"https://github.com/alexandrulesi","followers_url":"https://api.github.com/users/alexandrulesi/followers","following_url":"https://api.github.com/users/alexandrulesi/following{/other_user}","gists_url":"https://api.github.com/users/alexandrulesi/gists{/gist_id}","starred_url":"https://api.github.com/users/alexandrulesi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexandrulesi/subscriptions","organizations_url":"https://api.github.com/users/alexandrulesi/orgs","repos_url":"https://api.github.com/users/alexandrulesi/repos","events_url":"https://api.github.com/users/alexandrulesi/events{/privacy}","received_events_url":"https://api.github.com/users/alexandrulesi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-30T18:30:33Z","updated_at":"2023-01-30T18:30:33Z","author_association":"NONE","body":"Is there any update on this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1409118690/reactions","total_count":5,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1409175932","html_url":"https://github.com/apache/couchdb/issues/1524#issuecomment-1409175932","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1524","id":1409175932,"node_id":"IC_kwDOAAMmUc5T_lF8","user":{"login":"kripper","id":1479804,"node_id":"MDQ6VXNlcjE0Nzk4MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1479804?v=4","gravatar_id":"","url":"https://api.github.com/users/kripper","html_url":"https://github.com/kripper","followers_url":"https://api.github.com/users/kripper/followers","following_url":"https://api.github.com/users/kripper/following{/other_user}","gists_url":"https://api.github.com/users/kripper/gists{/gist_id}","starred_url":"https://api.github.com/users/kripper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kripper/subscriptions","organizations_url":"https://api.github.com/users/kripper/orgs","repos_url":"https://api.github.com/users/kripper/repos","events_url":"https://api.github.com/users/kripper/events{/privacy}","received_events_url":"https://api.github.com/users/kripper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-30T19:06:18Z","updated_at":"2023-01-30T19:06:18Z","author_association":"NONE","body":"We used the approach of storing documents in \"per-rol-databases\".\r\nPlease note that 1 user can have many roles, and 1 role can be assigned to many users.\r\nI believe for most of the use cases you can rethink your security in terms of per-role access instead of per-document access.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1409175932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1410746840","html_url":"https://github.com/apache/couchdb/issues/4327#issuecomment-1410746840","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4327","id":1410746840,"node_id":"IC_kwDOAAMmUc5UFknY","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-31T17:02:11Z","updated_at":"2023-01-31T17:02:11Z","author_association":"CONTRIBUTOR","body":"I think we should move in another direction. Move eunit tests into elixir. My 2 cents.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1410746840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1411359646","html_url":"https://github.com/apache/couchdb/issues/4327#issuecomment-1411359646","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4327","id":1411359646,"node_id":"IC_kwDOAAMmUc5UH6Oe","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-01T02:23:18Z","updated_at":"2023-02-01T02:23:18Z","author_association":"CONTRIBUTOR","body":"> I think we should move in another direction. Move eunit tests into elixir. My 2 cents.\r\n\r\nI think elixir tests were an interesting experiment, but I have found that they add to the friction of developing and maintaining CouchDB.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1411359646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1411441047","html_url":"https://github.com/apache/couchdb/issues/4327#issuecomment-1411441047","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4327","id":1411441047,"node_id":"IC_kwDOAAMmUc5UIOGX","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-01T04:15:36Z","updated_at":"2023-02-01T04:15:36Z","author_association":"CONTRIBUTOR","body":"> I think we should move in another direction. Move eunit tests into elixir. My 2 cents.\r\n\r\n@iilyak ideally, yes. But in 2-3 years we ended up with only 2 exunit files.  Elixir worked great for integration tests moving from Javascript to Elixir, and we got a lot of help from contributors there, but there just wasn't much interest in translating Erlang eunit tests to Elixir.\r\n\r\nIn the meantime EUnit tests have improved quite a bit: we have maps, so asserts matching on response shapes is more ergonomic, the TDEF/TDEF_FE macros make test suite nice to look at, we get better coverage reports, which helps immensely identifying areas we completely missed.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1411441047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1413453777","html_url":"https://github.com/apache/couchdb/pull/4409#issuecomment-1413453777","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4409","id":1413453777,"node_id":"IC_kwDOAAMmUc5UP5fR","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-02T09:57:03Z","updated_at":"2023-02-02T09:57:03Z","author_association":"CONTRIBUTOR","body":"Closing this in favor #4411.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1413453777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1414237503","html_url":"https://github.com/apache/couchdb/pull/4412#issuecomment-1414237503","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4412","id":1414237503,"node_id":"IC_kwDOAAMmUc5US40_","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-02T19:15:05Z","updated_at":"2023-02-02T19:15:05Z","author_association":"CONTRIBUTOR","body":"Tested it locally with 1.8.5 ` ./configure --dev --spidermonkey-version 1.8.5` and `make check`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1414237503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1414294317","html_url":"https://github.com/apache/couchdb/pull/4412#issuecomment-1414294317","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4412","id":1414294317,"node_id":"IC_kwDOAAMmUc5UTGst","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-02T20:00:30Z","updated_at":"2023-02-02T20:01:02Z","author_association":"CONTRIBUTOR","body":"Tested it locally with 91  `./configure --dev --spidermonkey-version 91` and `make check`\r\n\r\n```\r\nCollections\r\n===========\r\n\r\n     Total    Fixture       Test      Count     Failed     Errors    Skipped\r\n    777.5s     322.6s     454.9s       3250          0          0          0 EUnit        \r\n    168.4s       0.0s     168.4s        538          0          0          8 EXUnit        \r\n      0.0s       0.0s       0.0s          0          0          0          0 JavaScript        \r\n      0.0s       0.0s       0.0s          0          0          0          0 Mango \r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1414294317/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1416449426","html_url":"https://github.com/apache/couchdb/pull/4414#issuecomment-1416449426","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4414","id":1416449426,"node_id":"IC_kwDOAAMmUc5UbU2S","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T21:55:03Z","updated_at":"2023-02-03T21:55:03Z","author_association":"MEMBER","body":"I like the clarity of the new errors but do not think we should combine `key` and `keys`. in my opinion that should be a 400 Bad Request.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1416449426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1419294483","html_url":"https://github.com/apache/couchdb/pull/4414#issuecomment-1419294483","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4414","id":1419294483,"node_id":"IC_kwDOAAMmUc5UmLcT","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T15:43:33Z","updated_at":"2023-02-06T15:43:33Z","author_association":"CONTRIBUTOR","body":"There is a related issue about how `key=onekey` vs `keys=[onekey]` behaves with grouping https://github.com/apache/couchdb/issues/2243.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1419294483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1423178583","html_url":"https://github.com/apache/couchdb/issues/1524#issuecomment-1423178583","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1524","id":1423178583,"node_id":"IC_kwDOAAMmUc5U0_tX","user":{"login":"TheRook","id":521783,"node_id":"MDQ6VXNlcjUyMTc4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/521783?v=4","gravatar_id":"","url":"https://api.github.com/users/TheRook","html_url":"https://github.com/TheRook","followers_url":"https://api.github.com/users/TheRook/followers","following_url":"https://api.github.com/users/TheRook/following{/other_user}","gists_url":"https://api.github.com/users/TheRook/gists{/gist_id}","starred_url":"https://api.github.com/users/TheRook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheRook/subscriptions","organizations_url":"https://api.github.com/users/TheRook/orgs","repos_url":"https://api.github.com/users/TheRook/repos","events_url":"https://api.github.com/users/TheRook/events{/privacy}","received_events_url":"https://api.github.com/users/TheRook/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T20:09:47Z","updated_at":"2023-02-08T20:09:47Z","author_association":"NONE","body":"> We used the approach of storing documents in \"per-rol-databases\". Please note that 1 user can have many roles, and 1 role can be assigned to many users. I believe for most of the use cases you can rethink your security in terms of per-role access instead of per-document access.\r\n\r\nThis feature is important if you want public clients to use an application without middle-ware.  In this case you have untrusted public clients,  mix-trusted users, and fully trusted administrators, all that need to be managed easily.  https://github.com/graphikDB/graphik  I think did this quite well, i'm curious if you know of a better example of access control for building client<->db apps. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1423178583/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1424085041","html_url":"https://github.com/apache/couchdb/issues/4375#issuecomment-1424085041","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4375","id":1424085041,"node_id":"IC_kwDOAAMmUc5U4dAx","user":{"login":"aricooperdavis","id":8947634,"node_id":"MDQ6VXNlcjg5NDc2MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/8947634?v=4","gravatar_id":"","url":"https://api.github.com/users/aricooperdavis","html_url":"https://github.com/aricooperdavis","followers_url":"https://api.github.com/users/aricooperdavis/followers","following_url":"https://api.github.com/users/aricooperdavis/following{/other_user}","gists_url":"https://api.github.com/users/aricooperdavis/gists{/gist_id}","starred_url":"https://api.github.com/users/aricooperdavis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aricooperdavis/subscriptions","organizations_url":"https://api.github.com/users/aricooperdavis/orgs","repos_url":"https://api.github.com/users/aricooperdavis/repos","events_url":"https://api.github.com/users/aricooperdavis/events{/privacy}","received_events_url":"https://api.github.com/users/aricooperdavis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T12:08:00Z","updated_at":"2023-02-09T12:08:00Z","author_association":"NONE","body":"I would also like to see a package for arm64 ubuntu :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1424085041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1424221813","html_url":"https://github.com/apache/couchdb/pull/4417#issuecomment-1424221813","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4417","id":1424221813,"node_id":"IC_kwDOAAMmUc5U4-Z1","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T13:51:29Z","updated_at":"2023-02-09T13:51:29Z","author_association":"CONTRIBUTOR","body":"Thanks @nickva for taking care of these.  The `javascript` `make(1)` target is still mentioned in [`README-DEV.rst`](https://github.com/apache/couchdb/blob/main/README-DEV.rst#testing) -- do you have any further plans to remove this reference too?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1424221813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1424455778","html_url":"https://github.com/apache/couchdb/pull/4417#issuecomment-1424455778","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4417","id":1424455778,"node_id":"IC_kwDOAAMmUc5U53hi","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T16:18:17Z","updated_at":"2023-02-09T16:18:17Z","author_association":"CONTRIBUTOR","body":"@pgj thanks for the nudge and noticing that we still had those around!\r\n\r\nI had the thought of updating README-DEV but might not get to it for a few days. If you get a chance and make a PR I'd be happy to review it though.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1424455778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1424983990","html_url":"https://github.com/apache/couchdb/pull/4417#issuecomment-1424983990","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4417","id":1424983990,"node_id":"IC_kwDOAAMmUc5U74e2","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T23:43:46Z","updated_at":"2023-02-09T23:43:46Z","author_association":"CONTRIBUTOR","body":"All right -- it is now done in #4419.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1424983990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1425027913","html_url":"https://github.com/apache/couchdb/issues/4397#issuecomment-1425027913","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4397","id":1425027913,"node_id":"IC_kwDOAAMmUc5U8DNJ","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T00:51:25Z","updated_at":"2023-02-10T00:51:25Z","author_association":"CONTRIBUTOR","body":"Another one is the prometheus test, also fails on macos\r\n\r\n```\r\n[2023-02-10T00:47:56.476Z]   With dedicated port\r\n\r\n[2023-02-10T00:47:57.767Z]     couch_prometheus_e2e_tests:40: -e2e_test_/0-fun-4- (t_chttpd_port)...[0.089 s] ok\r\n\r\n[2023-02-10T00:47:57.767Z]     couch_prometheus_e2e_tests:41: -e2e_test_/0-fun-2- (t_prometheus_port)...[0.001 s] ok\r\n\r\n[2023-02-10T00:48:02.481Z]     couch_prometheus_e2e_tests:42: -e2e_test_/0-fun-0- (t_metric_updated)...*timed out*\r\n\r\n[2023-02-10T00:48:02.481Z] in function gen:do_call/4 (gen.erl, line 256)\r\n\r\n[2023-02-10T00:48:02.481Z] in call from gen_server:call/3 (gen_server.erl, line 381)\r\n\r\n[2023-02-10T00:48:02.481Z] in call from ibrowse_http_client:send_req/7 (src/ibrowse_http_client.erl, line 114)\r\n\r\n[2023-02-10T00:48:02.481Z] in call from ibrowse:do_send_req/7 (src/ibrowse.erl, line 500)\r\n\r\n[2023-02-10T00:48:02.481Z] in call from ibrowse:try_routing_request/14 (src/ibrowse.erl, line 392)\r\n\r\n[2023-02-10T00:48:02.481Z] in call from test_request:request/6 (src/test_request.erl, line 95)\r\n\r\n[2023-02-10T00:48:02.482Z] in call from couch_prometheus_e2e_tests:get_stats/1 (test/eunit/couch_prometheus_e2e_tests.erl, line 135)\r\n\r\n[2023-02-10T00:48:02.482Z] in call from couch_prometheus_e2e_tests:'-t_metric_updated/1-fun-1-'/2 (test/eunit/couch_prometheus_e2e_tests.erl, line 122)\r\n\r\n[2023-02-10T00:48:02.482Z]     undefined\r\n\r\n[2023-02-10T00:48:02.482Z]   [done in 5.116 s]\r\n\r\n[2023-02-10T00:48:02.482Z] Without dedicated port\r\n\r\n[2023-02-10T00:48:02.758Z]   couch_prometheus_e2e_tests:65: -reject_test_/0-fun-0- (t_reject_prometheus_port)...[0.001 s] ok\r\n\r\n[2023-02-10T00:48:02.758Z]   [done in 0.004 s]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1425027913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427920663","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1427920663","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1427920663,"node_id":"IC_kwDOAAMmUc5VHFcX","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T13:12:25Z","updated_at":"2023-02-13T13:12:25Z","author_association":"CONTRIBUTOR","body":"Is there any oher erlang (epmd) process running in the background (if CouchDB is shutdown)?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427920663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427973683","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1427973683","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1427973683,"node_id":"IC_kwDOAAMmUc5VHSYz","user":{"login":"satheeshp2e","id":116266117,"node_id":"U_kgDOBu4UhQ","avatar_url":"https://avatars.githubusercontent.com/u/116266117?v=4","gravatar_id":"","url":"https://api.github.com/users/satheeshp2e","html_url":"https://github.com/satheeshp2e","followers_url":"https://api.github.com/users/satheeshp2e/followers","following_url":"https://api.github.com/users/satheeshp2e/following{/other_user}","gists_url":"https://api.github.com/users/satheeshp2e/gists{/gist_id}","starred_url":"https://api.github.com/users/satheeshp2e/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satheeshp2e/subscriptions","organizations_url":"https://api.github.com/users/satheeshp2e/orgs","repos_url":"https://api.github.com/users/satheeshp2e/repos","events_url":"https://api.github.com/users/satheeshp2e/events{/privacy}","received_events_url":"https://api.github.com/users/satheeshp2e/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T13:50:49Z","updated_at":"2023-02-13T13:50:49Z","author_association":"NONE","body":"No other epmd process running.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427973683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427988452","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1427988452","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1427988452,"node_id":"IC_kwDOAAMmUc5VHV_k","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T14:01:12Z","updated_at":"2023-02-13T14:01:45Z","author_association":"CONTRIBUTOR","body":"What is the output of (run in shell):\r\n\r\n```\r\nerl -eval '{ok, Version} = file:read_file(filename:join([code:root_dir(), \"releases\", erlang:system_info(otp_release), \"OTP_VERSION\"])), io:fwrite(Version), halt().' -noshell\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427988452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427990023","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1427990023","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1427990023,"node_id":"IC_kwDOAAMmUc5VHWYH","user":{"login":"satheeshp2e","id":116266117,"node_id":"U_kgDOBu4UhQ","avatar_url":"https://avatars.githubusercontent.com/u/116266117?v=4","gravatar_id":"","url":"https://api.github.com/users/satheeshp2e","html_url":"https://github.com/satheeshp2e","followers_url":"https://api.github.com/users/satheeshp2e/followers","following_url":"https://api.github.com/users/satheeshp2e/following{/other_user}","gists_url":"https://api.github.com/users/satheeshp2e/gists{/gist_id}","starred_url":"https://api.github.com/users/satheeshp2e/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satheeshp2e/subscriptions","organizations_url":"https://api.github.com/users/satheeshp2e/orgs","repos_url":"https://api.github.com/users/satheeshp2e/repos","events_url":"https://api.github.com/users/satheeshp2e/events{/privacy}","received_events_url":"https://api.github.com/users/satheeshp2e/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T14:02:16Z","updated_at":"2023-02-13T14:02:16Z","author_association":"NONE","body":"24.2.1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427990023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427991652","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1427991652","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1427991652,"node_id":"IC_kwDOAAMmUc5VHWxk","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T14:03:25Z","updated_at":"2023-02-13T14:25:34Z","author_association":"CONTRIBUTOR","body":"okay and how did you install CouchDB?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427991652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427994426","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1427994426","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1427994426,"node_id":"IC_kwDOAAMmUc5VHXc6","user":{"login":"satheeshp2e","id":116266117,"node_id":"U_kgDOBu4UhQ","avatar_url":"https://avatars.githubusercontent.com/u/116266117?v=4","gravatar_id":"","url":"https://api.github.com/users/satheeshp2e","html_url":"https://github.com/satheeshp2e","followers_url":"https://api.github.com/users/satheeshp2e/followers","following_url":"https://api.github.com/users/satheeshp2e/following{/other_user}","gists_url":"https://api.github.com/users/satheeshp2e/gists{/gist_id}","starred_url":"https://api.github.com/users/satheeshp2e/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satheeshp2e/subscriptions","organizations_url":"https://api.github.com/users/satheeshp2e/orgs","repos_url":"https://api.github.com/users/satheeshp2e/repos","events_url":"https://api.github.com/users/satheeshp2e/events{/privacy}","received_events_url":"https://api.github.com/users/satheeshp2e/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T14:05:13Z","updated_at":"2023-02-13T14:05:13Z","author_association":"NONE","body":"Followed these steps:\r\n\r\nsudo apt update && sudo apt install -y curl apt-transport-https gnupg\r\ncurl https://couchdb.apache.org/repo/keys.asc | gpg --dearmor | sudo tee /usr/share/keyrings/couchdb-archive-keyring.gpg  >/dev/null 2>&1\r\nsource /etc/os-release\r\necho \"deb [signed-by=/usr/share/keyrings/couchdb-archive-keyring.gpg] https://apache.jfrog.io/artifactory/couchdb-deb/ ${VERSION_CODENAME} main\"  | sudo tee /etc/apt/sources.list.d/couchdb.list >/dev/null\r\nsudo apt update\r\nsudo apt install -y couchdb","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1427994426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1428009631","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1428009631","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1428009631,"node_id":"IC_kwDOAAMmUc5VHbKf","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T14:14:29Z","updated_at":"2023-02-13T14:14:29Z","author_association":"CONTRIBUTOR","body":"ok, what shows:\r\n\r\n```\r\nls -al /opt/couchdb\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1428009631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1428048809","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1428048809","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1428048809,"node_id":"IC_kwDOAAMmUc5VHkup","user":{"login":"satheeshp2e","id":116266117,"node_id":"U_kgDOBu4UhQ","avatar_url":"https://avatars.githubusercontent.com/u/116266117?v=4","gravatar_id":"","url":"https://api.github.com/users/satheeshp2e","html_url":"https://github.com/satheeshp2e","followers_url":"https://api.github.com/users/satheeshp2e/followers","following_url":"https://api.github.com/users/satheeshp2e/following{/other_user}","gists_url":"https://api.github.com/users/satheeshp2e/gists{/gist_id}","starred_url":"https://api.github.com/users/satheeshp2e/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satheeshp2e/subscriptions","organizations_url":"https://api.github.com/users/satheeshp2e/orgs","repos_url":"https://api.github.com/users/satheeshp2e/repos","events_url":"https://api.github.com/users/satheeshp2e/events{/privacy}","received_events_url":"https://api.github.com/users/satheeshp2e/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T14:37:43Z","updated_at":"2023-02-13T14:39:10Z","author_association":"NONE","body":"```\r\ndrwxr-xr-x  9 root    root      4096 Feb 10 14:32 .\r\ndrwxr-xr-x  4 root    root      4096 Nov  4 08:49 ..\r\n-rw-r--r--  1 root    root    104255 Jan 10 19:38 LICENSE\r\ndrwxr-xr-x  2 root    root      4096 Feb 10 14:32 bin\r\nlrwxrwxrwx  1 root    root        16 Jan 10 19:38 data -> /var/lib/couchdb\r\ndrwxr-xr-x  8 root    root      4096 Feb 10 14:32 erts-12.3.2.7\r\ndrwxr-xr-x  4 couchdb couchdb   4096 Feb 12 08:58 etc\r\ndrwxr-xr-x 52 root    root      4096 Feb 10 14:32 lib\r\ndrwxr-xr-x  3 root    root      4096 Feb 10 14:32 releases\r\ndrwxr-xr-x  5 root    root      4096 Feb 10 14:32 share\r\ndrwxr-xr-x  2 root    root      4096 Feb 10 14:32 var\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1428048809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1428214170","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1428214170","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1428214170,"node_id":"IC_kwDOAAMmUc5VINGa","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T16:10:33Z","updated_at":"2023-02-13T16:10:33Z","author_association":"CONTRIBUTOR","body":"If you have Ubuntu 20.04 and you have installed CouchDB v3.2.2, you should have an `erts-11.2.2.13` dir inside... \r\n\r\nCan you remove CouchDB and your system erlang version completely and reinstall CouchDB? \r\nDo a backup of your CouchDB data, if any.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1428214170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]