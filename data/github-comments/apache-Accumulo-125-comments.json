[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1834545781","html_url":"https://github.com/apache/accumulo/pull/3999#issuecomment-1834545781","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3999","id":1834545781,"node_id":"IC_kwDOACaFSM5tWPJ1","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T20:54:23Z","updated_at":"2023-11-30T20:54:23Z","author_association":"MEMBER","body":"I was in the middle of reviewing this when it got merged. It mostly looks okay, but there are still some differences in the changed files after things got merged that I'm trying to ensure are okay.\r\n\r\n```\r\ngit diff main elasticity -- $(git log --name-status fc2a2e7dd32ac52da3e861c2f05b126b3b07d7b0 -n1 --oneline | tail -n+2 | cut -c2-)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1834545781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1834554935","html_url":"https://github.com/apache/accumulo/pull/3999#issuecomment-1834554935","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3999","id":1834554935,"node_id":"IC_kwDOACaFSM5tWRY3","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T21:02:05Z","updated_at":"2023-11-30T21:02:05Z","author_association":"CONTRIBUTOR","body":"I think that the differences are due to the upgrader being disabled in elasticity right now. Getting the upgrade working for 4.0 is a TODO.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1834554935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1834597673","html_url":"https://github.com/apache/accumulo/pull/3999#issuecomment-1834597673","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3999","id":1834597673,"node_id":"IC_kwDOACaFSM5tWb0p","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T21:36:13Z","updated_at":"2023-11-30T21:36:13Z","author_association":"MEMBER","body":"Yeah, that's definitely the main diff, and that's fine. But, I think there's some stuff that should be sync'd with main but aren't. I'll do a follow-on PR for those things I think should be fixed. They're pretty trivial.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1834597673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1834649992","html_url":"https://github.com/apache/accumulo/pull/3999#issuecomment-1834649992","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3999","id":1834649992,"node_id":"IC_kwDOACaFSM5tWomI","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T22:18:11Z","updated_at":"2023-11-30T22:18:11Z","author_association":"MEMBER","body":"See #4003 for the fixes. The other remaining difference is the use of Ample instead of KeyExtent.isMeta in the UpgradeCoordinator code. However, that change wasn't as the result of incomplete conflict resolution, like what #4003 fixes. Rather, that difference is due some changes as part of #3904 that was only applied to the elasticity branch. Those particular changes may be able to be backported to main, as they may not be elasticity-specific. But, it's probably not critical to do so.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1834649992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1834757035","html_url":"https://github.com/apache/accumulo/pull/4003#issuecomment-1834757035","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4003","id":1834757035,"node_id":"IC_kwDOACaFSM5tXCur","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T23:33:00Z","updated_at":"2023-11-30T23:33:00Z","author_association":"MEMBER","body":"Mostly tagged @dlmarion for review for informational. These changes are extremely trivial, so I'm just going to merge them now that the build checks passed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1834757035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836205656","html_url":"https://github.com/apache/accumulo/pull/3963#issuecomment-1836205656","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3963","id":1836205656,"node_id":"IC_kwDOACaFSM5tckZY","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T14:26:16Z","updated_at":"2023-12-01T14:26:16Z","author_association":"CONTRIBUTOR","body":"Thanks for the suggestions @keith-turner , I wasn't aware of some of the features of `ColumnFQ`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836205656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836341408","html_url":"https://github.com/apache/accumulo/pull/3968#issuecomment-1836341408","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3968","id":1836341408,"node_id":"IC_kwDOACaFSM5tdFig","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T15:50:41Z","updated_at":"2023-12-01T15:50:41Z","author_association":"MEMBER","body":"a40f887 added the ability to chain multiple filters together. the filters are applied in order (first one has the greatest priority then the next, etc.)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836341408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836355161","html_url":"https://github.com/apache/accumulo/issues/4004#issuecomment-1836355161","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4004","id":1836355161,"node_id":"IC_kwDOACaFSM5tdI5Z","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T15:58:55Z","updated_at":"2023-12-01T15:58:55Z","author_association":"CONTRIBUTOR","body":"I'm curious if this is broken in `main` as well. Looking at VolumeUtilTest, there are no `WAL` FileType objects being tested.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836355161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836411572","html_url":"https://github.com/apache/accumulo/issues/4004#issuecomment-1836411572","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4004","id":1836411572,"node_id":"IC_kwDOACaFSM5tdWq0","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T16:24:48Z","updated_at":"2023-12-01T16:24:48Z","author_association":"CONTRIBUTOR","body":"This may be related to the changes in #3939 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836411572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836681201","html_url":"https://github.com/apache/accumulo/pull/4002#issuecomment-1836681201","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4002","id":1836681201,"node_id":"IC_kwDOACaFSM5teYfx","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T19:49:41Z","updated_at":"2023-12-01T19:49:41Z","author_association":"CONTRIBUTOR","body":"It is currently unused because I was waiting for some version to get approved so that I could move forward.  There are other PRs that I have open where it was suggested that I use Wait.waitFor - which seemed like an improvement, so I started down this path instead.  \r\n\r\nI didn't think that the other PR changes needed to be bundled into this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836681201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836714829","html_url":"https://github.com/apache/accumulo/issues/4004#issuecomment-1836714829","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4004","id":1836714829,"node_id":"IC_kwDOACaFSM5tegtN","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T20:10:28Z","updated_at":"2023-12-01T20:10:28Z","author_association":"CONTRIBUTOR","body":"Looking at the 2.1 code, I'm able to determine the following:\r\n\r\n1. A TabletServer allocates write-ahead log files and registers them in ZooKeeper. Example:\r\n```\r\n[zk: localhost:2181(CONNECTED) 10] ls /accumulo/01af27af-ad10-416e-96e2-5fc35217022d/wals/localhost:9997[10000a6d8260003]\r\n[2df26684-6e96-4b88-8df4-75a19a20b779, 761f4d9b-e2dd-4c3e-96d7-2aac6b695dde]\r\n```\r\n\r\n2. The data in the znode for the WAL contains the state and path. Example:\r\n```\r\n[zk: localhost:2181(CONNECTED) 8] get /accumulo/01af27af-ad10-416e-96e2-5fc35217022d/wals/localhost:9997[10000a6d8260003]/2df26684-6e96-4b88-8df4-75a19a20b779\r\nOPEN,hdfs://localhost:9000/accumulo4/wal/localhost+9997/2df26684-6e96-4b88-8df4-75a19a20b779\r\n```\r\n\r\n3. When a TabletServer dies, the `TabletGroupWatcher.handleDeadTablets` method calls `TabletStateStore.unassign` which writes a `wal` reference to the tablet metadata. This occurs so that when the Tablet is hosted again it can perform recovery using those write-ahead log files.\r\n\r\n4. To create the map of TabletServers and write-ahead log files that are used in step 3 above, the TabletGroupWatcher first calls `TabletGroupWatcher.unassignDeadTablet`, which in turn calls `WalStateManager.getWalsInUse`. If you look at that method it parses the ZNode (from step1 above) and returns the full path. Thus, the logs that are written to the metadata table in `MetadataStateStore.unassign` line 127 are the full path.\r\n\r\nThus, in 2.1, when `VolumeUtil.switchVolumes` is called to switch the volume of the `LogEntry`, the filename is the full path.\r\n\r\nDid this change for 3.0 / 3.1? Or is the comment https://github.com/apache/accumulo/blob/main/core/src/main/java/org/apache/accumulo/core/tabletserver/log/LogEntry.java#L45 incorrect?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836714829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836734617","html_url":"https://github.com/apache/accumulo/pull/3262#issuecomment-1836734617","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3262","id":1836734617,"node_id":"IC_kwDOACaFSM5teliZ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T20:28:07Z","updated_at":"2023-12-01T20:28:07Z","author_association":"CONTRIBUTOR","body":"> Feedback requested on https://cwiki.apache.org/confluence/display/ACCUMULO/Using+Resource+Groups+as+an+implementation+of+Multiple+Managers. Are there other options to consider, what other information should I add?\r\n\r\nI updated the above document with another possible solution.  Thinking that this PR and apache/accumulo#3964 are already heading in the direction of that solution.  I still have a lot of uncertainty and I was thinking about how to reduce that.  Thought of the following.\r\n\r\n 1. We can start running scale test now that abuse the current code.  By doing this we may learn new things that help us make more informed decisions.  I opened apache/accumulo-testing#266 for this and created other items for scale test as TODOs on the elasticity board.\r\n 2. We can reorganize the manager code to make the functional services in the manager more explicit.   I opened apache/accumulo#4005 for this.  I am going to take a shot are reorganizing just one thing int he manager as described in that issue to see what it looks like.\r\n 3. Would be good to chat sometime as mentioned in slack\r\n\r\nWarning this is not a fully formed thought.  apache/accumulo#3964 took a bottom up approach to scaling the manager and this PR is taking a top down approach.  Was wondering about taking some of the things in the PR and creating something more focused on just distributing tablet management like apache/accumulo#3964 is just for distributing FATE.  However, tablet managment is not as cleanly self contained in the code as FATE is, so its harder to do that.  That is one reason I opened apache/accumulo#4005.  It would be nice to have an IT test that creates multiple tablet management objects each with different partitions and verifies that.  apache/accumulo#3694 has  test like this for FATE.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836734617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836747610","html_url":"https://github.com/apache/accumulo/issues/4005#issuecomment-1836747610","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4005","id":1836747610,"node_id":"IC_kwDOACaFSM5teota","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T20:40:15Z","updated_at":"2023-12-01T20:40:15Z","author_association":"CONTRIBUTOR","body":"This change should probably be done piecemeal.  Going to take a shot at reorganizing compaction coordination to see what it looks like.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836747610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836775527","html_url":"https://github.com/apache/accumulo/issues/4004#issuecomment-1836775527","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4004","id":1836775527,"node_id":"IC_kwDOACaFSM5tevhn","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T21:05:13Z","updated_at":"2023-12-01T21:05:13Z","author_association":"CONTRIBUTOR","body":"Added #4007 as a test in 2.1 for VolumeUtil.switchVolumes. I'm curious if this test fails on the merge to `main`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836775527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836857241","html_url":"https://github.com/apache/accumulo/issues/4004#issuecomment-1836857241","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4004","id":1836857241,"node_id":"IC_kwDOACaFSM5tfDeZ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T22:20:33Z","updated_at":"2023-12-01T22:20:33Z","author_association":"CONTRIBUTOR","body":"Merged #4007 from 2.1 -> elasticity with no real issues. I *think* what happened is that even though #3939 was committed before the changes to the TabletManagementIteratorIT code, it was merged to `elasticity` **after** #3893. #3893 introduced some code that tested the volume replacements, and used a relative path with host and port. This test succeeded at the time, but began failing with #3939 was merged from `main` to `elasticity`. \r\n\r\nI created #4010 to fix the test and resolve this issue.\r\n\r\nI still think that the comment at https://github.com/apache/accumulo/blob/main/core/src/main/java/org/apache/accumulo/core/tabletserver/log/LogEntry.java#L45 is wrong.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1836857241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1838996263","html_url":"https://github.com/apache/accumulo/pull/4014#issuecomment-1838996263","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4014","id":1838996263,"node_id":"IC_kwDOACaFSM5tnNsn","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-04T16:23:51Z","updated_at":"2023-12-04T16:23:51Z","author_association":"CONTRIBUTOR","body":"It looks like #3425 may have changed the exception being thrown from AccumuloServerException to AccumuloException. Not sure if that's a big deal or not...","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1838996263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1839028863","html_url":"https://github.com/apache/accumulo/pull/4014#issuecomment-1839028863","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4014","id":1839028863,"node_id":"IC_kwDOACaFSM5tnVp_","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-04T16:37:00Z","updated_at":"2023-12-04T16:37:00Z","author_association":"CONTRIBUTOR","body":"> It looks like https://github.com/apache/accumulo/pull/3425 may have changed the exception being thrown from AccumuloServerException to AccumuloException. Not sure if that's a big deal or not...\r\n\r\nI suspect thats caused by split moving from a direct tserver RPC to using the RPCs that run fate operations.  I don't think that change is an issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1839028863/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1839556100","html_url":"https://github.com/apache/accumulo/pull/4011#issuecomment-1839556100","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4011","id":1839556100,"node_id":"IC_kwDOACaFSM5tpWYE","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-04T22:00:44Z","updated_at":"2023-12-04T22:00:44Z","author_association":"CONTRIBUTOR","body":"In 243640d I removed the interface.  The reason for this was that I may not pursue making other functional services in the manager use an interface in the short term and I did not want one thing following a pattern that nothing else does.  So deferring the change to use an interface for now.  However, attempting to use an interface highlighted code that was in the Manager class that should have been in the CompactionCoordinator class, so I am keeping those changes in this PR. I think the change to using interfaces for functional service in the manager will be nice, but I think its confusing if its partially done and the purpose of the changes is clean up the manager code not make it more confusing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1839556100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1839692141","html_url":"https://github.com/apache/accumulo/pull/4019#issuecomment-1839692141","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4019","id":1839692141,"node_id":"IC_kwDOACaFSM5tp3lt","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-04T23:11:41Z","updated_at":"2023-12-04T23:11:41Z","author_association":"CONTRIBUTOR","body":"@ddanielr  would like to know of any feedback you have on this PR.  Also I think a lot of the changes that would needed for this are documentation and test config, was wondering if I should wait on any changes you are making before doing that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1839692141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841038580","html_url":"https://github.com/apache/accumulo/issues/3646#issuecomment-1841038580","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3646","id":1841038580,"node_id":"IC_kwDOACaFSM5tvAT0","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T15:36:08Z","updated_at":"2023-12-05T15:36:08Z","author_association":"MEMBER","body":"I will work on this ticket","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841038580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841480878","html_url":"https://github.com/apache/accumulo/issues/4021#issuecomment-1841480878","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4021","id":1841480878,"node_id":"IC_kwDOACaFSM5twsSu","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T19:25:33Z","updated_at":"2023-12-05T19:25:33Z","author_association":"CONTRIBUTOR","body":"Tested my hypothesis by applying the changes above to SummaryIT in main, and it passes. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841480878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841554452","html_url":"https://github.com/apache/accumulo/pull/4022#issuecomment-1841554452","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4022","id":1841554452,"node_id":"IC_kwDOACaFSM5tw-QU","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T20:20:46Z","updated_at":"2023-12-05T20:20:46Z","author_association":"CONTRIBUTOR","body":"@keith-turner  - if/when you look at this, please look at the comments in #4021 . This fixes the test, but there is a behavior difference, minc starting earlier I think. I looked at the code in LargestFirstMemoryManager, and nothing appeared to change between `main` and `elasticity`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841554452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841686228","html_url":"https://github.com/apache/accumulo/pull/4023#issuecomment-1841686228","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4023","id":1841686228,"node_id":"IC_kwDOACaFSM5txebU","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T21:59:22Z","updated_at":"2023-12-05T21:59:22Z","author_association":"CONTRIBUTOR","body":"This was the call stack that was causing the SingletonManager to reflect SERVER mode:\r\n\r\n```\r\n\r\nSingletonManager.setMode(SingletonManager$Mode) line: 149\t\r\nServerInfo.<init>(SiteConfiguration) line: 95\t\r\nServerContext.<init>(SiteConfiguration) line: 110\t\r\nMiniAccumuloClusterImpl.lambda$new$2() line: 255\t\r\n1430363426.get() line: not available\t\r\nSuppliers$NonSerializableMemoizingSupplier<T>.get() line: 181\t\r\nMiniAccumuloClusterImpl.getServerContext() line: 916\t\r\nMiniAccumuloClusterImpl.getCompactionGroupNames() line: 663\t\r\nMiniAccumuloClusterImpl.start() line: 631\t\r\nAccumuloClientIT(AccumuloClusterHarness).setupCluster() line: 167\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841686228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841828016","html_url":"https://github.com/apache/accumulo/pull/4017#issuecomment-1841828016","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4017","id":1841828016,"node_id":"IC_kwDOACaFSM5tyBCw","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T23:56:42Z","updated_at":"2023-12-05T23:58:46Z","author_association":"CONTRIBUTOR","body":"@keith-turner - The test failures appear to be race condition related. I took a shot at fixing the tests and pushed a commit up that fixes it. Feel free to revert it or change it if you think it isn't correct of course.\r\n\r\nAfter my commit:\r\n\r\n```\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running org.apache.accumulo.test.fate.zookeeper.FateIT\r\n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 25.00 s -- in org.apache.accumulo.test.fate.zookeeper.FateIT\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841828016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841868778","html_url":"https://github.com/apache/accumulo/pull/3977#issuecomment-1841868778","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3977","id":1841868778,"node_id":"IC_kwDOACaFSM5tyK_q","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T00:21:42Z","updated_at":"2023-12-06T00:21:42Z","author_association":"MEMBER","body":"I suggested changes to the way it's marked as deprecated in #4024 as a trivial change in conjunction with the main point of that PR. I can separate it out if needed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841868778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841887141","html_url":"https://github.com/apache/accumulo/pull/3977#issuecomment-1841887141","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3977","id":1841887141,"node_id":"IC_kwDOACaFSM5tyPel","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T00:42:07Z","updated_at":"2023-12-06T00:42:07Z","author_association":"CONTRIBUTOR","body":"I keep getting conflicting advice on whether to use the 'forRemoval' attribute. As you can see from the comments above, I didn't use it at first, then it was suggested that I add it.  I do agree it seems redundant, but it must exist for some reason. Personally, I don't care whether we use it or not. Maybe we can decide at a project level?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841887141/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841907728","html_url":"https://github.com/apache/accumulo/pull/3977#issuecomment-1841907728","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3977","id":1841907728,"node_id":"IC_kwDOACaFSM5tyUgQ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T01:06:17Z","updated_at":"2023-12-06T01:06:17Z","author_association":"MEMBER","body":"> I keep getting conflicting advice on whether to use the 'forRemoval' attribute. \r\n\r\nI'm not sure who is in favor of it, but I imagine whoever is, it's because it's helpful to be explicit. I suspect Java added it because so many people mark things deprecated and then they stayed deprecated forever in some Java libraries. But that's not really necessary in a world where semantic versioning is used and major releases are expected for breaking changes. I have personally avoided it because of the problems that it causes but I haven't really objected to using it in principal. Any objections that I might have her purely practical.\r\n\r\n> Maybe we can decide at a project level?\r\n\r\nThe options would be to use it everywhere, use it nowhere, not care if it's used or not, or develop some criteria by which we decide when it should be used and when it shouldn't. Since semantic versioning drives us, I don't really think that last option is useful. The third option can lead to confusion. But I think for practical reasons using it everywhere isn't really viable. So that really only leaves use it nowhere. But we can discuss and decide on the mailing list.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841907728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841970891","html_url":"https://github.com/apache/accumulo/pull/3977#issuecomment-1841970891","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3977","id":1841970891,"node_id":"IC_kwDOACaFSM5tyj7L","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T02:11:26Z","updated_at":"2023-12-06T02:11:26Z","author_association":"CONTRIBUTOR","body":"> I suggested changes to the way it's marked as deprecated in #4024 as a trivial change in conjunction with the main point of that PR. I can separate it out if needed.\r\n\r\nThere are other Deprecated annotations in Propery.java using the forRemoval annotation in main at this point. It might make sense to remove these changes from #4024 and change them all in one PR. Maybe that's the appropriate place to have that conversation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1841970891/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1842114680","html_url":"https://github.com/apache/accumulo/pull/4024#issuecomment-1842114680","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4024","id":1842114680,"node_id":"IC_kwDOACaFSM5tzHB4","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T05:31:01Z","updated_at":"2023-12-06T05:31:01Z","author_association":"MEMBER","body":"These changes finished a build with the full ITs, and these tests did not fail... they didn't even flake. They seem to pass consistently now with these changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1842114680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1842765598","html_url":"https://github.com/apache/accumulo/pull/4024#issuecomment-1842765598","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4024","id":1842765598,"node_id":"IC_kwDOACaFSM5t1l8e","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T12:25:32Z","updated_at":"2023-12-06T12:25:32Z","author_association":"CONTRIBUTOR","body":"As I mentioned [here](https://github.com/apache/accumulo/pull/3977#issuecomment-1841970891), I think the deprecation changes should be removed from this PR and included in a new PR that also includes the `forRemoval` annotations on the Deprecated annotations in the Property class. Having this a separate PR would allow us to discuss the merits of `forRemoval` and hopefully put this issue to rest.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1842765598/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1842979401","html_url":"https://github.com/apache/accumulo/pull/4017#issuecomment-1842979401","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4017","id":1842979401,"node_id":"IC_kwDOACaFSM5t2aJJ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T14:19:21Z","updated_at":"2023-12-06T14:19:21Z","author_association":"CONTRIBUTOR","body":"> @keith-turner - The test failures appear to be race condition related. I took a shot at fixing the tests and pushed a commit up that fixes it. Feel free to revert it or change it if you think it isn't correct of course.\r\n\r\nThose changes look good. Thanks for the fix.   Thinking  that is a pre-existing bug in the test, may be worthwhile back-porting just the test changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1842979401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843115957","html_url":"https://github.com/apache/accumulo/issues/3354#issuecomment-1843115957","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3354","id":1843115957,"node_id":"IC_kwDOACaFSM5t27e1","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T15:29:09Z","updated_at":"2023-12-06T15:29:09Z","author_association":"CONTRIBUTOR","body":"ScanConsistencyIT is also failing because of this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843115957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843134422","html_url":"https://github.com/apache/accumulo/pull/4017#issuecomment-1843134422","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4017","id":1843134422,"node_id":"IC_kwDOACaFSM5t2__W","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T15:39:08Z","updated_at":"2023-12-06T15:39:08Z","author_association":"CONTRIBUTOR","body":"@cshannon I backported the FateIT changes in #4029","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843134422/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843648208","html_url":"https://github.com/apache/accumulo/pull/4024#issuecomment-1843648208","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4024","id":1843648208,"node_id":"IC_kwDOACaFSM5t49bQ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T20:34:37Z","updated_at":"2023-12-06T20:34:37Z","author_association":"MEMBER","body":"I created #4032 for the forRemoval stuff.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843648208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843824459","html_url":"https://github.com/apache/accumulo/issues/3953#issuecomment-1843824459","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3953","id":1843824459,"node_id":"IC_kwDOACaFSM5t5odL","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T22:59:40Z","updated_at":"2023-12-06T22:59:40Z","author_association":"CONTRIBUTOR","body":"Modified this issue to scope down to supporting passing in a properties file to the shell for use with the multiple properties API.\r\nNo custom parsing would be needed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843824459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843824546","html_url":"https://github.com/apache/accumulo/issues/3953#issuecomment-1843824546","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3953","id":1843824546,"node_id":"IC_kwDOACaFSM5t5oei","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T22:59:46Z","updated_at":"2023-12-06T22:59:46Z","author_association":"MEMBER","body":"If we're just adding a flag to read the properties from a file, I think that's okay. I was concerned that we'd be adding a lot of complexity to parse multiple key/value pairs of properties. Reading a file is fine.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843824546/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843835123","html_url":"https://github.com/apache/accumulo/pull/4019#issuecomment-1843835123","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4019","id":1843835123,"node_id":"IC_kwDOACaFSM5t5rDz","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T23:10:06Z","updated_at":"2023-12-06T23:10:06Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #4034","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843835123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843835819","html_url":"https://github.com/apache/accumulo/issues/3547#issuecomment-1843835819","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3547","id":1843835819,"node_id":"IC_kwDOACaFSM5t5rOr","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T23:10:42Z","updated_at":"2023-12-06T23:10:42Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #4034","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843835819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843860779","html_url":"https://github.com/apache/accumulo/pull/3657#issuecomment-1843860779","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3657","id":1843860779,"node_id":"IC_kwDOACaFSM5t5xUr","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T23:37:17Z","updated_at":"2023-12-06T23:37:17Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of #4034 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843860779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843959419","html_url":"https://github.com/apache/accumulo/pull/4035#issuecomment-1843959419","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4035","id":1843959419,"node_id":"IC_kwDOACaFSM5t6JZ7","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T00:57:16Z","updated_at":"2023-12-07T00:57:16Z","author_association":"MEMBER","body":"Thanks to @keith-turner for helping me make sense of the existing test. I'm still not sure what the original test was trying to cover overall... it just seemed to be testing random things. I rewrote it so it made a bit more sense. This should help with #3997 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843959419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843959489","html_url":"https://github.com/apache/accumulo/pull/3997#issuecomment-1843959489","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3997","id":1843959489,"node_id":"IC_kwDOACaFSM5t6JbB","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T00:57:21Z","updated_at":"2023-12-07T00:57:21Z","author_association":"MEMBER","body":"@keith-turner helped me understand the test failures (or rather, why the current test is passing in the main branch when it probably shouldn't), and I opened up #4035 to help with that. Once that is merged, I'll help resolve the conflicts with this PR, so we can merge this in after that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1843959489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845558890","html_url":"https://github.com/apache/accumulo/issues/4033#issuecomment-1845558890","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4033","id":1845558890,"node_id":"IC_kwDOACaFSM5uAP5q","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T15:31:32Z","updated_at":"2023-12-07T15:31:32Z","author_association":"CONTRIBUTOR","body":"To implement this will need to modify [CompactionJobPrioritizer.java](https://github.com/apache/accumulo/blob/3e26064bfde82986798d45c0aa4adc9ca82c476b/core/src/main/java/org/apache/accumulo/core/util/compaction/CompactionJobPrioritizer.java#L32).  Currently this class creates a 16 bit priority using the first bit for compaction type and the remaining 15 bits for the number of files.  Could change it to use the 16 bits in the following way.\r\n\r\n * First 2 bits are table type, accumulo.root, accumulo.metadata, accumulo.*, user table\r\n * Third bit is compaction type\r\n * Remaining  13 bits are the files count.  Would need to adjust the max checks to 2^13.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845558890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845601599","html_url":"https://github.com/apache/accumulo/issues/4033#issuecomment-1845601599","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4033","id":1845601599,"node_id":"IC_kwDOACaFSM5uAaU_","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T15:56:26Z","updated_at":"2023-12-07T15:56:26Z","author_association":"CONTRIBUTOR","body":"Is there a reason to limit the size to 16 bits?  Thinking that we might want more room than 2-bits for table type to allow for expansion - one example would be to include accumulo.fate (or whatever it gets called) and we could find in the future that an accumulo.hosting or something outside of the metadata that provides explicit elasticity information.  Things that may want a finer level of control than being lumped into accumulo.*. \r\n\r\nSomething like byte for table type, byte for compaction type, and 2 bytes for count would fit into 32 bits and allow for growth. Limits for file counts could be limited to use less that the full 2^16 if necessary.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845601599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845642261","html_url":"https://github.com/apache/accumulo/issues/4033#issuecomment-1845642261","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4033","id":1845642261,"node_id":"IC_kwDOACaFSM5uAkQV","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T16:20:40Z","updated_at":"2023-12-07T16:29:39Z","author_association":"CONTRIBUTOR","body":"> Is there a reason to limit the size to 16 bits? \r\n\r\nI think it was mainly driven by this [map](https://github.com/apache/accumulo/blob/3e26064bfde82986798d45c0aa4adc9ca82c476b/server/compaction-coordinator/src/main/java/org/apache/accumulo/coordinator/QueueAndPriority.java#L27).  We used to have a long for the priority, but @dlmarion and I realized that if the priority as a long was extremely high cardinality that could cause an OOME.  We could not think of a good reason to have an extremely high cardinality priority so switched the long to a short.\r\n\r\n> we could find in the future that an accumulo.hosting or something outside of the metadata that provides explicit elasticity information. Things that may want a finer level of control than being lumped into accumulo.*.\r\n\r\nThe computation of the priority is done by a pluggable component, the CompactionPlanner.  So other situations could be handled, they could compute the priority anyway they like.\r\n\r\n> Something like byte for table type, byte for compaction type, and 2 bytes for count would fit into 32 bits and allow for growth. Limits for file counts could be limited to use less that the full 2^16 if necessary.\r\n\r\nI think many situations like this can be handled with the short.  May need to do things like take the log or sqrt of a value you are putting in the short to compress the information while still maintaining sort order.  The priority does not need to be super precise for things like file counts, just getting things in the neighborhood is usually good enough.  For example if you wanted to reduce the bits for file count to increase the bits for table types, then could put log2(fileCount) in an 4 bit integer and still get good prioritization on file counts.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845642261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845734929","html_url":"https://github.com/apache/accumulo/pull/4035#issuecomment-1845734929","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4035","id":1845734929,"node_id":"IC_kwDOACaFSM5uA64R","user":{"login":"rsingh433","id":74160026,"node_id":"MDQ6VXNlcjc0MTYwMDI2","avatar_url":"https://avatars.githubusercontent.com/u/74160026?v=4","gravatar_id":"","url":"https://api.github.com/users/rsingh433","html_url":"https://github.com/rsingh433","followers_url":"https://api.github.com/users/rsingh433/followers","following_url":"https://api.github.com/users/rsingh433/following{/other_user}","gists_url":"https://api.github.com/users/rsingh433/gists{/gist_id}","starred_url":"https://api.github.com/users/rsingh433/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsingh433/subscriptions","organizations_url":"https://api.github.com/users/rsingh433/orgs","repos_url":"https://api.github.com/users/rsingh433/repos","events_url":"https://api.github.com/users/rsingh433/events{/privacy}","received_events_url":"https://api.github.com/users/rsingh433/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T17:07:50Z","updated_at":"2023-12-07T17:07:50Z","author_association":"CONTRIBUTOR","body":"Thank you for fixing this","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845734929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845810362","html_url":"https://github.com/apache/accumulo/pull/3997#issuecomment-1845810362","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3997","id":1845810362,"node_id":"IC_kwDOACaFSM5uBNS6","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T17:43:04Z","updated_at":"2023-12-07T17:43:04Z","author_association":"MEMBER","body":"These changes look good, as-is, and can be merged now to drop storing the \"filePath\" in the Value and reading it from the column qualifier instead. However, there's some follow-on actions that you can add to this PR, or can create a separate PR for, at your discretion. Here's some things I saw while looking at this code, where there's room for improvement:\r\n\r\n1. Pull in the mutation modification work into the LogEntry class. So, instead of calling code calling in to LogEntry to get the column qualifier, value, etc. to update a mutation, you just pass a mutation into the LogEntry class like: `logEntry.addToMutation(mutation);`, and the mutation updating is done internal to that method. That way, the column qualifier, value, etc. doesn't need to be used outside the class (except maybe for unit testing) and they can be made private, or even simplified or removed.\r\n2. Get rid of switchFile method, since that's outdated, and simplify how VolumeUtil is using it\r\n3. Rename \"filePath\", \"filename\", and \"getFilePath()\", etc. to something that reflects what is actually stored there. From what I can tell, what's stored there is a \"-/host:port/UUID\" (with \"-/\" ignored). So, maybe a better name is \"logReference\", since the host and UUID together could be called that. Or something like \"serverAndUUID\", but that's not really very friendly. If there's a better name, I'm open to that as well.\r\n4. Make the validate method more rigorous and expect exactly 3 items (`\"-/host:port/UUID\" -> {\"-\", \"host:port\", \"UUID\"}`. Right now validates either 2 or 3... and it's not clear why. Probably so it could validate the old value, which did not contain the \"-/\" portion, as well as the column qualifier, which did. But it doesn't need to validate the 2-item version, since that shouldn't exist\r\n5. Add upgrade code to drop the \"-/\" portion entirely, and further simplify all the code that tries to handle that, so it's only \"host:port/UUID\" instead in the column qualifier.\r\n\r\nSome of these are certainly more complicated than others, and would require a separate PR. But some of these are small enough to include with this.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845810362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845815831","html_url":"https://github.com/apache/accumulo/issues/4021#issuecomment-1845815831","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4021","id":1845815831,"node_id":"IC_kwDOACaFSM5uBOoX","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T17:45:04Z","updated_at":"2023-12-07T17:45:04Z","author_association":"CONTRIBUTOR","body":"> I think this indicates that a minor compaction is happening now, where it was not happening in an earlier version of the code.\r\n\r\nI think the `FileMetadataIT.splitsWithExistingRangesTest` may be failing due to this as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845815831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845819347","html_url":"https://github.com/apache/accumulo/issues/4037#issuecomment-1845819347","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4037","id":1845819347,"node_id":"IC_kwDOACaFSM5uBPfT","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T17:46:12Z","updated_at":"2023-12-07T17:46:29Z","author_association":"MEMBER","body":"Do you know what the pause was intended to do? Was it intended to prevent the tserver from falling over due to OOM? If so, what happens if the Compactor falls over due to OOM?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845819347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845849975","html_url":"https://github.com/apache/accumulo/issues/3953#issuecomment-1845849975","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3953","id":1845849975,"node_id":"IC_kwDOACaFSM5uBW93","user":{"login":"rsingh433","id":74160026,"node_id":"MDQ6VXNlcjc0MTYwMDI2","avatar_url":"https://avatars.githubusercontent.com/u/74160026?v=4","gravatar_id":"","url":"https://api.github.com/users/rsingh433","html_url":"https://github.com/rsingh433","followers_url":"https://api.github.com/users/rsingh433/followers","following_url":"https://api.github.com/users/rsingh433/following{/other_user}","gists_url":"https://api.github.com/users/rsingh433/gists{/gist_id}","starred_url":"https://api.github.com/users/rsingh433/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsingh433/subscriptions","organizations_url":"https://api.github.com/users/rsingh433/orgs","repos_url":"https://api.github.com/users/rsingh433/repos","events_url":"https://api.github.com/users/rsingh433/events{/privacy}","received_events_url":"https://api.github.com/users/rsingh433/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T17:58:41Z","updated_at":"2023-12-07T17:58:41Z","author_association":"CONTRIBUTOR","body":"I will work on this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845849975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845856908","html_url":"https://github.com/apache/accumulo/issues/3953#issuecomment-1845856908","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3953","id":1845856908,"node_id":"IC_kwDOACaFSM5uBYqM","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T18:02:25Z","updated_at":"2023-12-07T18:02:25Z","author_association":"MEMBER","body":"@ddanielr You marked this for 2.1. This would be a new feature. Although it's convenient, I think we're past the milestone for adding new features for 2.1, unless it's critical or is needed to address a bug. If somebody becomes dependent on this in 2.1.3, but then downgrades to 2.1.2, things will break for them. So, I think 3.1 and later makes sense for this one. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845856908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845862659","html_url":"https://github.com/apache/accumulo/issues/3953#issuecomment-1845862659","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3953","id":1845862659,"node_id":"IC_kwDOACaFSM5uBaED","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T18:06:28Z","updated_at":"2023-12-07T18:06:28Z","author_association":"CONTRIBUTOR","body":"> @ddanielr You marked this for 2.1. This would be a new feature. Although it's convenient, I think we're past the milestone for adding new features for 2.1, unless it's critical or is needed to address a bug. If somebody becomes dependent on this in 2.1.3, but then downgrades to 2.1.2, things will break for them. So, I think 3.1 and later makes sense for this one. What do you think?\n\nThat sounds fine! I agree that if they become dependent on it and have to downgrade It would be a major inconvenience. \n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845862659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845875766","html_url":"https://github.com/apache/accumulo/issues/4037#issuecomment-1845875766","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4037","id":1845875766,"node_id":"IC_kwDOACaFSM5uBdQ2","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T18:15:47Z","updated_at":"2023-12-07T18:15:47Z","author_association":"CONTRIBUTOR","body":"The pause in the minc and majc cases is to allow the low memory condition to subside. That could be caused by any oneof the other scan / compaction threads in the tserver in the pre-elasticity versions. If the Compactor falls over, then that compaction will fail and will be assigned to a different compactor. Since a compactor is single threaded, I think the probability of it failing due to OOM is less than the tserver.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845875766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845902349","html_url":"https://github.com/apache/accumulo/issues/4037#issuecomment-1845902349","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4037","id":1845902349,"node_id":"IC_kwDOACaFSM5uBjwN","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T18:34:11Z","updated_at":"2023-12-07T18:34:11Z","author_association":"MEMBER","body":"If the IT is removed, it should be removed because the corresponding low-memory pausing feature is also removed (or if it was never implemented there).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845902349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845992228","html_url":"https://github.com/apache/accumulo/issues/4040#issuecomment-1845992228","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4040","id":1845992228,"node_id":"IC_kwDOACaFSM5uB5sk","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T19:41:38Z","updated_at":"2023-12-07T19:41:38Z","author_association":"MEMBER","body":"Oh, actually, I just checked and it looks like `-f` and `-fv` commands are \"execute at startup\". So, tab-completion should still be enabled, because it goes to the command prompt once the script is done executing unless \"exit\" is called. So, I think we don't need to do anything for those. It's just up to the user to specify `--disable-tab-completion` explicitly when executing the script and exiting. We should still make sure it's disabled for the `-e` case, though.\r\n\r\nI was also thinking, it might be better to just deprecate `-e`, since:\r\n\r\n```sh\r\n$ACCUMULO_HOME/bin/accumulo shell -e \"tables\"\r\n```\r\n\r\nis equivalent to:\r\n\r\n```sh\r\n$ACCUMULO_HOME/bin/accumulo shell -f <(echo -e \"tables\\nexit\")\r\n```\r\n\r\nIf anything, rather than have an \"execute single command\" option, it'd be better to have a command that executes a script and exits automatically, and implies disabling tab completion. But, backwards compatibility must be considered for any such changes.\r\n\r\nFor now, for this issue, it's sufficient to just ensure `--disable-tab-completion` is implied when `-e` is used.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1845992228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1846002234","html_url":"https://github.com/apache/accumulo/pull/3969#issuecomment-1846002234","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3969","id":1846002234,"node_id":"IC_kwDOACaFSM5uB8I6","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T19:49:17Z","updated_at":"2023-12-07T19:49:17Z","author_association":"CONTRIBUTOR","body":"@ctubbsii updated the columns to remove the HostingColumnFamily and place the availability and requested qualifiers to ~tab:availability and ~tab:requestToHost. Should be ready for review now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1846002234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1846188746","html_url":"https://github.com/apache/accumulo/pull/4042#issuecomment-1846188746","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4042","id":1846188746,"node_id":"IC_kwDOACaFSM5uCprK","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T22:11:40Z","updated_at":"2023-12-07T22:11:40Z","author_association":"CONTRIBUTOR","body":"Prior to this change every fate thread would read everything from ZK when it wanted to find work.  Think this will read a lot less from zookeeper and eventually the metadata table.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1846188746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1846227008","html_url":"https://github.com/apache/accumulo/pull/4042#issuecomment-1846227008","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4042","id":1846227008,"node_id":"IC_kwDOACaFSM5uCzBA","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T22:49:02Z","updated_at":"2023-12-07T22:49:02Z","author_association":"CONTRIBUTOR","body":"The bug from #4017, that this fixes, is causing fate operations to take 5 seconds which is causing some test to timeout\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1846227008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1846434941","html_url":"https://github.com/apache/accumulo/issues/4021#issuecomment-1846434941","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4021","id":1846434941,"node_id":"IC_kwDOACaFSM5uDlx9","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T01:53:42Z","updated_at":"2023-12-08T01:53:42Z","author_association":"CONTRIBUTOR","body":"@dlmarion I experimented with the test in main and a minor compaction also happens in there, it just seems to happen consistently later.  In main I made the following change and that will cause the test to fail there also.\r\n\r\n```diff\r\ndiff --git a/test/src/main/java/org/apache/accumulo/test/functional/SummaryIT.java b/test/src/main/java/org/apache/accumulo/test/functional/SummaryIT.java\r\nindex ca9fa216c0..921e8fe09f 100644\r\n--- a/test/src/main/java/org/apache/accumulo/test/functional/SummaryIT.java\r\n+++ b/test/src/main/java/org/apache/accumulo/test/functional/SummaryIT.java\r\n@@ -149,6 +149,8 @@ public class SummaryIT extends SharedMiniClusterBase {\r\n \r\n       BatchWriter bw = writeData(table, c);\r\n \r\n+      Thread.sleep(1000);\r\n+\r\n       Collection<Summary> summaries = c.tableOperations().summaries(table).flush(false).retrieve();\r\n       assertEquals(0, summaries.size());\r\n\r\n```\r\n\r\nSo it seems the minc is happening in both places, its just consistently happening sooner in elasticity.\r\n\r\nI also looked at config and both branches end up with a config of 40M for the in memory map which seem to come from mini accumulo.  Also seeing very similar log messages from LargestFirstMemoryManager in both branches.  Not sure why elasticity is consistently donig the minc a bit sooner.\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1846434941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847516614","html_url":"https://github.com/apache/accumulo/pull/4042#issuecomment-1847516614","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4042","id":1847516614,"node_id":"IC_kwDOACaFSM5uHt3G","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T16:51:34Z","updated_at":"2023-12-08T16:51:34Z","author_association":"CONTRIBUTOR","body":"It looks like with the transfer queue change, you are no longer queue'ing things up and instead only using it to transfer work to an available worker. Is that correct? There was a comment in an earlier version about  the queue needing to change size on a config change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847516614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847525270","html_url":"https://github.com/apache/accumulo/pull/4042#issuecomment-1847525270","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4042","id":1847525270,"node_id":"IC_kwDOACaFSM5uHv-W","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T16:58:06Z","updated_at":"2023-12-08T16:58:06Z","author_association":"CONTRIBUTOR","body":"> It looks like with the transfer queue change, you are no longer queue'ing things up and instead only using it to transfer work to an available worker. Is that correct? There was a comment in an earlier version about the queue needing to change size on a config change.\r\n\r\nYeah that is what it is doing now.  I removed that comment when switching to transfer queue.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847525270/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847560488","html_url":"https://github.com/apache/accumulo/pull/4042#issuecomment-1847560488","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4042","id":1847560488,"node_id":"IC_kwDOACaFSM5uH4ko","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T17:25:35Z","updated_at":"2023-12-08T17:25:35Z","author_association":"CONTRIBUTOR","body":"> > It looks like with the transfer queue change, you are no longer queue'ing things up and instead only using it to transfer work to an available worker. Is that correct? There was a comment in an earlier version about the queue needing to change size on a config change.\r\n> \r\n> Yeah that is what it is doing now. I removed that comment when switching to transfer queue.\r\n\r\nI think that's a good approach, conserves memory in the Manager.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847560488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847599725","html_url":"https://github.com/apache/accumulo/pull/4042#issuecomment-1847599725","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4042","id":1847599725,"node_id":"IC_kwDOACaFSM5uICJt","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T17:59:18Z","updated_at":"2023-12-08T17:59:18Z","author_association":"CONTRIBUTOR","body":"> I think that's a good approach, conserves memory in the Manager.\r\n\r\nYeah, and eventually the impl that stores data in an accumulo table may be able to be more memory efficient than the ZK impl.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847599725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847626454","html_url":"https://github.com/apache/accumulo/pull/3997#issuecomment-1847626454","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3997","id":1847626454,"node_id":"IC_kwDOACaFSM5uIIrW","user":{"login":"rsingh433","id":74160026,"node_id":"MDQ6VXNlcjc0MTYwMDI2","avatar_url":"https://avatars.githubusercontent.com/u/74160026?v=4","gravatar_id":"","url":"https://api.github.com/users/rsingh433","html_url":"https://github.com/rsingh433","followers_url":"https://api.github.com/users/rsingh433/followers","following_url":"https://api.github.com/users/rsingh433/following{/other_user}","gists_url":"https://api.github.com/users/rsingh433/gists{/gist_id}","starred_url":"https://api.github.com/users/rsingh433/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsingh433/subscriptions","organizations_url":"https://api.github.com/users/rsingh433/orgs","repos_url":"https://api.github.com/users/rsingh433/repos","events_url":"https://api.github.com/users/rsingh433/events{/privacy}","received_events_url":"https://api.github.com/users/rsingh433/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T18:15:49Z","updated_at":"2023-12-08T18:15:49Z","author_association":"CONTRIBUTOR","body":"I removed the switchFile method and updated the switchVolumes method to directly create a new LogEntry instance with the switched file path. Now, the LogEntry class itself is responsible for creating instances based on the file path. Also, I added the functionality to add LogEntry information to a mutation by calling logEntry.addToMutation(mutation).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847626454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847655516","html_url":"https://github.com/apache/accumulo/issues/4044#issuecomment-1847655516","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4044","id":1847655516,"node_id":"IC_kwDOACaFSM5uIPxc","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T18:40:57Z","updated_at":"2023-12-08T18:40:57Z","author_association":"CONTRIBUTOR","body":"This can help prevent bugs like creating a FATE operation in FATE instance A and trying to use the id in FATE instance B.  Could also be useful for debugging, if when a FATE id is logged its easy to see what FATE instance the id came from.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1847655516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850443241","html_url":"https://github.com/apache/accumulo/issues/3354#issuecomment-1850443241","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3354","id":1850443241,"node_id":"IC_kwDOACaFSM5uS4Xp","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T16:36:15Z","updated_at":"2023-12-11T16:36:15Z","author_association":"CONTRIBUTOR","body":"The test in BulkNewIT mentioned above is no longer Disabled, however setting time for hosted tablets still does not work. Likely need to add a test in BulkNewIT for this condition.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850443241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850598930","html_url":"https://github.com/apache/accumulo/pull/4051#issuecomment-1850598930","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4051","id":1850598930,"node_id":"IC_kwDOACaFSM5uTeYS","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T18:02:19Z","updated_at":"2023-12-11T18:20:42Z","author_association":"MEMBER","body":"Added requested changes:\r\n* Removed \"@ throws Exception\" from javadoc. Hopefully fixes build failure from \"Checkstyle violations\".\r\n* Shutdown the executor in a finally block\r\n* Table is now deleted when test is done\r\n* Check args length using Preconditions.checkArgument()\r\n* Moved client into try-with-resources block\r\n* Messages are now logged in debug mode if in testing context, info mode otherwise","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850598930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850666179","html_url":"https://github.com/apache/accumulo/pull/4051#issuecomment-1850666179","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4051","id":1850666179,"node_id":"IC_kwDOACaFSM5uTuzD","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T18:37:40Z","updated_at":"2023-12-11T18:41:50Z","author_association":"CONTRIBUTOR","body":"The same can be achieved using the instructions [here](https://github.com/apache/accumulo/blob/main/TESTING.md#integration-tests). Just curious, why would we need this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850666179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850684756","html_url":"https://github.com/apache/accumulo/pull/4051#issuecomment-1850684756","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4051","id":1850684756,"node_id":"IC_kwDOACaFSM5uTzVU","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T18:49:26Z","updated_at":"2023-12-11T18:49:26Z","author_association":"CONTRIBUTOR","body":"> The same can be achieved using the instructions [here](https://github.com/apache/accumulo/blob/main/TESTING.md#integration-tests). Just curious, why would we need this?\r\n\r\nWe may not, I had forgotten about that, wonder if the following work\r\n\r\n 1. Setup accumulo in uno\r\n 2. copy test jar to uno lib dir, this is needed because the test has server side code it runs\r\n 3. restart accumulo\r\n 4. run test using mvn passing in uno accumulo props file\r\n\r\nIf it does work may still want some of the changes in this PR like deleting the table.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850684756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850700274","html_url":"https://github.com/apache/accumulo/pull/4051#issuecomment-1850700274","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4051","id":1850700274,"node_id":"IC_kwDOACaFSM5uT3Hy","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T18:59:46Z","updated_at":"2023-12-11T18:59:46Z","author_association":"CONTRIBUTOR","body":"When running this test manually against an existing instance, would like to be able to adjust [this sleep](https://github.com/apache/accumulo/blob/cb1a9ac9373b0cae311e5a67021666e14b006430/test/src/main/java/org/apache/accumulo/test/ScanConsistencyIT.java#L132).  Would like to be able to run this test against an uno instance for hours.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850700274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850700783","html_url":"https://github.com/apache/accumulo/pull/4051#issuecomment-1850700783","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4051","id":1850700783,"node_id":"IC_kwDOACaFSM5uT3Pv","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T19:00:06Z","updated_at":"2023-12-11T19:00:06Z","author_association":"CONTRIBUTOR","body":"See [this](https://github.com/apache/accumulo/blob/main/TESTING.md#standalone-cluster-standalonecapablecluster) for running an IT against an existing instance. Caveat: I've never tried it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850700783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850775288","html_url":"https://github.com/apache/accumulo/pull/4051#issuecomment-1850775288","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4051","id":1850775288,"node_id":"IC_kwDOACaFSM5uUJb4","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T19:48:05Z","updated_at":"2023-12-11T20:35:38Z","author_association":"MEMBER","body":"More requested changes:\r\n* Table deletion is no longer in finally block\r\n* Use log.info\r\n* Main now accepts sleep time\r\n\r\nSince we should be taking in a sleep time parameter, not sure how this would be done using mvn.\r\n\r\nLet me know if the approach using main is sufficient.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1850775288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1852201756","html_url":"https://github.com/apache/accumulo/pull/4057#issuecomment-1852201756","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4057","id":1852201756,"node_id":"IC_kwDOACaFSM5uZlsc","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T14:58:03Z","updated_at":"2023-12-12T14:58:03Z","author_association":"MEMBER","body":"It looks like this depends on #3997, so I'll review this after that's done and merged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1852201756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1852558987","html_url":"https://github.com/apache/accumulo/issues/4038#issuecomment-1852558987","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4038","id":1852558987,"node_id":"IC_kwDOACaFSM5ua86L","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T18:08:53Z","updated_at":"2023-12-12T18:08:53Z","author_association":"MEMBER","body":"I'll work on this issue","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1852558987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1852687061","html_url":"https://github.com/apache/accumulo/issues/4058#issuecomment-1852687061","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4058","id":1852687061,"node_id":"IC_kwDOACaFSM5ubcLV","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T19:37:51Z","updated_at":"2023-12-12T19:37:51Z","author_association":"CONTRIBUTOR","body":"FYI that I recently merged #4007 into the 2.1 branch. You are saying it is unnecessary in 3.1?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1852687061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1852931466","html_url":"https://github.com/apache/accumulo/pull/4053#issuecomment-1852931466","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4053","id":1852931466,"node_id":"IC_kwDOACaFSM5ucX2K","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T22:45:11Z","updated_at":"2023-12-12T22:45:11Z","author_association":"CONTRIBUTOR","body":"Talked with @keith-turner about this - I don't think we want to merge this. The error that is being thrown, the absence of a flush ID, is likely due to the test only inserting data into one of the tablets. The other tablet is likely not hosted, so a flush does not happen and the flushID is not incremented. This is no longer an error.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1852931466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1853931430","html_url":"https://github.com/apache/accumulo/pull/4053#issuecomment-1853931430","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4053","id":1853931430,"node_id":"IC_kwDOACaFSM5ugL-m","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T13:35:54Z","updated_at":"2023-12-13T13:35:54Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #4064 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1853931430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854040521","html_url":"https://github.com/apache/accumulo/pull/4060#issuecomment-1854040521","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4060","id":1854040521,"node_id":"IC_kwDOACaFSM5ugmnJ","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T14:40:06Z","updated_at":"2023-12-13T14:40:06Z","author_association":"CONTRIBUTOR","body":"> is \"type\" still required in the planner config?\r\n\r\nIt currently is for `executors`. \r\nThe plan is for the `executors` property to be removed.  The `groups` property will replace that function and only has three fields: `name`,`maxSize`, and `maxJobs`.\r\n\r\nThe PR with those changes will be submitted once the compaction ITs are all working.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854040521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854263200","html_url":"https://github.com/apache/accumulo/issues/3354#issuecomment-1854263200","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3354","id":1854263200,"node_id":"IC_kwDOACaFSM5uhc-g","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T16:28:44Z","updated_at":"2023-12-13T16:28:44Z","author_association":"CONTRIBUTOR","body":"In #4045 setting time was implemented for bulk imports against hosted tablets.  However this is not complete, still need to persist this time in a follow in PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854263200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854280756","html_url":"https://github.com/apache/accumulo/issues/3573#issuecomment-1854280756","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3573","id":1854280756,"node_id":"IC_kwDOACaFSM5uhhQ0","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T16:35:40Z","updated_at":"2023-12-13T16:35:40Z","author_association":"CONTRIBUTOR","body":"Linking issues #4001 and #4047 which have been contributing to the in-mem diff issues as a result of bulk import operations.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854280756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854454775","html_url":"https://github.com/apache/accumulo/issues/4058#issuecomment-1854454775","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4058","id":1854454775,"node_id":"IC_kwDOACaFSM5uiLv3","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T17:57:12Z","updated_at":"2023-12-13T17:57:12Z","author_association":"MEMBER","body":"> FYI that I recently merged #4007 into the 2.1 branch. You are saying it is unnecessary in 3.1?\r\n\r\nPossibly. It's not clear to me that we're actually storing the full absolute path to the WALs there. The code that parses it seems to expect `tserver/UUID` as the documented format, not `tserver/hdfs://path/to/UUID`. However, I haven't dug enough to find where it maps the UUID to the location on one of the actual volumes, so I can't be sure. I also haven't been able to verify the entry on a live system, to see an example. However, I could be misunderstanding the parsing. It may be trying to store things in `hdfs://path/to/<tserver>/<uuid>`, and it's just dropping off everything except `<tserver>/<uuid>`, so the switch volumes may still be needed. If so, we may need to revert some of #3997 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854454775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854575752","html_url":"https://github.com/apache/accumulo/issues/4065#issuecomment-1854575752","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4065","id":1854575752,"node_id":"IC_kwDOACaFSM5uipSI","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T19:25:53Z","updated_at":"2023-12-13T19:25:53Z","author_association":"CONTRIBUTOR","body":"The test still passes with 2.1 (5b46bd8f97)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854575752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854615044","html_url":"https://github.com/apache/accumulo/issues/4068#issuecomment-1854615044","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4068","id":1854615044,"node_id":"IC_kwDOACaFSM5uiy4E","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T19:56:10Z","updated_at":"2023-12-13T19:56:10Z","author_association":"CONTRIBUTOR","body":"Not sure of the versions where this should be fixed.  It could be fixed in 2.1 and would be a nice fix to have there as long as it does not introduce new bugs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854615044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854618190","html_url":"https://github.com/apache/accumulo/issues/4068#issuecomment-1854618190","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4068","id":1854618190,"node_id":"IC_kwDOACaFSM5uizpO","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T19:58:49Z","updated_at":"2023-12-13T19:58:49Z","author_association":"CONTRIBUTOR","body":"This is one place where the deferral happens in zoostore\r\n\r\nhttps://github.com/apache/accumulo/blob/4d38127e5a3f10e404e90323c49cf146f4c70007/core/src/main/java/org/apache/accumulo/core/fate/ZooStore.java#L289","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854618190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854659442","html_url":"https://github.com/apache/accumulo/issues/4065#issuecomment-1854659442","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4065","id":1854659442,"node_id":"IC_kwDOACaFSM5ui9ty","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T20:31:25Z","updated_at":"2023-12-13T20:31:25Z","author_association":"MEMBER","body":"This reveals a misunderstanding of how we are parsing LogEntry that was implemented in #3997. I will work with @rsingh433 to fix this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854659442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854665414","html_url":"https://github.com/apache/accumulo/issues/4058#issuecomment-1854665414","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4058","id":1854665414,"node_id":"IC_kwDOACaFSM5ui_LG","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T20:36:21Z","updated_at":"2023-12-13T20:36:21Z","author_association":"MEMBER","body":"Based on #4065, it appears this is still needed. #3997 was implemented incorrectly. Will work on reverting/fixing this. I led @rsingh433 astray by misunderstanding the implementation and communicating the wrong design, based on incomplete internal comments about the implementation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854665414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854674881","html_url":"https://github.com/apache/accumulo/issues/4065#issuecomment-1854674881","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4065","id":1854674881,"node_id":"IC_kwDOACaFSM5ujBfB","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T20:44:35Z","updated_at":"2023-12-13T20:44:35Z","author_association":"MEMBER","body":"The misunderstanding is documented in https://github.com/apache/accumulo/issues/4058#issuecomment-1854454775","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854674881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854720154","html_url":"https://github.com/apache/accumulo/issues/4065#issuecomment-1854720154","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4065","id":1854720154,"node_id":"IC_kwDOACaFSM5ujMia","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T21:22:39Z","updated_at":"2023-12-13T21:22:39Z","author_association":"CONTRIBUTOR","body":"Confirmed that with revert commit mention in #4058 that this test now passes.  This can be closed, or kept if we want to verify that additional, planned work does not fail this test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854720154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854892110","html_url":"https://github.com/apache/accumulo/issues/4065#issuecomment-1854892110","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4065","id":1854892110,"node_id":"IC_kwDOACaFSM5uj2hO","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T00:19:20Z","updated_at":"2023-12-14T00:19:20Z","author_association":"MEMBER","body":"Okay, I found the problem. This isn't an issue with a misunderstanding or an incorrect interpretation in the fix for #3997 . Rather, this is merely a failure on our part to update the MetadataConstraint, as well as it revealing a problem that MetaDataTableScanner was still using a very old schema and doing some manual parsing of the log entry's value instead of going through LogEntry, and it just so happened to still work until #3997 stopped using the value. (The parsing code in MetaDataTableScanner seems to be trying to parse a version of log entries that stored multiple log files inside the same value delimited by `|` and `;` characters, instead of being put in separate columns.)\r\n\r\nAlthough I proactively reverted #3997, it can be re-applied and immediately followed by this fix. I will change the misunderstanding that resulted in #3997 using \"logReference\" instead of \"filePath\". They are, in fact, paths, so I will change the variable and method names and comments back to what they were before when I re-apply that patch with the fix for this. I'm testing things locally, so I will have that up shortly as a PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854892110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854914067","html_url":"https://github.com/apache/accumulo/issues/4065#issuecomment-1854914067","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4065","id":1854914067,"node_id":"IC_kwDOACaFSM5uj74T","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T00:47:29Z","updated_at":"2023-12-14T00:47:29Z","author_association":"MEMBER","body":"I will relax the constraint when I re-apply #3997, but the subsequent error is fixed in #4070.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854914067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854935188","html_url":"https://github.com/apache/accumulo/pull/4070#issuecomment-1854935188","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4070","id":1854935188,"node_id":"IC_kwDOACaFSM5ukBCU","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T01:03:55Z","updated_at":"2023-12-14T01:03:55Z","author_association":"MEMBER","body":"The previous build failure was because I tried to apply this to the 2.1 branch. But LogEntry is too different there and I didn't realize that when I cherry-picked it to 2.1. The incorrect parsing is still happening in 2.1, but it has no impact, so it's fine to leave alone in 2.1 and only fix with the newer LogEntry improvements in 3.1. I cherry-picked it back to main and force pushed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854935188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854975684","html_url":"https://github.com/apache/accumulo/pull/4057#issuecomment-1854975684","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4057","id":1854975684,"node_id":"IC_kwDOACaFSM5ukK7E","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T01:47:17Z","updated_at":"2023-12-14T01:47:17Z","author_association":"MEMBER","body":"I resolved the conflicts so this could build, and we could see the differences that this PR introduces more easily, but it looks like it still has some old commits from #3997  that were excluded when that was reverted and redone with #4071 (like keeping the filePath names). So, this PR will have to be rebase'd onto the current main branch and the diffs trimmed down to just the new changes intended to be part of this PR rather than carried over from #3997.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1854975684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1855181631","html_url":"https://github.com/apache/accumulo/pull/4029#issuecomment-1855181631","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4029","id":1855181631,"node_id":"IC_kwDOACaFSM5uk9M_","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T05:46:12Z","updated_at":"2023-12-14T05:46:12Z","author_association":"MEMBER","body":"I merged this to the elasticity branch in 2c8947b90044344fb049a334388aa2fbf46271bb and would appreciate a confirmation there weren't any merge bugs introduced in the conflict resolution. There was a conflict with the FateIT in that branch, but that test appears to not be working in that branch (unrelated to this - it failed before and after the merge in the same way - a NoNode exception).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1855181631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856195164","html_url":"https://github.com/apache/accumulo/issues/3953#issuecomment-1856195164","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3953","id":1856195164,"node_id":"IC_kwDOACaFSM5uo0pc","user":{"login":"rsingh433","id":74160026,"node_id":"MDQ6VXNlcjc0MTYwMDI2","avatar_url":"https://avatars.githubusercontent.com/u/74160026?v=4","gravatar_id":"","url":"https://api.github.com/users/rsingh433","html_url":"https://github.com/rsingh433","followers_url":"https://api.github.com/users/rsingh433/followers","following_url":"https://api.github.com/users/rsingh433/following{/other_user}","gists_url":"https://api.github.com/users/rsingh433/gists{/gist_id}","starred_url":"https://api.github.com/users/rsingh433/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsingh433/subscriptions","organizations_url":"https://api.github.com/users/rsingh433/orgs","repos_url":"https://api.github.com/users/rsingh433/repos","events_url":"https://api.github.com/users/rsingh433/events{/privacy}","received_events_url":"https://api.github.com/users/rsingh433/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T16:48:59Z","updated_at":"2023-12-14T16:48:59Z","author_association":"CONTRIBUTOR","body":"I will look at this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856195164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856236033","html_url":"https://github.com/apache/accumulo/pull/4077#issuecomment-1856236033","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4077","id":1856236033,"node_id":"IC_kwDOACaFSM5uo-oB","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T17:07:15Z","updated_at":"2023-12-14T17:07:15Z","author_association":"CONTRIBUTOR","body":"Do you have extra files in this commit?  It looks like you may have include the changes for ScanConsistencyIT.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856236033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856240840","html_url":"https://github.com/apache/accumulo/pull/4077#issuecomment-1856240840","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4077","id":1856240840,"node_id":"IC_kwDOACaFSM5uo_zI","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T17:09:10Z","updated_at":"2023-12-14T17:09:10Z","author_association":"MEMBER","body":"I think I must have branched off my other feature branch, not main. Working on fix","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856240840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856260531","html_url":"https://github.com/apache/accumulo/pull/4057#issuecomment-1856260531","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4057","id":1856260531,"node_id":"IC_kwDOACaFSM5upEmz","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T17:20:11Z","updated_at":"2023-12-14T17:20:11Z","author_association":"MEMBER","body":"This stricter validation was based on the misunderstanding that the log entry had a fixed number of elements. However, the entry contains a path, which can have an arbitrary number of elements, so I think the current validation is sufficient. It checks the last two path elements for the tserver and uuid.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856260531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856299470","html_url":"https://github.com/apache/accumulo/issues/4076#issuecomment-1856299470","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4076","id":1856299470,"node_id":"IC_kwDOACaFSM5upOHO","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T17:40:08Z","updated_at":"2023-12-14T17:40:08Z","author_association":"CONTRIBUTOR","body":"Wondering if this setting could work with the use case where a minimum is desired.  For example would like to keep between 3 and 100 scan servers running based on activity.   Seems like this setting would always scale down to zero when things are idle. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856299470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856319971","html_url":"https://github.com/apache/accumulo/issues/4076#issuecomment-1856319971","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4076","id":1856319971,"node_id":"IC_kwDOACaFSM5upTHj","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T17:49:46Z","updated_at":"2023-12-14T17:49:46Z","author_association":"CONTRIBUTOR","body":"Yeah, that's a good point. Seems like scaling down to zero if there is no work could be valid.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856319971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856383870","html_url":"https://github.com/apache/accumulo/issues/4076#issuecomment-1856383870","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4076","id":1856383870,"node_id":"IC_kwDOACaFSM5upit-","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T18:34:27Z","updated_at":"2023-12-14T18:34:27Z","author_association":"CONTRIBUTOR","body":"I created #4078 as an initial implementation, but it doesn't implement a minimum. I could add a property for the mininum and implement a check that counts the number of children in ZooKeeper for the process (to include the resource group), but I think that would be best-effort and not guaranteed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856383870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856401516","html_url":"https://github.com/apache/accumulo/issues/4075#issuecomment-1856401516","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4075","id":1856401516,"node_id":"IC_kwDOACaFSM5upnBs","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T18:48:06Z","updated_at":"2023-12-14T18:48:06Z","author_association":"CONTRIBUTOR","body":"Pairing this information with a `# of compactions completed` metric should help with identifying if a compaction error is causing the compaction to fail, or is just reporting the exception and continuing on. \r\n\r\nAdding the compaction ID and/or table ID as a label would allow cross referencing. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1856401516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]