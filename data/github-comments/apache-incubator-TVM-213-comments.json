[{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692458938","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692458938","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692458938,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjQ1ODkzOA==","user":{"login":"yongwww","id":10205827,"node_id":"MDQ6VXNlcjEwMjA1ODI3","avatar_url":"https://avatars.githubusercontent.com/u/10205827?v=4","gravatar_id":"","url":"https://api.github.com/users/yongwww","html_url":"https://github.com/yongwww","followers_url":"https://api.github.com/users/yongwww/followers","following_url":"https://api.github.com/users/yongwww/following{/other_user}","gists_url":"https://api.github.com/users/yongwww/gists{/gist_id}","starred_url":"https://api.github.com/users/yongwww/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yongwww/subscriptions","organizations_url":"https://api.github.com/users/yongwww/orgs","repos_url":"https://api.github.com/users/yongwww/repos","events_url":"https://api.github.com/users/yongwww/events{/privacy}","received_events_url":"https://api.github.com/users/yongwww/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T04:38:37Z","updated_at":"2020-09-15T04:38:37Z","author_association":"MEMBER","body":"@masahi we found `copy_` exists in mask-rcnn model exported from https://github.com/facebookresearch/maskrcnn-benchmark, the mapping in this pr is good enough to support that and the test cases I prepared in this pr. \r\n\r\nHave added a test cases `class CopyInPlace(Module)` to cover this inplace copy, we can pass the test cases, reason is the jit graph would not point to the original tensor after `torch.Tensor.copy_`.  For example, in the following code snippet,  to use `a` after `copy_` \r\n\r\n```\r\na = torch.rand((2, 3))\r\nb = torch.rand((2, ))\r\nc = torch.Tensor.copy_(a, b)\r\nreturn a # a is supposed to be original one, but in jit graph, it is the same as c\r\n``` \r\n\r\nrelated graph:\r\n\r\n```\r\n graph(%self : __torch__.___torch_mangle_10.CopyInPlace,\r\n      %a : Float(2, 3, 5),\r\n      %b : Float(2, 3, 5)):\r\n  %3 : bool = prim::Constant[value=0]()\r\n  %4 : Float(2, 3, 5) = aten::copy_(%a, %b, %3)\r\n  return (%4)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692458938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692460614","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692460614","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692460614,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjQ2MDYxNA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T04:44:58Z","updated_at":"2020-09-15T04:44:58Z","author_association":"MEMBER","body":"yeah, that is also what happens with other inplace ops. TorchScript graph has distinct input/output tensors for each op, even though for inplace op output and one of input tensors point to the same memory. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692460614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692461592","html_url":"https://github.com/apache/tvm/issues/6473#issuecomment-692461592","issue_url":"https://api.github.com/repos/apache/tvm/issues/6473","id":692461592,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjQ2MTU5Mg==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T04:47:54Z","updated_at":"2020-09-15T04:48:17Z","author_association":"MEMBER","body":"I saw a similar issue, in my case `tvm.testing` was not imported but CI doesn't complain. if I run the test directly it fails due to missing import. I guess it relates to how pytest resolves imports.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692461592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692463003","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692463003","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692463003,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjQ2MzAwMw==","user":{"login":"yongwww","id":10205827,"node_id":"MDQ6VXNlcjEwMjA1ODI3","avatar_url":"https://avatars.githubusercontent.com/u/10205827?v=4","gravatar_id":"","url":"https://api.github.com/users/yongwww","html_url":"https://github.com/yongwww","followers_url":"https://api.github.com/users/yongwww/followers","following_url":"https://api.github.com/users/yongwww/following{/other_user}","gists_url":"https://api.github.com/users/yongwww/gists{/gist_id}","starred_url":"https://api.github.com/users/yongwww/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yongwww/subscriptions","organizations_url":"https://api.github.com/users/yongwww/orgs","repos_url":"https://api.github.com/users/yongwww/repos","events_url":"https://api.github.com/users/yongwww/events{/privacy}","received_events_url":"https://api.github.com/users/yongwww/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T04:53:06Z","updated_at":"2020-09-15T04:53:06Z","author_association":"MEMBER","body":"> yeah, that is also what happens with other inplace ops. TorchScript graph has distinct input/output tensors for each op, even though for inplace op output and one of input tensors point to the same memory.\r\n\r\nI see. Interesting, it is more like a TorchScript issue then","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692463003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692483313","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692483313","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692483313,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjQ4MzMxMw==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T05:57:28Z","updated_at":"2020-09-15T05:57:28Z","author_association":"CONTRIBUTOR","body":"Note that maskrcnn-benchmark isn't necessarily intended to be scripted, the worthwhile things have been incorporated into torchvision and improved there.\r\n\r\nThe trouble with in-place operators is that their semantics are not functional (i.e. they modify their inputs) and thus cannot be mapped to TVM. For example that when operated on views (e.g. slices of a tensor, things that come from `view`), they will change the origin (`a[2:4] = b` is a slice + a tensor modifying a).\r\n\r\nWhat you would need to do is to preprocess the graph to remove these side-effects - for example if you can exclude that the input to `clamp_` is a view (e.g. because it comes out of a convolution) and that it is not used anywhere else, you can replace it with `clamp` and proceed. It does require having an opinion on which tensors might share memory (the alias analysis in the PyTorch JIT does that).\r\n\r\nThe last discussion we had on this was #6049 .","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692483313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692488896","html_url":"https://github.com/apache/tvm/pull/6425#issuecomment-692488896","issue_url":"https://api.github.com/repos/apache/tvm/issues/6425","id":692488896,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjQ4ODg5Ng==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T06:11:37Z","updated_at":"2020-09-15T06:11:37Z","author_association":"MEMBER","body":"Should be good to go :-)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692488896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692504259","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692504259","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692504259,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjUwNDI1OQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T06:47:51Z","updated_at":"2020-09-15T06:47:51Z","author_association":"MEMBER","body":"> What you would need to do is to preprocess the graph to remove these side-effects - for example if you can exclude that the input to `clamp_` is a view (e.g. because it comes out of a convolution) and that it is not used anywhere else, you can replace it with `clamp` and proceed. It does require having an opinion on which tensors might share memory (the alias analysis in the PyTorch JIT does that).\r\n\r\nSeems PyTorch already has a set of passes to remove mutation. For example, this pass looks like it removes inplace ops. https://github.com/pytorch/pytorch/blob/61623430d32c081124067fc4abf33bd4a023af90/torch/csrc/jit/passes/remove_inplace_ops.cpp#L35\r\n\r\nWould be interesting to run `torch._C._jit_pass_remove_inplace_ops(...)` and see what happens\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692504259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692504418","html_url":"https://github.com/apache/tvm/pull/6464#issuecomment-692504418","issue_url":"https://api.github.com/repos/apache/tvm/issues/6464","id":692504418,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjUwNDQxOA==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T06:48:12Z","updated_at":"2020-09-15T06:48:12Z","author_association":"CONTRIBUTOR","body":"Thanks @jroesch @zhiics @junrushao1994 ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692504418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692519854","html_url":"https://github.com/apache/tvm/pull/6443#issuecomment-692519854","issue_url":"https://api.github.com/repos/apache/tvm/issues/6443","id":692519854,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjUxOTg1NA==","user":{"login":"xqdan","id":23742050,"node_id":"MDQ6VXNlcjIzNzQyMDUw","avatar_url":"https://avatars.githubusercontent.com/u/23742050?v=4","gravatar_id":"","url":"https://api.github.com/users/xqdan","html_url":"https://github.com/xqdan","followers_url":"https://api.github.com/users/xqdan/followers","following_url":"https://api.github.com/users/xqdan/following{/other_user}","gists_url":"https://api.github.com/users/xqdan/gists{/gist_id}","starred_url":"https://api.github.com/users/xqdan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xqdan/subscriptions","organizations_url":"https://api.github.com/users/xqdan/orgs","repos_url":"https://api.github.com/users/xqdan/repos","events_url":"https://api.github.com/users/xqdan/events{/privacy}","received_events_url":"https://api.github.com/users/xqdan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T07:20:48Z","updated_at":"2020-09-15T07:21:18Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n> @xqdan @Beya2019 I'm not quite sure about whether we really need a NHWC layout topi implementation for roi_align on general purpose hardware, since IMO this should not become any major concern for performance. What @anijain2305 and I are suggesting is that we move the check for NCHW from relay type infer into op strategy for corresponding targets which don't have NHWC implementation.\r\n> \r\n> I agree with @xqdan that topi implementation doesn't need to bind with relay layout. As a result, can we have some data showing the performance difference between NCHW and NHWC layouts roi_align for CPU and a new topi implementation is necessary?\r\n\r\nMaybe just remove NHWC layouts roi_align cpu op, and make sure relay type infer check for different target, make it easy for @Beya2019 , what do you think? @kevinthesun ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692519854/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692521267","html_url":"https://github.com/apache/tvm/pull/6443#issuecomment-692521267","issue_url":"https://api.github.com/repos/apache/tvm/issues/6443","id":692521267,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjUyMTI2Nw==","user":{"login":"Beya2019","id":49267856,"node_id":"MDQ6VXNlcjQ5MjY3ODU2","avatar_url":"https://avatars.githubusercontent.com/u/49267856?v=4","gravatar_id":"","url":"https://api.github.com/users/Beya2019","html_url":"https://github.com/Beya2019","followers_url":"https://api.github.com/users/Beya2019/followers","following_url":"https://api.github.com/users/Beya2019/following{/other_user}","gists_url":"https://api.github.com/users/Beya2019/gists{/gist_id}","starred_url":"https://api.github.com/users/Beya2019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Beya2019/subscriptions","organizations_url":"https://api.github.com/users/Beya2019/orgs","repos_url":"https://api.github.com/users/Beya2019/repos","events_url":"https://api.github.com/users/Beya2019/events{/privacy}","received_events_url":"https://api.github.com/users/Beya2019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T07:23:41Z","updated_at":"2020-09-15T07:23:41Z","author_association":"CONTRIBUTOR","body":"Hi, @kevinthesun\r\n\r\nI have move the check for NCHW from relay type infer into op strategy for corresponding targets. eg:\r\n```\r\n    layout = attrs.layout\r\n    if layout == \"NCHW\":\r\n        strategy.add_implementation(\r\n            wrap_compute_roi_align(topi.vision.rcnn.roi_align_nchw),\r\n            wrap_topi_schedule(topi.generic.schedule_roi_align),\r\n            name=\"roi_align_nchw.generic\",\r\n        )\r\n    elif layout == \"NHWC\":\r\n        strategy.add_implementation(\r\n            wrap_compute_roi_align(topi.vision.rcnn.roi_align_nhwc),\r\n            wrap_topi_schedule(topi.generic.schedule_roi_align),\r\n            name=\"roi_align_nhwc.generic\",\r\n        )\r\n```\r\n\r\nwe depend on the attrs.layout to call different compute and schedule. and we realize the nhwc layout basic compute refered to nchw layout compute to ensure the the basic process is passable.\r\n\r\nIn additon， What I understand is: different targets support different layouts, and the user chooses the high-performance layout supported by his target. The right to choose which layout is open to users, users can use transform.ConvertLayout(desired_layouts) to convert between NHWC and NCHW layouts. And the nhwc layout compute we added is to ensure that the conversion will not cause compilation errors. In the feature, if other users have the performance demand for GPU or other targets, he can add the corresponding schedule to improve performance. The current implementation only provides a general method.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692521267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692541301","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692541301","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692541301,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjU0MTMwMQ==","user":{"login":"yongwww","id":10205827,"node_id":"MDQ6VXNlcjEwMjA1ODI3","avatar_url":"https://avatars.githubusercontent.com/u/10205827?v=4","gravatar_id":"","url":"https://api.github.com/users/yongwww","html_url":"https://github.com/yongwww","followers_url":"https://api.github.com/users/yongwww/followers","following_url":"https://api.github.com/users/yongwww/following{/other_user}","gists_url":"https://api.github.com/users/yongwww/gists{/gist_id}","starred_url":"https://api.github.com/users/yongwww/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yongwww/subscriptions","organizations_url":"https://api.github.com/users/yongwww/orgs","repos_url":"https://api.github.com/users/yongwww/repos","events_url":"https://api.github.com/users/yongwww/events{/privacy}","received_events_url":"https://api.github.com/users/yongwww/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T08:01:56Z","updated_at":"2020-09-15T08:01:56Z","author_association":"MEMBER","body":"> Would be interesting to run `torch._C._jit_pass_remove_inplace_ops(...)` and see what happens\r\n\r\nthe graph is still the same as before","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692541301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692546794","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692546794","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692546794,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjU0Njc5NA==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T08:12:31Z","updated_at":"2020-09-15T08:12:31Z","author_association":"CONTRIBUTOR","body":"> Seems PyTorch already has a set of passes to remove mutation\r\n\r\nNote fat warning at the top of the class, though.\r\n\r\nA typical use of copy is something like this:\r\n```\r\nIn [1]: import torch\r\n\r\nIn [2]: @torch.jit.script\r\n   ...: def update(x, y):\r\n   ...:     x[0] = y\r\n   ...:     return x\r\n   ...: \r\n\r\nIn [3]: update.graph\r\nOut[3]: \r\ngraph(%x.1 : Tensor,\r\n      %y.1 : Tensor):\r\n  %7 : bool = prim::Constant[value=0]()\r\n  %4 : int = prim::Constant[value=0]() # <ipython-input-2-e9bf1f9acfa9>:3:6\r\n  %6 : Tensor = aten::select(%x.1, %4, %4) # <ipython-input-2-e9bf1f9acfa9>:3:4\r\n  %8 : Tensor = aten::copy_(%6, %y.1, %7) # <ipython-input-2-e9bf1f9acfa9>:3:4\r\n  return (%x.1)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692546794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692548630","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692548630","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692548630,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjU0ODYzMA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T08:15:46Z","updated_at":"2020-09-15T08:20:49Z","author_association":"MEMBER","body":"> the graph is still the same as before\r\n\r\nYeah, this pass only supports a very small subset of inplace ops, see\r\nhttps://github.com/pytorch/pytorch/blob/61623430d32c081124067fc4abf33bd4a023af90/torch/csrc/jit/passes/remove_inplace_ops.cpp#L7-L12\r\n\r\nIt does seem though that their onnx export use  inplace op removal (using a different pass than the one above) before they emit onnx.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692548630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692548751","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-692548751","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":692548751,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjU0ODc1MQ==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T08:16:00Z","updated_at":"2020-09-15T08:16:00Z","author_association":"CONTRIBUTOR","body":"@zhiics @kevinthesun @masahi \r\nThank you, @kevinthesun for your summary and all the work in the investigation and your PR.\r\n\r\nI think using `if isinstance(..., _expr.Expr):` would be very much preferable to using exceptions.\r\n\r\n1. I see the uses of `try: ... except: ...` as using exceptions for regular control flow (because the error case is the one where the old normal logic is applicable and so we should have a clear view when the new logic is applicable and when not) and it would then except on the old cases,\r\n2. Not using `try: ... except: ...` for regular control flow seems like good programming fundamentals to me. It would seem odd if TVM as a compiler stack would not strive to follow best practice here.\r\n\r\nNeither am I entirely sure whether 1. is contentious or not and to me it would seem that a PR is an odd place to form an opinion on 2. At the same time I see the construct as problematic enough to have a really hard time liking the current state of the PR. It would bring great joy if you could be convinced to move it to `if`.\r\n\r\nI should emphasize that I'm entirely for having the new functions appreciate your @kevinthesun work on this. Thank you!\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692548751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692568164","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692568164","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692568164,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjU2ODE2NA==","user":{"login":"yongwww","id":10205827,"node_id":"MDQ6VXNlcjEwMjA1ODI3","avatar_url":"https://avatars.githubusercontent.com/u/10205827?v=4","gravatar_id":"","url":"https://api.github.com/users/yongwww","html_url":"https://github.com/yongwww","followers_url":"https://api.github.com/users/yongwww/followers","following_url":"https://api.github.com/users/yongwww/following{/other_user}","gists_url":"https://api.github.com/users/yongwww/gists{/gist_id}","starred_url":"https://api.github.com/users/yongwww/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yongwww/subscriptions","organizations_url":"https://api.github.com/users/yongwww/orgs","repos_url":"https://api.github.com/users/yongwww/repos","events_url":"https://api.github.com/users/yongwww/events{/privacy}","received_events_url":"https://api.github.com/users/yongwww/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T08:49:05Z","updated_at":"2020-09-15T08:49:39Z","author_association":"MEMBER","body":"> > Seems PyTorch already has a set of passes to remove mutation\r\n> \r\n> Note fat warning at the top of the class, though.\r\n> \r\n> A typical use of copy is something like this:\r\n> \r\n> ```\r\n> In [1]: import torch\r\n> \r\n> In [2]: @torch.jit.script\r\n>    ...: def update(x, y):\r\n>    ...:     x[0] = y\r\n>    ...:     return x\r\n>    ...: \r\n> \r\n> In [3]: update.graph\r\n> Out[3]: \r\n> graph(%x.1 : Tensor,\r\n>       %y.1 : Tensor):\r\n>   %7 : bool = prim::Constant[value=0]()\r\n>   %4 : int = prim::Constant[value=0]() # <ipython-input-2-e9bf1f9acfa9>:3:6\r\n>   %6 : Tensor = aten::select(%x.1, %4, %4) # <ipython-input-2-e9bf1f9acfa9>:3:4\r\n>   %8 : Tensor = aten::copy_(%6, %y.1, %7) # <ipython-input-2-e9bf1f9acfa9>:3:4\r\n>   return (%x.1)\r\n> ```\r\n\r\njust tested with a similar test case as the one you provided, the slicing assignment doesn't take effect in jit graph.\r\n\r\n       ```\r\n        # test case\r\n        def forward(self, *args):\r\n            a = args[0]\r\n            b = args[1]\r\n            a[0] = b\r\n            return a\r\n        ```\r\nrelated graph:\r\n\r\n```\r\ngraph(%self : __torch__.Copy,\r\n      %a : Float(2, 3),\r\n      %b : Float(1, 3)):\r\n  %3 : int = prim::Constant[value=0]() \r\n  %4 : int = prim::Constant[value=0]() \r\n  %5 : Float(3) = aten::select(%a, %3, %4) # \r\n  %6 : int = prim::Constant[value=3]() \r\n  %7 : int[] = prim::ListConstruct(%6)\r\n  %8 : Float(3) = aten::view(%b, %7) \r\n  %9 : bool = prim::Constant[value=0]()\r\n  %10 : Float(3) = aten::copy_(%5, %8, %9) \r\n  return (%a)\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692568164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692571731","html_url":"https://github.com/apache/tvm/pull/6475#issuecomment-692571731","issue_url":"https://api.github.com/repos/apache/tvm/issues/6475","id":692571731,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjU3MTczMQ==","user":{"login":"leandron","id":437416,"node_id":"MDQ6VXNlcjQzNzQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/437416?v=4","gravatar_id":"","url":"https://api.github.com/users/leandron","html_url":"https://github.com/leandron","followers_url":"https://api.github.com/users/leandron/followers","following_url":"https://api.github.com/users/leandron/following{/other_user}","gists_url":"https://api.github.com/users/leandron/gists{/gist_id}","starred_url":"https://api.github.com/users/leandron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leandron/subscriptions","organizations_url":"https://api.github.com/users/leandron/orgs","repos_url":"https://api.github.com/users/leandron/repos","events_url":"https://api.github.com/users/leandron/events{/privacy}","received_events_url":"https://api.github.com/users/leandron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T08:55:13Z","updated_at":"2020-09-15T08:55:13Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this. LGTM","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692571731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692573786","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692573786","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692573786,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjU3Mzc4Ng==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T08:58:38Z","updated_at":"2020-09-15T08:59:44Z","author_association":"CONTRIBUTOR","body":"@yongwww what does \"the slicing assignment doesn't take effect in jit\" mean? The JITed function does update `a` because `select` will return a view that uses the same memory as a and then `copy_` writes to that. I tried with an `a` that is all zeros and `b` that contains random.\r\n\r\nWhich thing in maskrcnn-benchmark produces the `copy_` and why is your translation correct? Maybe we can eliminate the `copy_` beforehand.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692573786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692589490","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692589490","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692589490,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjU4OTQ5MA==","user":{"login":"yongwww","id":10205827,"node_id":"MDQ6VXNlcjEwMjA1ODI3","avatar_url":"https://avatars.githubusercontent.com/u/10205827?v=4","gravatar_id":"","url":"https://api.github.com/users/yongwww","html_url":"https://github.com/yongwww","followers_url":"https://api.github.com/users/yongwww/followers","following_url":"https://api.github.com/users/yongwww/following{/other_user}","gists_url":"https://api.github.com/users/yongwww/gists{/gist_id}","starred_url":"https://api.github.com/users/yongwww/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yongwww/subscriptions","organizations_url":"https://api.github.com/users/yongwww/orgs","repos_url":"https://api.github.com/users/yongwww/repos","events_url":"https://api.github.com/users/yongwww/events{/privacy}","received_events_url":"https://api.github.com/users/yongwww/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T09:23:05Z","updated_at":"2020-09-15T09:48:39Z","author_association":"MEMBER","body":"@t-vi  I see, thanks for pointing the select out, yeah, for your case, the jit graph is okay and works fine with PyTorch. But seems tvm doesn't support this case without real in-place operation. For a reference, we can see the slicing stuff here https://github.com/facebookresearch/maskrcnn-benchmark/blob/4ac0a3b440320ff0d0159a280f2897d1f9f996f3/maskrcnn_benchmark/modeling/box_coder.py#L85-L93","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692589490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692594584","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692594584","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692594584,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjU5NDU4NA==","user":{"login":"yongwww","id":10205827,"node_id":"MDQ6VXNlcjEwMjA1ODI3","avatar_url":"https://avatars.githubusercontent.com/u/10205827?v=4","gravatar_id":"","url":"https://api.github.com/users/yongwww","html_url":"https://github.com/yongwww","followers_url":"https://api.github.com/users/yongwww/followers","following_url":"https://api.github.com/users/yongwww/following{/other_user}","gists_url":"https://api.github.com/users/yongwww/gists{/gist_id}","starred_url":"https://api.github.com/users/yongwww/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yongwww/subscriptions","organizations_url":"https://api.github.com/users/yongwww/orgs","repos_url":"https://api.github.com/users/yongwww/repos","events_url":"https://api.github.com/users/yongwww/events{/privacy}","received_events_url":"https://api.github.com/users/yongwww/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T09:31:57Z","updated_at":"2020-09-15T09:31:57Z","author_association":"MEMBER","body":"@masahi @t-vi @zhiics @kevinthesun  \r\nto sum up the discussion above. The mapping in this pr is able to support some test cases (added in the test_forward) which are not real in-place copy. \r\n\r\nFor test case @t-vi provided, the in-place copy is required, and the implementation in this pr doesn't work for that.  \r\n\r\nI would suggest adding a warning and todo in this mapping since some other merged in-place op mapping should has the similar issues, don't have a quick solution for this in my mind at this point. Any suggestion?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692594584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692747987","html_url":"https://github.com/apache/tvm/pull/6355#issuecomment-692747987","issue_url":"https://api.github.com/repos/apache/tvm/issues/6355","id":692747987,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjc0Nzk4Nw==","user":{"login":"mbaret","id":55580676,"node_id":"MDQ6VXNlcjU1NTgwNjc2","avatar_url":"https://avatars.githubusercontent.com/u/55580676?v=4","gravatar_id":"","url":"https://api.github.com/users/mbaret","html_url":"https://github.com/mbaret","followers_url":"https://api.github.com/users/mbaret/followers","following_url":"https://api.github.com/users/mbaret/following{/other_user}","gists_url":"https://api.github.com/users/mbaret/gists{/gist_id}","starred_url":"https://api.github.com/users/mbaret/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbaret/subscriptions","organizations_url":"https://api.github.com/users/mbaret/orgs","repos_url":"https://api.github.com/users/mbaret/repos","events_url":"https://api.github.com/users/mbaret/events{/privacy}","received_events_url":"https://api.github.com/users/mbaret/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T14:21:29Z","updated_at":"2020-09-15T14:21:29Z","author_association":"CONTRIBUTOR","body":"vta change reverted","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692747987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692754302","html_url":"https://github.com/apache/tvm/issues/6421#issuecomment-692754302","issue_url":"https://api.github.com/repos/apache/tvm/issues/6421","id":692754302,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjc1NDMwMg==","user":{"login":"u99127","id":19559067,"node_id":"MDQ6VXNlcjE5NTU5MDY3","avatar_url":"https://avatars.githubusercontent.com/u/19559067?v=4","gravatar_id":"","url":"https://api.github.com/users/u99127","html_url":"https://github.com/u99127","followers_url":"https://api.github.com/users/u99127/followers","following_url":"https://api.github.com/users/u99127/following{/other_user}","gists_url":"https://api.github.com/users/u99127/gists{/gist_id}","starred_url":"https://api.github.com/users/u99127/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/u99127/subscriptions","organizations_url":"https://api.github.com/users/u99127/orgs","repos_url":"https://api.github.com/users/u99127/repos","events_url":"https://api.github.com/users/u99127/events{/privacy}","received_events_url":"https://api.github.com/users/u99127/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T14:31:10Z","updated_at":"2020-09-15T14:31:10Z","author_association":"CONTRIBUTOR","body":"I'd like to see the tvmc work to be functional before we cut the release please. I'd also like to see the Ethos-N PRs land as well. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692754302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692759775","html_url":"https://github.com/apache/tvm/issues/6473#issuecomment-692759775","issue_url":"https://api.github.com/repos/apache/tvm/issues/6473","id":692759775,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjc1OTc3NQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T14:39:43Z","updated_at":"2020-09-15T14:39:43Z","author_association":"MEMBER","body":"good catch, please send a PR to fix the problem. It is due to how pytest running everything together and file being imported elsewere","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692759775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692790307","html_url":"https://github.com/apache/tvm/pull/6351#issuecomment-692790307","issue_url":"https://api.github.com/repos/apache/tvm/issues/6351","id":692790307,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjc5MDMwNw==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T15:24:06Z","updated_at":"2020-09-15T15:24:06Z","author_association":"MEMBER","body":"@jwfromm @electriclilies please take another look","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692790307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692792601","html_url":"https://github.com/apache/tvm/pull/6479#issuecomment-692792601","issue_url":"https://api.github.com/repos/apache/tvm/issues/6479","id":692792601,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjc5MjYwMQ==","user":{"login":"roastduck","id":6522983,"node_id":"MDQ6VXNlcjY1MjI5ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6522983?v=4","gravatar_id":"","url":"https://api.github.com/users/roastduck","html_url":"https://github.com/roastduck","followers_url":"https://api.github.com/users/roastduck/followers","following_url":"https://api.github.com/users/roastduck/following{/other_user}","gists_url":"https://api.github.com/users/roastduck/gists{/gist_id}","starred_url":"https://api.github.com/users/roastduck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roastduck/subscriptions","organizations_url":"https://api.github.com/users/roastduck/orgs","repos_url":"https://api.github.com/users/roastduck/repos","events_url":"https://api.github.com/users/roastduck/events{/privacy}","received_events_url":"https://api.github.com/users/roastduck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T15:27:47Z","updated_at":"2020-09-15T15:27:47Z","author_association":"CONTRIBUTOR","body":"Why does the CI complaint about something I did not modify?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692792601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692806664","html_url":"https://github.com/apache/tvm/pull/6480#issuecomment-692806664","issue_url":"https://api.github.com/repos/apache/tvm/issues/6480","id":692806664,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjgwNjY2NA==","user":{"login":"rkimball","id":15673563,"node_id":"MDQ6VXNlcjE1NjczNTYz","avatar_url":"https://avatars.githubusercontent.com/u/15673563?v=4","gravatar_id":"","url":"https://api.github.com/users/rkimball","html_url":"https://github.com/rkimball","followers_url":"https://api.github.com/users/rkimball/followers","following_url":"https://api.github.com/users/rkimball/following{/other_user}","gists_url":"https://api.github.com/users/rkimball/gists{/gist_id}","starred_url":"https://api.github.com/users/rkimball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkimball/subscriptions","organizations_url":"https://api.github.com/users/rkimball/orgs","repos_url":"https://api.github.com/users/rkimball/repos","events_url":"https://api.github.com/users/rkimball/events{/privacy}","received_events_url":"https://api.github.com/users/rkimball/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T15:50:34Z","updated_at":"2020-09-15T15:50:34Z","author_association":"CONTRIBUTOR","body":"@tqchen \r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692806664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692818356","html_url":"https://github.com/apache/tvm/pull/6481#issuecomment-692818356","issue_url":"https://api.github.com/repos/apache/tvm/issues/6481","id":692818356,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjgxODM1Ng==","user":{"login":"rkimball","id":15673563,"node_id":"MDQ6VXNlcjE1NjczNTYz","avatar_url":"https://avatars.githubusercontent.com/u/15673563?v=4","gravatar_id":"","url":"https://api.github.com/users/rkimball","html_url":"https://github.com/rkimball","followers_url":"https://api.github.com/users/rkimball/followers","following_url":"https://api.github.com/users/rkimball/following{/other_user}","gists_url":"https://api.github.com/users/rkimball/gists{/gist_id}","starred_url":"https://api.github.com/users/rkimball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkimball/subscriptions","organizations_url":"https://api.github.com/users/rkimball/orgs","repos_url":"https://api.github.com/users/rkimball/repos","events_url":"https://api.github.com/users/rkimball/events{/privacy}","received_events_url":"https://api.github.com/users/rkimball/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T16:10:18Z","updated_at":"2020-09-15T16:10:18Z","author_association":"CONTRIBUTOR","body":"@tqchen ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692818356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692818512","html_url":"https://github.com/apache/tvm/pull/6334#issuecomment-692818512","issue_url":"https://api.github.com/repos/apache/tvm/issues/6334","id":692818512,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjgxODUxMg==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T16:10:38Z","updated_at":"2020-09-15T16:10:38Z","author_association":"MEMBER","body":"Thansk @liangfu @areusch !","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692818512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692834196","html_url":"https://github.com/apache/tvm/pull/6481#issuecomment-692834196","issue_url":"https://api.github.com/repos/apache/tvm/issues/6481","id":692834196,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjgzNDE5Ng==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T16:38:34Z","updated_at":"2020-09-15T16:38:34Z","author_association":"MEMBER","body":"Thanks @rkimball Given that we already have a script for the style application, I feel we don't need to add the duplicated command here. Notably the check can differ depending on the setup. For example, most people the recommended way is to do \r\n\r\n`tests/lint/git-clang-format.sh -i upstream/master`, instead of HEAD~1 because that only checks for the last one commit.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692834196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692843402","html_url":"https://github.com/apache/tvm/pull/6395#issuecomment-692843402","issue_url":"https://api.github.com/repos/apache/tvm/issues/6395","id":692843402,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg0MzQwMg==","user":{"login":"trevor-m","id":12981474,"node_id":"MDQ6VXNlcjEyOTgxNDc0","avatar_url":"https://avatars.githubusercontent.com/u/12981474?v=4","gravatar_id":"","url":"https://api.github.com/users/trevor-m","html_url":"https://github.com/trevor-m","followers_url":"https://api.github.com/users/trevor-m/followers","following_url":"https://api.github.com/users/trevor-m/following{/other_user}","gists_url":"https://api.github.com/users/trevor-m/gists{/gist_id}","starred_url":"https://api.github.com/users/trevor-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevor-m/subscriptions","organizations_url":"https://api.github.com/users/trevor-m/orgs","repos_url":"https://api.github.com/users/trevor-m/repos","events_url":"https://api.github.com/users/trevor-m/events{/privacy}","received_events_url":"https://api.github.com/users/trevor-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T16:55:22Z","updated_at":"2020-09-15T16:55:22Z","author_association":"CONTRIBUTOR","body":"> Just a couple of minor suggestions and comments - looks good overall, without regard to comments/concerns above.\r\n> \r\n> One overall suggestion from a users perspective, it might be useful to write a beginners guide stating how to install and build with TensorRT support. Feel free to ignore though.\r\n\r\nThanks @lhutton1 for the review! Is `docs/deploy` the typical place for a guide like that?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692843402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692844205","html_url":"https://github.com/apache/tvm/pull/6479#issuecomment-692844205","issue_url":"https://api.github.com/repos/apache/tvm/issues/6479","id":692844205,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg0NDIwNQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T16:56:50Z","updated_at":"2020-09-15T16:56:50Z","author_association":"MEMBER","body":"@roastduck you can try to apply `tests/script/git-black.sh -i upstream/master`","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692844205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692844819","html_url":"https://github.com/apache/tvm/issues/6483#issuecomment-692844819","issue_url":"https://api.github.com/repos/apache/tvm/issues/6483","id":692844819,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg0NDgxOQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T16:57:55Z","updated_at":"2020-09-15T16:57:55Z","author_association":"MEMBER","body":"cc @comaniac @jroesch @areusch ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692844819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692847204","html_url":"https://github.com/apache/tvm/issues/6483#issuecomment-692847204","issue_url":"https://api.github.com/repos/apache/tvm/issues/6483","id":692847204,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg0NzIwNA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T17:02:03Z","updated_at":"2020-09-15T17:02:03Z","author_association":"CONTRIBUTOR","body":"I can take a look.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692847204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692849038","html_url":"https://github.com/apache/tvm/pull/6482#issuecomment-692849038","issue_url":"https://api.github.com/repos/apache/tvm/issues/6482","id":692849038,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg0OTAzOA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T17:05:32Z","updated_at":"2020-09-15T17:05:32Z","author_association":"MEMBER","body":"cc @anijain2305 @ZihengJiang @jroesch @FrozenGene @jroesch @zhiics @yzhliu ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692849038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692850735","html_url":"https://github.com/apache/tvm/pull/6395#issuecomment-692850735","issue_url":"https://api.github.com/repos/apache/tvm/issues/6395","id":692850735,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg1MDczNQ==","user":{"login":"lhutton1","id":35535092,"node_id":"MDQ6VXNlcjM1NTM1MDky","avatar_url":"https://avatars.githubusercontent.com/u/35535092?v=4","gravatar_id":"","url":"https://api.github.com/users/lhutton1","html_url":"https://github.com/lhutton1","followers_url":"https://api.github.com/users/lhutton1/followers","following_url":"https://api.github.com/users/lhutton1/following{/other_user}","gists_url":"https://api.github.com/users/lhutton1/gists{/gist_id}","starred_url":"https://api.github.com/users/lhutton1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lhutton1/subscriptions","organizations_url":"https://api.github.com/users/lhutton1/orgs","repos_url":"https://api.github.com/users/lhutton1/repos","events_url":"https://api.github.com/users/lhutton1/events{/privacy}","received_events_url":"https://api.github.com/users/lhutton1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T17:08:43Z","updated_at":"2020-09-15T17:08:43Z","author_association":"CONTRIBUTOR","body":"Np @trevor-m, it seems that way, at least that's where I added the Arm Compute Library doc","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692850735/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692893056","html_url":"https://github.com/apache/tvm/pull/6485#issuecomment-692893056","issue_url":"https://api.github.com/repos/apache/tvm/issues/6485","id":692893056,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg5MzA1Ng==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T18:25:21Z","updated_at":"2020-09-15T18:25:21Z","author_association":"CONTRIBUTOR","body":"cc @tqchen how should we proceed here? I didn't modify Jenkinsfile yet in this PR","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692893056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692896086","html_url":"https://github.com/apache/tvm/pull/6485#issuecomment-692896086","issue_url":"https://api.github.com/repos/apache/tvm/issues/6485","id":692896086,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg5NjA4Ng==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T18:30:55Z","updated_at":"2020-09-15T18:30:55Z","author_association":"MEMBER","body":"I think we can go ahead and merge it in, it would be great @areusch if you can also verify locally it works","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692896086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692906435","html_url":"https://github.com/apache/tvm/pull/6485#issuecomment-692906435","issue_url":"https://api.github.com/repos/apache/tvm/issues/6485","id":692906435,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjkwNjQzNQ==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T18:50:50Z","updated_at":"2020-09-15T18:50:50Z","author_association":"CONTRIBUTOR","body":"i'll verify it again and see if others are interested in trying it as well. we don't currently have an integration test that uses Zephyr + qemu, so this may be a little premature to merge.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692906435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692917238","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-692917238","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":692917238,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjkxNzIzOA==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T19:04:28Z","updated_at":"2020-09-15T19:05:25Z","author_association":"CONTRIBUTOR","body":"> @zhiics @kevinthesun @masahi\r\n> Thank you, @kevinthesun for your summary and all the work in the investigation and your PR.\r\n> \r\n> I think using `if isinstance(..., _expr.Expr):` would be very much preferable to using exceptions.\r\n> \r\n> 1. I see the uses of `try: ... except: ...` as using exceptions for regular control flow (because the error case is the one where the old normal logic is applicable and so we should have a clear view when the new logic is applicable and when not) and it would then except on the old cases,\r\n> 2. Not using `try: ... except: ...` for regular control flow seems like good programming fundamentals to me. It would seem odd if TVM as a compiler stack would not strive to follow best practice here.\r\n> \r\n> Neither am I entirely sure whether 1. is contentious or not and to me it would seem that a PR is an odd place to form an opinion on 2. At the same time I see the construct as problematic enough to have a really hard time liking the current state of the PR. It would bring great joy if you could be convinced to move it to `if`.\r\n> \r\n> I should emphasize that I'm entirely for having the new functions appreciate your @kevinthesun work on this. Thank you!\r\n\r\n@t-vi Thanks for your thoughts. To handle dynamic op correctly, we have to use ```if isinstance(..., _expr.Expr)``` together with ```try ... except```. Do we have an agreement that in the dynamic ops involved in this PR, ```try ... except``` is necessary? Currently there is no other way rather than try _infer_value to get constant attribute. Unfortunately this is not about good programming fundamentals but about functionality, since regular control flow won't do the trick. You can see the similar methodology in TensorFlow frontend. We need to do these because tf/pt od models are in the most complicated models which TVM has ever tried to compiled. As @masahi mentioned, we can gradually move these complicated dynamic inference logics to backend while dyn namespace is improved. However, currently these are something necessary to support OD models.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692917238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692921717","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-692921717","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":692921717,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjkyMTcxNw==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T19:12:49Z","updated_at":"2020-09-15T19:12:49Z","author_association":"CONTRIBUTOR","body":"@masahi It looks like certain recent change causes this error. I'm investigating.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692921717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692922971","html_url":"https://github.com/apache/tvm/pull/6443#issuecomment-692922971","issue_url":"https://api.github.com/repos/apache/tvm/issues/6443","id":692922971,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjkyMjk3MQ==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T19:15:19Z","updated_at":"2020-09-15T19:15:19Z","author_association":"CONTRIBUTOR","body":"@xqdan That's what I meant.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692922971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692926700","html_url":"https://github.com/apache/tvm/pull/6443#issuecomment-692926700","issue_url":"https://api.github.com/repos/apache/tvm/issues/6443","id":692926700,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjkyNjcwMA==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T19:23:03Z","updated_at":"2020-09-15T19:23:03Z","author_association":"CONTRIBUTOR","body":"@Beya2019 Thanks for adding nhwc implementation. However, this also adds maintenance burden if there is no obvious performance benefit. Recently we are adding dynamic shape support for some ops. If we just keep necessary implementations it would be easier to maintain and extend.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692926700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692943139","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-692943139","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":692943139,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjk0MzEzOQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T19:52:44Z","updated_at":"2020-09-15T19:55:14Z","author_association":"MEMBER","body":"@yongwww to be clear, this translation works for box_coder from maskrcnn-benchmark you mentioned above? https://github.com/facebookresearch/maskrcnn-benchmark/blob/4ac0a3b440320ff0d0159a280f2897d1f9f996f3/maskrcnn_benchmark/modeling/box_coder.py#L85-L93 That looks similar to the test case @t-vi provided.\r\n\r\nBy \"work\", of course I mean we get the same output as pytorch would.\r\n\r\n\r\n\r\n> I would suggest adding a warning and todo in this mapping since some other merged in-place op mapping should has the similar issues, don't have a quick solution for this in my mind at this point. Any suggestion?\r\n\r\nI'm ok with this, if we can somehow detect inplace op patterns that we cannot support, we should immediately abort, rather than giving a warning and emitting a wrong relay graph.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692943139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692944886","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-692944886","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":692944886,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjk0NDg4Ng==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T19:55:55Z","updated_at":"2020-09-15T19:55:55Z","author_association":"CONTRIBUTOR","body":"I don't actually get why we need try: ... except: ... what case does it not handle that is handled properly by the except part?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692944886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692975419","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-692975419","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":692975419,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjk3NTQxOQ==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T20:58:07Z","updated_at":"2020-09-15T21:02:36Z","author_association":"CONTRIBUTOR","body":"Original pt frontend just handles limited cases, mostly static shape/attributes. It is fine we just keep input as it is for static models. For more dynamic models, we need to do some extra work to reduce the dynamism during type inference. For example, there is a chance to reduce output shape of (?, ?, ?) to (1, ?, ?) in a dynamic op. This is necessary otherwise it's hard to ensure we are doing the right thing for backend. That error pointed out by @masahi is exactly the case. The input shape of ```get_valid_counts``` should be (1, ?, 5) while somehow recent change makes it (1, ?, ?). ```get_valid_counts``` doesn't allow dynamic box data length. This is an example why we need to make the output relay Expr as static as possible and ```_infer_value``` is necessary.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692975419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692981543","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-692981543","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":692981543,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjk4MTU0Mw==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T21:11:06Z","updated_at":"2020-09-15T21:11:06Z","author_association":"CONTRIBUTOR","body":"I think I'm slowly starting to understand. But couldn't one have something like `e_new = _try_to_make_static(e)` that takes an expression, makes it as static as possible and returns the result - which might be e if it cannot be static. Ideally, this would work without going through exceptions, but if we cannot have this, one could implement this with try: ... except: ... . The thing I'm uncomfortable with is having so many places where we do `try: ... exept:`. (sounds like @masahi suggested this above)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692981543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692985102","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-692985102","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":692985102,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjk4NTEwMg==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T21:18:37Z","updated_at":"2020-09-15T21:18:37Z","author_association":"CONTRIBUTOR","body":"As I have discussed with @masahi, the problem of having a try interface is that there is no common logic between different dynamic ops when dealing with dynamic attributes. We need to take different actions in try/except block depending on the actual op. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692985102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692989903","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-692989903","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":692989903,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjk4OTkwMw==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T21:29:26Z","updated_at":"2020-09-15T21:29:26Z","author_association":"MEMBER","body":"@kevinthesun this mighe be related to the error https://github.com/apache/incubator-tvm/pull/6316","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692989903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692994588","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-692994588","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":692994588,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjk5NDU4OA==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T21:40:31Z","updated_at":"2020-09-15T21:40:31Z","author_association":"CONTRIBUTOR","body":"But which part raises the exception? infer_value_ or the casting that follows?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692994588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692998861","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-692998861","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":692998861,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjk5ODg2MQ==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T21:51:04Z","updated_at":"2020-09-15T21:51:04Z","author_association":"CONTRIBUTOR","body":"@masahi I rolled back topk to still _infer_value. Directly use dyn topk will cause a certain shape dim to be dynamic and cause get_valid_count issue. Compiling pt maskrcnn takes <3 mins, I agree with you that we might just need to test maskrcnn. fastercnn test removed.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692998861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692999233","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-692999233","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":692999233,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjk5OTIzMw==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T21:52:00Z","updated_at":"2020-09-15T21:52:00Z","author_association":"CONTRIBUTOR","body":"> But which part raises the exception? infer_value_ or the casting that follows?\r\n\r\nIt's for ```_infer_value```.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/692999233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693002214","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-693002214","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":693002214,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAwMjIxNA==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T21:59:38Z","updated_at":"2020-09-15T21:59:38Z","author_association":"CONTRIBUTOR","body":"but wouldn't then a pattern of\r\n```\r\ninferred_val = _try_infer_value(inp)\r\nif inferred_val is not None:\r\n   res = foo(inferred_val)\r\nelse:\r\n   res = bar(inp)\r\n```\r\nwork?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693002214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693003547","html_url":"https://github.com/apache/tvm/pull/6355#issuecomment-693003547","issue_url":"https://api.github.com/repos/apache/tvm/issues/6355","id":693003547,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAwMzU0Nw==","user":{"login":"mbaret","id":55580676,"node_id":"MDQ6VXNlcjU1NTgwNjc2","avatar_url":"https://avatars.githubusercontent.com/u/55580676?v=4","gravatar_id":"","url":"https://api.github.com/users/mbaret","html_url":"https://github.com/mbaret","followers_url":"https://api.github.com/users/mbaret/followers","following_url":"https://api.github.com/users/mbaret/following{/other_user}","gists_url":"https://api.github.com/users/mbaret/gists{/gist_id}","starred_url":"https://api.github.com/users/mbaret/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbaret/subscriptions","organizations_url":"https://api.github.com/users/mbaret/orgs","repos_url":"https://api.github.com/users/mbaret/repos","events_url":"https://api.github.com/users/mbaret/events{/privacy}","received_events_url":"https://api.github.com/users/mbaret/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:02:54Z","updated_at":"2020-09-15T22:02:54Z","author_association":"CONTRIBUTOR","body":"@zhiics @masahi is there anything left to do here?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693003547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693004646","html_url":"https://github.com/apache/tvm/pull/6355#issuecomment-693004646","issue_url":"https://api.github.com/repos/apache/tvm/issues/6355","id":693004646,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAwNDY0Ng==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:05:49Z","updated_at":"2020-09-15T22:05:49Z","author_association":"MEMBER","body":"Thanks everyone!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693004646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693005891","html_url":"https://github.com/apache/tvm/pull/6355#issuecomment-693005891","issue_url":"https://api.github.com/repos/apache/tvm/issues/6355","id":693005891,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAwNTg5MQ==","user":{"login":"mbaret","id":55580676,"node_id":"MDQ6VXNlcjU1NTgwNjc2","avatar_url":"https://avatars.githubusercontent.com/u/55580676?v=4","gravatar_id":"","url":"https://api.github.com/users/mbaret","html_url":"https://github.com/mbaret","followers_url":"https://api.github.com/users/mbaret/followers","following_url":"https://api.github.com/users/mbaret/following{/other_user}","gists_url":"https://api.github.com/users/mbaret/gists{/gist_id}","starred_url":"https://api.github.com/users/mbaret/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbaret/subscriptions","organizations_url":"https://api.github.com/users/mbaret/orgs","repos_url":"https://api.github.com/users/mbaret/repos","events_url":"https://api.github.com/users/mbaret/events{/privacy}","received_events_url":"https://api.github.com/users/mbaret/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:09:16Z","updated_at":"2020-09-15T22:09:16Z","author_association":"CONTRIBUTOR","body":"Thanks for all the reviews everyone :)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693005891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693007551","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-693007551","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":693007551,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAwNzU1MQ==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:13:37Z","updated_at":"2020-09-15T22:28:35Z","author_association":"CONTRIBUTOR","body":"@t-vi For now IMO it doesn't bring obvious benefit of adding an extra common api to just wrap ```try ... except``` for ```_infer_value```, considering the lack of generalization among different dynamic op handlings. Also we shouldn't just limit to pytorch frontend for this topic since in tf frontend we have a lot of such patterns. Probably you can also check tf frontend to see what kind of general logic we can have for such pattern and discuss with community about the potential improvement. After that we can have a more complete solution for this. Sounds like a plan? \r\n\r\nIn general I feel this topic is a larger one to a common functionality of tvm frontend parser. In this PR probably we can more focus on pytorch specific features, and have a separate discussion about how to better handle dynamic ops in frontend.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693007551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693013272","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-693013272","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":693013272,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAxMzI3Mg==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:29:19Z","updated_at":"2020-09-15T22:32:20Z","author_association":"MEMBER","body":"@kevinthesun Although having a wrapper api doesn't make the code shorter, I do believe there is a value in isolating such \"toxic\" programming idiom into one place (e.g. it makes updating easier). I can imagine a wrapper that takes  a \"success handler\" and \"failure handler\" (both lambda functions).\r\n\r\nThat said, I agree that we can proceed with this code as it is, given that this idiom is (unfortunately) already common in other frontends and such low level detail is not the point of this PR. I can give a try at this issue later, since I want to keep PyTorch frontend clean.   ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693013272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693016488","html_url":"https://github.com/apache/tvm/pull/6482#issuecomment-693016488","issue_url":"https://api.github.com/repos/apache/tvm/issues/6482","id":693016488,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAxNjQ4OA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:39:07Z","updated_at":"2020-09-15T22:39:07Z","author_association":"MEMBER","body":"would be great @zhiics @anijain2305 if you can do a followup pass to pick up the places in the tests. VSCode search for `graph_runtime.create` can usually reveal the code. While we may not want to fix the debug runtime, it is helpful to fix most of the things","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693016488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693016775","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-693016775","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":693016775,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAxNjc3NQ==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:40:07Z","updated_at":"2020-09-15T22:40:07Z","author_association":"CONTRIBUTOR","body":"@masahi Yeah. It probably worth a forum discussion thread before we proceed with any solution. In tf frontend, there are even more ```try .. except``` blocks which doesn't involve ```_infer_value```(thanks to the complexity of tf frontend :D) I think it would be helpful to discuss overall what kind of style is recommended(or necessary) in tvm frontend. After that, a major refactor can happen for at least tf and pt frontends.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693016775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693017408","html_url":"https://github.com/apache/tvm/pull/6349#issuecomment-693017408","issue_url":"https://api.github.com/repos/apache/tvm/issues/6349","id":693017408,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAxNzQwOA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:42:02Z","updated_at":"2020-09-15T22:42:02Z","author_association":"MEMBER","body":"@kongroo @vinx13 please followup ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693017408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693018923","html_url":"https://github.com/apache/tvm/pull/6395#issuecomment-693018923","issue_url":"https://api.github.com/repos/apache/tvm/issues/6395","id":693018923,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAxODkyMw==","user":{"login":"trevor-m","id":12981474,"node_id":"MDQ6VXNlcjEyOTgxNDc0","avatar_url":"https://avatars.githubusercontent.com/u/12981474?v=4","gravatar_id":"","url":"https://api.github.com/users/trevor-m","html_url":"https://github.com/trevor-m","followers_url":"https://api.github.com/users/trevor-m/followers","following_url":"https://api.github.com/users/trevor-m/following{/other_user}","gists_url":"https://api.github.com/users/trevor-m/gists{/gist_id}","starred_url":"https://api.github.com/users/trevor-m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevor-m/subscriptions","organizations_url":"https://api.github.com/users/trevor-m/orgs","repos_url":"https://api.github.com/users/trevor-m/repos","events_url":"https://api.github.com/users/trevor-m/events{/privacy}","received_events_url":"https://api.github.com/users/trevor-m/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:47:04Z","updated_at":"2020-09-15T22:47:04Z","author_association":"CONTRIBUTOR","body":"There appears to be an inconsistency in the CI between `tests/lint/cpplint.sh` and `tests/lint/clang_format.sh` for this macro definition:\r\n```\r\n#define TRT_VERSION_GE(major, minor, patch)                                                    \\\r\n  ((NV_TENSORRT_MAJOR > major) || (NV_TENSORRT_MAJOR == major && NV_TENSORRT_MINOR > minor) || \\\r\n   (NV_TENSORRT_MAJOR == major && NV_TENSORRT_MINOR == minor && NV_TENSORRT_PATCH >= patch))\r\n```\r\n\r\n`tests/lint/cpplint.sh` will complain about the 3 spaces indent on the 3rd line:\r\n```\r\nsrc/runtime/contrib/tensorrt/tensorrt_utils.h:35:  Weird number of spaces at line-start.  Are you using a 2-space indent?  [whitespace/indent] [3]\r\n```\r\n\r\nIf I change it to 2 spaces, the cpplint passes but the clang-format checker fails:\r\n```\r\n---------clang-format log----------\r\ndiff --git a/src/runtime/contrib/tensorrt/tensorrt_utils.h b/src/runtime/contrib/tensorrt/tensorrt_utils.h\r\nindex 6d664e47d..746726fc1 100644\r\n--- a/src/runtime/contrib/tensorrt/tensorrt_utils.h\r\n+++ b/src/runtime/contrib/tensorrt/tensorrt_utils.h\r\n@@ -32,7 +32,7 @@\r\n\r\n #define TRT_VERSION_GE(major, minor, patch)                                                    \\\r\n   ((NV_TENSORRT_MAJOR > major) || (NV_TENSORRT_MAJOR == major && NV_TENSORRT_MINOR > minor) || \\\r\n-  (NV_TENSORRT_MAJOR == major && NV_TENSORRT_MINOR == minor && NV_TENSORRT_PATCH >= patch))\r\n+   (NV_TENSORRT_MAJOR == major && NV_TENSORRT_MINOR == minor && NV_TENSORRT_PATCH >= patch))\r\n\r\n namespace tvm {\r\n namespace runtime {\r\n\r\nclang-format lint error found. Consider running clang-format-10 on these files to fix them.\r\nscript returned exit code 1\r\n```\r\n\r\nIs there a reason we have both of these checks? They appear to do the same thing but want different things. Is there a way to override one of them?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693018923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693023530","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-693023530","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":693023530,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAyMzUzMA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T23:02:36Z","updated_at":"2020-09-15T23:02:36Z","author_association":"MEMBER","body":"@kevinthesun The maskrcnn test worked for me, great!\r\n\r\nBut unfortunately under torch 1.6, conversion fails with the following error. Most likely they come from pytorch function that are scripted https://github.com/pytorch/vision/blob/1a04d3c265679e1a508e7cd627006aaa9ef1ccfb/torchvision/models/detection/roi_heads.py#L454. Most of them don't make sense for tracing (like raising an exception).\r\n\r\nWe need to come back to this problem later when we upgrade our CI.\r\n\r\n```\r\nNotImplementedError: The following operators are not implemented:[\r\n'aten::append',\r\n'aten::tensor',\r\n'aten::dim',\r\n'aten::warn',\r\n'aten::__is__',\r\n'aten::__isnot__',\r\n'prim::RaiseException',\r\n'prim::unchecked_cast',\r\n'aten::IntImplicit',\r\n'aten::empty',\r\n'aten::numel',\r\n'prim::Uninitialized',\r\n'aten::__contains__'\r\n]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693023530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693024970","html_url":"https://github.com/apache/tvm/pull/6395#issuecomment-693024970","issue_url":"https://api.github.com/repos/apache/tvm/issues/6395","id":693024970,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAyNDk3MA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T23:06:54Z","updated_at":"2020-09-15T23:06:54Z","author_association":"CONTRIBUTOR","body":"Looks like a conflict between cpplint and clang-format-10. clang-format-10 result seems more reasonable, so we may need to fix the cpplint.\r\n\r\ncc @areusch ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693024970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693027008","html_url":"https://github.com/apache/tvm/pull/6425#issuecomment-693027008","issue_url":"https://api.github.com/repos/apache/tvm/issues/6425","id":693027008,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAyNzAwOA==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T23:13:42Z","updated_at":"2020-09-15T23:13:42Z","author_association":"MEMBER","body":"@tqchen @jcf94  Could you take another look? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693027008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693029557","html_url":"https://github.com/apache/tvm/pull/6351#issuecomment-693029557","issue_url":"https://api.github.com/repos/apache/tvm/issues/6351","id":693029557,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAyOTU1Nw==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T23:21:58Z","updated_at":"2020-09-15T23:22:54Z","author_association":"MEMBER","body":"@mbrookhart Does this PR enable compiling one model and running it with input data of different shapes? ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693029557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693032354","html_url":"https://github.com/apache/tvm/pull/6395#issuecomment-693032354","issue_url":"https://api.github.com/repos/apache/tvm/issues/6395","id":693032354,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAzMjM1NA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T23:28:01Z","updated_at":"2020-09-15T23:28:01Z","author_association":"CONTRIBUTOR","body":"@t-vi looks like this is a common issue in cpplint as it only uses regular expression to lint the code. While it's not straightforward to fix cpplint, you may work around this issue by rewriting the code like\r\n```c\r\n#define TRT_VERSION_GE(major, minor, patch) (                                                 \\\r\n  (NV_TENSORRT_MAJOR > major) || (NV_TENSORRT_MAJOR == major && NV_TENSORRT_MINOR > minor) || \\\r\n  (NV_TENSORRT_MAJOR == major && NV_TENSORRT_MINOR == minor && NV_TENSORRT_PATCH >= patch))\r\n```\r\n\r\nSo that both cpplint and clang-format are happy.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693032354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693050210","html_url":"https://github.com/apache/tvm/pull/6425#issuecomment-693050210","issue_url":"https://api.github.com/repos/apache/tvm/issues/6425","id":693050210,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzA1MDIxMA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T23:36:28Z","updated_at":"2020-09-15T23:36:28Z","author_association":"MEMBER","body":"Thanks @junrushao1994 @leandron  @jcf94 @electriclilies !","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693050210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693092358","html_url":"https://github.com/apache/tvm/pull/6351#issuecomment-693092358","issue_url":"https://api.github.com/repos/apache/tvm/issues/6351","id":693092358,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzA5MjM1OA==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T00:03:00Z","updated_at":"2020-09-16T00:03:00Z","author_association":"CONTRIBUTOR","body":"Not with the graph runtime, but it should work with the vm. That said, I haven't tested that many models with the VM, it's very possible to hit errors in ops due to assumptions be of static shapes in compute or schedules","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693092358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693093647","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-693093647","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":693093647,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzA5MzY0Nw==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T00:07:13Z","updated_at":"2020-09-16T00:07:30Z","author_association":"CONTRIBUTOR","body":"@masahi Yeah. Those ops look like coming from scripted model. I believe for pt 1.6 if we trace the model there are 2 or 3 ops missing.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693093647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693093991","html_url":"https://github.com/apache/tvm/pull/6351#issuecomment-693093991","issue_url":"https://api.github.com/repos/apache/tvm/issues/6351","id":693093991,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzA5Mzk5MQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T00:08:31Z","updated_at":"2020-09-16T00:10:10Z","author_association":"MEMBER","body":"Is there a test case in onnx/test_forward.py which demonstrates that (run a model with different input shape, on vm)? It is not obvious to me. If not, I think we should add them, as this is something new that we are not able to do until this PR. \r\n\r\nI want to add such dynamic input shape support in PyTorch frontend too.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693093991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693096226","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-693096226","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":693096226,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzA5NjIyNg==","user":{"login":"yongwww","id":10205827,"node_id":"MDQ6VXNlcjEwMjA1ODI3","avatar_url":"https://avatars.githubusercontent.com/u/10205827?v=4","gravatar_id":"","url":"https://api.github.com/users/yongwww","html_url":"https://github.com/yongwww","followers_url":"https://api.github.com/users/yongwww/followers","following_url":"https://api.github.com/users/yongwww/following{/other_user}","gists_url":"https://api.github.com/users/yongwww/gists{/gist_id}","starred_url":"https://api.github.com/users/yongwww/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yongwww/subscriptions","organizations_url":"https://api.github.com/users/yongwww/orgs","repos_url":"https://api.github.com/users/yongwww/repos","events_url":"https://api.github.com/users/yongwww/events{/privacy}","received_events_url":"https://api.github.com/users/yongwww/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T00:16:54Z","updated_at":"2020-09-16T00:32:57Z","author_association":"MEMBER","body":"@masahi  the copy_ mapping in this pr doesn't work for the code snippet in the box_coder I pointed, similar to that @t-vi provided, slicing assignment doesn't take effect. After modifying the model definition script, we get `copy_` removed.  `clamp_` in this pr is also an inplace op, and it works well for the maskrcnn-benchmark. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693096226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693096782","html_url":"https://github.com/apache/tvm/pull/6449#issuecomment-693096782","issue_url":"https://api.github.com/repos/apache/tvm/issues/6449","id":693096782,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzA5Njc4Mg==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T00:19:06Z","updated_at":"2020-09-16T00:19:06Z","author_association":"MEMBER","body":"> @masahi Yeah. Those ops look like coming from scripted model. I believe for pt 1.6 if we trace the model there are 2 or 3 ops missing.\r\n\r\nTo be clear, that list op is coming from **tracing** mask rcnn model, since mask rcnn is partly scripted, even if we `torch.jit.trace` on it, we still get partly scripted TorchScript IR. See the link to torchvision code I added above.\r\n\r\nFor faster rcnn, which is **not** partly scripted and thus can be traced completely, I get following missing ops with PyTorch 1.6\r\n```\r\nNotImplementedError: The following operators are not implemented: ['aten::tensor', 'aten::empty', 'aten::numel']\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693096782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693097928","html_url":"https://github.com/apache/tvm/pull/6482#issuecomment-693097928","issue_url":"https://api.github.com/repos/apache/tvm/issues/6482","id":693097928,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzA5NzkyOA==","user":{"login":"anijain2305","id":13822661,"node_id":"MDQ6VXNlcjEzODIyNjYx","avatar_url":"https://avatars.githubusercontent.com/u/13822661?v=4","gravatar_id":"","url":"https://api.github.com/users/anijain2305","html_url":"https://github.com/anijain2305","followers_url":"https://api.github.com/users/anijain2305/followers","following_url":"https://api.github.com/users/anijain2305/following{/other_user}","gists_url":"https://api.github.com/users/anijain2305/gists{/gist_id}","starred_url":"https://api.github.com/users/anijain2305/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anijain2305/subscriptions","organizations_url":"https://api.github.com/users/anijain2305/orgs","repos_url":"https://api.github.com/users/anijain2305/repos","events_url":"https://api.github.com/users/anijain2305/events{/privacy}","received_events_url":"https://api.github.com/users/anijain2305/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T00:23:13Z","updated_at":"2020-09-16T00:23:13Z","author_association":"CONTRIBUTOR","body":"Thanks @tqchen for the PR! Yes, I can take a look at this from next week.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693097928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693105003","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-693105003","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":693105003,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzEwNTAwMw==","user":{"login":"yongwww","id":10205827,"node_id":"MDQ6VXNlcjEwMjA1ODI3","avatar_url":"https://avatars.githubusercontent.com/u/10205827?v=4","gravatar_id":"","url":"https://api.github.com/users/yongwww","html_url":"https://github.com/yongwww","followers_url":"https://api.github.com/users/yongwww/followers","following_url":"https://api.github.com/users/yongwww/following{/other_user}","gists_url":"https://api.github.com/users/yongwww/gists{/gist_id}","starred_url":"https://api.github.com/users/yongwww/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yongwww/subscriptions","organizations_url":"https://api.github.com/users/yongwww/orgs","repos_url":"https://api.github.com/users/yongwww/repos","events_url":"https://api.github.com/users/yongwww/events{/privacy}","received_events_url":"https://api.github.com/users/yongwww/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T00:50:46Z","updated_at":"2020-09-16T00:50:46Z","author_association":"MEMBER","body":"@masahi  Just checked the op list under torch.Tensor, there are a bunch of inplace ops there, seems the op with suffix `_` is inplace one, https://discuss.pytorch.org/t/how-to-identify-the-in-place-operation-in-pytorch/18592. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693105003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693107876","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-693107876","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":693107876,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzEwNzg3Ng==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T01:01:35Z","updated_at":"2020-09-16T01:01:35Z","author_association":"MEMBER","body":"> @masahi Just checked the op list under torch.Tensor, there are a bunch of inplace ops there, seems the op with suffix `_` is inplace one, https://discuss.pytorch.org/t/how-to-identify-the-in-place-operation-in-pytorch/18592.\r\n\r\nYes, that is also my understanding. Removing and not supporting `copy_` sounds good, as it is commonly used for a pattern we cannot support, but for other inplace ops like `clamp_` and others already in the frontend, I think we can keep them. What do you think @t-vi ?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693107876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693132640","html_url":"https://github.com/apache/tvm/pull/6443#issuecomment-693132640","issue_url":"https://api.github.com/repos/apache/tvm/issues/6443","id":693132640,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzEzMjY0MA==","user":{"login":"Beya2019","id":49267856,"node_id":"MDQ6VXNlcjQ5MjY3ODU2","avatar_url":"https://avatars.githubusercontent.com/u/49267856?v=4","gravatar_id":"","url":"https://api.github.com/users/Beya2019","html_url":"https://github.com/Beya2019","followers_url":"https://api.github.com/users/Beya2019/followers","following_url":"https://api.github.com/users/Beya2019/following{/other_user}","gists_url":"https://api.github.com/users/Beya2019/gists{/gist_id}","starred_url":"https://api.github.com/users/Beya2019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Beya2019/subscriptions","organizations_url":"https://api.github.com/users/Beya2019/orgs","repos_url":"https://api.github.com/users/Beya2019/repos","events_url":"https://api.github.com/users/Beya2019/events{/privacy}","received_events_url":"https://api.github.com/users/Beya2019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T02:31:41Z","updated_at":"2020-09-16T02:31:41Z","author_association":"CONTRIBUTOR","body":"@kevinthesun :I got it. According to your suggestion, I modified the code. Please review again, does it meets the demans? If you have any suggestions, please feedback in time? Thanks very much.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693132640/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693149191","html_url":"https://github.com/apache/tvm/pull/6479#issuecomment-693149191","issue_url":"https://api.github.com/repos/apache/tvm/issues/6479","id":693149191,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE0OTE5MQ==","user":{"login":"roastduck","id":6522983,"node_id":"MDQ6VXNlcjY1MjI5ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6522983?v=4","gravatar_id":"","url":"https://api.github.com/users/roastduck","html_url":"https://github.com/roastduck","followers_url":"https://api.github.com/users/roastduck/followers","following_url":"https://api.github.com/users/roastduck/following{/other_user}","gists_url":"https://api.github.com/users/roastduck/gists{/gist_id}","starred_url":"https://api.github.com/users/roastduck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roastduck/subscriptions","organizations_url":"https://api.github.com/users/roastduck/orgs","repos_url":"https://api.github.com/users/roastduck/repos","events_url":"https://api.github.com/users/roastduck/events{/privacy}","received_events_url":"https://api.github.com/users/roastduck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T03:33:00Z","updated_at":"2020-09-16T03:33:00Z","author_association":"CONTRIBUTOR","body":"Rebased to the latest commit, hoping it will pass the CI.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693149191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693169240","html_url":"https://github.com/apache/tvm/issues/6489#issuecomment-693169240","issue_url":"https://api.github.com/repos/apache/tvm/issues/6489","id":693169240,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE2OTI0MA==","user":{"login":"jroesch","id":696509,"node_id":"MDQ6VXNlcjY5NjUwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/696509?v=4","gravatar_id":"","url":"https://api.github.com/users/jroesch","html_url":"https://github.com/jroesch","followers_url":"https://api.github.com/users/jroesch/followers","following_url":"https://api.github.com/users/jroesch/following{/other_user}","gists_url":"https://api.github.com/users/jroesch/gists{/gist_id}","starred_url":"https://api.github.com/users/jroesch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jroesch/subscriptions","organizations_url":"https://api.github.com/users/jroesch/orgs","repos_url":"https://api.github.com/users/jroesch/repos","events_url":"https://api.github.com/users/jroesch/events{/privacy}","received_events_url":"https://api.github.com/users/jroesch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T04:56:37Z","updated_at":"2020-09-16T04:56:37Z","author_association":"MEMBER","body":"https://github.com/jroesch/tvm/tree/tyck-err","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693169240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693176922","html_url":"https://github.com/apache/tvm/issues/6489#issuecomment-693176922","issue_url":"https://api.github.com/repos/apache/tvm/issues/6489","id":693176922,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE3NjkyMg==","user":{"login":"jroesch","id":696509,"node_id":"MDQ6VXNlcjY5NjUwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/696509?v=4","gravatar_id":"","url":"https://api.github.com/users/jroesch","html_url":"https://github.com/jroesch","followers_url":"https://api.github.com/users/jroesch/followers","following_url":"https://api.github.com/users/jroesch/following{/other_user}","gists_url":"https://api.github.com/users/jroesch/gists{/gist_id}","starred_url":"https://api.github.com/users/jroesch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jroesch/subscriptions","organizations_url":"https://api.github.com/users/jroesch/orgs","repos_url":"https://api.github.com/users/jroesch/repos","events_url":"https://api.github.com/users/jroesch/events{/privacy}","received_events_url":"https://api.github.com/users/jroesch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T05:20:18Z","updated_at":"2020-09-16T05:20:18Z","author_association":"MEMBER","body":"This also type checks:\r\n```\r\n/*\r\n * Reverses a list.\r\n */\r\ndef @rev[A](%xs: List[A]) -> List[A] {\r\n  @foldl(@flip(fn (%h: A, %t: List[A]) { Cons(%h, %t) }), Nil, %xs)\r\n}\r\n```\r\nThis one doesn't type check. \r\n```\r\n/*\r\n * Reverses a list.\r\n */\r\ndef @rev[A](%xs: List[A]) -> List[A] {\r\n  @foldl(@flip(Cons), Nil, %xs)\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693176922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693177498","html_url":"https://github.com/apache/tvm/issues/6474#issuecomment-693177498","issue_url":"https://api.github.com/repos/apache/tvm/issues/6474","id":693177498,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE3NzQ5OA==","user":{"login":"jroesch","id":696509,"node_id":"MDQ6VXNlcjY5NjUwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/696509?v=4","gravatar_id":"","url":"https://api.github.com/users/jroesch","html_url":"https://github.com/jroesch","followers_url":"https://api.github.com/users/jroesch/followers","following_url":"https://api.github.com/users/jroesch/following{/other_user}","gists_url":"https://api.github.com/users/jroesch/gists{/gist_id}","starred_url":"https://api.github.com/users/jroesch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jroesch/subscriptions","organizations_url":"https://api.github.com/users/jroesch/orgs","repos_url":"https://api.github.com/users/jroesch/repos","events_url":"https://api.github.com/users/jroesch/events{/privacy}","received_events_url":"https://api.github.com/users/jroesch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T05:22:01Z","updated_at":"2020-09-16T05:22:01Z","author_association":"MEMBER","body":"I believe the MXNet frontend lowers LSTM to Relay directly. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693177498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693211825","html_url":"https://github.com/apache/tvm/pull/6472#issuecomment-693211825","issue_url":"https://api.github.com/repos/apache/tvm/issues/6472","id":693211825,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzIxMTgyNQ==","user":{"login":"t-vi","id":20787943,"node_id":"MDQ6VXNlcjIwNzg3OTQz","avatar_url":"https://avatars.githubusercontent.com/u/20787943?v=4","gravatar_id":"","url":"https://api.github.com/users/t-vi","html_url":"https://github.com/t-vi","followers_url":"https://api.github.com/users/t-vi/followers","following_url":"https://api.github.com/users/t-vi/following{/other_user}","gists_url":"https://api.github.com/users/t-vi/gists{/gist_id}","starred_url":"https://api.github.com/users/t-vi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-vi/subscriptions","organizations_url":"https://api.github.com/users/t-vi/orgs","repos_url":"https://api.github.com/users/t-vi/repos","events_url":"https://api.github.com/users/t-vi/events{/privacy}","received_events_url":"https://api.github.com/users/t-vi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T06:53:51Z","updated_at":"2020-09-16T06:53:51Z","author_association":"CONTRIBUTOR","body":"Yeah, any op ending in  `_` will be inplace and there are many.\r\n\r\nWithout keeping track of memory locations some construct to represent `copy_` we likely cannot faithfully represent all possible uses of inplace ops.\r\n\r\nSo without a pure way, we have to balance the two\r\n- With inplace, we will take in idioms we cannot support if we do so without further analysis. (Because the example would also apply to `clamp_`, as seen below.)\r\n- Without things like `relu_`, we might exclude many networks (inplace relu_ after something where the output isn't needed for the backward is quite popular) that would otherwise run fine.\r\n\r\nThis appears also to be the rationale for the ad-hoc inplace removal for ONNX export, and I'm sure the PyTorch-ONNX people had a good think (and they have more alias analysis available to them) if there are better options. So I guess whatever they let go through by just assuming inplace can be made out-of-place might also be desirable to treat this way here. Maybe the list they use is a good guide.\r\n\r\nI would imagine that someone somewhere does things like\r\n```\r\ndef pn_relu(x):\r\n   x[0].clamp_(min=0)\r\n   x[1].clamp_(max=0)\r\n```\r\n(so the nonzero bits would be normally distributed for normally distributed inputs to be clever about exploding/vanishing activations), but I don't think it's terribly popular, so I would not worry about it.\r\n\r\nFor maskrcnn-benchmark in particular, I did a bit of tracing almost two years ago when I experimented with my  PyTorch POC port to Android (but the tracing PR was never merged) and should be easy to remove their inplace use. But it would seem that it's more useful to focus on the TorchVision implementations, maskrcnn-benchmark is really dormant and my impression was that it itself wasn't fixed much but instead the lessons learned from there have flown into TorchVision and people have worked on JIT/ONNX/Quantization properties there.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693211825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693270943","html_url":"https://github.com/apache/tvm/pull/6442#issuecomment-693270943","issue_url":"https://api.github.com/repos/apache/tvm/issues/6442","id":693270943,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzI3MDk0Mw==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T08:55:42Z","updated_at":"2020-09-16T08:55:42Z","author_association":"MEMBER","body":"Thanks @lhutton1 @anijain2305 @comaniac @leandron ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693270943/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693475975","html_url":"https://github.com/apache/tvm/pull/6302#issuecomment-693475975","issue_url":"https://api.github.com/repos/apache/tvm/issues/6302","id":693475975,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzQ3NTk3NQ==","user":{"login":"leandron","id":437416,"node_id":"MDQ6VXNlcjQzNzQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/437416?v=4","gravatar_id":"","url":"https://api.github.com/users/leandron","html_url":"https://github.com/leandron","followers_url":"https://api.github.com/users/leandron/followers","following_url":"https://api.github.com/users/leandron/following{/other_user}","gists_url":"https://api.github.com/users/leandron/gists{/gist_id}","starred_url":"https://api.github.com/users/leandron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leandron/subscriptions","organizations_url":"https://api.github.com/users/leandron/orgs","repos_url":"https://api.github.com/users/leandron/repos","events_url":"https://api.github.com/users/leandron/events{/privacy}","received_events_url":"https://api.github.com/users/leandron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T15:17:58Z","updated_at":"2020-09-16T15:32:34Z","author_association":"CONTRIBUTOR","body":"I recently rebased with the latest changes and un-skipped the test fixed by #6442 \r\n\r\n@tqchen @comaniac @junrushao1994 would you mind having another look into this PR?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693475975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693501794","html_url":"https://github.com/apache/tvm/issues/6492#issuecomment-693501794","issue_url":"https://api.github.com/repos/apache/tvm/issues/6492","id":693501794,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzUwMTc5NA==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T15:58:21Z","updated_at":"2020-09-16T15:58:21Z","author_association":"MEMBER","body":"cc @mbaret @icemelon9 \r\n\r\nI think we I have test in test_topi: https://github.com/apache/incubator-tvm/blob/master/tests/python/topi/python/test_topi_dense.py#L40, but the target is probably not enabled in the CI","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693501794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693506142","html_url":"https://github.com/apache/tvm/pull/6479#issuecomment-693506142","issue_url":"https://api.github.com/repos/apache/tvm/issues/6479","id":693506142,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzUwNjE0Mg==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T16:05:30Z","updated_at":"2020-09-16T16:05:30Z","author_association":"MEMBER","body":"Thanks @roastduck !","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693506142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693506355","html_url":"https://github.com/apache/tvm/issues/6490#issuecomment-693506355","issue_url":"https://api.github.com/repos/apache/tvm/issues/6490","id":693506355,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzUwNjM1NQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T16:05:55Z","updated_at":"2020-09-16T16:05:55Z","author_association":"MEMBER","body":"Rgabjs @roastduck , a PR is more than welcomed","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693506355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693510104","html_url":"https://github.com/apache/tvm/issues/6492#issuecomment-693510104","issue_url":"https://api.github.com/repos/apache/tvm/issues/6492","id":693510104,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzUxMDEwNA==","user":{"login":"mbaret","id":55580676,"node_id":"MDQ6VXNlcjU1NTgwNjc2","avatar_url":"https://avatars.githubusercontent.com/u/55580676?v=4","gravatar_id":"","url":"https://api.github.com/users/mbaret","html_url":"https://github.com/mbaret","followers_url":"https://api.github.com/users/mbaret/followers","following_url":"https://api.github.com/users/mbaret/following{/other_user}","gists_url":"https://api.github.com/users/mbaret/gists{/gist_id}","starred_url":"https://api.github.com/users/mbaret/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbaret/subscriptions","organizations_url":"https://api.github.com/users/mbaret/orgs","repos_url":"https://api.github.com/users/mbaret/repos","events_url":"https://api.github.com/users/mbaret/events{/privacy}","received_events_url":"https://api.github.com/users/mbaret/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T16:12:25Z","updated_at":"2020-09-16T16:12:25Z","author_association":"CONTRIBUTOR","body":"Ah yes... It's very difficult to keep these maintained due to the lack of a Mali GPU in CI. I don't have immediate access to one either but that change looks obviously correct to me.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693510104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693512582","html_url":"https://github.com/apache/tvm/pull/6395#issuecomment-693512582","issue_url":"https://api.github.com/repos/apache/tvm/issues/6395","id":693512582,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzUxMjU4Mg==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T16:16:50Z","updated_at":"2020-09-16T16:16:50Z","author_association":"CONTRIBUTOR","body":"looks like we are on cpplint 1.4.5. I tried running it at 1.5.4, latest release, but no change. There is an option in clang-format (AlignAfterOpenBracket) to control bracket alignment style, but the google style-guide setting it's at right now I think is the most reasonable. Further, I don't think cpplint can differentiate between #define continuations and regular code, so we can't configure that there.\r\n\r\nyou could try manually fixing the line to make cpplint happy, then add on surrounding lines:\r\n`// clang-format off`\r\n`// clang-format on`\r\n\r\nthis seems like an edge case in cpplint, so i'd vote for that.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693512582/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693519885","html_url":"https://github.com/apache/tvm/pull/6488#issuecomment-693519885","issue_url":"https://api.github.com/repos/apache/tvm/issues/6488","id":693519885,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzUxOTg4NQ==","user":{"login":"merrymercy","id":15100009,"node_id":"MDQ6VXNlcjE1MTAwMDA5","avatar_url":"https://avatars.githubusercontent.com/u/15100009?v=4","gravatar_id":"","url":"https://api.github.com/users/merrymercy","html_url":"https://github.com/merrymercy","followers_url":"https://api.github.com/users/merrymercy/followers","following_url":"https://api.github.com/users/merrymercy/following{/other_user}","gists_url":"https://api.github.com/users/merrymercy/gists{/gist_id}","starred_url":"https://api.github.com/users/merrymercy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrymercy/subscriptions","organizations_url":"https://api.github.com/users/merrymercy/orgs","repos_url":"https://api.github.com/users/merrymercy/repos","events_url":"https://api.github.com/users/merrymercy/events{/privacy}","received_events_url":"https://api.github.com/users/merrymercy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T16:29:50Z","updated_at":"2020-09-16T16:32:14Z","author_association":"MEMBER","body":"@mbaret Good catch! It is actually a small bug introduced during the upstream. Now the bug is fixed and you can give it another try.\r\nOne of the most important advantages of Ansor is just to try different fusion strategies for an arbitrary subgraph. So it should try both inline and no inline.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693519885/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693521798","html_url":"https://github.com/apache/tvm/issues/6417#issuecomment-693521798","issue_url":"https://api.github.com/repos/apache/tvm/issues/6417","id":693521798,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzUyMTc5OA==","user":{"login":"leandron","id":437416,"node_id":"MDQ6VXNlcjQzNzQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/437416?v=4","gravatar_id":"","url":"https://api.github.com/users/leandron","html_url":"https://github.com/leandron","followers_url":"https://api.github.com/users/leandron/followers","following_url":"https://api.github.com/users/leandron/following{/other_user}","gists_url":"https://api.github.com/users/leandron/gists{/gist_id}","starred_url":"https://api.github.com/users/leandron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leandron/subscriptions","organizations_url":"https://api.github.com/users/leandron/orgs","repos_url":"https://api.github.com/users/leandron/repos","events_url":"https://api.github.com/users/leandron/events{/privacy}","received_events_url":"https://api.github.com/users/leandron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T16:33:23Z","updated_at":"2020-09-16T16:33:23Z","author_association":"CONTRIBUTOR","body":"Just to follow up here. I investigated how a fix would look like and it seems there is some manual filtering to be done on values around 0.5 for `floor_divide` and/or `floor_mod`, that might disagree when comparing relay vs. numpy.\r\n\r\nI'll to submit a PR with this filter (soon), similar to #4382, plus improve diagnostic on that test case, so in case it fails, it will give us which function (out of 6 tested on that test) is the offending one.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693521798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693539573","html_url":"https://github.com/apache/tvm/pull/6351#issuecomment-693539573","issue_url":"https://api.github.com/repos/apache/tvm/issues/6351","id":693539573,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzUzOTU3Mw==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T17:06:46Z","updated_at":"2020-09-16T17:06:46Z","author_association":"CONTRIBUTOR","body":"@masahi I added a test for compiling a very simple model with dynamic shapes `relu(batch_matmul(a,b))` and then running it against several input shapes.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693539573/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693543552","html_url":"https://github.com/apache/tvm/issues/6492#issuecomment-693543552","issue_url":"https://api.github.com/repos/apache/tvm/issues/6492","id":693543552,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzU0MzU1Mg==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T17:14:24Z","updated_at":"2020-09-16T17:14:24Z","author_association":"MEMBER","body":"Thanks @roastduck please send a PR","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693543552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693550734","html_url":"https://github.com/apache/tvm/pull/6488#issuecomment-693550734","issue_url":"https://api.github.com/repos/apache/tvm/issues/6488","id":693550734,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzU1MDczNA==","user":{"login":"mbaret","id":55580676,"node_id":"MDQ6VXNlcjU1NTgwNjc2","avatar_url":"https://avatars.githubusercontent.com/u/55580676?v=4","gravatar_id":"","url":"https://api.github.com/users/mbaret","html_url":"https://github.com/mbaret","followers_url":"https://api.github.com/users/mbaret/followers","following_url":"https://api.github.com/users/mbaret/following{/other_user}","gists_url":"https://api.github.com/users/mbaret/gists{/gist_id}","starred_url":"https://api.github.com/users/mbaret/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbaret/subscriptions","organizations_url":"https://api.github.com/users/mbaret/orgs","repos_url":"https://api.github.com/users/mbaret/repos","events_url":"https://api.github.com/users/mbaret/events{/privacy}","received_events_url":"https://api.github.com/users/mbaret/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T17:28:34Z","updated_at":"2020-09-16T17:28:34Z","author_association":"CONTRIBUTOR","body":"Ah nice, it's working as I expected now.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693550734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693573633","html_url":"https://github.com/apache/tvm/issues/6496#issuecomment-693573633","issue_url":"https://api.github.com/repos/apache/tvm/issues/6496","id":693573633,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzU3MzYzMw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T18:11:50Z","updated_at":"2020-09-16T18:13:25Z","author_association":"MEMBER","body":"cc @areusch ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693573633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693581680","html_url":"https://github.com/apache/tvm/pull/6042#issuecomment-693581680","issue_url":"https://api.github.com/repos/apache/tvm/issues/6042","id":693581680,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzU4MTY4MA==","user":{"login":"merrymercy","id":15100009,"node_id":"MDQ6VXNlcjE1MTAwMDA5","avatar_url":"https://avatars.githubusercontent.com/u/15100009?v=4","gravatar_id":"","url":"https://api.github.com/users/merrymercy","html_url":"https://github.com/merrymercy","followers_url":"https://api.github.com/users/merrymercy/followers","following_url":"https://api.github.com/users/merrymercy/following{/other_user}","gists_url":"https://api.github.com/users/merrymercy/gists{/gist_id}","starred_url":"https://api.github.com/users/merrymercy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrymercy/subscriptions","organizations_url":"https://api.github.com/users/merrymercy/orgs","repos_url":"https://api.github.com/users/merrymercy/repos","events_url":"https://api.github.com/users/merrymercy/events{/privacy}","received_events_url":"https://api.github.com/users/merrymercy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T18:27:00Z","updated_at":"2020-09-16T18:27:00Z","author_association":"MEMBER","body":"Close this because this is not needed anymore.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693581680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693621267","html_url":"https://github.com/apache/tvm/pull/6499#issuecomment-693621267","issue_url":"https://api.github.com/repos/apache/tvm/issues/6499","id":693621267,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzYyMTI2Nw==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T19:33:46Z","updated_at":"2020-09-16T19:33:46Z","author_association":"CONTRIBUTOR","body":"cc @tqchen ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693621267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693624497","html_url":"https://github.com/apache/tvm/pull/6445#issuecomment-693624497","issue_url":"https://api.github.com/repos/apache/tvm/issues/6445","id":693624497,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzYyNDQ5Nw==","user":{"login":"ZihengJiang","id":17693755,"node_id":"MDQ6VXNlcjE3NjkzNzU1","avatar_url":"https://avatars.githubusercontent.com/u/17693755?v=4","gravatar_id":"","url":"https://api.github.com/users/ZihengJiang","html_url":"https://github.com/ZihengJiang","followers_url":"https://api.github.com/users/ZihengJiang/followers","following_url":"https://api.github.com/users/ZihengJiang/following{/other_user}","gists_url":"https://api.github.com/users/ZihengJiang/gists{/gist_id}","starred_url":"https://api.github.com/users/ZihengJiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZihengJiang/subscriptions","organizations_url":"https://api.github.com/users/ZihengJiang/orgs","repos_url":"https://api.github.com/users/ZihengJiang/repos","events_url":"https://api.github.com/users/ZihengJiang/events{/privacy}","received_events_url":"https://api.github.com/users/ZihengJiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T19:40:23Z","updated_at":"2020-09-16T19:40:23Z","author_association":"CONTRIBUTOR","body":"@anijain2305 @FrozenGene Would you please have a look at this?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693624497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693627025","html_url":"https://github.com/apache/tvm/pull/6137#issuecomment-693627025","issue_url":"https://api.github.com/repos/apache/tvm/issues/6137","id":693627025,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzYyNzAyNQ==","user":{"login":"ZihengJiang","id":17693755,"node_id":"MDQ6VXNlcjE3NjkzNzU1","avatar_url":"https://avatars.githubusercontent.com/u/17693755?v=4","gravatar_id":"","url":"https://api.github.com/users/ZihengJiang","html_url":"https://github.com/ZihengJiang","followers_url":"https://api.github.com/users/ZihengJiang/followers","following_url":"https://api.github.com/users/ZihengJiang/following{/other_user}","gists_url":"https://api.github.com/users/ZihengJiang/gists{/gist_id}","starred_url":"https://api.github.com/users/ZihengJiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZihengJiang/subscriptions","organizations_url":"https://api.github.com/users/ZihengJiang/orgs","repos_url":"https://api.github.com/users/ZihengJiang/repos","events_url":"https://api.github.com/users/ZihengJiang/events{/privacy}","received_events_url":"https://api.github.com/users/ZihengJiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T19:45:55Z","updated_at":"2020-09-16T19:45:55Z","author_association":"CONTRIBUTOR","body":"Ping for update @FrozenGene @Wheest ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693627025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693632139","html_url":"https://github.com/apache/tvm/pull/6137#issuecomment-693632139","issue_url":"https://api.github.com/repos/apache/tvm/issues/6137","id":693632139,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzYzMjEzOQ==","user":{"login":"Wheest","id":16022573,"node_id":"MDQ6VXNlcjE2MDIyNTcz","avatar_url":"https://avatars.githubusercontent.com/u/16022573?v=4","gravatar_id":"","url":"https://api.github.com/users/Wheest","html_url":"https://github.com/Wheest","followers_url":"https://api.github.com/users/Wheest/followers","following_url":"https://api.github.com/users/Wheest/following{/other_user}","gists_url":"https://api.github.com/users/Wheest/gists{/gist_id}","starred_url":"https://api.github.com/users/Wheest/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wheest/subscriptions","organizations_url":"https://api.github.com/users/Wheest/orgs","repos_url":"https://api.github.com/users/Wheest/repos","events_url":"https://api.github.com/users/Wheest/events{/privacy}","received_events_url":"https://api.github.com/users/Wheest/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T19:56:43Z","updated_at":"2020-09-16T19:56:43Z","author_association":"CONTRIBUTOR","body":"@ZihengJiang Have updated linting errors.  \r\n\r\nHave added asymmetric padding support, however this isn't consistent across the rest of TOPI.   Have added a new workload type in `python/tvm/topi/nn/conv2d.py`, that can be adopted across other Conv2D implementations.\r\n\r\nHave been looking at suggested scheduled improvements, however have not been able to get any improvements to date.\r\n\r\nHave not yet figured out how to do the kernel packing step in `alter_op_layout`, but I think I can do when I have some time next week.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693632139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693639876","html_url":"https://github.com/apache/tvm/pull/6137#issuecomment-693639876","issue_url":"https://api.github.com/repos/apache/tvm/issues/6137","id":693639876,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzYzOTg3Ng==","user":{"login":"ZihengJiang","id":17693755,"node_id":"MDQ6VXNlcjE3NjkzNzU1","avatar_url":"https://avatars.githubusercontent.com/u/17693755?v=4","gravatar_id":"","url":"https://api.github.com/users/ZihengJiang","html_url":"https://github.com/ZihengJiang","followers_url":"https://api.github.com/users/ZihengJiang/followers","following_url":"https://api.github.com/users/ZihengJiang/following{/other_user}","gists_url":"https://api.github.com/users/ZihengJiang/gists{/gist_id}","starred_url":"https://api.github.com/users/ZihengJiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZihengJiang/subscriptions","organizations_url":"https://api.github.com/users/ZihengJiang/orgs","repos_url":"https://api.github.com/users/ZihengJiang/repos","events_url":"https://api.github.com/users/ZihengJiang/events{/privacy}","received_events_url":"https://api.github.com/users/ZihengJiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T20:12:24Z","updated_at":"2020-09-16T20:12:24Z","author_association":"CONTRIBUTOR","body":"Sounds good! Just ping the reviewers when you feel it is ready to be reviewed again. Thanks for the works!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693639876/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693702475","html_url":"https://github.com/apache/tvm/pull/6494#issuecomment-693702475","issue_url":"https://api.github.com/repos/apache/tvm/issues/6494","id":693702475,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzcwMjQ3NQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T22:37:42Z","updated_at":"2020-09-16T22:37:42Z","author_association":"MEMBER","body":"Thanks @mbrookhart !","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/693702475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]