[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1478583266","html_url":"https://github.com/apache/accumulo/pull/3249#issuecomment-1478583266","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3249","id":1478583266,"node_id":"IC_kwDOACaFSM5YIWPi","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-21T21:09:25Z","updated_at":"2023-03-21T21:09:25Z","author_association":"CONTRIBUTOR","body":"Removed the check that could cause split starvation in 2a7aac6 and reran the `*Split*IT` tests and all passed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1478583266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1478833779","html_url":"https://github.com/apache/accumulo/pull/3228#issuecomment-1478833779","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3228","id":1478833779,"node_id":"IC_kwDOACaFSM5YJTZz","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-22T02:23:37Z","updated_at":"2023-03-22T02:23:37Z","author_association":"CONTRIBUTOR","body":"@AlbertWhitlock Updates look good. There's a comment that you should remove, but otherwise the logic issues seem to be fixed. \r\n\r\nAre you planning on adding tests for this export behavior? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1478833779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1480123717","html_url":"https://github.com/apache/accumulo/pull/3250#issuecomment-1480123717","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3250","id":1480123717,"node_id":"IC_kwDOACaFSM5YOOVF","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-22T19:14:44Z","updated_at":"2023-03-27T11:24:08Z","author_association":"CONTRIBUTOR","body":"If you want to test this yourself, you can:\r\n\r\n  1. Build Accumulo from this branch\r\n  2. Set the following properties in accumulo.properties:\r\n  ```\r\n  manager.tablet.watcher.interval=15s\r\n  tserver.ondemand.tablet.unloader.interval=1m\r\n  table.custom.ondemand.unloader.inactivity.threshold.seconds=120\r\n  ```\r\n  3. Start up local instance\r\n  4. Log into Accumulo shell, and do the following\r\n  ```\r\n  createtable test\r\n  ```\r\n  > **Note**\r\n  > notice test and 1 tablet in Monitor\r\n  > notice \"loc\" column in tablet metadata\r\n  ```\r\n  ondemand test\r\n  ```\r\n  > **Note**\r\n  > notice 0 tablets in monitor\r\n  > notice \"loc\" missing from tablet metadata\r\n  ```\r\n  insert a b c d\r\n  ```\r\n  > **Note**\r\n  > notice shell command wait for tablet to be hosted\r\n  > notice 1 tablet in Monitor\r\n  > notice \"loc\" column in tablet metadata\r\n  > notice \"ondemand\" column in tablet metadata\r\n  ```\r\n  addsplits m -t test\r\n  ```\r\n  > **Note**\r\n  > notice 1 tablet in Monitor\r\n  > notice \"loc\" in tablet metadata for source tablet only\r\n  > notice \"ondemand\" column in tablet metadata for source tablet only\r\n ```\r\n sleep 240\r\n ```\r\n  > **Note**\r\n  > table.custom.ondemand.unloader.inactivity.threshold is set to 2m, waiting 4m should unload the tablet\r\n  > notice 0 tablets in monitor\r\n  > notice \"loc\" column missing in tablet metadata\r\n  > notice \"ondemand\" column missing in tablet metadata\r\n  ```\r\n  insert a b c d\r\n ```\r\n  > **Note**\r\n  > notice shell command wait for tablet to be hosted\r\n  > notice 1 tablet in Monitor\r\n  > notice \"loc\" column in tablet metadata\r\n  > notice \"ondemand\" column in tablet metadata\r\n\r\n  5. Stop Accumulo\r\n  6. Start Accumulo\r\n  > **Note**\r\n  > test tablet had \"ondemand\" column on shutdown, so it gets re-hosted\r\n  > notice 1 tablet in Monitor\r\n  > notice \"loc\" column in tablet metadata\r\n  > notice \"ondemand\" column in tablet metadata\r\n  7.  Wait a few minutes for tablet to be unloaded\r\n  > **Note**\r\n  > notice 0 tablets in monitor\r\n  > notice \"loc\" column missing in tablet metadata\r\n  > notice \"ondemand\" column missing in tablet metadata","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1480123717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1480127434","html_url":"https://github.com/apache/accumulo/pull/3220#issuecomment-1480127434","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3220","id":1480127434,"node_id":"IC_kwDOACaFSM5YOPPK","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-22T19:18:01Z","updated_at":"2023-03-22T19:18:01Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of #3250 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1480127434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1480389918","html_url":"https://github.com/apache/accumulo/pull/3251#issuecomment-1480389918","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3251","id":1480389918,"node_id":"IC_kwDOACaFSM5YPPUe","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-22T23:38:06Z","updated_at":"2023-03-22T23:38:29Z","author_association":"CONTRIBUTOR","body":"This PR supersedes #3232, but only contains a subset of the code.  #3232 contained code related to splitting tablets in the manager which is not present in this PR, that code will be submitted in another PR. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1480389918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481053930","html_url":"https://github.com/apache/accumulo/pull/3250#issuecomment-1481053930","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3250","id":1481053930,"node_id":"IC_kwDOACaFSM5YRxbq","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T11:51:37Z","updated_at":"2023-03-23T11:51:37Z","author_association":"CONTRIBUTOR","body":"Ran a full IT build and a single test failed, ConditionalWriterIT.testDeleteTable. It failed because a TableNotFoundException was thrown instead of a TableDeletedException. This was due to a call being added to get `context.getTableName(TableId)` to check if the table was in an ondemand state. I moved this code in fa80774 and suppressed the exception.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481053930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481466849","html_url":"https://github.com/apache/accumulo/issues/1327#issuecomment-1481466849","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1327","id":1481466849,"node_id":"IC_kwDOACaFSM5YTWPh","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T16:05:50Z","updated_at":"2023-03-23T16:05:50Z","author_association":"MEMBER","body":"> you'd need some new way to detect the new format and code to handle the old and new ways of storing the data which adds complexity and could be tricky\r\n\r\nWe can also just rewrite the metadata on upgrade.\r\n\r\n> or instead only serialize the Ranges as a JSON encoded String and appending as the 4th item\r\n\r\nBefore the discussion about JSON, that's close to what I was expecting... some kind of binary representation as another item in the list. With the discussion of JSON, I think it's less confusing to not mix-and-match the list and the JSON. Just pick one or the other. I think either way, you're going to have to be able to detect the old and the new format, or have an upgrade step.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481466849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481485807","html_url":"https://github.com/apache/accumulo/issues/3248#issuecomment-1481485807","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3248","id":1481485807,"node_id":"IC_kwDOACaFSM5YTa3v","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T16:15:48Z","updated_at":"2023-03-23T16:15:48Z","author_association":"MEMBER","body":"There is always a race condition due to propagation delay with ZooKeeper. Are you sure this isn't just that, but something else?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481485807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481617664","html_url":"https://github.com/apache/accumulo/issues/3248#issuecomment-1481617664","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3248","id":1481617664,"node_id":"IC_kwDOACaFSM5YT7EA","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T17:41:47Z","updated_at":"2023-03-23T17:41:47Z","author_association":"CONTRIBUTOR","body":"Pretty sure.  My first thought was that reading the updated value from ZooKeeper during the test would be enough to ensure that the change had committed and would have been propagated.  However, the test would still fail occasionally with the changed value not showing up in the exported table config file.  \r\n\r\nLooking at that code - it was reading values from the secondary cache in ServerConfigurationFactory.  Originally, that secondary cache was only being cleared on delete events - mainly to limit memory usage.  Change events were delegated to the prop store.   By clearing the secondary cache on any ZooKeeper change event for a cache Id, it forces the values to be re-read on access. \r\n\r\nThis should not impact performance because properties are relatively stable.\r\n\r\nWith the changes in #3245 I have not been able to get ShellServerIT to fail.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481617664/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481620829","html_url":"https://github.com/apache/accumulo/pull/3246#issuecomment-1481620829","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3246","id":1481620829,"node_id":"IC_kwDOACaFSM5YT71d","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T17:44:04Z","updated_at":"2023-03-23T17:44:04Z","author_association":"CONTRIBUTOR","body":"I wonder if these file ranges support us using The HDFS Vectored Read API (https://issues.apache.org/jira/browse/HADOOP-11867)?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481620829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481700076","html_url":"https://github.com/apache/accumulo/pull/3245#issuecomment-1481700076","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3245","id":1481700076,"node_id":"IC_kwDOACaFSM5YUPLs","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T18:28:32Z","updated_at":"2023-03-23T18:28:41Z","author_association":"CONTRIBUTOR","body":"455558d458 - added back the check table property method","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1481700076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482010168","html_url":"https://github.com/apache/accumulo/issues/3254#issuecomment-1482010168","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3254","id":1482010168,"node_id":"IC_kwDOACaFSM5YVa44","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T22:45:51Z","updated_at":"2023-03-23T22:45:51Z","author_association":"MEMBER","body":"This is a similar problem to the TabletFile/StoredTabletFile issue that @EdColeman and I were previously looking into (the \"as stored\" format being analogous to \"location\" here as the type to be encapsulated). However, I think this one might be a bit easier to fix.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482010168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482087148","html_url":"https://github.com/apache/accumulo/issues/3248#issuecomment-1482087148","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3248","id":1482087148,"node_id":"IC_kwDOACaFSM5YVtrs","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T00:30:16Z","updated_at":"2023-03-24T00:30:16Z","author_association":"MEMBER","body":"Is this issue completely fixed by #3245? If so, why was this issue created after the PR already existed? It seems like a duplicate of #3245. Or, is there something else that also needs to be done to close this issue?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482087148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482087303","html_url":"https://github.com/apache/accumulo/pull/3245#issuecomment-1482087303","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3245","id":1482087303,"node_id":"IC_kwDOACaFSM5YVtuH","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T00:30:33Z","updated_at":"2023-03-24T00:32:50Z","author_association":"MEMBER","body":"I think this fixes #3248 (I had to explicitly say `fixes #3248` in order for GitHub to allow me to link this PR to the issue; it should also work if this appears in the body of the commit message, but that wouldn't have been possible here, because this PR seems to have been created before that issue was created).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482087303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482094324","html_url":"https://github.com/apache/accumulo/pull/3246#issuecomment-1482094324","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3246","id":1482094324,"node_id":"IC_kwDOACaFSM5YVvb0","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T00:40:12Z","updated_at":"2023-03-24T00:40:12Z","author_association":"MEMBER","body":"> I wonder if these file ranges support us using The HDFS Vectored Read API (https://issues.apache.org/jira/browse/HADOOP-11867)?\r\n\r\nI'm not sure there would be any good way to use that here, since each of our ranges of data don't map directly to the ranges of byte in the file. Probably shouldn't be part of this change, either way, but might be useful to keep in mind while implementing this, in case that could be done as a separate issue later.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482094324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482641941","html_url":"https://github.com/apache/accumulo/issues/1327#issuecomment-1482641941","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1327","id":1482641941,"node_id":"IC_kwDOACaFSM5YX1IV","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T11:17:26Z","updated_at":"2023-03-24T11:17:26Z","author_association":"CONTRIBUTOR","body":"My initial plan was to just append the ranges as binary as I figured that would be simplest since the encoder for a Range is currently binary. But when I started to look more into it last week I started looking at Ample and I noticed that all values are actually encoded as Strings for the different columns. The current pattern is that TableMutatorBase will convert/encode everything as a String value if it's not already a string before adding the mutation. External compaction metadata actually use JSON to encode already so that pattern exists too.\r\n\r\nSo, because of the fact that the established pattern is to store everything in TabletMetadata as String encoded values and because there's already precedence for using JSON that's why I brought up that option.\r\n\r\nI agree it is less confusing to not mix/match so I plan to just follow your suggestion and encode the entire DataFieldValue as JSON and then either detect the legacy vs new format or just update the values on upgrade.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482641941/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482656617","html_url":"https://github.com/apache/accumulo/issues/3254#issuecomment-1482656617","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3254","id":1482656617,"node_id":"IC_kwDOACaFSM5YX4tp","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T11:30:12Z","updated_at":"2023-03-24T11:30:12Z","author_association":"CONTRIBUTOR","body":"I also was thinking the same thing that this looked similar to https://github.com/apache/accumulo/issues/2830\r\n\r\nI can can ahead and fix it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482656617/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482707866","html_url":"https://github.com/apache/accumulo/issues/3254#issuecomment-1482707866","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3254","id":1482707866,"node_id":"IC_kwDOACaFSM5YYFOa","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T12:15:27Z","updated_at":"2023-03-24T12:15:27Z","author_association":"CONTRIBUTOR","body":"Should this be targeted for 2.1.1 or 3.0? \r\n\r\nI ask because it is a bug fix but it would be nice to be able to change the API, I noticed in Ample we are passing both the tserver and the location type as arguments but we could just pass the Location as that contains both but would require changing the interface.\r\n\r\nhttps://github.com/apache/accumulo/blob/7d6984200036ee6e120043474387eb981b4bd62d/core/src/main/java/org/apache/accumulo/core/metadata/schema/Ample.java#L260-L262\r\n\r\nIt would be nicer to have:\r\n\r\n```java\r\nTabletMutator putLocation(TabletMetadata.Location location);\r\n\r\nTabletMutator deleteLocation(TabletMetadata.Location location);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482707866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482772623","html_url":"https://github.com/apache/accumulo/issues/3254#issuecomment-1482772623","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3254","id":1482772623,"node_id":"IC_kwDOACaFSM5YYVCP","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T13:09:50Z","updated_at":"2023-03-24T13:09:50Z","author_association":"CONTRIBUTOR","body":"I think I might try and keep the scope of this smaller for now as doing a bunch of refactoring has a lot of changes and would be nice to fix the issue with a smaller change and refactor later if we wanted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482772623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482775944","html_url":"https://github.com/apache/accumulo/issues/3254#issuecomment-1482775944","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3254","id":1482775944,"node_id":"IC_kwDOACaFSM5YYV2I","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T13:12:03Z","updated_at":"2023-03-24T13:12:03Z","author_association":"CONTRIBUTOR","body":"> Should this be targeted for 2.1.1 or 3.0?\r\n\r\nIts not public API so we can change it in 2.1.1 if we want.  In its current state it is tricky code and anyone writing new code against it would have to be really careful to understand its nuances (like calling equals on two location objects will not behave in an expected way).   In my opinion its worth attempting to fix in 2.1, but I don't know how extensive the fix will end up being. Personally I would start in 2.1 and if it started to feel like the fix might cause new bugs then I might only fix it in 3.\r\n\r\nYesterday I took a quick look at how many things called TabletMetadata.getLocation and it was around 50, but didn't further investigate how many of those might be doing equal, set, or map operations with the objects.  I don't have a good feel for how much code the fix will end up touching.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482775944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482777839","html_url":"https://github.com/apache/accumulo/issues/3254#issuecomment-1482777839","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3254","id":1482777839,"node_id":"IC_kwDOACaFSM5YYWTv","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T13:13:30Z","updated_at":"2023-03-24T13:13:30Z","author_association":"CONTRIBUTOR","body":"> > Should this be targeted for 2.1.1 or 3.0?\r\n> \r\n> Its not public API so we can change it in 2.1.1 if we want. In its current state it is tricky code and anyone writing new code against it would have to be really careful to understand its nuances (like calling equals on two location objects will not behave in an expected way). In my opinion its worth attempting to fix in 2.1, but I don't know how extensive the fix will end up being. Personally I would start in 2.1 and if it started to feel like the fix might cause new bugs then I might only fix it in 3.\r\n> \r\n> Yesterday I took a quick look at how many things called TabletMetadata.getLocation and it was around 50, but didn't further investigate how many of those might be doing equal, set, or map operations with the objects. I don't have a good feel for how much code the fix will end up touching.\r\n\r\nAlright, I just had commented about doing a smaller change but if we are ok with API changes since it's not public it's probably better to just refactor it all to fix it up in one shot so I will work on that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482777839/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482780165","html_url":"https://github.com/apache/accumulo/issues/3254#issuecomment-1482780165","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3254","id":1482780165,"node_id":"IC_kwDOACaFSM5YYW4F","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T13:15:14Z","updated_at":"2023-03-24T13:15:14Z","author_association":"CONTRIBUTOR","body":"> It would be nicer to have:\r\n> ```\r\n> TabletMutator putLocation(TabletMetadata.Location location);\r\n>\r\n> TabletMutator deleteLocation(TabletMetadata.Location location);\r\n> ```\r\n\r\nThat does seem nicer.  That could be another PR/issue or done in the same as this if its aligned with the changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482780165/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482796036","html_url":"https://github.com/apache/accumulo/issues/3252#issuecomment-1482796036","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3252","id":1482796036,"node_id":"IC_kwDOACaFSM5YYawE","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T13:26:25Z","updated_at":"2023-03-24T13:26:48Z","author_association":"CONTRIBUTOR","body":"Some thoughts on how the cache and hosting tablets on demand might work.\n\nhttps://github.com/apache/accumulo/pull/3220#issuecomment-1478347120","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1482796036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483126407","html_url":"https://github.com/apache/accumulo/pull/3250#issuecomment-1483126407","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3250","id":1483126407,"node_id":"IC_kwDOACaFSM5YZraH","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T17:00:37Z","updated_at":"2023-03-24T17:00:37Z","author_association":"CONTRIBUTOR","body":"Kicked off full IT build","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483126407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483174285","html_url":"https://github.com/apache/accumulo/pull/3257#issuecomment-1483174285","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3257","id":1483174285,"node_id":"IC_kwDOACaFSM5YZ3GN","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T17:34:59Z","updated_at":"2023-03-24T17:34:59Z","author_association":"CONTRIBUTOR","body":"@keith-turner  - I went ahead and targeted this for 2.1.1 since it's not public APIs but that could be changed. I updated the Ample interface to pass in a Location instead of the tserver and location type. If we want we could keep backwards compatibility by adding some default methods that delegate to the new methods, for example: \r\n\r\n```java\r\ndefault T putLocation(TServerInstance tserver, TabletMetadata.LocationType type) {\r\n  return putLocation(new TabletMetadata.Location(tserver, type));\r\n}\r\n\r\ndefault T deleteLocation(TServerInstance tserver, TabletMetadata.LocationType type) {\r\n  return putLocation(new TabletMetadata.Location(tserver, type));\r\n}\r\n```\r\n\r\nBut I did not do that for now as I figured it would be cleaner to just change the existing. Also, I didn't add any new tests because all of the existing tests seem to have enough coverage. I ran through the Sunny ITs and everything passed and I can kick off a full IT. I also grabbed your branch from #3251 locally and merged this in and after fixing the merge conflicts I verified the TabletMetadataTest still passed with the new update.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483174285/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483278472","html_url":"https://github.com/apache/accumulo/pull/3257#issuecomment-1483278472","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3257","id":1483278472,"node_id":"IC_kwDOACaFSM5YaQiI","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T19:01:06Z","updated_at":"2023-03-24T19:01:06Z","author_association":"CONTRIBUTOR","body":"> But I did not do that for now as I figured it would be cleaner to just change the existing\r\n\r\nI agree with that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483278472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483341579","html_url":"https://github.com/apache/accumulo/pull/3246#issuecomment-1483341579","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3246","id":1483341579,"node_id":"IC_kwDOACaFSM5Yaf8L","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T19:59:01Z","updated_at":"2023-03-24T20:00:08Z","author_association":"CONTRIBUTOR","body":"> I wonder if these file ranges support us using The HDFS Vectored Read API (https://issues.apache.org/jira/browse/HADOOP-11867)?\r\n\r\nI wonder if we would need a new iterator API to able to get the full benefit of this Hadoop API.  In current iterator API one can create deep copies and then seek each one.  If we supported specifying all of the known seeks at once then at lower level we may be able to use this Hadoop API. Something like the following\r\n\r\n```java\r\n   Collection<Iterator> iterators = iterator.seek(range1, range2, range3);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483341579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483808763","html_url":"https://github.com/apache/accumulo/pull/3257#issuecomment-1483808763","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3257","id":1483808763,"node_id":"IC_kwDOACaFSM5YcR_7","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-25T12:12:21Z","updated_at":"2023-03-25T12:12:21Z","author_association":"CONTRIBUTOR","body":"The full IT build passed except for 3 tests (AssignLocationModeIT, CompactLocationModeIT, ManagerAssignmentIT) but this was a good thing as the test themselves needed fixing and the tests breaking showed the new equals/hashcode methods are in fact implemented correctly in Location. \r\n\r\nThe tests were comparing that the server instances were the same between different states (current, last, etc) and now that we use Location and compare location type the equals failed because the server instances were the same but the LocationTypes were different of course. \r\n\r\nHere is how the current comparsion is in main where it's comparing the server instance types: https://github.com/apache/accumulo/blob/ecbff2e6023240f6aaf0a231aff5b88d5dc92ab2/test/src/main/java/org/apache/accumulo/test/functional/AssignLocationModeIT.java#L70\r\n\r\nAnd here is how it's now fixed: https://github.com/apache/accumulo/blob/7a3caf8ac962392083159b1a8ac93a009e75a2fa/test/src/main/java/org/apache/accumulo/test/functional/AssignLocationModeIT.java#L70","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483808763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483893531","html_url":"https://github.com/apache/accumulo/pull/3250#issuecomment-1483893531","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3250","id":1483893531,"node_id":"IC_kwDOACaFSM5Ycmsb","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-25T18:39:33Z","updated_at":"2023-03-25T18:39:33Z","author_association":"CONTRIBUTOR","body":"I tested this out quite a bit today using Uno and so far so good. The instructions need to be updated though with new property names. I couldn't figure out why the tables were not unloading and then I did some debugging and it looks like things got renamed.\r\n\r\nThe instructions say to set: \r\n\r\n```properties\r\nmanager.tablet.watcher.interval=15s\r\ntable.ondemand.tablet.unloader.interval=1m\r\ntable.custom.ondemand.unloader.inactivity.threshold=120000\r\n```\r\nBut this should now be:\r\n\r\n```properties\r\nmanager.tablet.watcher.interval=15s\r\n#table renamed to tserver\r\ntserver.ondemand.tablet.unloader.interval=1m\r\n#seconds appended to the end\r\ntable.custom.ondemand.unloader.inactivity.threshold.seconds=120\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483893531/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483896573","html_url":"https://github.com/apache/accumulo/pull/3250#issuecomment-1483896573","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3250","id":1483896573,"node_id":"IC_kwDOACaFSM5Ycnb9","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-25T18:55:23Z","updated_at":"2023-03-25T18:55:23Z","author_association":"CONTRIBUTOR","body":"My latest changes from #3257 caused merged conflicts in this branch since I changed things in tests and especially TabletLocationState. I went ahead and created a PR for this branch that merges in elasticity branch and fixes all the conflicts: https://github.com/dlmarion/accumulo/pull/39","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1483896573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1486840446","html_url":"https://github.com/apache/accumulo/pull/3143#issuecomment-1486840446","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3143","id":1486840446,"node_id":"IC_kwDOACaFSM5Yn2J-","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T12:57:52Z","updated_at":"2023-03-28T12:57:52Z","author_association":"CONTRIBUTOR","body":"I have been looking at this with the goal of supporting #3220.  This is not quite what we need for #3220.  In this PR there were code reorganizations that were prerequisites to making the cache changes.  I am going to do those reorganizations of Scanner, BatchScanner, and ThriftScanner in their own PR, then do the needed cache changes for #3220 in its own PR.  Will leave this PR open and unmerged for now until the new PRs are done.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1486840446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1487369150","html_url":"https://github.com/apache/accumulo/pull/3261#issuecomment-1487369150","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3261","id":1487369150,"node_id":"IC_kwDOACaFSM5Yp3O-","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T17:58:29Z","updated_at":"2023-03-28T17:58:29Z","author_association":"MEMBER","body":"> _ No description provided. _\r\n\r\nThis commit warrants a description when this gets merged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1487369150/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1487669752","html_url":"https://github.com/apache/accumulo/pull/3265#issuecomment-1487669752","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3265","id":1487669752,"node_id":"IC_kwDOACaFSM5YrAn4","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T22:17:35Z","updated_at":"2023-03-28T22:17:35Z","author_association":"MEMBER","body":"The scan interpreter was deprecated in favor of urging users to use JShell for processing/parsing their scan input ranges and formatting the output, if they need anything more complicated than basic dumping of bytes. The interpreter was related to the formatter for scans, and both options were deprecated on the scan command (and its derivatives), but not all the formatter options were properly marked as deprecated. In order to fully remove them, they should be marked as deprecated in a 2.1 release first. The formatter stuff is a little bit entangled, though... so this PR mostly addresses the interpreter stuff only.\r\n\r\nI will need to see if all the ITs pass with this, though, because I suspect some ITs for the shell may still expect the interpreter/formatter stuff to be there. Even after code reviews, I won't merge this until all ITs pass with it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1487669752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1488601928","html_url":"https://github.com/apache/accumulo/issues/3233#issuecomment-1488601928","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3233","id":1488601928,"node_id":"IC_kwDOACaFSM5YukNI","user":{"login":"jschmidt10","id":1583214,"node_id":"MDQ6VXNlcjE1ODMyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1583214?v=4","gravatar_id":"","url":"https://api.github.com/users/jschmidt10","html_url":"https://github.com/jschmidt10","followers_url":"https://api.github.com/users/jschmidt10/followers","following_url":"https://api.github.com/users/jschmidt10/following{/other_user}","gists_url":"https://api.github.com/users/jschmidt10/gists{/gist_id}","starred_url":"https://api.github.com/users/jschmidt10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschmidt10/subscriptions","organizations_url":"https://api.github.com/users/jschmidt10/orgs","repos_url":"https://api.github.com/users/jschmidt10/repos","events_url":"https://api.github.com/users/jschmidt10/events{/privacy}","received_events_url":"https://api.github.com/users/jschmidt10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T13:20:59Z","updated_at":"2023-03-29T13:20:59Z","author_association":"CONTRIBUTOR","body":"Thanks @ctubbsii. Do you have an idea what you'd like the API to look like? Would it be a new flag on the `createtable` command?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1488601928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1489127715","html_url":"https://github.com/apache/accumulo/pull/3265#issuecomment-1489127715","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3265","id":1489127715,"node_id":"IC_kwDOACaFSM5Ywkkj","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T18:50:03Z","updated_at":"2023-03-29T18:50:03Z","author_association":"MEMBER","body":"ShellIT is failing with these changes. I will fix that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1489127715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1489314956","html_url":"https://github.com/apache/accumulo/pull/3266#issuecomment-1489314956","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3266","id":1489314956,"node_id":"IC_kwDOACaFSM5YxSSM","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T21:01:34Z","updated_at":"2023-03-29T21:01:34Z","author_association":"MEMBER","body":"This works around the issue seen with license-maven-plugin in Eclipse 2023-03 reported at eclipse-m2e/m2e-core#1332","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1489314956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1489342730","html_url":"https://github.com/apache/accumulo/issues/3233#issuecomment-1489342730","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3233","id":1489342730,"node_id":"IC_kwDOACaFSM5YxZEK","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T21:21:57Z","updated_at":"2023-03-29T21:21:57Z","author_association":"MEMBER","body":"> Thanks @ctubbsii. Do you have an idea what you'd like the API to look like? Would it be a new flag on the `createtable` command?\r\n\r\nSince the shell is using only public API for this (and it shouldn't use internal APIs), we would need to create a new option for NewTableConfiguration to do this internally, rather than only inside the shell. Or, we would first need to create new getters for the shell to be able to retrieve the actual configuration and distinguish that from the effective configuration.\r\n\r\nBut, I wonder if we really want to do that. It would be exposing a lot of the internals for how we manage configuration, and I'm not sure we really want to do that, because it might be harder to make improvements to that if we lock ourselves in with public API exposures for it.\r\n\r\nAnother way to think about it is that this flag is really just adding one possible convenience option for users. We're not making any guarantees that it will satisfy everybody's use case... nor is it feasible to add a new flag for convenience for every situation. If the user has a more complex situation than our convenience flags can support, I don't think it would be unreasonable to suggest that they just do their own thing inside their own Java client code, whether that's in JShell or a compiled class. If it becomes a high-demand use case, we could consider adding an additional convenience flag later.\r\n\r\nIn this case, the situation is happening because of a lot of table properties being set at the system level, and then subsequently trying to create tables with configuration copied from another table. I'm not sure it's a high-demand use case to do that, and probably doesn't warrant the addition of a new flag. I think it would probably make much more sense to save a NewTableConfiguration, set up with the table properties you want, and then to use that as a template for creating new tables, rather than copying existing tables' configurations.\r\n\r\nYou could also compare your table configuration with the system configuration, to see which items are being overridden, and create a NewTableConfiguration consisting of only those differences.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1489342730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492452534","html_url":"https://github.com/apache/accumulo/issues/3267#issuecomment-1492452534","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3267","id":1492452534,"node_id":"IC_kwDOACaFSM5Y9QS2","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T18:58:09Z","updated_at":"2023-03-31T18:58:09Z","author_association":"MEMBER","body":"@avgAGB We occasionally add features to RFiles that make it support things we add to Accumulo. Those changes won't be understood by older versions of Accumulo, but they don't typically alter the fundamental storage concepts of RFiles. I believe the main feature added after 1.10 was the ability to support data emitted from a configured Sampler.\r\n\r\nIf you need to extract data from one RFile version and store it in an older Accumulo version, you could just create a scanner and scan the data in the file, storing it in whatever intermediate format you wish.\r\n\r\nSince this issue tracker is mainly used by developers to track issues, you may have luck finding home grown solutions for your situation, or similar situations, that you can adapt, from the bigger audience of users if you post your question to [the user mailing list](https://accumulo.apache.org/contact-us/).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492452534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492464010","html_url":"https://github.com/apache/accumulo/pull/3269#issuecomment-1492464010","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3269","id":1492464010,"node_id":"IC_kwDOACaFSM5Y9TGK","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T19:08:39Z","updated_at":"2023-03-31T19:09:05Z","author_association":"MEMBER","body":"Can you provide a reference for where the new Validator was added? It would help to know when / why it was added in order to understand whether the validator is supposed to be checking \"not any metadata table (neither accumulo.root nor accumulo.metadata, nor any other future metadata table)\" or \"not the specific metadata table named accumulo.metadata\".\r\n\r\nAlso, it would help explain why the elasticity branch is being targeted instead of the main branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492464010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492475160","html_url":"https://github.com/apache/accumulo/pull/3269#issuecomment-1492475160","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3269","id":1492475160,"node_id":"IC_kwDOACaFSM5Y9V0Y","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T19:13:59Z","updated_at":"2023-03-31T19:16:29Z","author_association":"MEMBER","body":"The new `NOT_METADATA_TABLE_ID` `Validator` was added as part of #3250. \r\n\r\nThis PR is targeting the `elasticity` branch because it contains the changes made in #3250 which include the new `Validator` where main does not yet have these changes nor the new `Validator`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492475160/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492476789","html_url":"https://github.com/apache/accumulo/pull/3268#issuecomment-1492476789","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3268","id":1492476789,"node_id":"IC_kwDOACaFSM5Y9WN1","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T19:15:30Z","updated_at":"2023-03-31T19:15:30Z","author_association":"MEMBER","body":"I think \"on-demand\" should be stylized with a hyphen when used as an adjective in prose/documentation. Variables/constants can be `ON_DEMAND`, or `ONDEMAND`, or `onDemand`, as needed, but when writing in English and not referring to the specific variable, the hyphenated form is more grammatically correct.\r\n\r\nFor what it's worth, https://en.wikipedia.org/wiki/On-demand uses the hyphenated form as its disambiguation page for the term. As an adjective, \"on-demand\" seems correct. However, as a prepositional phrase, \"on demand\" seems correct. So, an \"on-demand table\" is a \"table [made available] on demand\".","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492476789/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492586116","html_url":"https://github.com/apache/accumulo/pull/3268#issuecomment-1492586116","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3268","id":1492586116,"node_id":"IC_kwDOACaFSM5Y9w6E","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T20:43:03Z","updated_at":"2023-03-31T20:43:03Z","author_association":"MEMBER","body":"The original intent of this PR was to fix the typos in TableOperations from \"online\" to \"on-demand\".\r\n\r\nIn the latest commit I took a quick look through the comments to see where I could apply the suggestions made by @ctubbsii.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492586116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492729431","html_url":"https://github.com/apache/accumulo/pull/3271#issuecomment-1492729431","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3271","id":1492729431,"node_id":"IC_kwDOACaFSM5Y-T5X","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T23:49:40Z","updated_at":"2023-03-31T23:49:40Z","author_association":"CONTRIBUTOR","body":"Created this PR to pull some of refactoring done in #3143 into its own PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1492729431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494142937","html_url":"https://github.com/apache/accumulo/issues/3270#issuecomment-1494142937","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3270","id":1494142937,"node_id":"IC_kwDOACaFSM5ZDs_Z","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T11:21:53Z","updated_at":"2023-04-03T11:21:53Z","author_association":"CONTRIBUTOR","body":"@keith-turner  - which version(s) are affected? Is this only for Bulk Import v2, or for both?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494142937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494337092","html_url":"https://github.com/apache/accumulo/issues/3270#issuecomment-1494337092","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3270","id":1494337092,"node_id":"IC_kwDOACaFSM5ZEcZE","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T13:35:18Z","updated_at":"2023-04-03T13:35:18Z","author_association":"CONTRIBUTOR","body":"Looking back I think this bug exists in 1.10 forward.\r\n\r\nThe following commit is from the last 1.10 release and it is not applying the TimeSettingIterator to the file if needed.\r\n\r\nhttps://github.com/apache/accumulo/blob/db2baf1706c0721e25438d5329ef1bba5159c24d/core/src/main/java/org/apache/accumulo/core/client/impl/OfflineIterator.java#L363","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494337092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494348915","html_url":"https://github.com/apache/accumulo/issues/3270#issuecomment-1494348915","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3270","id":1494348915,"node_id":"IC_kwDOACaFSM5ZEfRz","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T13:43:14Z","updated_at":"2023-04-03T13:43:14Z","author_association":"CONTRIBUTOR","body":"This bug would impact bulk import 1 and 2 if either were calling set time and ([v1 api, the setTime boolean](https://github.com/apache/accumulo/blob/8c65e026be2db633d8f2a622aabf05db1c2d6c15/core/src/main/java/org/apache/accumulo/core/client/admin/TableOperations.java#L583)  [v2 api](https://github.com/apache/accumulo/blob/8c65e026be2db633d8f2a622aabf05db1c2d6c15/core/src/main/java/org/apache/accumulo/core/client/admin/TableOperations.java#L599)) using the Accumulo Map Reduce scan offline table feature.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494348915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494355668","html_url":"https://github.com/apache/accumulo/pull/3271#issuecomment-1494355668","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3271","id":1494355668,"node_id":"IC_kwDOACaFSM5ZEg7U","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T13:47:47Z","updated_at":"2023-04-03T13:47:47Z","author_association":"CONTRIBUTOR","body":"@ctubbsii and @dlmarion I went ahead and merged this because I have other TabletLocator clean ups that I want to extract from #3143 as their own commits.  Its easiest to do that if this if already merged into main.  Also this PR is mainly automated refactoring from an IDE.  If there are any other changes you would like to see related to this PR let me know and I can make them in a follow on PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494355668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494508621","html_url":"https://github.com/apache/accumulo/issues/3267#issuecomment-1494508621","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3267","id":1494508621,"node_id":"IC_kwDOACaFSM5ZFGRN","user":{"login":"avgAGB","id":28030040,"node_id":"MDQ6VXNlcjI4MDMwMDQw","avatar_url":"https://avatars.githubusercontent.com/u/28030040?v=4","gravatar_id":"","url":"https://api.github.com/users/avgAGB","html_url":"https://github.com/avgAGB","followers_url":"https://api.github.com/users/avgAGB/followers","following_url":"https://api.github.com/users/avgAGB/following{/other_user}","gists_url":"https://api.github.com/users/avgAGB/gists{/gist_id}","starred_url":"https://api.github.com/users/avgAGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avgAGB/subscriptions","organizations_url":"https://api.github.com/users/avgAGB/orgs","repos_url":"https://api.github.com/users/avgAGB/repos","events_url":"https://api.github.com/users/avgAGB/events{/privacy}","received_events_url":"https://api.github.com/users/avgAGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T15:10:54Z","updated_at":"2023-04-03T15:10:54Z","author_association":"NONE","body":"@ctubbsii One follow up question. It seems that when attempting to scan an rfile from a 2.1.1 using 1.10.4 jars I get an error involving an \"Incompatible BCFile BCFileVersion\" - would there be a way to scan or extract the information within a rfile with a newer BCFileVersion without tampering with the contents of the 2.1.1 rfile? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494508621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494610365","html_url":"https://github.com/apache/accumulo/pull/3272#issuecomment-1494610365","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3272","id":1494610365,"node_id":"IC_kwDOACaFSM5ZFfG9","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T16:13:56Z","updated_at":"2023-04-03T16:13:56Z","author_association":"CONTRIBUTOR","body":"This PR pulls improvements out of #3143 into a standalone commit like #3271 did.  Doing this because I will need to make different caching changes than #3143 did inorder to support on demand tables and the general improvements made in #3143 will support those changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494610365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494665263","html_url":"https://github.com/apache/accumulo/issues/3248#issuecomment-1494665263","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3248","id":1494665263,"node_id":"IC_kwDOACaFSM5ZFsgv","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T16:55:14Z","updated_at":"2023-04-03T16:55:14Z","author_association":"CONTRIBUTOR","body":"@ctubbsii  asked \r\n\r\n```Is this issue completely fixed by https://github.com/apache/accumulo/pull/3245? If so, why was this issue created after the PR already existed?```\r\n\r\nThis issue was created after PR #3245 because the initial fix / testing in that PR pointed to a potential problem that should not be solved by adding delays in the test.  Something else needed to be done, but what was unknown. The issue was created to expand scope of the issue beyond a PR that was just trying to fix the ShellServerIT test.  \r\n\r\nFollow-on work under PR #3245 then addressed the underlying issue and will be a fix for this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1494665263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1495116913","html_url":"https://github.com/apache/accumulo/pull/3273#issuecomment-1495116913","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3273","id":1495116913,"node_id":"IC_kwDOACaFSM5ZHaxx","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T23:25:09Z","updated_at":"2023-04-03T23:25:09Z","author_association":"CONTRIBUTOR","body":"This PR is similar to #3272 except its for the batch scanner, it also pulls code from #3143 into its own PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1495116913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1495225215","html_url":"https://github.com/apache/accumulo/issues/3233#issuecomment-1495225215","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3233","id":1495225215,"node_id":"IC_kwDOACaFSM5ZH1N_","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T01:51:43Z","updated_at":"2023-04-04T02:22:34Z","author_association":"CONTRIBUTOR","body":"The new 2.1.0 API [TableOperations.getTableProperties()](https://github.com/apache/accumulo/blob/1409bc0fdd8fa9b262d8de5a388af99ef5deb61e/core/src/main/java/org/apache/accumulo/core/client/admin/TableOperations.java#L513-L526) may facilitate this along with a new options on the shell command. That new API only returns the props set on a table.  Could add a new option like --copy-only-table-config that uses TableOperations.getTableProperties()\r\n\r\nLooking at the current create table command I was surprised that it creates the table and set then copies the config.  It would be better if it used [NewTableConfiguration.setProperties()](https://github.com/apache/accumulo/blob/1409bc0fdd8fa9b262d8de5a388af99ef5deb61e/core/src/main/java/org/apache/accumulo/core/client/admin/NewTableConfiguration.java#L143) to set the props prior to creation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1495225215/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497548354","html_url":"https://github.com/apache/accumulo/pull/3272#issuecomment-1497548354","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3272","id":1497548354,"node_id":"IC_kwDOACaFSM5ZQsZC","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T14:04:58Z","updated_at":"2023-04-05T14:04:58Z","author_association":"CONTRIBUTOR","body":"This looks good to me. I kicked off a full IT build, I'm pretty sure that we have ITs that test the tserver fallback case where a scan server is not found and good coverage in the other ITs too.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497548354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497571642","html_url":"https://github.com/apache/accumulo/pull/3272#issuecomment-1497571642","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3272","id":1497571642,"node_id":"IC_kwDOACaFSM5ZQyE6","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T14:18:45Z","updated_at":"2023-04-05T14:18:45Z","author_association":"CONTRIBUTOR","body":"Should this start with the 2.1 branch?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497571642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497576840","html_url":"https://github.com/apache/accumulo/pull/3273#issuecomment-1497576840","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3273","id":1497576840,"node_id":"IC_kwDOACaFSM5ZQzWI","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T14:22:05Z","updated_at":"2023-04-05T14:22:05Z","author_association":"CONTRIBUTOR","body":"Looks good, kicking off full IT build for this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497576840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497626850","html_url":"https://github.com/apache/accumulo/pull/3272#issuecomment-1497626850","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3272","id":1497626850,"node_id":"IC_kwDOACaFSM5ZQ_ji","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T14:53:10Z","updated_at":"2023-04-05T14:53:10Z","author_association":"CONTRIBUTOR","body":"> Should this start with the 2.1 branch?\r\n\r\nI was wondering about that, its only a reorganization of the code.  The pros I can think of for going to 2.1 are :\r\n\r\n * Makes it easier to maintain 2.1\r\n * Makes it easier to merge from 2.1 to 3\r\n\r\nThe only con I can think of is that these changes may introduce a bug in 2.1.\r\n\r\nAre there any other pros or cons?\r\n\r\nIf this change were pulled back to 2.1 then would also want to pull #3273 back.  There is also another simple change I was thinking of making in main.  Wanted to rename the TabletLocator to TabletCache to reflect the changes that will be made in the elasticity branch to generalize the responsibility of the client side tablet cache.  The reason I am making all of these changes in main is to make merging to the elasticity branch easier.  I plan to make the actual changes to cache functionality to support ondemand tablets only in the elasticity branch.  All of these prereq changes for that cahce changes will have been made in main. So would it make sense to make all of these prereq changes in 2.1 instead?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497626850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497853201","html_url":"https://github.com/apache/accumulo/pull/3272#issuecomment-1497853201","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3272","id":1497853201,"node_id":"IC_kwDOACaFSM5ZR20R","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T17:18:55Z","updated_at":"2023-04-05T17:18:55Z","author_association":"MEMBER","body":"Given the quantity of the changes, I don't think it makes sense to make these prereq changes in 2.1. I'm not even sure they should go in 3.0... maybe 3.1 right after we release 3.0.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497853201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497887973","html_url":"https://github.com/apache/accumulo/issues/3267#issuecomment-1497887973","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3267","id":1497887973,"node_id":"IC_kwDOACaFSM5ZR_Tl","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T17:51:14Z","updated_at":"2023-04-05T17:51:14Z","author_association":"MEMBER","body":"> @ctubbsii One follow up question. It seems that when attempting to scan an rfile from a 2.1.1 using 1.10.4 jars I get an error involving an \"Incompatible BCFile BCFileVersion\" - would there be a way to scan or extract the information within a rfile with a newer BCFileVersion without tampering with the contents of the 2.1.1 rfile?\r\n\r\nYou could use [the RFile client API](https://accumulo.apache.org/docs/2.x/apidocs/org/apache/accumulo/core/client/rfile/RFile.html#newScanner()) to read the contents.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497887973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497979145","html_url":"https://github.com/apache/accumulo/pull/3272#issuecomment-1497979145","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3272","id":1497979145,"node_id":"IC_kwDOACaFSM5ZSVkJ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T19:02:49Z","updated_at":"2023-04-05T19:02:49Z","author_association":"CONTRIBUTOR","body":"> I'm not even sure they should go in 3.0... maybe 3.1 right after we release 3.0.\r\n\r\nI want to get these in sooner rather than later so I can build on them.  If they do not go into main now, then they could go in the elasticity branch.  I was thinking putting them in main may help ease merge conflicts from main to elasticity.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1497979145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1498115816","html_url":"https://github.com/apache/accumulo/pull/3272#issuecomment-1498115816","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3272","id":1498115816,"node_id":"IC_kwDOACaFSM5ZS27o","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T20:31:51Z","updated_at":"2023-04-05T20:31:51Z","author_association":"MEMBER","body":"> > I'm not even sure they should go in 3.0... maybe 3.1 right after we release 3.0.\r\n> \r\n> I want to get these in sooner rather than later so I can build on them. If they do not go into main now, then they could go in the elasticity branch. I was thinking putting them in main may help ease merge conflicts from main to elasticity.\r\n\r\nI'm not really opposed to including it in 3.0. I was just expressing a bit of uncertainty, based on the size and not having a lot of understanding of the changes (yet). Based on the description of what it does, it seems reasonable to include sooner. Without having a lot of time to review in depth at the moment, I'm okay with either.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1498115816/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1498129771","html_url":"https://github.com/apache/accumulo/pull/3272#issuecomment-1498129771","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3272","id":1498129771,"node_id":"IC_kwDOACaFSM5ZS6Vr","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T20:45:05Z","updated_at":"2023-04-05T20:45:05Z","author_association":"CONTRIBUTOR","body":"> This looks good to me. I kicked off a full IT build, I'm pretty sure that we have ITs that test the tserver fallback case where a scan server is not found and good coverage in the other ITs too.\r\n\r\nOK I switched this to target the elasticity branch.  I think its ok to merge there w/o a full IT, so I am going to merge this.  Let me know if something does blow up the with the ITs though.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1498129771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1498131505","html_url":"https://github.com/apache/accumulo/pull/3273#issuecomment-1498131505","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3273","id":1498131505,"node_id":"IC_kwDOACaFSM5ZS6wx","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T20:46:47Z","updated_at":"2023-04-05T20:46:47Z","author_association":"CONTRIBUTOR","body":"> Looks good, kicking off full IT build for this.\r\n\r\nOk going to merge thjis w/ same reason as #3272","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1498131505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1499591576","html_url":"https://github.com/apache/accumulo/issues/3279#issuecomment-1499591576","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3279","id":1499591576,"node_id":"IC_kwDOACaFSM5ZYfOY","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T20:34:13Z","updated_at":"2023-04-06T20:34:13Z","author_association":"CONTRIBUTOR","body":"@jmark99 I downloaded the same candidate file and ran through your steps but I'm not able to reproduce your errors.\r\n\r\nI am on a different OS and java version. \r\n```\r\n$ cat /etc/redhat-release \r\nCentOS Linux release 7.9.2009 (Core)\r\n\r\n$ java -version\r\nopenjdk version \"1.8.0_352\"\r\nOpenJDK Runtime Environment (build 1.8.0_352-b08)\r\nOpenJDK 64-Bit Server VM (build 25.352-b08, mixed mode)\r\n```\r\n\r\nTest output from  the accumulo-start section of `mvn clean package` \r\n```\r\n[INFO] --- exec-maven-plugin:3.0.0:exec (Build Test jars) @ accumulo-start ---\r\n[INFO] \r\n[INFO] --- exec-maven-plugin:3.0.0:exec (Build HelloWorld jars) @ accumulo-start ---\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:3.0.0-M4:test (default-test) @ accumulo-start ---\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running org.apache.accumulo.start.classloader.vfs.providers.VfsClassLoaderTest\r\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 25.488 s - in org.apache.accumulo.start.classloader.vfs.providers.VfsClassLoaderTest\r\n[INFO] Running org.apache.accumulo.start.classloader.vfs.AccumuloVFSClassLoaderTest\r\n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.88 s - in org.apache.accumulo.start.classloader.vfs.AccumuloVFSClassLoaderTest\r\n[INFO] Running org.apache.accumulo.start.classloader.vfs.AccumuloReloadingVFSClassLoaderTest\r\n[WARNING] Tests run: 4, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 14.489 s - in org.apache.accumulo.start.classloader.vfs.AccumuloReloadingVFSClassLoaderTest\r\n[INFO] Running org.apache.accumulo.start.classloader.vfs.ContextManagerTest\r\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.511 s - in org.apache.accumulo.start.classloader.vfs.ContextManagerTest\r\n[INFO] Running org.apache.accumulo.start.MainTest\r\n[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.302 s - in org.apache.accumulo.start.MainTest\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[WARNING] Tests run: 18, Failures: 0, Errors: 0, Skipped: 2\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1499591576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1499593724","html_url":"https://github.com/apache/accumulo/issues/3279#issuecomment-1499593724","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3279","id":1499593724,"node_id":"IC_kwDOACaFSM5ZYfv8","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T20:36:36Z","updated_at":"2023-04-06T20:36:36Z","author_association":"CONTRIBUTOR","body":"Running the test individually and `mvn clean package` on the downloaded src file both pass for me.\r\n\r\n```\r\nmvn --version\r\nApache Maven 3.6.3\r\nMaven home: /usr/share/maven\r\nJava version: 11.0.18, vendor: Eclipse Adoptium, runtime: /usr/java/adopt-jdk-11/jdk-11.0.18+10\r\nDefault locale: en, platform encoding: UTF-8\r\nOS name: \"linux\", version: \"5.19.0-1022-aws\", arch: \"amd64\", family: \"unix\"\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1499593724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1499607098","html_url":"https://github.com/apache/accumulo/issues/3279#issuecomment-1499607098","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3279","id":1499607098,"node_id":"IC_kwDOACaFSM5ZYjA6","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T20:50:15Z","updated_at":"2023-04-06T20:50:15Z","author_association":"MEMBER","body":"I also haven't reproduced this issue. Please make sure your Uno is up-to-date, as that seems the most likely problem. If not, then please check to see if #3280 fixes your issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1499607098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1499867144","html_url":"https://github.com/apache/accumulo/issues/3281#issuecomment-1499867144","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3281","id":1499867144,"node_id":"IC_kwDOACaFSM5ZZigI","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T02:35:20Z","updated_at":"2023-04-07T02:35:20Z","author_association":"CONTRIBUTOR","body":"I've confirmed that this error occurs with both the download artifact and by building directly from the 1.10.3.rc0 git branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1499867144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500140260","html_url":"https://github.com/apache/accumulo/issues/3279#issuecomment-1500140260","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3279","id":1500140260,"node_id":"IC_kwDOACaFSM5ZalLk","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T10:02:03Z","updated_at":"2023-04-07T10:02:03Z","author_association":"CONTRIBUTOR","body":"Just to add one more person, the test also passes for me as well when testing on RHEL 8 and JDK 11.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500140260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500170218","html_url":"https://github.com/apache/accumulo/pull/3278#issuecomment-1500170218","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3278","id":1500170218,"node_id":"IC_kwDOACaFSM5Zasfq","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T10:46:12Z","updated_at":"2023-04-07T10:46:12Z","author_association":"CONTRIBUTOR","body":"Taking away the synchronized wrapper on the map also requires adding a synchronization block on remove which isn't currently being done, so without it the remove would be unprotected, See https://github.com/apache/accumulo/blob/7f49667f1347ba446d0f8e31271df8ba7ee48397/server/tserver/src/main/java/org/apache/accumulo/tserver/log/LogSorter.java#L127\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500170218/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500174932","html_url":"https://github.com/apache/accumulo/issues/3281#issuecomment-1500174932","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3281","id":1500174932,"node_id":"IC_kwDOACaFSM5ZatpU","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T10:54:36Z","updated_at":"2023-04-07T11:00:49Z","author_association":"CONTRIBUTOR","body":"I was able to reproduce this error on RHEL 8 and also with JDK 11 when running the entire ExamplesIT. When running a single test from ExamplesIT it passed.\r\n\r\n**Failed:**\r\n\r\n`mvn verify -Dtest=ignore -Dit.test=org.apache.accumulo.test.functional.ExamplesIT -Dspotbugs.skip -Dhadoop.profile=2`\r\n\r\n<details>\r\n\r\n```\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running org.apache.accumulo.test.functional.ExamplesIT\r\n[ERROR] Tests run: 18, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 468.952 s <<< FAILURE! - in org.apache.accumulo.test.functional.ExamplesIT\r\n[ERROR] org.apache.accumulo.test.functional.ExamplesIT.testScansWithInterference  Time elapsed: 62.467 s  <<< FAILURE!\r\njava.lang.AssertionError: \r\nstdout=2023-04-07 06:40:58,279 [classloader.AccumuloClassLoader] DEBUG: ignoring classpath entry /home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/lib/[^.].*[.]jar\r\n2023-04-07 06:40:58,279 [classloader.AccumuloClassLoader] DEBUG: Create 2nd tier ClassLoader using URLs: []\r\n2023-04-07 06:40:58,343 [cache.SoftRefFilesCache] DEBUG: putFile: file:///home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/lib/ext/[^.].*[.]jar\r\n2023-04-07 06:40:58,344 [cache.SoftRefFilesCache] DEBUG: putFile: file:///\r\n2023-04-07 06:40:58,344 [cache.SoftRefFilesCache] DEBUG: putFile: file:///home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/lib/ext\r\n2023-04-07 06:40:58,346 [vfs.AccumuloReloadingVFSClassLoader] DEBUG: monitoring file:///home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/lib/ext\r\n2023-04-07 06:40:58,556 [client.ClientConfiguration] INFO : Loaded client configuration file /home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/conf/client.conf\r\n2023-04-07 06:40:58,558 [client.ClientConfiguration] INFO : Loaded client configuration file /home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/conf/client.conf\r\n2023-04-07 06:40:58,566 [zookeeper.ZooSession] DEBUG: Connecting to localhost:37677 with timeout 30000 with auth\r\n2023-04-07 06:41:53,894 [impl.TabletServerBatchWriter] ERROR: Server side error on ip-10-113-15-144.evoforge.org:45673: org.apache.thrift.TApplicationException: Internal error processing closeUpdate\r\n2023-04-07 06:41:53,895 [isolation.InterferenceTest] ERROR: Mutation was rejected.\r\norg.apache.accumulo.core.client.MutationsRejectedException: # constraint violations : 0  security codes: {}  # server errors 1 # exceptions 0\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter.checkForFailures(TabletServerBatchWriter.java:594)\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter.addMutation(TabletServerBatchWriter.java:265)\r\n\tat org.apache.accumulo.core.client.impl.BatchWriterImpl.addMutation(BatchWriterImpl.java:43)\r\n\tat org.apache.accumulo.examples.simple.isolation.InterferenceTest$Writer.run(InterferenceTest.java:82)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n2023-04-07 06:41:53,895 [impl.TabletServerBatchWriter] ERROR: Failed to send tablet server ip-10-113-15-144.evoforge.org:45673 its batch : Error on server ip-10-113-15-144.evoforge.org:45673\r\norg.apache.accumulo.core.client.impl.AccumuloServerException: Error on server ip-10-113-15-144.evoforge.org:45673\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter$MutationWriter.sendMutationsToTabletServer(TabletServerBatchWriter.java:1037)\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter$MutationWriter.access$2100(TabletServerBatchWriter.java:676)\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter$MutationWriter$SendTask.send(TabletServerBatchWriter.java:895)\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter$MutationWriter$SendTask.run(TabletServerBatchWriter.java:851)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.accumulo.fate.util.LoggingRunnable.run(LoggingRunnable.java:35)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.thrift.TApplicationException: Internal error processing closeUpdate\r\n\tat org.apache.thrift.TApplicationException.read(TApplicationException.java:111)\r\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:79)\r\n\tat org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Client.recv_closeUpdate(TabletClientService.java:457)\r\n\tat org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Client.closeUpdate(TabletClientService.java:443)\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter$MutationWriter.sendMutationsToTabletServer(TabletServerBatchWriter.java:996)\r\n\t... 9 more\r\n expected:<0> but was:<255>\r\n\tat org.junit.Assert.fail(Assert.java:89)\r\n\tat org.junit.Assert.failNotEquals(Assert.java:835)\r\n\tat org.junit.Assert.assertEquals(Assert.java:647)\r\n\tat org.apache.accumulo.test.functional.ExamplesIT.goodExec(ExamplesIT.java:726)\r\n\tat org.apache.accumulo.test.functional.ExamplesIT.testScansWithInterference(ExamplesIT.java:621)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\r\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[ERROR] Failures: \r\n[ERROR]   ExamplesIT.testScansWithInterference:621->goodExec:726 stdout=2023-04-07 06:40:58,279 [classloader.AccumuloClassLoader] DEBUG: ignoring classpath entry /home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/lib/[^.].*[.]jar\r\n2023-04-07 06:40:58,279 [classloader.AccumuloClassLoader] DEBUG: Create 2nd tier ClassLoader using URLs: []\r\n2023-04-07 06:40:58,343 [cache.SoftRefFilesCache] DEBUG: putFile: file:///home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/lib/ext/[^.].*[.]jar\r\n2023-04-07 06:40:58,344 [cache.SoftRefFilesCache] DEBUG: putFile: file:///\r\n2023-04-07 06:40:58,344 [cache.SoftRefFilesCache] DEBUG: putFile: file:///home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/lib/ext\r\n2023-04-07 06:40:58,346 [vfs.AccumuloReloadingVFSClassLoader] DEBUG: monitoring file:///home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/lib/ext\r\n2023-04-07 06:40:58,556 [client.ClientConfiguration] INFO : Loaded client configuration file /home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/conf/client.conf\r\n2023-04-07 06:40:58,558 [client.ClientConfiguration] INFO : Loaded client configuration file /home/cshannon/Downloads/accumulo-1.10.3/test/target/mini-tests/org.apache.accumulo.test.functional.ExamplesIT_testScansWithInterference/conf/client.conf\r\n2023-04-07 06:40:58,566 [zookeeper.ZooSession] DEBUG: Connecting to localhost:37677 with timeout 30000 with auth\r\n2023-04-07 06:41:53,894 [impl.TabletServerBatchWriter] ERROR: Server side error on ip-10-113-15-144.evoforge.org:45673: org.apache.thrift.TApplicationException: Internal error processing closeUpdate\r\n2023-04-07 06:41:53,895 [isolation.InterferenceTest] ERROR: Mutation was rejected.\r\norg.apache.accumulo.core.client.MutationsRejectedException: # constraint violations : 0  security codes: {}  # server errors 1 # exceptions 0\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter.checkForFailures(TabletServerBatchWriter.java:594)\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter.addMutation(TabletServerBatchWriter.java:265)\r\n\tat org.apache.accumulo.core.client.impl.BatchWriterImpl.addMutation(BatchWriterImpl.java:43)\r\n\tat org.apache.accumulo.examples.simple.isolation.InterferenceTest$Writer.run(InterferenceTest.java:82)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n2023-04-07 06:41:53,895 [impl.TabletServerBatchWriter] ERROR: Failed to send tablet server ip-10-113-15-144.evoforge.org:45673 its batch : Error on server ip-10-113-15-144.evoforge.org:45673\r\norg.apache.accumulo.core.client.impl.AccumuloServerException: Error on server ip-10-113-15-144.evoforge.org:45673\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter$MutationWriter.sendMutationsToTabletServer(TabletServerBatchWriter.java:1037)\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter$MutationWriter.access$2100(TabletServerBatchWriter.java:676)\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter$MutationWriter$SendTask.send(TabletServerBatchWriter.java:895)\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter$MutationWriter$SendTask.run(TabletServerBatchWriter.java:851)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.accumulo.fate.util.LoggingRunnable.run(LoggingRunnable.java:35)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.thrift.TApplicationException: Internal error processing closeUpdate\r\n\tat org.apache.thrift.TApplicationException.read(TApplicationException.java:111)\r\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:79)\r\n\tat org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Client.recv_closeUpdate(TabletClientService.java:457)\r\n\tat org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Client.closeUpdate(TabletClientService.java:443)\r\n\tat org.apache.accumulo.core.client.impl.TabletServerBatchWriter$MutationWriter.sendMutationsToTabletServer(TabletServerBatchWriter.java:996)\r\n\t... 9 more\r\n expected:<0> but was:<255>\r\n[INFO] \r\n[ERROR] Tests run: 18, Failures: 1, Errors: 0, Skipped: 0\r\n```\r\n</details>\r\n\r\n**Passed:**\r\n\r\n`mvn verify -Dtest=ignore -Dit.test=org.apache.accumulo.test.functional.ExamplesIT#testIsolatedScansWithInterfence -Dspotbugs.skip -Dhadoop.profile=2`\r\n\r\n<details>\r\n\r\n```\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running org.apache.accumulo.test.functional.ExamplesIT\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 26.648 s - in org.apache.accumulo.test.functional.ExamplesIT\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] \r\n\r\n```\r\n</details>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500174932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500197872","html_url":"https://github.com/apache/accumulo/issues/3281#issuecomment-1500197872","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3281","id":1500197872,"node_id":"IC_kwDOACaFSM5ZazPw","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T11:18:32Z","updated_at":"2023-04-07T11:19:07Z","author_association":"CONTRIBUTOR","body":"I went through the log files under the min-tests directory to see what the root cause was for the testIsolatedScansWithIntererence test and I found an **OutOfMemoryError** in the tserver log file which is probably the root cause. This does not happen when running with Hadoop 3 so I'm not sure if this is simply an environmental issue during the build (need more memory) or if a larger issue.\r\n\r\n<Details>\r\n <summary>OOM Stacktrace</summary>\r\n\r\n```\r\n2023-04-07 07:11:17,629 [tserver.TabletServer$ThriftClientHandler] ERROR: Java heap space\r\njava.lang.OutOfMemoryError: Java heap space\r\n        at org.apache.accumulo.core.data.Mutation.getUpdates(Mutation.java:871)\r\n        at org.apache.accumulo.tserver.NativeMap._mutate(NativeMap.java:515)\r\n        at org.apache.accumulo.tserver.NativeMap.mutate(NativeMap.java:553)\r\n        at org.apache.accumulo.tserver.InMemoryMap$NativeMapWrapper.mutate(InMemoryMap.java:512)\r\n        at org.apache.accumulo.tserver.InMemoryMap$SampleMap.mutate(InMemoryMap.java:253)\r\n        at org.apache.accumulo.tserver.InMemoryMap.mutate(InMemoryMap.java:540)\r\n        at org.apache.accumulo.tserver.tablet.CommitSession.mutate(CommitSession.java:115)\r\n        at org.apache.accumulo.tserver.tablet.TabletMemory.mutate(TabletMemory.java:139)\r\n        at org.apache.accumulo.tserver.tablet.Tablet.commit(Tablet.java:1308)\r\n        at org.apache.accumulo.tserver.tablet.CommitSession.commit(CommitSession.java:81)\r\n        at org.apache.accumulo.tserver.TabletServer$ThriftClientHandler.flush(TabletServer.java:1111)\r\n        at org.apache.accumulo.tserver.TabletServer$ThriftClientHandler.closeUpdate(TabletServer.java:1172)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.apache.accumulo.core.trace.wrappers.RpcServerInvocationHandler.invoke(RpcServerInvocationHandler.java:46)\r\n        at org.apache.accumulo.server.rpc.RpcWrapper$1.invoke(RpcWrapper.java:83)\r\n        at com.sun.proxy.$Proxy15.closeUpdate(Unknown Source)\r\n        at org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Processor$closeUpdate.getResult(TabletClientService.java:2499)\r\n        at org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Processor$closeUpdate.getResult(TabletClientService.java:2483)\r\n        at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)\r\n        at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)\r\n        at org.apache.accumulo.server.rpc.TimedProcessor.process(TimedProcessor.java:65)\r\n        at org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer.invoke(AbstractNonblockingServer.java:518)\r\n        at org.apache.accumulo.server.rpc.CustomNonBlockingServer$CustomFrameBuffer.invoke(CustomNonBlockingServer.java:112)\r\n        at org.apache.thrift.server.Invocation.run(Invocation.java:18)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at org.apache.accumulo.fate.util.LoggingRunnable.run(LoggingRunnable.java:35)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n2023-04-07 07:11:17,631 [thrift.ProcessFunction] ERROR: Internal error processing closeUpdate\r\norg.apache.thrift.TException: Java heap space\r\n        at org.apache.accumulo.server.rpc.RpcWrapper$1.invoke(RpcWrapper.java:97)\r\n        at com.sun.proxy.$Proxy15.closeUpdate(Unknown Source)\r\n        at org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Processor$closeUpdate.getResult(TabletClientService.java:2499)\r\n        at org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Processor$closeUpdate.getResult(TabletClientService.java:2483)\r\n        at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)\r\n        at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)\r\n        at org.apache.accumulo.server.rpc.TimedProcessor.process(TimedProcessor.java:65)\r\n        at org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer.invoke(AbstractNonblockingServer.java:518)\r\n        at org.apache.accumulo.server.rpc.CustomNonBlockingServer$CustomFrameBuffer.invoke(CustomNonBlockingServer.java:112)\r\n        at org.apache.thrift.server.Invocation.run(Invocation.java:18)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at org.apache.accumulo.fate.util.LoggingRunnable.run(LoggingRunnable.java:35)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n</Details>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500197872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500288156","html_url":"https://github.com/apache/accumulo/issues/3281#issuecomment-1500288156","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3281","id":1500288156,"node_id":"IC_kwDOACaFSM5ZbJSc","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T13:26:46Z","updated_at":"2023-04-07T13:26:46Z","author_association":"CONTRIBUTOR","body":"I think this is simply a config issue for test and not a real issue. I bumped the memory for the test up to 512 megs and reran and the tests passed.  I just changed [this](https://github.com/apache/accumulo/blob/1.10.3-rc0/test/src/main/java/org/apache/accumulo/test/functional/ExamplesIT.java#L134) line to\r\n\r\n`    cfg.setDefaultMemory(cfg.getDefaultMemory() * 5, MemoryUnit.BYTE);`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500288156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500290364","html_url":"https://github.com/apache/accumulo/pull/3278#issuecomment-1500290364","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3278","id":1500290364,"node_id":"IC_kwDOACaFSM5ZbJ08","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T13:29:48Z","updated_at":"2023-04-07T13:29:48Z","author_association":"CONTRIBUTOR","body":"Changing base brought in additional changes - closing and will resubmit new PR   ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500290364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500298536","html_url":"https://github.com/apache/accumulo/issues/3279#issuecomment-1500298536","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3279","id":1500298536,"node_id":"IC_kwDOACaFSM5ZbL0o","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T13:40:24Z","updated_at":"2023-04-07T13:40:24Z","author_association":"CONTRIBUTOR","body":"I bumped the Jetty version, but still received the same error. But then I bumped the Hadoop version to a 2.7.7 and the error went away (regardless of Jetty version). Using Hadoop version 3.0.3 worked as well. The error seems to be confined to Hadoop 2.6.5 on my local system. Given the success of others running the tests, I'm okay closing the ticket given that it appears to be confined to some specific setting on my local system.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500298536/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500364214","html_url":"https://github.com/apache/accumulo/issues/3282#issuecomment-1500364214","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3282","id":1500364214,"node_id":"IC_kwDOACaFSM5Zbb22","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T14:58:55Z","updated_at":"2023-04-07T14:58:55Z","author_association":"CONTRIBUTOR","body":"I investigated this too and this variable is never set and has been like this since as far back as the history goes in Github. So we are clearly handling shutdown in some other way. It's not super clear to me from the comments if this sleep here is even still relevant or necessary but since this has been like this for such a long time any change here would definitely need to be well tested.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500364214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500550466","html_url":"https://github.com/apache/accumulo/issues/3156#issuecomment-1500550466","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3156","id":1500550466,"node_id":"IC_kwDOACaFSM5ZcJVC","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T18:57:09Z","updated_at":"2023-04-07T18:57:09Z","author_association":"MEMBER","body":"We don't need to test per-table classpath configuration, because that's not how the classloader works now (not required to anyway). For testing plugins, we should test: 1) the plugin aspect/nature (making sure it executes correctly when configured to do so), and 2) unit test individual plugin implementations separately.\r\n\r\nThe context class loader factory can be tested by providing a custom factory that returns the system classloader, but does something else that can be detected in the test, so we know the plugin aspect is working properly. If we have any reference implementations of this factory in our code, we can have unit tests for those, that ensure they return the expected classloader when provided with a given mocked input environment. Other plugins should be tested similarly: 1) test the pluggable aspect (may require integration test), and 2) unit test provided implementations.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500550466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500552644","html_url":"https://github.com/apache/accumulo/pull/3280#issuecomment-1500552644","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3280","id":1500552644,"node_id":"IC_kwDOACaFSM5ZcJ3E","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T18:59:49Z","updated_at":"2023-04-07T18:59:49Z","author_association":"MEMBER","body":"All tests passed with both profiles, so I'll merge this, then prepare a 1.10.3-rc1.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500552644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500564959","html_url":"https://github.com/apache/accumulo/issues/3281#issuecomment-1500564959","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3281","id":1500564959,"node_id":"IC_kwDOACaFSM5ZcM3f","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T19:14:51Z","updated_at":"2023-04-07T19:14:51Z","author_association":"MEMBER","body":"For what it's worth, if you ever see TApplicationException, that's similar to an HTTP 500 exception. It means that the thrift service threw an exception on its side of the communication. You will need to look at the server logs to figure out what it is. The client logs are usually not helpful in these cases.\r\n\r\nIn this case, you found OutOfMemoryError. Since this seems to be environment-specific (I could not reproduce in any of my environments), and because the ExamplesIT is moved out into the separate accumulo-examples repository for newer releases, and because there's a workaround that works for your environment, there doesn't really seem to be much we should do here. So, I'll close this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500564959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500567540","html_url":"https://github.com/apache/accumulo/issues/3279#issuecomment-1500567540","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3279","id":1500567540,"node_id":"IC_kwDOACaFSM5ZcNf0","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T19:16:19Z","updated_at":"2023-04-07T19:16:19Z","author_association":"MEMBER","body":"Closing as environment-specific issue, as per comment original poster's comment above.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500567540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500574062","html_url":"https://github.com/apache/accumulo/issues/3283#issuecomment-1500574062","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3283","id":1500574062,"node_id":"IC_kwDOACaFSM5ZcPFu","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T19:25:08Z","updated_at":"2023-04-07T19:25:08Z","author_association":"MEMBER","body":"The timeout failure could be because the machine was resource-constrained. A lot of tests get flaky when running in a relatively constrained environment, when it comes to timeouts.\r\n\r\nHowever, I'm interested in the assertion error... if there's an associated stack trace, that could be helpful. I have not been able to reproduce this bug, and I can't find any history of this test failing like this. It could also be another resource-constrained issue, if a thread died because of memory or something. Please let us know if you can figure out anything else about this test failure. For now, though, I'm going to proceed in preparing a 1.10.3-rc1 without addressing this, since I can't reproduce it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500574062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500608521","html_url":"https://github.com/apache/accumulo/issues/3281#issuecomment-1500608521","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3281","id":1500608521,"node_id":"IC_kwDOACaFSM5ZcXgJ","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T20:15:20Z","updated_at":"2023-04-07T20:15:20Z","author_association":"CONTRIBUTOR","body":"I agree that this is likely environmental. If there was an actual memory leak it would have shown up on a real server and not just in this one test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500608521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500672319","html_url":"https://github.com/apache/accumulo/issues/3282#issuecomment-1500672319","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3282","id":1500672319,"node_id":"IC_kwDOACaFSM5ZcnE_","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T21:46:38Z","updated_at":"2023-04-07T21:59:54Z","author_association":"CONTRIBUTOR","body":"This was bugging me so I looked into why shutdown works and it's because the JVM is halted so it never relies on that loop to finish. There's also no kill -9, it's properly halting.\r\n\r\n\r\n1. The manager sends a shutdown command to the Tserver. The Tserver gets it and eventually inside the TabletClientHandler it makes a call to [Halt.halt()](https://github.com/apache/accumulo/blob/main/server/tserver/src/main/java/org/apache/accumulo/tserver/TabletClientHandler.java#L1261) to initialize the JVM shutdown.\r\n2. The call to Halt.halt() executes a [runnable](https://github.com/apache/accumulo/blob/main/core/src/main/java/org/apache/accumulo/core/util/Halt.java#L60) which [sets](https://github.com/apache/accumulo/blob/main/server/tserver/src/main/java/org/apache/accumulo/tserver/TabletClientHandler.java#L1264) the `serverStopRequested` to true so the [loop](https://github.com/apache/accumulo/blob/main/server/tserver/src/main/java/org/apache/accumulo/tserver/TabletServer.java#L805) inside of TabletServer breaks.\r\n3. Immediately after the runnable is finished halt continues and [halts](https://github.com/apache/accumulo/blob/main/core/src/main/java/org/apache/accumulo/core/util/Halt.java#L62) the JVM so the JVM shutsdown.\r\n\r\nThe end result is the JVM has shutdown initialized at the same time so in my testing the JVM exited before the `shutdownComplete` block is ever hit so none of the code was even executed. I would assume in theory it could hit that [loop](https://github.com/apache/accumulo/blob/main/server/tserver/src/main/java/org/apache/accumulo/tserver/TabletServer.java#L872) if the JVM took a while to shutdown. I guess in that guess it would just spin until the halt was finished.\r\n\r\nSo it almost seems like based on the behavior (and the [comment](https://github.com/apache/accumulo/blob/main/server/tserver/src/main/java/org/apache/accumulo/tserver/TabletServer.java#L865), although the comment is hard to understand) that this behavior of waiting on the JVM to halt is intentional so the JVM closes the other threads before that thread is exited. But if that's the case this is kind of a weird way to do it and not super clear and I also don't understand the point of all the other code that exists after the while loop as it won't ever be executed. It also doesn't make sense to have a volatile flag as that would also indicate some intention for it to eventually be set to true so the other code could be executed.\r\n\r\nSo overall pretty odd, I'm not sure exactly what we want to do but it's clearly not correct and we should fix this in some way.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500672319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500682192","html_url":"https://github.com/apache/accumulo/issues/3282#issuecomment-1500682192","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3282","id":1500682192,"node_id":"IC_kwDOACaFSM5ZcpfQ","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T22:05:14Z","updated_at":"2023-04-07T22:05:14Z","author_association":"CONTRIBUTOR","body":"As a side note I am wondering if there is a Spotbugs rule for something like this. It was caught because Intellij picked up on the fact that the variable could be set to be final since it was never mutated and private so I would think spotbugs could detect the loop checking a variable that is never going to be true.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500682192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500901715","html_url":"https://github.com/apache/accumulo/issues/3282#issuecomment-1500901715","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3282","id":1500901715,"node_id":"IC_kwDOACaFSM5ZdfFT","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-08T14:21:17Z","updated_at":"2023-04-08T14:21:17Z","author_association":"CONTRIBUTOR","body":"I looked at ScanServer and it uses the same [serverStopRequested](https://github.com/apache/accumulo/blob/main/server/tserver/src/main/java/org/apache/accumulo/tserver/ScanServer.java#L373) variable but doesn't have the `shutdownComplete` flag. On shutdown it just tries to close stuff in a finally block but I assume has the same behavior as TabletServer where the finally doesn't really get executed since halt will just stop the JVM.\r\n\r\nAs a test locally I took out the `shutdownComplete` flag and loop to see what would happen and none of the code that is after where the loop was is executed as the JVM shutsdown too fast when halt is called so doesn't seem like it provides much value even if we got rid of the broken loop. Also, I am wondering why we are using halt and not exit as halt won't ever call shutdown hooks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1500901715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1501156763","html_url":"https://github.com/apache/accumulo/issues/3283#issuecomment-1501156763","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3283","id":1501156763,"node_id":"IC_kwDOACaFSM5ZedWb","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-09T15:42:43Z","updated_at":"2023-04-09T15:42:43Z","author_association":"CONTRIBUTOR","body":"I was also unable to reproduce this error. Was this seen only when running the entire test suite or did you see it when running the test by itself? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1501156763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1501828038","html_url":"https://github.com/apache/accumulo/issues/3283#issuecomment-1501828038","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3283","id":1501828038,"node_id":"IC_kwDOACaFSM5ZhBPG","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T13:43:35Z","updated_at":"2023-04-10T13:43:35Z","author_association":"MEMBER","body":"> However, I'm interested in the assertion error... if there's an associated stack trace\r\n\r\nI only saw the test fail with the assertion error once and do not have the stack trace from that run unfortunately. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1501828038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1501928492","html_url":"https://github.com/apache/accumulo/issues/3283#issuecomment-1501928492","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3283","id":1501928492,"node_id":"IC_kwDOACaFSM5ZhZws","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T15:04:49Z","updated_at":"2023-04-10T15:04:49Z","author_association":"MEMBER","body":"I tried bumping up the timeout on this test and have not seen it fail again so it's probably some resource constraint issue on my machine. Closing for now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1501928492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1502290928","html_url":"https://github.com/apache/accumulo/issues/3287#issuecomment-1502290928","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3287","id":1502290928,"node_id":"IC_kwDOACaFSM5ZiyPw","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T20:39:11Z","updated_at":"2023-04-10T20:41:42Z","author_association":"MEMBER","body":"Here is that section in the 2.1 user manual: https://accumulo.apache.org/docs/2.x/development/iterators#teardown\r\n\r\nEdit: I see that a this link has already been added to the issue description via an edit.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1502290928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1502426641","html_url":"https://github.com/apache/accumulo/issues/3252#issuecomment-1502426641","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3252","id":1502426641,"node_id":"IC_kwDOACaFSM5ZjTYR","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T22:40:22Z","updated_at":"2023-04-10T22:40:22Z","author_association":"CONTRIBUTOR","body":"PRs #3271 #3272 and #3273 were done as prerequisites for this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1502426641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1502503461","html_url":"https://github.com/apache/accumulo/pull/3288#issuecomment-1502503461","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3288","id":1502503461,"node_id":"IC_kwDOACaFSM5ZjmIl","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T00:18:31Z","updated_at":"2023-04-11T00:18:31Z","author_association":"CONTRIBUTOR","body":"Fixes issue https://github.com/apache/accumulo/issues/3243","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1502503461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1502504791","html_url":"https://github.com/apache/accumulo/issues/3243#issuecomment-1502504791","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3243","id":1502504791,"node_id":"IC_kwDOACaFSM5ZjmdX","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T00:20:40Z","updated_at":"2023-04-11T00:20:40Z","author_association":"CONTRIBUTOR","body":"Fixed by PR #3288","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1502504791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1503794895","html_url":"https://github.com/apache/accumulo/issues/3281#issuecomment-1503794895","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3281","id":1503794895,"node_id":"IC_kwDOACaFSM5ZohbP","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T17:12:32Z","updated_at":"2023-04-11T17:12:32Z","author_association":"CONTRIBUTOR","body":"I changed the memory limit on my local machine and was able to pass these tests without an issue. \r\nI agree that this was likely environmental based.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1503794895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1504250544","html_url":"https://github.com/apache/accumulo/issues/3287#issuecomment-1504250544","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3287","id":1504250544,"node_id":"IC_kwDOACaFSM5ZqQqw","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T23:18:36Z","updated_at":"2023-04-11T23:19:18Z","author_association":"MEMBER","body":"We're currently voting on 1.10.3, and it looks like the release candidate is likely to pass. The docs are embedded into the build, so if that passes, it's too late to fix it for 1.10.3 (could still be fixed for 1.10.4, or in 1.10.3 if 1.10.3-rc1 is voted down), but the 2.x documentation is directly on the website and can be fixed with a PR at any time.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1504250544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505421533","html_url":"https://github.com/apache/accumulo/issues/3208#issuecomment-1505421533","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3208","id":1505421533,"node_id":"IC_kwDOACaFSM5Zuujd","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T14:54:48Z","updated_at":"2023-04-12T14:54:48Z","author_association":"CONTRIBUTOR","body":"So this has turned into a bit of a rats nest. \r\n\r\nI started working on removing the managerMetadataUtil class and separating those functions into their respective calling classes.\r\n\r\nWhile there were some improvements there, overall it uncovered a LOT of various actions happening in managerMetadataUtil and MetadataTableUtil that are not using ample for metadata actions. \r\n\r\nThe majority of these all fall under Split Tablet and Clone Table operations. \r\n\r\nI also found that ProblemReport uses a reserved prefix of  \"~err_\" but is not included in the metadata schema at all.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505421533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505584549","html_url":"https://github.com/apache/accumulo/pull/3291#issuecomment-1505584549","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3291","id":1505584549,"node_id":"IC_kwDOACaFSM5ZvWWl","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T16:34:39Z","updated_at":"2023-04-12T16:34:39Z","author_association":"CONTRIBUTOR","body":"Looks like the imports are not properly sorted according to CI.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505584549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505605142","html_url":"https://github.com/apache/accumulo/pull/3291#issuecomment-1505605142","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3291","id":1505605142,"node_id":"IC_kwDOACaFSM5ZvbYW","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T16:51:14Z","updated_at":"2023-04-12T16:51:14Z","author_association":"CONTRIBUTOR","body":"> Looks like the imports are not properly sorted according to CI.\r\n\r\nYeah I saw that. I spun this out of my current work since it's just cleanup. \r\nDo you use pre-commit hooks for auto running the format and import sort maven commands?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505605142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505606933","html_url":"https://github.com/apache/accumulo/pull/3291#issuecomment-1505606933","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3291","id":1505606933,"node_id":"IC_kwDOACaFSM5Zvb0V","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T16:52:40Z","updated_at":"2023-04-12T16:52:40Z","author_association":"MEMBER","body":"> Do you use pre-commit hooks for auto running the format and import sort maven commands?\r\n\r\nI run `mvn clean package -DskipTests` which sorts and formats.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505606933/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505610162","html_url":"https://github.com/apache/accumulo/pull/3291#issuecomment-1505610162","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3291","id":1505610162,"node_id":"IC_kwDOACaFSM5Zvcmy","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T16:55:01Z","updated_at":"2023-04-12T16:55:01Z","author_association":"CONTRIBUTOR","body":"> > Looks like the imports are not properly sorted according to CI.\r\n> \r\n> Yeah I saw that. I spun this out of my current work since it's just cleanup. Do you use pre-commit hooks for auto running the format and import sort maven commands?\r\n\r\nas Dom said just running a build will run the QA plugins to make sure things like imports are correct which is all I do","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505610162/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505932273","html_url":"https://github.com/apache/accumulo/issues/3252#issuecomment-1505932273","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3252","id":1505932273,"node_id":"IC_kwDOACaFSM5ZwrPx","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T20:58:50Z","updated_at":"2023-04-12T20:58:50Z","author_association":"CONTRIBUTOR","body":"Opened PR #3292 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505932273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505935224","html_url":"https://github.com/apache/accumulo/issues/3253#issuecomment-1505935224","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3253","id":1505935224,"node_id":"IC_kwDOACaFSM5Zwr94","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T21:00:42Z","updated_at":"2023-04-12T21:00:42Z","author_association":"CONTRIBUTOR","body":"An IT added in #3292 covers this case.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1505935224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1506858142","html_url":"https://github.com/apache/accumulo/pull/3292#issuecomment-1506858142","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3292","id":1506858142,"node_id":"IC_kwDOACaFSM5Z0NSe","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T12:11:30Z","updated_at":"2023-04-13T12:11:30Z","author_association":"CONTRIBUTOR","body":"I kicked off a fuil IT build. Some of the things in the PR may not be necessary given the changes that I am working on to make all user tables on-demand by default. I'm close to being ready to create a PR for that, I have some things I need to finish first (looking at tests, testing locally, etc.). If you want an early look at my changes, see https://github.com/apache/accumulo/compare/elasticity...dlmarion:accumulo:elasticity-ondemand-feature-changes2?expand=1.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1506858142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]