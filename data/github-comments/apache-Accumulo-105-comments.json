[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421390468","html_url":"https://github.com/apache/accumulo/issues/3178#issuecomment-1421390468","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3178","id":1421390468,"node_id":"IC_kwDOACaFSM5UuLKE","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T20:20:09Z","updated_at":"2023-02-07T20:20:09Z","author_association":"CONTRIBUTOR","body":"> > > Right, but couldn't these groups just be kubernetes metadata? Isn't that already something that kubernetes supports today?\r\n> > \r\n> > \r\n> > I don't know. Looking at [this](https://stackoverflow.com/questions/63169737/kubernetes-api-list-pods-with-a-label) you can query the Kubernetes API server, but I don't know all of the intricacies involved with what appears to be auth tokens, the type of results that are returned, latency, etc.\r\n> \r\n> You can use the [downward api](https://kubernetes.io/docs/concepts/workloads/pods/downward-api/) to expose some pod info (including labels and annotations) via files or environment variables inside the pod. I'm wondering if that would be sufficient?\r\n\r\nYou can do this pretty easily in your pod definition with setting a metadata label. \r\nThe common approach is having the balancer process hit the k8s API using a service account to query for all pods with a specific label type. \r\n\r\nHowever, If you want to reduce the balancer's \"knowledge\" of k8s existing then you could inject the label metadata via a environment variable in your pod spec set to the same label value.\r\n\r\nThis would still require the balancer to understand the concept of groups, but remove the k8s requirement from accumulo-based code. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421390468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421393230","html_url":"https://github.com/apache/accumulo/pull/3189#issuecomment-1421393230","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3189","id":1421393230,"node_id":"IC_kwDOACaFSM5UuL1O","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T20:22:09Z","updated_at":"2023-02-07T20:22:09Z","author_association":"MEMBER","body":"> This will likely make debugging test failures harder - why the change? You can always set the level in your local copy, so the question becomes who is more inconvenienced by wanting to have the level at info vs debug.\r\n\r\nThe current levels haven't been a problem at all, as far as I'm aware. This PR should probably just keep the same value that's there now so there's no risk of bloating the logs and spamming us or filling disks on CI servers. If there's a compelling reason to change it, we can definitely change it, but it hasn't been a problem to this point and it doesn't seem to be related to this PR (at least, it wasn't clear whether it was related). If Dave found it compelling to lower it to debug for testing this PR, or if we end up needing to do that a lot, that's probably a compelling reason to change it... as long as it's not too spammy. It just wasn't clear to me why it was being done here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421393230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421399146","html_url":"https://github.com/apache/accumulo/issues/3178#issuecomment-1421399146","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3178","id":1421399146,"node_id":"IC_kwDOACaFSM5UuNRq","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T20:26:27Z","updated_at":"2023-02-07T20:26:27Z","author_association":"MEMBER","body":"> However, If you want to reduce the balancer's \"knowledge\" of k8s existing then you could inject the label metadata via a environment variable in your pod spec set to the same label value.\r\n\r\nThat's basically the direction #3189 takes... adding environment, but not a process environment variable, but environment in Accumulo's service advertisements... which is a lot easier for remote services to see than environment inside the server.\r\n\r\n> \r\n> This would still require the balancer to understand the concept of groups, but remove the k8s requirement from accumulo-based code.\r\n\r\nYeah, a group-aware balancer has yet to be written, but #3189 lays the groundwork in the environment so it can be done subsequently, all unaware of k8.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421399146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421403147","html_url":"https://github.com/apache/accumulo/pull/3180#issuecomment-1421403147","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3180","id":1421403147,"node_id":"IC_kwDOACaFSM5UuOQL","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T20:29:51Z","updated_at":"2023-02-07T20:29:51Z","author_association":"MEMBER","body":"@dlmarion wrote:\r\n> @ctubbsii @keith-turner - Thanks for the review, I believe that I implemented all of your suggested changes.\r\n\r\nI just had two very minor follow-on suggested changes. After those are addressed, I'm good with merging.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421403147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421488470","html_url":"https://github.com/apache/accumulo/issues/3178#issuecomment-1421488470","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3178","id":1421488470,"node_id":"IC_kwDOACaFSM5UujFW","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T21:37:54Z","updated_at":"2023-02-07T21:38:24Z","author_association":"CONTRIBUTOR","body":"I looked into the HostRegexLoadBalancer and created an issue that would help improve the user-friendliness.\r\nI think it's much smaller in scope to this proposed change so I thought it might be a benefit to 2.1. even if this proposed change deprecates that functionality in 3.0","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421488470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421497095","html_url":"https://github.com/apache/accumulo/issues/3178#issuecomment-1421497095","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3178","id":1421497095,"node_id":"IC_kwDOACaFSM5UulMH","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T21:45:05Z","updated_at":"2023-02-07T21:45:05Z","author_association":"CONTRIBUTOR","body":"be sure to look at the [GroupBalancer](https://github.com/apache/accumulo/blob/main/core/src/main/java/org/apache/accumulo/core/spi/balancer/GroupBalancer.java), it may be applicable.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421497095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421521648","html_url":"https://github.com/apache/accumulo/issues/3190#issuecomment-1421521648","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3190","id":1421521648,"node_id":"IC_kwDOACaFSM5UurLw","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T22:04:27Z","updated_at":"2023-02-07T22:04:27Z","author_association":"MEMBER","body":"The balancer is pluggable, making it already possible for a user to do something like this if it is appropriate for their situation in 2.1. I don't think it's worth us baking this new feature in for a bugfix release, since new features should really be much more rare for bugfix releases, and especially not since it will likely be immediately superseded in 3.0 by the changes proposed in #3178. For 2.1, I think this is better left as an exercise for the user, if they need that for 2.1, rather than us baking it in as a new feature in 2.1.x.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421521648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421523740","html_url":"https://github.com/apache/accumulo/issues/3190#issuecomment-1421523740","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3190","id":1421523740,"node_id":"IC_kwDOACaFSM5Uursc","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T22:06:08Z","updated_at":"2023-02-07T22:06:08Z","author_association":"MEMBER","body":"Also, this doesn't seem like it would be done as an enhancement to HostRegexTableLoadBalancer, but maybe a new ResourcePoolTableLoadBalancer.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421523740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421525073","html_url":"https://github.com/apache/accumulo/pull/3189#issuecomment-1421525073","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3189","id":1421525073,"node_id":"IC_kwDOACaFSM5UusBR","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T22:07:17Z","updated_at":"2023-02-07T22:07:17Z","author_association":"CONTRIBUTOR","body":"> I like the changes to the ServiceLockData abstraction. I think that's a useful change on its own. After that change is done, I think the changes to add the service group are probably relatively minimal, so it's probably okay (meaning, I think I'd be in favor), but I'd like to see what this PR looks like after the ServiceLockData abstraction is done first, without the addition of the group. Would you be willing to do that?\r\n\r\nYes, I would be willing to do that. However, if the ServiceLockData object doesn't support the [group](https://github.com/apache/accumulo/blob/main/server/tserver/src/main/java/org/apache/accumulo/tserver/ScanServer.java#L340), then that will break the [client](https://github.com/apache/accumulo/blob/main/core/src/main/java/org/apache/accumulo/core/clientImpl/ClientContext.java#L409) and likely break the build.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1421525073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1422252698","html_url":"https://github.com/apache/accumulo/pull/3189#issuecomment-1422252698","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3189","id":1422252698,"node_id":"IC_kwDOACaFSM5Uxdqa","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T08:59:40Z","updated_at":"2023-02-08T08:59:40Z","author_association":"MEMBER","body":"> > I like the changes to the ServiceLockData abstraction. I think that's a useful change on its own. After that change is done, I think the changes to add the service group are probably relatively minimal, so it's probably okay (meaning, I think I'd be in favor), but I'd like to see what this PR looks like after the ServiceLockData abstraction is done first, without the addition of the group. Would you be willing to do that?\r\n> \r\n> Yes, I would be willing to do that. However, if the ServiceLockData object doesn't support the [group](https://github.com/apache/accumulo/blob/main/server/tserver/src/main/java/org/apache/accumulo/tserver/ScanServer.java#L340), then that will break the [client](https://github.com/apache/accumulo/blob/main/core/src/main/java/org/apache/accumulo/core/clientImpl/ClientContext.java#L409) and likely break the build.\r\n\r\nI am imagining the ScanServer's current `-g` option would go in the second PR, along with adding support for groups for tserver as well, so nothing is broken. I just think it makes sense to apply the \"ServiceLockData abstraction/serialization\" change feature first, then the \"replace scan server group option with group added to ServiceLockData\" feature after that, because they seem like they are discrete changes. I don't think the build needs to break to separate those out.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1422252698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1422279637","html_url":"https://github.com/apache/accumulo/pull/2827#issuecomment-1422279637","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2827","id":1422279637,"node_id":"IC_kwDOACaFSM5UxkPV","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T09:19:04Z","updated_at":"2023-02-08T09:19:04Z","author_association":"MEMBER","body":"> This PR will be superseded by the changes with #3161\r\n\r\nIn that case, I'm closing this, so we can focus on reviewing that one.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1422279637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1422338787","html_url":"https://github.com/apache/accumulo/pull/3187#issuecomment-1422338787","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3187","id":1422338787,"node_id":"IC_kwDOACaFSM5Uxyrj","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T10:04:06Z","updated_at":"2023-02-08T10:04:06Z","author_association":"MEMBER","body":"@dlmarion wrote:\r\n> This was something that a user noticed their client waiting on, and not performing scans, when the user thought scans should have been running.\r\n\r\nAside from their surprise at the observation, what kind of impact did this cause? Do we know how long the user's scans were delayed? Was it reasonable? Was it a problem? I'm asking because I don't want to add a bunch of complexity and configuration knobs if it's not really a problem, and it's not clear from the discussion how much, if at all, it is a problem.\r\n\r\nThe current behavior seems \"safe\", and I'm also reluctant to add knobs to allow the user to shoot themselves in the foot and perform operations that aren't really safe. Also, if the user doesn't care about consistency, can't they query using a ScanServer instead? If so, it's probably fine if this is what users get when the access a read/write server (tserver).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1422338787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1422704728","html_url":"https://github.com/apache/accumulo/pull/3189#issuecomment-1422704728","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3189","id":1422704728,"node_id":"IC_kwDOACaFSM5UzMBY","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T14:41:35Z","updated_at":"2023-02-08T14:41:35Z","author_association":"CONTRIBUTOR","body":"Considering the information about the configuration, I think I'll work on a PR to get rid of server process arguments, and replace them with properties. Then, once that is merged in, I can update this PR which should just be the ServiceLockData changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1422704728/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1424513293","html_url":"https://github.com/apache/accumulo/issues/1300#issuecomment-1424513293","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1300","id":1424513293,"node_id":"IC_kwDOACaFSM5U6FkN","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T16:58:20Z","updated_at":"2023-02-09T17:23:31Z","author_association":"CONTRIBUTOR","body":"I think we are protected, but maybe we could do more?.  I ran a test, going from 2.1.1-SNAPSHOT to 3.0.0-SNAPSHOT using uno and a single tserver.\r\n\r\n* setup 2.1 and 3.0\r\n* started 2.1\r\n* killed the 2.1 manager, all other services running\r\n* started the 3.0 manager \r\n\r\nWhat happened:\r\n\r\n* The upgrade failed because it could not talk to the one tserver and had no host for the metadata table.  It did upgrade ZooKeeper and root but failed at upgrading metadata (trace below)\r\n* The 2.1 tserver remained running, but the manager could not talk to it (AccumuloSecurityException: Error BAD_CREDENTIALS for user !SYSTEM - Username or Password is Invalid) Also, it kept its lock in ZooKeeper\r\n* The gc tried to run, but failed when it could not find replication that was removed as part of the upgrade. \r\n\r\nSo without a \"new\" tserver and the metadata table, the upgrade only partially succeeded and the system is now in an inconsistent state.  If there had been 3.0 tservers, the upgrade would likely have succeeded and the old teserver would not be able to talk with the manager. \r\n\r\nUnsure about the gc.\r\n\r\nIt may be possible to read the table_locks in ZooKeeper and then try to get status from the tservers that are registered there BEFORE starting the upgrade. If that works then we could a) check that the manager can talk to at least one tserver, b) fail the upgrade if any tserver with a registered lock fails a status check, or c) use the min tserver count property to about if there are fewer tservers than specified\r\n\r\nThere are potential issues with either a) or b) approaches.  Starting a cluster with one tserver or a without a substantial portion of tservers might not be the best way to proceed.  If ALL tservers are required, then a transient ZooKeeper error could abort the upgrade unnecessarily.\r\n\r\n<details>\r\n  <summary>3.0 manager upgrade log</summary>\r\n```  \r\n\r\n2023-02-09T15:39:25,298 [manager.EventCoordinator] INFO : State changed from INITIAL to HAVE_LOCK\r\n2023-02-09T15:39:25,303 [upgrade.PreUpgradeValidation] INFO : Starting validation on ZooKeeper ACLs\r\n2023-02-09T15:39:25,368 [upgrade.PreUpgradeValidation] INFO : Successfully completed validation on ZooKeeper ACLs\r\n2023-02-09T15:39:25,375 [upgrade.UpgradeCoordinator] INFO : Upgrading Zookeeper - current version 10 as step towards target version 11\r\n2023-02-09T15:39:25,375 [upgrade.Upgrader10to11] INFO : upgrade of ZooKeeper entries\r\n2023-02-09T15:39:25,415 [manager.EventCoordinator] INFO : Upgrade status changed from INITIAL to UPGRADED_ZOOKEEPER\r\n2023-02-09T15:39:25,415 [metrics.MetricsUtil] INFO : initializing metrics, enabled:false, class:\r\n2023-02-09T15:39:25,427 [metrics.MetricsUtil] INFO : Metric producer FateMetrics initialize\r\n2023-02-09T15:39:25,427 [metrics.ManagerMetrics] INFO : Registered FATE metrics module\r\n2023-02-09T15:39:25,437 [manager.EventCoordinator] INFO : State changed from HAVE_LOCK to NORMAL\r\n2023-02-09T15:39:25,438 [upgrade.UpgradeCoordinator] INFO : Upgrading Root - current version 10 as step towards target version 11\r\n2023-02-09T15:39:25,438 [upgrade.Upgrader10to11] INFO : upgrade root - skipping, nothing to do\r\n2023-02-09T15:39:25,439 [manager.EventCoordinator] INFO : Upgrade status changed from UPGRADED_ZOOKEEPER to UPGRADED_ROOT\r\n2023-02-09T15:39:25,439 [upgrade.UpgradeCoordinator] INFO : Upgrading Metadata - current version 10 as step towards target version 11\r\n2023-02-09T15:39:25,439 [upgrade.Upgrader10to11] INFO : upgrade metadata entries\r\n2023-02-09T15:39:25,446 [manager.Manager] INFO : New servers: [localhost:9997[100002204fb0003]]\r\n2023-02-09T15:39:25,447 [manager.EventCoordinator] INFO : There are now 1 tablet servers\r\n2023-02-09T15:39:25,447 [manager.Manager] INFO : tserver availability check disabled, continuing with-1 servers. To enable, set manager.startup.tserver.avail.min.count\r\n2023-02-09T15:39:25,465 [manager.Manager] ERROR: unable to get tablet server status localhost:9997[100002204fb0003] org.apache.thrift.transport.TTransportException: Socket is closed by peer.\r\n2023-02-09T15:39:25,465 [manager.Manager] DEBUG: unable to get tablet server status localhost:9997[100002204fb0003]\r\norg.apache.thrift.transport.TTransportException: Socket is closed by peer.\r\n        at org.apache.thrift.transport.TIOStreamTransport.read(TIOStreamTransport.java:176) ~[libthrift-0.17.0.jar:0.17.0]\r\n        at org.apache.thrift.transport.TTransport.readAll(TTransport.java:100) ~[libthrift-0.17.0.jar:0.17.0]\r\n        at org.apache.thrift.transport.layered.TFramedTransport.readFrame(TFramedTransport.java:132) ~[libthrift-0.17.0.jar:0.17.0]\r\n        at org.apache.thrift.transport.layered.TFramedTransport.read(TFramedTransport.java:100) ~[libthrift-0.17.0.jar:0.17.0]\r\n        at org.apache.thrift.transport.TTransport.readAll(TTransport.java:100) ~[libthrift-0.17.0.jar:0.17.0]\r\n        at org.apache.thrift.protocol.TCompactProtocol.readByte(TCompactProtocol.java:622) ~[libthrift-0.17.0.jar:0.17.0]\r\n        at org.apache.thrift.protocol.TCompactProtocol.readMessageBegin(TCompactProtocol.java:479) ~[libthrift-0.17.0.jar:0.17.0]\r\n        at org.apache.thrift.protocol.TProtocolDecorator.readMessageBegin(TProtocolDecorator.java:156) ~[libthrift-0.17.0.jar:0.17.0]\r\n        at org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:79) ~[libthrift-0.17.0.jar:0.17.0]\r\n        at org.apache.accumulo.core.tabletserver.thrift.TabletServerClientService$Client.recv_getTabletServerStatus(TabletServerClientService.java:186) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.tabletserver.thrift.TabletServerClientService$Client.getTabletServerStatus(TabletServerClientService.java:172) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.server.manager.LiveTServerSet$TServerConnection.getTableMap(LiveTServerSet.java:144) ~[accumulo-server-base-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.manager.Manager.lambda$gatherTableInformation$3(Manager.java:981) ~[accumulo-manager-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at java.lang.Thread.run(Thread.java:829) ~[?:?]\r\n\r\n...\r\n\r\n2023-02-09T15:39:25,555 [upgrade.UpgradeCoordinator] ERROR: FATAL: Error performing upgrade\r\njava.lang.RuntimeException: org.apache.accumulo.core.client.AccumuloSecurityException: Error BAD_CREDENTIALS for user !SYSTEM - Username or Password is Invalid\r\n        at org.apache.accumulo.core.clientImpl.ScannerIterator.getNextBatch(ScannerIterator.java:183) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.ScannerIterator.hasNext(ScannerIterator.java:107) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.manager.upgrade.Upgrader10to11.readReplFilesFromMetadata(Upgrader10to11.java:121) ~[accumulo-manager-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.manager.upgrade.Upgrader10to11.upgradeMetadata(Upgrader10to11.java:111) ~[accumulo-manager-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.manager.upgrade.UpgradeCoordinator.lambda$upgradeMetadata$0(UpgradeCoordinator.java:208) ~[accumulo-manager-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.trace.TraceWrappedCallable.call(TraceWrappedCallable.java:53) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\n        at org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at java.lang.Thread.run(Thread.java:829) ~[?:?]\r\nCaused by: org.apache.accumulo.core.client.AccumuloSecurityException: Error BAD_CREDENTIALS for user !SYSTEM - Username or Password is Invalid\r\n        at org.apache.accumulo.core.clientImpl.ThriftScanner.getBatchFromServer(ThriftScanner.java:166) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.metadata.MetadataLocationObtainer.lookupTablet(MetadataLocationObtainer.java:108) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.TabletLocatorImpl.lookupTabletLocation(TabletLocatorImpl.java:537) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.TabletLocatorImpl.lookupTabletLocationAndCheckLock(TabletLocatorImpl.java:716) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.TabletLocatorImpl._locateTablet(TabletLocatorImpl.java:701) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.TabletLocatorImpl.locateTablet(TabletLocatorImpl.java:505) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.ThriftScanner.scan(ThriftScanner.java:316) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.ScannerIterator.readBatch(ScannerIterator.java:154) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.ScannerIterator.getNextBatch(ScannerIterator.java:172) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        ... 11 more\r\nCaused by: org.apache.accumulo.core.clientImpl.thrift.ThriftSecurityException\r\n        at org.apache.accumulo.core.tabletscan.thrift.TabletScanClientService$startScan_result$startScan_resultStandardScheme.read(TabletScanClientService.java:4583) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.tabletscan.thrift.TabletScanClientService$startScan_result$startScan_resultStandardScheme.read(TabletScanClientService.java:4559) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.tabletscan.thrift.TabletScanClientService$startScan_result.read(TabletScanClientService.java:4465) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:93) ~[libthrift-0.17.0.jar:0.17.0]\r\n        at org.apache.accumulo.core.tabletscan.thrift.TabletScanClientService$Client.recv_startScan(TabletScanClientService.java:121) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.tabletscan.thrift.TabletScanClientService$Client.startScan(TabletScanClientService.java:92) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.ThriftScanner.getBatchFromServer(ThriftScanner.java:137) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.metadata.MetadataLocationObtainer.lookupTablet(MetadataLocationObtainer.java:108) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.TabletLocatorImpl.lookupTabletLocation(TabletLocatorImpl.java:537) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.TabletLocatorImpl.lookupTabletLocationAndCheckLock(TabletLocatorImpl.java:716) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.TabletLocatorImpl._locateTablet(TabletLocatorImpl.java:701) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.TabletLocatorImpl.locateTablet(TabletLocatorImpl.java:505) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.ThriftScanner.scan(ThriftScanner.java:316) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.ScannerIterator.readBatch(ScannerIterator.java:154) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.clientImpl.ScannerIterator.getNextBatch(ScannerIterator.java:172) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        ... 11 more\r\n\r\n```\r\n</details>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1424513293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1424547293","html_url":"https://github.com/apache/accumulo/issues/1300#issuecomment-1424547293","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1300","id":1424547293,"node_id":"IC_kwDOACaFSM5U6N3d","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T17:21:55Z","updated_at":"2023-02-09T17:21:55Z","author_association":"CONTRIBUTOR","body":"When running a 2.1 manager, killing the tserver and then starting a 3.0 tserver the \"new\" tserver fails to communicate with the manager.\r\n\r\nThe manager log keeps repeating that it cannot get the status and cannot get it to halt (repeatedly) so it's obvious there is an issue with that tserver.\r\n\r\nThe gc cannot scan the metadata  (Failed to locate tablet for table : +r row : ~del)\r\n\r\n<details>\r\n  <summary>2.1 manager log </summary>\r\n  \r\n```\r\n2023-02-09T17:14:07,477 [manager.Manager] DEBUG: unable to get tablet server status ip-x:9997[100007a41b6000d]\r\norg.apache.thrift.TApplicationException: Invalid method name: 'getTabletServerStatus'\r\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:81) ~[libthrift-0.17.0.jar:0.17.0]\r\n\tat org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Client.recv_getTabletServerStatus(TabletClientService.java:596) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Client.getTabletServerStatus(TabletClientService.java:582) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.server.manager.LiveTServerSet$TServerConnection.getTableMap(LiveTServerSet.java:142) ~[accumulo-server-base-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.manager.Manager.lambda$gatherTableInformation$3(Manager.java:983) ~[accumulo-manager-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n\tat org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat java.lang.Thread.run(Thread.java:829) ~[?:?]\r\n2023-02-09T17:14:07,477 [manager.Manager] WARN : attempting to stop ip-x:9997[100007a41b6000d]\r\n2023-02-09T17:14:07,478 [manager.Manager] INFO : error talking to troublesome tablet server\r\norg.apache.thrift.TApplicationException: Invalid method name: 'halt'\r\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:81) ~[libthrift-0.17.0.jar:0.17.0]\r\n\tat org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Client.recv_halt(TabletClientService.java:682) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.core.tabletserver.thrift.TabletClientService$Client.halt(TabletClientService.java:667) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.server.manager.LiveTServerSet$TServerConnection.halt(LiveTServerSet.java:154) ~[accumulo-server-base-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.manager.Manager.lambda$gatherTableInformation$3(Manager.java:1005) ~[accumulo-manager-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n\tat org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat java.lang.Thread.run(Thread.java:829) ~[?:?]\r\n\r\n```\r\n</details>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1424547293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1424554778","html_url":"https://github.com/apache/accumulo/issues/1300#issuecomment-1424554778","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1300","id":1424554778,"node_id":"IC_kwDOACaFSM5U6Psa","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T17:27:48Z","updated_at":"2023-02-09T17:27:48Z","author_association":"CONTRIBUTOR","body":"With an upgraded 3.0 manager and tserver and the gc running from previous 2.1 instance, the gc fails to run\r\n\r\n<details>\r\n  <summary>2.1 gc log</summary>\r\n\r\n```\r\n2023-02-09T17:24:47,363 [gc.SimpleGarbageCollector] WARN : Error BAD_CREDENTIALS for user !SYSTEM - Username or Password is Invalid\r\norg.apache.accumulo.core.client.AccumuloSecurityException: Error BAD_CREDENTIALS for user !SYSTEM - Username or Password is Invalid\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl._flush(TableOperationsImpl.java:989) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl.flush(TableOperationsImpl.java:831) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.gc.SimpleGarbageCollector.run(SimpleGarbageCollector.java:294) ~[accumulo-gc-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat java.lang.Thread.run(Thread.java:829) ~[?:?]\r\nCaused by: org.apache.accumulo.core.clientImpl.thrift.ThriftSecurityException\r\n\tat org.apache.accumulo.core.manager.thrift.ManagerClientService$initiateFlush_result$initiateFlush_resultStandardScheme.read(ManagerClientService.java:5244) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.core.manager.thrift.ManagerClientService$initiateFlush_result$initiateFlush_resultStandardScheme.read(ManagerClientService.java:5221) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.core.manager.thrift.ManagerClientService$initiateFlush_result.read(ManagerClientService.java:5148) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:93) ~[libthrift-0.17.0.jar:0.17.0]\r\n\tat org.apache.accumulo.core.manager.thrift.ManagerClientService$Client.recv_initiateFlush(ManagerClientService.java:163) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.core.manager.thrift.ManagerClientService$Client.initiateFlush(ManagerClientService.java:148) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl._flush(TableOperationsImpl.java:950) ~[accumulo-core-2.1.1-SNAPSHOT.jar:2.1.1-SNAPSHOT]\r\n\t... 4 more\r\n\r\n```\r\n  <details>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1424554778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1424931084","html_url":"https://github.com/apache/accumulo/issues/1300#issuecomment-1424931084","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1300","id":1424931084,"node_id":"IC_kwDOACaFSM5U7rkM","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T22:38:12Z","updated_at":"2023-02-09T22:38:12Z","author_association":"MEMBER","body":"With the proposed ServiceLockData abstraction that @dlmarion was working on, we could also serialize the data version into the lock information. It could help going forward, to allow the manager to identify that there are no running tservers on the upgraded version.\r\n\r\nThe main concern I have from the above investigation is the inconsistent state of upgrading ZooKeeper, but not being able to complete the rest of the upgrade. We should be able to resume and finish the upgrade once a newer tserver is online and hosting the metadata.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1424931084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1424947363","html_url":"https://github.com/apache/accumulo/issues/1300#issuecomment-1424947363","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1300","id":1424947363,"node_id":"IC_kwDOACaFSM5U7vij","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T22:55:09Z","updated_at":"2023-02-09T22:55:09Z","author_association":"CONTRIBUTOR","body":"The restart did work and recovered normally when it had a tserver running the correct version.\r\n\r\nCurrently it looks like when the master comes up, there are no tservers registered with ZooKeeper in ../table_locks.  It may be sufficient on upgrade to drop any locks that are present and allow the tservers to perform reassignment when commanded by the master. More through would be to reach-out and see if they respond to status.  Exploring options now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1424947363/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1426166049","html_url":"https://github.com/apache/accumulo/pull/3189#issuecomment-1426166049","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3189","id":1426166049,"node_id":"IC_kwDOACaFSM5VAZEh","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T18:12:02Z","updated_at":"2023-02-10T18:12:02Z","author_association":"CONTRIBUTOR","body":"Created #3192 to remove arguments from the server processes","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1426166049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1426231947","html_url":"https://github.com/apache/accumulo/pull/3136#issuecomment-1426231947","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3136","id":1426231947,"node_id":"IC_kwDOACaFSM5VApKL","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T19:16:46Z","updated_at":"2023-02-10T19:16:46Z","author_association":"CONTRIBUTOR","body":"@ctubbsii and @dlmarion - This should be ready for a final review, I ran through the sunny IT tests and they passed. I also have kicked off a full IT build as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1426231947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1426266845","html_url":"https://github.com/apache/accumulo/pull/3136#issuecomment-1426266845","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3136","id":1426266845,"node_id":"IC_kwDOACaFSM5VAxrd","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T19:52:59Z","updated_at":"2023-02-10T19:52:59Z","author_association":"MEMBER","body":"I also think it would be good to compare the before/after on the shell's classpath command and the bin/accumulo classpath command to make sure we didn't lose anything important in the output options.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1426266845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1426268829","html_url":"https://github.com/apache/accumulo/pull/3136#issuecomment-1426268829","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3136","id":1426268829,"node_id":"IC_kwDOACaFSM5VAyKd","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T19:55:11Z","updated_at":"2023-02-10T19:55:11Z","author_association":"CONTRIBUTOR","body":"Something else I realized is I forgot to test this against https://github.com/apache/accumulo-classloaders to verify we can still use the VFS classloader using this new approach. That's something I will do as well (assuming the full IT tests pass and everything is good)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1426268829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1427102074","html_url":"https://github.com/apache/accumulo/issues/1327#issuecomment-1427102074","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1327","id":1427102074,"node_id":"IC_kwDOACaFSM5VD9l6","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-12T18:37:35Z","updated_at":"2023-02-12T18:37:35Z","author_association":"CONTRIBUTOR","body":"@ctubbsii, @keith-turner, @dlmarion  - As a first step to this issue I have been looking into what it would take to create an iterator to read an Rfile that was fenced off by a range or ranges and wanted to get some feedback here on what approach to proceed with as I have come across some issues/concerns with each approach I've looked at. Below are the main 2 ideas I've looked into so far.\r\n\r\n#### 1. We could create a new RFile reader/iterator (for the purposes of this can just call it FencedRFileReader) that can handle multiple ranges to fence what's returned.\r\n\r\nThe idea here is the new FencedRFileReader iterator would take an existing RFile reader as the source and also a list of 1 or more ranges (or no ranges to mean whole file) and then handle transparently iterating, seeking, etc over the file and skipping rows not in a range. There are a couple ways that I thought of to do this:\r\n\r\n- One way is to have FencedRFileReader extend [SeekingFilter](https://github.com/apache/accumulo/blob/b74c97c260d6867f242945ff65e718e5819be229/core/src/main/java/org/apache/accumulo/core/iterators/user/SeekingFilter.java) or something similar and then internally the iterator can just handle advancing between rows and ranges by overriding `getNextKeyHint()`. Essentially it would keep track of the current range and then handle seeking to the next range transparently when the each range is exhausted when calling `next()`. It of course would need to appropriately handle the other methods as well.\r\n\r\n- Another option is is for FencedRFileReader to extend [HeapIterator](https://github.com/apache/accumulo/blob/b74c97c260d6867f242945ff65e718e5819be229/core/src/main/java/org/apache/accumulo/core/iteratorsImpl/system/HeapIterator.java) like the original RFile [reader](https://github.com/apache/accumulo/blob/b74c97c260d6867f242945ff65e718e5819be229/core/src/main/java/org/apache/accumulo/core/file/rfile/RFile.java#L1160) does. The idea I had here is to first create separate RFile readers for each range to fence off an RFile by a single range (ie RangedRFileReader). Then the new FencedRFileReader could add each single RangedRFileReader as a source and since it's a HeapIterator it should handle things automatically across multiple sources.\r\n\r\nA problem I see with this approach of an iterator that handles more than one range is I'm not sure it would work easily because of having to handle implementing methods in [FileSKVIterator](https://github.com/apache/accumulo/blob/b74c97c260d6867f242945ff65e718e5819be229/core/src/main/java/org/apache/accumulo/core/file/FileSKVIterator.java) such as `getFirstKey()` and `getLastKey()`. There are places in the code like [CompactableUtils](https://github.com/apache/accumulo/blob/b74c97c260d6867f242945ff65e718e5819be229/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/CompactableUtils.java#L111) that use getFirstKey()/getLastKey() and rely on them for decisions and I am not sure if this would break now that there would be multiple ranges. I would need to dig into this more but maybe someone else can comment on this who knows more about the use cases for those methods. I also wonder how things like [Sampling](https://github.com/apache/accumulo/blob/b74c97c260d6867f242945ff65e718e5819be229/core/src/main/java/org/apache/accumulo/core/file/FileSKVIterator.java) would work.\r\n\r\nA plus side is this approach lends itself easily to still just using a single file entry per file in the metadata table and we can just extend the value to also contain a list of ranges for the file.\r\n\r\n#### 2. A second approach could be to only create an RFile reader/iterator that handles a single range and return a new reader for each range when using FileManager to [open](https://github.com/apache/accumulo/blob/b74c97c260d6867f242945ff65e718e5819be229/server/base/src/main/java/org/apache/accumulo/server/fs/FileManager.java#L503) the list of RFiles. \r\n\r\nSo instead of having a single iterator per RFile that handles multiple ranges like described in approach 1, we would just return multiple RFile readers, one for every range specified.\r\n\r\nThe problem I see here is all of the places where we use a list of files each file is only uniquely identified by [TableFile](https://github.com/apache/accumulo/blob/b74c97c260d6867f242945ff65e718e5819be229/core/src/main/java/org/apache/accumulo/core/metadata/TabletFile.java#L141)/StoredTableFile and the key is just the Path of the file. This would obviously not work in this case because we'd have the path duplicated now as there would be multiple readers for the same file. We'd need to update those classes or have a new class to also add a range as well as Path to uniquely identify the file. Updating TableFile to optionally take a Range in addition to the Path and use that for comparison/equality may be good enough here.\r\n\r\nA plus side is methods in FileSKVIterator such as getFirstKey()/getLastKey() may be easy to implement as it's just a subset of the file and since each reader handle a single continous range hopefully code that calls those methods would work without modification (or without as much modification).\r\n\r\nAlso I was thinking this approach may be easier if there was a separate file entry in the metadata table for each range that is associated with an Rfile instead of just a single entry like today and we just update StoredTableFile to take a Range as part of the comparison/equality but we could probably still make it work with a single entry.\r\n\r\nThoughts/Comments?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1427102074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1427930129","html_url":"https://github.com/apache/accumulo/pull/3161#issuecomment-1427930129","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3161","id":1427930129,"node_id":"IC_kwDOACaFSM5VHHwR","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T13:17:42Z","updated_at":"2023-02-13T13:17:42Z","author_association":"CONTRIBUTOR","body":"Resolved conflicts and kicked off another full IT build.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1427930129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428140608","html_url":"https://github.com/apache/accumulo/pull/3189#issuecomment-1428140608","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3189","id":1428140608,"node_id":"IC_kwDOACaFSM5VH7JA","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T15:28:29Z","updated_at":"2023-02-13T15:28:29Z","author_association":"CONTRIBUTOR","body":"I general this looks like a good change.  It may help if the internal representations of the lock data were more encapsulated so that the storage type was not visible outside of the LockData.\r\n\r\nLooking at how to handle tservers and other processes that have locks when an upgrade occurs, one improvement could be if the lock data included either the data version or maybe the release version.  While added either of those at this point would be out of scope for this PR, designing it so that it is easier to extend could help limit changes in the future.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428140608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428512104","html_url":"https://github.com/apache/accumulo/pull/3161#issuecomment-1428512104","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3161","id":1428512104,"node_id":"IC_kwDOACaFSM5VJV1o","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T19:14:26Z","updated_at":"2023-02-13T19:14:26Z","author_association":"CONTRIBUTOR","body":"Full IT build passed","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428512104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428512631","html_url":"https://github.com/apache/accumulo/pull/3189#issuecomment-1428512631","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3189","id":1428512631,"node_id":"IC_kwDOACaFSM5VJV93","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T19:14:46Z","updated_at":"2023-02-13T19:14:46Z","author_association":"CONTRIBUTOR","body":"Full IT build passed","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428512631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428518639","html_url":"https://github.com/apache/accumulo/pull/3189#issuecomment-1428518639","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3189","id":1428518639,"node_id":"IC_kwDOACaFSM5VJXbv","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T19:18:50Z","updated_at":"2023-02-13T19:18:50Z","author_association":"CONTRIBUTOR","body":"> It may help if the internal representations of the lock data were more encapsulated so that the storage type was not visible outside of the LockData\r\n\r\nCan you be more specific about what you think should be changed? The storage type is a JSON string. The only serialization / deserialization that happens is inside of ServiceLockData. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428518639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428606526","html_url":"https://github.com/apache/accumulo/pull/3124#issuecomment-1428606526","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3124","id":1428606526,"node_id":"IC_kwDOACaFSM5VJs4-","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T20:07:52Z","updated_at":"2023-02-13T20:07:52Z","author_association":"CONTRIBUTOR","body":"Closing this, will need to start over.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428606526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428625929","html_url":"https://github.com/apache/accumulo/pull/3189#issuecomment-1428625929","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3189","id":1428625929,"node_id":"IC_kwDOACaFSM5VJxoJ","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T20:21:02Z","updated_at":"2023-02-13T20:21:02Z","author_association":"CONTRIBUTOR","body":"What caught my eye was `ServiceLockData.parse(new String(data, UTF_8));` and was wondering if passing a `byte[]` would make it possible to isolate the internals more and then the rest was speculation on potential mods that could be able to use information stored within the lock itself.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1428625929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1429658915","html_url":"https://github.com/apache/accumulo/pull/3189#issuecomment-1429658915","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3189","id":1429658915,"node_id":"IC_kwDOACaFSM5VNt0j","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-14T12:19:02Z","updated_at":"2023-02-14T12:19:02Z","author_association":"CONTRIBUTOR","body":"Another Full IT build passed. I believe I resolved all issues. I'm going to merge this morning.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1429658915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1429691774","html_url":"https://github.com/apache/accumulo/issues/2640#issuecomment-1429691774","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2640","id":1429691774,"node_id":"IC_kwDOACaFSM5VN11-","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-14T12:45:51Z","updated_at":"2023-02-14T12:45:51Z","author_association":"CONTRIBUTOR","body":"#3107 separated the services defined in tabletserver.thrift into services for the TabletServer, TabletScan, TabletIngest, and TabletManagement.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1429691774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1429820459","html_url":"https://github.com/apache/accumulo/pull/3136#issuecomment-1429820459","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3136","id":1429820459,"node_id":"IC_kwDOACaFSM5VOVQr","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-14T14:18:24Z","updated_at":"2023-02-14T14:18:24Z","author_association":"CONTRIBUTOR","body":"I ran the full ITs and noticed just 1 failure in `org.apache.accumulo.test.functional.ClassLoaderIT` which I need to investigate but the other tests all passed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1429820459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1430122393","html_url":"https://github.com/apache/accumulo/issues/2640#issuecomment-1430122393","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2640","id":1430122393,"node_id":"IC_kwDOACaFSM5VPe-Z","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-14T17:33:00Z","updated_at":"2023-02-14T17:33:00Z","author_association":"MEMBER","body":"One thing I am thinking regarding this decomposition is that we need to be careful not to further couple ourselves to Thrift. I still think it's a good idea to try to abstract the RPC layer, and while it may be useful to decompose the Thrift services, we need to be sure that we keep that decomposition at the Thrift RPC layer, and not allow it to leak into non-RPC code, *unless* that decomposition also makes sense at a higher layer of abstraction above the Thrift implementation. Just something to keep in mind, I think.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1430122393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1430138098","html_url":"https://github.com/apache/accumulo/issues/1327#issuecomment-1430138098","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1327","id":1430138098,"node_id":"IC_kwDOACaFSM5VPizy","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-14T17:45:39Z","updated_at":"2023-02-14T17:45:39Z","author_association":"MEMBER","body":"My immediate curiosity is: **What are we doing now for fencing off a single range for the tablet?** Of the two options, I am not sure which is the smaller change, but I think it probably makes sense to keep the most minimal change that is closest to what we're already doing today. I suspect this means something closer to the first option, and the second option seems riskier/more complicated, but I do not know without digging into the code myself.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1430138098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1431986508","html_url":"https://github.com/apache/accumulo/issues/3182#issuecomment-1431986508","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3182","id":1431986508,"node_id":"IC_kwDOACaFSM5VWmFM","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-15T20:27:11Z","updated_at":"2023-02-15T20:27:11Z","author_association":"CONTRIBUTOR","body":"This issue is on hold, pending a response to https://github.com/apache/accumulo/pull/3187#issuecomment-1422338787 \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1431986508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1432015968","html_url":"https://github.com/apache/accumulo/pull/3195#issuecomment-1432015968","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3195","id":1432015968,"node_id":"IC_kwDOACaFSM5VWtRg","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-15T20:52:10Z","updated_at":"2023-02-15T20:52:10Z","author_association":"CONTRIBUTOR","body":"Co-authored-by: @ctubbsii ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1432015968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1434861879","html_url":"https://github.com/apache/accumulo/issues/2872#issuecomment-1434861879","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2872","id":1434861879,"node_id":"IC_kwDOACaFSM5VhkE3","user":{"login":"AlbertWhitlock","id":40367659,"node_id":"MDQ6VXNlcjQwMzY3NjU5","avatar_url":"https://avatars.githubusercontent.com/u/40367659?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbertWhitlock","html_url":"https://github.com/AlbertWhitlock","followers_url":"https://api.github.com/users/AlbertWhitlock/followers","following_url":"https://api.github.com/users/AlbertWhitlock/following{/other_user}","gists_url":"https://api.github.com/users/AlbertWhitlock/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbertWhitlock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbertWhitlock/subscriptions","organizations_url":"https://api.github.com/users/AlbertWhitlock/orgs","repos_url":"https://api.github.com/users/AlbertWhitlock/repos","events_url":"https://api.github.com/users/AlbertWhitlock/events{/privacy}","received_events_url":"https://api.github.com/users/AlbertWhitlock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-17T16:11:50Z","updated_at":"2023-02-17T16:11:50Z","author_association":"CONTRIBUTOR","body":"I have logic in place and starting to test the changes now. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1434861879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1435142227","html_url":"https://github.com/apache/accumulo/pull/3136#issuecomment-1435142227","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3136","id":1435142227,"node_id":"IC_kwDOACaFSM5ViohT","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-17T19:34:57Z","updated_at":"2023-02-17T19:34:57Z","author_association":"CONTRIBUTOR","body":"I think this is ready to go, I pushed more updates including removing the broken ClassLoaderIT that was failing as that no loner applies (it only was there to test the VFS reloading) and I also removed the no longer needed code from the Main start class that also only applied to VFS. \r\n\r\nI spent a bunch of time testing to make sure the VFS classloader worked with the changes by using the [accumulo-classloaders](https://github.com/apache/accumulo-classloaders) project and seems to be working well. I used these instructions https://github.com/apache/accumulo-classloaders/blob/main/modules/vfs-class-loader/TESTING.md and I tested against Uno. I tested both Setting a system classloader as well as using a context using the new [instructions](https://github.com/apache/accumulo-classloaders/blob/main/modules/vfs-class-loader/TESTING.md#setting-scan-context-on-table-new) and properties.\r\n\r\nA couple changes will be needed to the documentation to the instructions page (property rename for the table context, need to mention to make sure to add the commons VFS jar since it was removed from 3.0.0) otherwise the testing instructions are pretty much up to date. I can submit a small PR with the changes probably tomorrow.\r\n\r\nI kicked off another full IT so this should be ready to merge if that passes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1435142227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1435690276","html_url":"https://github.com/apache/accumulo/pull/3136#issuecomment-1435690276","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3136","id":1435690276,"node_id":"IC_kwDOACaFSM5VkuUk","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-18T14:35:14Z","updated_at":"2023-02-18T14:35:14Z","author_association":"CONTRIBUTOR","body":"Full IT build passed all the tests for this, I also just pushed a PR to update testing instructions for accumulo-classloaders: https://github.com/apache/accumulo-classloaders/pull/17\r\n\r\n@ctubbsii - I think this is ready to merge, did you want to do a final review?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1435690276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1438564410","html_url":"https://github.com/apache/accumulo/issues/2466#issuecomment-1438564410","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2466","id":1438564410,"node_id":"IC_kwDOACaFSM5VvsA6","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T14:13:05Z","updated_at":"2023-02-21T14:13:05Z","author_association":"CONTRIBUTOR","body":"After examining ticket, the `isReady` methods successfully perform steps that need to be performed before the execution of the `call` methods. The use of the 'deferTime' delay makes refactoring much of the logic out of the `isReady` problematic. Given that there are no issues with the current state of the code, this ticket is going to be closed.  If someone wishes to address the issue at a later time, the ticket can be re-opened or a new ticket created.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1438564410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1440170718","html_url":"https://github.com/apache/accumulo/pull/3200#issuecomment-1440170718","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3200","id":1440170718,"node_id":"IC_kwDOACaFSM5V10Le","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-22T14:48:08Z","updated_at":"2023-02-22T14:48:08Z","author_association":"CONTRIBUTOR","body":"Did you happen to check how many additional watchers this will add?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1440170718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1440225987","html_url":"https://github.com/apache/accumulo/pull/3200#issuecomment-1440225987","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3200","id":1440225987,"node_id":"IC_kwDOACaFSM5V2BrD","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-22T15:10:11Z","updated_at":"2023-02-22T15:10:11Z","author_association":"CONTRIBUTOR","body":"> Did you happen to check how many additional watchers this will add?\r\n\r\nDid you mean the persistent recursive watch? I'm assuming that it will be one per TabletMetadataCache (where and where it's used). I have not seen anything that says a recursive watch adds a watcher to each child node. I did consider the impact of watches. I was thinking of introducing `etcd` for this very reason, but I didn't think that it would be well received as it would add an additional runtime dependency. IIRC etcd watches are tied to the client connection, so when the connection is closed, the watches are gone.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1440225987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1440235078","html_url":"https://github.com/apache/accumulo/pull/3200#issuecomment-1440235078","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3200","id":1440235078,"node_id":"IC_kwDOACaFSM5V2D5G","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-22T15:15:07Z","updated_at":"2023-02-22T15:15:07Z","author_association":"CONTRIBUTOR","body":"There are two dimension to my question about the number of watchers.\r\n\r\n  1 - there is a test with expected number of watchers and the number may need to be adjusted. (and of minor importance)\r\n  2 - if there is a watcher added for each extent, then on large systems that could be an incredible load placed on ZooKeeper that needs to be considered.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1440235078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1440274362","html_url":"https://github.com/apache/accumulo/pull/3200#issuecomment-1440274362","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3200","id":1440274362,"node_id":"IC_kwDOACaFSM5V2Ne6","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-22T15:39:20Z","updated_at":"2023-02-22T15:39:20Z","author_association":"CONTRIBUTOR","body":">  if there is a watcher added for each extent, then on large systems that could be an incredible load placed on ZooKeeper that needs to be considered.\r\n\r\nLooking at the [implementation notes](https://github.com/apache/zookeeper/pull/1106#issue-501722487), it appears that there is only one watcher created on the server-side. It says:\r\n> PathParentIterator is the \"meat\" of the implementation. Rather than set watchers on every ZNode implied by a recursive watcher. WatchManager passes any paths it processes through PathParentIterator which iterates up each parent znode looking for watchers.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1440274362/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1440616370","html_url":"https://github.com/apache/accumulo/pull/3200#issuecomment-1440616370","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3200","id":1440616370,"node_id":"IC_kwDOACaFSM5V3g-y","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-22T18:50:15Z","updated_at":"2023-02-22T18:52:52Z","author_association":"CONTRIBUTOR","body":"Automated build that is failing is because it's forcing a zookeeper version of 3.5.10. I think we can remove that for 3.0","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1440616370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1442672600","html_url":"https://github.com/apache/accumulo/issues/3190#issuecomment-1442672600","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3190","id":1442672600,"node_id":"IC_kwDOACaFSM5V_W_Y","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T01:37:13Z","updated_at":"2023-02-24T01:37:13Z","author_association":"CONTRIBUTOR","body":"> The balancer is pluggable, making it already possible for a user to do something like this if it is appropriate for their situation in 2.1. I don't think it's worth us baking this new feature in for a bugfix release, since new features should really be much more rare for bugfix releases, and especially not since it will likely be immediately superseded in 3.0 by the changes proposed in #3178. For 2.1, I think this is better left as an exercise for the user, if they need that for 2.1, rather than us baking it in as a new feature in 2.1.x.\r\n\r\nI agree that 2.1.x would be a bugfix release so this change wouldn't be within scope for a 2.1.x release.\r\nI thought this change would be appropriate for a 2.2.x release, if that were to ever happen. \r\n\r\nGiven that the balancer is pluggable, I'll close this issue for now.   ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1442672600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1442698042","html_url":"https://github.com/apache/accumulo/issues/3201#issuecomment-1442698042","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3201","id":1442698042,"node_id":"IC_kwDOACaFSM5V_dM6","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T02:12:11Z","updated_at":"2023-02-24T02:12:11Z","author_association":"CONTRIBUTOR","body":"The [original commit](https://github.com/apache/accumulo/pull/2516) for adding the zookeeper `3.5.x` option was due to the upgrade from `3.5` to zookeeper `3.7` \r\n\r\n\r\nBefore that upgrade, the test was just utilizing a previous version of hadoop. \r\n`- {name: 'hadoop-compat', javaver: 11, args: 'package -DskipTests -Dhadoop.version=3.0.3'}`\r\nvs\r\n` - {name: 'compat', javaver: 11, args: 'package -DskipTests -Dhadoop.version=3.0.3 -Dzookeeper.version=3.5.10'}`\r\n\r\nI'm surprised there is still a compatibility test for Hadoop `3.0.3` since the log4j issues weren't patched in the `3.0.x` line.\r\n\r\nIs compatibility testing is still desired? If so, what should drive the version number choice?\r\n\r\nAdditional details: \r\n- [HADOOP-18088](https://issues.apache.org/jira/browse/HADOOP-18088)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1442698042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443649958","html_url":"https://github.com/apache/accumulo/issues/3201#issuecomment-1443649958","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3201","id":1443649958,"node_id":"IC_kwDOACaFSM5WDFmm","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T12:58:28Z","updated_at":"2023-02-24T12:58:28Z","author_association":"CONTRIBUTOR","body":"IMO we can remove this check for version 3.0 and beyond.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443649958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443703864","html_url":"https://github.com/apache/accumulo/pull/3203#issuecomment-1443703864","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3203","id":1443703864,"node_id":"IC_kwDOACaFSM5WDSw4","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T13:47:17Z","updated_at":"2023-02-24T13:47:17Z","author_association":"CONTRIBUTOR","body":"I think this might be syntactically correct as it did not run the ZooKeeper compatibility check for this PR. Would need to check that a PR targeting 2.1 or 1.10 does run the check after this PR is merged. Waiting to merge this until I get confirmation that this is ok to do for 3.0.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443703864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443739861","html_url":"https://github.com/apache/accumulo/issues/3201#issuecomment-1443739861","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3201","id":1443739861,"node_id":"IC_kwDOACaFSM5WDbjV","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T14:13:39Z","updated_at":"2023-02-24T14:13:39Z","author_association":"MEMBER","body":"I made comments on the PR. I didn't mention log4j in my code review, but I don't think log4j is a good enough reason to stop testing these older versions that users could be using. It's very easy to patch log4j in production for those older versions. I'm sure there's lots of transitive dependency version bumps and changes, but since ZK and Hadoop are deployed by users independently from Accumulo (we don't bundle them) and its other dependencies, I think it still makes sense to test with it, so long as the tests are passing. At least, I'm not sure what harm is being done by the additional checks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443739861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443955551","html_url":"https://github.com/apache/accumulo/pull/3136#issuecomment-1443955551","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3136","id":1443955551,"node_id":"IC_kwDOACaFSM5WEQNf","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T16:26:26Z","updated_at":"2023-02-24T16:26:26Z","author_association":"MEMBER","body":"> @ctubbsii - I think this is ready to merge, did you want to do a final review?\r\n\r\nYou merged while I was giving it another lookover, but I don't see anything that stands out. I think you addressed all the previous things I noticed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443955551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443994067","html_url":"https://github.com/apache/accumulo/issues/3201#issuecomment-1443994067","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3201","id":1443994067,"node_id":"IC_kwDOACaFSM5WEZnT","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T16:45:52Z","updated_at":"2023-02-24T16:45:52Z","author_association":"MEMBER","body":"Superseded by patch to update to 3.6 in #3200 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443994067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443995608","html_url":"https://github.com/apache/accumulo/pull/3203#issuecomment-1443995608","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3203","id":1443995608,"node_id":"IC_kwDOACaFSM5WEZ_Y","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T16:46:38Z","updated_at":"2023-02-24T16:46:38Z","author_association":"MEMBER","body":"Superseded by patch to update to 3.6 in https://github.com/apache/accumulo/pull/3200","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1443995608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1444192358","html_url":"https://github.com/apache/accumulo/pull/3136#issuecomment-1444192358","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3136","id":1444192358,"node_id":"IC_kwDOACaFSM5WFKBm","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T18:20:46Z","updated_at":"2023-02-24T18:20:46Z","author_association":"CONTRIBUTOR","body":"> > @ctubbsii - I think this is ready to merge, did you want to do a final review?\r\n> \r\n> You merged while I was giving it another lookover, but I don't see anything that stands out. I think you addressed all the previous things I noticed.\r\n\r\nSorry about that, it had been about a week so figured it was good to go since @dlmarion said it looked good. I also figured if we found something after that needed fixing I could go back and fix it with a follow on PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1444192358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1444550888","html_url":"https://github.com/apache/accumulo/issues/3198#issuecomment-1444550888","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3198","id":1444550888,"node_id":"IC_kwDOACaFSM5WGhjo","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T21:39:51Z","updated_at":"2023-02-24T21:39:51Z","author_association":"CONTRIBUTOR","body":"@dlmarion I can work on this if you want to assign it to me\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1444550888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1444695548","html_url":"https://github.com/apache/accumulo/pull/3205#issuecomment-1444695548","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3205","id":1444695548,"node_id":"IC_kwDOACaFSM5WHE38","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T23:28:15Z","updated_at":"2023-02-24T23:28:15Z","author_association":"CONTRIBUTOR","body":"I added a unit test and I also tested using [ReloadingVFSContextClassLoaderFactory](https://github.com/apache/accumulo-classloaders/blob/765db685f362ef38a276573a012769ca474f5d9c/modules/vfs-class-loader/src/main/java/org/apache/accumulo/classloader/vfs/context/ReloadingVFSContextClassLoaderFactory.java) in accumulo-classloaders against Uno with the the factory configured as the system classloader. Now with debug logging enabled everything works as intended.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1444695548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1444747303","html_url":"https://github.com/apache/accumulo/pull/3205#issuecomment-1444747303","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3205","id":1444747303,"node_id":"IC_kwDOACaFSM5WHRgn","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T23:53:32Z","updated_at":"2023-02-24T23:53:32Z","author_association":"CONTRIBUTOR","body":"I'm thinking that we may want to target this for 2.1 vs main. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1444747303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1444795874","html_url":"https://github.com/apache/accumulo/pull/3136#issuecomment-1444795874","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3136","id":1444795874,"node_id":"IC_kwDOACaFSM5WHdXi","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-25T00:26:45Z","updated_at":"2023-02-25T00:26:45Z","author_association":"MEMBER","body":"No worries. You did the right thing. I was merely observing the coincidence. That we both were looking at it in the same few minutes after a week of inaction was amusing to me ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1444795874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445121639","html_url":"https://github.com/apache/accumulo/pull/3205#issuecomment-1445121639","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3205","id":1445121639,"node_id":"IC_kwDOACaFSM5WIs5n","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-25T13:34:04Z","updated_at":"2023-02-25T13:34:04Z","author_association":"CONTRIBUTOR","body":"> I'm thinking that we may want to target this for 2.1 vs main.\r\n\r\nAh yeah, good point, this should likely go into 2.1 as well because I view this is a bug since anything that writes to standard out (not just the VFS classloader) while parsing can break it. I'll switch it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445121639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445123046","html_url":"https://github.com/apache/accumulo/pull/3205#issuecomment-1445123046","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3205","id":1445123046,"node_id":"IC_kwDOACaFSM5WItPm","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-25T13:42:18Z","updated_at":"2023-02-25T13:42:18Z","author_association":"CONTRIBUTOR","body":"@dlmarion - I fixed that one typo you found and I went ahead and just squashed my commits and force pushed off 2.1. I could have just switched the target branch but I wanted to make sure everything was good when starting from 2.1 so I just created a new branch from 2.1 and applied my changes to it with a squashed commit and pushed it back up.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445123046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445123939","html_url":"https://github.com/apache/accumulo/pull/3204#issuecomment-1445123939","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3204","id":1445123939,"node_id":"IC_kwDOACaFSM5WItdj","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-25T13:47:05Z","updated_at":"2023-02-25T13:47:05Z","author_association":"CONTRIBUTOR","body":"I think we should probably target this for 2.1 as well since that is a LTM version so it should also get dependency updates.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445123939/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445191077","html_url":"https://github.com/apache/accumulo/pull/3207#issuecomment-1445191077","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3207","id":1445191077,"node_id":"IC_kwDOACaFSM5WI92l","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-25T19:49:27Z","updated_at":"2023-02-25T19:49:27Z","author_association":"CONTRIBUTOR","body":"I ran the Sunny IT tests and they passed, I just kicked off a full IT as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445191077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445230115","html_url":"https://github.com/apache/accumulo/issues/3198#issuecomment-1445230115","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3198","id":1445230115,"node_id":"IC_kwDOACaFSM5WJHYj","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-25T23:59:43Z","updated_at":"2023-02-25T23:59:43Z","author_association":"CONTRIBUTOR","body":"> @keith-turner - would like your thoughts on this as you were the author of the referenced commit. Was the penalty for the fair lock severe?\r\n\r\nI can not remember the specifics of what I was doing.  I don't know if my comment was based on performance testing or just reading about the performance for the fair semaphore.  Given the bad situation that is happening sometimes, it seems like it would be best to switch it to fair.\r\n\r\nShould this change need to be made in 1.10.x?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445230115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445235972","html_url":"https://github.com/apache/accumulo/issues/1327#issuecomment-1445235972","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1327","id":1445235972,"node_id":"IC_kwDOACaFSM5WJI0E","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-26T00:36:12Z","updated_at":"2023-02-26T00:38:16Z","author_association":"CONTRIBUTOR","body":"@cshannon  I like option number 2 that you mentioned.  Its hard to say for sure w/o trying it, but that one feels like it might be the best.  I looked around the code and [MultiIterator](https://github.com/apache/accumulo/blob/main/core/src/main/java/org/apache/accumulo/core/iteratorsImpl/system/MultiIterator.java) seems like it would be part of the solution.  Interestingly MultiIterator does the fencing and combines multiple iterators.  We may want to create a standalone fencing iterator for efficiency.\r\n\r\nNot sure where this would go in the code exactly, but maybe we could do something like the following for an  rfile iterator with a list of ranges.  This could be one way to implement option 2.\r\n\r\n```java\r\n  SortedKeyValueIterator<Key,Value> fenceIterator(SortedKeyValueIterator<Key,Value> iter, List<Ranges> ranges) {\r\n    if(ranges.size() == 0){\r\n      return iter;\r\n    } else if (ranges.size() == 1) {\r\n      return new FencedIterator(iter, ranges.get(0));\r\n    } else {\r\n      var fencedIters = ranges.stream().map(range -> new FencedIterator(iter.deepCopy(), range)).collect(Collectors.toList());\r\n      return new MultiIterator(fencedIters, false);\r\n    }\r\n  }\r\n```\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1445235972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446234172","html_url":"https://github.com/apache/accumulo/pull/3143#issuecomment-1446234172","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3143","id":1446234172,"node_id":"IC_kwDOACaFSM5WM8g8","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T12:21:06Z","updated_at":"2023-02-27T12:21:06Z","author_association":"CONTRIBUTOR","body":"Kicked off Full IT build","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446234172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446253333","html_url":"https://github.com/apache/accumulo/issues/3198#issuecomment-1446253333","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3198","id":1446253333,"node_id":"IC_kwDOACaFSM5WNBMV","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T12:35:30Z","updated_at":"2023-02-27T12:35:30Z","author_association":"CONTRIBUTOR","body":"> Should this change need to be made in 1.10.x?\r\n\r\nMaybe. I'll let @ddanielr evaluate that. If it's easy, then we should probably do that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446253333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446274242","html_url":"https://github.com/apache/accumulo/pull/3206#issuecomment-1446274242","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3206","id":1446274242,"node_id":"IC_kwDOACaFSM5WNGTC","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T12:53:26Z","updated_at":"2023-02-27T12:53:26Z","author_association":"CONTRIBUTOR","body":"Kicked off full IT build","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446274242/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446296734","html_url":"https://github.com/apache/accumulo/pull/3207#issuecomment-1446296734","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3207","id":1446296734,"node_id":"IC_kwDOACaFSM5WNLye","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T13:08:33Z","updated_at":"2023-02-27T13:08:33Z","author_association":"CONTRIBUTOR","body":"Full IT build completed successfully","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446296734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446400784","html_url":"https://github.com/apache/accumulo/issues/3213#issuecomment-1446400784","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3213","id":1446400784,"node_id":"IC_kwDOACaFSM5WNlMQ","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T14:17:04Z","updated_at":"2023-02-27T14:17:04Z","author_association":"CONTRIBUTOR","body":"This is a nit, but maybe a there is better word than pinned?  To me, pinned could refer to a sticky server affinity - such as pinning metadata tables to run on hostA...hostN.  If we go the pinned route for state, then I think we are setting us up for overloading / confusing naming when we would need to clarify what flavor of pinned is referenced.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446400784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446518418","html_url":"https://github.com/apache/accumulo/pull/3202#issuecomment-1446518418","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3202","id":1446518418,"node_id":"IC_kwDOACaFSM5WOB6S","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T15:16:50Z","updated_at":"2023-02-27T15:16:50Z","author_association":"CONTRIBUTOR","body":"What is the motivation for making this change? This seems like a pretty big change in behavior going from sleeping even when interrupted vs no longer sleeping. I'm not saying it's necessarily wrong to switch it, I'm just curious the motivation and what kind of consequences (both intended and maybe unintended) that will occur as a result of this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446518418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446538760","html_url":"https://github.com/apache/accumulo/pull/3202#issuecomment-1446538760","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3202","id":1446538760,"node_id":"IC_kwDOACaFSM5WOG4I","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T15:27:33Z","updated_at":"2023-02-27T15:28:14Z","author_association":"CONTRIBUTOR","body":"The use of sleepUninterruptibly will wait for the entire duration of the sleep, which seems to be a case that should be rare in our code to be the desired behavior.  When that is truly intended we should make that explicit through the code and not as a side effect of the method. \r\n\r\nIn general, it felt like we are using sleepUninterruptibly excessively to avoid handling or re-throwing InterruptedException.  I was trying to move the code into a direction where we can improve InterruptException handling rather than assuming that it can be ignored.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446538760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446729381","html_url":"https://github.com/apache/accumulo/pull/3204#issuecomment-1446729381","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3204","id":1446729381,"node_id":"IC_kwDOACaFSM5WO1al","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T17:18:38Z","updated_at":"2023-02-27T17:18:38Z","author_association":"MEMBER","body":"> I think we should probably target this for 2.1 as well since that is a LTM version so it should also get dependency updates.\r\n\r\nCreated #3215 tracking 2.1 branch @cshannon ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446729381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446781088","html_url":"https://github.com/apache/accumulo/pull/3143#issuecomment-1446781088","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3143","id":1446781088,"node_id":"IC_kwDOACaFSM5WPCCg","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T17:51:47Z","updated_at":"2023-02-27T17:51:47Z","author_association":"CONTRIBUTOR","body":"Full IT build passed successfully","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446781088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446783775","html_url":"https://github.com/apache/accumulo/pull/3206#issuecomment-1446783775","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3206","id":1446783775,"node_id":"IC_kwDOACaFSM5WPCsf","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T17:52:56Z","updated_at":"2023-02-27T17:52:56Z","author_association":"CONTRIBUTOR","body":"Full IT build passed successfully","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1446783775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1447469264","html_url":"https://github.com/apache/accumulo/issues/3209#issuecomment-1447469264","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3209","id":1447469264,"node_id":"IC_kwDOACaFSM5WRqDQ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T02:22:48Z","updated_at":"2023-02-28T02:22:48Z","author_association":"CONTRIBUTOR","body":"I have started experimenting with this here https://github.com/keith-turner/accumulo/tree/meta-conditions ... will eventually post a draft PR once I have some basic functionality working.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1447469264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1447581189","html_url":"https://github.com/apache/accumulo/issues/3198#issuecomment-1447581189","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3198","id":1447581189,"node_id":"IC_kwDOACaFSM5WSFYF","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T05:03:23Z","updated_at":"2023-02-28T05:03:23Z","author_association":"CONTRIBUTOR","body":"> > Should this change need to be made in 1.10.x?\r\n> \r\n> Maybe. I'll let @ddanielr evaluate that. If it's easy, then we should probably do that.\r\n\r\nI\"m still looking into this code so I don't have a complete solution yet. \r\n\r\nThe FileManager code is extremely similar between 1.10 and 2.1 so if the fix is constrained to just that class then I don't see why it couldn't be released to 1.10.x considering this problem's impact. \r\n\r\n@dlmarion do you know if the user was experiencing these extended scan blocks while using [Scan Executors](https://accumulo.apache.org/docs/2.x/administration/scan-executors)? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1447581189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448102796","html_url":"https://github.com/apache/accumulo/issues/3198#issuecomment-1448102796","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3198","id":1448102796,"node_id":"IC_kwDOACaFSM5WUEuM","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T12:32:08Z","updated_at":"2023-02-28T12:32:08Z","author_association":"CONTRIBUTOR","body":"Yes, it was during scanning","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448102796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448235463","html_url":"https://github.com/apache/accumulo/issues/3217#issuecomment-1448235463","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3217","id":1448235463,"node_id":"IC_kwDOACaFSM5WUlHH","user":{"login":"FineAndDandy","id":7751180,"node_id":"MDQ6VXNlcjc3NTExODA=","avatar_url":"https://avatars.githubusercontent.com/u/7751180?v=4","gravatar_id":"","url":"https://api.github.com/users/FineAndDandy","html_url":"https://github.com/FineAndDandy","followers_url":"https://api.github.com/users/FineAndDandy/followers","following_url":"https://api.github.com/users/FineAndDandy/following{/other_user}","gists_url":"https://api.github.com/users/FineAndDandy/gists{/gist_id}","starred_url":"https://api.github.com/users/FineAndDandy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FineAndDandy/subscriptions","organizations_url":"https://api.github.com/users/FineAndDandy/orgs","repos_url":"https://api.github.com/users/FineAndDandy/repos","events_url":"https://api.github.com/users/FineAndDandy/events{/privacy}","received_events_url":"https://api.github.com/users/FineAndDandy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T14:04:51Z","updated_at":"2023-02-28T14:04:51Z","author_association":"CONTRIBUTOR","body":"I'm working on a PR for this issue","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448235463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448420571","html_url":"https://github.com/apache/accumulo/issues/3217#issuecomment-1448420571","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3217","id":1448420571,"node_id":"IC_kwDOACaFSM5WVSTb","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T15:51:05Z","updated_at":"2023-02-28T15:51:05Z","author_association":"CONTRIBUTOR","body":"Are you going to target 1.10 and then merge forward?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448420571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448479832","html_url":"https://github.com/apache/accumulo/issues/3217#issuecomment-1448479832","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3217","id":1448479832,"node_id":"IC_kwDOACaFSM5WVgxY","user":{"login":"FineAndDandy","id":7751180,"node_id":"MDQ6VXNlcjc3NTExODA=","avatar_url":"https://avatars.githubusercontent.com/u/7751180?v=4","gravatar_id":"","url":"https://api.github.com/users/FineAndDandy","html_url":"https://github.com/FineAndDandy","followers_url":"https://api.github.com/users/FineAndDandy/followers","following_url":"https://api.github.com/users/FineAndDandy/following{/other_user}","gists_url":"https://api.github.com/users/FineAndDandy/gists{/gist_id}","starred_url":"https://api.github.com/users/FineAndDandy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FineAndDandy/subscriptions","organizations_url":"https://api.github.com/users/FineAndDandy/orgs","repos_url":"https://api.github.com/users/FineAndDandy/repos","events_url":"https://api.github.com/users/FineAndDandy/events{/privacy}","received_events_url":"https://api.github.com/users/FineAndDandy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T16:26:47Z","updated_at":"2023-02-28T16:26:47Z","author_association":"CONTRIBUTOR","body":"This code looks pretty stable across all versions. I'll target 2.1.\n\nOn Tue, Feb 28, 2023 at 10:51 AM EdColeman ***@***.***> wrote:\n\n> Are you going to target 1.10 and then merge forward?\n>\n> \n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/issues/3217#issuecomment-1448420571>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AB3EMDEHVKFRL75AWUG2XOLWZYNHJANCNFSM6AAAAAAVJ7N4W4>\n> .\n> You are receiving this because you were assigned.Message ID:\n> ***@***.***>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448479832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448526810","html_url":"https://github.com/apache/accumulo/issues/3217#issuecomment-1448526810","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3217","id":1448526810,"node_id":"IC_kwDOACaFSM5WVsPa","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T16:58:32Z","updated_at":"2023-02-28T16:58:32Z","author_association":"CONTRIBUTOR","body":"Maybe I should have been more explicit - it seems (to me) that it would be a bug-fix that starts at 1.10.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448526810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448826234","html_url":"https://github.com/apache/accumulo/pull/3216#issuecomment-1448826234","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3216","id":1448826234,"node_id":"IC_kwDOACaFSM5WW1V6","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T20:14:16Z","updated_at":"2023-02-28T20:14:16Z","author_association":"CONTRIBUTOR","body":"Full IT build succeeded","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1448826234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1449046192","html_url":"https://github.com/apache/accumulo/issues/3217#issuecomment-1449046192","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3217","id":1449046192,"node_id":"IC_kwDOACaFSM5WXrCw","user":{"login":"FineAndDandy","id":7751180,"node_id":"MDQ6VXNlcjc3NTExODA=","avatar_url":"https://avatars.githubusercontent.com/u/7751180?v=4","gravatar_id":"","url":"https://api.github.com/users/FineAndDandy","html_url":"https://github.com/FineAndDandy","followers_url":"https://api.github.com/users/FineAndDandy/followers","following_url":"https://api.github.com/users/FineAndDandy/following{/other_user}","gists_url":"https://api.github.com/users/FineAndDandy/gists{/gist_id}","starred_url":"https://api.github.com/users/FineAndDandy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FineAndDandy/subscriptions","organizations_url":"https://api.github.com/users/FineAndDandy/orgs","repos_url":"https://api.github.com/users/FineAndDandy/repos","events_url":"https://api.github.com/users/FineAndDandy/events{/privacy}","received_events_url":"https://api.github.com/users/FineAndDandy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T22:49:35Z","updated_at":"2023-02-28T22:49:35Z","author_association":"CONTRIBUTOR","body":"Okay, no problem.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1449046192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1450781269","html_url":"https://github.com/apache/accumulo/pull/3220#issuecomment-1450781269","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3220","id":1450781269,"node_id":"IC_kwDOACaFSM5WeSpV","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T20:07:52Z","updated_at":"2023-03-01T20:07:52Z","author_association":"CONTRIBUTOR","body":"`verify` stage is failing due to Maven 3.9.0 issue mentioned in Slack. It passes locally.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1450781269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1450789327","html_url":"https://github.com/apache/accumulo/pull/3220#issuecomment-1450789327","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3220","id":1450789327,"node_id":"IC_kwDOACaFSM5WeUnP","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T20:14:32Z","updated_at":"2023-03-01T20:14:32Z","author_association":"CONTRIBUTOR","body":"I don't know how many more states we could add. We have online and offline, ondemand is a hybrid of those two. I see what you are saying though. That is something that could be done in a 3.x version before we add this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1450789327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1451044728","html_url":"https://github.com/apache/accumulo/issues/1327#issuecomment-1451044728","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1327","id":1451044728,"node_id":"IC_kwDOACaFSM5WfS94","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T23:53:48Z","updated_at":"2023-03-01T23:53:48Z","author_association":"CONTRIBUTOR","body":"Thanks @keith-turner and @ctubbsii for the feedback. I didn't get any time last week but I should have a chance later this week to  poke around a bit and try some prototyping on the multi range Rfile iterator.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1451044728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1452447638","html_url":"https://github.com/apache/accumulo/issues/1056#issuecomment-1452447638","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1056","id":1452447638,"node_id":"IC_kwDOACaFSM5WkpeW","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-02T19:38:28Z","updated_at":"2023-03-02T19:38:28Z","author_association":"MEMBER","body":"Closing https://issues.apache.org/jira/browse/ACCUMULO-1836 in favor of this ticket. Below is the description of the jira ticket in case it could be helpful:\r\n\r\n> Right now, if I have a key-value pair and I want to make an insert out of it, I have to do something like this:\r\n\r\n> m.put(key.getColumnFamily(), key.getColumnQualifier(), new ColumnVisibility(key.getColumnVisibility()), value);\r\nHowever, I believe this results in the data in the key being array copied twice which is pretty inefficient (profiling shows this to be a fairly significant portion of our running time on heavy ingest). Since I think exposing the byte arrays directly is not preferred, perhaps there could be a method Mutation.put(Key,Value) that efficiently re-uses the byte arrays. Maybe it assumes the rows are the same, or maybe it could have an option for checking that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1452447638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1452508034","html_url":"https://github.com/apache/accumulo/issues/3198#issuecomment-1452508034","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3198","id":1452508034,"node_id":"IC_kwDOACaFSM5Wk4OC","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-02T20:34:02Z","updated_at":"2023-03-02T20:35:47Z","author_association":"CONTRIBUTOR","body":"From the [java docs](https://devdocs.io/openjdk~11/java.base/java/util/concurrent/semaphore): \r\n> Generally, semaphores used to control resource access should be initialized as fair, to ensure that no thread is starved out from accessing a resource.\r\n> When using semaphores for other kinds of synchronization control, the throughput advantages of non-fair ordering often outweigh fairness considerations.\r\n\r\nThread starvation for scans seem extremely problematic in a high load environment. Especially so once you add in expected behavior of the Scan Executors thread pools.\r\n\r\nA fair semaphore ensures this can't happen by enforcing a FIFO queue for resource requests once all of the available file permits are reserved. \r\n\r\nSo I think the correct course of action is to switch the semaphore back to \"fair\".\r\n\r\nThis code is pretty stable between 1.10 and 2.1.x so given the impact to scans, this bug should be fixed in the 1.10.x line. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1452508034/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453470446","html_url":"https://github.com/apache/accumulo/pull/3222#issuecomment-1453470446","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3222","id":1453470446,"node_id":"IC_kwDOACaFSM5WojLu","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T12:36:04Z","updated_at":"2023-03-03T12:36:04Z","author_association":"CONTRIBUTOR","body":"The QA checks passed with the updated PR, I'm going to go ahead and merge as 2.1/main are currently broken building with Maven 3.9.0.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453470446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453524013","html_url":"https://github.com/apache/accumulo/pull/3222#issuecomment-1453524013","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3222","id":1453524013,"node_id":"IC_kwDOACaFSM5WowQt","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T13:19:49Z","updated_at":"2023-03-03T13:19:49Z","author_association":"CONTRIBUTOR","body":"I'm surprised that the modernizer:2.5.0 plugin works. A fix for this issue was merged two weeks ago (https://github.com/gaul/modernizer-maven-plugin/pull/170) and modernizer:2.5.0 was released in November.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453524013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453530761","html_url":"https://github.com/apache/accumulo/pull/3222#issuecomment-1453530761","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3222","id":1453530761,"node_id":"IC_kwDOACaFSM5Wox6J","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T13:25:36Z","updated_at":"2023-03-03T13:25:36Z","author_association":"CONTRIBUTOR","body":"> I'm surprised that the modernizer:2.5.0 plugin works. A fix for this issue was merged two weeks ago ([gaul/modernizer-maven-plugin#170](https://github.com/gaul/modernizer-maven-plugin/pull/170)) and modernizer:2.5.0 was released in November.\r\n\r\nYeah, I was surprised as well but I figured I'd try the latest of both plugins since they both had similar issues and it worked. \r\n\r\nAlso, as an FYI, I personally am still planning to use Maven 3.8.7 locally for now until 3.9.1 is released. There's a performance regression they highlighted in the release notes for 3.9.0 that has been fixed for 3.9.1 already: https://issues.apache.org/jira/browse/MNG-7677","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453530761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453538368","html_url":"https://github.com/apache/accumulo/pull/3222#issuecomment-1453538368","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3222","id":1453538368,"node_id":"IC_kwDOACaFSM5WozxA","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T13:31:40Z","updated_at":"2023-03-03T13:31:40Z","author_association":"CONTRIBUTOR","body":"I'm using Maven 3.6.3 locally, so I only saw it on GitHub. Good find.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453538368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453539919","html_url":"https://github.com/apache/accumulo/pull/3215#issuecomment-1453539919","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3215","id":1453539919,"node_id":"IC_kwDOACaFSM5Wo0JP","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T13:32:56Z","updated_at":"2023-03-03T13:32:56Z","author_association":"CONTRIBUTOR","body":"I don't think we need two PRs. We should be able to just have one targeting 2.1 and then when this is merged into 2.1 we can then merge it to main. The other PR, #3204, should be able to be closed I think.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453539919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453596413","html_url":"https://github.com/apache/accumulo/pull/3204#issuecomment-1453596413","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3204","id":1453596413,"node_id":"IC_kwDOACaFSM5WpB79","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T14:15:34Z","updated_at":"2023-03-03T14:15:34Z","author_association":"MEMBER","body":"Superseded by #3215 to apply this to 2.1","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453596413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453604162","html_url":"https://github.com/apache/accumulo/pull/3215#issuecomment-1453604162","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3215","id":1453604162,"node_id":"IC_kwDOACaFSM5WpD1C","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T14:21:40Z","updated_at":"2023-03-03T14:21:40Z","author_association":"MEMBER","body":"> I don't think we need two PRs. We should be able to just have one targeting 2.1 and then when this is merged into 2.1 we can then merge it to main. The other PR, #3204, should be able to be closed I think.\r\n\r\nGotcha. It has been closed. I'll merge this in once it gets reviewed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453604162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453620252","html_url":"https://github.com/apache/accumulo/pull/3215#issuecomment-1453620252","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3215","id":1453620252,"node_id":"IC_kwDOACaFSM5WpHwc","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T14:33:03Z","updated_at":"2023-03-03T14:33:03Z","author_association":"CONTRIBUTOR","body":"@DomGarguilo - It would appear you pushed up main, I would probably just force push off 2.1 to clean it up.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453620252/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453621886","html_url":"https://github.com/apache/accumulo/pull/3215#issuecomment-1453621886","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3215","id":1453621886,"node_id":"IC_kwDOACaFSM5WpIJ-","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T14:34:14Z","updated_at":"2023-03-03T14:34:14Z","author_association":"CONTRIBUTOR","body":"Not sure what you did here - was this intended to be a merge forward?  Usually, that should not be done as a PR and depending on the base branch, be very careful on deleting the branch - you may end up deleting 2.1 from the repo.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453621886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453624302","html_url":"https://github.com/apache/accumulo/pull/3215#issuecomment-1453624302","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3215","id":1453624302,"node_id":"IC_kwDOACaFSM5WpIvu","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T14:36:02Z","updated_at":"2023-03-03T14:36:02Z","author_association":"MEMBER","body":"> Not sure what you did here - was this intended to be a merge forward?  Usually, that should not be done as a PR and depending on the base branch, be very careful on deleting the branch - you may end up deleting 2.1 from the repo.\n\nI accidentally merged main into this branch. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453624302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453637309","html_url":"https://github.com/apache/accumulo/pull/3215#issuecomment-1453637309","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3215","id":1453637309,"node_id":"IC_kwDOACaFSM5WpL69","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T14:45:49Z","updated_at":"2023-03-03T14:45:49Z","author_association":"MEMBER","body":"@DomGarguilo I fixed the unintentional merge of main, merge 2.1 instead, cherry-picked your partial revert, then added another commit to fix a few things you missed. Waiting for the build to finish, but should be good after that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1453637309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]