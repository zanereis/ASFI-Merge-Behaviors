[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/514919321","html_url":"https://github.com/openzipkin/zipkin/pull/2706#issuecomment-514919321","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2706","id":514919321,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDkxOTMyMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T06:46:07Z","updated_at":"2019-07-25T06:46:07Z","author_association":"MEMBER","body":"so happy to have this change in.. thanks @anuraaga ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/514919321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515376644","html_url":"https://github.com/openzipkin/zipkin/issues/2674#issuecomment-515376644","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2674","id":515376644,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTM3NjY0NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T09:20:53Z","updated_at":"2019-07-26T09:20:53Z","author_association":"MEMBER","body":"response back to users is less than awesome on this first request while health check booting up\r\n\r\n```\r\ncurl -X POST -s localhost:9411/api/v2/spans -H'Content-Type: application/json' -d @netflix.json\r\ncom.linecorp.armeria.client.endpoint.EndpointGroupException: com.linecorp.armeria.client.endpoint.OrElseEndpointGroup@5865d659 is empty\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515376644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515377252","html_url":"https://github.com/openzipkin/zipkin/pull/2700#issuecomment-515377252","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2700","id":515377252,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTM3NzI1Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T09:22:45Z","updated_at":"2019-07-26T09:22:45Z","author_association":"MEMBER","body":"ok this is ready cc @anuraaga @kojilin @trustin","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515377252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515382550","html_url":"https://github.com/openzipkin/zipkin/pull/2708#issuecomment-515382550","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2708","id":515382550,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTM4MjU1MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T09:39:56Z","updated_at":"2019-07-26T09:39:56Z","author_association":"MEMBER","body":"thanks as this is very repeatable I can try it locally!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515382550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515384074","html_url":"https://github.com/openzipkin/zipkin/pull/2708#issuecomment-515384074","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2708","id":515384074,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTM4NDA3NA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T09:43:45Z","updated_at":"2019-07-26T09:43:45Z","author_association":"CONTRIBUTOR","body":"It repros locally too? I'm quite impressed by how slow DNS is in practice...","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515384074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515385097","html_url":"https://github.com/openzipkin/zipkin/pull/2700#issuecomment-515385097","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2700","id":515385097,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTM4NTA5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T09:46:32Z","updated_at":"2019-07-26T09:46:32Z","author_association":"MEMBER","body":"the good looks are mostly @tacigar heh","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515385097/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515407193","html_url":"https://github.com/openzipkin/zipkin/pull/2709#issuecomment-515407193","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2709","id":515407193,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTQwNzE5Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T10:48:45Z","updated_at":"2019-07-26T10:48:45Z","author_association":"MEMBER","body":"neat. will test it locally in a bit","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515407193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515441026","html_url":"https://github.com/openzipkin/zipkin/pull/2708#issuecomment-515441026","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2708","id":515441026,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTQ0MTAyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T12:59:48Z","updated_at":"2019-07-26T12:59:48Z","author_association":"MEMBER","body":"things are good!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515441026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515632586","html_url":"https://github.com/openzipkin/zipkin/pull/2709#issuecomment-515632586","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2709","id":515632586,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTYzMjU4Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-27T00:02:55Z","updated_at":"2019-07-27T00:02:55Z","author_association":"MEMBER","body":"thanks for the help here.. will look at other details to see if we can release in the next few days or not!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/515632586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516259238","html_url":"https://github.com/openzipkin/zipkin/issues/2674#issuecomment-516259238","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2674","id":516259238,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI1OTIzOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T04:45:41Z","updated_at":"2019-07-30T04:45:41Z","author_association":"MEMBER","body":"I have tests now for the concerns about the response also https://github.com/openzipkin/zipkin/pull/2711","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516259238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516259454","html_url":"https://github.com/openzipkin/zipkin/issues/2629#issuecomment-516259454","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2629","id":516259454,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI1OTQ1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T04:46:55Z","updated_at":"2019-07-30T04:46:55Z","author_association":"MEMBER","body":"https://issues.apache.org/jira/browse/INFRA-18809 is about getting zipkin.apache.org decommissioned or redirecting or something thx @abesto for raising it","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516259454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516264226","html_url":"https://github.com/openzipkin/zipkin/pull/2656#issuecomment-516264226","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2656","id":516264226,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI2NDIyNg==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T05:10:45Z","updated_at":"2019-07-30T05:10:45Z","author_association":"MEMBER","body":"@adriancole @zeagord \r\nPlease review 🙇 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516264226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516269949","html_url":"https://github.com/openzipkin/zipkin/pull/2656#issuecomment-516269949","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2656","id":516269949,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI2OTk0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T05:37:07Z","updated_at":"2019-07-30T05:37:07Z","author_association":"MEMBER","body":"@tacigar are the screen shots in the description latest?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516269949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516273555","html_url":"https://github.com/openzipkin/zipkin/pull/2656#issuecomment-516273555","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2656","id":516273555,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI3MzU1NQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T05:53:04Z","updated_at":"2019-07-30T05:53:04Z","author_association":"MEMBER","body":"@adriancole yes","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516273555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516276459","html_url":"https://github.com/openzipkin/zipkin/pull/2656#issuecomment-516276459","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2656","id":516276459,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI3NjQ1OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T06:05:07Z","updated_at":"2019-07-30T06:05:07Z","author_association":"MEMBER","body":"can you show trace detail screen? I wonder if root span name is there also","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516276459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516288950","html_url":"https://github.com/openzipkin/zipkin/pull/2656#issuecomment-516288950","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2656","id":516288950,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI4ODk1MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T06:51:26Z","updated_at":"2019-07-30T06:51:26Z","author_association":"MEMBER","body":"epic thanks. cant wait to play","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516288950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516295900","html_url":"https://github.com/openzipkin/zipkin/pull/2656#issuecomment-516295900","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2656","id":516295900,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI5NTkwMA==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T07:15:23Z","updated_at":"2019-07-30T07:15:23Z","author_association":"MEMBER","body":"> can you show trace detail screen? I wonder if root span name is there also\r\n\r\nSorry, not yet 😭 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516295900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516297153","html_url":"https://github.com/openzipkin/zipkin/pull/2656#issuecomment-516297153","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2656","id":516297153,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjI5NzE1Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T07:19:37Z","updated_at":"2019-07-30T07:19:37Z","author_association":"MEMBER","body":"no problem. as @zeagord advises best to do small changes when we can. This is a good foundation for small change later. excellent work","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516297153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516300320","html_url":"https://github.com/openzipkin/zipkin/pull/2711#issuecomment-516300320","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2711","id":516300320,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjMwMDMyMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T07:29:42Z","updated_at":"2019-07-30T07:29:42Z","author_association":"MEMBER","body":"I dare say this is ready.. checking now","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516300320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516300644","html_url":"https://github.com/openzipkin/zipkin/pull/2711#issuecomment-516300644","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2711","id":516300644,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjMwMDY0NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T07:30:42Z","updated_at":"2019-07-30T07:30:42Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin-aws/pull/135 with fingers crossed will now work","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516300644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516305430","html_url":"https://github.com/openzipkin/zipkin/pull/2711#issuecomment-516305430","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2711","id":516305430,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjMwNTQzMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T07:45:29Z","updated_at":"2019-07-30T07:45:29Z","author_association":"MEMBER","body":"meh not completely unwound yet.. false alarm","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516305430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516322017","html_url":"https://github.com/openzipkin/zipkin/issues/2629#issuecomment-516322017","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2629","id":516322017,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjMyMjAxNw==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T08:33:38Z","updated_at":"2019-07-30T08:33:47Z","author_association":"MEMBER","body":"Redirect is up:\r\n\r\n```\r\n$ curl -D- https://zipkin.apache.org/quickstart.html\r\nHTTP/1.1 301 Moved Permanently\r\nDate: Tue, 30 Jul 2019 08:32:06 GMT\r\nServer: Apache/2.4.18 (Ubuntu)\r\nLocation: https://zipkin.io/quickstart.html\r\nContent-Length: 241\r\nContent-Type: text/html; charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\r\n<html><head>\r\n<title>301 Moved Permanently</title>\r\n</head><body>\r\n<h1>Moved Permanently</h1>\r\n<p>The document has moved <a href=\"https://zipkin.io/quickstart.html\">here</a>.</p>\r\n</body></html>\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516322017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516353881","html_url":"https://github.com/openzipkin/zipkin/pull/2711#issuecomment-516353881","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2711","id":516353881,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjM1Mzg4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T10:02:27Z","updated_at":"2019-07-30T10:02:27Z","author_association":"MEMBER","body":"good notes thanks!\n\nOn Tue, Jul 30, 2019, 5:48 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> *@anuraaga* approved this pull request.\n> ------------------------------\n>\n> In\n> zipkin-storage/elasticsearch/src/main/java/zipkin2/elasticsearch/ElasticsearchStorage.java\n> <https://github.com/openzipkin/zipkin/pull/2711#discussion_r308143185>:\n>\n> > @@ -82,21 +58,22 @@\n>      BODY\n>    }\n>\n> -  /**\n> -   * A list of elasticsearch nodes to connect to, in http://host:port or https://host:port format.\n> -   * Note this value is only read once.\n> -   */\n> -  public interface HostsSupplier {\n> -    List<String> get();\n> +  public interface LazyHttpClient extends Supplier<HttpClient>, Closeable {\n> +\n> +    /** If the client has been created, this will close it and any resources used by it. */\n> +    @Override public default void close() throws IOException {\n> +    }\n> +\n> +    /**\n> +     * Lazily creates and instance of the http client configured to the correct elasticsearch host\n>\n> an instance\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/elasticsearch/HostsConverter.java\n> <https://github.com/openzipkin/zipkin/pull/2711#discussion_r308595967>:\n>\n> > + * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n> + * or implied. See the License for the specific language governing permissions and limitations under\n> + * the License.\n> + */\n> +package zipkin2.server.internal.elasticsearch;\n> +\n> +import java.net.URI;\n> +import java.util.Collections;\n> +import java.util.List;\n> +import java.util.logging.Logger;\n> +import java.util.stream.Collectors;\n> +import java.util.stream.Stream;\n> +import zipkin2.elasticsearch.ElasticsearchStorage;\n> +\n> +final class HostsConverter {\n> +  static final Logger LOG = Logger.getLogger(ElasticsearchStorage.class.getName());\n>\n> Realize this was probably copied, but since it's zipkin-server, I think\n> it's supposed to be either log4j2 or slf4j\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/elasticsearch/LazyHttpClientImpl.java\n> <https://github.com/openzipkin/zipkin/pull/2711#discussion_r308625683>:\n>\n> > +    int timeout, HttpLogging httpLogging) {\n> +    this.protocol = protocol;\n> +    this.initialEndpoints = initialEndpoints;\n> +    this.customizers = customizers;\n> +    this.factory = factory;\n> +    this.timeout = timeout;\n> +    this.httpLogging = httpLogging;\n> +  }\n> +\n> +  @Override public void close() {\n> +    EndpointGroup endpointGroup = EndpointGroupRegistry.get(\"elasticsearch\");\n> +    if (endpointGroup != null) {\n> +      endpointGroup.close();\n> +      EndpointGroupRegistry.unregister(\"elasticsearch\");\n> +    }\n> +    factory.close();\n>\n> Could put this in a finally or local try-with-resources in case\n> endpointGroup.close() throws for some reason, though it's extremely\n> careful.\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/elasticsearch/LazyHttpClientImpl.java\n> <https://github.com/openzipkin/zipkin/pull/2711#discussion_r308627828>:\n>\n> > +import com.linecorp.armeria.client.logging.LoggingClientBuilder;\n> +import com.linecorp.armeria.common.HttpHeaders;\n> +import com.linecorp.armeria.common.SessionProtocol;\n> +import com.linecorp.armeria.common.logging.LogLevel;\n> +import java.util.List;\n> +import java.util.concurrent.TimeUnit;\n> +import java.util.function.Consumer;\n> +import java.util.function.Supplier;\n> +import zipkin2.elasticsearch.ElasticsearchStorage.LazyHttpClient;\n> +import zipkin2.server.internal.elasticsearch.ZipkinElasticsearchStorageProperties.HttpLogging;\n> +\n> +import static com.linecorp.armeria.client.endpoint.EndpointSelectionStrategy.ROUND_ROBIN;\n> +\n> +final class LazyHttpClientImpl implements LazyHttpClient {\n> +  final SessionProtocol protocol;\n> +  final Supplier<EndpointGroup> initialEndpoints;\n>\n> Maybe configuredEndpoints - only because this is different than what\n> awaitInitialEndpoints does.\n> ------------------------------\n>\n> In\n> zipkin-server/src/test/java/zipkin2/server/internal/elasticsearch/ITElasticsearchAuth.java\n> <https://github.com/openzipkin/zipkin/pull/2711#discussion_r308630021>:\n>\n> > +import static org.assertj.core.api.Assertions.assertThat;\n> +import static org.junit.Assert.fail;\n> +import static zipkin2.server.internal.elasticsearch.ITElasticsearchHealthCheck.YELLOW_RESPONSE;\n> +import static zipkin2.server.internal.elasticsearch.ZipkinElasticsearchStorageConfiguration.QUALIFIER;\n> +\n> +public class ITElasticsearchAuth {\n> +  static final BlockingQueue<AggregatedHttpRequest> CAPTURED_REQUESTS = new LinkedBlockingQueue<>();\n> +\n> +  @ClassRule public static ServerRule server = new ServerRule() {\n> +    @Override protected void configure(ServerBuilder sb) throws Exception {\n> +      sb.https(0);\n> +      sb.tlsSelfSigned();\n> +\n> +      sb.serviceUnder(\"/\", (ctx, req) -> {\n> +        CompletableFuture<HttpResponse> responseFuture = new CompletableFuture<>();\n> +        req.aggregate().thenAccept(agg -> {\n>\n> Should be equivalent to do\n>\n> CompletableFuture<HttpResponse> responseFuture = req.aggregate().thenApply(agg -> {\n>   ...\n>   return HttpResponse.of(YELLOW_RESPONSE);\n> });\n>\n> and you don't need to worry about exceptionally\n> ------------------------------\n>\n> In\n> zipkin-server/src/test/java/zipkin2/server/internal/elasticsearch/ITElasticsearchAuth.java\n> <https://github.com/openzipkin/zipkin/pull/2711#discussion_r308630485>:\n>\n> > +import static org.assertj.core.api.Assertions.assertThat;\n> +import static org.junit.Assert.fail;\n> +import static zipkin2.server.internal.elasticsearch.ITElasticsearchHealthCheck.YELLOW_RESPONSE;\n> +import static zipkin2.server.internal.elasticsearch.ZipkinElasticsearchStorageConfiguration.QUALIFIER;\n> +\n> +public class ITElasticsearchAuth {\n> +  static final BlockingQueue<AggregatedHttpRequest> CAPTURED_REQUESTS = new LinkedBlockingQueue<>();\n> +\n> +  @ClassRule public static ServerRule server = new ServerRule() {\n> +    @Override protected void configure(ServerBuilder sb) throws Exception {\n> +      sb.https(0);\n> +      sb.tlsSelfSigned();\n> +\n> +      sb.serviceUnder(\"/\", (ctx, req) -> {\n> +        CompletableFuture<HttpResponse> responseFuture = new CompletableFuture<>();\n> +        req.aggregate().thenAccept(agg -> {\n>\n> Though fine to just leave it and possibly update with 0.90\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2711?email_source=notifications&email_token=AAAPVV3JC5BNPH5L4OJ54ELQCAE53A5CNFSM4IHQT3K2YY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOB72GOZI#pullrequestreview-267675493>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV72ZKO34Z42EH4QBRDQCAE53ANCNFSM4IHQT3KQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516353881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516370097","html_url":"https://github.com/openzipkin/zipkin/pull/2713#issuecomment-516370097","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2713","id":516370097,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjM3MDA5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T10:56:02Z","updated_at":"2019-07-30T10:56:02Z","author_association":"MEMBER","body":"cc @openzipkin/core indicate your opinion on this.. we do want to get out of a thrash on the topic. on one hand, yes it isn't statistically significant. on the other hand, it is a different way to navigate to a trace ID.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516370097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516370436","html_url":"https://github.com/openzipkin/zipkin/issues/2636#issuecomment-516370436","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2636","id":516370436,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjM3MDQzNg==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T10:57:13Z","updated_at":"2019-07-30T10:57:13Z","author_association":"MEMBER","body":"I think the scatter graph's popularity in Pinpoint may largely be a case of user familiarity with it, 100% traces, and no limits on search results. None of this is the typical case for Zipkin users.\r\nDue to these things, I still find it misleading for most typical users. I do think it can be helpful in the way described in the issue description, but that's for a user that understands all of these differences.\r\n\r\nIf we agree that the problem described in the issue description (too many steps to get to the traces one wants to find, I think) is a problem worth solving, I'd like to explore potential solutions not limited to a scatter graph, which is just one solution with a lot of other effects to consider.\r\n\r\nIdeally, I'd like to hear from some Zipkin end users on scenarios in which they use Zipkin, run into the described issue, and how we can best optimize that. The context is important. For example, in the scenario given in the issue description:\r\n\r\n> For example, when user's service get a latency problem, if there is not the scatter graph, I think the user operates like the following in UI.\r\n\r\nHow does the user know that a service has a latency problem? I would say probably from an alert based on metrics. That makes me think the previously discussed integration with Grafana is a better place to focus than adding a scatter graph to Zipkin. Metrics which are aggregated from all requests can already be used to produce a heatmap/histogram much more efficiently than Zipkin can right now (if at all). If we can make the step from there (a metrics view) to viewing relevant traces, perhaps the problem is solved without a scatter graph?\r\n\r\nOf course, maybe my assumptions in the scenario are wrong, and certainly there are other solutions, but that's why I would like to get feedback from an end user on the full use case scenario and not limit ourselves to thinking about only solving something with a scatter graph.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516370436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516375713","html_url":"https://github.com/openzipkin/zipkin/pull/2713#issuecomment-516375713","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2713","id":516375713,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjM3NTcxMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T11:15:47Z","updated_at":"2019-07-30T11:15:47Z","author_association":"MEMBER","body":"one thing this does is similar to the new twitter UI. it takes a large amount of space away from viewing results, pushing the eyes down and center.\r\n\r\nI'm wondering if we can revisit this after we add a topological view also simultaneously considered.\r\n\r\nConsidering that is also a view based on aspects including latency I'm wondering if it is really necessary to also add more here. The other problem with adding this is it temps a lot of small adjustments and feature requests like zoom in the scatter etc.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516375713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516402892","html_url":"https://github.com/openzipkin/zipkin/pull/2711#issuecomment-516402892","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2711","id":516402892,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQwMjg5Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T12:45:02Z","updated_at":"2019-07-30T12:45:02Z","author_association":"MEMBER","body":"I've disabled the client-side health checking in an attempt to at least get to something functional as we can't keep holding the whole repo hostage and until things work, that's what's happening.\r\n\r\nagainst a local node, this works except there's one of these things.. aws doesn't work and I can't quite tell why not as logging isn't working.\r\n\r\n```\r\n2019-07-30 20:43:00.095  WARN 12226 --- [-worker-nio-2-1] i.n.u.ReferenceCountUtil                 : Failed to release a message: ByteBufHttpData{buf=PooledUnsafeDirectByteBuf(freed)}\r\n\r\nio.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1\r\n\tat io.netty.util.internal.ReferenceCountUpdater.toLiveRealRefCnt(ReferenceCountUpdater.java:74) ~[netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.util.internal.ReferenceCountUpdater.release(ReferenceCountUpdater.java:138) ~[netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.buffer.AbstractReferenceCountedByteBuf.release(AbstractReferenceCountedByteBuf.java:100) ~[netty-buffer-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat com.linecorp.armeria.unsafe.ByteBufHttpData.release(ByteBufHttpData.java:116) ~[armeria-0.89.0.jar!/:?]\r\n\tat io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:88) ~[netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.util.ReferenceCountUtil.safeRelease(ReferenceCountUtil.java:113) ~[netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat zipkin2.elasticsearch.internal.client.HttpCall.parseResponse(HttpCall.java:193) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.internal.client.HttpCall.lambda$doEnqueue$0(HttpCall.java:125) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:930) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:907) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[?:?]\r\n\tat com.linecorp.armeria.common.HttpMessageAggregator.onComplete(HttpMessageAggregator.java:98) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DeferredStreamMessage$ForwardingSubscriber.onComplete(DeferredStreamMessage.java:326) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.AbstractStreamMessage$CloseEvent.notifySubscriber(AbstractStreamMessage.java:363) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.FixedStreamMessage.notifySubscriberOfCloseEvent(FixedStreamMessage.java:126) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.TwoElementFixedStreamMessage.doNotify(TwoElementFixedStreamMessage.java:110) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.TwoElementFixedStreamMessage.doRequest(TwoElementFixedStreamMessage.java:72) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.FixedStreamMessage.request(FixedStreamMessage.java:88) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.AbstractStreamMessage$SubscriptionImpl.request(AbstractStreamMessage.java:309) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DeferredStreamMessage$ForwardingSubscriber.onSubscribe(DeferredStreamMessage.java:309) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.FixedStreamMessage.subscribe(FixedStreamMessage.java:115) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.AbstractStreamMessage.subscribe(AbstractStreamMessage.java:93) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.AbstractStreamMessage.subscribe(AbstractStreamMessage.java:84) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DeferredStreamMessage.safeOnSubscribeToDelegate(DeferredStreamMessage.java:272) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DeferredStreamMessage.delegate(DeferredStreamMessage.java:118) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.DeferredHttpResponse.delegate(DeferredHttpResponse.java:39) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.HttpResponse.lambda$from$0(HttpResponse.java:74) ~[armeria-0.89.0.jar!/:?]\r\n\tat java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:930) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:907) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[?:?]\r\n\tat com.linecorp.armeria.common.HttpMessageAggregator.onComplete(HttpMessageAggregator.java:98) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.FilteredStreamMessage$FilteringSubscriber.onComplete(FilteredStreamMessage.java:290) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.AbstractStreamMessage$CloseEvent.notifySubscriber(AbstractStreamMessage.java:363) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DefaultStreamMessage.notifySubscriberOfCloseEvent(DefaultStreamMessage.java:194) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DefaultStreamMessage.handleCloseEvent(DefaultStreamMessage.java:363) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DefaultStreamMessage.notifySubscriber0(DefaultStreamMessage.java:306) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DefaultStreamMessage.notifySubscriber(DefaultStreamMessage.java:253) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DefaultStreamMessage.addObjectOrEvent(DefaultStreamMessage.java:239) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DefaultStreamMessage.close(DefaultStreamMessage.java:369) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.HttpResponseDecoder$HttpResponseWrapper.closeAction(HttpResponseDecoder.java:296) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.HttpResponseDecoder$HttpResponseWrapper.close(HttpResponseDecoder.java:279) [armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.HttpResponseDecoder$HttpResponseWrapper.close(HttpResponseDecoder.java:267) [armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.Http1ResponseDecoder.channelRead(Http1ResponseDecoder.java:212) [armeria-0.89.0.jar!/:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:328) [netty-codec-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:302) [netty-codec-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:241) [netty-handler-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.handler.flush.FlushConsolidationHandler.channelRead(FlushConsolidationHandler.java:154) [netty-handler-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287) [netty-handler-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1421) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:697) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:632) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:549) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:511) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:918) [netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516402892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516407173","html_url":"https://github.com/openzipkin/zipkin/pull/2711#issuecomment-516407173","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2711","id":516407173,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQwNzE3Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T12:57:25Z","updated_at":"2019-07-30T12:57:25Z","author_association":"MEMBER","body":"I think the above error is interfering with self-tracing as I don't get any client spans, only the spans above it.\r\n\r\nalso I think there's something about the raw body decorator which is incompatible with the client usage here.. https://github.com/openzipkin/zipkin-aws/pull/135/files#diff-c2299f75862484516908a6b48313a9e1R59\r\n\r\nthis is interfering with my ability to figure out what if anything is wrong with the signature code when sent against the elasticsearch domains endpoint","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516407173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516408030","html_url":"https://github.com/openzipkin/zipkin/pull/2711#issuecomment-516408030","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2711","id":516408030,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQwODAzMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T12:59:50Z","updated_at":"2019-07-30T12:59:50Z","author_association":"MEMBER","body":"even when removing the health check stuff there's still a problem I've not seen in any other http client where we can have no results due to dns lag. it seems possibly a good idea to still block on dns to resolve rather than error DnsAddressEndpointGroup\r\n\r\ncom.linecorp.armeria.client.endpoint.EndpointGroupException: com.linecorp.armeria.client.endpoint.dns.DnsAddressEndpointGroup@7ede1e6a is empty","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516408030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516412337","html_url":"https://github.com/openzipkin/zipkin/pull/2711#issuecomment-516412337","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2711","id":516412337,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQxMjMzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T13:11:50Z","updated_at":"2019-07-30T13:11:50Z","author_association":"MEMBER","body":"ok there's no more problem with DNS crashing requests.\r\n\r\nThe below is still a problem with the reference count thing regardless of local use or not. I will try to hunt which of the changes tripped this\r\n\r\n```\r\n2019-07-30 21:09:28.757  WARN 15594 --- [-worker-nio-2-1] i.n.u.ReferenceCountUtil                 : Failed to release a message: ByteBufHttpData{buf=PooledUnsafeDirectByteBuf(freed)}\r\n\r\nio.netty.util.IllegalReferenceCountException: refCnt: 0, decrement: 1\r\n\tat io.netty.util.internal.ReferenceCountUpdater.toLiveRealRefCnt(ReferenceCountUpdater.java:74) ~[netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.util.internal.ReferenceCountUpdater.release(ReferenceCountUpdater.java:138) ~[netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.buffer.AbstractReferenceCountedByteBuf.release(AbstractReferenceCountedByteBuf.java:100) ~[netty-buffer-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat com.linecorp.armeria.unsafe.ByteBufHttpData.release(ByteBufHttpData.java:116) ~[armeria-0.89.0.jar!/:?]\r\n\tat io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:88) ~[netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.util.ReferenceCountUtil.safeRelease(ReferenceCountUtil.java:113) ~[netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat zipkin2.elasticsearch.internal.client.HttpCall.parseResponse(HttpCall.java:193) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.internal.client.HttpCall.lambda$doEnqueue$0(HttpCall.java:125) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:930) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:907) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[?:?]\r\n\tat com.linecorp.armeria.common.HttpMessageAggregator.onComplete(HttpMessageAggregator.java:98) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DeferredStreamMessage$ForwardingSubscriber.onComplete(DeferredStreamMessage.java:326) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.AbstractStreamMessage$CloseEvent.notifySubscriber(AbstractStreamMessage.java:363) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.FixedStreamMessage.notifySubscriberOfCloseEvent(FixedStreamMessage.java:126) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.TwoElementFixedStreamMessage.doNotify(TwoElementFixedStreamMessage.java:110) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.TwoElementFixedStreamMessage.doRequest(TwoElementFixedStreamMessage.java:72) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.FixedStreamMessage.request(FixedStreamMessage.java:88) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.AbstractStreamMessage$SubscriptionImpl.request(AbstractStreamMessage.java:309) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.DeferredStreamMessage$ForwardingSubscriber.onSubscribe(DeferredStreamMessage.java:309) ~[armeria-0.89.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.stream.FixedStreamMessage.lambda$subscribe$1(FixedStreamMessage.java:117) ~[armeria-0.89.0.jar!/:?]\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163) [netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:416) [netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:515) [netty-transport-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:918) [netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.38.Final.jar!/:4.1.38.Final]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n\r\n``` ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516412337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516419634","html_url":"https://github.com/openzipkin/zipkin/pull/2711#issuecomment-516419634","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2711","id":516419634,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQxOTYzNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T13:31:02Z","updated_at":"2019-07-30T13:31:02Z","author_association":"MEMBER","body":"ok this is now operable. I really don't want any more variables like client health check until aws works again as this effort is bleeding time. Let's do that stuff in a separate PR when the time is right.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516419634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516425510","html_url":"https://github.com/openzipkin/zipkin/pull/2711#issuecomment-516425510","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2711","id":516425510,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQyNTUxMA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T13:45:37Z","updated_at":"2019-07-30T13:45:37Z","author_association":"CONTRIBUTOR","body":"I'll take a look at the signature tomorrow too, hoping just step-debugging the two versions of the signature will be enlightening enough without actually starting something in the cloud.\r\n\r\nWithout the health check, if an endpoint goes down we'll round-robin through them all and fail 1/N of requests as it won't fall back in case of connection failure - I believe the pseudo address set thing allowed it to fallback in case of connection failure. I don't know if this is too much of a regression or affects when the time is right.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516425510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516427444","html_url":"https://github.com/openzipkin/zipkin/issues/2636#issuecomment-516427444","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2636","id":516427444,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQyNzQ0NA==","user":{"login":"jeqo","id":6180701,"node_id":"MDQ6VXNlcjYxODA3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6180701?v=4","gravatar_id":"","url":"https://api.github.com/users/jeqo","html_url":"https://github.com/jeqo","followers_url":"https://api.github.com/users/jeqo/followers","following_url":"https://api.github.com/users/jeqo/following{/other_user}","gists_url":"https://api.github.com/users/jeqo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeqo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeqo/subscriptions","organizations_url":"https://api.github.com/users/jeqo/orgs","repos_url":"https://api.github.com/users/jeqo/repos","events_url":"https://api.github.com/users/jeqo/events{/privacy}","received_events_url":"https://api.github.com/users/jeqo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T13:50:32Z","updated_at":"2019-07-30T14:06:46Z","author_association":"MEMBER","body":"> That makes me think the previously discussed integration with Grafana is a better place to focus than adding a scatter graph to Zipkin.\r\n\r\n@shakuzen do you know if we have an issue/pr/wiki where this is discussed, I'd be interested on helping with this.\r\n\r\nFound some notes here: https://github.com/openzipkin/openzipkin.github.io/wiki/2019-04-17-UX-workshop-and-Lens-GA-planning-at-LINE-Fukuoka","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516427444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516435961","html_url":"https://github.com/openzipkin/zipkin/pull/2711#issuecomment-516435961","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2711","id":516435961,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQzNTk2MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-30T14:10:06Z","updated_at":"2019-07-30T14:10:06Z","author_association":"MEMBER","body":"I've added a backport test of signed output comparing against boto. (`aws --debug es describe-elasticsearch-domain  --domain-name zipkin`)\r\n\r\nhttps://github.com/openzipkin/zipkin-aws/pull/135\r\n\r\nLet's move the conversation there and we can get back to more cleanups and tidies once things are working. thanks for the support","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516435961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516664054","html_url":"https://github.com/openzipkin/zipkin/issues/2636#issuecomment-516664054","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2636","id":516664054,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjY2NDA1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T02:07:44Z","updated_at":"2019-07-31T02:07:44Z","author_association":"MEMBER","body":"not sure we opened an issue because the issue might end up being a new repo\nI guess\nhttps://github.com/openzipkin/openzipkin.github.io/wiki/2019-04-17-UX-workshop-and-Lens-GA-planning-at-LINE-Fukuoka#zipkin-grafana-plugin\n\nOn Tue, Jul 30, 2019 at 9:50 PM Jorge Quilcate Otoya <\nnotifications@github.com> wrote:\n\n> That makes me think the previously discussed integration with Grafana is a\n> better place to focus than adding a scatter graph to Zipkin.\n>\n> @shakuzen <https://github.com/shakuzen> do you know if we have an\n> issue/pr/wiki where this is discussed, I'd be interested on helping with\n> this.\n>\n> —\n> You are receiving this because you are on a team that was mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2636?email_source=notifications&email_token=AAAPVVYWRHPCCQVJKMU37ULQCBBKXA5CNFSM4H2JWGMKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3EA5NA#issuecomment-516427444>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV7RN5XX7LPFFYOJWMTQCBBKXANCNFSM4H2JWGMA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516664054/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516676016","html_url":"https://github.com/openzipkin/zipkin/pull/2713#issuecomment-516676016","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2713","id":516676016,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjY3NjAxNg==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T03:09:59Z","updated_at":"2019-07-31T03:09:59Z","author_association":"MEMBER","body":"Thank you for your feed back @adriancole.\r\n\r\n> one thing this does is similar to the new twitter UI. it takes a large amount of space away from viewing results, pushing the eyes down and center.\r\n\r\nYes I totally agree on this.\r\nBut I think we can set the toggle button as follows.\r\n\r\n![scatter-toggle](https://user-images.githubusercontent.com/19551419/62180209-23dc2700-b38a-11e9-9e7c-8d3e82a4b099.gif)\r\n\r\nThe reason I want a scatter chart is that if we look at the scatter chart we can see at a glance which traces are causing problems with latency.\r\n\r\nOfcourse, I think we can revisit this after adding a topological view.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516676016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516676040","html_url":"https://github.com/openzipkin/zipkin/issues/1725#issuecomment-516676040","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1725","id":516676040,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjY3NjA0MA==","user":{"login":"ZJUgreyhaters","id":18594416,"node_id":"MDQ6VXNlcjE4NTk0NDE2","avatar_url":"https://avatars.githubusercontent.com/u/18594416?v=4","gravatar_id":"","url":"https://api.github.com/users/ZJUgreyhaters","html_url":"https://github.com/ZJUgreyhaters","followers_url":"https://api.github.com/users/ZJUgreyhaters/followers","following_url":"https://api.github.com/users/ZJUgreyhaters/following{/other_user}","gists_url":"https://api.github.com/users/ZJUgreyhaters/gists{/gist_id}","starred_url":"https://api.github.com/users/ZJUgreyhaters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZJUgreyhaters/subscriptions","organizations_url":"https://api.github.com/users/ZJUgreyhaters/orgs","repos_url":"https://api.github.com/users/ZJUgreyhaters/repos","events_url":"https://api.github.com/users/ZJUgreyhaters/events{/privacy}","received_events_url":"https://api.github.com/users/ZJUgreyhaters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T03:10:06Z","updated_at":"2019-07-31T03:10:06Z","author_association":"NONE","body":"What is the corresponding command for “STORAGE_TYPE=mysql MYSQL_USER=root java -jar zipkin.jar” under cmd? I succeeded in Ubuntu, but the cmd in Windows has never been successful.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516676040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516679295","html_url":"https://github.com/openzipkin/zipkin/pull/2713#issuecomment-516679295","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2713","id":516679295,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjY3OTI5NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T03:28:42Z","updated_at":"2019-07-31T03:28:42Z","author_association":"MEMBER","body":"the toggle if collapsed by default could be a way out.\n\n\nspeaking from experience on another topic you should bear in mind. The more\nfeatures we add, the more reliance we are on more hands to do anything. For\nexample, consider if you switched careers because of your love of ramen.\nWhoever maintains the code next needs to maintain every feature we have\nadded. This means a hard choice on what features to add, are they worth it?\nare they worth the next person's time? this is why we try the \"rule of\nthree\" to make sure that others buy-in not just to the idea of if the\nfeature seems nice, but they personally would help with maintainance or\nquestions about it. This paragraph is not saying scatterplot would break\nthe camel's back.. just I'm in a position personally right now of\nreflection and I think we add things faster than we can support them\nsometimes. it is worth considering where we spend effort and how much value\nwe get from unit of maintenance.\n\nOn Wed, Jul 31, 2019 at 11:10 AM tacigar <notifications@github.com> wrote:\n\n> Thank you for your feed back @adriancole <https://github.com/adriancole>.\n>\n> one thing this does is similar to the new twitter UI. it takes a large\n> amount of space away from viewing results, pushing the eyes down and center.\n>\n> Yes I totally agree on this.\n> But I think we can set the toggle button as follows.\n>\n> [image: scatter-toggle]\n> <https://user-images.githubusercontent.com/19551419/62180209-23dc2700-b38a-11e9-9e7c-8d3e82a4b099.gif>\n>\n> The reason I want a scatter chart is that if we look at the scatter chart\n> we can see at a glance which traces are causing problems with latency.\n>\n> Ofcourse, I think we can revisit this after adding a topological view.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2713?email_source=notifications&email_token=AAAPVV5HGZCYHSUKMETSNKLQCD7ATA5CNFSM4IH24I3KYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3F5TMA#issuecomment-516676016>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV3GFLPS2RBLXOLQ7U3QCD7ATANCNFSM4IH24I3A>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516679295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516680001","html_url":"https://github.com/openzipkin/zipkin/issues/1725#issuecomment-516680001","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1725","id":516680001,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjY4MDAwMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T03:32:13Z","updated_at":"2019-07-31T03:32:13Z","author_association":"MEMBER","body":"The key is this uses environment (system) variables. Ex in powershell\nthey need to be on separate lines\n\nSTORAGE_TYPE=mysql\nMYSQL_USER=root\njava -jar zipkin.jar\n\nIn cmd I think you need to use SET command. feel free to ask more on\ngitter https://gitter.im/openzipkin/zipkin\n\n\nOn Wed, Jul 31, 2019 at 11:10 AM Coldman <notifications@github.com> wrote:\n>\n> What is the corresponding command for “STORAGE_TYPE=mysql MYSQL_USER=root java -jar zipkin.jar” under cmd? I succeeded in Ubuntu, but the cmd in Windows has never been successful.\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516680001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516687670","html_url":"https://github.com/openzipkin/zipkin/issues/2697#issuecomment-516687670","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2697","id":516687670,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjY4NzY3MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T04:15:14Z","updated_at":"2019-07-31T04:15:14Z","author_association":"MEMBER","body":"very good start here https://github.com/line/armeria/pull/1938","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516687670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516724099","html_url":"https://github.com/openzipkin/zipkin/issues/1962#issuecomment-516724099","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1962","id":516724099,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjcyNDA5OQ==","user":{"login":"Sinchana94","id":53509136,"node_id":"MDQ6VXNlcjUzNTA5MTM2","avatar_url":"https://avatars.githubusercontent.com/u/53509136?v=4","gravatar_id":"","url":"https://api.github.com/users/Sinchana94","html_url":"https://github.com/Sinchana94","followers_url":"https://api.github.com/users/Sinchana94/followers","following_url":"https://api.github.com/users/Sinchana94/following{/other_user}","gists_url":"https://api.github.com/users/Sinchana94/gists{/gist_id}","starred_url":"https://api.github.com/users/Sinchana94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sinchana94/subscriptions","organizations_url":"https://api.github.com/users/Sinchana94/orgs","repos_url":"https://api.github.com/users/Sinchana94/repos","events_url":"https://api.github.com/users/Sinchana94/events{/privacy}","received_events_url":"https://api.github.com/users/Sinchana94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T06:59:28Z","updated_at":"2019-07-31T07:17:23Z","author_association":"NONE","body":"The client application with spring boot version 2.0 .x, is configured with sleuth-zipkin and when http request made it's logging the trace id in console, but same trace id in zipkin server is not found. Any suggestions ?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516724099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516729038","html_url":"https://github.com/openzipkin/zipkin/issues/1962#issuecomment-516729038","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1962","id":516729038,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjcyOTAzOA==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T07:17:16Z","updated_at":"2019-07-31T07:17:16Z","author_association":"MEMBER","body":"> The client application with spring boot version 2.0 .x, is configured with sleuth-zipkin and when http request made it's logging the trace id in console, but same trace id in zipkin server is not found. Any suggestions ?\r\n\r\n@Sinchana94 This question is unrelated to this GitHub issue. Please use the Spring Cloud Sleuth chat on Gitter at https://gitter.im/spring-cloud/spring-cloud-sleuth. Probably the trace is not sampled and so it is not reported to Zipkin.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516729038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516756413","html_url":"https://github.com/openzipkin/zipkin/issues/1962#issuecomment-516756413","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1962","id":516756413,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjc1NjQxMw==","user":{"login":"Sinchana94","id":53509136,"node_id":"MDQ6VXNlcjUzNTA5MTM2","avatar_url":"https://avatars.githubusercontent.com/u/53509136?v=4","gravatar_id":"","url":"https://api.github.com/users/Sinchana94","html_url":"https://github.com/Sinchana94","followers_url":"https://api.github.com/users/Sinchana94/followers","following_url":"https://api.github.com/users/Sinchana94/following{/other_user}","gists_url":"https://api.github.com/users/Sinchana94/gists{/gist_id}","starred_url":"https://api.github.com/users/Sinchana94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sinchana94/subscriptions","organizations_url":"https://api.github.com/users/Sinchana94/orgs","repos_url":"https://api.github.com/users/Sinchana94/repos","events_url":"https://api.github.com/users/Sinchana94/events{/privacy}","received_events_url":"https://api.github.com/users/Sinchana94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T08:43:08Z","updated_at":"2019-07-31T08:43:08Z","author_association":"NONE","body":"> > The client application with spring boot version 2.0 .x, is configured with sleuth-zipkin and when http request made it's logging the trace id in console, but same trace id in zipkin server is not found. Any suggestions ?\r\n> \r\n> @Sinchana94 This question is unrelated to this GitHub issue. Please use the Spring Cloud Sleuth chat on Gitter at https://gitter.im/spring-cloud/spring-cloud-sleuth. Probably the trace is not sampled and so it is not reported to Zipkin.\r\n\r\nThanks @shakuzen will post the query there, However the exportable field is true in log","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516756413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516756749","html_url":"https://github.com/openzipkin/zipkin/issues/2720#issuecomment-516756749","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2720","id":516756749,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjc1Njc0OQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T08:44:01Z","updated_at":"2019-07-31T08:44:01Z","author_association":"CONTRIBUTOR","body":"I think we should have flags to disable health check and configure the check interval (default is 3s). We'll export the health check status to micrometer. \r\n\r\nOkhttp is cool in falling back to the next IP in a DNS response if connect fails but Armeria currently doesn't. We're currently working on a big redesign to combine endpoint selection and connection acquisition at which point I think that becomes somewhat simple to implement but it will take some time.\r\n\r\nSo there isn't really any option not to issue http requests from an armeria endpoint group for now, and the above flags should keep it manageable I think.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516756749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516759948","html_url":"https://github.com/openzipkin/zipkin/issues/2544#issuecomment-516759948","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2544","id":516759948,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjc1OTk0OA==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T08:53:26Z","updated_at":"2019-07-31T08:53:26Z","author_association":"MEMBER","body":"Closing this as Zipkin has withdrawn from the Apache Incubator.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516759948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516760728","html_url":"https://github.com/openzipkin/zipkin/pull/2398#issuecomment-516760728","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2398","id":516760728,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjc2MDcyOA==","user":{"login":"nopeno","id":312275,"node_id":"MDQ6VXNlcjMxMjI3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/312275?v=4","gravatar_id":"","url":"https://api.github.com/users/nopeno","html_url":"https://github.com/nopeno","followers_url":"https://api.github.com/users/nopeno/followers","following_url":"https://api.github.com/users/nopeno/following{/other_user}","gists_url":"https://api.github.com/users/nopeno/gists{/gist_id}","starred_url":"https://api.github.com/users/nopeno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nopeno/subscriptions","organizations_url":"https://api.github.com/users/nopeno/orgs","repos_url":"https://api.github.com/users/nopeno/repos","events_url":"https://api.github.com/users/nopeno/events{/privacy}","received_events_url":"https://api.github.com/users/nopeno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T08:55:47Z","updated_at":"2019-07-31T08:55:47Z","author_association":"NONE","body":"when i installed elasticsearch 7.2.0, i got:\r\n\r\nfailed to put template [zipkin:span_template]\r\njava.lang.IllegalArgumentException: Setting index.mapper.dynamic was removed after version 6.0.0\r\n        at org.elasticsearch.index.mapper.MapperService.<init>(MapperService.java:161) ~[elasticsearch-7.2.0.jar:7.2.0]\r\n        at org.elasticsearch.index.IndexService.<init>(IndexService.java:175) ~[elasticsearch-7.2.0.jar:7.2.0]\r\n        at org.elasticsearch.index.IndexModule.newIndexService(IndexModule.java:399) ~[elasticsearch-7.2.0.jar:7.\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516760728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516762012","html_url":"https://github.com/openzipkin/zipkin/pull/2398#issuecomment-516762012","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2398","id":516762012,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjc2MjAxMg==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T08:59:17Z","updated_at":"2019-07-31T08:59:17Z","author_association":"MEMBER","body":"@nopeno it would be better to chat on Gitter, since this is an already merged pull request. Please make sure you're using the latest version of the Zipkin Server, and if you're still having issues, let us know at https://gitter.im/openzipkin/zipkin","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516762012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516770519","html_url":"https://github.com/openzipkin/zipkin/issues/2720#issuecomment-516770519","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2720","id":516770519,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjc3MDUxOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T09:22:30Z","updated_at":"2019-07-31T09:22:30Z","author_association":"MEMBER","body":"sounds good 3s default to kill switch works for me.\n\nOn Wed, Jul 31, 2019, 4:44 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> I think we should have flags to disable health check and configure the\n> check interval (default is 3s). We'll export the health check status to\n> micrometer.\n>\n> Okhttp is cool in falling back to the next IP in a DNS response if connect\n> fails but Armeria currently doesn't. We're currently working on a big\n> redesign to combine endpoint selection and connection acquisition at which\n> point I think that becomes somewhat simple to implement but it will take\n> some time.\n>\n> So there isn't really any option not to issue http requests from an\n> armeria endpoint group for now, and the above flags should keep it\n> manageable I think.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2720?email_source=notifications&email_token=AAAPVVYEXVYEVVPZ7KEREHDQCFGFHA5CNFSM4IIDZPXKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3GRKDI#issuecomment-516756749>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV7NIFVZE7JMCFJRKHLQCFGFHANCNFSM4IIDZPXA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516770519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516912637","html_url":"https://github.com/openzipkin/zipkin/issues/2714#issuecomment-516912637","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2714","id":516912637,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjkxMjYzNw==","user":{"login":"Logic-32","id":25107222,"node_id":"MDQ6VXNlcjI1MTA3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/25107222?v=4","gravatar_id":"","url":"https://api.github.com/users/Logic-32","html_url":"https://github.com/Logic-32","followers_url":"https://api.github.com/users/Logic-32/followers","following_url":"https://api.github.com/users/Logic-32/following{/other_user}","gists_url":"https://api.github.com/users/Logic-32/gists{/gist_id}","starred_url":"https://api.github.com/users/Logic-32/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Logic-32/subscriptions","organizations_url":"https://api.github.com/users/Logic-32/orgs","repos_url":"https://api.github.com/users/Logic-32/repos","events_url":"https://api.github.com/users/Logic-32/events{/privacy}","received_events_url":"https://api.github.com/users/Logic-32/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-31T16:00:10Z","updated_at":"2019-07-31T16:00:10Z","author_association":"CONTRIBUTOR","body":"Not quite up to speed with the new Elasticsearch code, can you provide some more details on how to reproduce this?  E.g. versions, rough order of events that have to occur?\r\n\r\nMostly, I want to just make sure that an UnprocessedRequestException actually follows the model of \"the server was overloaded\" and not something as simple as \"our node got taken offline while we were trying to use it so we need to try again on a different node\" (assuming \"dynamic endpoints\" means were talking about an elastic cluster).","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/516912637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517087654","html_url":"https://github.com/openzipkin/zipkin/issues/2714#issuecomment-517087654","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2714","id":517087654,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA4NzY1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T01:59:39Z","updated_at":"2019-08-01T01:59:39Z","author_association":"MEMBER","body":"@Logic-32 let's let behavior drive this. Are you saying that when no hosts are available you would let the calls crash?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517087654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517088006","html_url":"https://github.com/openzipkin/zipkin/issues/2714#issuecomment-517088006","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2714","id":517088006,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA4ODAwNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T02:01:18Z","updated_at":"2019-08-01T02:01:18Z","author_association":"MEMBER","body":"no hosts available is because nothing passed elasticsearch health check at the moment, so if we decide to act differently, it should make sense. Ex why do we back off when the busy queue is full, but not when the health check is red. It is ok to drop, just when the next person asks we need to refer to this discussion","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517088006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517093537","html_url":"https://github.com/openzipkin/zipkin/issues/2714#issuecomment-517093537","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2714","id":517093537,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA5MzUzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T02:30:04Z","updated_at":"2019-08-01T02:30:04Z","author_association":"MEMBER","body":"I opened https://github.com/openzipkin/zipkin/issues/2721 for doing work to not depend on RejectedExecutionException as I think arguing about a wrapped message is not fruitful","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517093537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517093874","html_url":"https://github.com/openzipkin/zipkin/pull/2719#issuecomment-517093874","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2719","id":517093874,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA5Mzg3NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T02:31:48Z","updated_at":"2019-08-01T02:31:48Z","author_association":"MEMBER","body":"I would rather not merge this vs add a wrapped message as where I sit on gitter support I really have no desire to have to translate this from memory into the actual problem #2721 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517093874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517094049","html_url":"https://github.com/openzipkin/zipkin/pull/2718#issuecomment-517094049","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2718","id":517094049,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzA5NDA0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T02:32:56Z","updated_at":"2019-08-01T02:32:56Z","author_association":"MEMBER","body":"raised #2721 about nervousness about use of wrappers. someone who feels strongly can pony time to solve it and then revert this.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517094049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517131382","html_url":"https://github.com/openzipkin/zipkin/issues/2721#issuecomment-517131382","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2721","id":517131382,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzEzMTM4Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T05:55:57Z","updated_at":"2019-08-01T05:55:57Z","author_association":"MEMBER","body":"I forgot we are java 8 on this side of the code.\r\n\r\nsimplest is to add a predicate to storage component which defaults to instance of rejected execution\r\n\r\nthat keeps rules closest to code","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517131382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517149182","html_url":"https://github.com/openzipkin/zipkin/pull/2719#issuecomment-517149182","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2719","id":517149182,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzE0OTE4Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T07:02:35Z","updated_at":"2019-08-01T07:02:35Z","author_association":"MEMBER","body":"cool thanks! merging and will add a low priority but merge any time change to allow use of exception types other than Rejected","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517149182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517151021","html_url":"https://github.com/openzipkin/zipkin/pull/2719#issuecomment-517151021","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2719","id":517151021,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzE1MTAyMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T07:08:04Z","updated_at":"2019-08-01T07:08:04Z","author_association":"MEMBER","body":"cool thanks! merging and will add a low priority but merge any time change to allow use of exception types other than Rejected","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517151021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517164534","html_url":"https://github.com/openzipkin/zipkin/issues/2721#issuecomment-517164534","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2721","id":517164534,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzE2NDUzNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T07:44:49Z","updated_at":"2019-08-01T07:44:49Z","author_association":"MEMBER","body":"ideally, this or some version of it fixes the problem and keeps rationale close to the code https://github.com/openzipkin/zipkin/pull/2723","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517164534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517172637","html_url":"https://github.com/openzipkin/zipkin/pull/2724#issuecomment-517172637","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2724","id":517172637,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzE3MjYzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T08:05:49Z","updated_at":"2019-08-01T08:05:49Z","author_association":"MEMBER","body":"hmm weird it worked before","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517172637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517301363","html_url":"https://github.com/openzipkin/zipkin/issues/2714#issuecomment-517301363","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2714","id":517301363,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzMwMTM2Mw==","user":{"login":"Logic-32","id":25107222,"node_id":"MDQ6VXNlcjI1MTA3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/25107222?v=4","gravatar_id":"","url":"https://api.github.com/users/Logic-32","html_url":"https://github.com/Logic-32","followers_url":"https://api.github.com/users/Logic-32/followers","following_url":"https://api.github.com/users/Logic-32/following{/other_user}","gists_url":"https://api.github.com/users/Logic-32/gists{/gist_id}","starred_url":"https://api.github.com/users/Logic-32/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Logic-32/subscriptions","organizations_url":"https://api.github.com/users/Logic-32/orgs","repos_url":"https://api.github.com/users/Logic-32/repos","events_url":"https://api.github.com/users/Logic-32/events{/privacy}","received_events_url":"https://api.github.com/users/Logic-32/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T14:02:21Z","updated_at":"2019-08-01T14:02:21Z","author_association":"CONTRIBUTOR","body":"> why do we back off when the busy queue is full, but not when the health check is red\r\n\r\nThe point of throttling is to slow your throughput in order to make sure we don't overwhelm storage.  If storage is dead, it doesn't matter how slow we go, it won't be able to store anything.  We also don't ever slow to 0 so messages will continue to drop while it is down.  I suppose you could argue that storage \"could revive\", in which case, the buffered items should be persisted.  But this is just my 2 cents. If it is decided that buffering while storage is dead is acceptable then I won't argue against it :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517301363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517302604","html_url":"https://github.com/openzipkin/zipkin/issues/2714#issuecomment-517302604","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2714","id":517302604,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzMwMjYwNA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-01T14:05:26Z","updated_at":"2019-08-01T14:05:26Z","author_association":"CONTRIBUTOR","body":"I agree with you :) But have crossed the burnout line so prefer to make changes without thinking too much. If there's a better approach I'm happy to help review it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517302604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517507407","html_url":"https://github.com/openzipkin/zipkin/issues/2714#issuecomment-517507407","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2714","id":517507407,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzUwNzQwNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T00:54:00Z","updated_at":"2019-08-02T00:54:00Z","author_association":"MEMBER","body":"your comments make total sense, craig. I think you (luckily) missed some\ncontext that there are sometimes where blips of unavailability occur and it\nwould seem the same for the reasons you earlier mentioned. If things are\nsuper down, the bounding of the queue should sort it out (drop all).\n\nAlso, the context missed .. or maybe not missed heh.. is what Rag said, we\nare super dead right now. Maybe this leads to nervousness to not drop on\nblips found a day or two ago, or reduce the effort of hunting errors which\nwas super real this last week.  This context prioritizes these perhaps\nartificially more than others.\n\nEven more foreground is that the server hasn't released in ages (in zipkin\nyears), and also no one finished the exception handling from when this\nfeature started (ex no one looked at cassandra). So there's a pressure to\ncomplete things also, and not letting best be enemy of good, especially\nwhen probably no one will give feedback on the cassandra stuff.\n\nAnyway sorry for curtness, but I agree with Rag on let's make room for\ngetting server releasable. Strong feeling will need BYO(change) because we\nare dead tired.\n\nOn Thu, Aug 1, 2019 at 10:02 PM Logic-32 <notifications@github.com> wrote:\n\n> why do we back off when the busy queue is full, but not when the health\n> check is red\n>\n> The point of throttling is to slow your throughput in order to make sure\n> we don't overwhelm storage. If storage is dead, it doesn't matter how slow\n> we go, it won't be able to store anything. We also don't ever slow to 0 so\n> messages will continue to drop while it is down. I suppose you could argue\n> that storage \"could revive\", in which case, the buffered items should be\n> persisted. But this is just my 2 cents. If it is decided that buffering\n> while storage is dead is acceptable then I won't argue against it :)\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2714?email_source=notifications&email_token=AAAPVV57YVPYQN4QRKN745LQCLUG7A5CNFSM4IH57QRKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3KWI4Y#issuecomment-517301363>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV2NWKK7YMOQQDYRBJLQCLUG7ANCNFSM4IH57QRA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517507407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517518256","html_url":"https://github.com/openzipkin/zipkin/pull/2725#issuecomment-517518256","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2725","id":517518256,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzUxODI1Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T01:57:50Z","updated_at":"2019-08-02T01:57:50Z","author_association":"MEMBER","body":"cc @anuraaga @Logic-32 @meltsufin I think maybe you've seen some of this in the past.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517518256/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517526329","html_url":"https://github.com/openzipkin/zipkin/pull/2726#issuecomment-517526329","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2726","id":517526329,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzUyNjMyOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T02:43:58Z","updated_at":"2019-08-02T02:43:58Z","author_association":"MEMBER","body":"I like this so much better.\r\n\r\nI've never been a fan of taking screen real-estate to show the trace ID which is already in the window url, but I know some have asked for it in the past. Is the trace ID displayed on screen anywhere else?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517526329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517533901","html_url":"https://github.com/openzipkin/zipkin/pull/2726#issuecomment-517533901","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2726","id":517533901,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzUzMzkwMQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T03:28:45Z","updated_at":"2019-08-02T03:28:45Z","author_association":"MEMBER","body":"No, it is not displayed now.\r\nI will once again consider the header design of the Trace page.\r\nPlease wait a little.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517533901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517541703","html_url":"https://github.com/openzipkin/zipkin/pull/2723#issuecomment-517541703","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2723","id":517541703,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzU0MTcwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T04:17:59Z","updated_at":"2019-08-02T04:17:59Z","author_association":"MEMBER","body":"as this is public api affecting, will let this sit a bit","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517541703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517656551","html_url":"https://github.com/openzipkin/zipkin/pull/2729#issuecomment-517656551","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2729","id":517656551,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzY1NjU1MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T10:49:27Z","updated_at":"2019-08-02T10:49:27Z","author_association":"MEMBER","body":"tried with amazon and it looks like a win\r\n\r\nslow one\r\n\r\n![Screenshot 2019-08-02 at 6 47 24 PM](https://user-images.githubusercontent.com/64215/62365228-268b7780-b556-11e9-9d52-77fe1f18f42e.png)\r\n\r\nfast one\r\n\r\n![Screenshot 2019-08-02 at 6 49 09 PM](https://user-images.githubusercontent.com/64215/62365261-3d31ce80-b556-11e9-9519-dff1146fae87.png)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517656551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517716591","html_url":"https://github.com/openzipkin/zipkin/issues/2714#issuecomment-517716591","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2714","id":517716591,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzcxNjU5MQ==","user":{"login":"Logic-32","id":25107222,"node_id":"MDQ6VXNlcjI1MTA3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/25107222?v=4","gravatar_id":"","url":"https://api.github.com/users/Logic-32","html_url":"https://github.com/Logic-32","followers_url":"https://api.github.com/users/Logic-32/followers","following_url":"https://api.github.com/users/Logic-32/following{/other_user}","gists_url":"https://api.github.com/users/Logic-32/gists{/gist_id}","starred_url":"https://api.github.com/users/Logic-32/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Logic-32/subscriptions","organizations_url":"https://api.github.com/users/Logic-32/orgs","repos_url":"https://api.github.com/users/Logic-32/repos","events_url":"https://api.github.com/users/Logic-32/events{/privacy}","received_events_url":"https://api.github.com/users/Logic-32/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T14:14:09Z","updated_at":"2019-08-02T14:14:09Z","author_association":"CONTRIBUTOR","body":"No worries, thanks for the context!  I like the official support in StorageComponent for `isOverCapacity` now btw :)  Go get some rest if you can!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517716591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517728939","html_url":"https://github.com/openzipkin/zipkin/issues/2714#issuecomment-517728939","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2714","id":517728939,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzcyODkzOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T14:48:16Z","updated_at":"2019-08-02T14:48:16Z","author_association":"MEMBER","body":"thx on my way ;)\n\nOn Fri, Aug 2, 2019, 10:14 PM Logic-32 <notifications@github.com> wrote:\n\n> No worries, thanks for the context! I like the official support in\n> StorageComponent for isOverCapacity now btw :) Go get some rest if you\n> can!\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2714?email_source=notifications&email_token=AAAPVV3H4LLH7MNGFTHPIQTQCQ6LHA5CNFSM4IH57QRKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3N3U3Y#issuecomment-517716591>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV366P7C37LXS33ZSO3QCQ6LHANCNFSM4IH57QRA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517728939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517729306","html_url":"https://github.com/openzipkin/zipkin/issues/2622#issuecomment-517729306","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2622","id":517729306,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzcyOTMwNg==","user":{"login":"RestfulBlue","id":32250229,"node_id":"MDQ6VXNlcjMyMjUwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/32250229?v=4","gravatar_id":"","url":"https://api.github.com/users/RestfulBlue","html_url":"https://github.com/RestfulBlue","followers_url":"https://api.github.com/users/RestfulBlue/followers","following_url":"https://api.github.com/users/RestfulBlue/following{/other_user}","gists_url":"https://api.github.com/users/RestfulBlue/gists{/gist_id}","starred_url":"https://api.github.com/users/RestfulBlue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RestfulBlue/subscriptions","organizations_url":"https://api.github.com/users/RestfulBlue/orgs","repos_url":"https://api.github.com/users/RestfulBlue/repos","events_url":"https://api.github.com/users/RestfulBlue/events{/privacy}","received_events_url":"https://api.github.com/users/RestfulBlue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T14:49:14Z","updated_at":"2019-08-02T14:49:14Z","author_association":"NONE","body":"i also hope such functionality will appear, \r\nfor example jaeger also has that feature\r\nhttps://miro.medium.com/max/2625/1*W6OGeCA1unSqQfPIZq7VGg.png","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517729306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517877795","html_url":"https://github.com/openzipkin/zipkin/pull/2726#issuecomment-517877795","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2726","id":517877795,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzg3Nzc5NQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-03T00:19:42Z","updated_at":"2019-08-03T00:19:42Z","author_association":"MEMBER","body":"PTAL 🙇 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517877795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517952811","html_url":"https://github.com/openzipkin/zipkin/issues/2701#issuecomment-517952811","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2701","id":517952811,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk1MjgxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-03T20:33:24Z","updated_at":"2019-08-03T20:33:24Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/2731 is a first step as it ports the basic dependency linker used in spark jobs to javascript","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517952811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517952815","html_url":"https://github.com/openzipkin/zipkin/issues/2622#issuecomment-517952815","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2622","id":517952815,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk1MjgxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-03T20:33:28Z","updated_at":"2019-08-03T20:33:28Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/2731 is a first step as it ports the basic dependency linker used in spark jobs to javascript","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517952815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517952823","html_url":"https://github.com/openzipkin/zipkin/issues/2230#issuecomment-517952823","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2230","id":517952823,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk1MjgyMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-03T20:33:34Z","updated_at":"2019-08-03T20:33:34Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/2731 is a first step as it ports the basic dependency linker used in spark jobs to javascript","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517952823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517954160","html_url":"https://github.com/openzipkin/zipkin/pull/2116#issuecomment-517954160","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2116","id":517954160,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk1NDE2MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-03T20:56:45Z","updated_at":"2019-08-03T20:56:45Z","author_association":"MEMBER","body":"I think we can pick this back up in javascript after #2731","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517954160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517971420","html_url":"https://github.com/openzipkin/zipkin/pull/2732#issuecomment-517971420","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2732","id":517971420,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk3MTQyMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T03:49:45Z","updated_at":"2019-08-04T03:49:45Z","author_association":"MEMBER","body":"Results make sense now. The whole point of the pending change to use rate-limited sampler was to be able to safely trace post requests. Now, you can see that the local (self-tracing) metrics match expectations. In this case a 100s burst of traces and we end up with 204 spans (102 traces).\r\n\r\n<img width=\"565\" alt=\"Screenshot 2019-08-04 at 1 46 30 PM\" src=\"https://user-images.githubusercontent.com/64215/62419226-c6a7e480-b6ad-11e9-9448-13dfff83bc03.png\">\r\n<img width=\"986\" alt=\"Screenshot 2019-08-04 at 1 48 06 PM\" src=\"https://user-images.githubusercontent.com/64215/62419227-c871a800-b6ad-11e9-84f4-0b2b8fb2be9a.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517971420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517976140","html_url":"https://github.com/openzipkin/zipkin/issues/2733#issuecomment-517976140","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2733","id":517976140,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzk3NjE0MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-04T05:51:30Z","updated_at":"2019-08-04T05:51:30Z","author_association":"MEMBER","body":"disregard, this isn't repeatable enough. I just turn on debug logging and have had 3 clean runs with no drops. I do see some issues in tracing of throttled stuff, though, but I'll carry that on somewhere else","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/517976140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518048335","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518048335","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518048335,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA0ODMzNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T00:17:48Z","updated_at":"2019-08-05T00:17:48Z","author_association":"MEMBER","body":"PS the reason I want this is to be able to run full self-tracing under load. This will help identify what exactly caused errors that drop spans due to rejection. This is really hard to figure out without tracing.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518048335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518049224","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518049224","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518049224,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA0OTIyNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T00:27:59Z","updated_at":"2019-08-05T00:27:59Z","author_association":"MEMBER","body":"here's a trace where you can see blocking at play:\r\n\r\n<img width=\"984\" alt=\"Screenshot 2019-08-05 at 12 25 32 PM\" src=\"https://user-images.githubusercontent.com/64215/62431521-b6017800-b75a-11e9-81c4-05a47d44e9e9.png\">\r\n\r\nzoomed to the place where you can see the issue\r\n<img width=\"981\" alt=\"Screenshot 2019-08-05 at 12 25 48 PM\" src=\"https://user-images.githubusercontent.com/64215/62431523-b863d200-b75a-11e9-8486-d738a120c1cd.png\">\r\n\r\nNote @shakuzen @tacigar this is a good example of a trace that has very few spans, but still needs zoom. I take back <10 being good for removing mini-map, if it also means removing zoom. That said, if I could re-root the throttled span, it would be fine in this case!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518049224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518049746","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518049746","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518049746,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA0OTc0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T00:33:49Z","updated_at":"2019-08-05T00:33:49Z","author_association":"MEMBER","body":"very interesting that the self-tracing of the \"accept-spans\" command takes so long to complete... doesn't quite make sense to me at the moment, but it is a lot later than the storage call..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518049746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518050139","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518050139","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518050139,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA1MDEzOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T00:38:14Z","updated_at":"2019-08-05T00:38:14Z","author_association":"MEMBER","body":"the long time for \"accept-spans\" to return is a different topic I think, possibly it is because of reading the body. depends on how the client trace is instrumented. Ex this is without throttling..\r\n\r\n<img width=\"979\" alt=\"Screenshot 2019-08-05 at 12 36 42 PM\" src=\"https://user-images.githubusercontent.com/64215/62431719-5b691b80-b75c-11e9-8627-7ed494bf0ae7.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518050139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518056610","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518056610","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518056610,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA1NjYxMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T01:40:08Z","updated_at":"2019-08-05T01:40:08Z","author_association":"MEMBER","body":"looks like here blocking could be an intended side-effect of the limiter listener. adding a commit about it, and also adding metrics because it is currently invisible when any capacity errors occur.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518056610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518059560","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518059560","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518059560,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA1OTU2MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T02:02:06Z","updated_at":"2019-08-05T02:02:06Z","author_association":"MEMBER","body":"ahh much better\r\n\r\n```bash\r\n$ curl -sSL localhost:9411/prometheus|grep throttle|grep 0\r\nzipkin_storage_throttle_requests_succeeded_total 16224.0\r\nzipkin_storage_throttle_requests_dropped_total 0.0\r\nzipkin_storage_throttle_requests_ignored_total 0.0\r\nzipkin_storage_throttle_in_flight_requests 4.0\r\nzipkin_storage_throttle_queue_size 0.0\r\nzipkin_storage_throttle_requests_total 16228.0\r\nzipkin_storage_throttle_concurrency 10.0\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518059560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518062204","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518062204","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518062204,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA2MjIwNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T02:20:39Z","updated_at":"2019-08-05T02:20:39Z","author_association":"MEMBER","body":"and finally have a problem to investigate!\r\n\r\n<img width=\"988\" alt=\"Screenshot 2019-08-05 at 2 19 45 PM\" src=\"https://user-images.githubusercontent.com/64215/62434378-9bcf9600-b76a-11e9-8773-a7cd235f5bc5.png\">\r\n\r\n\r\nbut metrics show no drops\r\n```\r\ncurl -sSL localhost:9411/prometheus|grep throttle|grep 0\r\nzipkin_storage_throttle_in_flight_requests 0.0\r\nzipkin_storage_throttle_requests_dropped_total 0.0\r\nzipkin_storage_throttle_requests_ignored_total 3825.0\r\nzipkin_storage_throttle_concurrency 10.0\r\nzipkin_storage_throttle_requests_total 37026.0\r\nzipkin_storage_throttle_requests_succeeded_total 33201.0\r\nzipkin_storage_throttle_queue_size 0.0\r\n```\r\n\r\nwhich tells me there's a classification problem somewhere..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518062204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518067649","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518067649","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518067649,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA2NzY0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T02:55:34Z","updated_at":"2019-08-05T02:55:34Z","author_association":"MEMBER","body":"I added a custom error parser to figure out what the exception was about..\r\n\r\n```\r\n+      .errorParser(new ErrorParser() {\r\n+                     @Override protected void error(Throwable error, Object span) {\r\n+                       String className = error.getClass().getSimpleName();\r\n+                       String message = error.getMessage();\r\n+                       if (message == null) {\r\n+                         message = className + \"(\" + message + \")\";\r\n+                       } else {\r\n+                         message = className;\r\n+                       }\r\n+                       StringWriter sw = new StringWriter();\r\n+                       PrintWriter pw = new PrintWriter(sw);\r\n+                       error.printStackTrace(pw);\r\n+                       tag(span, \"error\", message);\r\n+                       tag(span, \"error.stack\", sw.toString());\r\n+                     }\r\n+                   }\r\n+      )\r\n```\r\n\r\nLooks like were hitting an exception at the storage layer, just not a remote one. I'll patch the code to also consider load errors one enqueue:\r\n\r\n<img width=\"756\" alt=\"Screenshot 2019-08-05 at 2 54 25 PM\" src=\"https://user-images.githubusercontent.com/64215/62435655-8a3cbd00-b76f-11e9-819f-6e401164cc66.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518067649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518068132","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518068132","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518068132,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA2ODEzMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T02:58:39Z","updated_at":"2019-08-05T03:09:30Z","author_association":"MEMBER","body":"nevermind, there's an existing note about this.. while the name armeria is there, the actual thread pool was the one from the throttle component itself.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518068132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518068322","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518068322","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518068322,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA2ODMyMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T02:59:47Z","updated_at":"2019-08-05T02:59:47Z","author_association":"MEMBER","body":"I think the best way to ensure this is working is to change elasticsearch to have a much shorter run queue","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518068322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518077815","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518077815","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518077815,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA3NzgxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T04:04:32Z","updated_at":"2019-08-05T04:04:32Z","author_association":"MEMBER","body":"putting this down a bit, but feeling positive!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518077815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518081531","html_url":"https://github.com/openzipkin/zipkin/pull/2736#issuecomment-518081531","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2736","id":518081531,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA4MTUzMQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T04:30:29Z","updated_at":"2019-08-05T04:32:01Z","author_association":"MEMBER","body":"### Current state\r\n\r\n* Use SVG for trace graph\r\n* Fix page header\r\n* Add trace tree lines\r\n\r\n<img width=\"1440\" alt=\"Screenshot 2019-08-05 13 26 19\" src=\"https://user-images.githubusercontent.com/19551419/62438936-aeef5f80-b784-11e9-8a58-e94ccb882623.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518081531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518107642","html_url":"https://github.com/openzipkin/zipkin/pull/2736#issuecomment-518107642","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2736","id":518107642,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODEwNzY0Mg==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T06:46:15Z","updated_at":"2019-08-05T06:46:15Z","author_association":"MEMBER","body":"### Current State\r\n\r\n* Add span detail on the right side of the page.\r\n\r\nIn #2525 , I said that I wanted to set the span details on the right side of the page.\r\nAnd I got some feedback about it.\r\nAs a result of thinking, by providing a button to collapse the span details, now I think that the point of concerns may be resolved.\r\n\r\n<img width=\"1440\" alt=\"Screenshot 2019-08-05 15 26 26\" src=\"https://user-images.githubusercontent.com/19551419/62443328-99cefc80-b795-11e9-9234-9a076110966c.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518107642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518424419","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518424419","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518424419,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQyNDQxOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T22:25:13Z","updated_at":"2019-08-05T22:25:13Z","author_association":"MEMBER","body":"more later but a couple thoughts.. thanks for the feedback.\n\n\n The problem in the async reporter stating traces is presence of the global\nsampler. unless the global sampler is set to always deny, a call starting\nfrom a reporter thread will sample subject to the rate limit. this is\nbecause it is not a client span rather a local one. we can change this by\nmoving the rate limiter to inside the http sampler and set the global one\nto deny. this will rid need of that thread check stuff in our case.\n\nregardless some of this defensiveness is to also rid that warning message\nfrom armeria's currenttracecontext instance. There will be request scoped\nstuff happening alongside not request scoped. any case of the latter.. even\nunsampled will trigger that darned message. haven't thought about how to\nget rid of it in a better way that literally removing instrumentation.\n\nOn Mon, Aug 5, 2019, 7:12 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> *@anuraaga* commented on this pull request.\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/brave/TracingConfiguration.java\n> <https://github.com/openzipkin/zipkin/pull/2735#discussion_r310455262>:\n>\n> > @@ -51,9 +51,16 @@\n>  @EnableConfigurationProperties(SelfTracingProperties.class)\n>  @ConditionalOnSelfTracing\n>  public class TracingConfiguration {\n> +  static volatile Thread reporterThread;\n>\n> While bean's are generally singleton, it seems highly unusual to save into\n> a static variable from a bean constructor.\n>\n> I think I'd at least go ahead and make another bean holder, something like\n>\n> static class ReporterThreadFactory implements ThreadFactory {\n>   volatile Thread reporterThread;\n>\n>   public Thread newThread(Runnable r) {\n>      if (reporterThread != null) throw?\n>      return reporterThread = new Thread(r);\n>   }\n>\n>   public boolean isSpanReporterThread() {\n>     return Thread.currentThread() == reporterThread;\n>   }\n> }\n>\n> Then areas that want to know if it's a span reporter thread can inject\n> this bean and call the method.\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/brave/TracingStorageComponent.java\n> <https://github.com/openzipkin/zipkin/pull/2735#discussion_r310455590>:\n>\n> > @@ -165,6 +167,8 @@ public TracingStorageComponent(Tracing tracing, StorageComponent delegate) {\n>      }\n>\n>      @Override public Call<Void> accept(List<Span> spans) {\n> +      Call<Void> call = delegate.accept(spans);\n> +      if (isSpanReporterThread()) return call;\n>\n> I'm probably wrong but I thought since we don't sample client spans, calls\n> from the span reporter thread wouldn't be sampled anyways, they originate\n> from the flush thread not server requests. Why is this check necessary?\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/throttle/LimiterMetrics.java\n> <https://github.com/openzipkin/zipkin/pull/2735#discussion_r310456166>:\n>\n> > + * or implied. See the License for the specific language governing permissions and limitations under\n> + * the License.\n> + */\n> +package zipkin2.server.internal.throttle;\n> +\n> +import com.netflix.concurrency.limits.Limiter.Listener;\n> +import io.micrometer.core.instrument.Counter;\n> +import io.micrometer.core.instrument.MeterRegistry;\n> +import zipkin2.collector.CollectorMetrics;\n> +\n> +/** Follows the same naming convention as {@link CollectorMetrics} */\n> +final class LimiterMetrics {\n> +  final Counter requests, requestsSucceeded, requestsIgnored, requestsDropped;\n> +\n> +  final Listener wrap(Listener delegate) {\n> +    return new Listener() {\n>\n> Maybe want to override toString\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/throttle/ThrottledCall.java\n> <https://github.com/openzipkin/zipkin/pull/2735#discussion_r310460602>:\n>\n> >      }\n>\n> +    /**\n> +     * This awaits callback completion in order to slow down (throttle) calls.\n>\n> It took me a while to follow how the throtlling works - to confirm, is it\n> because the callbacks are run on a fixed number of threads? And the reason\n> to use an Executor is to have both a limit on concurrent calls and\n> control on the size of queued tasks, whereas a semaphore like the old ES\n> implementation only handles concurrent? I think this makes sense just\n> confirming my understanding.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2735?email_source=notifications&email_token=AAAPVV2N73ROXIG5IBQ3X7DQC7HG3A5CNFSM4IJGSGO2YY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOCAQLPHA#pullrequestreview-270579612>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV2IXTSW7X6HP6YMEYTQC7HG3ANCNFSM4IJGSGOQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518424419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518425344","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518425344","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518425344,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQyNTM0NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T22:28:57Z","updated_at":"2019-08-05T22:28:57Z","author_association":"MEMBER","body":"I guess one way is to disable the logger but still I would like to figure\nout a way to have things that aren't request originated not trigger the\n\"contextAware\" warning. something as simple as checking if a span exists\nwill trip it.\n\nOn Tue, Aug 6, 2019, 10:25 AM Adrian Cole <adrian.f.cole@gmail.com> wrote:\n\n> more later but a couple thoughts.. thanks for the feedback.\n>\n>\n>  The problem in the async reporter stating traces is presence of the\n> global sampler. unless the global sampler is set to always deny, a call\n> starting from a reporter thread will sample subject to the rate limit. this\n> is because it is not a client span rather a local one. we can change this\n> by moving the rate limiter to inside the http sampler and set the global\n> one to deny. this will rid need of that thread check stuff in our case.\n>\n> regardless some of this defensiveness is to also rid that warning message\n> from armeria's currenttracecontext instance. There will be request scoped\n> stuff happening alongside not request scoped. any case of the latter.. even\n> unsampled will trigger that darned message. haven't thought about how to\n> get rid of it in a better way that literally removing instrumentation.\n>\n> On Mon, Aug 5, 2019, 7:12 PM Anuraag Agrawal <notifications@github.com>\n> wrote:\n>\n>> *@anuraaga* commented on this pull request.\n>> ------------------------------\n>>\n>> In\n>> zipkin-server/src/main/java/zipkin2/server/internal/brave/TracingConfiguration.java\n>> <https://github.com/openzipkin/zipkin/pull/2735#discussion_r310455262>:\n>>\n>> > @@ -51,9 +51,16 @@\n>>  @EnableConfigurationProperties(SelfTracingProperties.class)\n>>  @ConditionalOnSelfTracing\n>>  public class TracingConfiguration {\n>> +  static volatile Thread reporterThread;\n>>\n>> While bean's are generally singleton, it seems highly unusual to save\n>> into a static variable from a bean constructor.\n>>\n>> I think I'd at least go ahead and make another bean holder, something like\n>>\n>> static class ReporterThreadFactory implements ThreadFactory {\n>>   volatile Thread reporterThread;\n>>\n>>   public Thread newThread(Runnable r) {\n>>      if (reporterThread != null) throw?\n>>      return reporterThread = new Thread(r);\n>>   }\n>>\n>>   public boolean isSpanReporterThread() {\n>>     return Thread.currentThread() == reporterThread;\n>>   }\n>> }\n>>\n>> Then areas that want to know if it's a span reporter thread can inject\n>> this bean and call the method.\n>> ------------------------------\n>>\n>> In\n>> zipkin-server/src/main/java/zipkin2/server/internal/brave/TracingStorageComponent.java\n>> <https://github.com/openzipkin/zipkin/pull/2735#discussion_r310455590>:\n>>\n>> > @@ -165,6 +167,8 @@ public TracingStorageComponent(Tracing tracing, StorageComponent delegate) {\n>>      }\n>>\n>>      @Override public Call<Void> accept(List<Span> spans) {\n>> +      Call<Void> call = delegate.accept(spans);\n>> +      if (isSpanReporterThread()) return call;\n>>\n>> I'm probably wrong but I thought since we don't sample client spans,\n>> calls from the span reporter thread wouldn't be sampled anyways, they\n>> originate from the flush thread not server requests. Why is this check\n>> necessary?\n>> ------------------------------\n>>\n>> In\n>> zipkin-server/src/main/java/zipkin2/server/internal/throttle/LimiterMetrics.java\n>> <https://github.com/openzipkin/zipkin/pull/2735#discussion_r310456166>:\n>>\n>> > + * or implied. See the License for the specific language governing permissions and limitations under\n>> + * the License.\n>> + */\n>> +package zipkin2.server.internal.throttle;\n>> +\n>> +import com.netflix.concurrency.limits.Limiter.Listener;\n>> +import io.micrometer.core.instrument.Counter;\n>> +import io.micrometer.core.instrument.MeterRegistry;\n>> +import zipkin2.collector.CollectorMetrics;\n>> +\n>> +/** Follows the same naming convention as {@link CollectorMetrics} */\n>> +final class LimiterMetrics {\n>> +  final Counter requests, requestsSucceeded, requestsIgnored, requestsDropped;\n>> +\n>> +  final Listener wrap(Listener delegate) {\n>> +    return new Listener() {\n>>\n>> Maybe want to override toString\n>> ------------------------------\n>>\n>> In\n>> zipkin-server/src/main/java/zipkin2/server/internal/throttle/ThrottledCall.java\n>> <https://github.com/openzipkin/zipkin/pull/2735#discussion_r310460602>:\n>>\n>> >      }\n>>\n>> +    /**\n>> +     * This awaits callback completion in order to slow down (throttle) calls.\n>>\n>> It took me a while to follow how the throtlling works - to confirm, is it\n>> because the callbacks are run on a fixed number of threads? And the reason\n>> to use an Executor is to have both a limit on concurrent calls and\n>> control on the size of queued tasks, whereas a semaphore like the old ES\n>> implementation only handles concurrent? I think this makes sense just\n>> confirming my understanding.\n>>\n>> —\n>> You are receiving this because you authored the thread.\n>> Reply to this email directly, view it on GitHub\n>> <https://github.com/openzipkin/zipkin/pull/2735?email_source=notifications&email_token=AAAPVV2N73ROXIG5IBQ3X7DQC7HG3A5CNFSM4IJGSGO2YY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOCAQLPHA#pullrequestreview-270579612>,\n>> or mute the thread\n>> <https://github.com/notifications/unsubscribe-auth/AAAPVV2IXTSW7X6HP6YMEYTQC7HG3ANCNFSM4IJGSGOQ>\n>> .\n>>\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518425344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518486827","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518486827","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518486827,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQ4NjgyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T03:51:16Z","updated_at":"2019-08-06T03:51:16Z","author_association":"MEMBER","body":"disabled the logger vs keep digging a hole and piling up beans around the log reporter thread. https://github.com/line/armeria/issues/1964 should help us discuss what to do. I don't think zipkin server will be the only app using both request-originated traffic and also not. We need to work out a good solution, but for now disabling the log vs adding spaghetti.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518486827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518495728","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518495728","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518495728,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQ5NTcyOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T04:39:51Z","updated_at":"2019-08-06T04:39:51Z","author_association":"MEMBER","body":"hmm I have never taken on faith that a one thread writing a value (ex\nArmeria's blocking thread pool) will be available for reading by a\ndifferent thread (ex this different thread pool) without synchronization\nvolatile or otherwise.\n\n@trustin @anuraaga would you be comfortable with this? I can learn just\nthis is new to me.. I would be tempted to say which JVMs provide flush\nguarantees as currently we work with jre 1.8 plus and this is the first\ntime I am hearing about this shortcut...\n\n\nOn Tue, Aug 6, 2019, 4:23 PM Logic-32 <notifications@github.com> wrote:\n\n> *@Logic-32* commented on this pull request.\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/throttle/ThrottledCall.java\n> <https://github.com/openzipkin/zipkin/pull/2735#discussion_r310876255>:\n>\n> >    }\n>\n>    @Override public String toString() {\n>      return \"Throttled(\" + delegate + \")\";\n>    }\n>\n> -  static String setCurrentThreadName(String name) {\n> -    Thread thread = Thread.currentThread();\n> -    String originalName = thread.getName();\n> -    thread.setName(name);\n> -    return originalName;\n> +  static final class AwaitableCallback implements Callback<Void> {\n> +    final CountDownLatch countDown = new CountDownLatch(1);\n> +    final AtomicReference<Throwable> throwable = new AtomicReference<>();\n>\n> You can consider volatile though I personally wouldn't. I believe the\n> semantics around Threads and variable assignment are safe enough that the\n> assignment of that value should resolve before attempting to read it.\n> Simply because the Thread doing the read is waiting for the entire writing\n> Thread to finish before progressing. So the write implictly has to succeed\n> before the read will even be attempted. Assuming of course that this is\n> only used in doExecute().\n>\n> Normally, volatile variables are used where there is a high likelihood of\n> near-concurrent read/write. Which again, I don't think is the case here.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2735?email_source=notifications&email_token=AAAPVVYQLXSH3NSSZD3F3E3QDD4EXA5CNFSM4IJGSGO2YY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOCAUMZ3Q#discussion_r310876255>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV2CJLF7CNFYN2K4HMTQDD4EXANCNFSM4IJGSGOQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518495728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518496112","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518496112","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518496112,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQ5NjExMg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T04:42:17Z","updated_at":"2019-08-06T04:42:17Z","author_association":"CONTRIBUTOR","body":"As my comment, I'm comfortable with it. It's well documented by `CountDownLatch`. Without such documentation, I would generally err on safety though.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518496112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518496830","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518496830","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518496830,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQ5NjgzMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T04:46:07Z","updated_at":"2019-08-06T04:46:07Z","author_association":"MEMBER","body":"good point on happens before, and sorry to hijack this as a programming\nlesson for me but in the name of me spreading to others.. does happens\nbefore imply the same as flush? closest trick I have seen to a cheap\nrendezvous was a single length array used with the same.. just never yet\nheard that timing implies flush to other threads yet\n\nOn Tue, Aug 6, 2019, 4:42 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> As my comment, I'm comfortable with it. It's well documented by\n> CountDownLatch. Without such documentation, I would generally err on\n> safety though.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2735?email_source=notifications&email_token=AAAPVV7HFQY7HFCC4UQUIOTQDD6KXA5CNFSM4IJGSGO2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3TZ64A#issuecomment-518496112>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV6GXPPQ34YD4MW3MHLQDD6KXANCNFSM4IJGSGOQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518496830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518497326","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518497326","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518497326,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQ5NzMyNg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T04:48:31Z","updated_at":"2019-08-06T04:48:31Z","author_association":"CONTRIBUTOR","body":"Yup - happens-before is JDK jargon for implying memory is flushed so subsequent reads definitely see it.\r\n\r\nMore details are in this well written summary, probably a good read - https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/package-summary.html#MemoryVisibility","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518497326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518498699","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518498699","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518498699,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQ5ODY5OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T04:53:54Z","updated_at":"2019-08-06T04:53:54Z","author_association":"MEMBER","body":"thanks for bearing with me guys. I now know more than before and will\nhappily clean out other overly defensive things\n\nOn Tue, Aug 6, 2019, 4:48 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> Yup - happens-before is JDK jargon for implying memory is flushed so\n> subsequent reads definitely see it.\n>\n> More details are in this well written summary, probably a good read -\n> https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/package-summary.html#MemoryVisibility\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2735?email_source=notifications&email_token=AAAPVV3R774HGUIAAGJCX4LQDD7CBA5CNFSM4IJGSGO2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3T2ILQ#issuecomment-518497326>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV6EVA2AWQUX6LKU5BLQDD7CBANCNFSM4IJGSGOQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518498699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518583003","html_url":"https://github.com/openzipkin/zipkin/pull/2735#issuecomment-518583003","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2735","id":518583003,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODU4MzAwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T09:09:43Z","updated_at":"2019-08-06T09:09:43Z","author_association":"MEMBER","body":"cheers for the hard look folks. I'm mostly offline tomorrow but I think we're close to a release. Maybe we can wait for armeria 0.90 if it is soon.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518583003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518606793","html_url":"https://github.com/openzipkin/zipkin/issues/2565#issuecomment-518606793","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2565","id":518606793,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODYwNjc5Mw==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T10:13:29Z","updated_at":"2019-08-06T10:13:29Z","author_association":"MEMBER","body":"@jorgheymans could you recheck this when you get a chance?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518606793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]