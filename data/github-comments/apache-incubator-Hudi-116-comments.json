[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813103178","html_url":"https://github.com/apache/hudi/issues/2696#issuecomment-813103178","issue_url":"https://api.github.com/repos/apache/hudi/issues/2696","id":813103178,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzEwMzE3OA==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-04T21:37:28Z","updated_at":"2021-04-04T21:37:28Z","author_association":"NONE","body":"> @kimberlyamandalu Yes, you should be able to switch off your metadata table without any side-effect. Although, if you want to later turn on the metadata table, you will need to delete data under `basepath/.hoodie/metadata`. Once the metadata folder is empty, you can toggle the metadata back on and things will work fine.\r\n> There is a change to do this automatically in master now but for your case to debug the issue, I would recommend just deleting the metadata folder.\r\n> \r\n> Sure, I can help you with making the changes so you can build it and deploy the custom build. Before turning the metadata table `off`, you should make the following changes, deploy your custom build and get the logs because once you turn the metadata table `off` and then `on` the problem may not be reproducible.\r\n> \r\n> 1. Checkout the 0.7.0 release tag by doing `git checkout tags/version 0.7.0`\r\n> 2. Add a bunch of logs to the following method -> https://github.com/apache/hudi/blob/release-0.7.0/hudi-timeline-service/src/main/java/org/apache/hudi/timeline/service/FileSystemViewHandler.java#L342. We ideally want to know which line of code is throwing the runtime exception and why. So, add logs before and after at any method invocation inside will be helpful.\r\n> 3. Run the following command : mvn clean package -DskipTests\r\n> 4. New bundle jars will be available under package/*. Use these new bundle jars to deploy and run to collect logs.\r\n\r\nThanks @n3nash \r\nI have added some additional print outs and I think I got an exception message. The stack trace is still not getting spit out though. I will keep trying to get a better error output but for the meantime, wanted to send you this info asap.\r\nLooks like it is failing on some http request...\r\n\r\n21/04/04 18:28:35 ERROR FileSystemViewHandler: StackTrace:\r\n--\r\n21/04/04 18:28:35 ERROR FileSystemViewHandler: Exception message: Unable to execute HTTP request: The target server failed to respond\r\n21/04/04 18:28:35 ERROR FileSystemViewHandler: Got runtime exception servicing request partition=message_year%3D2017%2Fmessage_month%3D9&maxinstant=20210404152412&basepath=s3%3A%2F%2Fmybucket%2myprefix%2Fmydb%2Fmytable%2F&lastinstantts=20210404172501&timelinehash=1ed939c1abc03590b2f0efbbabea706ca8aef931fdb496732cddaffed5a2b552\r\n21/04/04 18:28:35 WARN ExceptionMapper: Uncaught exception\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813103178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813111663","html_url":"https://github.com/apache/hudi/issues/1786#issuecomment-813111663","issue_url":"https://api.github.com/repos/apache/hudi/issues/1786","id":813111663,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzExMTY2Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-04T22:54:54Z","updated_at":"2021-04-04T22:54:54Z","author_association":"CONTRIBUTOR","body":"Closing this due to inactivity. Feel free to reopen to create a new ticket if you need help. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813111663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813112202","html_url":"https://github.com/apache/hudi/issues/1757#issuecomment-813112202","issue_url":"https://api.github.com/repos/apache/hudi/issues/1757","id":813112202,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzExMjIwMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-04T22:59:30Z","updated_at":"2021-04-04T23:00:35Z","author_association":"CONTRIBUTOR","body":"Hudi also has an optimized version of bulk insert with row writing which is ~30 to 40% faster than regular bulk_insert. You can enable this by setting this config \"hoodie.datasource.write.row.writer.enable\" to true. \r\nAlso, we have 3 different sort modes in bulk_inserts. https://hudi.apache.org/docs/configurations.html#withBulkInsertSortMode\r\nFeel free to play around these config knobs for better perf.\r\nClosing this due to no activity. But feel free to reach out to us if you need more help. Happy to assist you. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813112202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813175861","html_url":"https://github.com/apache/hudi/issues/2637#issuecomment-813175861","issue_url":"https://api.github.com/repos/apache/hudi/issues/2637","id":813175861,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzE3NTg2MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T04:33:39Z","updated_at":"2021-04-05T04:33:39Z","author_association":"CONTRIBUTOR","body":"We can close out this issue as we have a tracking jira and a PR being actively reviewed. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813175861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813177853","html_url":"https://github.com/apache/hudi/issues/2760#issuecomment-813177853","issue_url":"https://api.github.com/repos/apache/hudi/issues/2760","id":813177853,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzE3Nzg1Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T04:42:11Z","updated_at":"2021-04-05T04:42:11Z","author_association":"CONTRIBUTOR","body":"CC @garyli1019 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813177853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813194180","html_url":"https://github.com/apache/hudi/issues/2743#issuecomment-813194180","issue_url":"https://api.github.com/repos/apache/hudi/issues/2743","id":813194180,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzE5NDE4MA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T05:31:04Z","updated_at":"2021-04-05T05:31:04Z","author_association":"CONTRIBUTOR","body":"Yeah, we don't recommend deleting partitions outside of hudi. Hudi support insert_override operation. But not sure if it can just delete partition w/o ingesting any data. \r\n@satishkotha : Is there a way to trigger deletion of a partition w/o any ingestion? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813194180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813194590","html_url":"https://github.com/apache/hudi/issues/2760#issuecomment-813194590","issue_url":"https://api.github.com/repos/apache/hudi/issues/2760","id":813194590,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzE5NDU5MA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T05:32:11Z","updated_at":"2021-04-05T05:32:11Z","author_association":"CONTRIBUTOR","body":"Closing the GH issue as we have tracking jira. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813194590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813353690","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-813353690","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":813353690,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzM1MzY5MA==","user":{"login":"ssdong","id":3754011,"node_id":"MDQ6VXNlcjM3NTQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3754011?v=4","gravatar_id":"","url":"https://api.github.com/users/ssdong","html_url":"https://github.com/ssdong","followers_url":"https://api.github.com/users/ssdong/followers","following_url":"https://api.github.com/users/ssdong/following{/other_user}","gists_url":"https://api.github.com/users/ssdong/gists{/gist_id}","starred_url":"https://api.github.com/users/ssdong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssdong/subscriptions","organizations_url":"https://api.github.com/users/ssdong/orgs","repos_url":"https://api.github.com/users/ssdong/repos","events_url":"https://api.github.com/users/ssdong/events{/privacy}","received_events_url":"https://api.github.com/users/ssdong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T11:43:22Z","updated_at":"2021-04-05T11:43:22Z","author_association":"CONTRIBUTOR","body":"@jsbali Thanks!\r\nCan someone grant me permission to self-assign tickets in JIRA? \r\nI've emailed to `dev@hudi.apache.org` but haven't been approved yet. ðŸ˜… It requires actions from a PMC member... ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813353690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813447613","html_url":"https://github.com/apache/hudi/issues/2756#issuecomment-813447613","issue_url":"https://api.github.com/repos/apache/hudi/issues/2756","id":813447613,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzQ0NzYxMw==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T15:15:42Z","updated_at":"2021-04-05T15:15:42Z","author_association":"CONTRIBUTOR","body":"The same behaviour is seen for both snapshot query over spark and hive query over _rt table, since both of them uses same read path.\r\n\r\nTo be more specific, the issue seems to be in class `AbstractHoodieLogRecordScanner`, method `createHoodieRecord`.\r\n\r\nHere we are creating HoodieRecord from IndexRecord without ordering val, and hence setting orderingVal=0 for all Records, irrespective of PayloadClass used.\r\n\r\nI'm thinking about getting precombine field from hoodie meta client and use that as orderingVal while creating the Hoodie Record. Does it sound fine?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813447613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813450681","html_url":"https://github.com/apache/hudi/issues/2743#issuecomment-813450681","issue_url":"https://api.github.com/repos/apache/hudi/issues/2743","id":813450681,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzQ1MDY4MQ==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T15:21:31Z","updated_at":"2021-04-05T15:21:31Z","author_association":"CONTRIBUTOR","body":"I think the ideal way should be around compactor and cleaner. \r\nTime based cleaner and filtering records with older commit time while compacting base file should solve the issue.\r\n\r\nIf there's a workaround using any delete option, please let me know.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813450681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813454595","html_url":"https://github.com/apache/hudi/pull/2762#issuecomment-813454595","issue_url":"https://api.github.com/repos/apache/hudi/issues/2762","id":813454595,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzQ1NDU5NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T15:29:09Z","updated_at":"2021-04-05T15:29:09Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of https://github.com/apache/hudi/pull/2765","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813454595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813477549","html_url":"https://github.com/apache/hudi/issues/2508#issuecomment-813477549","issue_url":"https://api.github.com/repos/apache/hudi/issues/2508","id":813477549,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzQ3NzU0OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T16:11:54Z","updated_at":"2021-04-05T16:11:54Z","author_association":"CONTRIBUTOR","body":"@rubenssoto : can you give us avro schema for which you are running into issues. You can change col names for privacy is required. Or better, if you know which field is exactly having issues, let us know. for eg: is it array (record with list of strings) or something of this sort. I mean, you don't need to give us the full schema, just the fields that are having issues. If you can't narrow down, nvm. give us the entire schema. we can investigate. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813477549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813499168","html_url":"https://github.com/apache/hudi/issues/2508#issuecomment-813499168","issue_url":"https://api.github.com/repos/apache/hudi/issues/2508","id":813499168,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzQ5OTE2OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T16:50:27Z","updated_at":"2021-04-05T16:50:27Z","author_association":"CONTRIBUTOR","body":"For eg: I tried array of records with some fields, and it looks good w/ bulk insert and row writer enabled. \r\n```\r\n{\r\n  \"type\" : \"record\",\r\n  \"name\" : \"triprec\",\r\n  \"fields\" : [ {\r\n    \"name\" : \"timestamp\",\r\n    \"type\" : \"long\"\r\n  }, {\r\n    \"name\" : \"_row_key\",\r\n    \"type\" : \"string\"\r\n  }, {\r\n    \"name\" : \"rider\",\r\n    \"type\" : \"string\"\r\n  }, {\r\n    \"name\" : \"tip_history\",\r\n    \"type\" : {\r\n      \"type\" : \"array\",\r\n      \"items\" : {\r\n        \"type\" : \"record\",\r\n        \"name\" : \"tip_history\",\r\n        \"fields\" : [ {\r\n          \"name\" : \"amount\",\r\n          \"type\" : \"double\"\r\n        }, {\r\n          \"name\" : \"currency\",\r\n          \"type\" : \"string\"\r\n        } ]\r\n      },\r\n      \"default\" : [ ]\r\n    }\r\n  } ]\r\n}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813499168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813522558","html_url":"https://github.com/apache/hudi/issues/2756#issuecomment-813522558","issue_url":"https://api.github.com/repos/apache/hudi/issues/2756","id":813522558,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzUyMjU1OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T17:32:25Z","updated_at":"2021-04-05T17:32:25Z","author_association":"CONTRIBUTOR","body":"yes, you are right. we do have a bug here w/ DefaultHoodieRecordPayload. With OverwriteWithLatestAvroPayload, we always choose the latest and so we didn't have this issue. DefaultHoodieRecordPayload class is something which was added in last few months and hence we didn't catch this. thanks for flagging this. \r\nbtw, DefaultHoodieRecordPayload uses a diff config named \"hoodie.payload.ordering.field\" to resolve combineAndGetUpdate. \r\n\r\nYour approach seems fine to me. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813522558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813524391","html_url":"https://github.com/apache/hudi/issues/2756#issuecomment-813524391","issue_url":"https://api.github.com/repos/apache/hudi/issues/2756","id":813524391,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzUyNDM5MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T17:35:31Z","updated_at":"2021-04-05T17:35:31Z","author_association":"CONTRIBUTOR","body":"Have filed a tracking [jira](https://issues.apache.org/jira/browse/HUDI-1763). Feel free to raise a PR :) once again, thanks for raising it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813524391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813568836","html_url":"https://github.com/apache/hudi/issues/2743#issuecomment-813568836","issue_url":"https://api.github.com/repos/apache/hudi/issues/2743","id":813568836,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzU2ODgzNg==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T18:43:35Z","updated_at":"2021-04-05T18:43:45Z","author_association":"MEMBER","body":"@nsivabalan  @aditiwari01  We actually introduced a delete_partition operation. See https://github.com/apache/hudi/blob/master/hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java#L46 \r\n\r\nI *think* this can be called on empty dataframe (I havent tested it). \r\nLooks like documentation is missing for this. @nsivabalan Could you open a ticket.\r\n\r\ncc: @lw309637554 who implemented this API.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813568836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813594629","html_url":"https://github.com/apache/hudi/pull/2520#issuecomment-813594629","issue_url":"https://api.github.com/repos/apache/hudi/issues/2520","id":813594629,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzU5NDYyOQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T19:23:30Z","updated_at":"2021-04-05T19:23:30Z","author_association":"CONTRIBUTOR","body":"@Xoln : when do you think you can address the feedback. Do ping me here once its ready to be reviewed again. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813594629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813597747","html_url":"https://github.com/apache/hudi/pull/2769#issuecomment-813597747","issue_url":"https://api.github.com/repos/apache/hudi/issues/2769","id":813597747,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzU5Nzc0Nw==","user":{"login":"vingov","id":1142498,"node_id":"MDQ6VXNlcjExNDI0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1142498?v=4","gravatar_id":"","url":"https://api.github.com/users/vingov","html_url":"https://github.com/vingov","followers_url":"https://api.github.com/users/vingov/followers","following_url":"https://api.github.com/users/vingov/following{/other_user}","gists_url":"https://api.github.com/users/vingov/gists{/gist_id}","starred_url":"https://api.github.com/users/vingov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vingov/subscriptions","organizations_url":"https://api.github.com/users/vingov/orgs","repos_url":"https://api.github.com/users/vingov/repos","events_url":"https://api.github.com/users/vingov/events{/privacy}","received_events_url":"https://api.github.com/users/vingov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T19:27:46Z","updated_at":"2021-04-05T19:27:46Z","author_association":"CONTRIBUTOR","body":"@nsivabalan - Addressed the review comments and the build has passed as well, please merge this PR if everything looks good to you.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813597747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813599428","html_url":"https://github.com/apache/hudi/pull/2753#issuecomment-813599428","issue_url":"https://api.github.com/repos/apache/hudi/issues/2753","id":813599428,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzU5OTQyOA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-05T19:31:06Z","updated_at":"2021-04-05T19:31:06Z","author_association":"CONTRIBUTOR","body":"@li36909 : Did you verify that both hudi's internal classes and user defined classes were able to successfully instantiated via reflection w/ the fix. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813599428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813758506","html_url":"https://github.com/apache/hudi/issues/2623#issuecomment-813758506","issue_url":"https://api.github.com/repos/apache/hudi/issues/2623","id":813758506,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzc1ODUwNg==","user":{"login":"root18039532923","id":45333549,"node_id":"MDQ6VXNlcjQ1MzMzNTQ5","avatar_url":"https://avatars.githubusercontent.com/u/45333549?v=4","gravatar_id":"","url":"https://api.github.com/users/root18039532923","html_url":"https://github.com/root18039532923","followers_url":"https://api.github.com/users/root18039532923/followers","following_url":"https://api.github.com/users/root18039532923/following{/other_user}","gists_url":"https://api.github.com/users/root18039532923/gists{/gist_id}","starred_url":"https://api.github.com/users/root18039532923/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/root18039532923/subscriptions","organizations_url":"https://api.github.com/users/root18039532923/orgs","repos_url":"https://api.github.com/users/root18039532923/repos","events_url":"https://api.github.com/users/root18039532923/events{/privacy}","received_events_url":"https://api.github.com/users/root18039532923/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T01:29:53Z","updated_at":"2021-04-06T01:29:53Z","author_association":"NONE","body":"> @root18039532923 Not sure if you're asking how to package this but leaving a comment here if that's what you are referring to.\r\n> \r\n> 1. Do a git checkout of the 0.7.0 tag. `git checkout tags/version 0.7.0`\r\n> 2. Patch the change in the [657e73f](https://github.com/apache/hudi/commit/657e73f9b157a1ed4d6e6e515ae8f63156061b88) to your checked out tag.\r\n> 3. Re-build the packages using command `mvn clean package -DskipTests`\r\n> \r\n> Now use these new packages and test out your deployment.\r\n\r\nokay,I know this. What asked is how to remove \"awaiting-user-response\" and   add \"awaiting-community-help\" label. @nsivabalan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813758506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813765155","html_url":"https://github.com/apache/hudi/issues/2743#issuecomment-813765155","issue_url":"https://api.github.com/repos/apache/hudi/issues/2743","id":813765155,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzc2NTE1NQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T01:51:58Z","updated_at":"2021-04-06T01:51:58Z","author_association":"CONTRIBUTOR","body":"> @nsivabalan @aditiwari01 We actually introduced a delete_partition operation. See https://github.com/apache/hudi/blob/master/hudi-common/src/main/java/org/apache/hudi/common/model/WriteOperationType.java#L46\r\n> \r\n> I _think_ this can be called on empty dataframe (I havent tested it).\r\n> Looks like documentation is missing for this. @nsivabalan Could you open a ticket.\r\n> \r\n> cc: @lw309637554 who implemented this API.\r\n\r\n@aditiwari01 \r\nhello \r\n1. now you can batch delete partitions use hudiTable.deletePartitions() just like in https://issues.apache.org/jira/browse/HUDI-1350. Also a pr is doing more easy tool to delete partitions  https://github.com/apache/hudi/pull/2452\r\n2. @aditiwari01 why you need to duplicate the data?  In my scene, if the data is user behaviors log from kafka , not need to duplicate.\r\n3. Now have a issue to add the doc https://issues.apache.org/jira/browse/HUDI-1674 @satishkotha @nsivabalan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813765155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813768823","html_url":"https://github.com/apache/hudi/pull/2452#issuecomment-813768823","issue_url":"https://api.github.com/repos/apache/hudi/issues/2452","id":813768823,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzc2ODgyMw==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T02:03:30Z","updated_at":"2021-04-06T02:03:30Z","author_association":"CONTRIBUTOR","body":"> can we just have a this implemented as a replace of the partition where all files are replaced by an empty list. cleaner would automatically clean the partition that way. Love to keep all of our tooling to be flexible at the file level, working with existing actions and timeline\r\n\r\n@vinothchandar @wangxianghu \r\nHello, does this mean we can add  a auto cleaner strategy to clean the old partition? Maybe it is in cleaner or just like inline clustering. Now a user want to auto partition TTL feature.\r\nhttps://github.com/apache/hudi/issues/2743","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813768823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813776706","html_url":"https://github.com/apache/hudi/pull/2772#issuecomment-813776706","issue_url":"https://api.github.com/repos/apache/hudi/issues/2772","id":813776706,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzc3NjcwNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T02:27:49Z","updated_at":"2021-04-06T03:16:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2772?src=pr&el=h1) Report\n> Merging [#2772](https://codecov.io/gh/apache/hudi/pull/2772?src=pr&el=desc) (ec79996) into [master](https://codecov.io/gh/apache/hudi/commit/e970e1f48302aec3af7eeca009a2c793757cd501?el=desc) (e970e1f) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2772/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2772?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #2772   +/-   ##\n=========================================\n  Coverage     52.32%   52.32%           \n  Complexity     3689     3689           \n=========================================\n  Files           483      483           \n  Lines         23095    23095           \n  Branches       2460     2460           \n=========================================\n  Hits          12084    12084           \n  Misses         9942     9942           \n  Partials       1069     1069           \n```\n\n| Flag | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| hudicli | `37.01% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudiclient | `âˆ… <Ã¸> (âˆ…)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudicommon | `50.83% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudiflink | `56.71% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudihadoopmr | `33.44% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudisparkdatasource | `71.33% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudisync | `45.47% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| huditimelineservice | `64.36% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudiutilities | `69.69% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813776706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813779228","html_url":"https://github.com/apache/hudi/issues/2743#issuecomment-813779228","issue_url":"https://api.github.com/repos/apache/hudi/issues/2743","id":813779228,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzc3OTIyOA==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T02:35:59Z","updated_at":"2021-04-06T02:35:59Z","author_association":"CONTRIBUTOR","body":"Thanks @lw309637554 Will look into this deletePartition in depth.\r\n\r\nAs for my use case, the ideal situation would be to have some kind of row level TTL taken care by cleaner/compactor. In absence of any such feature, I was wondering if I could partition on commit time and regularly delete older partitions. Our use case includes updates and for a given key the updates can exist on different partitions. We want to avoid such duplicates. I think global indexing can help in here. (haven't tested yet).\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813779228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813802119","html_url":"https://github.com/apache/hudi/pull/2753#issuecomment-813802119","issue_url":"https://api.github.com/repos/apache/hudi/issues/2753","id":813802119,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzgwMjExOQ==","user":{"login":"li36909","id":3632162,"node_id":"MDQ6VXNlcjM2MzIxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/3632162?v=4","gravatar_id":"","url":"https://api.github.com/users/li36909","html_url":"https://github.com/li36909","followers_url":"https://api.github.com/users/li36909/followers","following_url":"https://api.github.com/users/li36909/following{/other_user}","gists_url":"https://api.github.com/users/li36909/gists{/gist_id}","starred_url":"https://api.github.com/users/li36909/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/li36909/subscriptions","organizations_url":"https://api.github.com/users/li36909/orgs","repos_url":"https://api.github.com/users/li36909/repos","events_url":"https://api.github.com/users/li36909/events{/privacy}","received_events_url":"https://api.github.com/users/li36909/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T03:52:16Z","updated_at":"2021-04-06T03:52:16Z","author_association":"CONTRIBUTOR","body":"@nsivabalan yes, before this fix, the classLoader come fro caller, which maybe AppClassLoader. and after this fix, th classLoader come from tread context, which myabe AppClassLoader or MutableURLClassLoader. As we know, MutableURLClassLoader can see all classes loaded by AppClassLoader, but AppClassLoader can not see any class loaded by MutableURLClassLoader, so this change will not introduce class load problem","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813802119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813825461","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-813825461","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":813825461,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzgyNTQ2MQ==","user":{"login":"ssdong","id":3754011,"node_id":"MDQ6VXNlcjM3NTQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3754011?v=4","gravatar_id":"","url":"https://api.github.com/users/ssdong","html_url":"https://github.com/ssdong","followers_url":"https://api.github.com/users/ssdong/followers","following_url":"https://api.github.com/users/ssdong/following{/other_user}","gists_url":"https://api.github.com/users/ssdong/gists{/gist_id}","starred_url":"https://api.github.com/users/ssdong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssdong/subscriptions","organizations_url":"https://api.github.com/users/ssdong/orgs","repos_url":"https://api.github.com/users/ssdong/repos","events_url":"https://api.github.com/users/ssdong/events{/privacy}","received_events_url":"https://api.github.com/users/ssdong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T05:07:46Z","updated_at":"2021-04-06T08:23:50Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @bvaradar Sorry for the bother. Could you kindly add me as a contributor so I could self-assign issues? I've set up my local dev env successfully and would like to move on from there. ðŸ˜„  Sent an email to the dev mailing list but haven't gotten replies yet. Thanks! \r\n\r\nUpdates: I've been granted contributor permissions. Thanks! ðŸ˜¸ ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813825461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813851461","html_url":"https://github.com/apache/hudi/issues/2723#issuecomment-813851461","issue_url":"https://api.github.com/repos/apache/hudi/issues/2723","id":813851461,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg1MTQ2MQ==","user":{"login":"liijiankang","id":42951757,"node_id":"MDQ6VXNlcjQyOTUxNzU3","avatar_url":"https://avatars.githubusercontent.com/u/42951757?v=4","gravatar_id":"","url":"https://api.github.com/users/liijiankang","html_url":"https://github.com/liijiankang","followers_url":"https://api.github.com/users/liijiankang/followers","following_url":"https://api.github.com/users/liijiankang/following{/other_user}","gists_url":"https://api.github.com/users/liijiankang/gists{/gist_id}","starred_url":"https://api.github.com/users/liijiankang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liijiankang/subscriptions","organizations_url":"https://api.github.com/users/liijiankang/orgs","repos_url":"https://api.github.com/users/liijiankang/repos","events_url":"https://api.github.com/users/liijiankang/events{/privacy}","received_events_url":"https://api.github.com/users/liijiankang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T06:11:00Z","updated_at":"2021-04-06T06:11:00Z","author_association":"NONE","body":"@bvaradar I set hoodie.clean.async to false and this exception did not occur again. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813851461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813856847","html_url":"https://github.com/apache/hudi/pull/2752#issuecomment-813856847","issue_url":"https://api.github.com/repos/apache/hudi/issues/2752","id":813856847,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg1Njg0Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T06:22:07Z","updated_at":"2021-04-06T06:22:07Z","author_association":"CONTRIBUTOR","body":"@li36909 Thanks for that explanation. Change LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813856847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813859106","html_url":"https://github.com/apache/hudi/pull/1565#issuecomment-813859106","issue_url":"https://api.github.com/repos/apache/hudi/issues/1565","id":813859106,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg1OTEwNg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T06:26:35Z","updated_at":"2021-04-06T06:26:35Z","author_association":"CONTRIBUTOR","body":"@pratyakshsharma Thanks for providing that context. @nsivabalan Once you have shared your thoughts, we can redo the scope of this PR and either rebase and fix this or open a new one. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813859106/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813859803","html_url":"https://github.com/apache/hudi/pull/1817#issuecomment-813859803","issue_url":"https://api.github.com/repos/apache/hudi/issues/1817","id":813859803,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg1OTgwMw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T06:27:56Z","updated_at":"2021-04-06T06:27:56Z","author_association":"CONTRIBUTOR","body":"@bhasudha I will try to rebase this PR and get it to a working state tomorrow, if you are working on it already, please let me know.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813859803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813861043","html_url":"https://github.com/apache/hudi/issues/2696#issuecomment-813861043","issue_url":"https://api.github.com/repos/apache/hudi/issues/2696","id":813861043,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg2MTA0Mw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T06:30:19Z","updated_at":"2021-04-06T06:30:19Z","author_association":"CONTRIBUTOR","body":"Yes, this is expected since you are probably using TimelineServer since that is enabled by default. The timeline server is a server running on the spark driver that services these requests to the executors. \r\n\r\nWe need to understand what the underlying exception is, specifically\r\n\r\n`21/04/04 18:28:35 WARN ExceptionMapper: Uncaught exception` - what is the uncaught exception here ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813861043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813861330","html_url":"https://github.com/apache/hudi/issues/2688#issuecomment-813861330","issue_url":"https://api.github.com/repos/apache/hudi/issues/2688","id":813861330,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg2MTMzMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T06:30:49Z","updated_at":"2021-04-06T06:30:49Z","author_association":"CONTRIBUTOR","body":"@rubenssoto Were you able to try this out ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813861330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813862735","html_url":"https://github.com/apache/hudi/issues/2633#issuecomment-813862735","issue_url":"https://api.github.com/repos/apache/hudi/issues/2633","id":813862735,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg2MjczNQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T06:33:40Z","updated_at":"2021-04-06T06:33:40Z","author_association":"CONTRIBUTOR","body":"@bvaradar @umehrot2 I think we should move this discussion to a JIRA so that all the details and possible solutions are captured there. Have one of you created it ? if not I can do it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813862735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813863084","html_url":"https://github.com/apache/hudi/issues/2623#issuecomment-813863084","issue_url":"https://api.github.com/repos/apache/hudi/issues/2623","id":813863084,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg2MzA4NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T06:34:26Z","updated_at":"2021-04-06T06:34:26Z","author_association":"CONTRIBUTOR","body":"@root18039532923 You may not have access to do this, we can do it on your behalf. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813863084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813863772","html_url":"https://github.com/apache/hudi/issues/2513#issuecomment-813863772","issue_url":"https://api.github.com/repos/apache/hudi/issues/2513","id":813863772,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg2Mzc3Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T06:35:42Z","updated_at":"2021-04-06T06:35:42Z","author_association":"CONTRIBUTOR","body":"@GintokiYs Gentle ping on my comment above","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813863772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813864327","html_url":"https://github.com/apache/hudi/issues/2409#issuecomment-813864327","issue_url":"https://api.github.com/repos/apache/hudi/issues/2409","id":813864327,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg2NDMyNw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T06:36:43Z","updated_at":"2021-04-06T06:36:43Z","author_association":"CONTRIBUTOR","body":"@wosow Did you get a chance to read the blog ? Please let us know if this issue is still valid","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813864327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813885390","html_url":"https://github.com/apache/hudi/pull/2744#issuecomment-813885390","issue_url":"https://api.github.com/repos/apache/hudi/issues/2744","id":813885390,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg4NTM5MA==","user":{"login":"NickCodeJourney","id":72905543,"node_id":"MDQ6VXNlcjcyOTA1NTQz","avatar_url":"https://avatars.githubusercontent.com/u/72905543?v=4","gravatar_id":"","url":"https://api.github.com/users/NickCodeJourney","html_url":"https://github.com/NickCodeJourney","followers_url":"https://api.github.com/users/NickCodeJourney/followers","following_url":"https://api.github.com/users/NickCodeJourney/following{/other_user}","gists_url":"https://api.github.com/users/NickCodeJourney/gists{/gist_id}","starred_url":"https://api.github.com/users/NickCodeJourney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NickCodeJourney/subscriptions","organizations_url":"https://api.github.com/users/NickCodeJourney/orgs","repos_url":"https://api.github.com/users/NickCodeJourney/repos","events_url":"https://api.github.com/users/NickCodeJourney/events{/privacy}","received_events_url":"https://api.github.com/users/NickCodeJourney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T07:13:57Z","updated_at":"2021-04-06T07:13:57Z","author_association":"CONTRIBUTOR","body":"> Please add a small test case covering this scenario. :) @NickYoungPeng\r\nSorry, I don't know how to write the test case, can you tell me how to write this or give me some prompt? Thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813885390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813898486","html_url":"https://github.com/apache/hudi/pull/2744#issuecomment-813898486","issue_url":"https://api.github.com/repos/apache/hudi/issues/2744","id":813898486,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg5ODQ4Ng==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T07:34:39Z","updated_at":"2021-04-06T07:34:39Z","author_association":"CONTRIBUTOR","body":"@NickYoungPeng Please refer these 2 classes - `TestHoodieMultiTableDeltaStreamer` and `TestHoodieDeltaStreamer`. Hopefully these will give you a decent idea about writing test cases. :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813898486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813928206","html_url":"https://github.com/apache/hudi/pull/2773#issuecomment-813928206","issue_url":"https://api.github.com/repos/apache/hudi/issues/2773","id":813928206,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzkyODIwNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T08:19:35Z","updated_at":"2021-04-08T01:19:00Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2773?src=pr&el=h1) Report\n> Merging [#2773](https://codecov.io/gh/apache/hudi/pull/2773?src=pr&el=desc) (582e348) into [master](https://codecov.io/gh/apache/hudi/commit/920537cac83d59ac05676fb952d5479c41adf757?el=desc) (920537c) will **increase** coverage by `17.31%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2773/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2773?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2773       +/-   ##\n=============================================\n+ Coverage     52.30%   69.61%   +17.31%     \n+ Complexity     3689      373     -3316     \n=============================================\n  Files           483       54      -429     \n  Lines         23099     1998    -21101     \n  Branches       2460      236     -2224     \n=============================================\n- Hits          12082     1391    -10691     \n+ Misses         9949      475     -9474     \n+ Partials       1068      132      -936     \n```\n\n| Flag | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.61% <0.00%> (-0.13%)` | `0.00 <0.00> (Ã¸)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2773?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [...org/apache/hudi/utilities/HoodieClusteringJob.java](https://codecov.io/gh/apache/hudi/pull/2773/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0hvb2RpZUNsdXN0ZXJpbmdKb2IuamF2YQ==) | `62.50% <0.00%> (-2.72%)` | `9.00 <0.00> (Ã¸)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2773/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.08% <0.00%> (-0.35%)` | `55.00% <0.00%> (-1.00%)` | |\n| [.../common/bloom/HoodieDynamicBoundedBloomFilter.java](https://codecov.io/gh/apache/hudi/pull/2773/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2Jsb29tL0hvb2RpZUR5bmFtaWNCb3VuZGVkQmxvb21GaWx0ZXIuamF2YQ==) | | | |\n| [...java/org/apache/hudi/common/fs/StorageSchemes.java](https://codecov.io/gh/apache/hudi/pull/2773/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL1N0b3JhZ2VTY2hlbWVzLmphdmE=) | | | |\n| [...e/hudi/common/table/timeline/dto/FileGroupDTO.java](https://codecov.io/gh/apache/hudi/pull/2773/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL2R0by9GaWxlR3JvdXBEVE8uamF2YQ==) | | | |\n| [...he/hudi/hadoop/SafeParquetRecordReaderWrapper.java](https://codecov.io/gh/apache/hudi/pull/2773/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL1NhZmVQYXJxdWV0UmVjb3JkUmVhZGVyV3JhcHBlci5qYXZh) | | | |\n| [...n/java/org/apache/hudi/common/HoodieCleanStat.java](https://codecov.io/gh/apache/hudi/pull/2773/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL0hvb2RpZUNsZWFuU3RhdC5qYXZh) | | | |\n| [.../hudi/common/config/SerializableConfiguration.java](https://codecov.io/gh/apache/hudi/pull/2773/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9TZXJpYWxpemFibGVDb25maWd1cmF0aW9uLmphdmE=) | | | |\n| [...e/hudi/exception/HoodieDeltaStreamerException.java](https://codecov.io/gh/apache/hudi/pull/2773/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0hvb2RpZURlbHRhU3RyZWFtZXJFeGNlcHRpb24uamF2YQ==) | | | |\n| [...org/apache/hudi/common/model/HoodieFileFormat.java](https://codecov.io/gh/apache/hudi/pull/2773/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUZpbGVGb3JtYXQuamF2YQ==) | | | |\n| ... and [421 more](https://codecov.io/gh/apache/hudi/pull/2773/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813928206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813959142","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-813959142","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":813959142,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzk1OTE0Mg==","user":{"login":"ssdong","id":3754011,"node_id":"MDQ6VXNlcjM3NTQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3754011?v=4","gravatar_id":"","url":"https://api.github.com/users/ssdong","html_url":"https://github.com/ssdong","followers_url":"https://api.github.com/users/ssdong/followers","following_url":"https://api.github.com/users/ssdong/following{/other_user}","gists_url":"https://api.github.com/users/ssdong/gists{/gist_id}","starred_url":"https://api.github.com/users/ssdong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssdong/subscriptions","organizations_url":"https://api.github.com/users/ssdong/orgs","repos_url":"https://api.github.com/users/ssdong/repos","events_url":"https://api.github.com/users/ssdong/events{/privacy}","received_events_url":"https://api.github.com/users/ssdong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T09:04:52Z","updated_at":"2021-04-06T09:04:52Z","author_association":"CONTRIBUTOR","body":"The original issue being brought up by @zherenyu831 has a bigger impact than we had imagined. The simple fix to omit the empty `partitionToReplaceFileIds` would work on release `0.7.0` but it won't work anymore for the latest master, i.e. `0.9.0-SNAPSHOT`. Ticket [HUDI-1740](https://issues.apache.org/jira/browse/HUDI-1740) has been updated to reflect the newest issues and we believe it has something to with the new clustering feature. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/813959142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814143042","html_url":"https://github.com/apache/hudi/issues/2743#issuecomment-814143042","issue_url":"https://api.github.com/repos/apache/hudi/issues/2743","id":814143042,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDE0MzA0Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T13:58:17Z","updated_at":"2021-04-06T13:58:17Z","author_association":"CONTRIBUTOR","body":"@n3nash @vinothchandar @bvaradar : any thoughts here or workarounds until we have per record support for TTL. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814143042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814157136","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-814157136","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":814157136,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDE1NzEzNg==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T14:16:31Z","updated_at":"2021-04-06T14:19:55Z","author_association":"CONTRIBUTOR","body":"@satishkotha cc @bvaradar @vinothchandar \r\nI found the problem why cleaner only keep one file version \r\nhttps://github.com/apache/hudi/blob/master/hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java#L216-L217\r\n\r\nI think it breaks the isolation, do you have any plan?\r\n \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814157136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814206544","html_url":"https://github.com/apache/hudi/pull/2776#issuecomment-814206544","issue_url":"https://api.github.com/repos/apache/hudi/issues/2776","id":814206544,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDIwNjU0NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T15:19:43Z","updated_at":"2021-04-06T15:19:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2776?src=pr&el=h1) Report\n> Merging [#2776](https://codecov.io/gh/apache/hudi/pull/2776?src=pr&el=desc) (4c3ff43) into [master](https://codecov.io/gh/apache/hudi/commit/9c369c607df2816ea2cd1221fb6d879e3fb8f74c?el=desc) (9c369c6) will **decrease** coverage by `42.89%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2776/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2776?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2776       +/-   ##\n============================================\n- Coverage     52.27%   9.38%   -42.90%     \n+ Complexity     3678      48     -3630     \n============================================\n  Files           484      54      -430     \n  Lines         23079    1993    -21086     \n  Branches       2457     236     -2221     \n============================================\n- Hits          12065     187    -11878     \n+ Misses         9950    1793     -8157     \n+ Partials       1064      13     -1051     \n```\n\n| Flag | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.38% <Ã¸> (-60.32%)` | `0.00 <Ã¸> (Ã¸)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2776?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2776/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2776/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2776/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2776/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2776/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2776/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2776/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2776/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2776/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2776/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [460 more](https://codecov.io/gh/apache/hudi/pull/2776/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814206544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814290764","html_url":"https://github.com/apache/hudi/pull/2655#issuecomment-814290764","issue_url":"https://api.github.com/repos/apache/hudi/issues/2655","id":814290764,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDI5MDc2NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T17:16:23Z","updated_at":"2021-04-06T17:16:23Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of https://github.com/apache/hudi/pull/2777\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814290764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814291398","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-814291398","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":814291398,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDI5MTM5OA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T17:17:23Z","updated_at":"2021-04-06T17:17:23Z","author_association":"MEMBER","body":"Hi, Why do you think it breaks isolation? We create new version of data files with new fileIds and clean up old versions. \r\nWith KEEP_LATEST_VERSIONS cleaner policy, we retain specified number of versions for every fileId. Once a file is replaced, we consider it as invalid. So we delete the replaced files immediately.\r\n\r\nPlease use KEEP_LATEST_COMMITS cleaner policy if you need more than one version retained.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814291398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814337083","html_url":"https://github.com/apache/hudi/pull/2777#issuecomment-814337083","issue_url":"https://api.github.com/repos/apache/hudi/issues/2777","id":814337083,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDMzNzA4Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T18:18:06Z","updated_at":"2021-04-06T18:18:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2777?src=pr&el=h1) Report\n> Merging [#2777](https://codecov.io/gh/apache/hudi/pull/2777?src=pr&el=desc) (d643402) into [master](https://codecov.io/gh/apache/hudi/commit/e970e1f48302aec3af7eeca009a2c793757cd501?el=desc) (e970e1f) will **increase** coverage by `17.37%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2777/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2777?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2777       +/-   ##\n=============================================\n+ Coverage     52.32%   69.69%   +17.37%     \n+ Complexity     3689      371     -3318     \n=============================================\n  Files           483       54      -429     \n  Lines         23095     1993    -21102     \n  Branches       2460      236     -2224     \n=============================================\n- Hits          12084     1389    -10695     \n+ Misses         9942      473     -9469     \n+ Partials       1069      131      -938     \n```\n\n| Flag | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.69% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2777?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [...rg/apache/hudi/common/bloom/SimpleBloomFilter.java](https://codecov.io/gh/apache/hudi/pull/2777/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2Jsb29tL1NpbXBsZUJsb29tRmlsdGVyLmphdmE=) | | | |\n| [...rc/main/scala/org/apache/hudi/Spark3RowSerDe.scala](https://codecov.io/gh/apache/hudi/pull/2777/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvaHVkaS9TcGFyazNSb3dTZXJEZS5zY2FsYQ==) | | | |\n| [...udi/common/util/queue/BoundedInMemoryExecutor.java](https://codecov.io/gh/apache/hudi/pull/2777/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvcXVldWUvQm91bmRlZEluTWVtb3J5RXhlY3V0b3IuamF2YQ==) | | | |\n| [...g/apache/hudi/exception/InvalidTableException.java](https://codecov.io/gh/apache/hudi/pull/2777/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0ludmFsaWRUYWJsZUV4Y2VwdGlvbi5qYXZh) | | | |\n| [.../versioning/compaction/CompactionPlanMigrator.java](https://codecov.io/gh/apache/hudi/pull/2777/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL3ZlcnNpb25pbmcvY29tcGFjdGlvbi9Db21wYWN0aW9uUGxhbk1pZ3JhdG9yLmphdmE=) | | | |\n| [...a/org/apache/hudi/cli/commands/RepairsCommand.java](https://codecov.io/gh/apache/hudi/pull/2777/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1JlcGFpcnNDb21tYW5kLmphdmE=) | | | |\n| [.../hudi/async/SparkStreamingAsyncCompactService.java](https://codecov.io/gh/apache/hudi/pull/2777/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYXN5bmMvU3BhcmtTdHJlYW1pbmdBc3luY0NvbXBhY3RTZXJ2aWNlLmphdmE=) | | | |\n| [...e/hudi/cli/commands/UpgradeOrDowngradeCommand.java](https://codecov.io/gh/apache/hudi/pull/2777/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1VwZ3JhZGVPckRvd25ncmFkZUNvbW1hbmQuamF2YQ==) | | | |\n| [...src/main/scala/org/apache/hudi/DefaultSource.scala](https://codecov.io/gh/apache/hudi/pull/2777/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0RlZmF1bHRTb3VyY2Uuc2NhbGE=) | | | |\n| [.../java/org/apache/hudi/common/util/StringUtils.java](https://codecov.io/gh/apache/hudi/pull/2777/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvU3RyaW5nVXRpbHMuamF2YQ==) | | | |\n| ... and [418 more](https://codecov.io/gh/apache/hudi/pull/2777/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814337083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814439644","html_url":"https://github.com/apache/hudi/issues/2294#issuecomment-814439644","issue_url":"https://api.github.com/repos/apache/hudi/issues/2294","id":814439644,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDQzOTY0NA==","user":{"login":"vansimonsen","id":7406770,"node_id":"MDQ6VXNlcjc0MDY3NzA=","avatar_url":"https://avatars.githubusercontent.com/u/7406770?v=4","gravatar_id":"","url":"https://api.github.com/users/vansimonsen","html_url":"https://github.com/vansimonsen","followers_url":"https://api.github.com/users/vansimonsen/followers","following_url":"https://api.github.com/users/vansimonsen/following{/other_user}","gists_url":"https://api.github.com/users/vansimonsen/gists{/gist_id}","starred_url":"https://api.github.com/users/vansimonsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vansimonsen/subscriptions","organizations_url":"https://api.github.com/users/vansimonsen/orgs","repos_url":"https://api.github.com/users/vansimonsen/repos","events_url":"https://api.github.com/users/vansimonsen/events{/privacy}","received_events_url":"https://api.github.com/users/vansimonsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T21:05:09Z","updated_at":"2021-04-06T21:05:09Z","author_association":"NONE","body":"> @bvaradar is it expected that this bug exists on 0.7.0?\r\n> What problem this bug cause?\r\n\r\nI'm having same issue on new `0.8.0` ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814439644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814500673","html_url":"https://github.com/apache/hudi/issues/2294#issuecomment-814500673","issue_url":"https://api.github.com/repos/apache/hudi/issues/2294","id":814500673,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDUwMDY3Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T23:38:28Z","updated_at":"2021-04-06T23:38:28Z","author_association":"CONTRIBUTOR","body":"@vansimonsen : Can you open a new GH issue with the stack trace . @rubenssoto : I believe the PR landed before 0.7.0 was cut. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814500673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814524534","html_url":"https://github.com/apache/hudi/pull/2325#issuecomment-814524534","issue_url":"https://api.github.com/repos/apache/hudi/issues/2325","id":814524534,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDUyNDUzNA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T00:52:13Z","updated_at":"2021-04-07T00:52:13Z","author_association":"CONTRIBUTOR","body":"@hddong Thanks for addressing my concerns. I left one comment you can consider, after that, we can land this PR.\r\ncc @yanghua ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814524534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814530289","html_url":"https://github.com/apache/hudi/issues/2696#issuecomment-814530289","issue_url":"https://api.github.com/repos/apache/hudi/issues/2696","id":814530289,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDUzMDI4OQ==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T01:11:10Z","updated_at":"2021-04-07T01:12:31Z","author_association":"NONE","body":"Hello @n3nash \r\n\r\nI was able to get a little more info. Pls see log output below.\r\nLooks like the exception is being thrown by the AWS SDK. But not sure what it means.\r\n\r\n21/04/07 00:59:13 ERROR FileSystemViewHandler: Got runtime exception servicing request partition=message_year%3D2003%2Fmessage_month%3D1&maxinstant=20210406120821&basepath=s3%3A%2F%2Fs3_bucket%s3_prefix%mydb%2Fmytable%2F&lastinstantts=20210407005529&timelinehash=30e09a5e863ae117cb7ccdb156181b6af73069a9c120fdd7fc19f8ea016909f0\r\n\r\n21/04/07 00:59:13 ERROR FileSystemViewHandler: re.toString\r\n21/04/07 00:59:13 ERROR FileSystemViewHandler: com.amazon.ws.emr.hadoop.fs.shaded.com.amazonaws.SdkClientException: Unable to execute HTTP request: Timeout waiting for connection from pool\r\n21/04/07 00:59:13 ERROR FileSystemViewHandler: Exception message: Unable to execute HTTP request: Timeout waiting for connection from pool\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814530289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814531773","html_url":"https://github.com/apache/hudi/issues/2696#issuecomment-814531773","issue_url":"https://api.github.com/repos/apache/hudi/issues/2696","id":814531773,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDUzMTc3Mw==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T01:15:44Z","updated_at":"2021-04-07T01:15:44Z","author_association":"NONE","body":"Might be related to this? https://stackoverflow.com/questions/39498492/spark-and-amazon-emr-s3-connections-not-being-closed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814531773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814535223","html_url":"https://github.com/apache/hudi/pull/2720#issuecomment-814535223","issue_url":"https://api.github.com/repos/apache/hudi/issues/2720","id":814535223,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDUzNTIyMw==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T01:26:49Z","updated_at":"2021-04-07T02:25:02Z","author_association":"CONTRIBUTOR","body":"sorry for laterã€‚  i will add UTï¼Œ thanks @nsivabalan @garyli1019 \r\n\r\nanother questionï¼š why test in TestHoodieCombineHiveInputFormat is Disabled ï¼Ÿ \r\n  @Test\r\n  @Disabled\r\n  public void testHoodieRealtimeCombineHoodieInputFormat() throws Exception {","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814535223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814540364","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-814540364","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":814540364,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU0MDM2NA==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T01:44:30Z","updated_at":"2021-04-07T01:44:30Z","author_association":"CONTRIBUTOR","body":"@satishkotha \r\nThank you for the explaining.\r\nTotally understood. \r\nSince insert_overwrite_table every time creating version of files, in this case,\r\ninstead of using KEEP_LATEST_VERSIONS, KEEP_LATEST_COMMITS make more sense.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814540364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814556277","html_url":"https://github.com/apache/hudi/pull/2452#issuecomment-814556277","issue_url":"https://api.github.com/repos/apache/hudi/issues/2452","id":814556277,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU1NjI3Nw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T02:32:21Z","updated_at":"2021-04-07T02:32:49Z","author_association":"CONTRIBUTOR","body":"I understand its in darft. Just before you open it up for reviews, can you add more info in the description. \r\nis this a standalone tool? or to be used as a strategy along w/ cleaning? or hudi-cli ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814556277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814556608","html_url":"https://github.com/apache/hudi/pull/2753#issuecomment-814556608","issue_url":"https://api.github.com/repos/apache/hudi/issues/2753","id":814556608,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU1NjYwOA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T02:33:27Z","updated_at":"2021-04-07T02:33:27Z","author_association":"CONTRIBUTOR","body":"sounds good. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814556608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814557848","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-814557848","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":814557848,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU1Nzg0OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T02:36:57Z","updated_at":"2021-04-07T02:36:57Z","author_association":"CONTRIBUTOR","body":"@satishkotha : I haven't gone through entire comment history. but we have introduced new labels to assist us in better help community. \r\nWe have these labels for issues. \r\nawaiting-user-response: whenever you respond to an issue and waiting for author response. \r\nawaiting-community-help: whenever author is waiting for some response/assistance from someone from the community\r\ntriaged: if we were able to triage the bug or issue\r\njira-filed: if we have filed a tracking jira. in most cases, once jira is filed, we can close out the issue. but in some cases, we might have some back and forth comms. and hence this label.\r\nfeature-request: some issues are not issues as such, but a new feature request. \r\n\r\nCan you please add appropriate labels to this issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814557848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814563007","html_url":"https://github.com/apache/hudi/pull/2765#issuecomment-814563007","issue_url":"https://api.github.com/repos/apache/hudi/issues/2765","id":814563007,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU2MzAwNw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T02:53:52Z","updated_at":"2021-04-07T02:53:52Z","author_association":"CONTRIBUTOR","body":"@lw309637554 : may be you wanna review this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814563007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814563717","html_url":"https://github.com/apache/hudi/issues/2770#issuecomment-814563717","issue_url":"https://api.github.com/repos/apache/hudi/issues/2770","id":814563717,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU2MzcxNw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T02:55:47Z","updated_at":"2021-04-07T02:55:47Z","author_association":"CONTRIBUTOR","body":"@rubenssoto : sorry what happened. why closed the issue? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814563717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814566135","html_url":"https://github.com/apache/hudi/issues/2771#issuecomment-814566135","issue_url":"https://api.github.com/repos/apache/hudi/issues/2771","id":814566135,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU2NjEzNQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T03:03:48Z","updated_at":"2021-04-07T03:03:48Z","author_association":"CONTRIBUTOR","body":"I see you have enabled async compaction. If you enable inline compaction, does it work?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814566135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814567349","html_url":"https://github.com/apache/hudi/issues/2774#issuecomment-814567349","issue_url":"https://api.github.com/repos/apache/hudi/issues/2774","id":814567349,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU2NzM0OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T03:07:35Z","updated_at":"2021-04-07T03:07:35Z","author_association":"CONTRIBUTOR","body":"@n3nash : can you help here or loop in someone who can take a look at this issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814567349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814573470","html_url":"https://github.com/apache/hudi/pull/2779#issuecomment-814573470","issue_url":"https://api.github.com/repos/apache/hudi/issues/2779","id":814573470,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU3MzQ3MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T03:27:28Z","updated_at":"2021-04-07T03:27:28Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2779?src=pr&el=h1) Report\n> Merging [#2779](https://codecov.io/gh/apache/hudi/pull/2779?src=pr&el=desc) (d9d3bd0) into [master](https://codecov.io/gh/apache/hudi/commit/e692c704da732c0f2a4d2892729687766a462e53?el=desc) (e692c70) will **decrease** coverage by `0.00%`.\n> The diff coverage is `33.33%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2779/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2779?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2779      +/-   ##\n============================================\n- Coverage     52.26%   52.26%   -0.01%     \n- Complexity     3679     3680       +1     \n============================================\n  Files           484      484              \n  Lines         23079    23092      +13     \n  Branches       2457     2457              \n============================================\n+ Hits          12063    12068       +5     \n- Misses         9952     9959       +7     \n- Partials       1064     1065       +1     \n```\n\n| Flag | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| hudicli | `36.94% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudiclient | `âˆ… <Ã¸> (âˆ…)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudicommon | `50.77% <33.33%> (-0.01%)` | `0.00 <2.00> (Ã¸)` | |\n| hudiflink | `56.58% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudihadoopmr | `33.44% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudisparkdatasource | `71.33% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudisync | `45.47% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| huditimelineservice | `64.36% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudiutilities | `69.69% <Ã¸> (-0.06%)` | `0.00 <Ã¸> (Ã¸)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2779?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [...n/java/org/apache/hudi/common/model/HoodieKey.java](https://codecov.io/gh/apache/hudi/pull/2779/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUtleS5qYXZh) | `41.66% <33.33%> (-2.78%)` | `7.00 <1.00> (+1.00)` | :arrow_down: |\n| [...apache/hudi/common/model/HoodieRecordLocation.java](https://codecov.io/gh/apache/hudi/pull/2779/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVJlY29yZExvY2F0aW9uLmphdmE=) | `33.33% <33.33%> (Ã¸)` | `4.00 <1.00> (+1.00)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2779/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.08% <0.00%> (-0.35%)` | `55.00% <0.00%> (-1.00%)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2779/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (+0.78%)` | `26.00% <0.00%> (Ã¸%)` | |\n| [...a/org/apache/hudi/common/util/ReflectionUtils.java](https://codecov.io/gh/apache/hudi/pull/2779/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvUmVmbGVjdGlvblV0aWxzLmphdmE=) | `22.64% <0.00%> (+1.48%)` | `6.00% <0.00%> (Ã¸%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814573470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814591829","html_url":"https://github.com/apache/hudi/pull/2452#issuecomment-814591829","issue_url":"https://api.github.com/repos/apache/hudi/issues/2452","id":814591829,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU5MTgyOQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T04:31:28Z","updated_at":"2021-04-07T04:31:46Z","author_association":"CONTRIBUTOR","body":"> I understand its in darft. Just before you open it up for reviews, can you add more info in the description.\r\n> is this a standalone tool? or to be used as a strategy along w/ cleaning? or hudi-cli ?\r\n\r\nAt the beginning, I wanted to make it a stand-alone tool, but now we can consider making a cleanup strategy.\r\nWDYT ? cc @vinothchandar  @lw309637554 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814591829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814594032","html_url":"https://github.com/apache/hudi/pull/2744#issuecomment-814594032","issue_url":"https://api.github.com/repos/apache/hudi/issues/2744","id":814594032,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU5NDAzMg==","user":{"login":"NickCodeJourney","id":72905543,"node_id":"MDQ6VXNlcjcyOTA1NTQz","avatar_url":"https://avatars.githubusercontent.com/u/72905543?v=4","gravatar_id":"","url":"https://api.github.com/users/NickCodeJourney","html_url":"https://github.com/NickCodeJourney","followers_url":"https://api.github.com/users/NickCodeJourney/followers","following_url":"https://api.github.com/users/NickCodeJourney/following{/other_user}","gists_url":"https://api.github.com/users/NickCodeJourney/gists{/gist_id}","starred_url":"https://api.github.com/users/NickCodeJourney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NickCodeJourney/subscriptions","organizations_url":"https://api.github.com/users/NickCodeJourney/orgs","repos_url":"https://api.github.com/users/NickCodeJourney/repos","events_url":"https://api.github.com/users/NickCodeJourney/events{/privacy}","received_events_url":"https://api.github.com/users/NickCodeJourney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T04:38:38Z","updated_at":"2021-04-08T07:28:41Z","author_association":"CONTRIBUTOR","body":"> @NickYoungPeng Please refer these 2 classes - `TestHoodieMultiTableDeltaStreamer` and `TestHoodieDeltaStreamer`. Hopefully these will give you a decent idea about writing test cases. :)\r\n\r\nit's ok","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814594032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814636227","html_url":"https://github.com/apache/hudi/pull/2765#issuecomment-814636227","issue_url":"https://api.github.com/repos/apache/hudi/issues/2765","id":814636227,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDYzNjIyNw==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T06:20:31Z","updated_at":"2021-04-07T06:20:31Z","author_association":"CONTRIBUTOR","body":"> @lw309637554 : may be you wanna review this.\r\n\r\n@nsivabalan thanks , if this pr land, https://github.com/apache/hudi/pull/2776 will be ok , and i add more test for schema evolution .","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814636227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814672175","html_url":"https://github.com/apache/hudi/pull/2780#issuecomment-814672175","issue_url":"https://api.github.com/repos/apache/hudi/issues/2780","id":814672175,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDY3MjE3NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T07:24:12Z","updated_at":"2021-04-07T07:24:12Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2780?src=pr&el=h1) Report\n> Merging [#2780](https://codecov.io/gh/apache/hudi/pull/2780?src=pr&el=desc) (8257ade) into [master](https://codecov.io/gh/apache/hudi/commit/e692c704da732c0f2a4d2892729687766a462e53?el=desc) (e692c70) will **decrease** coverage by `42.88%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2780/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2780?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2780       +/-   ##\n============================================\n- Coverage     52.26%   9.38%   -42.89%     \n+ Complexity     3679      48     -3631     \n============================================\n  Files           484      54      -430     \n  Lines         23079    1993    -21086     \n  Branches       2457     236     -2221     \n============================================\n- Hits          12063     187    -11876     \n+ Misses         9952    1793     -8159     \n+ Partials       1064      13     -1051     \n```\n\n| Flag | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.38% <Ã¸> (-60.37%)` | `0.00 <Ã¸> (Ã¸)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2780?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2780/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2780/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2780/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2780/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2780/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2780/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2780/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2780/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2780/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2780/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [460 more](https://codecov.io/gh/apache/hudi/pull/2780/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814672175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814678338","html_url":"https://github.com/apache/hudi/issues/2774#issuecomment-814678338","issue_url":"https://api.github.com/repos/apache/hudi/issues/2774","id":814678338,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDY3ODMzOA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T07:33:54Z","updated_at":"2021-04-07T07:33:54Z","author_association":"CONTRIBUTOR","body":"@vobukh \r\n\r\nThis looks like a problem due to the version differences between `io.dropwizard` in [prometheus-java client](https://github.com/prometheus/client_java/blob/master/simpleclient_dropwizard/pom.xml#L40) (3.1.2) vs `io.dropwizard` dependency in [Hudi](https://github.com/apache/hudi/blob/master/pom.xml#L105) (4.1.1)\r\n\r\nSince Hudi brings in 4.1.1, the prometheus client is unable to find the required method \r\n\r\n```\r\njava.lang.NoSuchMethodError: io.prometheus.client.dropwizard.DropwizardExports.(Lorg/apache/hudi/com/codahale/metrics/MetricRegistry;)V\r\n````\r\n\r\nwhich is present in 3.1.2.\r\n\r\nI'm not sure how this was tested by the contributor but looks like might have only been tested with unit tests where this issue will not be caught. There are 2 possible solutions here:\r\n\r\n1. Downgrade `io.dropwizard` in Hudi to 3.1.2 -> My guess is this will require some code changes in Hudi since package and API's have moved between 3.1.2 and 4.1.1.\r\n2. Upgrade prometheus client to 4.1.1, build it and then build the Hudi bundle jars with that version -> My guess is this may not require any code changes in prometheus client. \r\n\r\n@vobukh Let me know what you think.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814678338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814682374","html_url":"https://github.com/apache/hudi/issues/2771#issuecomment-814682374","issue_url":"https://api.github.com/repos/apache/hudi/issues/2771","id":814682374,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDY4MjM3NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T07:40:17Z","updated_at":"2021-04-07T07:40:17Z","author_association":"CONTRIBUTOR","body":"@stackfun I see that you have some conflicting configs\r\n\r\n```\r\n        \"hoodie.datasource.compaction.async.enable\": True,\r\n        \"hoodie.index.type\": \"SIMPLE\",  \r\n        \"hoodie.compact.inline\": True,  \r\n```\r\n\r\nYou have enabled `inline` as well as `async` at the same time. Can you please enable one of them depending on if you want async or inline.\r\n\r\nAdditionally, I see that you have set the num delta commits before compaction kicks in to 16\r\n\r\n```\r\nhoodie.compact.inline.max.delta.commits : \"16\"\r\n```\r\n\r\nThis means compaction will not kick in until you do 16 delta commits. Additionally, even after that, the default CompactionPolicy is `Bounded` https://github.com/apache/hudi/blob/master/hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java#L97 \r\n\r\nwhich will compact at max 500GB https://github.com/apache/hudi/blob/master/hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java#L94. \r\n\r\nAre you by any change writing more than 500GB during your 16 delta commits ? If yes, some log files may not get compacted. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814682374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814684654","html_url":"https://github.com/apache/hudi/issues/2696#issuecomment-814684654","issue_url":"https://api.github.com/repos/apache/hudi/issues/2696","id":814684654,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDY4NDY1NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T07:43:59Z","updated_at":"2021-04-07T07:43:59Z","author_association":"CONTRIBUTOR","body":"@kimberlyamandalu This is unknown territory for me as well. Let me loop in some AWS experts here. @umehrot2 Do you have any idea what the timeouts may be related to ? To summarize this ticket's context, @kimberlyamandalu is running into the following exception when using timeline server \r\n\r\n```\r\n21/04/07 00:59:13 ERROR FileSystemViewHandler: com.amazon.ws.emr.hadoop.fs.shaded.com.amazonaws.SdkClientException: Unable to execute HTTP request: Timeout waiting for connection from pool\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814684654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814734415","html_url":"https://github.com/apache/hudi/pull/2325#issuecomment-814734415","issue_url":"https://api.github.com/repos/apache/hudi/issues/2325","id":814734415,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDczNDQxNQ==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T08:55:11Z","updated_at":"2021-04-07T08:55:11Z","author_association":"CONTRIBUTOR","body":"@wangxianghu: It's OK now.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814734415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814772442","html_url":"https://github.com/apache/hudi/issues/2680#issuecomment-814772442","issue_url":"https://api.github.com/repos/apache/hudi/issues/2680","id":814772442,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDc3MjQ0Mg==","user":{"login":"ztcheck","id":59900649,"node_id":"MDQ6VXNlcjU5OTAwNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/59900649?v=4","gravatar_id":"","url":"https://api.github.com/users/ztcheck","html_url":"https://github.com/ztcheck","followers_url":"https://api.github.com/users/ztcheck/followers","following_url":"https://api.github.com/users/ztcheck/following{/other_user}","gists_url":"https://api.github.com/users/ztcheck/gists{/gist_id}","starred_url":"https://api.github.com/users/ztcheck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ztcheck/subscriptions","organizations_url":"https://api.github.com/users/ztcheck/orgs","repos_url":"https://api.github.com/users/ztcheck/repos","events_url":"https://api.github.com/users/ztcheck/events{/privacy}","received_events_url":"https://api.github.com/users/ztcheck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T09:42:59Z","updated_at":"2021-04-07T09:47:08Z","author_association":"NONE","body":"@n3nash,\r\nYes,`hudi-hive-sync-bundle` already in the script `run_sync_tool .sh` .\r\nI use the default value `HUDI_HIVE_UBER_JAR`  in the script, such like ' HUDI_HIVE_UBER_JAR=`ls -c $DIR/../../packaging/hudi-hive-sync-bundle/target/hudi-hive-sync-*.jar | grep -v source | head -1` '","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814772442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814831752","html_url":"https://github.com/apache/hudi/pull/2782#issuecomment-814831752","issue_url":"https://api.github.com/repos/apache/hudi/issues/2782","id":814831752,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDgzMTc1Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T11:23:16Z","updated_at":"2021-04-07T11:23:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2782?src=pr&el=h1) Report\n> Merging [#2782](https://codecov.io/gh/apache/hudi/pull/2782?src=pr&el=desc) (ca38e68) into [master](https://codecov.io/gh/apache/hudi/commit/e926c1a45ca95fa1911f6f88a0577554f2797760?el=desc) (e926c1a) will **decrease** coverage by `41.35%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2782/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2782?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2782       +/-   ##\n============================================\n- Coverage     50.73%   9.37%   -41.36%     \n+ Complexity     3064      48     -3016     \n============================================\n  Files           419      54      -365     \n  Lines         18797    1995    -16802     \n  Branches       1922     235     -1687     \n============================================\n- Hits           9536     187     -9349     \n+ Misses         8485    1795     -6690     \n+ Partials        776      13      -763     \n```\n\n| Flag | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.37% <Ã¸> (-60.06%)` | `0.00 <Ã¸> (Ã¸)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2782?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2782/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2782/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2782/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2782/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2782/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2782/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2782/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2782/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2782/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2782/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [339 more](https://codecov.io/gh/apache/hudi/pull/2782/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814831752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814844457","html_url":"https://github.com/apache/hudi/pull/2720#issuecomment-814844457","issue_url":"https://api.github.com/repos/apache/hudi/issues/2720","id":814844457,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDg0NDQ1Nw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T11:39:17Z","updated_at":"2021-04-07T11:39:17Z","author_association":"CONTRIBUTOR","body":"@xushiyan : I see you have disabled test in TestHoodieCombineHiveInputFormat. can you help explain the reason. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814844457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814930600","html_url":"https://github.com/apache/hudi/pull/2753#issuecomment-814930600","issue_url":"https://api.github.com/repos/apache/hudi/issues/2753","id":814930600,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDkzMDYwMA==","user":{"login":"li36909","id":3632162,"node_id":"MDQ6VXNlcjM2MzIxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/3632162?v=4","gravatar_id":"","url":"https://api.github.com/users/li36909","html_url":"https://github.com/li36909","followers_url":"https://api.github.com/users/li36909/followers","following_url":"https://api.github.com/users/li36909/following{/other_user}","gists_url":"https://api.github.com/users/li36909/gists{/gist_id}","starred_url":"https://api.github.com/users/li36909/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/li36909/subscriptions","organizations_url":"https://api.github.com/users/li36909/orgs","repos_url":"https://api.github.com/users/li36909/repos","events_url":"https://api.github.com/users/li36909/events{/privacy}","received_events_url":"https://api.github.com/users/li36909/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T13:50:11Z","updated_at":"2021-04-07T13:50:11Z","author_association":"CONTRIBUTOR","body":"@nsivabalan thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814930600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814931307","html_url":"https://github.com/apache/hudi/pull/2752#issuecomment-814931307","issue_url":"https://api.github.com/repos/apache/hudi/issues/2752","id":814931307,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDkzMTMwNw==","user":{"login":"li36909","id":3632162,"node_id":"MDQ6VXNlcjM2MzIxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/3632162?v=4","gravatar_id":"","url":"https://api.github.com/users/li36909","html_url":"https://github.com/li36909","followers_url":"https://api.github.com/users/li36909/followers","following_url":"https://api.github.com/users/li36909/following{/other_user}","gists_url":"https://api.github.com/users/li36909/gists{/gist_id}","starred_url":"https://api.github.com/users/li36909/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/li36909/subscriptions","organizations_url":"https://api.github.com/users/li36909/orgs","repos_url":"https://api.github.com/users/li36909/repos","events_url":"https://api.github.com/users/li36909/events{/privacy}","received_events_url":"https://api.github.com/users/li36909/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T13:51:00Z","updated_at":"2021-04-07T13:51:00Z","author_association":"CONTRIBUTOR","body":"@n3nash  thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814931307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814932095","html_url":"https://github.com/apache/hudi/pull/2754#issuecomment-814932095","issue_url":"https://api.github.com/repos/apache/hudi/issues/2754","id":814932095,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDkzMjA5NQ==","user":{"login":"li36909","id":3632162,"node_id":"MDQ6VXNlcjM2MzIxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/3632162?v=4","gravatar_id":"","url":"https://api.github.com/users/li36909","html_url":"https://github.com/li36909","followers_url":"https://api.github.com/users/li36909/followers","following_url":"https://api.github.com/users/li36909/following{/other_user}","gists_url":"https://api.github.com/users/li36909/gists{/gist_id}","starred_url":"https://api.github.com/users/li36909/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/li36909/subscriptions","organizations_url":"https://api.github.com/users/li36909/orgs","repos_url":"https://api.github.com/users/li36909/repos","events_url":"https://api.github.com/users/li36909/events{/privacy}","received_events_url":"https://api.github.com/users/li36909/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T13:51:53Z","updated_at":"2021-04-07T13:51:53Z","author_association":"CONTRIBUTOR","body":"@n3nash @pratyakshsharma thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814932095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814990246","html_url":"https://github.com/apache/hudi/issues/2399#issuecomment-814990246","issue_url":"https://api.github.com/repos/apache/hudi/issues/2399","id":814990246,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDk5MDI0Ng==","user":{"login":"BenjMaq","id":24474267,"node_id":"MDQ6VXNlcjI0NDc0MjY3","avatar_url":"https://avatars.githubusercontent.com/u/24474267?v=4","gravatar_id":"","url":"https://api.github.com/users/BenjMaq","html_url":"https://github.com/BenjMaq","followers_url":"https://api.github.com/users/BenjMaq/followers","following_url":"https://api.github.com/users/BenjMaq/following{/other_user}","gists_url":"https://api.github.com/users/BenjMaq/gists{/gist_id}","starred_url":"https://api.github.com/users/BenjMaq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenjMaq/subscriptions","organizations_url":"https://api.github.com/users/BenjMaq/orgs","repos_url":"https://api.github.com/users/BenjMaq/repos","events_url":"https://api.github.com/users/BenjMaq/events{/privacy}","received_events_url":"https://api.github.com/users/BenjMaq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T15:05:12Z","updated_at":"2021-04-07T15:05:12Z","author_association":"NONE","body":"Just want to add that I faced the same issue. For me, the problem was related to the option `.option(DataSourceWriteOptions.KEYGENERATOR_CLASS_OPT_KEY, \"org.apache.hudi.keygen.ComplexKeyGenerator\") that `I set for the `UPSERT` but not for the `DELETE`.\r\n\r\nThanks @afeldman1 for reverting back to explain the fix, it led me on the right track.\r\n\r\nbtw, I'm also wondering why this fails?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/814990246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815011207","html_url":"https://github.com/apache/hudi/issues/2399#issuecomment-815011207","issue_url":"https://api.github.com/repos/apache/hudi/issues/2399","id":815011207,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTAxMTIwNw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T15:32:42Z","updated_at":"2021-04-07T15:32:42Z","author_association":"CONTRIBUTOR","body":"btw, we have filed a feature request to support reusing existing hudi configs https://issues.apache.org/jira/browse/HUDI-1640 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815011207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815015923","html_url":"https://github.com/apache/hudi/issues/2743#issuecomment-815015923","issue_url":"https://api.github.com/repos/apache/hudi/issues/2743","id":815015923,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTAxNTkyMw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T15:39:12Z","updated_at":"2021-04-07T15:39:12Z","author_association":"CONTRIBUTOR","body":"@lw309637554 @satishkotha : fyi we are yet to add spark ds support for this \"delete_partition\" operation. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815015923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815156685","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-815156685","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":815156685,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTE1NjY4NQ==","user":{"login":"ssdong","id":3754011,"node_id":"MDQ6VXNlcjM3NTQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3754011?v=4","gravatar_id":"","url":"https://api.github.com/users/ssdong","html_url":"https://github.com/ssdong","followers_url":"https://api.github.com/users/ssdong/followers","following_url":"https://api.github.com/users/ssdong/following{/other_user}","gists_url":"https://api.github.com/users/ssdong/gists{/gist_id}","starred_url":"https://api.github.com/users/ssdong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssdong/subscriptions","organizations_url":"https://api.github.com/users/ssdong/orgs","repos_url":"https://api.github.com/users/ssdong/repos","events_url":"https://api.github.com/users/ssdong/events{/privacy}","received_events_url":"https://api.github.com/users/ssdong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T19:08:20Z","updated_at":"2021-04-07T19:08:20Z","author_association":"CONTRIBUTOR","body":"Hi @satishkotha @jsbali ! I've created the pull request for this issue. Had observed more when going down the road and I've tried my best to clarify them and hopefully had written a detailed enough description for the PR. Let me know. Thanks! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815156685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815166346","html_url":"https://github.com/apache/hudi/pull/2784#issuecomment-815166346","issue_url":"https://api.github.com/repos/apache/hudi/issues/2784","id":815166346,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTE2NjM0Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T19:24:19Z","updated_at":"2021-04-10T18:27:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2784?src=pr&el=h1) Report\n> Merging [#2784](https://codecov.io/gh/apache/hudi/pull/2784?src=pr&el=desc) (cc724b8) into [master](https://codecov.io/gh/apache/hudi/commit/920537cac83d59ac05676fb952d5479c41adf757?el=desc) (920537c) will **increase** coverage by `0.24%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2784/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2784?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2784      +/-   ##\n============================================\n+ Coverage     52.30%   52.55%   +0.24%     \n- Complexity     3689     3707      +18     \n============================================\n  Files           483      485       +2     \n  Lines         23099    23172      +73     \n  Branches       2460     2459       -1     \n============================================\n+ Hits          12082    12177      +95     \n+ Misses         9949     9923      -26     \n- Partials       1068     1072       +4     \n```\n\n| Flag | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| hudicli | `40.29% <Ã¸> (+3.35%)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudiclient | `âˆ… <Ã¸> (âˆ…)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudicommon | `50.67% <Ã¸> (-0.14%)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudiflink | `56.57% <Ã¸> (-0.14%)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudihadoopmr | `33.44% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudisparkdatasource | `71.33% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudisync | `45.70% <Ã¸> (+0.23%)` | `0.00 <Ã¸> (Ã¸)` | |\n| huditimelineservice | `64.36% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudiutilities | `69.72% <Ã¸> (-0.02%)` | `0.00 <Ã¸> (Ã¸)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2784?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [.../apache/hudi/sink/compact/CompactionPlanEvent.java](https://codecov.io/gh/apache/hudi/pull/2784/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvQ29tcGFjdGlvblBsYW5FdmVudC5qYXZh) | `50.00% <0.00%> (-50.00%)` | `3.00% <0.00%> (Ã¸%)` | |\n| [...pache/hudi/sink/compact/CompactionCommitEvent.java](https://codecov.io/gh/apache/hudi/pull/2784/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvQ29tcGFjdGlvbkNvbW1pdEV2ZW50LmphdmE=) | `43.75% <0.00%> (-43.75%)` | `3.00% <0.00%> (Ã¸%)` | |\n| [.../org/apache/hudi/sink/utils/NonThrownExecutor.java](https://codecov.io/gh/apache/hudi/pull/2784/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3V0aWxzL05vblRocm93bkV4ZWN1dG9yLmphdmE=) | `66.66% <0.00%> (-11.12%)` | `4.00% <0.00%> (-1.00%)` | |\n| [...e/hudi/sink/transform/RowDataToHoodieFunction.java](https://codecov.io/gh/apache/hudi/pull/2784/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3RyYW5zZm9ybS9Sb3dEYXRhVG9Ib29kaWVGdW5jdGlvbi5qYXZh) | `83.33% <0.00%> (-7.58%)` | `5.00% <0.00%> (-1.00%)` | |\n| [...ache/hudi/sink/StreamWriteOperatorCoordinator.java](https://codecov.io/gh/apache/hudi/pull/2784/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlT3BlcmF0b3JDb29yZGluYXRvci5qYXZh) | `68.54% <0.00%> (-5.78%)` | `28.00% <0.00%> (-5.00%)` | |\n| [...n/java/org/apache/hudi/common/model/HoodieKey.java](https://codecov.io/gh/apache/hudi/pull/2784/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUtleS5qYXZh) | `41.66% <0.00%> (-2.78%)` | `7.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...java/org/apache/hudi/sink/StreamWriteFunction.java](https://codecov.io/gh/apache/hudi/pull/2784/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlRnVuY3Rpb24uamF2YQ==) | `80.50% <0.00%> (-2.57%)` | `22.00% <0.00%> (-1.00%)` | |\n| [...i/common/table/timeline/TimelineMetadataUtils.java](https://codecov.io/gh/apache/hudi/pull/2784/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL1RpbWVsaW5lTWV0YWRhdGFVdGlscy5qYXZh) | `70.17% <0.00%> (-2.56%)` | `17.00% <0.00%> (Ã¸%)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2784/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | `26.00% <0.00%> (Ã¸%)` | |\n| [...he/hudi/sink/partitioner/BucketAssignFunction.java](https://codecov.io/gh/apache/hudi/pull/2784/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3BhcnRpdGlvbmVyL0J1Y2tldEFzc2lnbkZ1bmN0aW9uLmphdmE=) | `85.18% <0.00%> (-1.42%)` | `17.00% <0.00%> (-7.00%)` | |\n| ... and [21 more](https://codecov.io/gh/apache/hudi/pull/2784/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815166346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815167427","html_url":"https://github.com/apache/hudi/pull/2747#issuecomment-815167427","issue_url":"https://api.github.com/repos/apache/hudi/issues/2747","id":815167427,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTE2NzQyNw==","user":{"login":"vingov","id":1142498,"node_id":"MDQ6VXNlcjExNDI0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1142498?v=4","gravatar_id":"","url":"https://api.github.com/users/vingov","html_url":"https://github.com/vingov","followers_url":"https://api.github.com/users/vingov/followers","following_url":"https://api.github.com/users/vingov/following{/other_user}","gists_url":"https://api.github.com/users/vingov/gists{/gist_id}","starred_url":"https://api.github.com/users/vingov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vingov/subscriptions","organizations_url":"https://api.github.com/users/vingov/orgs","repos_url":"https://api.github.com/users/vingov/repos","events_url":"https://api.github.com/users/vingov/events{/privacy}","received_events_url":"https://api.github.com/users/vingov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T19:26:09Z","updated_at":"2021-04-07T19:26:09Z","author_association":"CONTRIBUTOR","body":"@yanghua - I don't see the unit tests for the existing transformers except for two functions, I don't have time now to write unit tests, can I handle it in a separate pull request where I can write unit tests for all transformers?\r\n\r\nThis is blocking my data pipelines, can we make an exception and merge this pull request?  I'm happy to create a JIRA to track the unit tests for all transformers. thoughts?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815167427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815168500","html_url":"https://github.com/apache/hudi/pull/2665#issuecomment-815168500","issue_url":"https://api.github.com/repos/apache/hudi/issues/2665","id":815168500,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTE2ODUwMA==","user":{"login":"ze-engineering-code-challenge","id":53306055,"node_id":"MDQ6VXNlcjUzMzA2MDU1","avatar_url":"https://avatars.githubusercontent.com/u/53306055?v=4","gravatar_id":"","url":"https://api.github.com/users/ze-engineering-code-challenge","html_url":"https://github.com/ze-engineering-code-challenge","followers_url":"https://api.github.com/users/ze-engineering-code-challenge/followers","following_url":"https://api.github.com/users/ze-engineering-code-challenge/following{/other_user}","gists_url":"https://api.github.com/users/ze-engineering-code-challenge/gists{/gist_id}","starred_url":"https://api.github.com/users/ze-engineering-code-challenge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ze-engineering-code-challenge/subscriptions","organizations_url":"https://api.github.com/users/ze-engineering-code-challenge/orgs","repos_url":"https://api.github.com/users/ze-engineering-code-challenge/repos","events_url":"https://api.github.com/users/ze-engineering-code-challenge/events{/privacy}","received_events_url":"https://api.github.com/users/ze-engineering-code-challenge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T19:28:09Z","updated_at":"2021-04-07T19:28:09Z","author_association":"NONE","body":"Hello\r\n\r\n@liujinhui1994 Should I enable any option to work?\r\n\r\nIm trying to do an upsert in a Hudi table with 0.8.0 version and didn't work :(\r\n\r\nCaused by: org.apache.parquet.io.InvalidRecordException: Parquet/Avro schema mismatch: Avro field 'cf_categoria' not found","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815168500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815182803","html_url":"https://github.com/apache/hudi/issues/2528#issuecomment-815182803","issue_url":"https://api.github.com/repos/apache/hudi/issues/2528","id":815182803,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTE4MjgwMw==","user":{"login":"kvallala","id":61923660,"node_id":"MDQ6VXNlcjYxOTIzNjYw","avatar_url":"https://avatars.githubusercontent.com/u/61923660?v=4","gravatar_id":"","url":"https://api.github.com/users/kvallala","html_url":"https://github.com/kvallala","followers_url":"https://api.github.com/users/kvallala/followers","following_url":"https://api.github.com/users/kvallala/following{/other_user}","gists_url":"https://api.github.com/users/kvallala/gists{/gist_id}","starred_url":"https://api.github.com/users/kvallala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kvallala/subscriptions","organizations_url":"https://api.github.com/users/kvallala/orgs","repos_url":"https://api.github.com/users/kvallala/repos","events_url":"https://api.github.com/users/kvallala/events{/privacy}","received_events_url":"https://api.github.com/users/kvallala/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T19:52:05Z","updated_at":"2021-04-13T15:41:45Z","author_association":"NONE","body":"@nsivabalan   We are having the same issue. It works with `spark.sql.hive.convertMetastoreParquet=false`  when querying Hudi table from spark session, but see duplicates when querying through external hive metastore.  Could you pls suggest the required configuration to be set for external Hive Metastore so it works when querying from Hue/spark SQL or any other speed layer (like Dremio) that connects to Hive Metastore to query the Hudi tables ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815182803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815291682","html_url":"https://github.com/apache/hudi/pull/2784#issuecomment-815291682","issue_url":"https://api.github.com/repos/apache/hudi/issues/2784","id":815291682,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTI5MTY4Mg==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T22:00:56Z","updated_at":"2021-04-07T22:00:56Z","author_association":"MEMBER","body":"@ssdong  thanks for bringing this up and contributing. I added some comments, please take a look. Also, looks like there are some CI failures. Please fix those as well.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815291682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815292886","html_url":"https://github.com/apache/hudi/issues/2771#issuecomment-815292886","issue_url":"https://api.github.com/repos/apache/hudi/issues/2771","id":815292886,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTI5Mjg4Ng==","user":{"login":"stackfun","id":68627128,"node_id":"MDQ6VXNlcjY4NjI3MTI4","avatar_url":"https://avatars.githubusercontent.com/u/68627128?v=4","gravatar_id":"","url":"https://api.github.com/users/stackfun","html_url":"https://github.com/stackfun","followers_url":"https://api.github.com/users/stackfun/followers","following_url":"https://api.github.com/users/stackfun/following{/other_user}","gists_url":"https://api.github.com/users/stackfun/gists{/gist_id}","starred_url":"https://api.github.com/users/stackfun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stackfun/subscriptions","organizations_url":"https://api.github.com/users/stackfun/orgs","repos_url":"https://api.github.com/users/stackfun/repos","events_url":"https://api.github.com/users/stackfun/events{/privacy}","received_events_url":"https://api.github.com/users/stackfun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T22:03:43Z","updated_at":"2021-04-07T22:03:43Z","author_association":"NONE","body":"Setting the \"hoodie.compaction.target.io\" config worked like a charm. Thanks a lot!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815292886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815296739","html_url":"https://github.com/apache/hudi/issues/2770#issuecomment-815296739","issue_url":"https://api.github.com/repos/apache/hudi/issues/2770","id":815296739,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTI5NjczOQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T22:12:54Z","updated_at":"2021-04-07T22:12:54Z","author_association":"NONE","body":"@nsivabalan I think the error in on my side.\r\n\r\nI didn't filter the deleted records on the first batch, it could be a great feature to Hudi in the future.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815296739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815315164","html_url":"https://github.com/apache/hudi/issues/2770#issuecomment-815315164","issue_url":"https://api.github.com/repos/apache/hudi/issues/2770","id":815315164,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTMxNTE2NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T23:01:59Z","updated_at":"2021-04-07T23:01:59Z","author_association":"CONTRIBUTOR","body":"Sorry, what feature you are looking for. can you please clarify. hudi automatically deletes those records which has \"_hoodie_is_deleted\" set to true. in other words, if you have a batch of write, with mixed set of records (inserts, updates, deletes), hudi will honor all 3. you just need to use \"upsert\" as your operation type. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815315164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815376490","html_url":"https://github.com/apache/hudi/pull/1946#issuecomment-815376490","issue_url":"https://api.github.com/repos/apache/hudi/issues/1946","id":815376490,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTM3NjQ5MA==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T01:17:10Z","updated_at":"2021-04-08T01:17:10Z","author_association":"CONTRIBUTOR","body":"@wangxianghu: had upgrade to `2.13.3` and fix the warning.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815376490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815400787","html_url":"https://github.com/apache/hudi/pull/2785#issuecomment-815400787","issue_url":"https://api.github.com/repos/apache/hudi/issues/2785","id":815400787,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQwMDc4Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T02:31:21Z","updated_at":"2021-04-08T06:22:48Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2785?src=pr&el=h1) Report\n> Merging [#2785](https://codecov.io/gh/apache/hudi/pull/2785?src=pr&el=desc) (a53b11e) into [master](https://codecov.io/gh/apache/hudi/commit/3a926aacf6552fc06005db4a7880a233db904330?el=desc) (3a926aa) will **increase** coverage by `0.01%`.\n> The diff coverage is `94.11%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2785/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2785?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2785      +/-   ##\n============================================\n+ Coverage     47.05%   47.07%   +0.01%     \n- Complexity     3357     3359       +2     \n============================================\n  Files           484      484              \n  Lines         23094    23107      +13     \n  Branches       2456     2457       +1     \n============================================\n+ Hits          10868    10878      +10     \n- Misses        11280    11282       +2     \n- Partials        946      947       +1     \n```\n\n| Flag | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| hudicli | `36.94% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudiclient | `âˆ… <Ã¸> (âˆ…)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudicommon | `50.77% <Ã¸> (-0.02%)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudiflink | `56.71% <94.11%> (+0.12%)` | `0.00 <0.00> (Ã¸)` | |\n| hudihadoopmr | `33.44% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudisparkdatasource | `71.33% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudisync | `45.47% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| huditimelineservice | `64.36% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n| hudiutilities | `9.37% <Ã¸> (Ã¸)` | `0.00 <Ã¸> (Ã¸)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2785?src=pr&el=tree) | Coverage Î” | Complexity Î” | |\n|---|---|---|---|\n| [...in/java/org/apache/hudi/table/HoodieTableSink.java](https://codecov.io/gh/apache/hudi/pull/2785/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNpbmsuamF2YQ==) | `11.90% <0.00%> (-0.30%)` | `2.00 <0.00> (Ã¸)` | |\n| [...va/org/apache/hudi/configuration/FlinkOptions.java](https://codecov.io/gh/apache/hudi/pull/2785/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9jb25maWd1cmF0aW9uL0ZsaW5rT3B0aW9ucy5qYXZh) | `89.42% <100.00%> (+0.35%)` | `11.00 <0.00> (Ã¸)` | |\n| [...he/hudi/sink/partitioner/BucketAssignFunction.java](https://codecov.io/gh/apache/hudi/pull/2785/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3BhcnRpdGlvbmVyL0J1Y2tldEFzc2lnbkZ1bmN0aW9uLmphdmE=) | `88.00% <100.00%> (+0.32%)` | `17.00 <0.00> (+2.00)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2785/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | `26.00% <0.00%> (Ã¸%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815400787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815405634","html_url":"https://github.com/apache/hudi/pull/2773#issuecomment-815405634","issue_url":"https://api.github.com/repos/apache/hudi/issues/2773","id":815405634,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQwNTYzNA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T02:47:24Z","updated_at":"2021-04-08T02:47:24Z","author_association":"CONTRIBUTOR","body":"@jintaoguan add some minor comments","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815405634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815405833","html_url":"https://github.com/apache/hudi/pull/2765#issuecomment-815405833","issue_url":"https://api.github.com/repos/apache/hudi/issues/2765","id":815405833,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQwNTgzMw==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T02:48:03Z","updated_at":"2021-04-08T02:48:03Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815405833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815413234","html_url":"https://github.com/apache/hudi/pull/2784#issuecomment-815413234","issue_url":"https://api.github.com/repos/apache/hudi/issues/2784","id":815413234,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQxMzIzNA==","user":{"login":"ssdong","id":3754011,"node_id":"MDQ6VXNlcjM3NTQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3754011?v=4","gravatar_id":"","url":"https://api.github.com/users/ssdong","html_url":"https://github.com/ssdong","followers_url":"https://api.github.com/users/ssdong/followers","following_url":"https://api.github.com/users/ssdong/following{/other_user}","gists_url":"https://api.github.com/users/ssdong/gists{/gist_id}","starred_url":"https://api.github.com/users/ssdong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssdong/subscriptions","organizations_url":"https://api.github.com/users/ssdong/orgs","repos_url":"https://api.github.com/users/ssdong/repos","events_url":"https://api.github.com/users/ssdong/events{/privacy}","received_events_url":"https://api.github.com/users/ssdong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T03:11:53Z","updated_at":"2021-04-08T03:11:53Z","author_association":"CONTRIBUTOR","body":"@satishkotha Thank you for your review! Iâ€™ll take a look when I get back. Currently on a day trip. ðŸ˜„ \r\nBasically, I wanna stop the abuse of `REQUESTED` here, at least for the insert overwrite writing operation, and separate it from `INFLIGHT`. With non-empty inflight commit files, we will suffer info loss. However, as you pointed out, this solution should also work against empty inflight files, I.e. clustering. \r\nI consider this a start to clean up and clarify various commit file logics as we have another issue of creating completely empty `REQUESTED` commit files. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815413234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815417193","html_url":"https://github.com/apache/hudi/pull/2747#issuecomment-815417193","issue_url":"https://api.github.com/repos/apache/hudi/issues/2747","id":815417193,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQxNzE5Mw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T03:23:37Z","updated_at":"2021-04-08T03:23:37Z","author_association":"CONTRIBUTOR","body":"> @yanghua - I don't see the unit tests for the existing transformers except for two functions, I don't have time now to write unit tests, can I handle it in a separate pull request where I can write unit tests for all transformers?\r\n\r\nIt's better to follow a unified contribution guide. If we can test it,  we should test it, so that we can make sure the code quality.\r\n\r\n> This is blocking my data pipelines, can we make an exception and merge this pull request? I'm happy to create a JIRA to track the unit tests for all transformers. thoughts?\r\n\r\nYou can pick this patch into your inner branch. wdyt?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815417193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815419885","html_url":"https://github.com/apache/hudi/pull/2325#issuecomment-815419885","issue_url":"https://api.github.com/repos/apache/hudi/issues/2325","id":815419885,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQxOTg4NQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T03:31:56Z","updated_at":"2021-04-08T03:31:56Z","author_association":"CONTRIBUTOR","body":"> @wangxianghu: It's OK now.\r\n\r\nThanks for your patience, I will do a final check soon.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815419885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815456351","html_url":"https://github.com/apache/hudi/issues/2743#issuecomment-815456351","issue_url":"https://api.github.com/repos/apache/hudi/issues/2743","id":815456351,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ1NjM1MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T05:24:06Z","updated_at":"2021-04-08T05:24:06Z","author_association":"CONTRIBUTOR","body":"@aditiwari01 I think you mentioned 2 issues here \r\n\r\n1. Record level TTL -> We don't have such a feature in Hudi. Like others have pointed out, using the `hudiTable.deletePartitions()` API is a way to manage older partitions. Yes, you could partition based on _hoodie_commit_time or any other date based partitioning that structures your table to be eligible for deleting older partitions completely. \r\n2. Duplicates across partitions -> If you have an update workload and are using the `upsert` API, yes, using a GlobalIndex will help eliminate duplicates for your table. \r\n\r\nAs @nsivabalan pointed out, we don't have such support out of the spark datasource but have a low level API as pointed above. We welcome contributions and would be good to add this support in spark datasource - let me know if you want to contribute this feature and we can guide you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815456351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815457616","html_url":"https://github.com/apache/hudi/pull/2783#issuecomment-815457616","issue_url":"https://api.github.com/repos/apache/hudi/issues/2783","id":815457616,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ1NzYxNg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T05:27:29Z","updated_at":"2021-04-08T05:27:29Z","author_association":"CONTRIBUTOR","body":"@garyli1019 The CI is failing, can you take a look ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815457616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815460958","html_url":"https://github.com/apache/hudi/issues/2707#issuecomment-815460958","issue_url":"https://api.github.com/repos/apache/hudi/issues/2707","id":815460958,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ2MDk1OA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T05:35:06Z","updated_at":"2021-04-08T05:35:06Z","author_association":"CONTRIBUTOR","body":"@ssdong Thanks for opening the PR! Closing this issue now","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815460958/reactions","total_count":2,"+1":1,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815461755","html_url":"https://github.com/apache/hudi/issues/2705#issuecomment-815461755","issue_url":"https://api.github.com/repos/apache/hudi/issues/2705","id":815461755,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ2MTc1NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T05:37:02Z","updated_at":"2021-04-08T05:37:02Z","author_association":"CONTRIBUTOR","body":"Closing this issue since this requires a bug fix, please follow the JIRA above for updates/details. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815461755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815462565","html_url":"https://github.com/apache/hudi/issues/2743#issuecomment-815462565","issue_url":"https://api.github.com/repos/apache/hudi/issues/2743","id":815462565,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ2MjU2NQ==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T05:38:52Z","updated_at":"2021-04-08T05:38:52Z","author_association":"CONTRIBUTOR","body":"@n3nash Thanks for the clarificatio. Can we create a jira for the same. I can't pick this right away but would try to conntribute as and when I get time. \r\nMeanwhile I will try to directly use the low level api to unblock myself.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815462565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815462588","html_url":"https://github.com/apache/hudi/issues/2692#issuecomment-815462588","issue_url":"https://api.github.com/repos/apache/hudi/issues/2692","id":815462588,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ2MjU4OA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T05:38:55Z","updated_at":"2021-04-08T05:39:23Z","author_association":"CONTRIBUTOR","body":"@vburenin Can you please open a JIRA ticket with the details on \"huge data losses with hudi 0.5.0 and EMR\" ? This seems super critical and I would like to know the issues ASAP, don't want to pollute this thread. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815462588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]