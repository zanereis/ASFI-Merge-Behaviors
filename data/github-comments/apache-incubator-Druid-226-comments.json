[{"url":"https://api.github.com/repos/apache/druid/issues/comments/468864785","html_url":"https://github.com/apache/druid/issues/7180#issuecomment-468864785","issue_url":"https://api.github.com/repos/apache/druid/issues/7180","id":468864785,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODg2NDc4NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-02T01:12:06Z","updated_at":"2019-03-02T01:12:06Z","author_association":"CONTRIBUTOR","body":"Hmm, what happens if the marker file is corrupted or deleted?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/468864785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/468878262","html_url":"https://github.com/apache/druid/issues/7180#issuecomment-468878262","issue_url":"https://api.github.com/repos/apache/druid/issues/7180","id":468878262,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODg3ODI2Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-02T03:23:57Z","updated_at":"2019-03-02T03:24:34Z","author_association":"CONTRIBUTOR","body":"You can have incompatible configs which prevent accidental cross launching without resorting to cluster names. For example, you can make the zookeeper paths they announce completely separately, but even use the same zk quorum. You can have the segment cache locations have a special key per environment so if it gets deployed to the wrong one it won't work. You can specify which metadata databases you use or table prefixes so you don't accidentally use the wrong one in the wrong environment.\r\n\r\nInstead of cluster name, I think the \"how to productionize a cluster\" should be expanded to highlight the ways you can separate out the operating namespaces of these different components to either eliminate or minimize such a scenario.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/468878262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/468890906","html_url":"https://github.com/apache/druid/issues/7161#issuecomment-468890906","issue_url":"https://api.github.com/repos/apache/druid/issues/7161","id":468890906,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODg5MDkwNg==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-02T06:26:11Z","updated_at":"2019-03-02T06:26:11Z","author_association":"CONTRIBUTOR","body":"I don't know what algorithm is being used to establish the \"TopN\", but I hope it isn't the old \r\n- Sort each node \r\n- Take the top 1000 from each node\r\n- Merge the samples from each node together and sort\r\n- Take the top 100 from that list and hope (yes hope) that you have captured the top 100.\r\n\r\nThis can result in unknown and significant errors, depending on how the data is distributed across the nodes, and cannot give any information about which ones in that final list actually belong there, what the error might be in its position in the list, and which ones in the list might just be noise.  This technique is just a heuristic and it is not hard to prove how it can return very misleading results. \r\n\r\nThis can be can be much more efficiently, accurately, and confidently solved using the DataSketches [Frequent Items sketch (FIS)](https://datasketches.github.io/docs/FrequentItems/FrequentItemsOverview.html). \r\n\r\nThe FIS will tell you the upper and lower bounds of the actual weights of each item, which can be used to establish the range within which the true weight must lie.  However, when those ranges overlap, it creates a tie situation in terms of actual order.  Nonetheless, these bounds can be used to identify which items may be tied, for example, for the 3rd position.  These bounds, by the way are hard bounds, so the confidence is 100%.\r\n\r\nAlso, you can query the sketch using either the NO_FALSE_POSITIVES (more strict)  or a NO_FALSE_NEGATIVES (less strict) query.  But under no circumstances with the sketch return items that fall below the noise floor.\r\n\r\nBe aware that the reason that this sketch is called \"Frequent Items\" is that there may not be any items that are more frequent than any of the others (I.e. if they all occur with the same frequency).  Thus, returning zero results can happen. Thus the name \"TopN\" is misleading as there may not be N items returned.\r\n\r\nThis is why I prefer to call this kind of operation \"Frequent Items\" or \"Heavy Hitters\" and not \"TopN\".","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/468890906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/468900914","html_url":"https://github.com/apache/druid/issues/7147#issuecomment-468900914","issue_url":"https://api.github.com/repos/apache/druid/issues/7147","id":468900914,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODkwMDkxNA==","user":{"login":"shivtools","id":12538052,"node_id":"MDQ6VXNlcjEyNTM4MDUy","avatar_url":"https://avatars.githubusercontent.com/u/12538052?v=4","gravatar_id":"","url":"https://api.github.com/users/shivtools","html_url":"https://github.com/shivtools","followers_url":"https://api.github.com/users/shivtools/followers","following_url":"https://api.github.com/users/shivtools/following{/other_user}","gists_url":"https://api.github.com/users/shivtools/gists{/gist_id}","starred_url":"https://api.github.com/users/shivtools/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shivtools/subscriptions","organizations_url":"https://api.github.com/users/shivtools/orgs","repos_url":"https://api.github.com/users/shivtools/repos","events_url":"https://api.github.com/users/shivtools/events{/privacy}","received_events_url":"https://api.github.com/users/shivtools/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-02T08:41:33Z","updated_at":"2019-03-02T08:41:33Z","author_association":"CONTRIBUTOR","body":"Hey @leventov, you're right! I tuned the server selection to use reservoir sampling as you suggested. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/468900914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/468956901","html_url":"https://github.com/apache/druid/pull/7154#issuecomment-468956901","issue_url":"https://api.github.com/repos/apache/druid/issues/7154","id":468956901,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODk1NjkwMQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-02T20:24:43Z","updated_at":"2019-03-02T20:24:43Z","author_association":"CONTRIBUTOR","body":"@leventov @egor-ryashin any more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/468956901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469075006","html_url":"https://github.com/apache/druid/pull/7154#issuecomment-469075006","issue_url":"https://api.github.com/repos/apache/druid/issues/7154","id":469075006,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTA3NTAwNg==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-03T23:06:17Z","updated_at":"2019-03-03T23:06:17Z","author_association":"CONTRIBUTOR","body":"Aside from other comments, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469075006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469076537","html_url":"https://github.com/apache/druid/pull/7048#issuecomment-469076537","issue_url":"https://api.github.com/repos/apache/druid/issues/7048","id":469076537,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTA3NjUzNw==","user":{"login":"glasser","id":16724,"node_id":"MDQ6VXNlcjE2NzI0","avatar_url":"https://avatars.githubusercontent.com/u/16724?v=4","gravatar_id":"","url":"https://api.github.com/users/glasser","html_url":"https://github.com/glasser","followers_url":"https://api.github.com/users/glasser/followers","following_url":"https://api.github.com/users/glasser/following{/other_user}","gists_url":"https://api.github.com/users/glasser/gists{/gist_id}","starred_url":"https://api.github.com/users/glasser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glasser/subscriptions","organizations_url":"https://api.github.com/users/glasser/orgs","repos_url":"https://api.github.com/users/glasser/repos","events_url":"https://api.github.com/users/glasser/events{/privacy}","received_events_url":"https://api.github.com/users/glasser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-03T23:26:04Z","updated_at":"2019-03-03T23:26:04Z","author_association":"CONTRIBUTOR","body":"Note that I'm holding off on cleaning up the integration tests here until https://github.com/apache/incubator-druid/pull/7171 is merged. I should write unit tests (eg of the splitting algorithm) though.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469076537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469077048","html_url":"https://github.com/apache/druid/issues/7180#issuecomment-469077048","issue_url":"https://api.github.com/repos/apache/druid/issues/7180","id":469077048,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTA3NzA0OA==","user":{"login":"glasser","id":16724,"node_id":"MDQ6VXNlcjE2NzI0","avatar_url":"https://avatars.githubusercontent.com/u/16724?v=4","gravatar_id":"","url":"https://api.github.com/users/glasser","html_url":"https://github.com/glasser","followers_url":"https://api.github.com/users/glasser/followers","following_url":"https://api.github.com/users/glasser/following{/other_user}","gists_url":"https://api.github.com/users/glasser/gists{/gist_id}","starred_url":"https://api.github.com/users/glasser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glasser/subscriptions","organizations_url":"https://api.github.com/users/glasser/orgs","repos_url":"https://api.github.com/users/glasser/repos","events_url":"https://api.github.com/users/glasser/events{/privacy}","received_events_url":"https://api.github.com/users/glasser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-03T23:32:06Z","updated_at":"2019-03-03T23:32:06Z","author_association":"CONTRIBUTOR","body":"@jihoonson I think it would be OK to treat that as \"don't use the segment cache\" (treat as empty or refuse to start up) — if one file in the segment cache is corrupted, why would any other file be more trustworthy?\r\n\r\n@drcrallen Yes, in retrospect it is blindingly obvious how many things we could have done to avoid this issue. But we failed to do so, and the failure mode was incredibly scary.  Our cluster nearly instantly dropped the majority of its data. Even once it was \"fixed\" it took hours for historicals to reload. And had we not turned off kill tasks that morning we could have permanently lost most of our data.  I do think doing something to avoid the severity of the issue would be a good idea. Plus I want the cluster name in the web console :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469077048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469078855","html_url":"https://github.com/apache/druid/issues/7180#issuecomment-469078855","issue_url":"https://api.github.com/repos/apache/druid/issues/7180","id":469078855,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTA3ODg1NQ==","user":{"login":"glasser","id":16724,"node_id":"MDQ6VXNlcjE2NzI0","avatar_url":"https://avatars.githubusercontent.com/u/16724?v=4","gravatar_id":"","url":"https://api.github.com/users/glasser","html_url":"https://github.com/glasser","followers_url":"https://api.github.com/users/glasser/followers","following_url":"https://api.github.com/users/glasser/following{/other_user}","gists_url":"https://api.github.com/users/glasser/gists{/gist_id}","starred_url":"https://api.github.com/users/glasser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glasser/subscriptions","organizations_url":"https://api.github.com/users/glasser/orgs","repos_url":"https://api.github.com/users/glasser/repos","events_url":"https://api.github.com/users/glasser/events{/privacy}","received_events_url":"https://api.github.com/users/glasser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-03T23:51:02Z","updated_at":"2019-03-03T23:52:43Z","author_association":"CONTRIBUTOR","body":"> Brokers and coordinators could ignore all segments from historicals that aren't in the druid_segments table. This potentially solves other hypothetical failure modes (running a historical on a machine with an existing segment cache which had been turned off for a long time, and some segments on it had been deleted already?) but requires more machines to talk to the metadata db more often.\r\n\r\nHere's a simpler version of the above that removes the requirement to define cluster names (though that does remove my web console benefit too :) ) and solves the exact problem in a pretty targeted way.\r\n\r\nWhen historicals (and real-time nodes I guess, though I don't know much about them) run `SegmentLoadDropHandler.loadLocalCache` on startup, they can check each segment that they find against the `druid_segments` table, and ignore any segments that aren't there.  (I think it should ignore them rather than crash, like it currently does for segment files whose info_dir filename doesn't match the actual segment id.)\r\n\r\nThis is different from my previous proposal because it's just a single startup-time check, not an ongoing process, and it's done by historicals, not coordinators and brokers.  Instead of \"filter out announced segments that aren't in the DB\", it's \"don't announce segments that aren't in the DB\".\r\n\r\nI don't know the most appropriate way to do this check is. Do historicals have access to MetadataSegmentManager or a similar class?  I think not and they probably shouldn't just for this one. Or do they have access to something like CoordinatorClient to talk to coordinators? (Do historicals ever talk to anything other than ZooKeeper and deep storage?)\r\n\r\n(I also know ~nothing about realtime nodes other than that it looks like `SegmentLoadDropHandler` is also part of it. If it's difficult to implement this feature for realtime nodes, I could consider only doing it for historicals.)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469078855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469101573","html_url":"https://github.com/apache/druid/pull/7154#issuecomment-469101573","issue_url":"https://api.github.com/repos/apache/druid/issues/7154","id":469101573,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTEwMTU3Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T02:58:24Z","updated_at":"2019-03-04T02:58:24Z","author_association":"CONTRIBUTOR","body":"@egor-ryashin can you change your status to approval?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469101573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469101926","html_url":"https://github.com/apache/druid/issues/7119#issuecomment-469101926","issue_url":"https://api.github.com/repos/apache/druid/issues/7119","id":469101926,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTEwMTkyNg==","user":{"login":"zhangxinyu1","id":12528894,"node_id":"MDQ6VXNlcjEyNTI4ODk0","avatar_url":"https://avatars.githubusercontent.com/u/12528894?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxinyu1","html_url":"https://github.com/zhangxinyu1","followers_url":"https://api.github.com/users/zhangxinyu1/followers","following_url":"https://api.github.com/users/zhangxinyu1/following{/other_user}","gists_url":"https://api.github.com/users/zhangxinyu1/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxinyu1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxinyu1/subscriptions","organizations_url":"https://api.github.com/users/zhangxinyu1/orgs","repos_url":"https://api.github.com/users/zhangxinyu1/repos","events_url":"https://api.github.com/users/zhangxinyu1/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxinyu1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T03:00:40Z","updated_at":"2019-03-04T03:00:40Z","author_association":"CONTRIBUTOR","body":"If the data of base dataSource is ingested by batch ingestion, a small value of `minDataLagMs` is suggested. e.g. 0.\r\n\r\nHowever, if the data of base dataSource is ingested by stream ingestion, e.g. kafka-indexing-servcie, the segments of based dataSource are generated each `taskDuration`. \r\n\r\nIf the value of `minDataLagMs` is too small, the derivative dataSource supervisor will submit tasks frequently along with the new ingested segments of base dataSource. I think the frequently submitted tasks may waste computing resource, so `minDataLagMs` is used to avoid a large number of tasks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469101926/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469134638","html_url":"https://github.com/apache/druid/issues/7119#issuecomment-469134638","issue_url":"https://api.github.com/repos/apache/druid/issues/7119","id":469134638,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTEzNDYzOA==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T06:31:34Z","updated_at":"2019-03-04T06:31:34Z","author_association":"NONE","body":"Thank you, @zhangxinyu1! \r\nI wish you a bright day!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469134638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469138830","html_url":"https://github.com/apache/druid/pull/6799#issuecomment-469138830","issue_url":"https://api.github.com/repos/apache/druid/issues/6799","id":469138830,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTEzODgzMA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T06:52:28Z","updated_at":"2019-03-04T06:52:28Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469138830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469182968","html_url":"https://github.com/apache/druid/pull/7182#issuecomment-469182968","issue_url":"https://api.github.com/repos/apache/druid/issues/7182","id":469182968,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTE4Mjk2OA==","user":{"login":"xueyumusic","id":95261,"node_id":"MDQ6VXNlcjk1MjYx","avatar_url":"https://avatars.githubusercontent.com/u/95261?v=4","gravatar_id":"","url":"https://api.github.com/users/xueyumusic","html_url":"https://github.com/xueyumusic","followers_url":"https://api.github.com/users/xueyumusic/followers","following_url":"https://api.github.com/users/xueyumusic/following{/other_user}","gists_url":"https://api.github.com/users/xueyumusic/gists{/gist_id}","starred_url":"https://api.github.com/users/xueyumusic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xueyumusic/subscriptions","organizations_url":"https://api.github.com/users/xueyumusic/orgs","repos_url":"https://api.github.com/users/xueyumusic/repos","events_url":"https://api.github.com/users/xueyumusic/events{/privacy}","received_events_url":"https://api.github.com/users/xueyumusic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T09:35:19Z","updated_at":"2019-03-04T09:35:19Z","author_association":"CONTRIBUTOR","body":"Hi, @gianm , Thanks a lot for review. I have rebased on master and updated the codes, thank you.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469182968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469248010","html_url":"https://github.com/apache/druid/pull/7120#issuecomment-469248010","issue_url":"https://api.github.com/repos/apache/druid/issues/7120","id":469248010,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTI0ODAxMA==","user":{"login":"kamaci","id":3921885,"node_id":"MDQ6VXNlcjM5MjE4ODU=","avatar_url":"https://avatars.githubusercontent.com/u/3921885?v=4","gravatar_id":"","url":"https://api.github.com/users/kamaci","html_url":"https://github.com/kamaci","followers_url":"https://api.github.com/users/kamaci/followers","following_url":"https://api.github.com/users/kamaci/following{/other_user}","gists_url":"https://api.github.com/users/kamaci/gists{/gist_id}","starred_url":"https://api.github.com/users/kamaci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamaci/subscriptions","organizations_url":"https://api.github.com/users/kamaci/orgs","repos_url":"https://api.github.com/users/kamaci/repos","events_url":"https://api.github.com/users/kamaci/events{/privacy}","received_events_url":"https://api.github.com/users/kamaci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T13:12:21Z","updated_at":"2019-03-04T13:12:21Z","author_association":"MEMBER","body":"@leventov @gianm could you also check my PR if possible?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469248010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469276331","html_url":"https://github.com/apache/druid/issues/5381#issuecomment-469276331","issue_url":"https://api.github.com/repos/apache/druid/issues/5381","id":469276331,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTI3NjMzMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T14:41:49Z","updated_at":"2019-03-04T14:41:49Z","author_association":"MEMBER","body":"This is likely to be fixed in #3584 which is shipped in Druid 0.10.0, closing this issue unless reproduced on the freshest Druid version.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469276331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469296307","html_url":"https://github.com/apache/druid/pull/7073#issuecomment-469296307","issue_url":"https://api.github.com/repos/apache/druid/issues/7073","id":469296307,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTI5NjMwNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T15:34:05Z","updated_at":"2019-03-04T15:34:05Z","author_association":"MEMBER","body":"Note that a similar check can *not* be removed (currently) in `DruidCoordinatorBalancer`, here:\r\nhttps://github.com/apache/incubator-druid/blob/050728b11591865991591f5ae571be009cf9bbf8/server/src/main/java/org/apache/druid/server/coordinator/helper/DruidCoordinatorBalancer.java#L182-L184\r\n\r\nBecause ServerHolder's data in `toMoveFrom` and \"availableSegments\" originate from two different sources: `ServerInventoryView` (see [`CoordinatorHistoricalManagerRunnable `](https://github.com/apache/incubator-druid/blob/050728b11591865991591f5ae571be009cf9bbf8/server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java#L677)) and `MetadataSegmentManager` (see `DruidCoordinatorSegmentInfoLoader`) respectively.\r\n\r\n(Perhaps it could be optimized somehow, I didn't think about that.)\r\n\r\nSo I think the check in `LoadRule` was added by analogy.\r\n\r\n@samarthjain could you please add a comment to the check in `DruidCoordinatorBalancer` explaining this matter?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469296307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469387816","html_url":"https://github.com/apache/druid/pull/7073#issuecomment-469387816","issue_url":"https://api.github.com/repos/apache/druid/issues/7073","id":469387816,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTM4NzgxNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T19:27:03Z","updated_at":"2019-03-04T19:27:03Z","author_association":"MEMBER","body":"> @samarthjain could you please add a comment to the check in DruidCoordinatorBalancer explaining this matter?\r\n\r\nHowever, I've added such a comment myself in #7185.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469387816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469390634","html_url":"https://github.com/apache/druid/pull/7038#issuecomment-469390634","issue_url":"https://api.github.com/repos/apache/druid/issues/7038","id":469390634,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTM5MDYzNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T19:35:01Z","updated_at":"2019-03-04T19:35:01Z","author_association":"MEMBER","body":"@egor-ryashin, I addressed your latest comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469390634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469402364","html_url":"https://github.com/apache/druid/issues/7186#issuecomment-469402364","issue_url":"https://api.github.com/repos/apache/druid/issues/7186","id":469402364,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQwMjM2NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T20:06:29Z","updated_at":"2019-03-04T20:07:25Z","author_association":"MEMBER","body":"Segments are served by multiple historicals, and although currently Brokers almost never take advantage of that, there are multiple reasons why they should start query different historicals more often (identified, for example, in [this post](https://medium.com/@leventov/the-problems-with-druid-at-large-scale-and-high-load-part-1-714d475e84c9), and also mentioned in the issue about [online aggregation](https://github.com/apache/incubator-druid/issues/7087)). Thus the same segment might have separate be tracked in several independent admission windows on different historicals. If this is a big obstacle for the idea and how it can be solved (randomization?) is yet to be determined.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469402364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469405229","html_url":"https://github.com/apache/druid/issues/7161#issuecomment-469405229","issue_url":"https://api.github.com/repos/apache/druid/issues/7161","id":469405229,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQwNTIyOQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T20:15:38Z","updated_at":"2019-03-04T20:15:38Z","author_association":"MEMBER","body":"@leerho yes, we do exactly the \"old\" algorithm that you described :) See #1135. Thank you for letting us know about how the algorithm can be improved! I've opened a separate issue #7187 to track your proposal.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469405229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469429899","html_url":"https://github.com/apache/druid/pull/7154#issuecomment-469429899","issue_url":"https://api.github.com/repos/apache/druid/issues/7154","id":469429899,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQyOTg5OQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T21:32:21Z","updated_at":"2019-03-04T21:32:21Z","author_association":"MEMBER","body":"I _think_ all comments should be addressed as of the last commit. I couldn't find any remaining related uses of 'maintenance' or 'priority', and docs have been updated.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469429899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469434138","html_url":"https://github.com/apache/druid/issues/7180#issuecomment-469434138","issue_url":"https://api.github.com/repos/apache/druid/issues/7180","id":469434138,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQzNDEzOA==","user":{"login":"glasser","id":16724,"node_id":"MDQ6VXNlcjE2NzI0","avatar_url":"https://avatars.githubusercontent.com/u/16724?v=4","gravatar_id":"","url":"https://api.github.com/users/glasser","html_url":"https://github.com/glasser","followers_url":"https://api.github.com/users/glasser/followers","following_url":"https://api.github.com/users/glasser/following{/other_user}","gists_url":"https://api.github.com/users/glasser/gists{/gist_id}","starred_url":"https://api.github.com/users/glasser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glasser/subscriptions","organizations_url":"https://api.github.com/users/glasser/orgs","repos_url":"https://api.github.com/users/glasser/repos","events_url":"https://api.github.com/users/glasser/events{/privacy}","received_events_url":"https://api.github.com/users/glasser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T21:45:46Z","updated_at":"2019-03-04T21:45:46Z","author_association":"CONTRIBUTOR","body":"I updated the proposal to match my last comment.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469434138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469435657","html_url":"https://github.com/apache/druid/pull/7038#issuecomment-469435657","issue_url":"https://api.github.com/repos/apache/druid/issues/7038","id":469435657,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQzNTY1Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T21:50:21Z","updated_at":"2019-03-04T21:50:21Z","author_association":"MEMBER","body":"@egor-ryashin @glasser thanks for review!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469435657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469439146","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-469439146","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":469439146,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQzOTE0Ng==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T22:01:06Z","updated_at":"2019-03-06T00:33:24Z","author_association":"CONTRIBUTOR","body":"### Objective\r\n- Improve the current internal heuristic algorithm for \"TopN\" with streaming algorithms including DataSketches [Frequent Items Sketch (FIS)](https://datasketches.github.io/docs/FrequentItems/FrequentItemsOverview.html). \r\n \r\n### Motivation\r\n- **Resources**: The current implementation of \"TopN\" is likely using more compute resources than is necessary.  This can be addressed by the use of several algorithms, of which the FIS is one.\r\n\r\n### Where the FIS can be applied:\r\n- **Error vs. Size**: The FIS has user configureable parameter that allows tradeoff of the sketch size and its resulting accuracy (or what we call its error threshold, or epsilon).\r\n- **Error Clarity**: The FIS has well-defined error bounds that can be applied to each item in the result set.\r\n- **Query Flexibility**: At query time the user can choose two different query modes NO_FALSE_POSITIVES (more strict) or NO_FALSE_NEGATIVES (less strict).  The FIS will not return items below the noise floor. So you know that the items it does return are, in fact, significant.\r\n- **Streaming**: The FIS is a streaming algorithm, just pass the input data into the sketch once.  No need to presort the input stream.  This will save processing cycles and time.\r\n- **Mergeable**: The FIS is mergeable.  Each node would sketch its own data independently, then the sketches from each node are passed to a central \"broker\" node where they are merged into a final sketch, which can then be queried. This could reduce the amount of data passing between the nodes and the broker, but it will depend on how the sketch is configured.  There is no loss of accuracy due to the merging process.\r\n- **Data Independent**: The FIS error properties are independent of how the input data is partitioned into separate streams (the nodes) and how the values and their weights are distributed within the streams themselves.  The FIS can be somewhat input data order sensitive, in that the weights and order of the items in the result set may vary slightly from run to run, but they will always be within the error specification of the chosen sketch configuration.\r\n\r\n### Making it Happen!\r\nWe on the sketches team are not knowledgeable about Druid internals.  We certainly can advise and consult on the proper use of the sketches, but it must be someone on the Druid team to integrate the sketch library into Druid.\r\n \r\n \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469439146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469454545","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-469454545","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":469454545,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQ1NDU0NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T22:52:06Z","updated_at":"2019-03-04T22:52:06Z","author_association":"CONTRIBUTOR","body":"It sounds like the behavior of FIS is different enough from topN that 'replace' is not in the cards. But it does sound like something that would be really nice to expose in Druid somehow. Maybe as a new query type? Can the 'weight' of an item be any Comparable object? (This would allow it to be compatible with any Druid aggregator.) Or is it limited to ints?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469454545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469475814","html_url":"https://github.com/apache/druid/pull/7174#issuecomment-469475814","issue_url":"https://api.github.com/repos/apache/druid/issues/7174","id":469475814,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQ3NTgxNA==","user":{"login":"shivtools","id":12538052,"node_id":"MDQ6VXNlcjEyNTM4MDUy","avatar_url":"https://avatars.githubusercontent.com/u/12538052?v=4","gravatar_id":"","url":"https://api.github.com/users/shivtools","html_url":"https://github.com/shivtools","followers_url":"https://api.github.com/users/shivtools/followers","following_url":"https://api.github.com/users/shivtools/following{/other_user}","gists_url":"https://api.github.com/users/shivtools/gists{/gist_id}","starred_url":"https://api.github.com/users/shivtools/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shivtools/subscriptions","organizations_url":"https://api.github.com/users/shivtools/orgs","repos_url":"https://api.github.com/users/shivtools/repos","events_url":"https://api.github.com/users/shivtools/events{/privacy}","received_events_url":"https://api.github.com/users/shivtools/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T23:54:10Z","updated_at":"2019-03-04T23:54:26Z","author_association":"CONTRIBUTOR","body":"Hey @leventov, @drcrallen, I've made the changes you've requested. I'm seeing one [Travis CI integration test fail](https://travis-ci.org/apache/incubator-druid/jobs/501303317) with the following error, although I don't think it is related to my PR. Please let me know if otherwise: \r\n\r\n```\r\n[ERROR] testRealtimeIndexTask(org.apache.druid.tests.indexer.ITRealtimeIndexTaskTest)  Time elapsed: 10.4 s  <<< FAILURE!\r\njava.lang.RuntimeException: java.util.concurrent.ExecutionException: org.jboss.netty.channel.ChannelException: Faulty channel in resource pool\r\n\tat org.apache.druid.tests.indexer.ITRealtimeIndexTaskTest.postEvents(ITRealtimeIndexTaskTest.java:119)\r\n\tat org.apache.druid.tests.indexer.ITRealtimeIndexTaskTest.testRealtimeIndexTask(ITRealtimeIndexTaskTest.java:57)\r\nCaused by: java.util.concurrent.ExecutionException: org.jboss.netty.channel.ChannelException: Faulty channel in resource pool\r\n\tat org.apache.druid.tests.indexer.ITRealtimeIndexTaskTest.postEvents(ITRealtimeIndexTaskTest.java:119)\r\n\tat org.apache.druid.tests.indexer.ITRealtimeIndexTaskTest.testRealtimeIndexTask(ITRealtimeIndexTaskTest.java:57)\r\nCaused by: org.jboss.netty.channel.ChannelException: Faulty channel in resource pool\r\n\tat org.apache.druid.tests.indexer.ITRealtimeIndexTaskTest.postEvents(ITRealtimeIndexTaskTest.java:119)\r\n\tat org.apache.druid.tests.indexer.ITRealtimeIndexTaskTest.testRealtimeIndexTask(ITRealtimeIndexTaskTest.java:57)\r\nCaused by: org.jboss.netty.channel.ChannelException: Failed to handshake with host[https://127.0.0.1:8101]\r\nCaused by: java.nio.channels.ClosedChannelException\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469475814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469476041","html_url":"https://github.com/apache/druid/pull/7174#issuecomment-469476041","issue_url":"https://api.github.com/repos/apache/druid/issues/7174","id":469476041,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQ3NjA0MQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T23:55:09Z","updated_at":"2019-03-04T23:55:09Z","author_association":"CONTRIBUTOR","body":"@shivtools That test is known to be flaky, I've restarted it","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469476041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469483744","html_url":"https://github.com/apache/druid/pull/7088#issuecomment-469483744","issue_url":"https://api.github.com/repos/apache/druid/issues/7088","id":469483744,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQ4Mzc0NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T00:29:11Z","updated_at":"2019-03-05T00:29:11Z","author_association":"CONTRIBUTOR","body":"Hi @samarthjain, I just noticed this bug: https://github.com/apache/incubator-druid/issues/7192. I'm not sure the same problem exists in ZK-based parallel segment loading, but it would be great if you can have a chance to check it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469483744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469488086","html_url":"https://github.com/apache/druid/issues/7192#issuecomment-469488086","issue_url":"https://api.github.com/repos/apache/druid/issues/7192","id":469488086,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQ4ODA4Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T00:47:58Z","updated_at":"2019-03-05T00:47:58Z","author_association":"CONTRIBUTOR","body":"This would be fixed in 0.15 because HTTP-based segment loading is an experimental feature.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469488086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469488631","html_url":"https://github.com/apache/druid/pull/6799#issuecomment-469488631","issue_url":"https://api.github.com/repos/apache/druid/issues/6799","id":469488631,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQ4ODYzMQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T00:50:20Z","updated_at":"2019-03-05T00:50:20Z","author_association":"MEMBER","body":"bump to defeat stale bot, I've been meaning to have a look here but have been too busy","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469488631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469489901","html_url":"https://github.com/apache/druid/issues/6949#issuecomment-469489901","issue_url":"https://api.github.com/repos/apache/druid/issues/6949","id":469489901,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQ4OTkwMQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T00:55:26Z","updated_at":"2019-03-05T00:55:26Z","author_association":"MEMBER","body":"resolved by #7062","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469489901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469494953","html_url":"https://github.com/apache/druid/pull/6740#issuecomment-469494953","issue_url":"https://api.github.com/repos/apache/druid/issues/6740","id":469494953,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTQ5NDk1Mw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T01:18:32Z","updated_at":"2019-03-05T01:18:32Z","author_association":"MEMBER","body":"@leventov or @egor-ryashin any further comments on this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469494953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469503572","html_url":"https://github.com/apache/druid/pull/6865#issuecomment-469503572","issue_url":"https://api.github.com/repos/apache/druid/issues/6865","id":469503572,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTUwMzU3Mg==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T01:58:01Z","updated_at":"2019-03-05T01:58:01Z","author_association":"MEMBER","body":"Hmm, so are we stuck here? I haven't had enough time to spare to dig in deep enough to the hll collector to have a strong opinion of my own, so my _main_ concern is that we don't fail with a `BufferOverflowException`.\r\n\r\nWhether that means a friendly error for a case that isn't supposed to happen, or simply handling that case that apparently can happen in practice under certain circumstances, seems to be the point of contention? Code-wise, the solution @drcrallen has doesn't _look_ wrong to me, even if it's a design flaw that this could happen, but it sounds like the solution @leerho suggests is maybe the most correct in terms of .. correctness? Anyone else have any opinions here?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469503572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469513685","html_url":"https://github.com/apache/druid/pull/7026#issuecomment-469513685","issue_url":"https://api.github.com/repos/apache/druid/issues/7026","id":469513685,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTUxMzY4NQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T02:45:15Z","updated_at":"2019-03-05T02:45:15Z","author_association":"CONTRIBUTOR","body":"@clintropolis @gianm Thanks for the review, I'll update this area with more documentation/automation for future release managers after 0.14.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469513685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469522597","html_url":"https://github.com/apache/druid/issues/6984#issuecomment-469522597","issue_url":"https://api.github.com/repos/apache/druid/issues/6984","id":469522597,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTUyMjU5Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T03:29:53Z","updated_at":"2019-03-05T03:29:53Z","author_association":"CONTRIBUTOR","body":"Addressed by #7026 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469522597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469548325","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-469548325","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":469548325,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTU0ODMyNQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T05:51:32Z","updated_at":"2019-03-13T22:22:05Z","author_association":"CONTRIBUTOR","body":"@gianm \r\nI think we may have some confusion here.  FIS uses `Identity` for the object and `Comparable` for the weight parameter.  And the weights must be numeric positive longs.   (The Quantiles sketch depends on `Comparable`).\r\n\r\nImagine you are Apple and have a stream of song title objects, each with a price as purchased.  Different instances of the same title may have a different price due to store discounts or whatever.\r\n\r\nThe task is to identify the *largest revenue* song titles, by title and total revenue.  \r\n\r\nThe input stream is a stream of {Object songTitle, long purchasePrice} (Price in cents)\r\nYou create the sketch: \r\n\r\n` ItemsSketch<SongTitle> fisSketch = new ItemSketch<SongTitle>(1024);`  \r\n\r\nNote: the sketch size is configurable, depending on how accurate you want it to be.\r\n\r\nYou update the sketch with \r\n\r\n```\r\nwhile (remainingItems > 0) {\r\n  SongTitle songTitle = next();\r\n  fisSketch.update(nextItem, (long)(songTitle.getPrice()));\r\n} \r\n```\r\nNote that the sketch does the item aggregation for you, and no need to sort the input.\r\nThe purchasePrice is the \"weight\".  When duplicate songTitles appear in the stream, their purchasePrice is accumulated in the sketch.  \r\n\r\nWhen all the sketches at each of the nodes are complete, you send the sketches to the Broker where they are all merged together.\r\n\r\nThe final merged sketch is then queried:\r\n\r\n`ItemSketch.Row<T>[] rows = getFrequentItems(ErrorType.NO_FALSE_POSITIVES);`\r\n\r\nEach row of the resulting array of rows contains:\r\n- A reference to the frequent Item\r\n- An Estimate of the total weight (total revenue) for that item\r\n- The upper bound of what the true total Weight is\r\n- The lower bound of what the true total Weight is.\r\n- plus a few other convenience methods.\r\n\r\nThe array can be sorted by the accumulated weights, so they are in approximate rank order.  The sketch will return all items that have a weight above the [threshold](https://datasketches.github.io/docs/FrequentItems/FrequentItemsErrorTable.html). \r\n\r\nThis is effectively a superset of the typical \"TopN\" heuristic as it does a lot more than the current heuristic, and it provides accuracy guarantees that the existing heuristic cannot. \r\n\r\nFundamentally the Druid \"TopN\" heuristic is data sensitive and it can fail without warning where this will not.  \r\n\r\nSo I am not clear where you think this would not replace the current functionality?  What is the functionality that you think is missing?\r\n\r\nIt should certainly be worth a try :)\r\n\r\nLee.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469548325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469554518","html_url":"https://github.com/apache/druid/pull/7154#issuecomment-469554518","issue_url":"https://api.github.com/repos/apache/druid/issues/7154","id":469554518,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTU1NDUxOA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T06:19:31Z","updated_at":"2019-03-05T06:19:31Z","author_association":"CONTRIBUTOR","body":"@leventov any more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469554518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469569100","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-469569100","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":469569100,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTU2OTEwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T07:23:50Z","updated_at":"2019-03-05T07:23:50Z","author_association":"CONTRIBUTOR","body":"The current topN algorithm can be used for any query shaped like `SELECT x, AGG(y) FROM tbl ORDER BY AGG(y) DESC LIMIT N` when `useApproximateTopN` is enabled (when disabled, groupBy is used instead, which is exact).\r\n\r\nIt sounds like FIS is limited in a couple ways that prevents it from being used for all queries of that form:\r\n\r\n- \"AGG\" must be \"SUM\" and `y` must all be positive. (topN will accept any aggregation function and any `y`)\r\n- \"LIMIT\" will not necessarily be adhered to. (topN will always return LIMIT results, or the number of distinct values of `x`, whichever is lower)\r\n\r\nNow, you might argue that this level of flexibility is bad, because it involves throwing caution to the wind, and sometimes falls flat on its face. And you would have a good point. But, nevertheless, the flexibility is there, and is even useful sometimes.\r\n\r\nMaybe it makes sense for the FIS to be exposed via its own native query type (\"frequentItems\" instead of \"topN\"). If we do that, I'm wondering how it makes sense to expose it through SQL. Maybe a context flag like `useFrequentItemsForTopN` that would plan a SQL query like `SELECT x, AGG(y) FROM tbl ORDER BY AGG(y) DESC LIMIT N` as a \"frequentItems\" query if \"AGG\" is \"SUM\", and would be documented to relax \"LIMIT\" such that fewer than N items might be returned. I'm not sure how to satisfy the \"y must all be positive\" requirement; maybe we need to track metadata on the brokers about min/max values for columns, and only use the frequentItems query if `y` is known to all be positive.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469569100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469595884","html_url":"https://github.com/apache/druid/pull/5789#issuecomment-469595884","issue_url":"https://api.github.com/repos/apache/druid/issues/5789","id":469595884,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTU5NTg4NA==","user":{"login":"glasser","id":16724,"node_id":"MDQ6VXNlcjE2NzI0","avatar_url":"https://avatars.githubusercontent.com/u/16724?v=4","gravatar_id":"","url":"https://api.github.com/users/glasser","html_url":"https://github.com/glasser","followers_url":"https://api.github.com/users/glasser/followers","following_url":"https://api.github.com/users/glasser/following{/other_user}","gists_url":"https://api.github.com/users/glasser/gists{/gist_id}","starred_url":"https://api.github.com/users/glasser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glasser/subscriptions","organizations_url":"https://api.github.com/users/glasser/orgs","repos_url":"https://api.github.com/users/glasser/repos","events_url":"https://api.github.com/users/glasser/events{/privacy}","received_events_url":"https://api.github.com/users/glasser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T08:57:20Z","updated_at":"2019-03-05T08:57:20Z","author_association":"CONTRIBUTOR","body":"Does stringFirst actually work at ingestion time? The doc change made here (changing the existing claim that first/last aggregators don't work at ingestion time to say that only numeric ones don't) plus the implementation of makeAggregateCombiner makes it seem like it should, and when I define a Kafka indexing service data source with a stringFirst aggregator, I can properly query the metric against data as the indexing task indexes it.\r\n\r\nBut the indexing task publish stage fails (in 0.13) with errors like:\r\n\r\n```\r\n2019-03-05T08:26:25,579 WARN [appenderator_merge_0] org.apache.druid.segment.realtime.appenderator.AppenderatorImpl - Failed to push merged index for segment[trace_refs_2019-03-05T07:00:00.000Z_2019-03-05T08:00:00.000Z_2019-03-05T07:00:01.884Z_2].\r\njava.lang.ClassCastException: org.apache.druid.query.aggregation.SerializablePairLongString cannot be cast to java.lang.String\r\n\tat org.apache.druid.query.aggregation.first.StringFirstAggregateCombiner.reset(StringFirstAggregateCombiner.java:35) ~[druid-processing-0.13.0-incubating.jar:0.13.0-incubating]\r\n\tat org.apache.druid.segment.RowCombiningTimeAndDimsIterator.resetCombinedMetrics(RowCombiningTimeAndDimsIterator.java:249) ~[druid-processing-0.13.0-incubating.jar:0.13.0-incubating]\r\n\tat org.apache.druid.segment.RowCombiningTimeAndDimsIterator.combineToCurrentTimeAndDims(RowCombiningTimeAndDimsIterator.java:229) ~[druid-processing-0.13.0-incubating.jar:0.13.0-incubating]\r\n\tat org.apache.druid.segment.RowCombiningTimeAndDimsIterator.moveToNext(RowCombiningTimeAndDimsIterator.java:191) ~[druid-processing-0.13.0-incubating.jar:0.13.0-incubating]\r\n\tat org.apache.druid.segment.IndexMergerV9.mergeIndexesAndWriteColumns(IndexMergerV9.java:492) ~[druid-processing-0.13.0-incubating.jar:0.13.0-incubating]\r\n\tat org.apache.druid.segment.IndexMergerV9.makeIndexFiles(IndexMergerV9.java:191) ~[druid-processing-0.13.0-incubating.jar:0.13.0-incubating]\r\n\tat org.apache.druid.segment.IndexMergerV9.merge(IndexMergerV9.java:914) ~[druid-processing-0.13.0-incubating.jar:0.13.0-incubating]\r\n\tat org.apache.druid.segment.IndexMergerV9.mergeQueryableIndex(IndexMergerV9.java:832) ~[druid-processing-0.13.0-incubating.jar:0.13.0-incubating]\r\n\tat org.apache.druid.segment.IndexMergerV9.mergeQueryableIndex(IndexMergerV9.java:810) ~[druid-processing-0.13.0-incubating.jar:0.13.0-incubating]\r\n\tat org.apache.druid.segment.realtime.appenderator.AppenderatorImpl.mergeAndPush(AppenderatorImpl.java:719) ~[druid-server-0.13.0-incubating.jar:0.13.0-incubating]\r\n\tat org.apache.druid.segment.realtime.appenderator.AppenderatorImpl.lambda$push$1(AppenderatorImpl.java:623) ~[druid-server-0.13.0-incubating.jar:0.13.0-incubating]\r\n\tat com.google.common.util.concurrent.Futures$1.apply(Futures.java:713) [guava-16.0.1.jar:?]\r\n\tat com.google.common.util.concurrent.Futures$ChainingListenableFuture.run(Futures.java:861) [guava-16.0.1.jar:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]\r\n```\r\n\r\nHas anyone actually successfully used stringFirst at ingestion time?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469595884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469620719","html_url":"https://github.com/apache/druid/pull/5789#issuecomment-469620719","issue_url":"https://api.github.com/repos/apache/druid/issues/5789","id":469620719,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTYyMDcxOQ==","user":{"login":"andresgomezfrr","id":4025771,"node_id":"MDQ6VXNlcjQwMjU3NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4025771?v=4","gravatar_id":"","url":"https://api.github.com/users/andresgomezfrr","html_url":"https://github.com/andresgomezfrr","followers_url":"https://api.github.com/users/andresgomezfrr/followers","following_url":"https://api.github.com/users/andresgomezfrr/following{/other_user}","gists_url":"https://api.github.com/users/andresgomezfrr/gists{/gist_id}","starred_url":"https://api.github.com/users/andresgomezfrr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andresgomezfrr/subscriptions","organizations_url":"https://api.github.com/users/andresgomezfrr/orgs","repos_url":"https://api.github.com/users/andresgomezfrr/repos","events_url":"https://api.github.com/users/andresgomezfrr/events{/privacy}","received_events_url":"https://api.github.com/users/andresgomezfrr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T10:08:42Z","updated_at":"2019-03-05T10:08:42Z","author_association":"CONTRIBUTOR","body":"Yes, I use it at indexing time. Could you share your ingestion spec and some example input data? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469620719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469652385","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-469652385","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":469652385,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTY1MjM4NQ==","user":{"login":"dylwylie","id":3107079,"node_id":"MDQ6VXNlcjMxMDcwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3107079?v=4","gravatar_id":"","url":"https://api.github.com/users/dylwylie","html_url":"https://github.com/dylwylie","followers_url":"https://api.github.com/users/dylwylie/followers","following_url":"https://api.github.com/users/dylwylie/following{/other_user}","gists_url":"https://api.github.com/users/dylwylie/gists{/gist_id}","starred_url":"https://api.github.com/users/dylwylie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dylwylie/subscriptions","organizations_url":"https://api.github.com/users/dylwylie/orgs","repos_url":"https://api.github.com/users/dylwylie/repos","events_url":"https://api.github.com/users/dylwylie/events{/privacy}","received_events_url":"https://api.github.com/users/dylwylie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T11:52:43Z","updated_at":"2019-03-05T11:52:43Z","author_association":"CONTRIBUTOR","body":"I'm not sure how widely it's used but TopN's also supports ascending order. Curious if the sketch supports returning the inverse \"most infrequent\" items too?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469652385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469658363","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-469658363","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":469658363,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTY1ODM2Mw==","user":{"login":"dylwylie","id":3107079,"node_id":"MDQ6VXNlcjMxMDcwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3107079?v=4","gravatar_id":"","url":"https://api.github.com/users/dylwylie","html_url":"https://github.com/dylwylie","followers_url":"https://api.github.com/users/dylwylie/followers","following_url":"https://api.github.com/users/dylwylie/following{/other_user}","gists_url":"https://api.github.com/users/dylwylie/gists{/gist_id}","starred_url":"https://api.github.com/users/dylwylie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dylwylie/subscriptions","organizations_url":"https://api.github.com/users/dylwylie/orgs","repos_url":"https://api.github.com/users/dylwylie/repos","events_url":"https://api.github.com/users/dylwylie/events{/privacy}","received_events_url":"https://api.github.com/users/dylwylie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T12:14:42Z","updated_at":"2019-03-05T12:14:42Z","author_association":"CONTRIBUTOR","body":"Also curious on people's thoughts on user's being explicit in their queries that can return approximate results versus optimising queries based on context/configuration.\r\n\r\n`SELECT AGG(y), x FROM tbl where x in (SELECT FREQ_I_SKETCH(x, y, 100) from tbl)\r\n`\r\nversus trying to optimise a order by limit.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469658363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469742231","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-469742231","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":469742231,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTc0MjIzMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T16:14:58Z","updated_at":"2019-03-05T16:14:58Z","author_association":"CONTRIBUTOR","body":"> Also curious on people's thoughts on user's being explicit in their queries that can return approximate results versus optimising queries based on context/configuration.\r\n\r\nThat's probably better, given that FIS is doing a very particular thing, and SQL users might appreciate being able to trigger its activation explicitly.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469742231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469744352","html_url":"https://github.com/apache/druid/issues/7076#issuecomment-469744352","issue_url":"https://api.github.com/repos/apache/druid/issues/7076","id":469744352,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTc0NDM1Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T16:20:01Z","updated_at":"2019-03-05T16:20:01Z","author_association":"CONTRIBUTOR","body":"@glasser, the latter sounds good to me. If you are interested in implementing it then please go for it!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469744352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469862171","html_url":"https://github.com/apache/druid/pull/7181#issuecomment-469862171","issue_url":"https://api.github.com/repos/apache/druid/issues/7181","id":469862171,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTg2MjE3MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T21:21:49Z","updated_at":"2019-03-05T21:21:49Z","author_association":"CONTRIBUTOR","body":"I fixed a wrong if clause in `ParallelIndexSupervisorTask.run()` and added a unit test.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469862171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469866645","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-469866645","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":469866645,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTg2NjY0NQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T21:35:03Z","updated_at":"2019-03-05T21:35:03Z","author_association":"CONTRIBUTOR","body":"This is very helpful and I think I see where we are talking past each other.  There appear to be several different use cases for the concept of \"TopN\".  The starting point for these use cases is after the selection and other possible SQL manipulation, where you end up with a set of distributed lists of items where the task is to efficiently merge together these lists and obtain the \"TopN\" of these items.  It is the next operations that follow that distinguish the several use cases. \r\n\r\n-  Case 1:  The items are `Comparable` with respect to some property `y`, which does not have to be numeric.  It could be a string.   If `y` is numeric, it could be either positive or negative, it doesn't matter. The other significant property is that these items would not be aggregated together, e.g. it would not be meaningful to do an operation like `ItemC = ItemA + ItemB`.  To finish, the following operations would be performed:  (Assume N = 100).  Note that the \"order\" here could be either direction so that one could also obtain the \"BottomN\".\r\n-- Order the items in each node . \r\n-- Select top 100 from the list in each node (Note: we don't need more than N from each node)\r\n-- Merge the lists together in the Broker\r\n-- Order the items in the Broker, choose the top 100.\r\n\r\n- Case 2: The items have the `Identity` property such that one can check if `ItemA == ItemB`, and they have a `weight` (or importance) property that is independent of the `identity` property.  In other words, `ItemA == ItemB and possibly ItemA.w1 != ItemB.w2`.   This weight is numeric, positive and obviously comparable.  These objects can be \"merged\" together when the identity is satisfied as in `ItemC.w3 =  ItemA.w1 + ItemB.w2` where `w3 = w1 + w2`.    (Assume finalN = 100).  The current algorithm would be the following\r\n-- Order the items in each node . \r\n-- Select top (nodeN=1000 from the list in each node (Note: we must select `nodeN >> finalN`)\r\n-- Merge the lists together in the Broker\r\n-- Order the items in the Broker, merging identical items, choose the top 100.\r\nThe sketch equivalent of this process would be\r\n-- Feed the items in each node into a FIS.\r\n-- Each node sends its sketch to the Broker.\r\n-- The Broker merges the sketches together into a single sketch\r\n-- The result \"Most frequent Items\" or \"Heaviest Items\" are returned from the sketch.\r\n\r\n- Case 3: This is the same as Case 2, except that negative weight values would be allowed. This, unfortunately cannot be solved with our current sketch anyway.   We will have to think about this.\r\n\r\nI think this addresses all the use cases (this was kinda slapped together).  But for both cases 1 and 2, improvements can be made in how the final steps are performed. For case 3 I would like to ask: \"Is this a real case and how often does it occur?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469866645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469898509","html_url":"https://github.com/apache/druid/pull/7181#issuecomment-469898509","issue_url":"https://api.github.com/repos/apache/druid/issues/7181","id":469898509,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTg5ODUwOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T23:16:26Z","updated_at":"2019-03-05T23:16:26Z","author_association":"CONTRIBUTOR","body":"Fixed the failing IT test.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469898509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469899826","html_url":"https://github.com/apache/druid/pull/7121#issuecomment-469899826","issue_url":"https://api.github.com/repos/apache/druid/issues/7121","id":469899826,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTg5OTgyNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T23:21:16Z","updated_at":"2019-03-05T23:21:16Z","author_association":"MEMBER","body":"@kamaci please don't force-push pull-request branches, use merge commits instead.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469899826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469906625","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-469906625","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":469906625,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTkwNjYyNQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T23:48:48Z","updated_at":"2019-03-05T23:48:48Z","author_association":"CONTRIBUTOR","body":"I should point out that Case 1 above is also streamable and solvable with significantly less resources than you are using now.  And I think we have a solution for Case 3 also, but that may require a bit more effort.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469906625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/469934717","html_url":"https://github.com/apache/druid/pull/6798#issuecomment-469934717","issue_url":"https://api.github.com/repos/apache/druid/issues/6798","id":469934717,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTkzNDcxNw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T01:55:07Z","updated_at":"2019-03-06T01:55:07Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/469934717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470019786","html_url":"https://github.com/apache/druid/issues/5313#issuecomment-470019786","issue_url":"https://api.github.com/repos/apache/druid/issues/5313","id":470019786,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDAxOTc4Ng==","user":{"login":"kirkvicent","id":7855055,"node_id":"MDQ6VXNlcjc4NTUwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/7855055?v=4","gravatar_id":"","url":"https://api.github.com/users/kirkvicent","html_url":"https://github.com/kirkvicent","followers_url":"https://api.github.com/users/kirkvicent/followers","following_url":"https://api.github.com/users/kirkvicent/following{/other_user}","gists_url":"https://api.github.com/users/kirkvicent/gists{/gist_id}","starred_url":"https://api.github.com/users/kirkvicent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirkvicent/subscriptions","organizations_url":"https://api.github.com/users/kirkvicent/orgs","repos_url":"https://api.github.com/users/kirkvicent/repos","events_url":"https://api.github.com/users/kirkvicent/events{/privacy}","received_events_url":"https://api.github.com/users/kirkvicent/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T08:44:08Z","updated_at":"2019-03-06T08:44:08Z","author_association":"NONE","body":"do you fix it ? @QiuMM ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470019786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470045406","html_url":"https://github.com/apache/druid/issues/2748#issuecomment-470045406","issue_url":"https://api.github.com/repos/apache/druid/issues/2748","id":470045406,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDA0NTQwNg==","user":{"login":"dene14","id":7289205,"node_id":"MDQ6VXNlcjcyODkyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/7289205?v=4","gravatar_id":"","url":"https://api.github.com/users/dene14","html_url":"https://github.com/dene14","followers_url":"https://api.github.com/users/dene14/followers","following_url":"https://api.github.com/users/dene14/following{/other_user}","gists_url":"https://api.github.com/users/dene14/gists{/gist_id}","starred_url":"https://api.github.com/users/dene14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dene14/subscriptions","organizations_url":"https://api.github.com/users/dene14/orgs","repos_url":"https://api.github.com/users/dene14/repos","events_url":"https://api.github.com/users/dene14/events{/privacy}","received_events_url":"https://api.github.com/users/dene14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T10:00:28Z","updated_at":"2019-03-06T10:00:28Z","author_association":"CONTRIBUTOR","body":"@drcrallen shouldn't it be closed now?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470045406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470088471","html_url":"https://github.com/apache/druid/issues/7198#issuecomment-470088471","issue_url":"https://api.github.com/repos/apache/druid/issues/7198","id":470088471,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDA4ODQ3MQ==","user":{"login":"kirkvicent","id":7855055,"node_id":"MDQ6VXNlcjc4NTUwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/7855055?v=4","gravatar_id":"","url":"https://api.github.com/users/kirkvicent","html_url":"https://github.com/kirkvicent","followers_url":"https://api.github.com/users/kirkvicent/followers","following_url":"https://api.github.com/users/kirkvicent/following{/other_user}","gists_url":"https://api.github.com/users/kirkvicent/gists{/gist_id}","starred_url":"https://api.github.com/users/kirkvicent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirkvicent/subscriptions","organizations_url":"https://api.github.com/users/kirkvicent/orgs","repos_url":"https://api.github.com/users/kirkvicent/repos","events_url":"https://api.github.com/users/kirkvicent/events{/privacy}","received_events_url":"https://api.github.com/users/kirkvicent/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T12:25:17Z","updated_at":"2019-03-06T12:25:17Z","author_association":"NONE","body":"my ORDERED_DATE value is like this 1422955892000,which type is long ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470088471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470193271","html_url":"https://github.com/apache/druid/pull/6698#issuecomment-470193271","issue_url":"https://api.github.com/repos/apache/druid/issues/6698","id":470193271,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDE5MzI3MQ==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T17:12:19Z","updated_at":"2019-03-06T17:12:19Z","author_association":"CONTRIBUTOR","body":"I wonder shouldn't the tiers be specified in a config accessible to **HttpServerInventoryView**?  Because **HttpServerInventoryView** should actually know which tiers to watch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470193271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470253897","html_url":"https://github.com/apache/druid/pull/6865#issuecomment-470253897","issue_url":"https://api.github.com/repos/apache/druid/issues/6865","id":470253897,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI1Mzg5Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T19:59:06Z","updated_at":"2019-03-06T20:09:57Z","author_association":"CONTRIBUTOR","body":"If the solutions were presented which fixed up items related to the core HLL aggregator itself. This part of the code still would have the assumption that the buffer is densified. I do not have full coverage for all test cases where it may or may not have dense buffers at this code point. So there may in the future be other cases where it is \"normal\". The workflow assumes dense so I added a check to rectify when that is not the case.\r\n\r\nFixes to the overall HLL algorithm itself are beyond the scope of this PR, and presenting HLL results which \"don't make good sense\" because of bad input values is not solved by this PR. Meaning if someone puts in values that do not encounter this error case, but still violate some of the (sparsely documented) design constraints of the HLL aggregator, then it will STILL present nonsense values even IF this particular code path fix is not hit. In other words NOT hitting this error case does NOT mean the HLL approximation is GOOD, just that it didn't crash.\r\n\r\nTherefore I argue for keeping the code from crashing, thereby making ALL poorly constructed input values simply return whatever the algorithm can calculate.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470253897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470257066","html_url":"https://github.com/apache/druid/pull/6865#issuecomment-470257066","issue_url":"https://api.github.com/repos/apache/druid/issues/6865","id":470257066,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI1NzA2Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T20:08:06Z","updated_at":"2019-03-06T20:08:06Z","author_association":"CONTRIBUTOR","body":"For longer term fixes, I'm not even sure if documenting the existing HLL design is worth it. For example, simply saying \"Legacy HLL implementation has a lot of rough corner cases that are handled by its successor Data Sketches HLL\" or similar.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470257066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470264296","html_url":"https://github.com/apache/druid/pull/6865#issuecomment-470264296","issue_url":"https://api.github.com/repos/apache/druid/issues/6865","id":470264296,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI2NDI5Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T20:30:09Z","updated_at":"2019-03-06T20:30:09Z","author_association":"CONTRIBUTOR","body":"the problem with the sparseness checks is that sometimes the buffer has a read only with the headers, and sometimes it is a read only without the headers, and that changes which check is appropriate. The legacy of which one is used is very hard to track in the current design. The check as presented here is the correct check *for this specific spot in the code*","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470264296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470267725","html_url":"https://github.com/apache/druid/pull/6865#issuecomment-470267725","issue_url":"https://api.github.com/repos/apache/druid/issues/6865","id":470267725,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI2NzcyNQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T20:40:32Z","updated_at":"2019-03-06T20:40:32Z","author_association":"MEMBER","body":"@drcrallen I spent some time last night trying to sift through the hll code to have a stronger opinion, and I think I agree with you. I suspect anyone that has been using this is maybe already conditioned to _expect_ to have occasionally wonky results, the flaw here feels maybe more like a design flaw to me at this time, and I do think energy would be better spent getting people on datasketches hll instead of trying to fix this. I'm going to merge after CI so we can add to 0.14 :+1:\r\n\r\n@leerho if you strongly disagree with this position, we can open an issue to track further fixes or modifications to this hll algorithm.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470267725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470276731","html_url":"https://github.com/apache/druid/pull/6865#issuecomment-470276731","issue_url":"https://api.github.com/repos/apache/druid/issues/6865","id":470276731,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI3NjczMQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T21:07:00Z","updated_at":"2019-03-06T21:07:31Z","author_association":"CONTRIBUTOR","body":"> For longer term fixes, I'm not even sure if documenting the existing HLL design is worth it. For example, simply saying \"Legacy HLL implementation has a lot of rough corner cases that are handled by its successor Data Sketches HLL\" or similar.\r\n\r\nThe 0.14.0 docs will deprecate the old HLL agg and point users to the DataSketches HLL instead: https://github.com/apache/incubator-druid/pull/7195\r\n\r\nI'm okay with this PR being merged for 0.14.0, I think \"avoid crashes in old HLL, use datasketches HLL for proper results\" is a reasonable approach","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470276731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470282165","html_url":"https://github.com/apache/druid/pull/7073#issuecomment-470282165","issue_url":"https://api.github.com/repos/apache/druid/issues/7073","id":470282165,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI4MjE2NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T21:23:14Z","updated_at":"2019-03-06T21:23:14Z","author_association":"MEMBER","body":"@fjy I'm going to merge this PR next Monday unless you will leave some comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470282165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470287410","html_url":"https://github.com/apache/druid/issues/7201#issuecomment-470287410","issue_url":"https://api.github.com/repos/apache/druid/issues/7201","id":470287410,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI4NzQxMA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T21:38:21Z","updated_at":"2019-03-06T21:38:21Z","author_association":"MEMBER","body":"Yes, you are right, loading and dropping decisions are done with the `BalancerStrategy` so that the load rules and the balancer do not make contradictory decisions. I believe `DiskNormalizedCostBalancerStrategy` would achieve what the current document is describing, but I think `CostBalancerStrategy` or `CachingCostBalancerStrategy` don't care so much about disk i think and just prefer to spread out the timeline for maximum fanout.\r\n\r\nYou are also correct about http segment loading, where the coordinator maintains a list of segments to load and drop (`HttpLoadQueuePeon`), and talks to the historical directly over http (`SegmentListerResource` on historical side) to give it a batch of load or drop operations to do.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470287410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470290575","html_url":"https://github.com/apache/druid/issues/7201#issuecomment-470290575","issue_url":"https://api.github.com/repos/apache/druid/issues/7201","id":470290575,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI5MDU3NQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T21:47:54Z","updated_at":"2019-03-06T21:47:54Z","author_association":"MEMBER","body":">... actually it does, if HTTP announcing (should we better call it \"HTTP segment loading info communication\"?) is used.\r\n\r\nAdditionally, I suppose there are actually 2 ways it communicates directly, since http segment loading (`druid.coordinator.loadqueuepeon.type` of `'http'`, what I was describing in previous comment) and  http announcing (`druid.announcer.type`) are sort of independent, since you can do things like use zk based announcements with http loading.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470290575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470295519","html_url":"https://github.com/apache/druid/issues/7192#issuecomment-470295519","issue_url":"https://api.github.com/repos/apache/druid/issues/7192","id":470295519,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDI5NTUxOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T22:03:33Z","updated_at":"2019-03-06T22:03:33Z","author_association":"CONTRIBUTOR","body":"I raised https://github.com/apache/incubator-druid/pull/7203 to fix the problem of only historical side. I'm still not sure how to improve the segment assigning protocol to avoid duplicates.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470295519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470307248","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-470307248","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":470307248,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDMwNzI0OA==","user":{"login":"peferron","id":7009852,"node_id":"MDQ6VXNlcjcwMDk4NTI=","avatar_url":"https://avatars.githubusercontent.com/u/7009852?v=4","gravatar_id":"","url":"https://api.github.com/users/peferron","html_url":"https://github.com/peferron","followers_url":"https://api.github.com/users/peferron/followers","following_url":"https://api.github.com/users/peferron/following{/other_user}","gists_url":"https://api.github.com/users/peferron/gists{/gist_id}","starred_url":"https://api.github.com/users/peferron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peferron/subscriptions","organizations_url":"https://api.github.com/users/peferron/orgs","repos_url":"https://api.github.com/users/peferron/repos","events_url":"https://api.github.com/users/peferron/events{/privacy}","received_events_url":"https://api.github.com/users/peferron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T22:43:03Z","updated_at":"2019-03-06T22:43:03Z","author_association":"CONTRIBUTOR","body":"@leerho Going back to your song example, could FIS support getting the top song titles by number of unique listeners over the past week? The current topN can do that using HLL sketches as metric (weight). That's one example of the usefulness of accepting any Druid aggregation or post-aggregation as a metric. (Interestingly, this specific case could benefit from using a HLL Map sketch.)\r\n\r\nAlso, I don't think that the current topN algorithm orders all distinct items on each node (or segment) prior to selecting the top 1000, since that would be unnecessarily wasteful when the number of distinct items is >> 1000. Would be great if someone more familiar with the topN implementation could confirm.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470307248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470350539","html_url":"https://github.com/apache/druid/pull/6953#issuecomment-470350539","issue_url":"https://api.github.com/repos/apache/druid/issues/6953","id":470350539,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM1MDUzOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T01:50:44Z","updated_at":"2019-03-07T01:50:44Z","author_association":"CONTRIBUTOR","body":"@drcrallen in extensions-core/google-extensions/pom.xml, the groupId's gotta be `org.apache.druid.extensions`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470350539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470353651","html_url":"https://github.com/apache/druid/pull/6865#issuecomment-470353651","issue_url":"https://api.github.com/repos/apache/druid/issues/6865","id":470353651,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM1MzY1MQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T02:04:34Z","updated_at":"2019-03-07T02:04:34Z","author_association":"CONTRIBUTOR","body":"@drcrallen \r\nI agree with what you are attempting to do.  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470353651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470366530","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-470366530","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":470366530,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM2NjUzMA==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T03:06:49Z","updated_at":"2019-03-07T03:08:47Z","author_association":"CONTRIBUTOR","body":"> getting the top song titles by number of unique listeners over the past week\r\n\r\n@peferron Now that is very interesting!  The current FIS doesn't handle this case, but I think it could be extended to do that, or to have a configurable aggregate function.  I'll have to think about it.  \r\n\r\nI agree with you that having the ability to specify any Druid aggregation or post-aggregation as a metric is pretty powerful and I'm not trying to replace that functionality.  \r\n\r\nMy principal concern is the way the final steps are performed to obtain the Top 100(for example) items:  \r\n- for each node sort all items in the node // cost: n log n //where n = total items in the node\r\n- pass top 1000 items to the Broker //network cost\r\n- The Broker sorts (numNodes(M) * 1000 items): cost: M * 1000 log (M*1000)\r\n- The Broker chooses the top 100.\r\n\r\nThis heuristic approach is error prone, data sensitive and compute-wise costly.  This, I think, can be improved, but not by substituting FIS!\r\n\r\nI am not familiar with how the pre- and post-aggregation steps intertwine themselves with this process.  But perhaps this heuristic could be accomplished with a Min-Heap?  It would be faster, smaller, not data sensitive, and generally more robust.  It would change the compute cost from a `n log n` to a `n log k`, which could be significant.\r\n\r\nThis (I realize now) has nothing to do with FIS.  As I tried to state above, that Druid's concept of \"TopN\" consists of several very different types of operations.  And the current FIS would only help in a subset of them.)\r\n\r\nBut where FIS could apply (many duplicates (with weights)) in the stream and you wish to return the aggregated heaviest weighted items (or the most frequent items).  Now the the compute cost reduces to just `n` and makes it suitable for real-time queries.  This type of query is fairly common and it might deserve a special query type of its own. \r\n\r\nThe idea of a compound FrequentItem<Item, Aggregator> sketch sounds very interesting, but we don't have it now, so it would have to be developed.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470366530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470369737","html_url":"https://github.com/apache/druid/issues/5313#issuecomment-470369737","issue_url":"https://api.github.com/repos/apache/druid/issues/5313","id":470369737,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM2OTczNw==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T03:24:48Z","updated_at":"2019-03-07T03:24:48Z","author_association":"MEMBER","body":"@kirkvicent yes, it was fixed in 0.11.0, you can upgrade you version.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470369737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470369765","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-470369765","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":470369765,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM2OTc2NQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T03:24:58Z","updated_at":"2019-03-07T03:24:58Z","author_association":"CONTRIBUTOR","body":"@peferron \r\nBy the way, we do have an[ HLL Map sketch](https://datasketches.github.io/docs/HLL/HllMap.html),  but it was designed with a different use-case in mind so doesn't quite fit what we need here.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470369765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470386898","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-470386898","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":470386898,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM4Njg5OA==","user":{"login":"peferron","id":7009852,"node_id":"MDQ6VXNlcjcwMDk4NTI=","avatar_url":"https://avatars.githubusercontent.com/u/7009852?v=4","gravatar_id":"","url":"https://api.github.com/users/peferron","html_url":"https://github.com/peferron","followers_url":"https://api.github.com/users/peferron/followers","following_url":"https://api.github.com/users/peferron/following{/other_user}","gists_url":"https://api.github.com/users/peferron/gists{/gist_id}","starred_url":"https://api.github.com/users/peferron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peferron/subscriptions","organizations_url":"https://api.github.com/users/peferron/orgs","repos_url":"https://api.github.com/users/peferron/repos","events_url":"https://api.github.com/users/peferron/events{/privacy}","received_events_url":"https://api.github.com/users/peferron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T05:09:09Z","updated_at":"2019-03-07T05:10:38Z","author_association":"CONTRIBUTOR","body":"@leerho As mentioned earlier, from my understanding of the topN code, there is no n log n sorting of all items in the segment (a node can contain multiple segments, which contain usually up to 5M rows each and can be processed in parallel; per-segment results are merged locally on the node, then the result is passed to the broker for another round of merging with other node results). The process is:\r\n\r\n1. Aggregate values of all n items in the segment, grouping by item key. Time O(n) and space O(m) where m is the number of distinct item keys. Worst case is m = n so this can actually take a lot of space compared to FIS if cardinality is high.\r\n2. Take top k items by aggregated value. This is currently done with a priority queue, so time O(m log k) and space O(k). Time could be improved to O(m) with quickselect but it might not make a difference in practice.\r\n\r\nRegarding the HLL Map sketch, I was indeed referring to the one in the Yahoo Datasketches lib (should have made this clearer, sorry). If a topN includes a HLL aggregation, the current implementation keeps a dedicated HLL sketch for each distinct item key, so you can end up with millions of low-cardinality HLL sketches. It looks like the HLL Map sketch is designed to improve this scenario. But it probably would be quite a lot of work, as a naïve implementation that duplicates the set of item keys would waste most of the space gained. In any case, that's a bit off-topic since it's not related to FIS. I just mentioned it because it sounded neat. :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470386898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398663","html_url":"https://github.com/apache/druid/pull/4426#issuecomment-470398663","issue_url":"https://api.github.com/repos/apache/druid/issues/4426","id":470398663,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODY2Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:25Z","updated_at":"2019-03-07T06:09:25Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398667","html_url":"https://github.com/apache/druid/pull/4425#issuecomment-470398667","issue_url":"https://api.github.com/repos/apache/druid/issues/4425","id":470398667,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODY2Nw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:26Z","updated_at":"2019-03-07T06:09:26Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398674","html_url":"https://github.com/apache/druid/pull/4448#issuecomment-470398674","issue_url":"https://api.github.com/repos/apache/druid/issues/4448","id":470398674,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODY3NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:27Z","updated_at":"2019-03-07T06:09:27Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398678","html_url":"https://github.com/apache/druid/pull/4446#issuecomment-470398678","issue_url":"https://api.github.com/repos/apache/druid/issues/4446","id":470398678,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODY3OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:28Z","updated_at":"2019-03-07T06:09:28Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398682","html_url":"https://github.com/apache/druid/pull/4648#issuecomment-470398682","issue_url":"https://api.github.com/repos/apache/druid/issues/4648","id":470398682,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODY4Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:29Z","updated_at":"2019-03-07T06:09:29Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398685","html_url":"https://github.com/apache/druid/pull/4775#issuecomment-470398685","issue_url":"https://api.github.com/repos/apache/druid/issues/4775","id":470398685,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODY4NQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:30Z","updated_at":"2019-03-07T06:09:30Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398692","html_url":"https://github.com/apache/druid/pull/4806#issuecomment-470398692","issue_url":"https://api.github.com/repos/apache/druid/issues/4806","id":470398692,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODY5Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:31Z","updated_at":"2019-03-07T06:09:31Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398698","html_url":"https://github.com/apache/druid/pull/4840#issuecomment-470398698","issue_url":"https://api.github.com/repos/apache/druid/issues/4840","id":470398698,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODY5OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:32Z","updated_at":"2019-03-07T06:09:32Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398701","html_url":"https://github.com/apache/druid/pull/4919#issuecomment-470398701","issue_url":"https://api.github.com/repos/apache/druid/issues/4919","id":470398701,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODcwMQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:33Z","updated_at":"2019-03-07T06:09:33Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398705","html_url":"https://github.com/apache/druid/pull/4941#issuecomment-470398705","issue_url":"https://api.github.com/repos/apache/druid/issues/4941","id":470398705,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODcwNQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:34Z","updated_at":"2019-03-07T06:09:34Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398714","html_url":"https://github.com/apache/druid/pull/5151#issuecomment-470398714","issue_url":"https://api.github.com/repos/apache/druid/issues/5151","id":470398714,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODcxNA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:35Z","updated_at":"2019-03-07T06:09:35Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398718","html_url":"https://github.com/apache/druid/pull/5339#issuecomment-470398718","issue_url":"https://api.github.com/repos/apache/druid/issues/5339","id":470398718,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODcxOA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:36Z","updated_at":"2019-03-07T06:09:36Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398723","html_url":"https://github.com/apache/druid/pull/5514#issuecomment-470398723","issue_url":"https://api.github.com/repos/apache/druid/issues/5514","id":470398723,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODcyMw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:37Z","updated_at":"2019-03-07T06:09:37Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398727","html_url":"https://github.com/apache/druid/pull/5594#issuecomment-470398727","issue_url":"https://api.github.com/repos/apache/druid/issues/5594","id":470398727,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODcyNw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:38Z","updated_at":"2019-03-07T06:09:38Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398732","html_url":"https://github.com/apache/druid/pull/5841#issuecomment-470398732","issue_url":"https://api.github.com/repos/apache/druid/issues/5841","id":470398732,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODczMg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:39Z","updated_at":"2019-03-07T06:09:39Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398735","html_url":"https://github.com/apache/druid/pull/5734#issuecomment-470398735","issue_url":"https://api.github.com/repos/apache/druid/issues/5734","id":470398735,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODczNQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:40Z","updated_at":"2019-03-07T06:09:40Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398742","html_url":"https://github.com/apache/druid/pull/3778#issuecomment-470398742","issue_url":"https://api.github.com/repos/apache/druid/issues/3778","id":470398742,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc0Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:41Z","updated_at":"2019-03-07T06:09:41Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398748","html_url":"https://github.com/apache/druid/pull/5345#issuecomment-470398748","issue_url":"https://api.github.com/repos/apache/druid/issues/5345","id":470398748,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc0OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:42Z","updated_at":"2019-03-07T06:09:42Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398749","html_url":"https://github.com/apache/druid/pull/5315#issuecomment-470398749","issue_url":"https://api.github.com/repos/apache/druid/issues/5315","id":470398749,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc0OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:43Z","updated_at":"2019-03-07T06:09:43Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398752","html_url":"https://github.com/apache/druid/pull/3530#issuecomment-470398752","issue_url":"https://api.github.com/repos/apache/druid/issues/3530","id":470398752,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc1Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:44Z","updated_at":"2019-03-07T06:09:44Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398759","html_url":"https://github.com/apache/druid/pull/6400#issuecomment-470398759","issue_url":"https://api.github.com/repos/apache/druid/issues/6400","id":470398759,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc1OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:45Z","updated_at":"2019-03-07T06:09:45Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398764","html_url":"https://github.com/apache/druid/pull/5787#issuecomment-470398764","issue_url":"https://api.github.com/repos/apache/druid/issues/5787","id":470398764,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc2NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:46Z","updated_at":"2019-03-07T06:09:46Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398766","html_url":"https://github.com/apache/druid/pull/6036#issuecomment-470398766","issue_url":"https://api.github.com/repos/apache/druid/issues/6036","id":470398766,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc2Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:47Z","updated_at":"2019-03-07T06:09:47Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398769","html_url":"https://github.com/apache/druid/pull/6484#issuecomment-470398769","issue_url":"https://api.github.com/repos/apache/druid/issues/6484","id":470398769,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc2OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:48Z","updated_at":"2019-03-07T06:09:48Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398771","html_url":"https://github.com/apache/druid/pull/6535#issuecomment-470398771","issue_url":"https://api.github.com/repos/apache/druid/issues/6535","id":470398771,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc3MQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:49Z","updated_at":"2019-03-07T06:09:49Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398777","html_url":"https://github.com/apache/druid/pull/6402#issuecomment-470398777","issue_url":"https://api.github.com/repos/apache/druid/issues/6402","id":470398777,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc3Nw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:50Z","updated_at":"2019-03-07T06:09:50Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398782","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-470398782","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":470398782,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc4Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:51Z","updated_at":"2019-03-07T06:09:51Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398786","html_url":"https://github.com/apache/druid/pull/5674#issuecomment-470398786","issue_url":"https://api.github.com/repos/apache/druid/issues/5674","id":470398786,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc4Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:52Z","updated_at":"2019-03-07T06:09:52Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398790","html_url":"https://github.com/apache/druid/pull/6719#issuecomment-470398790","issue_url":"https://api.github.com/repos/apache/druid/issues/6719","id":470398790,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM5ODc5MA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T06:09:53Z","updated_at":"2019-03-07T06:09:53Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/470398790/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]